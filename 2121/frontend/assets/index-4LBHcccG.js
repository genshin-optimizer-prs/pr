import{bb as _,bc as I,bd as z,be as $,d as h,bf as H,bg as W,bh as Ve,j as R,bi as qe,bj as E,T as k,bk as M,bl as j,bm as Ge,bn as Z,bo as Je,r as Qe,i as Xe,b as le,bp as ce,u as de,bq as ye,br as F,ar as pe,p as u,s as B,q as e,aX as K,aC as A,ai as P,bs as V,b4 as ue,a3 as N,W as v,I as L,bt as ve,bu as xe,a0 as oe,b0 as q,bv as ie,m as Ze,n as Ye,bw as he,bx as De,ak as et,by as tt,C as at,bz as nt,bA as _e,a1 as Ie,a2 as ze,V as C,w as G,a4 as He,bB as rt,aL as We,Z as Ee,bC as je,f as st,bD as ot,E as it,x as ne,h as Y,bE as lt,k as ge,bF as Be,bG as ct,bH as Oe,bI as dt,bJ as pt,bK as ut,bL as ht,bM as Q,bN as gt,bO as bt,bP as mt,bQ as ft,bR as yt,bS as vt,bT as Ce,bU as xt,bV as Ct,bW as Tt,bX as wt,bY as $t,L as St,bZ as Rt,F as kt,A as Mt,P as Lt,D as At,b_ as Pt,b$ as X,c0 as Nt}from"./index-0ULDEn3i.js";function Dt(t){return I("MuiInputAdornment",t)}const _t=_("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Te=_t;var we;const It=["children","className","component","disablePointerEvents","disableTypography","position","variant"],zt=(t,a)=>{const{ownerState:r}=t;return[a.root,a[`position${M(r.position)}`],r.disablePointerEvents===!0&&a.disablePointerEvents,a[r.variant]]},Ht=t=>{const{classes:a,disablePointerEvents:r,hiddenLabel:n,position:i,size:s,variant:d}=t,l={root:["root",r&&"disablePointerEvents",i&&`position${M(i)}`,d,n&&"hiddenLabel",s&&`size${M(s)}`]};return j(l,Dt,a)},Wt=z("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:zt})(({theme:t,ownerState:a})=>$({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},a.variant==="filled"&&{[`&.${Te.positionStart}&:not(.${Te.hiddenLabel})`]:{marginTop:16}},a.position==="start"&&{marginRight:8},a.position==="end"&&{marginLeft:8},a.disablePointerEvents===!0&&{pointerEvents:"none"})),Et=h.forwardRef(function(a,r){const n=H({props:a,name:"MuiInputAdornment"}),{children:i,className:s,component:d="div",disablePointerEvents:l=!1,disableTypography:g=!1,position:f,variant:m}=n,y=W(n,It),x=Ve()||{};let p=m;m&&x.variant,x&&!p&&(p=x.variant);const c=$({},n,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:l,position:f,variant:p}),o=Ht(c);return R.jsx(qe.Provider,{value:null,children:R.jsx(Wt,$({as:d,ownerState:c,className:E(o.root,s),ref:r},y,{children:typeof i=="string"&&!g?R.jsx(k,{color:"text.secondary",children:i}):R.jsxs(h.Fragment,{children:[f==="start"?we||(we=R.jsx("span",{className:"notranslate",children:"â€‹"})):null,i]})}))})}),be=Et,jt=h.createContext(),Ue=jt;function Bt(t){return I("MuiTable",t)}_("MuiTable",["root","stickyHeader"]);const Ot=["className","component","padding","size","stickyHeader"],Ut=t=>{const{classes:a,stickyHeader:r}=t;return j({root:["root",r&&"stickyHeader"]},Bt,a)},Ft=z("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,r.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>$({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":$({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})),$e="table",Kt=h.forwardRef(function(a,r){const n=H({props:a,name:"MuiTable"}),{className:i,component:s=$e,padding:d="normal",size:l="medium",stickyHeader:g=!1}=n,f=W(n,Ot),m=$({},n,{component:s,padding:d,size:l,stickyHeader:g}),y=Ut(m),x=h.useMemo(()=>({padding:d,size:l,stickyHeader:g}),[d,l,g]);return R.jsx(Ue.Provider,{value:x,children:R.jsx(Ft,$({as:s,role:s===$e?null:"table",ref:r,className:E(y.root,i),ownerState:m},f))})}),ee=Kt,Vt=h.createContext(),re=Vt;function qt(t){return I("MuiTableBody",t)}_("MuiTableBody",["root"]);const Gt=["className","component"],Jt=t=>{const{classes:a}=t;return j({root:["root"]},qt,a)},Qt=z("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-row-group"}),Xt={variant:"body"},Se="tbody",Zt=h.forwardRef(function(a,r){const n=H({props:a,name:"MuiTableBody"}),{className:i,component:s=Se}=n,d=W(n,Gt),l=$({},n,{component:s}),g=Jt(l);return R.jsx(re.Provider,{value:Xt,children:R.jsx(Qt,$({className:E(g.root,i),as:s,ref:r,role:s===Se?null:"rowgroup",ownerState:l},d))})}),te=Zt;function Yt(t){return I("MuiTableCell",t)}const ea=_("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ta=ea,aa=["align","className","component","padding","scope","size","sortDirection","variant"],na=t=>{const{classes:a,variant:r,align:n,padding:i,size:s,stickyHeader:d}=t,l={root:["root",r,d&&"stickyHeader",n!=="inherit"&&`align${M(n)}`,i!=="normal"&&`padding${M(i)}`,`size${M(s)}`]};return j(l,Yt,a)},ra=z("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,a[r.variant],a[`size${M(r.size)}`],r.padding!=="normal"&&a[`padding${M(r.padding)}`],r.align!=="inherit"&&a[`align${M(r.align)}`],r.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>$({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Ge(Z(t.palette.divider,1),.88):Je(Z(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},a.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},a.variant==="body"&&{color:(t.vars||t).palette.text.primary},a.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},a.size==="small"&&{padding:"6px 16px",[`&.${ta.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},a.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},a.padding==="none"&&{padding:0},a.align==="left"&&{textAlign:"left"},a.align==="center"&&{textAlign:"center"},a.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},a.align==="justify"&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),sa=h.forwardRef(function(a,r){const n=H({props:a,name:"MuiTableCell"}),{align:i="inherit",className:s,component:d,padding:l,scope:g,size:f,sortDirection:m,variant:y}=n,x=W(n,aa),p=h.useContext(Ue),c=h.useContext(re),o=c&&c.variant==="head";let T;d?T=d:T=o?"th":"td";let w=g;T==="td"?w=void 0:!w&&o&&(w="col");const D=y||c&&c.variant,J=$({},n,{align:i,component:T,padding:l||(p&&p.padding?p.padding:"normal"),size:f||(p&&p.size?p.size:"medium"),sortDirection:m,stickyHeader:D==="head"&&p&&p.stickyHeader,variant:D}),Ke=na(J);let fe=null;return m&&(fe=m==="asc"?"ascending":"descending"),R.jsx(ra,$({as:T,ref:r,className:E(Ke.root,s),"aria-sort":fe,scope:w,ownerState:J},x))}),b=sa;function oa(t){return I("MuiTableHead",t)}_("MuiTableHead",["root"]);const ia=["className","component"],la=t=>{const{classes:a}=t;return j({root:["root"]},oa,a)},ca=z("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-header-group"}),da={variant:"head"},Re="thead",pa=h.forwardRef(function(a,r){const n=H({props:a,name:"MuiTableHead"}),{className:i,component:s=Re}=n,d=W(n,ia),l=$({},n,{component:s}),g=la(l);return R.jsx(re.Provider,{value:da,children:R.jsx(ca,$({as:s,className:E(g.root,i),ref:r,role:s===Re?null:"rowgroup",ownerState:l},d))})}),ae=pa;function ua(t){return I("MuiTableRow",t)}const ha=_("MuiTableRow",["root","selected","hover","head","footer"]),ke=ha,ga=["className","component","hover","selected"],ba=t=>{const{classes:a,selected:r,hover:n,head:i,footer:s}=t;return j({root:["root",r&&"selected",n&&"hover",i&&"head",s&&"footer"]},ua,a)},ma=z("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,r.head&&a.head,r.footer&&a.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ke.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ke.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Z(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Z(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),Me="tr",fa=h.forwardRef(function(a,r){const n=H({props:a,name:"MuiTableRow"}),{className:i,component:s=Me,hover:d=!1,selected:l=!1}=n,g=W(n,ga),f=h.useContext(re),m=$({},n,{component:s,hover:d,selected:l,head:f&&f.variant==="head",footer:f&&f.variant==="footer"}),y=ba(m);return R.jsx(ma,$({as:s,ref:r,className:E(y.root,i),role:s===Me?null:"row",ownerState:m},g))}),S=fa;var me={},ya=Xe;Object.defineProperty(me,"__esModule",{value:!0});var se=me.default=void 0,va=ya(Qe()),xa=R,Ca=(0,va.default)((0,xa.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");se=me.default=Ca;const Le=[5,4,3];function Ta(){const t=le(),a=ce(t.displayArchive),[r,n]=h.useState(""),i=h.useDeferredValue(r),s=q([...Le]),{t:d}=de(ye.map(o=>`artifact_${o}_gen`)),{artifact:l}=a,g=h.useCallback(o=>t.displayArchive.set({artifact:{...l,...o}}),[t,l]),f=h.useMemo(()=>ye.filter(o=>{const{rarities:T}=ie(o);if(!l.rarity.includes(Math.max(...T)))return!1;const w=F.t(`artifactNames_gen:${o}`).toLocaleLowerCase(),D=d("setEffects.4",{ns:`artifact_${o}_gen`}).toLocaleLowerCase(),J=d("setEffects.2",{ns:`artifact_${o}_gen`}).toLocaleLowerCase();return!(i&&!w.includes(i.toLocaleLowerCase())&&!J.includes(i.toLocaleLowerCase())&&!D.includes(i.toLocaleLowerCase()))},[l]),[l,i,d]),m=h.useMemo(()=>f.filter(o=>!o.startsWith("Prayers")),[f]),y=h.useMemo(()=>f.filter(o=>o.startsWith("Prayers")),[f]),{numShow:x,setTriggerElement:p}=pe(10,m.length),c=h.useMemo(()=>m.slice(0,x),[m,x]);return u(v,{children:[u(B,{sx:{display:"flex",gap:2},children:[e(V,{value:l.rarity,children:Le.map(o=>e(K,{value:o,onClick:()=>g({rarity:s(l.rarity,o)}),children:e(A,{color:`rarity${o}`,children:e(P,{sx:{verticalAlign:"text-top"}})})},o))}),e(ue,{fullWidth:!0,variant:"outlined",value:r,onChange:o=>n(o.target.value),InputProps:{startAdornment:e(be,{position:"start",children:e(se,{})})}})]}),u(ee,{children:[e(ae,{children:u(S,{children:[e(b,{children:"Set"}),e(b,{children:"Rarity"}),e(b,{children:"2-piece Bonus"}),e(b,{children:"4-piece Bonus"})]})}),u(te,{children:[c.map(o=>{const{rarities:T}=ie(o);return e(h.Suspense,{fallback:e(S,{children:e(b,{colSpan:4,children:e(N,{sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})}),children:u(S,{children:[e(b,{children:u(v,{sx:{display:"flex",alignItems:"center"},children:[e(L,{size:4,src:ve(o)}),e(xe,{setKey:o})]})}),e(b,{children:e(v,{display:"flex",children:T.sort().reverse().map(w=>e(A,{color:`rarity${w}`,children:e(P,{})},w))})}),e(b,{children:e(oe,{ns:`artifact_${o}_gen`,key18:"setEffects.2"})}),e(b,{children:e(oe,{ns:`artifact_${o}_gen`,key18:"setEffects.4"})})]},o)})}),m.length!==c.length&&e(S,{children:e(b,{colSpan:4,children:e(N,{ref:o=>{o&&p(o)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})})]})]}),y.length!==0&&u(ee,{sx:{mt:2},children:[e(ae,{children:u(S,{children:[e(b,{children:"Set"}),e(b,{children:"Rarity"}),e(b,{children:"1-piece Bonus"})]})}),e(te,{children:y.map(o=>{const{rarities:T}=ie(o);return u(S,{children:[e(b,{children:u(v,{sx:{display:"flex",alignItems:"center"},children:[e(L,{size:4,src:ve(o)}),e(xe,{setKey:o})]})}),e(b,{children:e(v,{display:"flex",children:T.sort().reverse().map(w=>e(A,{color:`rarity${w}`,children:e(P,{})},w))})}),e(b,{width:"90%",children:e(oe,{ns:`artifact_${o}_gen`,key18:"setEffects.1"})})]},o)})})]})]})}const O={xs:12,sm:6,md:4};function wa({show:t,character:a,onClose:r}){const{t:n}=de("sheet_gen"),i=Ze(),s=Ye(i.breakpoints.up("lg")),{key:d,constellation:l,ascension:g}=a,{gender:f}=he(),m=De(d,f),y=[["auto",n("talents.auto")],["skill",n("talents.skill")],["burst",n("talents.burst")]],x=[["passive1",n("unlockPassive1"),1],["passive2",n("unlockPassive2"),4],["passive3",n("unlockPassive3"),0]],p=h.useMemo(()=>et(1,tt).map(c=>e(U,{characterKey:d,talentKey:`constellation${c}`,subtitle:n("constellationLvl",{level:c})})),[n,d]);return e(He,{open:t,onClose:r,containerProps:{maxWidth:"xl"},children:u(G,{children:[e(at,{title:u(v,{children:[e(nt,{characterKey:d,sideMargin:!0}),e(v,{sx:{pl:1},component:"span",children:e(_e,{characterKey:d,gender:f})})]}),action:e(Ie,{onClick:r,children:e(ze,{})})}),e(B,{children:u(C,{container:!0,spacing:1,children:[s&&e(C,{item:!0,xs:12,md:12,lg:3,sx:{display:"flex",flexDirection:"column",gap:1},children:p.map((c,o)=>e(v,{sx:{opacity:l>=o+1?1:.5},children:c},o))}),u(C,{item:!0,xs:12,md:12,lg:9,container:!0,spacing:1,children:[y.map(([c,o])=>e(C,{item:!0,...O,children:e(U,{characterKey:d,talentKey:c,subtitle:o})},c)),!!m.getTalentOfKey("sprint")&&e(C,{item:!0,...O,children:e(U,{characterKey:d,talentKey:"sprint",subtitle:n("talents.altSprint")})}),!!m.getTalentOfKey("passive")&&e(C,{item:!0,...O,children:e(U,{characterKey:d,talentKey:"passive",subtitle:"Passive"})}),x.map(([c,o,T])=>{const w=g>=T;return m.getTalentOfKey(c)?e(C,{item:!0,style:{opacity:w?1:.5},...O,children:e(U,{characterKey:d,talentKey:c,subtitle:o})},c):null})]}),!s&&e(C,{item:!0,xs:12,md:12,lg:3,container:!0,spacing:1,children:p.map((c,o)=>e(C,{item:!0,sx:{opacity:l>=o+1?1:.5},...O,children:c},o))})]})})]})})}function U({characterKey:t,talentKey:a,subtitle:r}){const{gender:n}=he(),s=De(t,n).getTalentOfKey(a);return e(G,{bgt:"light",sx:{height:"100%"},children:u(B,{children:[u(C,{container:!0,sx:{flexWrap:"nowrap"},children:[e(C,{item:!0,children:e(v,{component:"img",src:s==null?void 0:s.img,sx:{width:60,height:"auto"}})}),u(C,{item:!0,flexGrow:1,sx:{pl:1},children:[e(k,{variant:"h6",children:s==null?void 0:s.name}),e(k,{variant:"subtitle1",children:r})]})]}),s!=null&&s.sections?e(rt,{sections:s.sections,hideDesc:!0}):null]})})}const Ae=[5,4];function $a(){const{silly:t}=h.useContext(We),a=le(),r=ce(a.displayArchive),n=q([...Ae]),i=q([...Y]),[s,d]=h.useState(""),l=h.useDeferredValue(s),{character:g}=r,f=h.useCallback(c=>a.displayArchive.set({character:{...g,...c}}),[a,g]),m=h.useMemo(()=>lt.filter(c=>{const{rarity:o,weaponType:T}=je(c);if(!g.rarity.includes(o)||!g.weaponType.includes(T))return!1;const w=F.t(`charNames_gen:${c}`),D=t&&F.exists(`sillyWisher_charNames:${c}`)?F.t(`sillyWisher_charNames:${c}`):"";return!(l&&!w.toLocaleLowerCase().includes(l.toLocaleLowerCase())&&!D.toLocaleLowerCase().includes(l.toLocaleLowerCase()))},[g]),[g,l,t]),{numShow:y,setTriggerElement:x}=pe(10,m.length),p=h.useMemo(()=>m.slice(0,y),[m,y]);return u(v,{children:[u(B,{sx:{display:"flex",gap:2},children:[e(V,{value:g.rarity,children:Ae.map(c=>e(K,{value:c,onClick:()=>f({rarity:n(g.rarity,c)}),children:e(A,{color:`rarity${c}`,children:e(P,{sx:{verticalAlign:"text-top"}})})},c))}),e(V,{value:g.weaponType,children:Y.map(c=>{var o;return e(K,{value:c,onClick:()=>f({weaponType:i(g.weaponType,c)}),children:e(L,{src:(o=ne.weaponTypes)==null?void 0:o[c],size:2})},c)})}),e(ue,{fullWidth:!0,variant:"outlined",value:s,onChange:c=>d(c.target.value),InputProps:{startAdornment:e(be,{position:"start",children:e(se,{})})}})]}),u(ee,{children:[e(ae,{children:u(S,{children:[e(b,{children:"Name"}),e(b,{children:"Rarity"}),e(b,{children:"Element"}),e(b,{children:"Type"})]})}),u(te,{children:[p.map(c=>e(Sa,{characterKey:c},c)),p.length!==m.length&&e(S,{children:e(b,{colSpan:5,children:e(N,{ref:c=>{c&&x(c)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})})]})]})]})}const Sa=h.memo(function({characterKey:a}){var y;const{silly:r}=h.useContext(We),{gender:n}=he(),[i,s,d]=Ee(),{rarity:l,weaponType:g}=je(a),f=st(a),m=h.useMemo(()=>({key:a,level:90,ascension:6,constellation:6,talent:{auto:10,skill:10,burst:10}}),[a]);return u(h.Suspense,{fallback:e(S,{children:e(b,{colSpan:4,children:e(N,{sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})}),children:[e(wa,{show:i,character:m,onClose:d}),u(S,{hover:!0,onClick:s,sx:{cursor:"pointer"},children:[e(b,{children:u(v,{sx:{display:"flex",alignItems:"center"},children:[e(L,{size:4,src:ot(a,n,r)}),e(_e,{characterKey:a,gender:n})]})}),e(b,{children:e(v,{display:"flex",children:e(A,{color:`rarity${l}`,children:e(P,{})})})}),e(b,{children:e(it,{ele:f,iconProps:{color:f}})}),e(b,{children:e(L,{src:(y=ne.weaponTypes)==null?void 0:y[g],size:3,sideMargin:!0})})]})]})});function Ra({show:t,weaponUIData:a,weapon:r,onClose:n}){const{key:i,level:s=0,refinement:d=1,ascension:l=0}=r,g=i&&ge(i),f=i?Be(i,l>=2):"";return e(He,{open:t,onClose:n,containerProps:{maxWidth:"md"},children:e(G,{children:e(B,{children:g&&a&&u(C,{container:!0,spacing:1.5,children:[e(C,{item:!0,xs:12,sm:3,children:u(C,{container:!0,spacing:1.5,children:[e(C,{item:!0,xs:6,sm:12,children:e(v,{sx:{position:"relative",display:"flex"},children:e(v,{component:"img",src:f,className:`grad-${g.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})})}),e(C,{item:!0,xs:6,sm:12,children:e(k,{children:e("small",{children:i&&e(ct,{weaponKey:i})})})})]})}),u(C,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[u(v,{display:"flex",gap:1,flexWrap:"wrap",children:[e(k,{variant:"h5",children:e(Oe,{weaponKey:i})}),n&&e(Ie,{onClick:n,sx:{marginLeft:"auto"},children:e(ze,{})})]}),u(k,{children:["Lv. ",dt(s,l)," R",d]}),e(pt,{stars:g.rarity}),e(k,{variant:"subtitle1",children:e("strong",{children:i&&e(ut,{weaponKey:i})})}),e(k,{gutterBottom:!0,children:i&&e(ht,{weaponKey:i,refineIndex:(a.get(Q.weapon.refinement).value??1)-1})}),e(v,{display:"flex",flexDirection:"column",gap:1,children:e(G,{bgt:"light",children:e(gt,{bgt:"light",children:[Q.weapon.main,Q.weapon.sub,Q.weapon.sub2].map(m=>{const y=a.get(m);return y.isEmpty||!y.value?null:e(bt,{node:y,component:mt},JSON.stringify(y.info))})})})})]})]})})})})}const Pe=[5,4,3,2,1];function ka(){const t=le(),a=ce(t.displayArchive),r=q([...Pe]),n=q([...Y]),[i,s]=h.useState(""),d=h.useDeferredValue(i),{weapon:l}=a,g=h.useCallback(p=>t.displayArchive.set({weapon:{...l,...p}}),[t,l]),f=h.useMemo(()=>Tt.filter(p=>{const{rarity:c,weaponType:o}=ge(p);if(!l.rarity.includes(c)||!l.weaponType.includes(o))return!1;const T=F.t(`weaponNames_gen:${p}`);return!(d&&!T.toLocaleLowerCase().includes(d.toLocaleLowerCase()))},[l]),[l,d]),{numShow:m,setTriggerElement:y}=pe(10,f.length),x=h.useMemo(()=>f.slice(0,m),[f,m]);return u(v,{children:[u(B,{sx:{display:"flex",gap:2},children:[e(V,{value:l.rarity,children:Pe.map(p=>e(K,{value:p,onClick:()=>g({rarity:r(l.rarity,p)}),children:e(A,{color:`rarity${p}`,children:e(P,{sx:{verticalAlign:"text-top"}})})},p))}),e(V,{value:l.weaponType,children:Y.map(p=>{var c;return e(K,{value:p,onClick:()=>g({weaponType:n(l.weaponType,p)}),children:e(L,{src:(c=ne.weaponTypes)==null?void 0:c[p],size:2})},p)})}),e(ue,{fullWidth:!0,variant:"outlined",value:i,onChange:p=>s(p.target.value),InputProps:{startAdornment:e(be,{position:"start",children:e(se,{})})}})]}),u(ee,{children:[e(ae,{children:u(S,{children:[e(b,{children:"Name"}),e(b,{children:"Type"}),e(b,{children:"Rarity"}),e(b,{children:"Main"}),e(b,{children:"Secondary"})]})}),u(te,{children:[x.map(p=>e(Ma,{weaponKey:p},p)),f.length!==x.length&&e(S,{children:e(b,{colSpan:5,children:e(N,{ref:p=>{p&&y(p)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})})]})]})]})}const Ma=h.memo(function({weaponKey:a}){var y;const[r,n,i]=Ee(),{rarity:s,weaponType:d}=ge(a),l=h.useMemo(()=>({id:"invalid",ascension:s>2?6:4,key:a,level:s>2?90:70,refinement:1,location:"",lock:!1}),[s,a]),g=h.useMemo(()=>ft([yt(a).data,vt(l)]),[a,l]),f=g.get(Ce.weapon.main),m=g.get(Ce.weapon.sub);return u(h.Suspense,{fallback:e(S,{children:e(b,{colSpan:5,children:e(N,{sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})}),children:[e(Ra,{show:r,weaponUIData:g,weapon:l,onClose:i}),u(S,{hover:!0,onClick:n,sx:{cursor:"pointer"},children:[e(b,{children:u(v,{sx:{display:"flex",alignItems:"center"},children:[e(L,{size:4,src:Be(a,!0)}),e(Oe,{weaponKey:a})]})}),e(b,{children:e(L,{src:(y=ne.weaponTypes)==null?void 0:y[d],size:3,sideMargin:!0})}),e(b,{children:e(v,{display:"flex",children:e(A,{color:`rarity${s}`,children:e(P,{})})})}),e(b,{children:e(Ne,{node:f})}),e(b,{children:e(Ne,{node:m})})]})]})});function Ne({node:t}){const{name:a,icon:r}=xt(t.info);return Number.isNaN(t.value)?null:u(v,{sx:{display:"flex"},children:[u(k,{flexGrow:1,children:[r," ",a]}),e(k,{children:Ct(t).valueString})]})}const La={i18Key:"tabs.artifacts",icon:e(kt,{}),value:"artifacts",to:"/artifacts"},Aa={i18Key:"tabs.weapons",icon:e(Mt,{}),value:"weapons",to:"/weapons"},Pa={i18Key:"tabs.characters",icon:e(Lt,{}),value:"characters",to:"/characters"},Fe=[La,Aa,Pa],Na=Fe.map(({value:t})=>t);function _a(){const{t}=de("ui"),{params:{tab:a}}=wt({path:"/archive/:tab",end:!1})??{params:{}},r=h.useMemo(()=>Na.find(i=>i===a)??"artifacts",[a]);return u(G,{children:[e(Rt,{variant:"fullWidth",value:r,sx:{"& .MuiTab-root:hover":{transition:"background-color 0.25s ease",backgroundColor:"rgba(255,255,255,0.1)"},"& .Mui-selected":{color:"white !important"},"& .MuiTabs-indicator":{height:"4px"}},children:Fe.map(({i18Key:n,icon:i,value:s,to:d})=>e($t,{icon:i,iconPosition:"start",value:s,label:t(n),component:St,to:`/archive${d}`},s))}),e(At,{}),e(h.Suspense,{fallback:e(N,{variant:"rectangular",width:"100%",height:1e3}),children:u(Pt,{children:[e(X,{path:"artifacts",element:e(Ta,{})}),e(X,{path:"weapons",element:e(ka,{})}),e(X,{path:"characters",element:e($a,{})}),e(X,{path:"*",element:e(Nt,{to:"artifacts"})})]})})]})}export{_a as default};
