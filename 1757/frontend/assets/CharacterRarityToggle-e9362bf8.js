import{b as k,at as ta,as as aa,au as Ie,aX as ae,av as le,e as i,aw as na,ax as ra,cf as Et,ay as ot,j as V,az as oa,p as e,cg as qa,ch as Ga,ci as Va,bE as Ka,F as Ya,r as Re,i as Le,n as d,U as ne,B as A,cj as Xa,aT as Ja,cc as Za,c as qe,ap as Be,K as f,T as v,d as ue,aB as Ge,s as gt,C as W,am as ve,J as $,bN as sa,a9 as Ve,q as me,ck as Qa,bO as st,br as ie,l as Ct,bH as en,aZ as Pt,cl as tn,t as de,bl as an,bk as nn,a2 as rn,cm as on,aR as sn,cn as Ft,co as ln,cp as Ze,cq as Qe,cr as et,bz as cn,a3 as Ke,D as fe,u as P,bt as Ht,bu as qt,bs as Gt,X as Ue,Q as he,o as it,k as xe,bj as ye,aC as _e,v as pe,aA as Z,V as Oe,bv as dn,cs as ia,ct as un,cu as hn,cv as la,cw as pn,cx as mn,cy as fn,ba as gn,cz as Cn,aN as xt,_ as ca,af as da,ae as xn,bJ as bn,cA as yn,aE as ua,W as lt,bh as vn,bf as wn,bm as _n,cb as Rn,c6 as Ln,bg as Sn,cB as ct,ar as dt,cC as $n,m as ut,f as bt,cD as kn,cE as tt,h as Tn,b_ as Un,aG as ha}from"./index-9f97c81a.js";import{t as yt,s as vt,v as wt,i as pa,j as Mn,k as Dn,C as O,H as jn,w as An,x as Bn,c as Ee,u as In,g as On,y as zn,T as Wn,d as Vt,z as Nn}from"./TeamCard-5b811111.js";import{D as H}from"./DataContext-139ca919.js";import{p as ce,g as re,u as j,E as _t,S as Rt,d as En,B as ma,x as fa,y as Pn,v as Fn,w as ga,n as Hn,q as qn,r as Kt,z as Gn,A as Vn,C as Kn,D as Yn,a as Yt,b as Xt,F as Xn}from"./index-813f416d.js";import{B as ze,d as ke}from"./BootstrapTooltip-6dffa956.js";import{C as Ye}from"./CloseButton-0c75fe1a.js";import{I as Me,i as De,C as Xe,B as Jn}from"./ColoredText-e7c80e16.js";import{a as Ca,C as Zn,L as we,b as Qn,T as ge,A as er,W as xa,c as tr}from"./WeaponEditor-55229ff1.js";import{S as X}from"./SqBadge-c39eae66.js";import{b as ar,c as ba,e as Lt,C as nr,u as ya,a as va,S as wa,f as St,s as _a,d as Ra,T as La,g as rr}from"./StarDisplay-0a012b06.js";import{C as We}from"./CardActionArea-2d232caa.js";import{F as $t,C as kt,A as Sa}from"./ConditionalWrapper-3c8f8723.js";import{u as ht,f as or,A as Pe,d as sr,i as ir,b as lr}from"./ArtifactSort-99f9d0cf.js";import{b as Fe,c as cr,d as dr,w as ur,W as hr}from"./WeaponCard-696f79d3.js";import{a as $a,d as ka}from"./CheckBoxOutlineBlank-6da738ac.js";import{A as pr}from"./Artifact-b7751800.js";import{g as Ta,a as mr,b as fr}from"./index-68c86a45.js";import{g as Tt,W as Ua}from"./index-bd9219f0.js";import{u as gr}from"./useWeapon-fd62cd15.js";import{S as Cr}from"./SlotIcon-6f434e14.js";import{C as Ma}from"./ChevronRight-717e37d6.js";import{T as Te,S as Je,h as Ut,a as xr}from"./SolidToggleButtonGroup-d376e439.js";import br from"./WeaponSelectionModal-584dc97d.js";import{C as yr,a as vr,M as wr}from"./DropdownButton-6d807b50.js";import{C as _r}from"./CardHeader-43ee41ef.js";import{c as Jt}from"./totalUtils-41e91122.js";function Ne(t){const a=k();return ar(a.optConfigs,t)}function Rr(t){const{badgeContent:a,invisible:n=!1,max:r=99,showZero:s=!1}=t,o=ba({badgeContent:a,max:r});let l=n;n===!1&&a===0&&!s&&(l=!0);const{badgeContent:c,max:g=r}=l?o:t,u=c&&Number(c)>g?`${g}+`:c;return{badgeContent:c,invisible:l,max:g,displayValue:u}}function Lr(t){return aa("MuiBadge",t)}const Sr=ta("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Ce=Sr,$r=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],at=10,nt=4,kr=t=>{const{color:a,anchorOrigin:n,invisible:r,overlap:s,variant:o,classes:l={}}=t,c={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${ae(n.vertical)}${ae(n.horizontal)}`,`anchorOrigin${ae(n.vertical)}${ae(n.horizontal)}${ae(s)}`,`overlap${ae(s)}`,a!=="default"&&`color${ae(a)}`]};return oa(c,Lr,l)},Tr=Ie("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,a)=>a.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ur=Ie("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.badge,a[n.variant],a[`anchorOrigin${ae(n.anchorOrigin.vertical)}${ae(n.anchorOrigin.horizontal)}${ae(n.overlap)}`],n.color!=="default"&&a[`color${ae(n.color)}`],n.invisible&&a.invisible]}})(({theme:t,ownerState:a})=>le({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:at*2,lineHeight:1,padding:"0 6px",height:at*2,borderRadius:at,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},a.color!=="default"&&{backgroundColor:(t.vars||t).palette[a.color].main,color:(t.vars||t).palette[a.color].contrastText},a.variant==="dot"&&{borderRadius:nt,height:nt*2,minWidth:nt*2,padding:0},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ce.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),Mr=i.forwardRef(function(a,n){var r,s,o,l,c,g;const u=na({props:a,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:p,component:C,components:m={},componentsProps:x={},children:b,overlap:_="rectangular",color:T="default",invisible:S=!1,max:M=99,badgeContent:z,slots:B,slotProps:I,showZero:q=!1,variant:w="standard"}=u,y=ra(u,$r),{badgeContent:D,invisible:R,max:N,displayValue:oe}=Rr({max:M,invisible:S,badgeContent:z,showZero:q}),Q=ba({anchorOrigin:h,color:T,overlap:_,variant:w,badgeContent:z}),ee=R||D==null&&w!=="dot",{color:te=T,overlap:K=_,anchorOrigin:G=h,variant:J=w}=ee?Q:u,se=J!=="dot"?oe:void 0,L=le({},u,{badgeContent:D,invisible:ee,max:N,displayValue:se,showZero:q,anchorOrigin:G,color:te,overlap:K,variant:J}),U=kr(L),Y=(r=(s=B==null?void 0:B.root)!=null?s:m.Root)!=null?r:Tr,F=(o=(l=B==null?void 0:B.badge)!=null?l:m.Badge)!=null?o:Ur,E=(c=I==null?void 0:I.root)!=null?c:x.root,Se=(g=I==null?void 0:I.badge)!=null?g:x.badge,Ae=Et({elementType:Y,externalSlotProps:E,externalForwardedProps:y,additionalProps:{ref:n,as:C},ownerState:L,className:ot(E==null?void 0:E.className,U.root,p)}),Ha=Et({elementType:F,externalSlotProps:Se,ownerState:L,className:ot(U.badge,Se==null?void 0:Se.className)});return V.jsxs(Y,le({},Ae,{children:[b,V.jsx(F,le({},Ha,{children:se}))]}))}),Dr=Mr;function jr({slotKey:t,iconProps:a={}}){switch(t){case"flower":return e(Ya,{...a});case"plume":return e(Ka,{...a});case"sands":return e(Va,{...a});case"goblet":return e(Ga,{...a});case"circlet":return e(qa,{...a})}}var Mt={},Ar=Le;Object.defineProperty(Mt,"__esModule",{value:!0});var pt=Mt.default=void 0,Br=Ar(Re()),Ir=V,Or=(0,Br.default)((0,Ir.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");pt=Mt.default=Or;function zr({title:t,children:a,id:n="dropdownbtn",...r}){const[s,o]=i.useState(null),l=!!s,c=i.useCallback(u=>o(u.currentTarget),[o]),g=i.useCallback(()=>o(null),[o]);return d(i.Suspense,{fallback:e(A,{endIcon:e(pt,{}),...r,children:e(ne,{width:50})}),children:[e(A,{...r,id:n,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:c,endIcon:e(pt,{}),children:t}),e(Za,{id:"basic-menu",anchorEl:s,open:l,placement:"bottom-start",transition:!0,onClick:g,sx:{zIndex:1500},children:({TransitionProps:u,placement:h})=>e(Xa,{...u,style:{transformOrigin:h==="bottom-start"?"left top":"left bottom"},children:e(Ja,{sx:{maxHeight:"50vh",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12))",boxShadow:"rgb(0 0 0 / 20%) 0px 5px 5px -3px, rgb(0 0 0 / 14%) 0px 8px 10px 1px, rgb(0 0 0 / 12%) 0px 3px 14px 2px",paddingTop:"1px",paddingBottom:"1px",overflow:"auto"},children:e(yr,{onClickAway:g,children:d("div",{children:[" ",e(i.Suspense,{fallback:e(ne,{width:"100%",height:"1000"}),children:e(vr,{"aria-labelledby":n,children:a})})]})})})})})]})}const Wr=qe(V.jsx("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom"),Dt=qe(V.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),Nr=qe(V.jsx("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4zm-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5z"}),"Female"),Er=qe(V.jsx("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9z"}),"Male"),Pr=""+new URL("splash_aether-7358d244.png",import.meta.url).href,Fr=""+new URL("splash_albedo-37c05d76.png",import.meta.url).href,Hr=""+new URL("splash_alhaitham-1e0549dd.png",import.meta.url).href,qr=""+new URL("splash_amber-51176566.png",import.meta.url).href,Gr=""+new URL("splash_ayaka-6fa3baa9.png",import.meta.url).href,Vr=""+new URL("splash_ayato-80dc87d2.png",import.meta.url).href,Kr=""+new URL("splash_baizhu-e00c9e38.png",import.meta.url).href,Yr=""+new URL("splash_barbara-c0390dce.png",import.meta.url).href,Xr=""+new URL("splash_beidou-bc8a24cb.png",import.meta.url).href,Jr=""+new URL("splash_bennett-50399e82.png",import.meta.url).href,Zr=""+new URL("splash_candace-d08ffe76.png",import.meta.url).href,Qr=""+new URL("splash_charlotte-f4dc3ffe.png",import.meta.url).href,eo=""+new URL("splash_chevreuse-b62095f4.png",import.meta.url).href,to=""+new URL("splash_chiori-0fd0d497.png",import.meta.url).href,ao=""+new URL("splash_chongyun-6d2df2ec.png",import.meta.url).href,no=""+new URL("splash_collei-504a299e.png",import.meta.url).href,ro=""+new URL("splash_cyno-ad2ccd61.png",import.meta.url).href,oo=""+new URL("splash_dehya-516792b5.png",import.meta.url).href,so=""+new URL("splash_diluc-aca80da5.png",import.meta.url).href,io=""+new URL("splash_diona-60ac79e8.png",import.meta.url).href,lo=""+new URL("splash_dori-9e4fe1f4.png",import.meta.url).href,co=""+new URL("splash_eula-1491affb.png",import.meta.url).href,uo=""+new URL("splash_faruzan-53cea880.png",import.meta.url).href,ho=""+new URL("splash_fischl-81de0725.png",import.meta.url).href,po=""+new URL("splash_freminet-87ef7da9.png",import.meta.url).href,mo=""+new URL("splash_furina-132cdf4e.png",import.meta.url).href,fo=""+new URL("splash_gaming-f942e04b.png",import.meta.url).href,go=""+new URL("splash_ganyu-3428e56a.png",import.meta.url).href,Co=""+new URL("splash_gorou-2540c1f5.png",import.meta.url).href,xo=""+new URL("splash_heizou-778f17a2.png",import.meta.url).href,bo=""+new URL("splash_hutao-d7962623.png",import.meta.url).href,yo=""+new URL("splash_itto-89b11acb.png",import.meta.url).href,vo=""+new URL("splash_jean-8b1a28fe.png",import.meta.url).href,wo=""+new URL("splash_kaeya-e26022f0.png",import.meta.url).href,_o=""+new URL("splash_kaveh-a63cd11f.png",import.meta.url).href,Ro=""+new URL("splash_kazuha-94865d22.png",import.meta.url).href,Lo=""+new URL("splash_keqing-0cd58460.png",import.meta.url).href,So=""+new URL("splash_kirara-0b285e89.png",import.meta.url).href,$o=""+new URL("splash_klee-81a7fd6f.png",import.meta.url).href,ko=""+new URL("splash_kokomi-7dc7c799.png",import.meta.url).href,To=""+new URL("splash_kuki-2e7b6638.png",import.meta.url).href,Uo=""+new URL("splash_layla-45b01b3a.png",import.meta.url).href,Mo=""+new URL("splash_lisa-f07e93de.png",import.meta.url).href,Do=""+new URL("splash_lumine-51240648.png",import.meta.url).href,jo=""+new URL("splash_lynette-e6d6d59c.png",import.meta.url).href,Ao=""+new URL("splash_lyney-e23fc621.png",import.meta.url).href,Bo=""+new URL("splash_mika-d7bec99e.png",import.meta.url).href,Io=""+new URL("splash_mona-a101d11b.png",import.meta.url).href,Oo=""+new URL("splash_nahida-5336f545.png",import.meta.url).href,zo=""+new URL("splash_navia-749d043e.png",import.meta.url).href,Wo=""+new URL("splash_neuvillette-f6712d84.png",import.meta.url).href,No=""+new URL("splash_nilou-02522a20.png",import.meta.url).href,Eo=""+new URL("splash_ningguang-0423cf3a.png",import.meta.url).href,Po=""+new URL("splash_noelle-3c164134.png",import.meta.url).href,Fo=""+new URL("splash_qiqi-9882f0de.png",import.meta.url).href,Ho=""+new URL("splash_raiden-ce0042a0.png",import.meta.url).href,qo=""+new URL("splash_razor-dfd28235.png",import.meta.url).href,Go=""+new URL("splash_rosaria-beb57b8a.png",import.meta.url).href,Vo=""+new URL("splash_sara-1f76a85f.png",import.meta.url).href,Ko=""+new URL("splash_sayu-afc9c432.png",import.meta.url).href,Yo=""+new URL("splash_shenhe-ba31eb5d.png",import.meta.url).href,Xo=""+new URL("splash_sucrose-ad665b53.png",import.meta.url).href,Jo=""+new URL("splash_tartaglia-9aaa2f1a.png",import.meta.url).href,Zo=""+new URL("splash_thoma-004bf569.png",import.meta.url).href,Qo=""+new URL("splash_tighnari-3ce7dd13.png",import.meta.url).href,es=""+new URL("splash_venti-ea8e2087.png",import.meta.url).href,ts=""+new URL("splash_wanderer-645fe3d8.png",import.meta.url).href,as=""+new URL("splash_wriothesley-94b73230.png",import.meta.url).href,ns=""+new URL("splash_xiangling-058aca33.png",import.meta.url).href,rs=""+new URL("splash_xianyun-946028bc.png",import.meta.url).href,os=""+new URL("splash_xiao-69656d36.png",import.meta.url).href,ss=""+new URL("splash_xingqiu-fe033a4f.png",import.meta.url).href,is=""+new URL("splash_xinyan-bb9c21b3.png",import.meta.url).href,ls=""+new URL("splash_yae-5a7bf919.png",import.meta.url).href,cs=""+new URL("splash_yanfei-ecb8fb25.png",import.meta.url).href,ds=""+new URL("splash_yaoyao-8b72be49.png",import.meta.url).href,us=""+new URL("splash_yelan-26eec3f5.png",import.meta.url).href,hs=""+new URL("splash_yoimiya-2d38f125.png",import.meta.url).href,ps=""+new URL("splash_yunjin-538f24e0.png",import.meta.url).href,ms=""+new URL("splash_zhongli-c0ebbd75.png",import.meta.url).href,fs={Albedo:Fr,Alhaitham:Hr,Amber:qr,AratakiItto:yo,Baizhu:Kr,Barbara:Yr,Beidou:Xr,Bennett:Jr,Candace:Zr,Charlotte:Qr,Chevreuse:eo,Chiori:to,Chongyun:ao,Collei:no,Cyno:ro,Dehya:oo,Diluc:so,Diona:io,Dori:lo,Eula:co,Faruzan:uo,Fischl:ho,Freminet:po,Furina:mo,Gaming:fo,Ganyu:go,Gorou:Co,HuTao:bo,Jean:vo,KaedeharaKazuha:Ro,Kaeya:wo,KamisatoAyaka:Gr,KamisatoAyato:Vr,Kaveh:_o,Keqing:Lo,Kirara:So,Klee:$o,KujouSara:Vo,KukiShinobu:To,Layla:Uo,Lisa:Mo,Lynette:jo,Lyney:Ao,Mika:Bo,Mona:Io,Nahida:Oo,Navia:zo,Neuvillette:Wo,Nilou:No,Ningguang:Eo,Noelle:Po,Qiqi:Fo,RaidenShogun:Ho,Razor:qo,Rosaria:Go,SangonomiyaKokomi:ko,Sayu:Ko,Shenhe:Yo,ShikanoinHeizou:xo,Sucrose:Xo,Tartaglia:Jo,Thoma:Zo,Tighnari:Qo,TravelerF:Do,TravelerM:Pr,Venti:es,Wanderer:ts,Wriothesley:as,Xiangling:ns,Xianyun:rs,Xiao:os,Xingqiu:ss,Xinyan:is,YaeMiko:ls,Yanfei:cs,Yaoyao:ds,Yelan:us,Yoimiya:hs,YunJin:ps,Zhongli:ms};function gs(t,a){return fs[Be(t,a)]??""}function jt(t){const a=k();return i.useCallback(n=>{if(!t)return;const r=a.chars.get(t);r&&a.chars.set(t,{...r,...n})},[t,a])}function Da(){const{data:t}=i.useContext(H);return d(f,{sx:{width:"100%"},children:[Object.values(t.getDisplay().basic).map(a=>e(Ca,{node:a},JSON.stringify(a.info))),t.get(ce.special).info.name&&d(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(v,{flexGrow:1,children:e("strong",{children:"Specialized:"})}),t.get(ce.special).info.icon,e(v,{children:t.get(ce.special).info.name})]})]})}function Cs({characterKey:t,onClick:a,onClickHeader:n,footer:r,hideStats:s}){var T;const o=k(),l=yt(t),c=vt(t),{gender:g}=ue(),u=re(t,g),h=jt(t),p=(T=l==null?void 0:l[t])==null?void 0:T.target,C=i.useCallback(()=>t&&(a==null?void 0:a(t)),[t,a]),m=i.useCallback(S=>e(We,{onClick:C,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:S}),[C]),x=i.useMemo(()=>c&&u&&{character:c,characterSheet:u,characterDispatch:h},[c,u,h]),b=i.useMemo(()=>p&&l&&{data:p,teamData:l},[p,l]),{favorite:_}=wt(t);return e(i.Suspense,{fallback:e(ne,{variant:"rectangular",width:"100%",height:s?300:600}),children:d(gt,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e(f,{sx:{display:"flex",position:"absolute",zIndex:2,opacity:.7},children:e(Ge,{sx:{p:.5},onClick:S=>o.charMeta.set(t,{favorite:!_}),children:_?e($t,{}):e(Dt,{})})}),e(kt,{condition:!!a,wrapper:m,children:c&&b&&x?e(xs,{characterContextObj:x,dataContextObj:b,characterKey:t,onClick:a,onClickHeader:()=>n==null?void 0:n(t),hideStats:s}):e(bs,{characterKey:t})}),r]})})}function xs({characterContextObj:t,dataContextObj:a,characterKey:n,onClick:r,onClickHeader:s,hideStats:o}){return e(O.Provider,{value:t,children:d(H.Provider,{value:a,children:[e(pa,{characterKey:n,onClick:r?void 0:s,children:e(Mn,{characterKey:n})}),d(f,{sx:l=>({p:1,width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1,padding:o?`${l.spacing(1)}!important`:void 0}),children:[e(Dn,{}),!o&&e(Da,{})]})]})})}function bs({characterKey:t}){return d(ve,{children:[e(pa,{characterKey:t,children:e(jn,{characterKey:t})}),e(W,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1,height:"100%"}})]})}const ys=i.createContext({});var At={},vs=Le;Object.defineProperty(At,"__esModule",{value:!0});var He=At.default=void 0,ws=vs(Re()),_s=V,Rs=(0,ws.default)((0,_s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");He=At.default=Rs;var Bt={},Ls=Le;Object.defineProperty(Bt,"__esModule",{value:!0});var ja=Bt.default=void 0,Ss=Ls(Re()),$s=V,ks=(0,Ss.default)((0,$s.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");ja=Bt.default=ks;var It={},Ts=Le;Object.defineProperty(It,"__esModule",{value:!0});var Aa=It.default=void 0,Us=Ts(Re()),Ms=V,Ds=(0,Us.default)((0,Ms.jsx)("path",{d:"M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm15 0h-2v3h-3v2h3v3h2v-3h3v-2h-3z"}),"DashboardCustomize");Aa=It.default=Ds;const js=""+new URL("Character_Albedo_Card-5ef0c064.png",import.meta.url).href,As=""+new URL("Character_Alhaitham_Card-5b5622a6.jpg",import.meta.url).href,Bs=""+new URL("Character_Aloy_Card-63f8894a.png",import.meta.url).href,Is=""+new URL("Character_Amber_Card-75caf8bc.jpg",import.meta.url).href,Os=""+new URL("Character_Arataki_Itto_Card-9d5b2141.jpg",import.meta.url).href,zs=""+new URL("Character_Baizhu_Card-91cf0ace.jpg",import.meta.url).href,Ws=""+new URL("Character_Barbara_Card-58cbe572.jpg",import.meta.url).href,Ns=""+new URL("Character_Beidou_Card-ea7de4d2.jpg",import.meta.url).href,Es=""+new URL("Character_Bennett_Card-af6cc7e8.jpg",import.meta.url).href,Ps=""+new URL("Character_Candace_Card-e2c9913c.jpg",import.meta.url).href,Fs=""+new URL("Character_Charlotte_Card-b4153f53.jpg",import.meta.url).href,Hs=""+new URL("Character_Chevreuse_Card-4b92e6a5.jpg",import.meta.url).href,qs=""+new URL("Character_Chiori_Card-190184e6.jpg",import.meta.url).href,Gs=""+new URL("Character_Chongyun_Card-1128f6bd.jpg",import.meta.url).href,Vs=""+new URL("Character_Collei_Card-e3c02ab9.jpg",import.meta.url).href,Ks=""+new URL("Character_Cyno_Card-b178c8f3.jpg",import.meta.url).href,Ys=""+new URL("Character_Dehya_Card-546c51ec.jpg",import.meta.url).href,Xs=""+new URL("Character_Diluc_Card-2027991e.jpg",import.meta.url).href,Js=""+new URL("Character_Diona_Card-3cd0b9ac.png",import.meta.url).href,Zs=""+new URL("Character_Dori_Card-025a2f89.jpg",import.meta.url).href,Qs=""+new URL("Character_Eula_Card-2ab7b302.png",import.meta.url).href,ei=""+new URL("Character_Faruzan_Card-262e6371.jpg",import.meta.url).href,ti=""+new URL("Character_Fischl_Card-1dc842a2.jpg",import.meta.url).href,ai=""+new URL("Character_Freminet_Card-a2254a5a.jpg",import.meta.url).href,ni=""+new URL("Character_Furina_Card-de05953e.jpg",import.meta.url).href,ri=""+new URL("Character_Gaming_Card-fb7f6290.jpg",import.meta.url).href,oi=""+new URL("Character_Ganyu_Card-da6b1426.png",import.meta.url).href,si=""+new URL("Character_Gorou_Card-75b11c2b.png",import.meta.url).href,ii=""+new URL("Character_Hu_Tao_Card-96e1f9c8.png",import.meta.url).href,li=""+new URL("Character_Jean_Card-2fc96483.jpg",import.meta.url).href,ci=""+new URL("Character_Kaeya_Card-90ad939e.jpg",import.meta.url).href,di=""+new URL("Character_Kamisato_Ayaka_Card-ae1bb2fb.png",import.meta.url).href,ui=""+new URL("Character_Kamisato_Ayato_Card-f6b1ad8d.png",import.meta.url).href,hi=""+new URL("Character_Kaveh_Card-d3229e58.jpg",import.meta.url).href,pi=""+new URL("Character_Kazuha_Card-71c36913.png",import.meta.url).href,mi=""+new URL("Character_Keqing_Card-28b6df43.jpg",import.meta.url).href,fi=""+new URL("Character_Kirara_Card-ae8092de.jpg",import.meta.url).href,gi=""+new URL("Character_Klee_Card-43602d1c.jpg",import.meta.url).href,Ci=""+new URL("Character_Kujou_Sara_Card-6eb66d8d.jpg",import.meta.url).href,xi=""+new URL("Character_Kuki_Shinobu_Card-c0cca5df.jpg",import.meta.url).href,bi=""+new URL("Character_Layla_Card-89ddf634.jpeg",import.meta.url).href,yi=""+new URL("Character_Lisa_Card-cd94c665.jpg",import.meta.url).href,vi=""+new URL("Character_Lynette_Card-7469da2e.jpg",import.meta.url).href,wi=""+new URL("Character_Lyney_Card-deef8197.jpg",import.meta.url).href,_i=""+new URL("Character_Mika_Card-20bd2280.jpg",import.meta.url).href,Ri=""+new URL("Character_Mona_Card-4b42f44c.jpg",import.meta.url).href,Li=""+new URL("Character_Nahida_Card-309d4d29.jpeg",import.meta.url).href,Si=""+new URL("Character_Navia_Card-8745abc6.jpg",import.meta.url).href,$i=""+new URL("Character_Neuvillette_Card-32f9dd3c.jpg",import.meta.url).href,ki=""+new URL("Character_Nilou_Card-de0e3f0d.jpg",import.meta.url).href,Ti=""+new URL("Character_Ningguang_Card-4f9a1915.jpg",import.meta.url).href,Ui=""+new URL("Character_Noelle_Card-9995f992.jpg",import.meta.url).href,Mi=""+new URL("Character_Qiqi_Card-4d5d3687.jpg",import.meta.url).href,Di=""+new URL("Character_Raiden_Shogun_Card-90085c4a.png",import.meta.url).href,ji=""+new URL("Character_Razor_Card-0e7f3a1e.jpg",import.meta.url).href,Ai=""+new URL("Character_Rosaria_Card-22e1e066.png",import.meta.url).href,Bi=""+new URL("Character_Sangonomiya_Kokomi_Card-d5698fe4.jpg",import.meta.url).href,Ii=""+new URL("Character_Sayu_Card-e1a67cbd.png",import.meta.url).href,Oi=""+new URL("Character_Shenhe_Card-4340449f.jpg",import.meta.url).href,zi=""+new URL("Character_Shikanoin_Heizou_Card-043ef79e.png",import.meta.url).href,Wi=""+new URL("Character_Somnia_Card-e56f30f7.png",import.meta.url).href,Ni=""+new URL("Character_Sucrose_Card-e0782acd.jpg",import.meta.url).href,Ei=""+new URL("Character_Tartaglia_Card-b8d93f98.png",import.meta.url).href,Pi=""+new URL("Character_Thoma_Card-b561acbb.jpg",import.meta.url).href,Fi=""+new URL("Character_Tighnari_Card-8ebb6d51.jpg",import.meta.url).href,Hi=""+new URL("Character_Venti_Card-416dade9.jpg",import.meta.url).href,qi=""+new URL("Character_Wanderer_Card-ef1ff178.jpg",import.meta.url).href,Gi=""+new URL("Character_Wriothesley_Card-27b94628.jpg",import.meta.url).href,Vi=""+new URL("Character_Xiangling_Card-9ebf0a46.jpg",import.meta.url).href,Ki=""+new URL("Character_Xianyun_Card-6d9b79fa.jpg",import.meta.url).href,Yi=""+new URL("Character_Xiao_Card-41530690.jpg",import.meta.url).href,Xi=""+new URL("Character_Xingqiu_Card-d4eb12ea.jpg",import.meta.url).href,Ji=""+new URL("Character_Xinyan_Card-08b1f13c.jpg",import.meta.url).href,Zi=""+new URL("Character_Yae_Miko_Card-dde243b2.png",import.meta.url).href,Qi=""+new URL("Character_Yanfei_Card-7a0cde36.png",import.meta.url).href,el=""+new URL("Character_Yaoyao_Card-d91c99fc.jpg",import.meta.url).href,tl=""+new URL("Character_Yelan_Card-16780ff3.jpg",import.meta.url).href,al=""+new URL("Character_Yoimiya_Card-a2f5a17e.png",import.meta.url).href,nl=""+new URL("Character_Yun_Jin_Card-93bda737.jpg",import.meta.url).href,rl=""+new URL("Character_Zhongli_Card-55c0bab7.png",import.meta.url).href,ol=""+new URL("Traveler_Female_Card-f2156008.jpg",import.meta.url).href,sl=""+new URL("Traveler_Male_Card-0d6523d2.jpg",import.meta.url).href,Zt={Albedo:js,Alhaitham:As,Aloy:Bs,Amber:Is,AratakiItto:Os,Baizhu:zs,Barbara:Ws,Beidou:Ns,Bennett:Es,Candace:Ps,Charlotte:Fs,Chevreuse:Hs,Chiori:qs,Chongyun:Gs,Collei:Vs,Cyno:Ks,Dehya:Ys,Diluc:Xs,Diona:Js,Dori:Zs,Eula:Qs,Faruzan:ei,Fischl:ti,Freminet:ai,Furina:ni,Gaming:ri,Ganyu:oi,Gorou:si,HuTao:ii,Jean:li,KaedeharaKazuha:pi,Kaeya:ci,KamisatoAyaka:di,KamisatoAyato:ui,Kaveh:hi,Keqing:mi,Kirara:fi,Klee:gi,KujouSara:Ci,KukiShinobu:xi,Layla:bi,Lisa:yi,Lyney:wi,Lynette:vi,Mika:_i,Mona:Ri,Nahida:Li,Navia:Si,Neuvillette:$i,Nilou:ki,Ningguang:Ti,Noelle:Ui,Qiqi:Mi,RaidenShogun:Di,Razor:ji,Rosaria:Ai,SangonomiyaKokomi:Bi,Sayu:Ii,Shenhe:Oi,ShikanoinHeizou:zi,Somnia:Wi,Sucrose:Ni,Tartaglia:Ei,Thoma:Pi,Tighnari:Fi,TravelerF:ol,TravelerM:sl,Venti:Hi,Wanderer:qi,Wriothesley:Gi,Xiangling:Vi,Xianyun:Ki,Xiao:Yi,Xingqiu:Xi,Xinyan:Ji,YaeMiko:Zi,Yanfei:Qi,Yaoyao:el,Yelan:tl,Yoimiya:al,YunJin:nl,Zhongli:rl};function il(t,a){switch(t){case"TravelerAnemo":case"TravelerDendro":case"TravelerElectro":case"TravelerGeo":case"TravelerHydro":return Zt[`Traveler${a}`]??"";default:return Zt[t]??""}}function cd(){const{characterSheet:t}=i.useContext(O),{data:a}=i.useContext(H),n={auto:a.get(j.total.auto).value,skill:a.get(j.total.skill).value,burst:a.get(j.total.burst).value},r={auto:a.get(j.total.autoBoost).value,skill:a.get(j.total.skillBoost).value,burst:a.get(j.total.burstBoost).value};return e(f,{children:e($,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map(s=>{var o;return e($,{item:!0,xs:4,children:e(Dr,{badgeContent:n[s],color:r[s]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:e(f,{component:"img",src:(o=t.getTalentOfKey(s))==null?void 0:o.img,width:"100%",height:"auto"})})},s)})})})}function ll(){const{characterSheet:t,character:{key:a}}=i.useContext(O),{data:n}=i.useContext(H),r=jt(a),s=n.get(j.constellation).value;return e($,{container:!0,spacing:1,children:sa(1,6).map(o=>{var l;return e($,{item:!0,xs:4,children:e(We,{onClick:()=>r({constellation:o===s?o-1:o}),children:e(f,{component:"img",src:(l=t.getTalentOfKey(`constellation${o}`))==null?void 0:l.img,sx:{...s>=o?{}:{filter:"brightness(50%)"}},width:"100%",height:"auto"})})},o)})})}function cl(){const{silly:t}=i.useContext(Ve),{character:{key:a}}=i.useContext(O),{gender:n}=ue(),{data:r}=i.useContext(H),s=r.get(j.lvl).value,o=r.get(j.asc).value,l=gs(a,n),c=il(a,n);return t&&l?e(dl,{src:l,level:s,ascension:o}):e(ul,{src:c,level:s,ascension:o})}function dl({src:t,level:a,ascension:n}){const{characterSheet:r}=i.useContext(O);return d(f,{sx:{position:"relative"},children:[e(f,{src:t,component:"img",width:"100%",height:"auto"}),d(f,{sx:{width:"100%",height:"100%"},children:[e(f,{sx:{opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(Ba,{})}),e(v,{variant:"h6",sx:{width:"100%",opacity:.75,textAlign:"center"},children:e(Lt,{stars:r.rarity,colored:!0})}),e(Oa,{}),e(Ia,{level:a,ascension:n})]})]})}function ul({src:t,level:a,ascension:n}){const{characterSheet:r}=i.useContext(O);return d(f,{sx:{position:"relative"},children:[d(f,{sx:{position:"absolute",width:"100%",height:"100%"},children:[e(v,{variant:"h6",sx:{position:"absolute",width:"100%",left:"50%",bottom:0,transform:"translate(-50%, -50%)",opacity:.75,textAlign:"center"},children:e(Lt,{stars:r.rarity,colored:!0})}),e(f,{sx:{position:"absolute",left:"50%",bottom:"7%",transform:"translate(-50%, -50%)",opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(Ba,{})}),e(Oa,{}),e(Ia,{level:a,ascension:n})]}),e(f,{src:t,component:"img",width:"100%",height:"auto"})]})}function Ba(){var n;const{characterSheet:t}=i.useContext(O),a=t.elementKey;return e(me,{color:a,sx:{height:"auto"},label:d(v,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[e(_t,{ele:a}),e(f,{sx:{whiteSpace:"normal",textAlign:"center"},children:t.name}),e(Me,{src:(n=De.weaponTypes)==null?void 0:n[t.weaponTypeKey]})]})})}function Ia({level:t,ascension:a}){return e(v,{sx:{p:1,position:"absolute",right:0,top:0,opacity:.8},children:e(X,{children:Qa(t,a)})})}function Oa(){const{character:{key:t}}=i.useContext(O),a=k(),{favorite:n}=wt(t);return e(f,{sx:{position:"absolute",left:0,top:0},children:e(Ge,{sx:{p:1},color:"error",onClick:()=>a.charMeta.set(t,{favorite:!n}),children:n?e($t,{}):e(Dt,{})})})}var Ot={},hl=Le;Object.defineProperty(Ot,"__esModule",{value:!0});var je=Ot.default=void 0,pl=hl(Re()),ml=V,fl=(0,pl.default)((0,ml.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");je=Ot.default=fl;function za({characterKey:t}){const{gender:a}=ue();if(!t)return null;const n=re(t,a);return n?e(ze,{placement:"right-end",title:e(v,{children:n.name}),children:e(nr,{characterKey:t,sideMargin:!0})}):null}function gl({statKey:t,disableIcon:a=!1}){return d(f,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!a&&e(Rt,{statKey:t,iconProps:ie}),d("span",{children:[st.get(t),st.unit(t)]})]})}function Wa({statKey:t,disableIcon:a=!1}){return e(Xe,{color:st.getVariant(t),children:e(gl,{statKey:t,disableIcon:a})})}function Cl({artifactId:t,slotKey:a,mainStatAssumptionLevel:n=0,showLocation:r=!1,onClick:s,BGComponent:o=de}){const l=ht(t),c=k(),g=i.useCallback(M=>e(We,{onClick:s,sx:{height:"100%"},children:M}),[s]),u=Ct();if(!l)return e(o,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(f,{component:"img",src:De.slot[a],sx:{width:"25%",height:"auto",opacity:.7}})});const{slotKey:h,rarity:p,level:C,mainStatKey:m,substats:x,location:b}=l,_=Math.max(Math.min(n,p*4),C),T=en.find(M=>l.mainStatKey.includes(M)),S=T?Pt(u.palette[T].main,.6):Pt(u.palette.secondary.main,.6);return e(o,{sx:{height:"100%"},children:e(kt,{condition:!!s,wrapper:g,children:d(f,{display:"flex",height:"100%",children:[d(f,{className:`grad-${p}star`,sx:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e(An,{art:l,children:e(f,{component:"img",src:En(l.setKey,h),sx:{m:-1,maxHeight:"110%",maxWidth:"110%"}})}),d(f,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(me,{size:"small",label:e("strong",{children:` +${C}`}),color:pr.levelVariant(C)}),r&&e(me,{size:"small",label:b?e(za,{characterKey:b&&c.chars.LocationToCharacterKey(b)}):e(ma,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(me,{size:"small",sx:{position:"absolute",bottom:0,mb:1,backgroundColor:S,p:1},icon:e(ze,{placement:"top",title:e(v,{children:e(Wa,{statKey:m})}),disableInteractive:!0,children:e(f,{lineHeight:0,children:e(Rt,{statKey:m,iconProps:{style:{padding:"4px"}}})})}),label:e(v,{sx:{mx:-.7},children:e(Xe,{color:_!==C?"warning":void 0,children:tn(m,p,_)})})})]}),e(f,{display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{p:1},children:x.map((M,z)=>e(xl,{stat:M},z+M.key))})]})})})}function xl({stat:t}){var s;if(!t.value)return null;const a=((s=t.rolls)==null?void 0:s.length)??0,n=`roll${rn(a,1,6)}`,r=an(t.key);return e(f,{display:"flex",gap:1,alignContent:"center",children:d(v,{sx:{flexGrow:1,display:"flex",gap:.5,alignItems:"center"},color:a?`${n}.main`:"error.main",component:"span",children:[e(ze,{placement:"top",title:e(v,{children:t.key&&e(Wa,{statKey:t.key})}),disableInteractive:!0,children:e(f,{lineHeight:0,children:e(Rt,{statKey:t.key,iconProps:{fontSize:"inherit"}})})}),e("span",{children:`${nn(t.value,r)}${r}`})]})})}function bl(t){return aa("MuiMasonry",t)}ta("MuiMasonry",["root"]);const yl=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],be=t=>Number(t.replace("px","")),vl={flexBasis:"100%",width:0,margin:0,padding:0},wl=t=>{const{classes:a}=t;return oa({root:["root"]},bl,a)},_l=({ownerState:t,theme:a})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},h=be(a.spacing(t.defaultSpacing));for(let p=1;p<=t.defaultColumns;p+=1)u[`&:nth-of-type(${t.defaultColumns}n+${p%t.defaultColumns})`]={order:p};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=le({},n["& > *"],u,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),le({},n,r)}const s=Ft({values:t.spacing,breakpoints:a.breakpoints.values}),o=ln(a);n=Ze(n,Qe({theme:a},s,u=>{let h;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const p=Number(u);h=et(o,p)}else h=u;return le({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+be(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const c=Ft({values:t.columns,breakpoints:a.breakpoints.values});return n=Ze(n,Qe({theme:a},c,u=>{const p=`${(100/Number(u)).toFixed(2)}%`,C=typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"?et(o,Number(s)):"0px";return{"& > *":{width:`calc(${p} - ${C})`}}})),typeof s=="object"&&(n=Ze(n,Qe({theme:a},s,(u,h)=>{if(h){const p=Number(u),C=Object.keys(c).pop(),m=et(o,p);return{"& > *":{width:`calc(${`${(100/(typeof c=="object"?c[h]||c[C]:c)).toFixed(2)}%`} - ${m})`}}}return null}))),n},Rl=Ie("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,a)=>[a.root]})(_l),Ll=i.forwardRef(function(a,n){const r=na({props:a,name:"MuiMasonry"}),{children:s,className:o,component:l="div",columns:c=4,spacing:g=1,defaultColumns:u,defaultHeight:h,defaultSpacing:p}=r,C=ra(r,yl),m=i.useRef(),[x,b]=i.useState(),_=!x&&h&&u!==void 0&&p!==void 0,[T,S]=i.useState(_?u-1:0),M=le({},r,{spacing:g,columns:c,maxColumnHeight:x,defaultColumns:u,defaultHeight:h,defaultSpacing:p,isSSR:_}),z=wl(M),B=w=>{if(!m.current||!w||w.length===0)return;const y=m.current,D=m.current.firstChild,R=y.clientWidth,N=D.clientWidth;if(R===0||N===0)return;const oe=window.getComputedStyle(D),Q=be(oe.marginLeft),ee=be(oe.marginRight),te=Math.round(R/(N+Q+ee)),K=new Array(te).fill(0);let G=!1;y.childNodes.forEach(J=>{if(J.nodeType!==Node.ELEMENT_NODE||J.dataset.class==="line-break"||G)return;const se=window.getComputedStyle(J),L=be(se.marginTop),U=be(se.marginBottom),Y=be(se.height)?Math.ceil(be(se.height))+L+U:0;if(Y===0){G=!0;return}for(let F=0;F<J.childNodes.length;F+=1){const E=J.childNodes[F];if(E.tagName==="IMG"&&E.clientHeight===0){G=!0;break}}if(!G){const F=K.indexOf(Math.min(...K));K[F]+=Y;const E=F+1;J.style.order=E}}),G||cn.flushSync(()=>{b(Math.max(...K)),S(te>0?te-1:0)})};on(()=>{if(typeof ResizeObserver>"u")return;let w;const y=new ResizeObserver(()=>{w=requestAnimationFrame(B)});return m.current&&m.current.childNodes.forEach(D=>{y.observe(D)}),()=>{w&&window.cancelAnimationFrame(w),y&&y.disconnect()}},[c,g,s]);const I=sn(n,m),q=new Array(T).fill("").map((w,y)=>V.jsx("span",{"data-class":"line-break",style:le({},vl,{order:y+1})},y));return V.jsxs(Rl,le({as:l,className:ot(z.root,o),ref:I,ownerState:M},C,{children:[s,q]}))}),Sl=Ll,$l=i.createContext(void 0),$e={title:e(Xe,{color:"warning",children:"ERROR"})},kl={normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass.",...Object.fromEntries(sa(1,6).map(t=>[`constellation${t}`,`Const. ${t}`]))};function Tl(t,a,n){if(!a)return $e;if(a==="basic")return{title:"Basic Stats"};if(a==="custom")return{title:"Custom Multi Target"};if(a==="reaction")return{title:"Transformative Reactions"};if(a.includes(":")){const[r,s]=a.split(":");if(r==="artifact"){const o=Ta(s);return o?{title:o.name,icon:mr(s)}:$e}else if(r==="weapon"){const o=Tt(s);if(!o)return $e;const l=t.get(ce.weapon.asc).value;return{title:o.name,icon:fa(s,l>=2)}}}else{const r=t.get(ce.charKey).value;if(!r)return $e;const s=re(r,n.gender),o=["normal","charged","plunging"].includes(a)?"auto":a,l=s==null?void 0:s.getTalentOfKey(o);if(!l)return $e;const c=kl[a];return{icon:l.img,title:l.name,action:c}}return $e}function Ul(t){const a=t.getDisplay(),n=Object.entries(a),r=n.filter(([u])=>u==="basic"),s=n.filter(([u])=>u==="reaction"),o=n.filter(([u])=>u==="custom"),l=n.filter(([u])=>u.startsWith("weapon")),c=n.filter(([u])=>u.startsWith("artifact")),g=n.filter(([u])=>u!=="basic"&&u!=="reaction"&&!u.startsWith("weapon")&&!u.startsWith("artifact")&&u!=="custom");return[...r,...s,...o,...g,...l,...c]}function Ml({columns:t={xs:1,sm:2,md:3,xl:4}}){const{data:a}=i.useContext(H),n=i.useMemo(()=>Ul(a).filter(([,r])=>Object.values(r).some(s=>!s.isEmpty)),[a]);return e(f,{sx:{mr:-1,mb:-1},children:e(Sl,{columns:t,spacing:1,children:n.map(([r,s])=>e(Dl,{displayNs:s,sectionKey:r},r))})})}function Dl({displayNs:t,sectionKey:a}){const n=i.useContext($l),{data:r,oldData:s}=i.useContext(H),o=k(),l=i.useMemo(()=>Tl(r,a,o),[o,r,a]),c=i.useMemo(()=>Ke(t,(p,C)=>Pn(["display",a,C])),[t,a]);if(!l)return e(de,{});const{title:g,icon:u,action:h}=l;return d(de,{children:[e(Zn,{avatar:u&&e(Me,{size:2,src:u}),title:g,action:h&&e(X,{children:h})}),e(fe,{}),e(Qn,{sx:{m:0},children:Object.entries(t).map(([p,C])=>e(Ca,{node:C,oldValue:s?s.get(c[p]).value:void 0,component:we,emphasize:JSON.stringify(n)===JSON.stringify([a,p])},p))})]})}function jl({weaponId:t,showLocation:a=!1,onClick:n,BGComponent:r=de,weaponTypeKey:s="sword"}){const o=gr(t),l=(o==null?void 0:o.key)&&Tt(o.key);return!o||!l?e(r,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(f,{component:"img",src:De.weaponTypes[s],sx:{width:"25%",height:"auto",opacity:.7}})}):e(Al,{weapon:o,weaponSheet:l,onClick:n,showLocation:a,BGComponent:r})}function Al({weapon:t,weaponSheet:a,showLocation:n=!1,onClick:r,BGComponent:s=de}){const o=k(),{refinement:l,location:c}=t,g=i.useCallback(h=>e(We,{sx:{height:"100%"},onClick:r,children:h}),[r]),u=i.useMemo(()=>a&&t&&Fn([a.data,ga(t)]),[a,t]);return e(s,{sx:{height:"100%"},children:e(kt,{condition:!!r,wrapper:g,children:d(f,{display:"flex",height:"100%",alignItems:"stretch",children:[d(f,{className:`grad-${a.rarity}star`,sx:{height:"100%",position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:[e(Bn,{sheet:a,children:e(f,{component:"img",src:fa(t.key,t.ascension>=2),sx:{mx:-1,maxHeight:"100%",maxWidth:"100%"}})}),d(f,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(me,{size:"small",label:e("strong",{children:Ua.getLevelString(t)}),color:"primary"}),n&&e(me,{size:"small",label:c?e(za,{characterKey:o.chars.LocationToCharacterKey(c)}):e(ma,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(f,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},children:a.hasRefinement&&e(me,{size:"small",color:"info",label:d("strong",{children:["R",l]})})})]}),d(f,{display:"flex",flexDirection:"column",sx:{p:1},children:[e(Qt,{node:u.get(ce.weapon.main)}),e(Qt,{node:u.get(ce.weapon.sub)})]})]})})})}function Qt({node:t}){return t.info.name?e(f,{display:"flex",gap:1,alignContent:"center",children:d(v,{sx:{flexGrow:1,display:"flex",gap:1},component:"span",children:[e(ze,{placement:"top",title:e(v,{children:t.info.name}),disableInteractive:!0,children:e("span",{children:t.info.icon})}),e("span",{children:Hn(t)})]})}):null}function Bl({artifacts:t}){const a=i.useMemo(()=>{const n=t.filter(r=>r).reduce((r,s)=>(r[s.setKey]?r[s.setKey].push(s.slotKey):r[s.setKey]=[s.slotKey],r),{});return Object.keys(n).forEach(r=>{var s;((s=n[r])==null?void 0:s.length)===1&&delete n[r]}),n},[t]);return e(ve,{children:Object.entries(a).sort(([n,r],[s,o])=>o.length-r.length).map(([n,r])=>e(Il,{setKey:n,slotarr:r},n))})}function Il({setKey:t,slotarr:a}){const n=Ta(t),r=a.length,s=Object.keys(n.setEffects).map(o=>parseInt(o)).filter(o=>o<=r);return e(f,{children:e(or,{artifactSheet:n,numInSet:r,children:e(X,{sx:{height:"100%"},color:"primary",children:d(v,{children:[a.map(o=>e(Cr,{slotKey:o,iconProps:ie},o))," ",n.name??"",s.map((o,l)=>e(X,{sx:{ml:.5},color:"success",children:o},""+o+l))]})})})})}var zt={},Ol=Le;Object.defineProperty(zt,"__esModule",{value:!0});var mt=zt.default=void 0,zl=Ol(Re()),Wl=V,Nl=(0,zl.default)((0,Wl.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");mt=zt.default=Nl;var Wt={},El=Le;Object.defineProperty(Wt,"__esModule",{value:!0});var ft=Wt.default=void 0,Pl=El(Re()),Fl=V,Hl=(0,Pl.default)((0,Fl.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");ft=Wt.default=Hl;function ql({setKey:t,buttonGroupSx:a}){const{t:n}=P("sheet"),{teamChar:{optConfigId:r}}=i.useContext(ge),{artSetExclusion:s}=Ne(r),o=(s==null?void 0:s[t])??[],l=o.includes(2),c=o.includes(4),g=k();return d(Jn,{sx:a,fullWidth:!0,children:[e(A,{startIcon:l?e(Ht,{}):e(qt,{}),onClick:()=>g.optConfigs.set(r,{artSetExclusion:Gt(s,t,2)}),color:l?"secondary":"success",endIcon:l?e(mt,{}):e(ft,{}),children:n`2set`}),e(A,{startIcon:c?e(Ht,{}):e(qt,{}),onClick:()=>g.optConfigs.set(r,{artSetExclusion:Gt(s,t,4)}),color:c?"secondary":"success",endIcon:c?e(mt,{}):e(ft,{}),children:n`4set`})]})}function Gl({label:t,extraButtonsRight:a,extraButtonsLeft:n,disabled:r}){var se;const{loadoutDatum:{buildType:s,buildId:o},teamChar:{optConfigId:l,buildIds:c=[]}}=i.useContext(ge),{character:{key:g,equippedArtifacts:u,equippedWeapon:h}}=i.useContext(O),{mainStatAssumptionLevel:p,allowLocationsState:C}=Ne(l)??{mainStatAssumptionLevel:0,allowLocationsState:"all"},m=k(),{data:x,oldData:b}=i.useContext(H),[_,T]=Ue();i.useEffect(()=>{const L=c.map(U=>m.builds.follow(U,T));return()=>L.forEach(U=>U())},[m,c,T]);const S=i.useMemo(()=>{var L;return{oldId:(L=b==null?void 0:b.get(j.weapon.id))==null?void 0:L.value,newId:x.get(j.weapon.id).value??""}},[x,b]),[M,z,B]=he(!1),I=i.useMemo(()=>it(xe,L=>{var U;return{oldId:(U=b==null?void 0:b.get(j.art[L].id))==null?void 0:U.value,newId:x.get(j.art[L].id).value??""}}),[x,b]),[q,w]=i.useState(),y=i.useCallback(()=>w(void 0),[w]),D=o&&s==="real",R=i.useCallback(()=>{const L=D?"Do you want to equip this build to the currently active build?":"Do you want to equip this build to this character?";if(!window.confirm(L))return;if(D){m.builds.set(o,{weaponId:x.get(j.weapon.id).value,artifactIds:it(xe,F=>{var E;return(E=x.get(j.art[F].id).value)==null?void 0:E.toString()})});return}const U=m.chars.get(g);if(!U)return;xe.forEach(F=>{var Se;const E=(Se=x.get(j.art[F].id).value)==null?void 0:Se.toString();if(E)m.arts.set(E,{location:ye(g)});else{const Ae=U.equippedArtifacts[F];Ae&&m.arts.get(Ae)&&m.arts.set(Ae,{location:""})}});const Y=x.get(j.weapon.id).value;Y&&m.weapons.set(Y,{location:ye(g)})},[g,D,o,x,m]),N=i.useMemo(()=>Object.fromEntries(xe.map(L=>{var U;return[L,(U=x.get(j.art[L].id).value)==null?void 0:U.toString()]})),[x]),oe=i.useMemo(()=>N&&Object.values(N).map(L=>m.arts.get(L)).filter(L=>L),[N,m.arts]),Q=i.useMemo(()=>e($,{item:!0,xs:1,children:e(jl,{showLocation:!0,weaponId:x.get(j.weapon.id).value,onClick:z})}),[x,z]),ee=i.useMemo(()=>xe.map(L=>e($,{item:!0,xs:1,children:e(Cl,{showLocation:!0,slotKey:L,artifactId:N[L],mainStatAssumptionLevel:p,onClick:()=>{const U=I[L].oldId,Y=I[L].newId;w({oldId:U!==Y?U:void 0,newId:Y})}})},L)),[w,I,p,N]),te=xe.every(L=>N[L]===u[L])&&x.get(j.weapon.id).value===h,K=i.useMemo(()=>_&&c.filter(L=>{const U=m.builds.get(L);if(!U)return!1;const{artifactIds:Y,weaponId:F}=U;return xe.every(E=>N[E]===Y[E])&&x.get(j.weapon.id).value===F}),[_,m,c,N,x]),G=s==="real"&&K.includes(o);return e(gt,{sx:{boxShadow:G||s==="equipped"&&te?"0px 0px 0px 2px green inset":void 0},children:d(i.Suspense,{fallback:e(ne,{variant:"rectangular",width:"100%",height:600}),children:[S&&e(Vl,{newOld:S,showWeapon:M,onClose:B}),q&&e(Kl,{newOld:q,mainStatAssumptionLevel:p,onClose:y,allowLocationsState:C}),d(W,{sx:{display:"flex",flexDirection:"column",gap:1},children:[d(f,{display:"flex",gap:1,flexWrap:"wrap",children:[t!==void 0&&e(_e,{color:te?"success":"info",children:d(v,{sx:{display:"flex",gap:1},children:[e("strong",{children:t}),te&&e("span",{children:"(Equipped)"})]})}),!!K.length&&e(_e,{color:G?"success":"info",children:d(v,{sx:{display:"flex",gap:1},children:[e(Ee,{}),e("span",{children:(se=m.builds.get(G?o:K[0]))==null?void 0:se.name}),G&&e("span",{children:"(current build)"}),K.length>1&&e(pe,{arrow:!0,title:e(f,{children:K.map(L=>{var U;return d(v,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(Ee,{}),(U=m.builds.get(L))==null?void 0:U.name]})})}),children:e(ke,{})})]})}),e(Bl,{artifacts:oe}),e(f,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}),n,e(A,{size:"small",color:"success",onClick:R,disabled:r||G,startIcon:e(Wr,{}),children:"Equip to Current Build"}),a]}),e(f,{children:d($,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:6},children:[Q,ee]})}),e(Ml,{})]})]})})}function Vl({newOld:{newId:t,oldId:a},showWeapon:n,onClose:r}){const s=k(),o=a!==t,l=i.useCallback(c=>s.weapons.remove(c),[s]);return e(Oe,{open:n,onClose:r,containerProps:{maxWidth:o?"md":"xs"},children:e(de,{children:d(W,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[o&&d(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(Z,{bgt:"light",sx:{p:1},children:e(v,{variant:"h6",textAlign:"center",children:"Old Weapon"})}),a==="tc"?e(v,{variant:"h6",textAlign:"center",color:"info",children:e(_e,{children:"TC Weapon"})}):e(Fe,{weaponId:a,onDelete:l})]}),o&&e(f,{display:"flex",flexGrow:1}),o&&e(f,{display:"flex",alignItems:"center",justifyContent:"center",children:e(Ma,{sx:{fontSize:40}})}),o&&e(f,{display:"flex",flexGrow:1}),d(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(Z,{bgt:"light",sx:{p:1},children:e(v,{variant:"h6",textAlign:"center",children:"New Weapon"})}),e(Fe,{weaponId:t,onDelete:l})]})]})})})}function Kl({newOld:{newId:t,oldId:a},mainStatAssumptionLevel:n,onClose:r,allowLocationsState:s}){var p;const o=k(),{character:{key:l}}=i.useContext(O),c=((p=o.arts.get(t))==null?void 0:p.location)??"",g=ht(t),u=ht(a),h=i.useCallback(C=>o.arts.remove(C),[o]);return e(Oe,{open:!!t,onClose:r,containerProps:{maxWidth:a?"md":"xs"},children:e(de,{children:d(W,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[a&&d(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(Z,{bgt:"light",sx:{p:1},children:e(v,{variant:"h6",textAlign:"center",children:"Old Artifact"})}),a==="tc"?e(v,{variant:"h6",textAlign:"center",color:"info",children:e(_e,{children:"TC Artifact"})}):e(Pe,{artifactId:a,onDelete:h,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:u==null?void 0:u.slotKey}}),a!=="tc"&&e(ea,{id:a})]}),a&&e(f,{display:"flex",flexGrow:1}),a&&e(f,{display:"flex",alignItems:"center",justifyContent:"center",children:e(Ma,{sx:{fontSize:40}})}),a&&e(f,{display:"flex",flexGrow:1}),d(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(Z,{bgt:"light",sx:{p:1},children:e(v,{variant:"h6",textAlign:"center",children:"New Artifact"})}),e(Pe,{artifactId:t,onDelete:h,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:g==null?void 0:g.slotKey}}),g&&e(ea,{id:t}),c&&c!==ye(l)&&s!=="all"&&e(Yl,{locationKey:c}),g&&dn.includes(g.setKey)&&e(ql,{setKey:g.setKey})]})]})})})}function ea({id:t}){const{t:a}=P("page_character_optimize"),{teamChar:{optConfigId:n}}=i.useContext(ge),r=k(),{artExclusion:s}=Ne(n),o=s.includes(t),l=i.useCallback(()=>r.optConfigs.set(n,{artExclusion:ia(s,t)}),[t,s,r,n]);return n?e(ze,{title:e(f,{children:e(v,{children:a`excludeArt.includeArtifactTip`})}),placement:"top",arrow:!0,children:e(A,{onClick:l,color:o?"secondary":"success",size:"small",startIcon:o?e($a,{}):e(ka,{}),children:a`excludeArt.includeArtifactButton`})}):null}function Yl({locationKey:t}){const{t:a}=P("page_character_optimize"),{teamChar:{optConfigId:n}}=i.useContext(ge),r=k(),s=re(r.chars.LocationToCharacterKey(t)),{excludedLocations:o}=Ne(n)??{excludedLocations:[]},l=o.includes(t),c=i.useCallback(()=>r.optConfigs.set(n,{excludedLocations:ia(o,t)}),[t,o,r,n]);return n?e(A,{onClick:c,color:l?"secondary":"success",size:"small",startIcon:l?e($a,{}):e(ka,{}),children:d("span",{children:[a`excludeChar.allowEquip`," ",e("strong",{children:s.name})]})}):null}function Xl(t=0,a,n){const{teamId:r,teamCharId:s}=i.useContext(ge);return Jl(r,s,t,a,n)}function Jl(t,a,n=0,r,s){const o=k(),[l,c]=Ue(),g=i.useDeferredValue(l),{gender:u}=ue(),{loadoutData:h}=In(t)??{loadoutData:[]},p=i.useMemo(()=>g&&Zl(o,t,u,a,n,r,s),[g,u,t,o,n,a,r,s]);return i.useEffect(()=>t?o.teams.follow(t,c):void 0,[t,c,o]),i.useEffect(()=>{if(!l)return()=>{};const C=h.map(m=>{if(!m)return()=>{};const x=o.teamChars.follow(m.teamCharId,c),b=o.teamChars.followChar(m.teamCharId,c),_=o.teams.followLoadoutDatum(m,c);return()=>{x(),b(),_()}});return()=>{C.forEach(m=>m())}},[l,o,h,c]),p}function Zl(t,a,n,r,s=0,o,l){if(!a)return;const c=t.teams.getActiveTeamChar(a);if(!c)return;const{teamData:g,teamBundle:u}=Ql(t,a,r,s,o,l)??{};if(!g||!u)return;const h=qn(g,n,c.key);return un(h,(C,m)=>{const{data:x,...b}=u[m];return{...C,...b}})}function Ql(t,a,n,r=0,s,o){if(!a)return;const l=t.teams.get(a);if(!l)return;const{loadoutData:c,enemyOverride:g,conditional:u}=l,h=c.map(m=>{if(!m)return;const{teamCharId:x,buildType:b,buildTcId:_}=m,T=t.teamChars.get(x);if(!T)return;const{key:S,infusionAura:M,customMultiTargets:z,conditional:B,bonusStats:I,hitMode:q,reaction:w}=T,y=t.chars.get(S);if(!y)return;const{key:D,level:R,constellation:N,ascension:oe,talent:Q}=y,ee=x===n,te=(()=>o&&ee?o:t.teams.getLoadoutWeapon(m))(),K=(()=>s&&ee?s:b==="tc"&&_?On(t.buildTcs.get(_)):Object.values(t.teams.getLoadoutArtifacts(m)).filter(J=>J))(),G=(()=>r&&ee?r:0)();return ec(t,ee,G,{key:D,level:R,constellation:N,ascension:oe,talent:Q,infusionAura:M,customMultiTargets:z,conditional:{...B,...u},bonusStats:I,enemyOverride:g,hitMode:q,reaction:w},te,K)}).filter(m=>m),p=Object.fromEntries(h.filter(m=>m).map(m=>[m.character.key,m]));return{teamData:Ke(p,({data:m})=>m),teamBundle:p}}function ec(t,a=!1,n,r,s,o){const l=t.chars.get(r.key),c=re(r.key,t.gender);if(!c)return;const g=Tt(s.key);if(!g)return;const u=Ua.getAllDataOfType(c.weaponTypeKey),h=a?(()=>{const{display:x,...b}=g.data;return Kt([b,u])})():g.data,p=Kt([c.data,h,fr]),m=[...Array.isArray(o)?o.map(x=>Gn(x,n)):[o],Vn(r,a?p:void 0),ga(s),p,Kn,zn];return{character:l,weapon:s,characterSheet:c,weaponSheet:g,data:m}}const rt={mx:.25,px:.25};function tc({reaction:t}){const{t:a}=P("sheet_gen"),n=t==="spread"?"dendro":"electro";return d(f,{display:"flex",alignItems:"center",children:[e(Xe,{color:t,children:a(`reaction.${t}`)}),e(X,{sx:rt,color:"dendro",children:e(hn,{...ie})}),"+",e(X,{sx:rt,color:"electro",children:e(la,{...ie})}),"+",e(X,{sx:rt,color:n,children:e(_t,{ele:n,iconProps:ie})})]})}const dd={"":e("span",{children:"No Team Melee Infusion"}),pyro:d("span",{children:[e(pn,{...ie})," ",e(X,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:d("span",{children:[e(mn,{...ie})," ",e(X,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]}),hydro:d("span",{children:[e(fn,{...ie})," ",e(X,{children:"Candace Burst"})," Sacred Rite: Wagtail's Tide"]}),electro:d("span",{children:[e(la,{...ie})," ",e(X,{children:"Somnia Burst"})," ","Parallax Paws"]})};function ac(t){const{t:a}=P("page_character"),{teamCharId:n,teamChar:{reaction:r}}=i.useContext(ge),s=k(),{data:o}=i.useContext(H),l=o.get(j.charEle).value,c=o.get(Yn).value,g=[...new Set([...Yt[l]??[],...Yt[c]??[],...Xt[l]??[],...Xt[c]??[]])];return d(Je,{exclusive:!0,baseColor:"secondary",value:r,onChange:(u,h)=>s.teamChars.set(n,{reaction:h}),disabled:!n,...t,children:[e(Te,{value:"",disabled:!r,children:a`noReaction`}),g.map(u=>e(Te,{value:u,disabled:r===u,children:[...gn].includes(u)?e(er,{reaction:u}):e(tc,{reaction:u})},u))]})}function nc(t){const{t:a}=P("page_character"),{teamCharId:n,teamChar:{hitMode:r="avgHit"}}=i.useContext(ge),s=k();return e(Je,{exclusive:!0,baseColor:"secondary",value:r,onChange:(o,l)=>s.teamChars.set(n,{hitMode:l}),disabled:!n,...t,children:Cn.map(o=>e(Te,{value:o,disabled:r===o,children:a(`hitmode.${o}`)},o))})}function Na({artId:t,weaponId:a}){const{t:n}=P("page_character"),[r,s,o]=he(!1);return d(ve,{children:[e(xt,{open:r,onClose:o,containerProps:{maxWidth:"xl"},children:e(rc,{artId:t,weaponId:a,onHide:o})}),e(pe,{title:e(v,{children:n`tabEquip.compare`}),placement:"top",arrow:!0,children:e(A,{color:"info",size:"small",onClick:s,children:e(sr,{})})})]})}function rc(t){var r;const a=i.useContext(ge),n=i.useContext(O);return(r=a==null?void 0:a.teamChar)!=null&&r.optConfigId?e(oc,{...t}):n!=null&&n.character?e(sc,{...t}):null}function oc({artId:t,weaponId:a,onHide:n}){const r=k(),{character:{key:s}}=i.useContext(O),{loadoutDatum:o,teamChar:{optConfigId:l}}=i.useContext(ge),{mainStatAssumptionLevel:c}=Ne(l),{data:g}=i.useContext(H),u=i.useMemo(()=>{const C=r.arts.get(t??""),m=r.teams.getLoadoutArtifacts(o),x=Ke(m,(b,_)=>_===(C==null?void 0:C.slotKey)?C:b);return Object.values(x).filter(b=>b)},[r,o,t]),h=Xl(c,u,a?r.weapons.get(a):void 0),p=i.useMemo(()=>h&&{data:h[s].target,teamData:h,oldData:g},[s,h,g]);return p?e(Ea,{dataProviderValue:p,onHide:n}):null}function sc({artId:t,weaponId:a,onHide:n}){const r=k(),{character:{key:s,equippedArtifacts:o}}=i.useContext(O),{data:l}=i.useContext(H),c=i.useMemo(()=>{const h=r.arts.get(t??""),p=Ke(o,(C,m)=>m===(h==null?void 0:h.slotKey)?h:r.arts.get(C));return Object.values(p).filter(C=>C)},[r,o,t]),g=yt(s,0,c,a?r.weapons.get(a):void 0),u=i.useMemo(()=>g&&{data:g[s].target,teamData:g,oldData:l},[s,g,l]);if(u)return e(Ea,{dataProviderValue:u,onHide:n})}function Ea({dataProviderValue:t,onHide:a}){return e(i.Suspense,{fallback:e(ne,{variant:"rectangular",width:"100%",height:600}),children:t&&e(H.Provider,{value:t,children:e(Gl,{extraButtonsLeft:d(ve,{children:[e(nc,{size:"small"}),e(ac,{size:"small"})]}),extraButtonsRight:e(A,{size:"small",color:"error",onClick:a,children:e(He,{})})})})})}const ic={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},lc=i.lazy(()=>ca(()=>import("./ArtifactEditor-6b0c1187.js"),["./ArtifactEditor-6b0c1187.js","./index-9f97c81a.js","./index-f640122c.css","./ArtifactRarityDropdown-56a4e753.js","./index-68c86a45.js","./index-813f416d.js","./ColoredText-e7c80e16.js","./SqBadge-c39eae66.js","./ConditionalWrapper-3c8f8723.js","./StarDisplay-0a012b06.js","./DropdownButton-6d807b50.js","./ArtifactStatKeyDisplay-294767e6.js","./Artifact-b7751800.js","./InfoTooltip-61e6f0b8.js","./BootstrapTooltip-6dffa956.js","./LockOpen-7606c49c.js","./SlotIcon-6f434e14.js","./CloseButton-0c75fe1a.js","./ArtifactSort-99f9d0cf.js","./CardActionArea-2d232caa.js","./TextButton-e6914fc8.js","./CardHeader-43ee41ef.js","./ChevronRight-717e37d6.js"],import.meta.url)),cc=i.lazy(()=>ca(()=>import("./ArtifactFilterDisplay-cb65cea6.js").then(t=>t.b),["./ArtifactFilterDisplay-cb65cea6.js","./index-9f97c81a.js","./index-f640122c.css","./LockOpen-7606c49c.js","./useDisplayArtifact-1e3ab064.js","./SolidToggleButtonGroup-d376e439.js","./totalUtils-41e91122.js","./BootstrapTooltip-6dffa956.js","./StarDisplay-0a012b06.js","./DropdownButton-6d807b50.js","./ColoredText-e7c80e16.js","./index-813f416d.js","./SqBadge-c39eae66.js","./ArtifactStatKeyDisplay-294767e6.js","./Artifact-b7751800.js","./ConditionalWrapper-3c8f8723.js","./index-68c86a45.js","./SlotIcon-6f434e14.js"],import.meta.url));function Pa({onChangeId:t,slotKey:a,show:n,onClose:r}){const{t:s}=P(["page_character","artifact"]),o=k(),l=i.useCallback(w=>{t(w),r()},[t,r]),c=i.useCallback((w,y)=>({...w,...y,slotKeys:[a]}),[a]),[g,u,h]=he(!1),[p,C]=i.useReducer(c,{...ir(),slotKeys:[a]}),[m,x]=Ue();i.useEffect(()=>o.arts.followAny(x),[o,x]);const b=ya(),_=i.useMemo(()=>lr(),[]),T=o.arts.values.filter(w=>w.slotKey===p.slotKeys[0]).length,S=i.useMemo(()=>{const w=St(p,_);return m&&o.arts.values.filter(w).map(y=>y.id)},[m,o,_,p]),{numShow:M,setTriggerElement:z}=va(ic[b],S.length),B=i.useMemo(()=>S.slice(0,M),[S,M]),I=S.length!==T?`${S.length}/${T}`:`${T}`,q={numShowing:B.length,total:I,t:s,namespace:"artifact"};return e(Oe,{open:n,onClose:r,containerProps:{maxWidth:"xl"},children:d(de,{children:[e(i.Suspense,{fallback:!1,children:e(lc,{artifactIdToEdit:g?"new":"",cancelEdit:h,allowUpload:!0,allowEmpty:!0,fixedSlotKey:p.slotKeys[0]})}),d(W,{sx:{py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d(v,{variant:"h6",children:[a?e(Me,{src:De.slot[a]}):null," ",s`tabEquip.swapArt`]}),e(Ye,{onClick:r})]}),e(fe,{}),e(W,{children:e(i.Suspense,{fallback:e(ne,{variant:"rectangular",width:"100%",height:200}),children:e(cc,{filterOption:p,filterOptionDispatch:C,filteredIds:S,disableSlotFilter:!0})})}),e(fe,{}),d(W,{children:[e(f,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:e(wa,{showingTextProps:q})}),e(A,{fullWidth:!0,onClick:u,color:"info",startIcon:e(Sa,{}),children:s("artifact:addNew")}),e(f,{mt:1,children:e(i.Suspense,{fallback:e(ne,{variant:"rectangular",width:"100%",height:300}),children:e($,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:B.map(w=>e($,{item:!0,xs:1,children:e(Pe,{artifactId:w,extraButtons:e(Na,{artId:w}),onClick:l})},w))})})}),S.length!==B.length&&e(ne,{ref:w=>{w&&z(w)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}const dc={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},uc=Ut([...da]);function Nt({onChangeId:t,weaponTypeKey:a,show:n,onClose:r}){const{t:s}=P(["page_character","page_weapon","weaponNames_gen"]),o=k(),[l,c]=i.useState(!1),g=i.useCallback(R=>{t(R),r()},[t,r]),[u,h]=i.useState(""),p=i.useCallback(R=>{h(o.weapons.new(xn(R)))},[o,h]),C=i.useCallback(()=>h(""),[]),[m,x]=Ue();i.useEffect(()=>o.weapons.followAny(x),[x,o]);const b=ya(),[_,T]=i.useState([5,4,3]),[S,M]=i.useState(""),z=i.useDeferredValue(S),B=i.useMemo(()=>(m&&o.weapons.values.filter(St({weaponType:a,rarity:_,name:z},cr())).sort(_a(ur.level??[],!1,dr())).map(R=>R.id))??[],[m,o,_,a,z]),{numShow:I,setTriggerElement:q}=va(dc[b],B.length),w=i.useMemo(()=>B.slice(0,I),[B,I]),y=`${B.length}`,D={numShowing:w.length,total:y,t:s,namespace:"page_weapon"};return e(Oe,{open:n,onClose:r,children:d(de,{children:[e(i.Suspense,{fallback:!1,children:e(br,{show:l,onHide:()=>c(!1),onSelect:p,weaponTypeFilter:a})}),e(i.Suspense,{fallback:!1,children:e(xa,{weaponId:u,footer:!0,onClose:C})}),e(W,{sx:{py:1},children:d($,{container:!0,children:[e($,{item:!0,flexGrow:1,children:d(v,{variant:"h6",children:[a?e(Me,{src:De.weaponTypes[a]}):null," ",s`page_character:tabEquip.swapWeapon`]})}),e($,{item:!0,children:e(Ye,{onClick:r})})]})}),e(fe,{}),d(W,{sx:{display:"flex",flexDirection:"column",gap:1},children:[d($,{container:!0,spacing:1,children:[e($,{item:!0,children:e(Je,{sx:{height:"100%"},value:_,size:"small",children:da.map(R=>e(Te,{value:R,onClick:()=>T(uc(_,R)),children:d(f,{display:"flex",children:[e("strong",{children:R}),e(Ra,{})]})},R))})}),e($,{item:!0,flexGrow:1,children:e(La,{autoFocus:!0,size:"small",value:S,onChange:R=>M(R.target.value),label:s("page_weapon:weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),e(f,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:e(wa,{showingTextProps:D})}),e(A,{fullWidth:!0,onClick:()=>c(!0),color:"info",startIcon:e(Sa,{}),children:s("page_weapon:addWeapon")}),e($,{container:!0,spacing:1,children:w.map(R=>e($,{item:!0,xs:6,sm:6,md:4,lg:3,children:e(Fe,{weaponId:R,onClick:g,extraButtons:e(Na,{weaponId:R})})},R))}),B.length!==w.length&&e(ne,{ref:R=>{R&&q(R)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})})}const hc={xs:1,sm:2,md:3,lg:3,xl:3};function pc({weaponTypeKey:t,weaponId:a,artifactIds:n,setWeapon:r,setArtifact:s}){const o=k(),[l,c]=i.useState("");i.useEffect(()=>{a&&l&&l!==a&&c(a)},[l,a]);const g=i.useCallback(()=>a&&c(a),[a]),u=i.useCallback(()=>c(""),[]);return d(f,{children:[e(xa,{weaponId:l,footer:!0,onClose:u,extraButtons:e(xc,{weaponTypeKey:t,onChangeId:r})}),d($,{item:!0,columns:hc,container:!0,spacing:1,children:[e($,{item:!0,xs:1,display:"flex",flexDirection:"column",children:a&&o.weapons.keys.includes(a)?e(Fe,{weaponId:a,onEdit:g,extraButtons:e(Cc,{weaponTypeKey:t,onChangeId:r})}):e(mc,{weaponTypeKey:t,onChangeId:r})}),!!n&&Object.entries(n).map(([h,p])=>e($,{item:!0,xs:1,children:o.arts.keys.includes(p)?e(Pe,{artifactId:p,extraButtons:e(gc,{slotKey:h,onChangeId:C=>s(h,C)}),editorProps:{}}):e(fc,{slotKey:h,onChangeId:C=>s(h,C)})},p||h))]})]})}function mc({weaponTypeKey:t,onChangeId:a}){const[n,r,s]=he();return d(Z,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(W,{children:d(v,{children:[e(Me,{src:De.weaponTypes[t]})," ",t]})}),e(fe,{}),d(f,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(Nt,{weaponTypeKey:t,show:n,onClose:s,onChangeId:a}),e(A,{onClick:r,color:"info",sx:{borderRadius:"1em"},children:e(je,{sx:{height:100,width:100}})})]})]})}function fc({slotKey:t,onChangeId:a}){const[n,r,s]=he(),{t:o}=P("artifact");return d(Z,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(W,{children:d(v,{children:[e(jr,{iconProps:ie,slotKey:t})," ",o(`slotName.${t}`)]})}),e(fe,{}),d(f,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(Pa,{slotKey:t,show:n,onClose:s,onChangeId:a}),e(A,{onClick:r,color:"info",sx:{borderRadius:"1em"},children:e(je,{sx:{height:100,width:100}})})]})]})}function gc({slotKey:t,onChangeId:a}){const{t:n}=P("page_character"),[r,s,o]=he();return d(ve,{children:[e(pe,{title:e(v,{children:n`tabEquip.swapArt`}),placement:"top",arrow:!0,children:e(A,{color:"info",size:"small",onClick:s,children:e(je,{})})}),e(Pa,{slotKey:t,show:r,onClose:o,onChangeId:a})]})}function Cc({weaponTypeKey:t,onChangeId:a}){const{t:n}=P("page_character"),[r,s,o]=he();return d(ve,{children:[e(pe,{title:e(v,{children:n`tabEquip.swapWeapon`}),placement:"top",arrow:!0,children:e(A,{color:"info",size:"small",onClick:s,children:e(je,{})})}),e(Nt,{weaponTypeKey:t,onChangeId:a,show:r,onClose:o})]})}function xc({weaponTypeKey:t,onChangeId:a}){const{t:n}=P("page_character"),[r,s,o]=he();return d(ve,{children:[e(A,{color:"info",onClick:s,startIcon:e(je,{}),children:n`tabEquip.swapWeapon`}),e(Nt,{weaponTypeKey:t,onChangeId:a,show:r,onClose:o})]})}function bc({talentKey:t,dropDownButtonProps:a}){const{t:n}=P("sheet_gen"),{character:{talent:r,key:s}}=i.useContext(O),o=k(),{data:l}=i.useContext(H),c=l.get(ce.total[`${t}Boost`]).value,g=l.get(ce.total[t]).value,u=l.get(ce.asc).value;return e(zr,{fullWidth:!0,title:n("talentLvl",{level:g}),color:c?"info":"primary",...a,children:bn(1,yn[u]).map(h=>e(wr,{selected:r[t]===h,disabled:r[t]===h,onClick:()=>o.chars.set(s,p=>{p.talent[t]=h}),children:n("talentLvl",{level:h+c})},h))})}function yc(){const{t}=P("ui"),a=k(),{character:n}=i.useContext(O),{key:r}=n,{gender:s}=ue(),o=i.useCallback(()=>a.dbMeta.set({gender:s==="F"?"M":"F"}),[s,a]);return r.startsWith("Traveler")?d(A,{onClick:o,startIcon:s==="F"?e(Nr,{}):e(Er,{}),children:[e("strong",{children:t(`gender.${s}`)})," "]}):null}function vc({onClose:t}){const{t:a}=P(["page_character","sillyWisher_charNames","charNames_gen"]),n=ua(),r=k(),{character:s,character:{key:o},characterSheet:l}=i.useContext(O),{gender:c}=ue(),{silly:g}=i.useContext(Ve),u=i.useCallback(async()=>{let h=re(o,c).name;typeof h=="object"&&(h=a(`${g?"sillyWisher_charNames":"charNames_gen"}:${Be(o,c)}`)),window.confirm(a("removeCharacter",{value:h}))&&(r.chars.remove(o),n("/characters"))},[r,n,o,c,g,a]);return d(f,{display:"flex",flexDirection:"column",gap:1,children:[d(f,{display:"flex",gap:1,children:[e(yc,{}),e(A,{color:"error",onClick:()=>u(),startIcon:e(lt,{}),sx:{marginLeft:"auto"},children:a("delete")}),!!t&&e(Ye,{onClick:t})]}),e(f,{children:d($,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[e($,{item:!0,xs:8,sm:5,md:4,lg:3,children:d(Z,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[e(cl,{}),e(f,{sx:{px:1},children:e(tr,{level:s.level,ascension:s.ascension,setBoth:h=>r.chars.set(o,h)})}),e(f,{sx:{px:2},children:e(Da,{})}),e(v,{sx:{textAlign:"center",pb:-1},variant:"h6",children:l.constellationName}),e(ll,{})]})}),d($,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[e(f,{children:e($,{container:!0,columns:3,spacing:1,children:["auto","skill","burst"].map(h=>{var p;return e($,{item:!0,xs:1,children:e(bc,{talentKey:h,dropDownButtonProps:{startIcon:e(Me,{src:(p=l.getTalentOfKey(h))==null?void 0:p.img,size:1.75,sideMargin:!0})}},h)},h)})})}),e(wc,{}),e(Rc,{})]})]})})]})}function wc(){const{character:{key:t}}=i.useContext(O),{data:a}=i.useContext(H),n=k(),r=vn(t).weaponType,s=a.get(j.weapon.id).value,o=i.useMemo(()=>it(xe,l=>a.get(j.art[l].id).value),[a]);return e(f,{children:e(pc,{weaponTypeKey:r,weaponId:s,artifactIds:o,setWeapon:l=>{n.weapons.set(l,{location:ye(t)})},setArtifact:(l,c)=>{n.arts.set(c,{location:ye(t)})}})})}const _c={xs:1,md:2};function Rc(){const t=ua(),{character:{key:a}}=i.useContext(O),n=k(),{gender:r}=ue(),[s,o]=Ue(),l=i.useMemo(()=>{const p={};return n.teamChars.entries.map(([C,m])=>{m.key===a&&(p[C]||(p[C]=[]))}),n.teams.entries.forEach(([C,m])=>{const x=m.loadoutData.find(b=>{var _;return b&&((_=n.teamChars.get(b==null?void 0:b.teamCharId))==null?void 0:_.key)===a});x&&p[x==null?void 0:x.teamCharId].push(C)}),s&&p},[s,a,n]);i.useEffect(()=>n.teams.followAny(()=>o()),[n,o]),i.useEffect(()=>n.teamChars.followAny(()=>o()),[n,o]);const c=p=>{const C=n.teams.new();n.teams.set(C,m=>{m.loadoutData[0]={teamCharId:p}}),t(`/teams/${C}`,{state:{openSetting:!0}})},g=()=>{const p=n.teams.new(),C=n.teamChars.new(a);n.teams.set(p,m=>{m.loadoutData[0]={teamCharId:C}}),t(`/teams/${p}`,{state:{openSetting:!0}})},u=p=>{window.confirm("The loadouts and data (such as multi-opts) on this character will be deleted.")&&n.teamChars.remove(p)},h=p=>{n.teamChars.duplicate(p)};return d(f,{sx:{display:"flex",flexDirection:"column",gap:1},children:[d(v,{variant:"h6",children:["Team Loadouts with"," ",e(wn,{characterKey:a,gender:r})]}),Object.entries(l).map(([p,C])=>{const{name:m,description:x,buildIds:b,buildTcIds:_,customMultiTargets:T}=n.teamChars.get(p);return d(Z,{bgt:"light",children:[e(W,{children:d(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(v,{children:m}),e(_n,{title:e(v,{children:x}),children:e(ke,{})}),d(_e,{color:b.length?"primary":"secondary",children:[b.length," Builds"]}),d(_e,{color:_.length?"primary":"secondary",children:[_.length," TC Builds"]}),d(_e,{color:T.length?"primary":"secondary",children:[T.length," Multi-Opt"]}),e(A,{color:"info",onClick:()=>h(p),sx:{ml:"auto"},children:e(ja,{})}),e(Lc,{teamCharId:p,teamIds:C,onDelete:()=>u(p)})]})}),e(fe,{}),e(W,{children:d($,{container:!0,columns:_c,spacing:1,children:[C.map(S=>e($,{item:!0,xs:1,children:e(Wn,{teamId:S,onClick:M=>t(`/teams/${S}${M?`/${M}`:""}`)})},S)),e($,{item:!0,xs:1,children:e(A,{fullWidth:!0,sx:{height:"100%"},onClick:()=>c(p),color:"info",startIcon:e(Vt,{}),children:"Add new Team"})})]})})]},p)}),e(A,{fullWidth:!0,onClick:()=>g(),color:"info",startIcon:e(Vt,{}),children:"Add new Loadout+Team"}),e(Z,{bgt:"light"})]})}function Lc({teamCharId:t,onDelete:a,teamIds:n}){const r=k(),{name:s,description:o,buildIds:l,buildTcIds:c,customMultiTargets:g,bonusStats:u}=r.teamChars.get(t),[h,p,C]=he(),m=i.useCallback(()=>{C(),a()},[a,C]);return d(ve,{children:[e(A,{color:"error",onClick:p,children:e(lt,{})}),e(xt,{open:h,onClose:C,containerProps:{maxWidth:"md"},children:d(Z,{children:[e(_r,{title:d("span",{children:["Delete Loadout: ",e("strong",{children:s}),"?"]}),action:e(Ge,{onClick:C,children:e(He,{})})}),e(fe,{}),d(W,{children:[o&&e(Z,{bgt:"dark",sx:{mb:2},children:e(W,{children:o})}),e(v,{children:"Deleting the Loadout will also delete the following data:"}),d(Rn,{sx:{listStyleType:"disc",pl:4},children:[!!l.length&&e(we,{sx:{display:"list-item"},children:d(f,{sx:{display:"flex",alignItems:"center",gap:1},children:["All saved builds: ",l.length," ",e(pe,{title:e(f,{children:l.map(x=>{var b;return d(v,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(Ee,{}),e("span",{children:(b=r.builds.get(x))==null?void 0:b.name})]},x)})}),children:e(ke,{})})]})}),!!c.length&&e(we,{sx:{display:"list-item"},children:d(f,{sx:{display:"flex",alignItems:"center",gap:1},children:["All saved TC builds: ",c.length," ",e(pe,{title:e(f,{children:c.map(x=>{var b;return d(v,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(Ee,{}),e("span",{children:(b=r.buildTcs.get(x))==null?void 0:b.name})]},x)})}),children:e(ke,{})})]})}),!!g.length&&e(we,{sx:{display:"list-item"},children:d(f,{sx:{display:"flex",alignItems:"center",gap:1},children:["All Custom Multi-targets: ",g.length," ",e(pe,{title:e(f,{children:g.map((x,b)=>d(v,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(Aa,{}),e("span",{children:x.name})]},b))}),children:e(ke,{})})]})}),!!Object.keys(u).length&&d(we,{sx:{display:"list-item"},children:["Bonus stats: ",Object.keys(u).length]}),e(we,{sx:{display:"list-item"},children:"Optimization Configuration"}),!!n.length&&e(we,{sx:{display:"list-item"},children:d(f,{sx:{display:"flex",alignItems:"center",gap:1},children:[d("span",{children:["Any teams with this loadout will have this loadout removed from the team. Teams will not be deleted. Teams affected:"," ",n.length]}),e(pe,{title:e(f,{children:n.map(x=>{var b;return d(v,{sx:{display:"flex",alignItems:"center",gap:1},children:[e(Ln,{}),e("span",{children:(b=r.teams.get(x))==null?void 0:b.name})]},x)})}),children:e(ke,{})})]})})]})]}),d(Sn,{sx:{float:"right"},children:[e(A,{startIcon:e(He,{}),color:"secondary",onClick:C,children:"Cancel"}),e(A,{startIcon:e(lt,{}),color:"error",onClick:m,children:"Delete"})]})]})})]})}function ud({characterKey:t,onClose:a}){return e(xt,{open:!!t,onClose:a,children:e(i.Suspense,{fallback:e(ne,{variant:"rectangular",width:"100%",height:1e3}),children:t&&e(Sc,{characterKey:t,onClose:a},t)})})}function Sc({characterKey:t,onClose:a}){const n=vt(t),{gender:r}=ue(),s=re(t,r),o=yt(t),{target:l}=(o==null?void 0:o[t])??{},c=jt((n==null?void 0:n.key)??""),g=i.useMemo(()=>{if(!(!o||!l))return{data:l,teamData:o,oldData:void 0}},[l,o]),u=i.useMemo(()=>{if(!(!n||!s))return{character:n,characterSheet:s,characterDispatch:c}},[n,s,c]),[h,p]=i.useState(),[C,m]=i.useState(),x=i.useMemo(()=>({chartData:h,setChartData:p,graphBuilds:C,setGraphBuilds:m}),[h,C]);return i.useEffect(()=>{p(void 0),m(void 0)},[t]),e(Z,{children:e(W,{sx:{display:"flex",flexDirection:"column",gap:1},children:g&&u&&x?e(O.Provider,{value:u,children:e(H.Provider,{value:g,children:e(ys.Provider,{value:x,children:e(vc,{onClose:a})})})}):e(ne,{variant:"rectangular",width:"100%",height:1e3})})})}function $c(t,a){return{new:n=>t.chars.get(n)?0:1,name:n=>ct.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${Be(n,t.gender)}`).toString(),level:n=>{const r=t.chars.get(n);return r?r.level*(r.ascension+1):0},rarity:n=>dt.char.data[ye(n)].rarity??0,favorite:n=>t.charMeta.get(n).favorite?1:0}}function kc(t,a){return{element:(n,r)=>r.includes($n(n)),weaponType:(n,r)=>r.includes(dt.char.data[ye(n)].weaponType),rarity:(n,r)=>r.includes(dt.char.data[ye(n)].rarity),name:(n,r)=>r===void 0||ct.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${Be(n,t.gender)}`).toLowerCase().includes(r.toLowerCase())||a&&ct.t(`charNames_gen:${Be(n,t.gender)}`).toLowerCase().includes(r.toLowerCase()),new:(n,r)=>r===void 0||r===(t.chars.get(n)?"no":"yes")}}const Fa={name:["favorite","name"],level:["favorite","level","rarity","name"],rarity:["favorite","rarity","level","name"]},Tc=Ie(Te,{shouldForwardProp:t=>t!=="baseColor"&&t!=="selectedColor"})(({theme:t,baseColor:a="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[n].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[n].dark}})),Uc=Tc,Mc=Ut([...bt]);function Dc({value:t,totals:a,onChange:n,...r}){const s=Ct(),o=!ut(s.breakpoints.up("md")),l=!ut(s.breakpoints.up("sm"));return e(xr,{exclusive:!0,value:t,...r,children:bt.map(c=>d(Uc,{value:c,sx:{p:o?1:void 0,minWidth:o?0:"6em",display:"flex"},selectedColor:c,onClick:()=>n(Mc(t,c)),children:[e(_t,{ele:c,iconProps:{fontSize:o&&!l?"inherit":void 0}}),!l&&e(me,{sx:{ml:.5},label:a[c],size:"small"})]},c))})}const jc=Object.keys(Fa);function hd({show:t,onHide:a,onSelect:n,filter:r=()=>!0,newFirst:s=!1}){const{t:o}=P(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:l}=i.useContext(Ve),c=k(),[g,u]=i.useState(()=>c.displayCharacter.get());i.useEffect(()=>c.displayCharacter.follow((y,D)=>u(D)),[c,u]);const{gender:h}=ue(),[p,C]=Ue();i.useEffect(()=>c.charMeta.followAny(()=>C()),[C,c]);const[m,x]=i.useState(""),b=i.useDeferredValue(m),_=i.useDeferredValue(g),T=i.useDeferredValue(p),S=i.useMemo(()=>{const{element:y,weaponType:D,sortType:R,ascending:N}=_,oe=[...s?["new"]:[],...Fa[R]??[]];return T&&tt.filter(Q=>r(Q,c.chars.get(Q),re(Q,h))).filter(St({element:y,weaponType:D,name:b},kc(c,l))).sort(_a(oe,N,$c(c,l),["new","favorite"]))},[_,s,T,b,c,l,r,h]),M=i.useMemo(()=>Jt(Tn,y=>tt.forEach(D=>{const R=re(D,c.gender).weaponTypeKey;y[R].total++,S.includes(D)&&y[R].current++})),[S,c]),z=i.useMemo(()=>Jt(bt,y=>tt.forEach(D=>{const R=re(D,c.gender).elementKey;y[R].total++,S.includes(D)&&y[R].current++})),[S,c]),{weaponType:B,element:I,sortType:q,ascending:w}=g;return e(Oe,{open:t,onClose:()=>{x(""),a()},sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:d(de,{children:[d(W,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e(hr,{sx:{height:"100%"},onChange:y=>c.displayCharacter.set({weaponType:y}),value:B,totals:M,size:"small"}),e(Dc,{sx:{height:"100%"},onChange:y=>c.displayCharacter.set({element:y}),value:I,totals:z,size:"small"}),e(f,{flexGrow:1,children:e(La,{autoFocus:!0,value:m,onChange:y=>x(y.target.value),label:o("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),e(rr,{sx:{height:"100%"},sortKeys:jc,value:q,onChange:y=>c.displayCharacter.set({sortType:y}),ascending:w,onChangeAsc:y=>c.displayCharacter.set({ascending:y})}),e(Ye,{onClick:()=>{x(""),a()}})]}),e(fe,{}),e(H.Provider,{value:{teamData:void 0},children:e(W,{children:e($,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:S.map(y=>e($,{item:!0,xs:1,children:e(Bc,{characterKey:y,onClick:()=>{x(""),a(),n==null||n(y)}})},y))})})})]})})}const Ac=Ie(({className:t,...a})=>e(pe,{...a,classes:{popper:t}}))({[`& .${kn.tooltip}`]:{padding:0}});function Bc({characterKey:t,onClick:a}){const{gender:n}=ue(),r=re(t,n),s=vt(t),{favorite:o}=wt(t),l=k(),{silly:c}=i.useContext(Ve),[g,u,h]=he(),{level:p=1,ascension:C=0,constellation:m=0}=s??{},x=Xn(t,"banner",n);return e(Ac,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:g,onClose:h,onOpen:u,title:e(f,{sx:{width:300},children:e(Cs,{hideStats:!0,characterKey:t})}),children:e(f,{children:d(gt,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e(f,{sx:{position:"absolute",opacity:.7,zIndex:2},children:e(Ge,{sx:{p:.25},onClick:b=>{h(),l.charMeta.set(t,{favorite:!o})},children:o?e($t,{}):e(Dt,{})})}),e(We,{onClick:a,children:d(f,{display:"flex",position:"relative",className:x?void 0:`grad-${r==null?void 0:r.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:`url(${x})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[e(f,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:e(f,{component:"img",src:Nn(t,n,c),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),d(f,{flexGrow:1,sx:{pr:1,pt:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[e(v,{variant:"body2",sx:{flexGrow:1},children:e(X,{color:r==null?void 0:r.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:r==null?void 0:r.name})}),s?d(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[d(f,{sx:{textShadow:"0 0 5px gray"},children:[d(v,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",p]}),d(v,{variant:"body2",component:"span",color:"text.secondary",children:["/",Un[C]]})]}),d(v,{variant:"body2",children:["C",m]})]}):e(v,{component:"span",variant:"body2",children:e(X,{children:"NEW"})}),e(Lt,{stars:(r==null?void 0:r.rarity)??1,colored:!0})]})]})})]})})})}const Ic=Ut([...ha]);function pd({value:t,totals:a,onChange:n,...r}){const s=Ct(),o=!ut(s.breakpoints.up("sm"));return e(Je,{exclusive:!0,value:t,...r,children:ha.map(l=>e(Te,{value:l,sx:{p:o?1:void 0,minWidth:o?0:"6em",display:"flex",gap:o?0:1},onClick:()=>n(Ic(t,l)),children:d(f,{display:"flex",children:[e("strong",{children:l}),e(Ra,{}),!o&&e(me,{label:a[l],size:"small"})]})},l))})}export{tc as A,Gl as B,pd as C,zr as D,Dc as E,cd as F,ys as G,nc as H,ll as I,Ml as J,jt as K,He as L,Sl as M,Jl as N,$l as O,ac as R,jr as S,bc as T,jl as W,Cs as a,kc as b,Fa as c,$c as d,ud as e,hd as f,Ul as g,Tl as h,Aa as i,ja as j,dd as k,Cl as l,pc as m,Al as n,gl as o,Zl as p,ft as q,mt as r,ql as s,Bl as t,Ne as u,Wa as v,Ql as w,Da as x,Xl as y,cl as z};
