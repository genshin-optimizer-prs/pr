import{a3 as C,r,H as c,D as a,ad as d,a1 as y,aa as v,W as u,Y as m,G as b}from"./index-DEBGZ8wG.js";import{u as w,C as D}from"./useForceUpdate-tICSStRQ.js";import{u as S,a as k}from"./useInfScroll-DSdu11wW.js";import{C as E,a as H}from"./CharacterEditor-B-D_GU2m.js";import"./index-Dtu4JXgN.js";import"./CardActionArea-CdMOM3pg.js";import"./DropdownButton-aKbSrMFm.js";const I={xs:1,sm:2,md:3,lg:3,xl:4},M={xs:5,sm:5,md:10,lg:10,xl:10};function j(){const{database:t}=C(),[n,o]=w();r.useEffect(()=>t.chars.followAny(o),[t,o]);const{characters:s}=r.useMemo(()=>{const e=t.chars.values;return n&&{characters:e}},[t.chars.values,n]),g=S(),{numShow:i,setTriggerElement:f}=k(M[g],s.length),l=r.useMemo(()=>s.slice(0,i),[s,i]),[x,h]=r.useState(void 0);return c(b,{children:[a(E,{characterKey:x,onClose:()=>h(void 0)}),a(r.Suspense,{fallback:a(d,{variant:"rectangular",sx:{widht:"100%",height:"100%",minHeight:300}}),children:c(y,{bgt:"dark",children:[a(D,{title:"Characters"}),a(v,{children:c(u,{sx:{overflow:"auto",maxHeight:"50vh"},my:1,display:"flex",flexDirection:"column",gap:1,children:[a(m,{container:!0,spacing:1,columns:I,children:l.map((e,p)=>a(m,{item:!0,xs:1,children:a(H,{character:e,onClick:()=>h(e.key)})},p))}),s.length!==l.length&&a(d,{ref:e=>{e&&f(e)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})})]})})]})}function A(){return a(u,{my:1,children:a(j,{})})}export{A as default};
