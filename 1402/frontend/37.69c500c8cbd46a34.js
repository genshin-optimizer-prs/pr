(self.webpackChunk=self.webpackChunk||[]).push([[37],{67651:(r,a,s)=>{"use strict";s.d(a,{Z:()=>y});var b=s(29798),m=s(52322);const y=(0,b.Z)([(0,m.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,m.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"1")],"PhotoCamera")},85219:(r,a,s)=>{"use strict";s.d(a,{Z:()=>y});var b=s(29798),m=s(52322);const y=(0,b.Z)((0,m.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update")},72841:(r,a,s)=>{"use strict";s.d(a,{Z:()=>B});var b=s(98283),m=s(7560),y=s(2784),v=s(40489),w=s(69075),_=s(28165),T=s(7342),x=s(43853),O=s(65992),S=s(69222),A=s(15672);function P(r){return(0,A.Z)("MuiCircularProgress",r)}(0,S.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var E=s(52322);const I=["className","color","disableShrink","size","style","thickness","value","variant"];let D,k,$,L,F=r=>r;const N=44,R=(0,_.F4)(D||(D=F`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),j=(0,_.F4)(k||(k=F`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),C=(0,O.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,a)=>{const{ownerState:s}=r;return[a.root,a[s.variant],a[`color${(0,T.Z)(s.color)}`]]}})((({ownerState:r,theme:a})=>(0,m.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:a.transitions.create("transform")},"inherit"!==r.color&&{color:(a.vars||a).palette[r.color].main})),(({ownerState:r})=>"indeterminate"===r.variant&&(0,_.iv)($||($=F`
      animation: ${0} 1.4s linear infinite;
    `),R))),M=(0,O.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(r,a)=>a.svg})({display:"block"}),U=(0,O.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,a)=>{const{ownerState:s}=r;return[a.circle,a[`circle${(0,T.Z)(s.variant)}`],s.disableShrink&&a.circleDisableShrink]}})((({ownerState:r,theme:a})=>(0,m.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:r})=>"indeterminate"===r.variant&&!r.disableShrink&&(0,_.iv)(L||(L=F`
      animation: ${0} 1.4s ease-in-out infinite;
    `),j))),B=y.forwardRef((function(r,a){const s=(0,x.Z)({props:r,name:"MuiCircularProgress"}),{className:y,color:_="primary",disableShrink:O=!1,size:S=40,style:A,thickness:D=3.6,value:k=0,variant:$="indeterminate"}=s,L=(0,b.Z)(s,I),F=(0,m.Z)({},s,{color:_,disableShrink:O,size:S,thickness:D,value:k,variant:$}),R=(r=>{const{classes:a,variant:s,color:b,disableShrink:m}=r,y={root:["root",s,`color${(0,T.Z)(b)}`],svg:["svg"],circle:["circle",`circle${(0,T.Z)(s)}`,m&&"circleDisableShrink"]};return(0,w.Z)(y,P,a)})(F),j={},B={},z={};if("determinate"===$){const r=2*Math.PI*((N-D)/2);j.strokeDasharray=r.toFixed(3),z["aria-valuenow"]=Math.round(k),j.strokeDashoffset=`${((100-k)/100*r).toFixed(3)}px`,B.transform="rotate(-90deg)"}return(0,E.jsx)(C,(0,m.Z)({className:(0,v.Z)(R.root,y),style:(0,m.Z)({width:S,height:S},B,A),ownerState:F,ref:a,role:"progressbar"},z,L,{children:(0,E.jsx)(M,{className:R.svg,ownerState:F,viewBox:"22 22 44 44",children:(0,E.jsx)(U,{className:R.circle,style:j,ownerState:F,cx:N,cy:N,r:(N-D)/2,fill:"none",strokeWidth:D})})}))}))},72751:r=>{r.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},4184:(module,__unused_webpack_exports,__webpack_require__)=>{var __dirname="../../node_modules/onnxruntime-web/dist",__filename="../../node_modules/onnxruntime-web/dist/ort.min.js",t;self,t=()=>(()=>{var __webpack_modules__={5716:(r,a,s)=>{"use strict";a.R=void 0;const b=s(6027),m=s(1723);a.R=new class{async init(){}async createSessionHandler(r,a){const s=new b.Session(a);return await s.loadModel(r),new m.OnnxjsSessionHandler(s)}}},2818:(r,a,s)=>{"use strict";a.c8=a.rX=void 0;const b=s(2235),m=s(5381),y=s(9544),v=s(6640);a.rX=()=>{if(("number"!=typeof b.env.wasm.initTimeout||b.env.wasm.initTimeout<0)&&(b.env.wasm.initTimeout=0),"boolean"!=typeof b.env.wasm.simd&&(b.env.wasm.simd=!0),"boolean"!=typeof b.env.wasm.proxy&&(b.env.wasm.proxy=!1),"number"!=typeof b.env.wasm.numThreads||!Number.isInteger(b.env.wasm.numThreads)||b.env.wasm.numThreads<=0){const r="undefined"==typeof navigator?(0,m.cpus)().length:navigator.hardwareConcurrency;b.env.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},a.c8=new class{async init(){(0,a.rX)(),await(0,y.initializeWebAssemblyInstance)()}async createSessionHandler(r,a){const s=new v.OnnxruntimeWebAssemblySessionHandler;return await s.loadModel(r,a),Promise.resolve(s)}}},1057:function(r,a,s){"use strict";var b=this&&this.__createBinding||(Object.create?function(r,a,s,b){void 0===b&&(b=s);var m=Object.getOwnPropertyDescriptor(a,s);m&&!("get"in m?!a.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,b,m)}:function(r,a,s,b){void 0===b&&(b=s),r[b]=a[s]}),m=this&&this.__exportStar||function(r,a){for(var s in r)"default"===s||Object.prototype.hasOwnProperty.call(a,s)||b(a,r,s)};Object.defineProperty(a,"__esModule",{value:!0}),m(s(2235),a);const y=s(2235),v=s(8408);{const r=s(5716).R;(0,y.registerBackend)("webgl",r,-10)}{const r=s(2818).c8;(0,y.registerBackend)("cpu",r,10),(0,y.registerBackend)("wasm",r,10),(0,y.registerBackend)("xnnpack",r,9),(0,y.registerBackend)("webnn",r,9)}y.env.versions.web=v.version},4910:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createAttributeWithCacheKey=void 0;class n{constructor(r){Object.assign(this,r)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((r=>`${this[r]}`)).join(";")),this._cacheKey}}a.createAttributeWithCacheKey=r=>new n(r)},6874:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Attribute=void 0;const b=s(5127),m=s(2446),y=s(9240),v=s(7273);var w=b.onnxruntime.experimental.fbs;class u{constructor(r){if(this._attributes=new Map,null!=r){for(const a of r)a instanceof m.onnx.AttributeProto?this._attributes.set(a.name,[u.getValue(a),u.getType(a)]):a instanceof w.Attribute&&this._attributes.set(a.name(),[u.getValue(a),u.getType(a)]);if(this._attributes.size<r.length)throw new Error("duplicated attribute names")}}set(r,a,s){this._attributes.set(r,[s,a])}delete(r){this._attributes.delete(r)}getFloat(r,a){return this.get(r,"float",a)}getInt(r,a){return this.get(r,"int",a)}getString(r,a){return this.get(r,"string",a)}getTensor(r,a){return this.get(r,"tensor",a)}getFloats(r,a){return this.get(r,"floats",a)}getInts(r,a){return this.get(r,"ints",a)}getStrings(r,a){return this.get(r,"strings",a)}getTensors(r,a){return this.get(r,"tensors",a)}get(r,a,s){const b=this._attributes.get(r);if(void 0===b){if(void 0!==s)return s;throw new Error(`required attribute not found: ${r}`)}if(b[1]!==a)throw new Error(`type mismatch: expected ${a} but got ${b[1]}`);return b[0]}static getType(r){const a=r instanceof m.onnx.AttributeProto?r.type:r.type();switch(a){case m.onnx.AttributeProto.AttributeType.FLOAT:return"float";case m.onnx.AttributeProto.AttributeType.INT:return"int";case m.onnx.AttributeProto.AttributeType.STRING:return"string";case m.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case m.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case m.onnx.AttributeProto.AttributeType.INTS:return"ints";case m.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case m.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${m.onnx.AttributeProto.AttributeType[a]}`)}}static getValue(r){const a=r instanceof m.onnx.AttributeProto?r.type:r.type();if(a===m.onnx.AttributeProto.AttributeType.GRAPH||a===m.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const s=this.getValueNoCheck(r);if(a===m.onnx.AttributeProto.AttributeType.INT&&v.LongUtil.isLong(s))return v.LongUtil.longToNumber(s);if(a===m.onnx.AttributeProto.AttributeType.INTS){const r=s,a=new Array(r.length);for(let s=0;s<r.length;s++){const b=r[s];a[s]=v.LongUtil.longToNumber(b)}return a}if(a===m.onnx.AttributeProto.AttributeType.TENSOR)return r instanceof m.onnx.AttributeProto?y.Tensor.fromProto(s):y.Tensor.fromOrtTensor(s);if(a===m.onnx.AttributeProto.AttributeType.TENSORS){if(r instanceof m.onnx.AttributeProto)return s.map((r=>y.Tensor.fromProto(r)));if(r instanceof w.Attribute)return s.map((r=>y.Tensor.fromOrtTensor(r)))}if(a===m.onnx.AttributeProto.AttributeType.STRING&&r instanceof m.onnx.AttributeProto){const r=s;return(0,v.decodeUtf8String)(r)}return a===m.onnx.AttributeProto.AttributeType.STRINGS&&r instanceof m.onnx.AttributeProto?s.map(v.decodeUtf8String):s}static getValueNoCheck(r){return r instanceof m.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(r):this.getValueNoCheckFromOrtFormat(r)}static getValueNoCheckFromOnnxFormat(r){switch(r.type){case m.onnx.AttributeProto.AttributeType.FLOAT:return r.f;case m.onnx.AttributeProto.AttributeType.INT:return r.i;case m.onnx.AttributeProto.AttributeType.STRING:return r.s;case m.onnx.AttributeProto.AttributeType.TENSOR:return r.t;case m.onnx.AttributeProto.AttributeType.GRAPH:return r.g;case m.onnx.AttributeProto.AttributeType.FLOATS:return r.floats;case m.onnx.AttributeProto.AttributeType.INTS:return r.ints;case m.onnx.AttributeProto.AttributeType.STRINGS:return r.strings;case m.onnx.AttributeProto.AttributeType.TENSORS:return r.tensors;case m.onnx.AttributeProto.AttributeType.GRAPHS:return r.graphs;default:throw new Error(`unsupported attribute type: ${m.onnx.AttributeProto.AttributeType[r.type]}`)}}static getValueNoCheckFromOrtFormat(r){switch(r.type()){case w.AttributeType.FLOAT:return r.f();case w.AttributeType.INT:return r.i();case w.AttributeType.STRING:return r.s();case w.AttributeType.TENSOR:return r.t();case w.AttributeType.GRAPH:return r.g();case w.AttributeType.FLOATS:return r.floatsArray();case w.AttributeType.INTS:{const a=[];for(let s=0;s<r.intsLength();s++)a.push(r.ints(s));return a}case w.AttributeType.STRINGS:{const a=[];for(let s=0;s<r.stringsLength();s++)a.push(r.strings(s));return a}case w.AttributeType.TENSORS:{const a=[];for(let s=0;s<r.tensorsLength();s++)a.push(r.tensors(s));return a}default:throw new Error(`unsupported attribute type: ${w.AttributeType[r.type()]}`)}}}a.Attribute=u},1975:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.resolveBackend=a.backend=void 0;const b=s(4418),m=new Map;async function y(r){const s=a.backend;if(void 0!==s[r]&&function(r){const a=r;return"initialize"in a&&"function"==typeof a.initialize&&"createSessionHandler"in a&&"function"==typeof a.createSessionHandler&&"dispose"in a&&"function"==typeof a.dispose}(s[r])){const a=s[r];let b=a.initialize();if("object"==typeof b&&"then"in b&&(b=await b),b)return m.set(r,a),a}}a.backend={webgl:new b.WebGLBackend},a.resolveBackend=async function r(a){if(!a)return r(["webgl"]);{const r="string"==typeof a?[a]:a;for(const a of r){const r=m.get(a);if(r)return r;const s=await y(a);if(s)return s}}throw new Error("no available backend to use")}},4418:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.WebGLBackend=void 0;const b=s(2235),m=s(1315),y=s(2171),v=s(3389);a.WebGLBackend=class{get contextId(){return b.env.webgl.contextId}set contextId(r){b.env.webgl.contextId=r}get matmulMaxBatchSize(){return b.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(r){b.env.webgl.matmulMaxBatchSize=r}get textureCacheMode(){return b.env.webgl.textureCacheMode}set textureCacheMode(r){b.env.webgl.textureCacheMode=r}get pack(){return b.env.webgl.pack}set pack(r){b.env.webgl.pack=r}get async(){return b.env.webgl.async}set async(r){b.env.webgl.async=r}initialize(){try{return this.glContext=(0,v.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),m.Logger.setWithEnv(b.env),m.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(r){return m.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${r}`),!1}}createSessionHandler(r){return new y.WebGLSessionHandler(this,r)}dispose(){this.glContext.dispose()}}},6859:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.CoordsGlslLib=void 0;const b=s(7273),m=s(1997),y=s(6757),v=s(7618),w=s(432);class u extends m.GlslLib{constructor(r){super(r)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new m.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new m.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const r=this.context.outputTextureLayout;return r.isPacked?this.getPackedOutputSamplingSnippet(r):this.getUnpackedOutputSamplingSnippet(r)}getPackedOutputSamplingSnippet(r){const a=r.unpackedShape,s=[r.width,r.height],b={},v="getOutputCoords";switch(a.length){case 0:b[v]=this.getOutputScalarCoords();break;case 1:b[v]=this.getOutputPacked1DCoords(a,s);break;case 2:b[v]=this.getOutputPacked2DCoords(a,s);break;case 3:b[v]=this.getOutputPacked3DCoords(a,s);break;default:b[v]=this.getOutputPackedNDCoords(a,s)}const w=`\n      void setOutput(vec4 val) {\n        ${(0,y.getGlsl)(this.context.glContext.version).output} = val;\n      }\n    `;return b.floatTextureSetRGBA=new m.GlslLibRoutine(w),b}getUnpackedOutputSamplingSnippet(r){const a=r.unpackedShape,s=[r.width,r.height],b={},v="getOutputCoords";switch(a.length){case 0:b[v]=this.getOutputScalarCoords();break;case 1:b[v]=this.getOutputUnpacked1DCoords(a,s);break;case 2:b[v]=this.getOutputUnpacked2DCoords(a,s);break;case 3:b[v]=this.getOutputUnpacked3DCoords(a,s);break;case 4:b[v]=this.getOutputUnpacked4DCoords(a,s);break;case 5:b[v]=this.getOutputUnpacked5DCoords(a,s);break;case 6:b[v]=this.getOutputUnpacked6DCoords(a,s);break;default:throw new Error(`Unsupported output dimensionality: ${a.length}`)}const w=`\n        void setOutput(float val) {\n          ${(0,y.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return b.floatTextureSetR=new m.GlslLibRoutine(w),b}getOutputScalarCoords(){return new m.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(r,a){const s=a;let b="";return 1===s[0]?(b=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${s[1]}.0);\n          }\n        `,new m.GlslLibRoutine(b)):1===s[1]?(b=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${s[0]}.0);\n          }\n        `,new m.GlslLibRoutine(b)):(b=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${s[0]}, ${s[1]}));\n          return 2 * (resTexRC.y * ${s[0]} + resTexRC.x);\n        }\n      `,new m.GlslLibRoutine(b))}getOutputPacked2DCoords(r,a){let s="";if(b.ArrayUtil.arraysEqual(r,a))return s=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${a[0]}, ${a[1]}));\n        }\n      `,new m.GlslLibRoutine(s);const y=a,v=Math.ceil(r[1]/2);return s=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${y[0]}, ${y[1]}));\n\n          int index = resTexRC.y * ${y[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${v}) * 2;\n          int c = 2 * (index / ${v});\n\n          return ivec2(r, c);\n        }\n      `,new m.GlslLibRoutine(s)}getOutputPacked3DCoords(r,a){const s=[a[0],a[1]],b=Math.ceil(r[2]/2),y=b*Math.ceil(r[1]/2),v=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n\n          int b = index / ${y};\n          index -= b * ${y};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${b}) * 2;\n          int c = 2 * (index / ${b});\n\n          return ivec3(b, r, c);\n        }\n      `;return new m.GlslLibRoutine(v)}getOutputPackedNDCoords(r,a){const s=[a[0],a[1]],b=Math.ceil(r[r.length-1]/2),y=b*Math.ceil(r[r.length-2]/2);let v=y,w="",_="b, r, c";for(let m=2;m<r.length-1;m++)v*=r[r.length-m-1],w=`\n      int b${m} = index / ${v};\n      index -= b${m} * ${v};\n    `+w,_=`b${m}, `+_;const T=`\n      ivec${r.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${s[0]}, ${s[1]}));\n        int index = resTexRC.y * ${s[0]} + resTexRC.x;\n\n        ${w}\n\n        int b = index / ${y};\n        index -= b * ${y};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${b}) * 2;\n        int c = 2 * (index / ${b});\n\n        return ivec${r.length}(${_});\n      }\n    `;return new m.GlslLibRoutine(T)}getOutputUnpacked1DCoords(r,a){const s=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          return resTexRC.y * ${a[0]} + resTexRC.x;\n        }\n      `;return new m.GlslLibRoutine(s)}getOutputUnpacked2DCoords(r,a){const s=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n          int r = index / ${r[1]};\n          int c = index - r * ${r[1]};\n          return ivec2(r, c);\n        }\n      `;return new m.GlslLibRoutine(s)}getOutputUnpacked3DCoords(r,a){let s="";const b=r.length;let y=null;b<2&&(y=[]),y=new Array(b-1),y[b-2]=r[b-1];for(let m=b-3;m>=0;--m)y[m]=y[m+1]*r[m+1];const v=["r","c","d"],w=y.map(((r,a)=>`int ${v[a]} = index / ${r}; ${a===y.length-1?`int ${v[a+1]} = index - ${v[a]} * ${r}`:`index -= ${v[a]} * ${r}`};`)).join("");return s=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n          ${w}\n          return ivec3(r, c, d);\n        }\n      `,new m.GlslLibRoutine(s)}getOutputUnpacked4DCoords(r,a){let s="";const b=r.length;let y=null;b<2&&(y=[]),y=new Array(b-1),y[b-2]=r[b-1];for(let m=b-3;m>=0;--m)y[m]=y[m+1]*r[m+1];const v=["r","c","d","d2"],w=y.map(((r,a)=>`int ${v[a]} = index / ${r}; ${a===y.length-1?`int ${v[a+1]} = index - ${v[a]} * ${r}`:`index -= ${v[a]} * ${r}`};`)).join("");return s=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n          ${w}\n          return ivec4(r, c, d, d2);\n        }\n      `,new m.GlslLibRoutine(s)}getOutputUnpacked5DCoords(r,a){let s="";const b=r.length;let y=null;b<2&&(y=[]),y=new Array(b-1),y[b-2]=r[b-1];for(let m=b-3;m>=0;--m)y[m]=y[m+1]*r[m+1];const v=["r","c","d","d2","d3"],w=y.map(((r,a)=>`int ${v[a]} = index / ${r}; ${a===y.length-1?`int ${v[a+1]} = index - ${v[a]} * ${r}`:`index -= ${v[a]} * ${r}`};`)).join("");return s=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n          ${w}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new m.GlslLibRoutine(s)}getOutputUnpacked6DCoords(r,a){let s="";const b=r.length;let y=null;b<2&&(y=[]),y=new Array(b-1),y[b-2]=r[b-1];for(let m=b-3;m>=0;--m)y[m]=y[m+1]*r[m+1];const v=["r","c","d","d2","d3","d4"],w=y.map(((r,a)=>`int ${v[a]} = index / ${r}; ${a===y.length-1?`int ${v[a+1]} = index - ${v[a]} * ${r}`:`index -= ${v[a]} * ${r}`};`)).join("");return s=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${a[0]}, ${a[1]}));\n         int index = resTexRC.y * ${a[0]} + resTexRC.x;\n         ${w}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new m.GlslLibRoutine(s)}getCommonUtilFuncs(){const r={};let a="uvFromFlat";r[a]=new m.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),a="packedUVfrom1D",r[a]=new m.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),a="packedUVfrom2D",r[a]=new m.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),a="packedUVfrom3D",r[a]=new m.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),a="sampleTexture";const s=(0,y.getGlsl)(this.context.glContext.version);return r[a]=new m.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${s.texture2D}(textureSampler, uv).r;\n        }`),r}getInputsSamplingSnippets(){const r={},a=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((s,b)=>{const m=this.context.inputTextureLayouts[b],y=(0,w.generateShaderFuncNameFromInputSamplerName)(s);m.isPacked?r[y]=this.getPackedSamplerFromInput(y,s,m):r[y]=this.getUnpackedSamplerFromInput(y,s,m);const v=(0,w.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(s);m.unpackedShape.length<=a.unpackedShape.length&&(m.isPacked?r[v]=this.getPackedSamplerAtOutputCoords(v,m,a,s):r[v]=this.getUnpackedSamplerAtOutputCoords(v,m,a,s))})),r}getPackedSamplerAtOutputCoords(r,a,s,y){const v=a.unpackedShape,_=s.unpackedShape,T=y,x=(0,w.generateShaderFuncNameFromInputSamplerName)(T),O=v.length,S=_.length,A=b.BroadcastUtil.getBroadcastDims(v,_),P=(0,w.getCoordsDataType)(S),E=S-O;let I;const D=(0,w.getGlChannels)();I=0===O?"":S<2&&A.length>=1?"coords = 0;":A.map((r=>`coords.${D[r+E]} = 0;`)).join("\n");let k="";k=S<2&&O>0?"coords":v.map(((r,a)=>`coords.${D[a+E]}`)).join(", ");let $="return outputValue;";const L=1===b.ShapeUtil.size(v),F=1===b.ShapeUtil.size(_);if(1!==O||L||F){if(L&&!F)$=1===S?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(A.length){const r=O-2,a=O-1;A.indexOf(r)>-1&&A.indexOf(a)>-1?$="return vec4(outputValue.x);":A.indexOf(r)>-1?$="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":A.indexOf(a)>-1&&($="return vec4(outputValue.xx, outputValue.zz);")}}else $="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const N=`\n      vec4 ${r}() {\n        ${P} coords = getOutputCoords();\n        \n        int lastDim = coords.${D[S-1]};\n        coords.${D[S-1]} = coords.${D[S-2]};\n        coords.${D[S-2]} = lastDim;\n      \n        ${I}\n        vec4 outputValue = ${x}(${k});\n        ${$}\n      }\n    `;return new m.GlslLibRoutine(N,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(r,a,s,y){const v=[s.width,s.height],_=[a.width,a.height],T=a.unpackedShape.length,x=s.unpackedShape.length,O=a.unpackedShape,S=s.unpackedShape,A=(0,w.generateShaderFuncNameFromInputSamplerName)(y);if(T===x&&b.ArrayUtil.arraysEqual(_,v)){const a=`\n          float ${r}() {\n            return sampleTexture(${y}, TexCoords);\n          }\n        `;return new m.GlslLibRoutine(a,["coordinates.sampleTexture"])}const P=(0,w.getCoordsDataType)(x),E=b.BroadcastUtil.getBroadcastDims(O,S),I=x-T;let D;const k=(0,w.getGlChannels)();D=0===T?"":x<2&&E.length>=1?"coords = 0;":E.map((r=>`coords.${k[r+I]} = 0;`)).join("\n");let $="";$=x<2&&T>0?"coords":a.unpackedShape.map(((r,a)=>`coords.${k[a+I]}`)).join(", ");const L=`\n        float ${r}() {\n          ${P} coords = getOutputCoords();\n          ${D}\n          return ${A}(${$});\n        }\n      `;return new m.GlslLibRoutine(L,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(r,a,s){switch(s.unpackedShape.length){case 0:return this.getPackedSamplerScalar(r,a);case 1:return this.getPackedSampler1D(r,a,s);case 2:return this.getPackedSampler2D(r,a,s);case 3:return this.getPackedSampler3D(r,a,s);default:return this.getPackedSamplerND(r,a,s)}}getUnpackedSamplerFromInput(r,a,s){const b=s.unpackedShape;switch(b.length){case 0:return this.getUnpackedSamplerScalar(r,a,s);case 1:return this.getUnpackedSampler1D(r,a,s);case 2:return this.getUnpackedSampler2D(r,a,s);case 3:return this.getUnpackedSampler3D(r,a,s);case 4:return this.getUnpackedSampler4D(r,a,s);case 5:return this.getUnpackedSampler5D(r,a,s);case 6:return this.getUnpackedSampler6D(r,a,s);default:throw new Error(`Unsupported dimension ${b.length}-D`)}}getPackedSamplerScalar(r,a){const s=`\n          vec4 ${r}() {\n            return ${(0,y.getGlsl)(this.context.glContext.version).texture2D}(${a}, halfCR);\n          }\n        `;return new m.GlslLibRoutine(s)}getPackedSampler1D(r,a,s){const b=[s.width,s.height],v=[b[1],b[0]],w=(0,y.getGlsl)(this.context.glContext.version),_=`vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${v[0]}, ${v[1]}, index);\n      return ${w.texture2D}(${a}, uv);\n    }`;return new m.GlslLibRoutine(_,["coordinates.packedUVfrom1D"])}getPackedSampler2D(r,a,s){const v=s.unpackedShape,w=[s.width,s.height],_=(0,y.getGlsl)(this.context.glContext.version),T=w[0],x=w[1];if(null!=w&&b.ArrayUtil.arraysEqual(v,w)){const s=`vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${x}.0, ${T}.0);\n        return ${_.texture2D}(${a}, uv);\n      }`;return new m.GlslLibRoutine(s)}const O=w,S=Math.ceil(v[1]/2),A=`vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${O[1]}, ${O[0]}, ${S}, row, col);\n      return ${_.texture2D}(${a}, uv);\n    }`;return new m.GlslLibRoutine(A,["coordinates.packedUVfrom2D"])}getPackedSampler3D(r,a,s){const b=s.unpackedShape,v=[s.width,s.height],_=[v[0],v[1]],T=(0,y.getGlsl)(this.context.glContext.version);if(1===b[0]){const y=b.slice(1),v=[1,2],_=(0,w.squeezeInputShape)(b,y),T=["b","row","col"],x=JSON.parse(JSON.stringify(s));x.unpackedShape=_;const O=this.getPackedSamplerFromInput(r,a,x),S=`${O.routineBody}\n      vec4 ${r}(int b, int row, int col) {\n        return ${r}(${(0,w.getSqueezedParams)(T,v)});\n      } `;return new m.GlslLibRoutine(S,O.dependencies)}const x=_[0],O=_[1],S=Math.ceil(b[2]/2),A=`vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${O}, ${x}, ${S*Math.ceil(b[1]/2)}, ${S}, b, row, col);\n      return ${T.texture2D}(${a}, uv);}`;return new m.GlslLibRoutine(A,["coordinates.packedUVfrom3D"])}getPackedSamplerND(r,a,s){const b=s.unpackedShape,v=b.length,w=[s.width,s.height],_=(0,y.getGlsl)(this.context.glContext.version),T=[w[0],w[1]],x=T[1],O=T[0],S=Math.ceil(b[v-1]/2);let A=S*Math.ceil(b[v-2]/2),P="int b, int row, int col",E=`b * ${A} + (row / 2) * ${S} + (col / 2)`;for(let m=2;m<v-1;m++)P=`int b${m}, `+P,A*=b[v-m-1],E=`b${m} * ${A} + `+E;const I=`vec4 ${r}(${P}) {\n      int index = ${E};\n      int texR = index / ${O};\n      int texC = index - texR * ${O};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${O}, ${x});\n      return ${_.texture2D}(${a}, uv);\n    }`;return new m.GlslLibRoutine(I)}getUnpackedSamplerScalar(r,a,s){const[b,y]=[s.width,s.height];if(1===b&&1===y){const s=`\n          float ${r}() {\n            return sampleTexture(${a}, halfCR);\n          }\n        `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture"])}const v=`\n        float ${r}() {\n          int offset_${a} = coordsToOffset(TexCoords, ${b}, ${y});\n          vec2 uv = uvFromFlat(${b}, ${y}, offset_${a});\n          return sampleTexture(${a}, uv);\n        }\n      `;return new m.GlslLibRoutine(v,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(r,a,s){const b=s.width,y=s.height;if(1===y&&1===b){const s=`\n        float ${r}(int index) {\n          return sampleTexture(${a}, halfCR);\n        }\n      `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture"])}if(1===y){const s=`\n          float ${r}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${b}.0, 0.5);\n            return sampleTexture(${a}, uv);\n          }\n        `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture"])}if(1===b){const s=`\n          float ${r}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${y}.0);\n            return sampleTexture(${a}, uv);\n          }\n        `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture"])}const v=`\n        float ${r}(int index) {\n          vec2 uv = uvFromFlat(${b}, ${y}, index);\n          return sampleTexture(${a}, uv);\n        }\n      `;return new m.GlslLibRoutine(v,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(r,a,s){const y=s.unpackedShape,_=[s.height,s.width];if(null!=_&&b.ArrayUtil.arraysEqual(y,_)){const s=`\n          float ${r}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${_[1]}.0, ${_[0]}.0);\n            return sampleTexture(${a}, uv);\n          }\n        `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture"])}const{newShape:T,keptDims:x}=(0,v.squeezeShape)(y),O=T;if(O.length<y.length){const b=(0,w.squeezeInputShape)(y,O),v=JSON.parse(JSON.stringify(s));v.unpackedShape=b;const _=["col","row"],T=`\n          ${this.getUnpackedSamplerFromInput(r,a,v).routineBody}\n          float ${r}(int row, int col) {\n            return ${r}(${(0,w.getSqueezedParams)(_,x)});\n          }\n        `;return new m.GlslLibRoutine(T,["coordinates.sampleTexture"])}const S=_[1],A=_[0];if(1===A){const s=`\n          float ${r}(int row, int col) {\n            int offset_${a} = coordsToOffset(TexCoords, ${S}, ${A});\n            float index = dot(vec3(row, col, offset_${a}), vec3(${y[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${S}.0);\n            return sampleTexture(${a}, uv);\n          }\n        `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===S){const s=`\n          float ${r}(int row, int col) {\n            int offset_${a} = coordsToOffset(TexCoords, ${S}, ${A});\n            float index = dot(vec3(row, col, offset_${a}), vec3(${y[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${A}.0, 0.5);\n            return sampleTexture(${a}, uv);\n          }\n        `;return new m.GlslLibRoutine(s,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const P=`\n        float ${r}(int row, int col) {\n          int index = col * ${y[1]} + row;\n          vec2 uv = uvFromFlat(${S}, ${A}, index);\n          return sampleTexture(${a}, uv);\n        }\n      `;return new m.GlslLibRoutine(P,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(r,a,s){const b=s.unpackedShape,y=b[1]*b[2],_=b[2],{newShape:T,keptDims:x}=(0,v.squeezeShape)(b),O=T;if(O.length<b.length){const y=(0,w.squeezeInputShape)(b,O),v=["batch","col","row"],_=JSON.parse(JSON.stringify(s));_.unpackedShape=y;const T=this.getUnpackedSamplerFromInput(r,a,_),S=x.reverse(),A=`\n          ${T.routineBody}\n          float ${r}(int batch, int row, int col) {\n            return ${r}(${(0,w.getSqueezedParams)(v,S)});\n          }\n        `;return new m.GlslLibRoutine(A,T.dependencies)}const S=`\n          float ${r}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${y} + col * ${_} + row;\n            vec2 uv = uvFromFlat(${s.width}, ${s.height}, index);\n            return sampleTexture(${a}, uv);\n          }\n      `;return new m.GlslLibRoutine(S,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(r,a,s){const b=s.unpackedShape,y=b[3],v=b[2]*y,w=`\n        float ${r}(int row, int col, int depth, int depth2) {\n          int index = row * ${b[1]*v} + col * ${v} +\n              depth2 * ${y} + depth;\n          vec2 uv = uvFromFlat(${s.width}, ${s.height}, index);\n          return sampleTexture(${a}, uv);\n        }\n      `;return new m.GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(r,a,s){const b=s.unpackedShape,y=b[4],_=b[3]*y,T=b[2]*_,x=b[1]*T,{newShape:O,keptDims:S}=(0,v.squeezeShape)(b);if(O.length<b.length){const y=(0,w.squeezeInputShape)(b,O),v=["row","col","depth","depth2","depth3"],_=JSON.parse(JSON.stringify(s));_.unpackedShape=y;const T=`\n          ${this.getUnpackedSamplerFromInput(r,a,_).routineBody}\n          float ${r}(int row, int col, int depth, int depth2, int depth3) {\n            return ${r}(${(0,w.getSqueezedParams)(v,S)});\n          }\n        `;return new m.GlslLibRoutine(T,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const A=`\n        float ${r}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${x} + col * ${T} + depth * ${_} +\n          depth3 * ${y} + depth2;\n          vec2 uv = uvFromFlat(${s.width}, ${s.height}, index);\n          return sampleTexture(${a}, uv);\n        }\n      `;return new m.GlslLibRoutine(A,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(r,a,s){const b=s.unpackedShape,y=b[5],_=b[4]*y,T=b[3]*_,x=b[2]*T,O=b[1]*x,{newShape:S,keptDims:A}=(0,v.squeezeShape)(b);if(S.length<b.length){const y=(0,w.squeezeInputShape)(b,S),v=["row","col","depth","depth2","depth3","depth4"],_=JSON.parse(JSON.stringify(s));_.unpackedShape=y;const T=`\n            ${this.getUnpackedSamplerFromInput(r,a,_).routineBody}\n            float ${r}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${r}(${(0,w.getSqueezedParams)(v,A)});\n            }\n          `;return new m.GlslLibRoutine(T,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const P=`\n          float ${r}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${O} + col * ${x} + depth * ${T} +\n            depth2 * ${_} + depth3 * ${y} + depth4;\n            vec2 uv = uvFromFlat(${s.width}, ${s.height}, index);\n            return sampleTexture(${a}, uv);\n          }\n        `;return new m.GlslLibRoutine(P,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const r=this.context.outputTextureLayout,a=r.shape.length,s=r.strides,b=r.width,y=r.height,v=[];for(let m=0;m<a-1;++m)v.push(`\n        c[${m}] = offset / ${s[m]};`),v.push(`\n        offset -= c[${m}] * ${s[m]};`);v.push(`\n        c[${a-1}] = offset;`);const w=`\n      void toVec(vec2 texCoords, out int c[${a}]) {\n        int offset = coordsToOffset(texCoords, ${b}, ${y});\n        ${v.join("")}\n      }\n      void toVec(int offset, out int c[${a}]) {\n        ${v.join("")}\n      }\n    `;return{toVec:new m.GlslLibRoutine(w,["coordinates.coordsToOffset"])}}valueFrom(){const r={};return this.context.programInfo.inputNames.forEach(((a,s)=>{const b=this.context.inputTextureLayouts[s],y=(b.unpackedShape.length>0?b.unpackedShape:b.shape).length;let v=`_${a}`;r[v]=new m.GlslLibRoutine(this.getValueFromSingle(a,y,b.width,b.height,!1),[`shapeUtils.indicesToOffset${v}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),v+="_T",r[v]=new m.GlslLibRoutine(this.getValueFromSingle(a,y,b.width,b.height,!0),[`shapeUtils.indicesToOffset${v}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),r}getValueFromSingle(r,a,s,b,m){let v=`_${r}`;return m&&(v+="_T"),`\n        float ${v}(int m[${a}]) {\n          int offset = indicesToOffset${v}(m);\n          vec2 coords = offsetToCoords(offset, ${s}, ${b});\n          float value = getColorAsFloat(${(0,y.getGlsl)(this.context.glContext.version).texture2D}(${r}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(r,a,s,b,m){let v=`_${r}_Pack`;return m&&(v+="_T"),`\n        vec4 ${v}(int m[${a}]) {\n          int offset = indicesToOffset_${r}(m);\n          vec2 coords = offsetToCoords(offset, ${s}, ${b});\n          return ${(0,y.getGlsl)(this.context.glContext.version).texture2D}(${r}, coords);\n        }\n        `}}a.CoordsGlslLib=u},1997:(r,a)=>{"use strict";var s;Object.defineProperty(a,"__esModule",{value:!0}),a.TopologicalSortGlslRoutines=a.GlslLibRoutineNode=a.GlslLibRoutine=a.GlslLib=a.GlslContext=a.FunctionType=void 0,(s=a.FunctionType||(a.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",a.GlslContext=class{constructor(r,a,s,b){this.glContext=r,this.programInfo=a,this.inputTextureLayouts=s,this.outputTextureLayout=b}},a.GlslLib=class{constructor(r){this.context=r}},a.GlslLibRoutine=class{constructor(r,a){this.routineBody=r,this.dependencies=a}},a.GlslLibRoutineNode=class{constructor(r,a,s){this.name=r,this.dependencies=s||[],a&&(this.routineBody=a)}addDependency(r){r&&this.dependencies.push(r)}},a.TopologicalSortGlslRoutines=class{static returnOrderedNodes(r){if(!r||0===r.length)return[];if(1===r.length)return r;const a=new Set,s=new Set,b=new Array;return this.createOrderedNodes(r,a,s,b),b}static createOrderedNodes(r,a,s,b){for(let m=0;m<r.length;++m)this.dfsTraverse(r[m],a,s,b)}static dfsTraverse(r,a,s,b){if(!r||s.has(r.name))return;if(a.has(r.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");a.add(r.name);const m=r.dependencies;if(m&&m.length>0)for(let y=0;y<m.length;++y)this.dfsTraverse(m[y],a,s,b);b.push(r),s.add(r.name),a.delete(r.name)}}},1371:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.EncodingGlslLib=void 0;const b=s(1997);class o extends b.GlslLib{constructor(r){super(r)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new b.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new b.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const r=o.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new b.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${r}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const r=o.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new b.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${r}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const r=new ArrayBuffer(4),a=new Uint32Array(r),s=new Uint8Array(r);if(a[0]=3735928559,239===s[0])return!0;if(222===s[0])return!1;throw new Error("unknown endianness")}}a.EncodingGlslLib=o},2691:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.FragColorGlslLib=void 0;const b=s(1997),m=s(6757);class i extends b.GlslLib{constructor(r){super(r)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const r=(0,m.getGlsl)(this.context.glContext.version);return{setFragColor:new b.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${r.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new b.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}a.FragColorGlslLib=i},3878:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;a.replaceInlines=function(r){const a={};let b;for(;null!==(b=s.exec(r));){const r=b[3].split(",").map((r=>{const a=r.trim().split(" ");return a&&2===a.length?{type:a[0],name:a[1]}:null})).filter((r=>null!==r));a[b[2]]={params:r,body:b[4]}}for(const s in a){const m="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",s),y=new RegExp(m,"gm");for(;null!==(b=y.exec(r));){const m=b[1],y=b[2],v=b[3].split(","),w=m?`${m} ${y};`:"";let _=a[s].body,T="";a[s].params.forEach(((r,a)=>{r&&(T+=`${r.type} ${r.name} = ${v[a]};\n`)})),_=`${T}\n ${_}`,_=_.replace("return",`${y} = `);const x=`\n      ${w}\n      {\n        ${_}\n      }\n      `;r=r.replace(b[0],x)}}return r.replace(s,"")}},8897:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.GlslPreprocessor=void 0;const b=s(1997),m=s(3878),y=s(1248),v=s(6757);a.GlslPreprocessor=class{constructor(r,a,s,m){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new b.GlslContext(r,a,s,m),Object.keys(y.glslRegistry).forEach((r=>{const a=new y.glslRegistry[r](this.context);this.libs[r]=a}));const v=this.glslLibRoutineDependencyGraph;for(const y in this.libs){const r=this.libs[y].getFunctions();for(const a in r){const s=y+"."+a;let m;v[s]?(m=v[s],m.routineBody=r[a].routineBody):(m=new b.GlslLibRoutineNode(s,r[a].routineBody),v[s]=m);const w=r[a].dependencies;if(w)for(let r=0;r<w.length;++r)if(v[w[r]])m.addDependency(v[w[r]]);else{const a=new b.GlslLibRoutineNode(w[r]);v[w[r]]=a,m.addDependency(a)}}}}preprocess(){const r=this.context.programInfo;let a=r.shaderSource;return this.context.programInfo.hasMain||(a=`${a}\n      ${(0,v.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),a=(0,m.replaceInlines)(a),`${(0,v.getFragShaderPreamble)(this.context.glContext.version)}\n    ${this.getUniforms(r.inputNames,r.variables)}\n    ${this.getImports(a)}\n    ${a}`}getImports(r){const a=this.selectGlslLibRoutinesToBeIncluded(r);if(0===a.length)return"";let s="";for(let b=0;b<a.length;++b){if(!a[b].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${a[b].name}`);s+=a[b].routineBody+"\n"}return s}selectGlslLibRoutinesToBeIncluded(r){const a=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((s=>{const b=s.split(".")[1];-1!==r.indexOf(b)&&a.push(this.glslLibRoutineDependencyGraph[s])})),b.TopologicalSortGlslRoutines.returnOrderedNodes(a)}getUniforms(r,a){const s=[];if(r)for(const b of r)s.push(`uniform sampler2D ${b};`);if(a)for(const b of a)s.push(`uniform ${b.type} ${b.name}${b.arrayLength?`[${b.arrayLength}]`:""};`);return s.join("\n")}}},1248:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.glslRegistry=void 0;const b=s(6859),m=s(1371),y=s(2691),v=s(9183),w=s(9314);a.glslRegistry={encoding:m.EncodingGlslLib,fragcolor:y.FragColorGlslLib,vec:w.VecGlslLib,shapeUtils:v.ShapeUtilsGlslLib,coordinates:b.CoordsGlslLib}},9183:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ShapeUtilsGlslLib=void 0;const b=s(1997);class o extends b.GlslLib{constructor(r){super(r)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const r=this.context.outputTextureLayout.shape.length,a={};return this.context.programInfo.inputNames.forEach(((s,m)=>{const y=this.context.inputTextureLayouts[m].unpackedShape;if(y.length<=r){const m=y.length,v=r-m,w=`bcastIndices_${s}`;let _="";for(let r=0;r<m;++r)_+=`\n          realIndices[${r}] = int( mod(float(bcastedIndices[${v+r}]), ${y[r]}.0) );\n          `;const T=`\n        void ${w} (int bcastedIndices[${r}], out int realIndices[${m}]) {\n          ${_}\n        }\n        `;a[w]=new b.GlslLibRoutine(T)}})),a}bcastMatmulIndex(){const r=this.context.outputTextureLayout.shape.length,a={};return this.context.programInfo.inputNames.forEach(((s,m)=>{const y=this.context.inputTextureLayouts[m].shape;if(!(y.length<2||y.length>r)){const m=y.length,v=r-m,w=`bcastMatmulIndices_${s}`;let _="";for(let r=0;r<m-2;++r)_+=`\n          realIndices[${r}] = int( mod(float(bcastedIndices[${v+r}]), ${y[r]}.0) );\n          `;const T=`\n        void ${w}(int bcastedIndices[${r}], out int realIndices[${m}]) {\n          ${_}\n          realIndices[${m-1}] = bcastedIndices[${r-1}];\n          realIndices[${m-2}] = bcastedIndices[${r-2}];\n        }\n        `;a[w]=new b.GlslLibRoutine(T)}})),a}indicesToOffset(){const r={};return this.context.programInfo.inputNames.forEach(((a,s)=>{const m=this.context.inputTextureLayouts[s].shape,y=this.context.inputTextureLayouts[s].strides,v=m.length;let w=`indicesToOffset_${a}`;r[w]=new b.GlslLibRoutine(o.indexToOffsetSingle(w,v,y)),w=`indicesToOffset_${a}_T`,r[w]=new b.GlslLibRoutine(o.indexToOffsetSingle(w,v,y.slice().reverse()))})),r}static indexToOffsetSingle(r,a,s){let b="";for(let m=a-1;m>=0;--m)b+=`\n        offset += indices[${m}] * ${s[m]};\n        `;return`\n      int ${r}(int indices[${a}]) {\n        int offset = 0;\n        ${b}\n        return offset;\n      }\n      `}offsetToIndices(){const r={};return this.context.programInfo.inputNames.forEach(((a,s)=>{const m=this.context.inputTextureLayouts[s].shape,y=this.context.inputTextureLayouts[s].strides,v=m.length;let w=`offsetToIndices_${a}`;r[w]=new b.GlslLibRoutine(o.offsetToIndicesSingle(w,v,y)),w=`offsetToIndices_${a}_T`,r[w]=new b.GlslLibRoutine(o.offsetToIndicesSingle(w,v,y.slice().reverse()))})),r}static offsetToIndicesSingle(r,a,s){const b=[];for(let m=0;m<a-1;++m)b.push(`\n      indices[${m}] = offset / ${s[m]};`),b.push(`\n        offset -= indices[${m}] * ${s[m]};`);return b.push(`\n      indices[${a-1}] = offset;`),`\n      void ${r}(int offset, out int indices[${a}]) {\n        ${b.join("")}\n      }\n      `}incrementIndices(){const r={};return this.context.programInfo.inputNames.forEach(((a,s)=>{const m=this.context.inputTextureLayouts[s].shape,y=m.length,v=`incrementIndices_${a}`;let w="";for(let r=0;r<y;++r)w+=`\n        shape[${r}] = ${m[r]};`;const _=`\n        void ${v}(int axis, out int indices[${y}]) {\n          int shape[${y}];\n          ${w};\n          for(int i = ${y} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `;r[v]=new b.GlslLibRoutine(_)})),r}}a.ShapeUtilsGlslLib=o},6757:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getDefaultFragShaderMain=a.getFragShaderPreamble=a.getVertexShaderSource=a.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},b={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function m(r){return 1===r?s:b}a.getGlsl=m,a.getVertexShaderSource=function(r){const a=m(r);return`${a.version}\n      precision highp float;\n      ${a.attribute} vec3 position;\n      ${a.attribute} vec2 textureCoord;\n\n      ${a.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},a.getFragShaderPreamble=function(r){const a=m(r);return`${a.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${a.varyingFrag} vec2 TexCoords;\n    ${a.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},a.getDefaultFragShaderMain=function(r,a){return`\n  void main() {\n    int indices[${a}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${m(r).output} = result;\n  }\n  `}},9314:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.VecGlslLib=void 0;const b=s(1997);class o extends b.GlslLib{constructor(r){super(r)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const r=this.context.outputTextureLayout.shape.length,a={add:"+=",sub:"-=",mul:"*=",div:"/="},s={};for(const m in a){const y=`${m}Vec`;let v="";for(let s=0;s<r;++s)v+=`\n          dest[${s}] ${a[m]} src[${s}];\n          `;const w=`\n        void ${y}(int src[${r}], out int dest[${r}]) {\n          ${v}\n        }\n        `;s[y]=new b.GlslLibRoutine(w)}return s}copyVec(){const r=this.context.outputTextureLayout.shape.length;let a="";for(let b=0;b<r;++b)a+=`\n        dest[${b}] = src[${b}];\n        `;const s=`\n      void copyVec(int src[${r}], out int dest[${r}]) {\n        ${a}\n      }\n      `;return{copyVec:new b.GlslLibRoutine(s)}}setVecItem(){const r=this.context.outputTextureLayout.shape.length;let a=`\n        if(index < 0)\n            index =${r} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let b=1;b<r-1;++b)a+=`\n        else if (index == ${b})\n            m[${b}] = value;\n            `;a+=`\n        else\n            m[${r-1}] = value;\n        `;const s=`\n      void setVecItem(out int m[${r}], int index, int value) {\n        ${a}\n      }\n        `;return{setVecItem:new b.GlslLibRoutine(s)}}getVecItem(){const r=this.context.outputTextureLayout.shape.length;let a=`\n        if(index < 0)\n            index = ${r} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let b=1;b<r-1;++b)a+=`\n        else if (index == ${b})\n            return m[${b}];\n      `;a+=`\n        else\n            return m[${r-1}];\n        `;const s=`\n      int getVecItem(int m[${r}], int index) {\n        ${a}\n      }\n    `;return{getVecItem:new b.GlslLibRoutine(s)}}}a.VecGlslLib=o},7860:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.WebGLInferenceHandler=void 0;const b=s(1315),m=s(9240),y=s(7273),v=s(9),w=s(7379),_=s(2488),T=s(540),x=s(3314),O=s(5639);a.WebGLInferenceHandler=class{constructor(r){this.session=r,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(r,a){return(0,x.calculateTextureWidthAndHeight)(this.session.layoutStrategy,r,a)}executeProgram(r,a){if(a.length<r.inputNames.length)throw new Error(`Input size mustn't be less than ${r.inputNames.length}.`);if(r.inputNames.length!==r.inputTypes.length)throw new Error("input names size does not match input types");const s=[];for(let _=0;_<r.inputNames.length;++_)s[_]=this.getOrCreateTextureData(a[_],r.inputTypes[_]);const b=((r,a)=>{const s=a.map((r=>`${r.unpackedShape.join(",")};${r.width}x${r.height}`)).join("_");let b=r.name;return r.cacheHint&&(b+="["+r.cacheHint+"]"),b+=":"+s,b})(r,s);let m=this.session.programManager.getArtifact(b);const y=m?m.programInfo:"function"==typeof r.get?r.get():r,v=(0,x.createTextureLayoutFromTextureType)(this.session.layoutStrategy,y.output.dims,y.output.textureType),w=this.createTextureData(v,y.output.type);return m||(m=this.session.programManager.build(y,s,w),this.session.programManager.setArtifact(b,m)),this.runProgram(m,s,w),w}run(r,a){return this.executeProgram(r,a).tensor}runProgram(r,a,s){for(let b=0;b<a.length;++b)if(!!a[b].isPacked!=(r.programInfo.inputTypes[b]===O.TextureType.packed))throw new Error(`input[${b}] property packed inconsistent`);if(!!s.isPacked!=(r.programInfo.output.textureType===O.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(r,a,s)}getOrCreateTextureData(r,a){let s=this.getTextureData(r.dataId,a===O.TextureType.packed);if(!s&&(s=this.getTextureData(r.dataId,a!==O.TextureType.packed),s))return a===O.TextureType.packed?this.pack(s):this.unpack(s);if(!s){const b=(0,x.createTextureLayoutFromTextureType)(this.session.layoutStrategy,r.dims,a);if(a===O.TextureType.packedLastDimension){const s=1,b=4,m=r.dims;if(4===m.length){const y=[m[0],Math.ceil(m[1]*m[2]*m[3]/b)],v=(0,x.createTextureLayoutFromTextureType)(this.session.layoutStrategy,y,a);let w=r.numberData;if(m[1]*m[2]*m[3]%b!=0){const a=m[0],y=m[1]*m[2]*m[3],v=Math.ceil(y*s/b)*b;w=new Float32Array(a*v);for(let b=0;b<a;++b){const a=b*y,m=b*v+b%s*y;w.set(r.numberData.subarray(a,a+y),m)}}return this.createTextureData(v,r.type,w,r,1)}}if(a===O.TextureType.packed){const a=(0,x.createTextureLayoutFromShape)(this.session.layoutStrategy,r.dims,1,[],{reverseWH:!0}),b=this.createTextureData(a,r.type,r.numberData,r,1);s=this.pack(b)}else s=this.createTextureData(b,r.type,r.numberData,r,1)}return s}createTextureDataFromLayoutBindTensor(r,a,s,b){return this.createTextureData(r,a,s,b,1)}createTextureData(r,a,s,m,y){b.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(r)}]`);const v=this.session.textureManager.createTextureFromLayout(a,r,s,y);return this.createTextureDataFromTexture(r,a,v,m)}reshapeUnpacked(r,a){const s=this.getOrCreateTextureData(r,O.TextureType.unpacked),b={channels:s.channels,height:s.height,width:s.width,shape:0!==a.length?a:[1],strides:y.ShapeUtil.computeStrides(a),unpackedShape:a};return this.createTextureDataFromTexture(b,r.type,s.texture).tensor}reshapePacked(r,a){const s=this.getOrCreateTextureData(r,O.TextureType.packed);if((0,w.isReshapeCheap)(r.dims,a)){const b={channels:s.channels,height:s.height,width:s.width,shape:0!==a.length?a:[1],strides:y.ShapeUtil.computeStrides(a),unpackedShape:a,isPacked:!0};return this.createTextureDataFromTexture(b,r.type,s.texture).tensor}const b=(0,w.processDims3D)(r.dims),m=(0,w.processDims3D)(a),v=this.reshapePacked(r,b),_=this.run((0,w.createPackedReshape3DProgramInfoLoader)(this,v,m),[v]);return this.reshapePacked(_,a)}cast(r,a){const s=this.getOrCreateTextureData(r,O.TextureType.unpacked);return this.createTextureDataFromTexture(s,a,s.texture).tensor}createTextureDataFromTexture(r,a,s,b,y){const v=Object.assign(Object.assign({},r),{tensor:b||new m.Tensor(r.unpackedShape,a,(r=>this.readTexture(v)),(async r=>this.readTextureAsync(v)),void 0,y),texture:s});return this.setTextureData(v.tensor.dataId,v,r.isPacked),v}getTextureData(r,a=!1){return this.session.isInitializer(r)?this.session.getTextureData(r,a):a?this.packedTextureDataCache.get(r):this.unpackedTextureDataCache.get(r)}setTextureData(r,a,s=!1){this.session.isInitializer(r)?this.session.setTextureData(r,a,s):(s?this.packedTextureDataCache:this.unpackedTextureDataCache).set(r,a)}isTextureLayoutCached(r,a=!1){return!!this.getTextureData(r.dataId,a)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((r=>this.session.textureManager.releaseTexture(r))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((r=>this.session.textureManager.releaseTexture(r))),this.unpackedTextureDataCache=new Map}readTexture(r){return r.isPacked?this.readTexture(this.unpack(r)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(r,r.tensor.type,r.channels):this.session.textureManager.readUint8TextureAsFloat((0,_.encodeAsUint8)(this,r))}async readTextureAsync(r){return r.isPacked?this.readTextureAsync(this.unpack(r)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(r,r.tensor.type,r.channels):this.session.textureManager.readUint8TextureAsFloat((0,_.encodeAsUint8)(this,r))}pack(r){return this.executeProgram((0,v.createPackProgramInfoLoader)(this,r.tensor),[r.tensor])}unpack(r){return this.executeProgram((0,T.createUnpackProgramInfoLoader)(this,r.tensor),[r.tensor])}}},4110:function(r,a,s){"use strict";var b=this&&this.__createBinding||(Object.create?function(r,a,s,b){void 0===b&&(b=s);var m=Object.getOwnPropertyDescriptor(a,s);m&&!("get"in m?!a.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,b,m)}:function(r,a,s,b){void 0===b&&(b=s),r[b]=a[s]}),m=this&&this.__setModuleDefault||(Object.create?function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}:function(r,a){r.default=a}),y=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var a={};if(null!=r)for(var s in r)"default"!==s&&Object.prototype.hasOwnProperty.call(r,s)&&b(a,r,s);return m(a,r),a};Object.defineProperty(a,"__esModule",{value:!0}),a.WEBGL_OP_RESOLVE_RULES=void 0;const v=s(8817),w=y(s(5194)),_=s(4752),T=s(6668),x=s(9754),O=s(5042),S=s(6742),A=s(4125),P=s(6149),E=s(5378),I=s(6981),D=s(7413),k=s(7006),$=s(8276),L=s(5565),F=s(2834),N=s(1010),R=s(8126),j=s(2801),C=s(565),M=s(2444),U=s(815),B=s(564),z=s(5416),V=s(1240),G=s(5944),H=s(5707),W=y(s(9087)),q=s(7862),Y=s(3980);a.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",W.abs],["Acos","","7+",W.acos],["Add","","7+",w.add],["And","","7+",w.and],["Asin","","7+",W.asin],["Atan","","7+",W.atan],["AveragePool","","7+",F.averagePool,F.parseAveragePoolAttributes],["BatchNormalization","","7+",v.batchNormalization,v.parseBatchNormalizationAttributes],["Cast","","6+",_.cast,_.parseCastAttributes],["Ceil","","6+",W.ceil],["Clip","","6-10",W.clip,W.parseClipAttributes],["Clip","","11+",W.clipV11],["Concat","","4+",T.concat,T.parseConcatAttributes],["Conv","","1+",x.conv,x.parseConvAttributes],["ConvTranspose","","1+",O.convTranspose,O.parseConvTransposeAttributes],["Cos","","7+",W.cos],["Div","","7+",w.div],["Dropout","","7+",W.identity],["DepthToSpace","","1+",S.depthToSpace,S.parseDepthToSpaceAttributes],["Equal","","7+",w.equal],["Elu","","6+",W.elu,W.parseEluAttributes],["Exp","","6+",W.exp],["Flatten","","1+",A.flatten,A.parseFlattenAttributes],["Floor","","6+",W.floor],["FusedConv","com.microsoft","1+",x.conv,x.parseConvAttributes],["Gather","","1+",P.gather,P.parseGatherAttributes],["Gemm","","7-10",E.gemm,E.parseGemmAttributesV7],["Gemm","","11+",E.gemm,E.parseGemmAttributesV11],["GlobalAveragePool","","1+",F.globalAveragePool,F.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",F.globalMaxPool],["Greater","","7+",w.greater],["Identity","","1+",W.identity],["ImageScaler","","1+",I.imageScaler,I.parseImageScalerAttributes],["InstanceNormalization","","6+",D.instanceNormalization,D.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",W.leakyRelu,W.parseLeakyReluAttributes],["Less","","7+",w.less],["LRN","","1+",k.lrn,k.parseLrnAttributes],["Log","","6+",W.log],["MatMul","","1+",$.matMul,$.parseMatMulAttributes],["MaxPool","","1+",F.maxPool,F.parseMaxPoolAttributes],["Mul","","7+",w.mul],["Neg","","6+",W.neg],["Not","","1+",W.not],["Or","","7+",w.or],["Pad","","2-10",L.padV2,L.parsePadAttributesV2],["Pad","","11+",L.padV11,L.parsePadAttributesV11],["Pow","","7+",w.pow],["PRelu","","7+",w.pRelu],["ReduceLogSum","","1+",N.reduceLogSum,N.parseReduceAttributes],["ReduceMax","","1+",N.reduceMax,N.parseReduceAttributes],["ReduceMean","","1+",N.reduceMean,N.parseReduceAttributes],["ReduceMin","","1+",N.reduceMin,N.parseReduceAttributes],["ReduceProd","","1+",N.reduceProd,N.parseReduceAttributes],["ReduceSum","","1-12",N.reduceSum,N.parseReduceAttributes],["ReduceSumSquare","","1+",N.reduceLogSumSquare,N.parseReduceAttributes],["Relu","","6+",W.relu],["Reshape","","5+",R.reshape],["Resize","","10",j.resize,j.parseResizeAttributesV10],["Resize","","11+",j.resize,j.parseResizeAttributesV11],["Shape","","1+",C.shape],["Sigmoid","","6+",W.sigmoid],["Sin","","7+",W.sin],["Slice","","10+",M.sliceV10],["Slice","","1-9",M.slice,M.parseSliceAttributes],["Softmax","","1-12",U.softmax,U.parseSoftmaxAttributes],["Softmax","","13+",U.softmaxV13,U.parseSoftmaxAttributesV13],["Split","","2-12",B.split,B.parseSplitAttributes],["Sqrt","","6+",W.sqrt],["Squeeze","","1-12",z.squeeze,z.parseSqueezeAttributes],["Squeeze","","13+",z.squeezeV13],["Sub","","7+",w.sub],["Sum","","6+",V.sum],["Tan","","7+",W.tan],["Tanh","","6+",W.tanh],["Tile","","6+",G.tile],["Transpose","","1+",H.transpose,H.parseTransposeAttributes],["Upsample","","7-8",Y.upsample,Y.parseUpsampleAttributesV7],["Upsample","","9",Y.upsample,Y.parseUpsampleAttributesV9],["Unsqueeze","","1-12",q.unsqueeze,q.parseUnsqueezeAttributes],["Unsqueeze","","13+",q.unsqueezeV13],["Xor","","7+",w.xor]]},8817:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseBatchNormalizationAttributes=a.batchNormalization=void 0;const b=s(4910),m=s(6757),y=s(5639),v={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]};a.batchNormalization=(r,a,s)=>(_(a),[r.run(Object.assign(Object.assign({},v),{cacheHint:s.cacheKey,get:()=>w(r,a,s)}),a)]),a.parseBatchNormalizationAttributes=r=>{const a=r.attributes.getFloat("epsilon",1e-5),s=r.attributes.getFloat("momentum",.9),m=r.attributes.getInt("spatial",1);return(0,b.createAttributeWithCacheKey)({epsilon:a,momentum:s,spatial:m})};const w=(r,a,s)=>{const b=(0,m.getGlsl)(r.session.backend.glContext.version),w=a[0].dims.length,[_,T]=r.calculateTextureWidthAndHeight(a[1].dims,y.TextureType.unpacked),x=`\n  float process(int[${w}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${_}, ${T});\n    float scale = getColorAsFloat(${b.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${b.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${b.texture2D}(Variance, position));\n    float b = getColorAsFloat(${b.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${s.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},v),{output:{dims:a[0].dims,type:a[0].type,textureType:y.TextureType.unpacked},shaderSource:x})},_=r=>{if(!r||5!==r.length)throw new Error("BatchNormalization requires 5 inputs.");const a=r[0],s=r[1],b=r[2],m=r[3],y=r[4];if(a.dims.length<3||1!==s.dims.length||1!==b.dims.length||1!==m.dims.length||1!==y.dims.length)throw new Error("invalid input shape.");if(s.dims[0]!==a.dims[1]||b.dims[0]!==a.dims[1]||m.dims[0]!==a.dims[1]||y.dims[0]!==a.dims[1])throw new Error("invalid input shape.");if("float32"!==a.type&&"float64"!==a.type||"float32"!==s.type&&"float64"!==s.type||"float32"!==b.type&&"float64"!==b.type||"float32"!==m.type&&"float64"!==m.type||"float32"!==y.type&&"float64"!==y.type)throw new Error("invalid input tensor types.")}},5194:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.xor=a.sub=a.pRelu=a.pow=a.or=a.mul=a.less=a.greater=a.equal=a.div=a.and=a.add=a.glslPRelu=a.glslPow=a.glslXor=a.glslOr=a.glslAnd=a.glslLess=a.glslGreater=a.glslEqual=a.glslSub=a.glslMul=a.glslDiv=a.glslAdd=void 0;const b=s(7273),m=s(1997),y=s(6757),v=s(5639);function w(){const r="add_";return{body:`\n  float ${r}(float a, float b) {\n    return a + b;\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function _(){const r="div_";return{body:`\n  float ${r}(float a, float b) {\n    return a / b;\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function T(){const r="mul_";return{body:`\n  float ${r}(float a, float b) {\n    return a * b;\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function x(){const r="sub_";return{body:`\n  float ${r}(float a, float b) {\n    return a - b;\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function O(){const r="equal_";return{body:`\n  float ${r}(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function S(){const r="greater_";return{body:`\n  float ${r}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function A(){const r="less_";return{body:`\n  float ${r}(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function P(){const r="and_";return{body:`\n  float ${r}(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function E(){const r="or_";return{body:`\n  float ${r}(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function I(){const r="xor_";return{body:`\n  float ${r}(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}function D(){return function(r){const a=`${r}_`;return{body:`\n  float ${a}(float a, float b) {\n    return ${r}(a, b);\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return ${r}(v1, v2);\n  }\n  `,name:a,type:m.FunctionType.ValueBased}}("pow")}function k(){const r="prelu_";return{body:`\n  float ${r}(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ${r}(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  `,name:r,type:m.FunctionType.ValueBased}}a.glslAdd=w,a.glslDiv=_,a.glslMul=T,a.glslSub=x,a.glslEqual=O,a.glslGreater=S,a.glslLess=A,a.glslAnd=P,a.glslOr=E,a.glslXor=I,a.glslPow=D,a.glslPRelu=k;const $=(r,a,s,b=a[0].type,m)=>{const y=r.session.pack?v.TextureType.packed:v.TextureType.unpacked;return{name:s.name,inputNames:["A","B"],inputTypes:[y,y],cacheHint:m,get:()=>L(r,a,s,b)}},L=(r,a,s,m=a[0].type)=>{const w=r.session.pack?v.TextureType.packed:v.TextureType.unpacked,_=!b.ShapeUtil.areEqual(a[0].dims,a[1].dims);let T=a[0].dims;const x=r.session.pack;if(_){const v=b.BroadcastUtil.calcShape(a[0].dims,a[1].dims,!1);if(!v)throw new Error("Can't perform binary op on the given tensors");T=v;const _=T.length,O=0!==a[0].dims.length?a[0].dims.length:1,S=0!==a[1].dims.length?a[1].dims.length:1,A=0!==a[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",P=0!==a[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",E=(0,y.getGlsl)(r.session.backend.glContext.version),I=x?`\n      ${s.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${s.name}(a, b);\n        ${E.output} = result;\n      }`:`\n      ${s.body}\n      float process(int indices[${_}]) {\n        int aindices[${O}];\n        int bindices[${S}];\n        ${A}\n        ${P}\n        return ${s.name}(_A(aindices), _B(bindices));\n      }`;return{name:s.name,inputNames:["A","B"],inputTypes:[w,w],output:{dims:T,type:m,textureType:w},shaderSource:I,hasMain:x}}const O=(0,y.getGlsl)(r.session.backend.glContext.version),S=`\n    ${s.body}\n    void main() {\n      vec4 v1 = ${O.texture2D}(A, TexCoords);\n      vec4 v2 = ${O.texture2D}(B, TexCoords);\n      vec4 result = ${s.name}(v1, v2);\n      ${O.output} = result;\n    }\n    `;return{name:s.name,inputNames:["A","B"],inputTypes:[w,w],output:{dims:a[0].dims,type:m,textureType:w},shaderSource:S,hasMain:!0}};a.add=(r,a)=>[r.run($(r,a,w()),a)],a.and=(r,a)=>[r.run($(r,a,P(),"bool"),a)],a.div=(r,a)=>[r.run($(r,a,_()),a)],a.equal=(r,a)=>[r.run($(r,a,O(),"bool"),a)],a.greater=(r,a)=>[r.run($(r,a,S(),"bool"),a)],a.less=(r,a)=>[r.run($(r,a,A(),"bool"),a)],a.mul=(r,a)=>[r.run($(r,a,T()),a)],a.or=(r,a)=>[r.run($(r,a,E(),"bool"),a)],a.pow=(r,a)=>[r.run($(r,a,D()),a)],a.pRelu=(r,a)=>[r.run($(r,a,k()),a)],a.sub=(r,a)=>[r.run($(r,a,x()),a)],a.xor=(r,a)=>[r.run($(r,a,I(),"bool"),a)]},4752:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseCastAttributes=a.cast=void 0;const b=s(7273);a.cast=(r,a,s)=>(m(a),[r.cast(a[0],s)]),a.parseCastAttributes=r=>b.ProtoUtil.tensorDataTypeFromProto(r.attributes.getInt("to"));const m=r=>{if(!r||1!==r.length)throw new Error("Cast requires 1 input.");if("string"===r[0].type)throw new Error("Invalid input type.")}},4595:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createPackedConcatProgramInfoLoader=void 0;const b=s(6757),m=s(5639),y=s(432),v=s(5614);a.createPackedConcatProgramInfoLoader=(r,a,s)=>{const _=(T=a.length,x=s.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:T},((r,a)=>`X${a}`)),inputTypes:Array(T).fill(m.TextureType.packed),cacheHint:x});var T,x;return Object.assign(Object.assign({},_),{get:()=>((r,a,s,_)=>{const T=s[0].dims.slice();if(_>=T.length||_<-1*T.length)throw new Error("axis specified for concat doesn't match input dimensionality");_<0&&(_=T.length+_);const x=T.slice(0);for(let b=1;b<s.length;b++){const r=s[b].dims.slice();for(let a=0;a<T.length;a++)if(a===_)x[_]+=r[a];else if(T[a]!==r[a])throw new Error("non concat dimensions must match")}const O=x.length,S=(0,v.getChannels)("coords",O),A=(0,y.getCoordsDataType)(O),P=(0,v.unpackFromChannel)(),E=s.map((r=>r.dims)),I=(0,y.getGlChannels)(O),D=new Array(E.length-1);D[0]=E[0][_];for(let b=1;b<D.length;b++)D[b]=D[b-1]+E[b][_];const k=I[_],$=I.slice(-2),L=I.join();let F=`if (${k} < ${D[0]}) {\n        return getChannel(\n            getX0(${L}), vec2(${$.join()}));\n        }`;for(let b=1;b<D.length;b++){const r=D[b-1];F+=`\n            if (${k} < ${D[b]}  && ${k} >= ${D[b-1]}) {\n              return getChannel(\n                getX${b}(${w(I,k,r)}),\n                vec2(${w($,k,r)}));\n            }`}const N=D.length,R=D[D.length-1];F+=`\n            return getChannel(\n              getX${N}(${w(I,k,R)}),\n              vec2(${w($,k,R)}));`;const j=(0,b.getGlsl)(r.session.backend.glContext.version),C=`\n          ${P}\n          float getValue(${I.map((r=>"int "+r))}) {\n            ${F}\n          }\n\n          void main() {\n            ${A} coords = getOutputCoords();\n            int lastDim = coords.${I[O-1]};\n            coords.${I[O-1]} = coords.${I[O-2]};\n            coords.${I[O-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${S}), 0., 0., 0.);\n\n            ${S[O-1]} = ${S[O-1]} + 1;\n            if (${S[O-1]} < ${x[O-1]}) {\n              result.g = getValue(${S});\n            }\n\n            ${S[O-2]} = ${S[O-2]} + 1;\n            if (${S[O-2]} < ${x[O-2]}) {\n              result.a = getValue(${S});\n            }\n\n            ${S[O-1]} = ${S[O-1]} - 1;\n            if (${S[O-2]} < ${x[O-2]} &&\n                ${S[O-1]} < ${x[O-1]}) {\n              result.b = getValue(${S});\n            }\n            ${j.output} = result;\n          }\n        `;return Object.assign(Object.assign({},a),{output:{dims:x,type:s[0].type,textureType:m.TextureType.packed},shaderSource:C,hasMain:!0})})(r,_,a,s.axis)})};const w=(r,a,s)=>{const b=r.indexOf(a);return r.map(((r,a)=>a===b?`${r} - ${s}`:r)).join()}},6668:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseConcatAttributes=a.concat=void 0;const b=s(4910),m=s(5639),y=s(4595);a.concat=(r,a,s)=>(O(a),r.session.pack&&a[0].dims.length>1?[r.run((0,y.createPackedConcatProgramInfoLoader)(r,a,s),a)]:[r.run(v(r,a,s),a)]);const v=(r,a,s)=>{const b=(y=a.length,v=s.cacheKey,{name:"Concat",inputNames:Array.from({length:y},((r,a)=>`X${a}`)),inputTypes:Array(y).fill(m.TextureType.unpacked),cacheHint:v});var y,v;return Object.assign(Object.assign({},b),{get:()=>((r,a,s,b)=>{const y=s[0].dims.slice();if(b>=y.length||b<-1*y.length)throw new Error("axis specified for concat doesn't match input dimensionality");b<0&&(b=y.length+b);const v=y.slice(0);for(let m=1;m<s.length;m++){const r=s[m].dims.slice();for(let a=0;a<y.length;a++)if(a===b)v[b]+=r[a];else if(y[a]!==r[a])throw new Error("non concat dimensions must match")}const O=v.length,S=new Array(s.length);let A=0;for(let m=0;m<S.length;++m)A+=s[m].dims[b],S[m]=A;let P="";P=s.length<5?w(S):_(S);const E=`\n        ${T(s.length,O)}\n        ${x(S)}\n        ${P}\n        float process(int indices[${O}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${b}]);\n\n          if(textureIndex != 0) {\n            indices[${b}] = indices[${b}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},a),{output:{dims:v,type:s[0].type,textureType:m.TextureType.unpacked},shaderSource:E})})(0,b,a,s.axis)})},w=r=>`int getTextureWhereDataResides(int index) {\n      ${r.map(((r,a)=>`if(index<${r}) {return ${a};}\n`)).join("")}\n    }`,_=r=>w(r),T=(r,a)=>{const s=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${a}]) {`];for(let b=0;b<r;++b)0===b?s.push(`\tif (textureIndex == ${b}) { return _X${b}(indices); }`):b===r-1?s.push(`\telse { return _X${b}(indices); }`):s.push(`\telse if (textureIndex == ${b}) { return _X${b}(indices); }`);return s.push("\t}"),s.join("\n")},x=r=>{const a=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let s=0;s<r.length;++s)0===s?a.push(`\tif (index == ${s}) { return ${r[s]}; }`):s===r.length-1?a.push(`\telse { return ${r[s]}; }`):a.push(`\telse if (index == ${s}) { return ${r[s]}; }`);return a.push("\t}"),a.join("\n")};a.parseConcatAttributes=r=>(0,b.createAttributeWithCacheKey)({axis:r.attributes.getInt("axis")});const O=r=>{if(!r||r.length<1)throw new Error("too few inputs");const a=r[0].type,s=r[0].dims.length;if("string"===a)throw new Error("string tensor is not supported yet");for(const b of r){if(b.type!==a)throw new Error("input tensors should be one type");if(b.dims.length!==s)throw new Error("input tensors should have the same shape")}}},7825:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createUnpackedGroupedConvProgramInfoLoader=void 0;const b=s(1315),m=s(6757),y=s(5639),v=s(9754),w=s(2150);a.createUnpackedGroupedConvProgramInfoLoader=(r,a,s)=>{const _=(T=a.length>2,x=s.cacheKey,{name:"GroupedConv",inputNames:T?["X","W","Bias"]:["X","W"],inputTypes:T?[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]:[y.TextureType.unpacked,y.TextureType.unpacked],cacheHint:x});var T,x;return Object.assign(Object.assign({},_),{get:()=>((r,a,s,_)=>{const T=a.length>2?"value += getBias(output_channel);":"",x=a[0].dims.slice(),O=a[1].dims.slice(),S=O[0]/_.group;b.Logger.verbose("GroupedConv",`autpPad:${_.autoPad}, dilations:${_.dilations}, group:${_.group}, kernelShape:${_.kernelShape}, pads:${_.pads}, strides:${_.strides}`);const A=(0,v.calculateOutputShape)(x,O,_.dilations,_.pads,_.strides),P=(0,m.getGlsl)(r.session.backend.glContext.version),{activationFunction:E,applyActivation:I}=(0,w.getActivationSnippet)(_),D=`\n  const ivec2 strides = ivec2(${_.strides[0]}, ${_.strides[1]});\n  const ivec2 pads = ivec2(${_.pads[0]}, ${_.pads[1]});\n  ${E}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${S};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${O[1]}; wInChannel++) {\n      int input_channel = group_id * ${O[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${O[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${_.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${x[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${O[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${_.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${x[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${T}\n    ${I}\n    ${P.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},s),{output:{dims:A,type:a[0].type,textureType:y.TextureType.unpacked},shaderSource:D,hasMain:!0})})(r,a,_,s)})}},7708:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.conv2DPacked=a.conv2DPackedPointwise=void 0;const b=s(9754),m=s(5950),y=s(5632);a.conv2DPackedPointwise=(r,a,s)=>{const m=a[0].dims,v=a[1].dims,w=(0,b.calculateOutputShape)(m,v,s.dilations,s.pads,s.strides),_=r.reshapePacked(a[0],[m[1],m[2]*m[3]]),T=r.reshapePacked(a[1],[v[0],v[1]]),x=a.length>2?[T,_,a[2]]:[T,_],O=r.run((0,y.createPackedMatmulProgramInfoLoader)(r,x,s),x);return r.reshapePacked(O,w)},a.conv2DPacked=(r,a,s)=>{const v=a[0].dims,w=a[1].dims,_=(0,b.calculateOutputShape)(v,w,s.dilations,s.pads,s.strides),T=r.run((0,m.createPackedIm2ColProgramInfoLoader)(r,a[0],a[1],_,s),[a[0]]),x=r.reshapePacked(a[1],[w[0],w[1]*w[2]*w[3]]),O=3===a.length?[x,T,a[2]]:[x,T],S=r.run((0,y.createPackedMatmulProgramInfoLoader)(r,O,s),O);return r.reshapePacked(S,_)}},5042:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseConvTransposeAttributes=a.convTranspose=void 0;const b=s(4910),m=s(6757),y=s(5639),v=s(2150),w=(r,a,s,b,m,y)=>(r-1)*a+s+(b-1)*m+1-y,_=(r,a,s,b,m)=>{const y=Math.floor(r/2);"SAME_UPPER"===a?(s[b]=y,s[m]=r-y):"SAME_LOWER"===a&&(s[b]=r-y,s[m]=y)};a.convTranspose=(r,a,s)=>(S(a,s),T(r,a,s));const T=(r,a,s)=>{const b=O(s,a);return[x(r,a,b)]},x=(r,a,s)=>r.run(((r,a,s)=>{const b=(w=a.length>2,_=s.cacheKey,{name:"ConvTranspose",inputNames:w?["X","W","B"]:["X","W"],inputTypes:w?[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]:[y.TextureType.unpacked,y.TextureType.unpacked],cacheHint:_});var w,_;return Object.assign(Object.assign({},b),{get:()=>((r,a,s,b)=>{const w=a.length>2?"getB(output_channel)":"0.0",_=a[0].dims,T=a[1].dims,x=T[1],O=T[0]/b.group,S=[a[0].dims[0],a[1].dims[1]*b.group,...b.outputShape],A=(0,m.getGlsl)(r.session.backend.glContext.version),{activationFunction:P,applyActivation:E}=(0,v.getActivationSnippet)(b),I=`\n  const ivec2 strides = ivec2(${b.strides[0]}, ${b.strides[1]});\n  const ivec2 pads = ivec2(${b.pads[0]}, ${b.pads[1]});\n  ${P}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${x};\n    int wOutChannel = output_channel - group_id * ${x};\n\n    float value = ${w};\n    for (int inChannelOffset = 0; inChannelOffset < ${O}; inChannelOffset++) {\n      int input_channel = group_id * ${O} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${T[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${T[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${b.dilations[0]}, wHOff * ${b.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${_[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${_[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${E}\n    ${A.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},s),{output:{dims:S,type:a[0].type,textureType:y.TextureType.unpacked},shaderSource:I,hasMain:!0})})(r,a,b,s)})})(r,a,s),a),O=(r,a)=>{const s=r.kernelShape.slice();if(0===r.kernelShape.length)for(let v=2;v<a[1].dims.length;++v)s.push(a[1].dims[v]);const b=r.pads.slice(),m=r.outputShape.slice();((r,a,s,b,m,y,v,T)=>{const x=r.length-2,O=0===T.length;for(let S=0;S<x;++S){const A=O?r[S+2]*y[S]:T[S],P=w(r[S+2],y[S],m[S],a[S],s[S],A);_(P,b,m,S,S+x),O&&T.push(y[S]*(r[S+2]-1)+v[S]+(a[S]-1)*s[S]+1-m[S]-m[S+x])}})(a[0].dims,s,r.dilations,r.autoPad,b,r.strides,r.outputPadding,m);const y=Object.assign({},r);return Object.assign(y,{kernelShape:s,pads:b,outputShape:m,cacheKey:r.cacheKey}),y};a.parseConvTransposeAttributes=r=>{const a=r.attributes,s=(0,v.parseInternalActivationAttributes)(a),m=a.getString("auto_pad","NOTSET"),y=a.getInts("dilations",[1,1]),w=a.getInt("group",1),_=a.getInts("kernel_shape",[]),T=a.getInts("output_padding",[0,0]),x=a.getInts("output_shape",[]),O=a.getInts("pads",[0,0,0,0]),S=a.getInts("strides",[1,1]);return(0,b.createAttributeWithCacheKey)(Object.assign({autoPad:m,dilations:y,group:w,kernelShape:_,outputPadding:T,outputShape:x,pads:O,strides:S},s))};const S=(r,a)=>{if(!r||2!==r.length&&3!==r.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==r[0].dims.length||4!==r[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(r[0].dims[1]!==r[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const s=r[1].dims[1]*a.group;if(3===r.length&&(1!==r[2].dims.length||r[2].dims[0]!==s))throw new Error("invalid bias");const b=r[0].dims.length-2;if(a.dilations.length!==b)throw new Error(`dilations should be ${b}D`);if(a.strides.length!==b)throw new Error(`strides should be ${b}D`);if(a.pads.length!==2*b)throw new Error(`pads should be ${2*b}D`);if(a.outputPadding.length!==b)throw new Error(`output_padding should be ${b}D`);if(0!==a.kernelShape.length&&a.kernelShape.length!==r[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==a.outputShape.length&&a.outputShape.length!==r[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==r[0].type||"float32"!==r[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===r.length&&"float32"!==r[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseConvAttributes=a.conv=a.calculateOutputShape=void 0;const b=s(4910),m=s(7273),y=s(7825),v=s(7708),w=s(3281),_=s(2150),T=s(1625),x=s(8276);a.calculateOutputShape=(r,a,s,b,m)=>{const y=r[0],v=r.slice(2),w=v.length,_=a[0],T=a.slice(2).map(((r,a)=>r+(r-1)*(s[a]-1))),x=v.map(((r,a)=>r+b[a]+b[a+w])).map(((r,a)=>Math.floor((r-T[a]+m[a])/m[a])));return[y,_].concat(...x)},a.conv=(r,a,s)=>(E(a,s),O(r,a,s));const O=(r,a,s)=>{const b=P(s,a),m=r.session.pack,w=1===b.kernelShape[0]&&1===b.kernelShape[1];return b.group>1?[r.run((0,y.createUnpackedGroupedConvProgramInfoLoader)(r,a,b),a)]:w&&m?[S(r,a,b)]:m&&4===a[0].dims.length&&1===a[0].dims[0]&&!w?[(0,v.conv2DPacked)(r,a,b)]:[A(r,a,b)]},S=(r,s,b)=>{const m=s[0].dims,y=s[1].dims,v=(0,a.calculateOutputShape)(m,y,b.dilations,b.pads,b.strides),w=r.reshapeUnpacked(s[0],[m[1],m[2]*m[3]]),_=r.reshapeUnpacked(s[1],[y[0],y[1]]),T=s.length>2?[_,w,s[2]]:[_,w],O=r.run((0,x.createMatmulProgramInfoLoader)(T,b),T);return r.reshapeUnpacked(O,v)},A=(r,s,b)=>{const m=s[0].dims,y=s[1].dims,v=(0,a.calculateOutputShape)(m,y,b.dilations,b.pads,b.strides),_=r.run((0,T.createIm2ColProgramInfoLoader)(r,s[0],s[1],v,b),[s[0]]),x=3===s.length?[_,s[1],s[2]]:[_,s[1]];return r.run((0,w.createDotProductProgramInfoLoader)(r,s,v,b),x)},P=(r,a)=>{const s=r.kernelShape.slice();if(0===r.kernelShape.length)for(let m=2;m<a[1].dims.length;++m)s.push(a[1].dims[m]);const b=r.pads.slice();m.PoolConvUtil.adjustPadsBasedOnAutoPad(a[0].dims,r.strides,r.dilations,s,b,r.autoPad);const y=Object.assign({},r);return Object.assign(y,{kernelShape:s,pads:b,cacheKey:r.cacheKey}),y};a.parseConvAttributes=r=>{const a=r.attributes,s=(0,_.parseInternalActivationAttributes)(a),m=a.getString("auto_pad","NOTSET"),y=a.getInts("dilations",[1,1]),v=a.getInt("group",1),w=a.getInts("kernel_shape",[]),T=a.getInts("pads",[0,0,0,0]),x=a.getInts("strides",[1,1]);return(0,b.createAttributeWithCacheKey)(Object.assign({autoPad:m,dilations:y,group:v,kernelShape:w,pads:T,strides:x},s))};const E=(r,a)=>{if(!r||2!==r.length&&3!==r.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==r[0].dims.length||4!==r[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(r[0].dims[1]!==r[1].dims[1]*a.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===r.length&&(1!==r[2].dims.length||r[1].dims[0]!==r[2].dims[0]))throw new Error("invalid bias");const s=r[0].dims.length-2;if(a.dilations.length!==s)throw new Error(`dilations should be ${s}D`);if(a.strides.length!==s)throw new Error(`strides should be ${s}D`);if(a.pads.length!==2*s)throw new Error(`pads should be ${2*s}D`);if(0!==a.kernelShape.length&&a.kernelShape.length!==r[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==r[0].type||"float32"!==r[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===r.length&&"float32"!==r[2].type)throw new Error("Conv input(bias) should be float tensor")}},6742:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseDepthToSpaceAttributes=a.depthToSpace=void 0;const b=s(5707);a.depthToSpace=(r,a,s)=>{m(a);const y=s.blocksize,v=y*y,w="DCR"===s.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],_="DCR"===s.mode?[a[0].dims[0],y,y,a[0].dims[1]/v,a[0].dims[2],a[0].dims[3]]:[a[0].dims[0],a[0].dims[1]/v,y,y,a[0].dims[2],a[0].dims[3]],T=r.reshapeUnpacked(a[0],_),x={perm:w,cacheKey:`${w}`},[O]=(0,b.transpose)(r,[T],x),S=[a[0].dims[0],a[0].dims[1]/v,a[0].dims[2]*y,a[0].dims[3]*y];return[r.reshapeUnpacked(O,S)]},a.parseDepthToSpaceAttributes=r=>{const a=r.attributes.getInt("blocksize");if(a<1)throw new Error(`blocksize must be >= 1, but got : ${a} for DepthToSpace`);const s=r.attributes.getString("mode","DCR");if("DCR"!==s&&"CRD"!==s)throw new Error(`unrecognized mode: ${s} for DepthToSpace`);return{mode:s,blocksize:a}};const m=r=>{if(1!==r.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${r.length}`);if("string"===r[0].type||4!==r[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createDotProductProgramInfoLoader=void 0;const b=s(7273),m=s(6757),y=s(5639),v=s(2150),w=s(1625);a.createDotProductProgramInfoLoader=(r,a,s,_)=>{const T=((r,a)=>({name:"ConvDotProduct",inputNames:r?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:r?[y.TextureType.unpacked,y.TextureType.packedLastDimension,y.TextureType.unpacked]:[y.TextureType.unpacked,y.TextureType.packedLastDimension],cacheKey:a.activationCacheKey}))(a.length>2,_);return Object.assign(Object.assign({},T),{get:()=>((r,a,s,_,T)=>{const x=s[0].dims,O=s[1].dims,S=[O[0],Math.ceil(x[1]*O[2]*O[3]/4)],A=(0,w.calculateIm2ColDims)(x,O,_),[P,E]=r.calculateTextureWidthAndHeight(S,y.TextureType.packedLastDimension),I=b.ShapeUtil.computeStrides(A),[D,k]=r.calculateTextureWidthAndHeight(A,y.TextureType.packedLastDimension),$=_.length,L=s.length<3?"0.0":"_B(b)",F=Math.ceil(x[1]*O[2]*O[3]/4),{activationFunction:N,applyActivation:R}=(0,v.getActivationSnippet)(T),j=(0,m.getGlsl)(r.session.backend.glContext.version),C=`\n${N}\nfloat process(int indices[${$}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${I[0]} + im2col[1] * ${I[1]} + im2col[2] * ${I[2]};\n  int kernelOffset = indices[1] * ${S[1]};\n  float value = ${L};\n  for (int i = 0; i < ${F}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${D}, ${k});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${P}, ${E});\n    value += dot(${j.texture2D}(Im2Col, im2colCoords), ${j.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${R}\n  return value;\n}`;return Object.assign(Object.assign({},a),{output:{dims:_,type:s[0].type,textureType:y.TextureType.unpacked},shaderSource:C})})(r,T,a,s,_)})}},4125:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseFlattenAttributes=a.flatten=void 0;const b=s(7273);a.flatten=(r,a,s)=>{m(a,s);const y=b.ShapeUtil.flattenShape(a[0].dims,s);return[r.reshapeUnpacked(a[0],y)]},a.parseFlattenAttributes=r=>r.attributes.getInt("axis",1);const m=(r,a)=>{if(!r||1!==r.length)throw new Error("Flatten requires 1 input.");const s=r[0].dims.length;if(0===s)throw new Error("scalar tensor is not supported.");if(a<-s||a>s)throw new Error("Invalid axis");if("string"===r[0].type)throw new Error("string tensor is not supported.")}},2150:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseInternalActivationAttributes=a.getActivationSnippet=void 0;const b=s(7273),m=s(9087);a.getActivationSnippet=function(r){let a;switch(r.activation){case"Relu":a=(0,m.glslRelu)();break;case"Sigmoid":a=(0,m.glslSigmoid)();break;case"Clip":a=(0,m.glslClip)(r.clipMin,r.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const s=a.name;return{activationFunction:a.body,applyActivation:`value = ${s}_(value);`}},a.parseInternalActivationAttributes=r=>{const a=r.getString("activation","");if("Clip"===a){const[s,m]=r.getFloats("activation_params",[b.MIN_CLIP,b.MAX_CLIP]);return{activation:a,clipMax:m,clipMin:s,activationCacheKey:`${a}:${s},${m}`}}return{activation:a,activationCacheKey:a}}},6149:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseGatherAttributes=a.gather=void 0;const b=s(4910),m=s(6145),y=s(7273),v=s(5639);a.gather=(r,a,s)=>(T(a,s.axis),[r.run(_(r,a,s),a)]),a.parseGatherAttributes=r=>(0,b.createAttributeWithCacheKey)({axis:r.attributes.getInt("axis",0)});const w={name:"Gather",inputNames:["A","B"],inputTypes:[v.TextureType.unpacked,v.TextureType.unpacked]},_=(r,a,s)=>{const b=Object.assign(Object.assign({},w),{cacheHint:s.cacheKey});return Object.assign(Object.assign({},b),{get:()=>((r,a,s,b)=>{const m=s[0].dims.slice(),w=s[1].dims.slice(),_=new Array(m.length+w.length-1);b=y.ShapeUtil.normalizeAxis(b,m.length);const T=[];for(let y=0;y<_.length;y++)y<b?(_[y]=m[y],T.push(`inputIdx[${y}] = outputIdx[${y}];`)):y<b+w.length?(_[y]=w[y-b],T.push(`indexDataIdx[${y-b}] = outputIdx[${y}];`)):(_[y]=m[y-w.length+1],T.push(`inputIdx[${y-w.length+1}] = outputIdx[${y}];`));const x=`\n      float process(int outputIdx[${_.length||1}]) {\n        int inputIdx[${m.length}];\n        int indexDataIdx[${w.length||1}];\n        indexDataIdx[0] = 0;\n        ${T.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${b}] = idx < 0 ? idx + ${m[b]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},a),{output:{dims:_,type:s[0].type,textureType:v.TextureType.unpacked},shaderSource:x})})(0,b,a,s.axis)})},T=(r,a)=>{if(!r||2!==r.length)throw new Error("Gather requires 2 inputs.");const s=r[0].dims.length;if(s<1)throw new Error("Invalid input shape.");if(a<-s||a>s-1)throw new Error("Invalid axis.");if(-1===m.NUMBER_TYPES.indexOf(r[0].type))throw new Error("Invaid input type.");if("int32"!==r[1].type&&"int16"!==r[1].type)throw new Error("Invaid input type.")}},5378:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseGemmAttributesV11=a.parseGemmAttributesV7=a.gemm=void 0;const b=s(4910),m=s(7273),y=s(5639);a.gemm=(r,a,s)=>(T(a,s),[r.run(w(a,s),a)]);const v=(r,a)=>{const s=0!==r.attributes.getInt("transA",0),m=0!==r.attributes.getInt("transB",0),y=r.attributes.getFloat("alpha",1),v=r.attributes.getFloat("beta",1);return(0,b.createAttributeWithCacheKey)({transA:s,transB:m,alpha:y,beta:v,isOptionalC:a})};a.parseGemmAttributesV7=r=>v(r,!1),a.parseGemmAttributesV11=r=>v(r,!0);const w=(r,a)=>{const s={name:"Gemm",inputNames:3===r.length?["A","B","C"]:["A","B"],inputTypes:3===r.length?[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]:[y.TextureType.unpacked,y.TextureType.unpacked],key:a.cacheKey};return Object.assign(Object.assign({},s),{get:()=>_(s,r,a)})},_=(r,a,s)=>{const b=a[0].dims.slice(),v=a[1].dims.slice(),[w,_]=m.GemmUtil.getShapeOfGemmResult(b,s.transA,v,s.transB,3===a.length?a[2].dims:void 0),T=[w,_];if(!T)throw new Error("Can't use gemm on the given tensors");let x=b[b.length-1],O="";s.transA&&(x=b[0]),s.transA&&s.transB?O="value += _A_T(a) * _B_T(b);":s.transA&&!s.transB?O="value += _A_T(a) * _B(b);":!s.transA&&s.transB?O="value += _A(a) * _B_T(b);":s.transA||s.transB||(O="value += _A(a) * _B(b);");const S=T.length,A=`\n      float process(int indices[${S}]) {\n          int a[${S}];\n          int b[${S}];\n          ${3===a.length?`int c[${a[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===a.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${x}; ++k) {\n              a[${S-1}] = k;\n              b[${S-2}] = k;\n              ${O}\n          }\n\n          value = value * alpha;\n          ${3===a.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},r),{output:{dims:T,type:a[0].type,textureType:y.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:s.alpha},{name:"beta",type:"float",data:s.beta}],shaderSource:A})},T=(r,a)=>{if(!r)throw new Error("Input is missing");if(a.isOptionalC&&(r.length<2||r.length>3))throw new Error("Invaid input shape.");if(!a.isOptionalC&&3!==r.length)throw new Error("Gemm requires 3 inputs");if(3===r.length&&1!==r[2].dims.length&&2!==r[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==r[0].type&&"float64"!==r[0].type||"float32"!==r[1].type&&"float64"!==r[1].type||3===r.length&&"float32"!==r[2].type&&"float64"!==r[2].type)throw new Error("Invalid input type.");if(r[0].type!==r[1].type||3===r.length&&r[0].type!==r[2].type)throw new Error("Input types are mismatched")}},5950:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createPackedIm2ColProgramInfoLoader=void 0;const b=s(6757),m=s(5639),y=s(5614);a.createPackedIm2ColProgramInfoLoader=(r,a,s,v,w)=>{const _=(T=w.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[m.TextureType.packed],cacheHint:T});var T;return Object.assign(Object.assign({},_),{get:()=>((r,a,s,v,w,_)=>{const T=s.dims,x=v.dims,O=w.length,S=[x[1]*x[2]*x[3],w[2]*w[3]],A=x[2]*x[3],P=(0,y.unpackFromChannel)(),E=(0,b.getGlsl)(r.session.backend.glContext.version);let I="";for(let b=0;b<=1;b++)for(let r=0;r<=1;r++)I+=`\n            blockIndex = rc.x + ${r};\n            pos = rc.y + ${b};\n\n            if(blockIndex < ${S[1]} && pos < ${S[0]}) {\n              offsetY = int(blockIndex / (${w[O-1]})) * ${_.strides[0]} -\n                ${_.pads[0]};\n              d0 = offsetY + ${_.dilations[0]} * (imod(pos, ${A}) / ${x[2]});\n\n              if(d0 < ${T[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${w[O-1]}) * ${_.strides[1]} -\n                  ${_.pads[1]};\n                d1 = offsetX + ${_.dilations[1]} * imod(imod(pos, ${A}), ${x[2]});\n\n                if(d1 < ${T[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${A}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*b+r}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const D=`\n      ${P}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${I}\n          ${E.output} = result;\n      }\n            `;return Object.assign(Object.assign({},a),{output:{dims:S,type:s.type,textureType:m.TextureType.packed},shaderSource:D,hasMain:!0})})(r,_,a,s,v,w)})}},1625:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.calculateIm2ColDims=a.createIm2ColProgramInfoLoader=void 0;const b=s(5639);a.createIm2ColProgramInfoLoader=(r,s,m,y,v)=>{const w=(_=v.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[b.TextureType.unpacked],cacheHint:_});var _;return Object.assign(Object.assign({},w),{get:()=>((r,s,m,y,v,w)=>{const _=m.dims,T=y.dims,x=v.length,O=(0,a.calculateIm2ColDims)(_,T,v,4),S=`\n        const int XC = ${_[1]};\n        const int XH = ${_[2]};\n        const int XW = ${_[3]};\n        const int KH = ${w.kernelShape[0]};\n        const int KW = ${w.kernelShape[1]};\n        const int dilationH = ${w.dilations[0]};\n        const int dilationW = ${w.dilations[1]};\n        const int strideH = ${w.strides[0]};\n        const int strideW = ${w.strides[1]};\n        const int padH = ${w.pads[0]};\n        const int padW = ${w.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${x}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${_.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},s),{output:{dims:O,type:m.type,textureType:b.TextureType.packedLastDimension},shaderSource:S})})(0,w,s,m,y,v)})},a.calculateIm2ColDims=(r,a,s,b=4)=>[s[0],s[2],s[3],Math.ceil(r[1]*a[2]*a[3]/b)]},6981:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseImageScalerAttributes=a.imageScaler=void 0;const b=s(4910),m=s(5639);a.imageScaler=(r,a,s)=>(_(a),[r.run(v(r,a,s),a)]),a.parseImageScalerAttributes=r=>{const a=r.attributes.getFloat("scale"),s=r.attributes.getFloats("bias");return(0,b.createAttributeWithCacheKey)({scale:a,bias:s})};const y={name:"ImageScaler",inputNames:["X"],inputTypes:[m.TextureType.unpacked]},v=(r,a,s)=>{const b=Object.assign(Object.assign({},y),{cacheHint:s.cacheKey});return Object.assign(Object.assign({},b),{get:()=>((r,a,s,b)=>{const y=s[0].dims.slice(),v=y.length,_=`\n      ${w(b.bias.length)}\n      float process(int indices[${v}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},a),{output:{dims:y,type:s[0].type,textureType:m.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:b.bias.length,data:b.bias},{name:"scale",type:"float",data:b.scale}],shaderSource:_})})(0,b,a,s)})},w=r=>{const a=[`float getBias(float bias[${r}], int channel) {`];for(let s=0;s<r;++s)0===s?a.push(`\tif (channel == ${s}) { return bias[${s}]; }`):s===r-1?a.push(`\telse { return bias[${s}]; }`):a.push(`\telse if (channel == ${s}) { return bias[${s}]; }`);return a.push("\t}"),a.join("\n")},_=r=>{if(!r||1!==r.length)throw new Error("ImageScaler requires 1 input.");if(4!==r[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==r[0].type&&"float64"!==r[0].type)throw new Error("Invalid input type.")}},7413:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseInstanceNormalizationAttributes=a.instanceNormalization=void 0;const b=s(6757),m=s(5639);a.instanceNormalization=(r,a,s)=>{T(a);const b=r.run(v(a[0]),a);return[r.run(_(r,a[0],s,b.dims),[a[0],b,a[1],a[2]])]},a.parseInstanceNormalizationAttributes=r=>r.attributes.getFloat("epsilon",1e-5);const y={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[m.TextureType.unpacked]},v=r=>Object.assign(Object.assign({},y),{get:()=>((r,a)=>{const s=a.dims.slice(),b=s[1],y=s[2]*s[3],v=[s[0],b],w=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${s[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${s[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${y});\n        temp = 0.0;\n        for(int a2=0; a2<${s[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${s[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${y});\n\n        return v;\n      }`;return Object.assign(Object.assign({},r),{output:{dims:v,type:a.type,textureType:m.TextureType.packedLastDimension},shaderSource:w})})(y,r)}),w={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[m.TextureType.unpacked,m.TextureType.packedLastDimension,m.TextureType.unpacked,m.TextureType.unpacked]},_=(r,a,s,y)=>{const v=Object.assign(Object.assign({},w),{cacheHint:`${s}`});return Object.assign(Object.assign({},v),{get:()=>((r,a,s,y,v)=>{const w=(0,b.getGlsl)(r.session.backend.glContext.version),[_,T]=r.calculateTextureWidthAndHeight(v,m.TextureType.packedLastDimension),[x,O]=[_/4,T],S=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${x}, ${O});\n        return ${w.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},a),{output:{dims:s.dims,type:s.type,textureType:m.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:y}],shaderSource:S})})(r,v,a,s,y)})},T=r=>{if(!r||3!==r.length)throw new Error("InstanceNormalization requires 3 inputs.");const a=r[0],s=r[1],b=r[2];if(a.dims.length<3||1!==s.dims.length||1!==b.dims.length)throw new Error("Invalid input shape.");if(s.dims[0]!==a.dims[1]||b.dims[0]!==a.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==a.type&&"float64"!==a.type||"float32"!==s.type&&"float64"!==s.type||"float32"!==b.type&&"float64"!==b.type)throw new Error("Invalid input type.");if(4!==r[0].dims.length)throw new Error("Only support 4-D input shape.")}},7006:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createLrnProgramInfoLoader=a.parseLrnAttributes=a.lrn=void 0;const b=s(4910),m=s(5639);a.lrn=(r,a,s)=>(w(a),[r.run(v(a,s),a)]),a.parseLrnAttributes=r=>{const a=r.attributes.getFloat("alpha",1e-4),s=r.attributes.getFloat("beta",.75),m=r.attributes.getFloat("bias",1),y=r.attributes.getInt("size");return(0,b.createAttributeWithCacheKey)({alpha:a,beta:s,bias:m,size:y})};const y={name:"LRN",inputNames:["X"],inputTypes:[m.TextureType.unpacked]};function v(r,a){return Object.assign(Object.assign({},y),{cacheHint:a.cacheKey,get:()=>function(r,a){const s=r[0].dims[1],b=r[0].dims.length,v=-Math.floor((a.size-1)/2),w=Math.ceil((a.size-1)/2),_=`float(${a.alpha}) / float(${a.size})`,T=`\n    float process(int indices[${b}]) {\n        int c = indices[1];\n        float x = _X(indices);\n        float square_sum = 0.0;\n\n        for (int i = ${v}; i <= ${w}; i++) {\n          int idx = c + i;\n          if (c >= 0 && c < ${s}) {\n            indices[1] = idx;\n            float j = _X(indices);\n            square_sum += j * j;\n          }\n        }\n        return x / pow(float(${a.bias}) + ${_} * square_sum, float(${a.beta}));\n    }`;return Object.assign(Object.assign({},y),{cacheHint:a.cacheKey,output:{dims:r[0].dims,type:r[0].type,textureType:m.TextureType.unpacked},shaderSource:T})}(r,a)})}a.createLrnProgramInfoLoader=v;const w=r=>{if(!r||1!==r.length)throw new Error("LRN requires 1 input.");if(4!==r[0].dims.length)throw new Error('currently only support LRN for input with "NCHW" format');if("float32"!==r[0].type)throw new Error("input should be float type")}},5632:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createPackedMatmulProgramInfoLoader=void 0;const b=s(7273),m=s(6757),y=s(5639),v=s(432),w=s(2150),_=s(8276);a.createPackedMatmulProgramInfoLoader=(r,a,s)=>{const T=(x=a.length>2,O=s.activationCacheKey,{name:"MatMul (packed)",inputNames:x?["A","B","Bias"]:["A","B"],inputTypes:x?[y.TextureType.packed,y.TextureType.packed,y.TextureType.packed]:[y.TextureType.packed,y.TextureType.packed],cacheHint:O});var x,O;return Object.assign(Object.assign({},T),{get:()=>((r,a,s,T)=>{const x=s.length>2,O=x?"value += getBiasForMatmul();":"",S=s[0].dims,A=s[1].dims,P=b.BroadcastUtil.calcShape(S,A,!0),E=!b.ShapeUtil.areEqual(s[0].dims,s[1].dims);if(!P)throw new Error("Can't use matmul on the given tensors");const I=S[S.length-1],D=Math.ceil(I/2),k=S.length,$=A.length,L=(0,m.getGlsl)(r.session.backend.glContext.version),F=(0,v.getCoordsDataType)(P.length),N=P.length,R=(0,v.getGlChannels)(),{activationFunction:j,applyActivation:C}=(0,w.getActivationSnippet)(T),M=x?`${(0,_.getBiasForMatmul)(F,R,s[2].dims,P,!0)}`:"",U=E?`${function(r,a,s,m){let y=[],v=[];const w=s[0].dims,_=s[1].dims,T=w.length,x=_.length,O=m.length,S=O-T,A=O-x;y=w.map(((r,s)=>`coords.${a[s+S]}`)),y[T-1]="i*2",y.join(", "),v=_.map(((r,s)=>`coords.${a[s+A]}`)),v[x-2]="i*2",v.join(", ");const P=b.BroadcastUtil.getBroadcastDims(w,m),E=b.BroadcastUtil.getBroadcastDims(_,m),I=P.map((r=>`coords.${a[r+S]} = 0;`)).join("\n"),D=E.map((r=>`coords.${a[r+A]} = 0;`)).join("\n"),k=`int lastDim = coords.${a[O-1]};\n  coords.${a[O-1]} = coords.${a[O-2]};\n  coords.${a[O-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${r} coords = getOutputCoords();\n  ${k}\n  ${I}\n  vec4 outputValue = getA(${y});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${r} coords = getOutputCoords();\n  ${k}\n  ${D}\n  vec4 outputValue = getB(${v});\n  return outputValue;\n}`}(F,R,s,P)}`:"",B=E?"getAAtOutCoordsMatmul(i)":`getA(${function(r,a){let s="";for(let b=0;b<a-2;b++)s+=`rc.${r[b]}, `;return s+=`rc.${r[a-2]}, i*2`,s}(R,k)})`,z=E?"getBAtOutCoordsMatmul(i)":`getB(${function(r,a){let s="";for(let b=0;b<a-2;b++)s+=`rc.${r[b]}, `;return s+=`i*2, rc.${r[a-1]}`,s}(R,$)})`,V=`\n            ${U}\n            ${M}\n            ${j}\n            void main() {\n              ${E?"":`${F} rc =\n          getOutputCoords(); int lastDim = rc.${R[N-1]}; rc.${R[N-1]} =\n          rc.${R[N-2]}; rc.${R[N-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${D}; i++) {\n                vec4 a = ${B};\n                vec4 b = ${z};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${O}\n              ${C}\n              ${L.output} = value;\n            }`;return Object.assign(Object.assign({},a),{output:{dims:P,type:s[0].type,textureType:y.TextureType.packed},shaderSource:V,hasMain:!0})})(r,T,a,s)})}},8276:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getBiasForMatmul=a.createMatmulProgramInfoLoader=a.parseMatMulAttributes=a.matMul=void 0;const b=s(7273),m=s(5639),y=s(432),v=s(2150),w=s(5632);a.matMul=(r,a,s)=>(x(a),r.session.pack?[r.run((0,w.createPackedMatmulProgramInfoLoader)(r,a,s),a)]:[r.run(T(a,s),a)]),a.parseMatMulAttributes=r=>(0,v.parseInternalActivationAttributes)(r.attributes);const _=(r,a)=>({name:"MatMul",inputNames:r?["A","B","Bias"]:["A","B"],inputTypes:r?[m.TextureType.unpacked,m.TextureType.unpacked,m.TextureType.unpacked]:[m.TextureType.unpacked,m.TextureType.unpacked],cacheHint:a});function T(r,a){const s=_(r.length>2,a.activationCacheKey);return Object.assign(Object.assign({},s),{get:()=>function(r,a,s){const w=a[0].dims,_=a[1].dims,T=b.BroadcastUtil.calcShape(w,_,!0);if(!T)throw new Error("Can't use matmul on the given tensors");const x=(0,y.getCoordsDataType)(T.length),S=(0,y.getGlChannels)(),{activationFunction:A,applyActivation:P}=(0,v.getActivationSnippet)(s),E=a.length>2,I=E?"value += getBiasForMatmul();":"",D=E?`${O(x,S,a[2].dims,T,!1)}`:"",k=T.length,$=w.length,L=_.length,F=`\n    ${A}\n    ${D}\n    float process(int indices[${k}]) {\n        int a[${$}];\n        int b[${L}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${w[w.length-1]}; ++k) {\n            a[${$-1}] = k;\n            b[${L-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${I}\n        ${P}\n        return value;\n    }`;return Object.assign(Object.assign({},r),{output:{dims:T,type:a[0].type,textureType:m.TextureType.unpacked},shaderSource:F})}(s,r,a)})}a.createMatmulProgramInfoLoader=T;const x=r=>{if(!r||2!==r.length)throw new Error("MatMul requires 2 inputs.");if(r[0].dims[r[0].dims.length-1]!==r[1].dims[r[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==r[0].type&&"float64"!==r[0].type||"float32"!==r[1].type&&"float64"!==r[1].type)throw new Error("inputs should be float type");if(r[0].type!==r[1].type)throw new Error("inputs types should match")};function O(r,a,s,m,y){let v="";const w=s.length,_=m.length,T=_-w;v=_<2&&w>0?"coords":s.map(((r,s)=>`coords.${a[s+T]}`)).join(", ");const x=b.BroadcastUtil.getBroadcastDims(s,m).map((r=>`coords.${a[r+T]} = 0;`)).join("\n");let O="vec4(outputValue.xx, outputValue.yy)";return 1===b.ShapeUtil.size(s)&&(O="vec4(outputValue.x)"),y?`\nvec4 getBiasForMatmul() {\n  ${r} coords = getOutputCoords();\n  ${x}\n  vec4 outputValue = getBias(${v});\n  return ${O};\n}`:`\nfloat getBiasForMatmul() {\n  ${r} coords = getOutputCoords();\n  ${x}\n  return getBias(coords.x);\n}`}a.getBiasForMatmul=O},9:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createPackProgramInfoLoader=void 0;const b=s(6757),m=s(5639),y=s(432),v=s(5614),w={name:"pack",inputNames:["A"],inputTypes:[m.TextureType.unpackedReversed]};a.createPackProgramInfoLoader=(r,a)=>Object.assign(Object.assign({},w),{get:()=>((r,a)=>{const s=(0,b.getGlsl)(r.session.backend.glContext.version),_=a.dims,T=_.length,x=a.dims.length,O=(0,y.getCoordsDataType)(x),S=(0,v.getChannels)("rc",x),A=(P=x,E=S,I=_[_.length-2],D=_[_.length-1],0===P||1===P?"":`\n    int r = ${E[P-2]};\n    int c = ${E[P-1]};\n    int rp1 = ${E[P-2]} + 1;\n    int cp1 = ${E[P-1]} + 1;\n    bool rEdge = rp1 >= ${D};\n    bool cEdge = cp1 >= ${I};\n    `);var P,E,I,D;let k;k=0===T?[1,1]:1===T?[_[0],1]:[_[x-1],_[x-2]];const $=function(r,a,s){if(0===r)return"false";if(1===r)return`rc > ${a[0]}`;let b="";for(let m=r-2;m<r;m++)b+=`${s[m]} >= ${a[m-r+2]}`,m<r-1&&(b+="||");return b}(x,k,S),L=function(r,a){const s=r.length;if(0===s)return"getA(), 0, 0, 0";if(1===s)return`getA(rc),\n            rc + 1 >= ${r[0]} ? 0. : getA(rc + 1),\n            0, 0`;let b="";if(s>2)for(let m=0;m<s-2;++m)b+=`${a[m]},`;return`getA(${b}r, c),\n          rEdge ? 0. : getA(${b}rp1, c),\n          cEdge ? 0. : getA(${b}r, cp1),\n          rEdge || cEdge ? 0. : getA(${b}rp1, cp1)`}(_,S),F=`\n        void main() {\n          ${O} rc = getOutputCoords();\n\n          if(${$}) {\n            ${s.output} = vec4(0);\n          } else {\n            ${A}\n\n            ${s.output} = vec4(${L});\n          }\n        }\n      `;return Object.assign(Object.assign({},w),{hasMain:!0,output:{dims:a.dims,type:a.type,textureType:m.TextureType.packed},shaderSource:F})})(r,a)})},5614:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.unpackFromChannel=a.getChannels=a.getVecChannels=void 0;const b=s(432);function m(r,a){return(0,b.getGlChannels)(a).map((a=>`${r}.${a}`))}a.getVecChannels=m,a.getChannels=function(r,a){return 1===a?[r]:m(r,a)},a.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},5565:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parsePadAttributesV11=a.padV11=a.parsePadAttributesV2=a.padV2=void 0;const b=s(4910),m=s(7273),y=s(6757),v=s(5639),w={name:"Pad",inputNames:["A"],inputTypes:[v.TextureType.unpacked]};a.padV2=(r,a,s)=>(x(a),[r.run(Object.assign(Object.assign({},w),{cacheHint:s.cacheKey,get:()=>T(r,a[0],s)}),a)]),a.parsePadAttributesV2=r=>{const a=r.attributes.getString("mode","constant"),s=r.attributes.getFloat("value",0),m=r.attributes.getInts("pads");return(0,b.createAttributeWithCacheKey)({mode:a,value:s,pads:m})},a.padV11=(r,s,b)=>{O(s);const m=_(r,s,b);return(0,a.padV2)(r,[s[0]],m)},a.parsePadAttributesV11=r=>r.attributes.getString("mode","constant");const _=(r,a,s)=>{if(!r.session.isInitializer(a[1].dataId)||a.length>=3&&!r.session.isInitializer(a[2].dataId))throw new Error("dynamic pad attributes are not allowed");const m=Array.from(a[1].integerData),y=a.length>=3?a[2].floatData[0]:0;return(0,b.createAttributeWithCacheKey)({mode:s,pads:m,value:y})},T=(r,a,s)=>{const b=m.ShapeUtil.padShape(a.dims.slice(),s.pads),y=b.length,w=`\n      ${S(r,a,s)}\n      float process(int[${y}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[v.TextureType.unpacked],output:{dims:b,type:a.type,textureType:v.TextureType.unpacked},shaderSource:w}},x=r=>{if(!r||1!==r.length)throw new Error("Pad requires 1 input");if("float32"!==r[0].type&&"float64"!==r[0].type)throw new Error("Invalid input type.")},O=r=>{if(!r||2!==r.length&&3!==r.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==r[1].type)throw new Error("Invalid input type.");if(r.length>=3&&"string"===r[2].type)throw new Error("Invalid input type.")},S=(r,a,s)=>{const b=(0,y.getGlsl)(r.session.backend.glContext.version),[w,_]=r.calculateTextureWidthAndHeight(a.dims,v.TextureType.unpacked),T=m.ShapeUtil.computeStrides(a.dims);switch(s.mode){case"constant":return A(b,a.dims,T,w,_,s.pads,s.value);case"reflect":return P(b,a.dims,T,w,_,s.pads);case"edge":return E(b,a.dims,T,w,_,s.pads);default:throw new Error("Invalid mode")}},A=(r,a,s,b,m,y,v)=>{const w=a.length;let _="";for(let T=w-1;T>=0;--T)_+=`\n        k = m[${T}] - ${y[T]};\n        if (k < 0)  return constant;\n        if (k >= ${a[T]}) return constant;\n        offset += k * ${s[T]};\n        `;return`\n      float padA(int m[${w}]) {\n        const float constant = float(${v});\n        int offset = 0;\n        int k = 0;\n        ${_}\n        vec2 coords = offsetToCoords(offset, ${b}, ${m});\n        float value = getColorAsFloat(${r.texture2D}(A, coords));\n        return value;\n      }\n      `},P=(r,a,s,b,m,y)=>{const v=a.length;let w="";for(let _=v-1;_>=0;--_)w+=`\n        k = m[${_}] - ${y[_]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(a[_]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${a[_]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${s[_]};\n        `;return`\n      float padA(int m[${v}]) {\n        int offset = 0;\n        int k = 0;\n        ${w}\n        vec2 coords = offsetToCoords(offset, ${b}, ${m});\n        float value = getColorAsFloat(${r.texture2D}(A, coords));\n        return value;\n      }\n      `},E=(r,a,s,b,m,y)=>{const v=a.length;let w="";for(let _=v-1;_>=0;--_)w+=`\n        k = m[${_}] - ${y[_]};\n        if (k < 0)  k = 0;\n        if (k >= ${a[_]}) k = ${a[_]-1};\n        offset += k * ${s[_]};\n      `;return`\n      float padA(int m[${v}]) {\n        int offset = 0;\n        int k = 0;\n        ${w}\n        vec2 coords = offsetToCoords(offset, ${b}, ${m});\n        float value = getColorAsFloat(${r.texture2D}(A, coords));\n        return value;\n      }\n      `}},2834:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.globalMaxPool=a.parseMaxPoolAttributes=a.maxPool=a.parseGlobalAveragePoolAttributes=a.globalAveragePool=a.parseAveragePoolAttributes=a.averagePool=void 0;const b=s(4910),m=s(7273),y=s(5639);a.averagePool=(r,a,s)=>{O(a);const b={name:"AveragePool",inputNames:["X"],inputTypes:[y.TextureType.unpacked],cacheHint:s.cacheKey};return[r.run(Object.assign(Object.assign({},b),{get:()=>v(a,b,!1,s)}),a)]},a.parseAveragePoolAttributes=r=>{const a=r.attributes.getString("auto_pad","NOTSET"),s=r.attributes.getInt("ceil_mode",0),m=0!==r.attributes.getInt("count_include_pad",0),y=r.attributes.getInts("kernel_shape"),v=r.attributes.getInts("strides",[]),w=r.attributes.getInts("pads",[]);if(0!==s)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,b.createAttributeWithCacheKey)({autoPad:a,ceilMode:s,countIncludePad:m,kernelShape:y,strides:v,pads:w})};const v=(r,a,s,b)=>{const[v,w]=_(r,b,s),T=m.ShapeUtil.size(v.kernelShape);let x="";v.countIncludePad?x+=`value /= float(${T});`:x+=`value /= float(${T} - pad);`;const O=`\n        ${S(r[0].dims,v,"value += _X(x);",x,"0.0")}\n      `;return Object.assign(Object.assign({},a),{output:{dims:w,type:r[0].type,textureType:y.TextureType.unpacked},shaderSource:O})};a.globalAveragePool=(r,a,s)=>{O(a);const b={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[y.TextureType.unpacked],cacheHint:`${s.countIncludePad}`};return[r.run(Object.assign(Object.assign({},b),{get:()=>v(a,b,!0,s)}),a)]},a.parseGlobalAveragePoolAttributes=r=>{const a=0!==r.attributes.getInt("count_include_pad",0);return(0,b.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:a,kernelShape:[],strides:[],pads:[]})},a.maxPool=(r,a,s)=>{O(a);const b={name:"MaxPool",inputNames:["X"],inputTypes:[y.TextureType.unpacked],cacheHint:s.cacheKey};return[r.run(Object.assign(Object.assign({},b),{get:()=>w(a,b,!1,s)}),a)]},a.parseMaxPoolAttributes=r=>{const a=r.attributes.getString("auto_pad","NOTSET"),s=r.attributes.getInt("ceil_mode",0),m=r.attributes.getInts("kernel_shape"),y=r.attributes.getInts("strides",[]),v=r.attributes.getInts("pads",[]),w=r.attributes.getInt("storage_order",0),_=r.attributes.getInts("dilations",[]);if(0!==w)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==s)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,b.createAttributeWithCacheKey)({autoPad:a,ceilMode:s,countIncludePad:!1,kernelShape:m,strides:y,pads:v,storageOrder:w,dilations:_})};const w=(r,a,s,b)=>{const[m,v]=_(r,b,s),w=`\n      ${S(r[0].dims,m,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},a),{output:{dims:v,type:r[0].type,textureType:y.TextureType.unpacked},shaderSource:w})},_=(r,a,s)=>{const b=r[0].dims.slice(),y=Object.hasOwnProperty.call(a,"dilations"),v=a.kernelShape.slice(),w=a.strides.slice(),_=y?a.dilations.slice():[],T=a.pads.slice();m.PoolConvUtil.adjustPoolAttributes(s,b,v,w,_,T);const x=m.PoolConvUtil.computePoolOutputShape(s,b,w,_,v,T,a.autoPad),O=Object.assign({},a);return y?Object.assign(O,{kernelShape:v,strides:w,pads:T,dilations:_,cacheKey:a.cacheKey}):Object.assign(O,{kernelShape:v,strides:w,pads:T,cacheKey:a.cacheKey}),[O,x]},T={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},x={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[y.TextureType.unpacked]};a.globalMaxPool=(r,a)=>(O(a),[r.run(Object.assign(Object.assign({},x),{get:()=>w(a,x,!0,T)}),a)]);const O=r=>{if(!r||1!==r.length)throw new Error("Pool ops requires 1 input.");if("float32"!==r[0].type&&"float64"!==r[0].type)throw new Error("Invalid input type.")},S=(r,a,s,b,y)=>{const v=r.length;if(a.kernelShape.length<=2){const m=a.kernelShape[a.kernelShape.length-1],w=a.strides[a.strides.length-1],_=a.pads[a.pads.length/2-1],T=a.pads[a.pads.length-1],x=r[v-1];let O="",S="",A="";if(O=_+T!==0?`\n          for (int i = 0; i < ${m}; i++) {\n            x[${v} - 1] = indices[${v} - 1] * ${w} - ${_} + i;\n            if (x[${v} - 1] < 0 || x[${v} - 1] >= ${x}) {\n              pad++;\n              continue;\n            }\n            ${s}\n          }`:`\n          for (int i = 0; i < ${m}; i++) {\n            x[${v} - 1] = indices[${v} - 1] * ${w} - ${_} + i;\n            ${s}\n          }`,2===a.kernelShape.length){const s=a.kernelShape[a.kernelShape.length-2],b=a.strides[a.strides.length-2],y=a.pads[a.pads.length/2-2],w=a.pads[a.pads.length-2],_=r[v-2];S=y+w!==0?`\n            for (int j = 0; j < ${s}; j++) {\n              x[${v} - 2] = indices[${v} - 2] * ${b} - ${y} + j;\n              if (x[${v} - 2] < 0 || x[${v} - 2] >= ${_}) {\n                pad+= ${m};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${s}; j++) {\n              x[${v} - 2] = indices[${v} - 2] * ${b} - ${y} + j;\n            `,A="\n          }\n        "}return`\n        float process(int indices[${v}]) {\n          int x[${v}];\n          copyVec(indices, x);\n\n          float value = ${y};\n          int pad = 0;\n          ${S}\n          ${O}\n          ${A}\n          ${b}\n          return value;\n        }\n      `}{const w=m.ShapeUtil.size(a.kernelShape),_=m.ShapeUtil.computeStrides(a.kernelShape),T=_.length,x=a.pads.length,O=P(T),S=A(r,"inputDims"),E=A(a.pads,"pads"),I=A(_,"kernelStrides"),D=A(a.strides,"strides");let k="";return k=a.pads.reduce(((r,a)=>r+a))?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${s}\n          }`:`\n          }\n          ${s}\n        `,`\n        ${O}\n        float process(int indices[${v}]) {\n          int x[${v}];\n          copyVec(indices, x);\n          int offset[${T}];\n          int pads[${x}];\n          int inputDims[${v}];\n          int kernelStrides[${T}];\n          int strides[${T}];\n          ${E}\n          ${S}\n          ${D}\n          ${I}\n\n          float value = ${y};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${w}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${v} - ${T}; j < ${v}; j++) {\n              x[j] = indices[j] * strides[j - ${v} + ${T}]\n                + offset[j - ${v} + ${T}] - pads[j - 2];\n              ${k}\n          }\n          ${b}\n\n          return value;\n        }\n      `}},A=(r,a)=>{let s="";for(let b=0;b<r.length;b++)s+=`\n      ${a}[${b}] = ${r[b]};\n    `;return s},P=r=>`\n  void offsetToIndices(int offset, int[${r}] strides, out int[${r}] indices) {\n    if (${r} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${r} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${r} - 1] = offset;\n  }`},1010:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reduceLogSumSquare=a.reduceLogSum=a.reduceProd=a.reduceMin=a.reduceMax=a.reduceMean=a.reduceSum=a.parseReduceAttributes=void 0;const b=s(4910),m=s(6145),y=s(7273),v=s(5639),w=(r,a,s,b,m)=>{T(a);const y={name:b,inputNames:["A"],inputTypes:[v.TextureType.unpacked]};return[r.run(Object.assign(Object.assign({},y),{cacheHint:s.cacheKey,get:()=>_(r,a,s,b,m,y)}),a)]};a.parseReduceAttributes=r=>{const a=r.attributes.getInts("axes",[]),s=1===r.attributes.getInt("keepdims",1);return(0,b.createAttributeWithCacheKey)({axes:a,keepDims:s})};const _=(r,a,s,b,m,w)=>{const _=[],T=a[0].dims.length||1,x=[],O=y.ShapeUtil.normalizeAxes(s.axes,a[0].dims.length),S=m(a,O);let A=S[1];for(let y=0;y<a[0].dims.length;y++)O.indexOf(y)>=0||0===O.length?(s.keepDims&&_.push(1),A=`\n          for(int j${y} = 0; j${y} < ${a[0].dims[y]}; j${y}++) {\n            inputIdx[${y}] = j${y};\n            ${A}\n          }`):(x.push(`inputIdx[${y}] = outputIdx[${_.length}];`),_.push(a[0].dims[y]));const P=`\n      float process(int outputIdx[${_.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${T}];      // addressing input data\n        ${x.join("\n")}\n        ${S[0]}       // init ops for reduce max/min\n        ${A}\n        ${S[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},w),{output:{dims:_,type:a[0].type,textureType:v.TextureType.unpacked},shaderSource:P})},T=r=>{if(!r||1!==r.length)throw new Error("Reduce op requires 1 input.");if(-1===m.NUMBER_TYPES.indexOf(r[0].type))throw new Error("Invalid input type.")};a.reduceSum=(r,a,s)=>w(r,a,s,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),a.reduceMean=(r,a,s)=>w(r,a,s,"ReduceMean",((r,a)=>{let s=1;for(let b=0;b<r[0].dims.length;b++)(a.indexOf(b)>=0||0===a.length)&&(s*=r[0].dims[b]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${s}.;`]})),a.reduceMax=(r,a,s)=>w(r,a,s,"ReduceMax",((r,a)=>{const s=[];for(let b=0;b<r[0].dims.length;b++)(a.indexOf(b)>=0||0===a.length)&&s.push(`inputIdx[${b}] = 0;`);return[`${s.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]})),a.reduceMin=(r,a,s)=>w(r,a,s,"ReduceMin",((r,a)=>{const s=[];for(let b=0;b<r[0].dims.length;b++)(a.indexOf(b)>=0||0===a.length)&&s.push(`inputIdx[${b}] = 0;`);return[`${s.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]})),a.reduceProd=(r,a,s)=>w(r,a,s,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),a.reduceLogSum=(r,a,s)=>w(r,a,s,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),a.reduceLogSumSquare=(r,a,s)=>w(r,a,s,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7379:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.isReshapeCheap=a.processDims3D=a.createPackedReshape3DProgramInfoLoader=void 0;const b=s(7273),m=s(6757),y=s(5639),v=s(5614);a.createPackedReshape3DProgramInfoLoader=(r,a,s)=>{const w=(r=>({name:"Reshape (packed)",inputTypes:[y.TextureType.packed],inputNames:["A"],cacheHint:`${r}`}))(s);return Object.assign(Object.assign({},w),{get:()=>((r,a,s,w)=>{const _=a.dims,T=w;let x="";for(let b=0;b<4;b++){let r="";switch(b){case 0:r="outputCoords = rc;";break;case 1:r="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:r="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:r="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}x+=`\n        ${r}\n        ${b>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${b}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${b>0?"}":""}\n      `}const O=(0,m.getGlsl)(r.session.backend.glContext.version),S=`\n      ${function(r){const a=b.ShapeUtil.computeStrides(r),s=["b","r","c"],m="index";return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${a.map(((r,b)=>`int ${s[b]} = ${m} / ${r}; ${b===a.length-1?`int ${s[b+1]} = ${m} - ${s[b]} * ${r}`:`index -= ${s[b]} * ${r}`};`)).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(_)}\n      ${function(r){const a=b.ShapeUtil.computeStrides(r);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${a[0]} + coords.z * ${a[1]} + coords.y;\n  }\n`}(T)}\n      ${(0,v.unpackFromChannel)()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${T[2]};\n        int cols = ${T[1]};\n\n        ${x}\n        ${O.output} = result;\n      }\n    `;return Object.assign(Object.assign({},s),{output:{dims:T,type:a.type,textureType:y.TextureType.packed},shaderSource:S,hasMain:!0})})(r,a,w,s)})},a.processDims3D=function(r){if(0===r.length)return[1,1,1];let a=1;for(let s=0;s<r.length-2;++s)a*=r[s];return[a,r.length>1?r[r.length-2]:1,r[r.length-1]]},a.isReshapeCheap=function(r,a){let s=!1;return s=0===r.length||0===a.length||(r.length<2||a.length<2?r[r.length-1]===a[a.length-1]:r[r.length-1]===a[a.length-1]&&r[r.length-2]===a[a.length-2]),s}},8126:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reshape=void 0;const b=s(7273);a.reshape=(r,a)=>{const s=b.ShapeUtil.calculateReshapedDims(a[0].dims,a[1].integerData);return r.session.pack?[r.reshapePacked(a[0],s)]:[r.reshapeUnpacked(a[0],s)]}},2801:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseResizeAttributesV11=a.parseResizeAttributesV10=a.resize=void 0;const b=s(6757),m=s(5639),y=s(432),v=s(5614),w=s(3980),_={name:"Resize",inputNames:["A"],inputTypes:[m.TextureType.packed]};a.resize=(r,a,s)=>((0,w.validateInputs)(a,s),[r.run(Object.assign(Object.assign({},_),{cacheHint:s.cacheKey,get:()=>T(r,a,s)}),a)]),a.parseResizeAttributesV10=r=>(0,w.parseUpsampleAttributes)(r,10),a.parseResizeAttributesV11=r=>(0,w.parseUpsampleAttributes)(r,11);const T=(r,a,s)=>{const w=(0,b.getGlsl)(r.session.backend.glContext.version),[T,O]=x(a,s);if(T.every((r=>1===r))&&"tf_crop_and_resize"!==s.coordinateTransformMode)return Object.assign(Object.assign({},_),{output:{dims:O,type:a[0].type,textureType:m.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${w.texture2D}(X, TexCoords);\n                    ${w.output} = v;\n                }`});const S=O.length;if(S<2)throw new Error(`output dimension should be at least 2, but got ${S}`);const A=O[S-2],P=O[S-1],E=a[0].dims;if(S!==E.length)throw new Error(`output dimension should match input ${E.length}, but got ${S}`);const I=E[S-2],D=E[S-1],k=T[S-2],$=T[S-1];let L="";if("linear"!==s.mode)throw new Error(`resize (packed) does not support mode: '${s.mode}'`);switch(s.coordinateTransformMode){case"asymmetric":L="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":L="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":L=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ${P}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ${A}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ${P}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ${A}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                `;break;case"align_corners":L=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${P}.0 - 1.0, ${A}.0 - 1.0, ${P}.0 - 1.0,\n                            ${A}.0 - 1.0);\n                        vec4 original = vec4(${D}.0 - 1.0, ${I}.0 - 1.0, ${D}.0 - 1.0,\n                            ${I}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${s.coordinateTransformMode}'`)}const F=(0,y.getCoordsDataType)(S),N=`\n            const vec2 inputWH = vec2(${I}.0, ${D}.0);\n            const vec4 scaleWHWH = vec4(float(${k}), float(${$}), float(${k}), float(${$}));\n            ${(0,v.unpackFromChannel)()}\n            ${L}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${F} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${A-1};\n                bool hasNextCol = rc.z < ${P-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${w.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},_),{output:{dims:O,type:a[0].type,textureType:m.TextureType.packed},hasMain:!0,shaderSource:N})},x=(r,a)=>{const s=r[0].dims;let b,m=a.scales;if(0===m.length){const y=r[a.scalesInputIdx];if(y&&0!==y.size){if(r[a.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");m=O(y,a.mode,a.isResize)}else{const y=r[a.sizesInputIdx];if(!y||0===y.size)throw new Error("Either scales or sizes MUST be provided as input.");b=Array.from(y.integerData),m=S(b,s,a.mode,a.isResize)}}else if(r[a.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const y=b||s.map(((r,a)=>Math.floor(r*m[a])));return[m,y]},O=(r,a,s)=>{const b=Array.from(r.floatData);return(0,w.scalesValidation)(b,a,s),b},S=(r,a,s,b)=>{const m=a.length,y=new Array(m);for(let v=0,w=m;v<w;v++)if(0===a[v]){if(0!==r[v])throw new Error("Input dim is zero but required output dim is non-zero.");y[v]=1}else y[v]=r[v]/a[v];return(0,w.scalesValidation)(y,s,b),y}},565:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shape=void 0;const b=s(9240);a.shape=(r,a)=>(m(a),[new b.Tensor([a[0].dims.length],"int32",void 0,void 0,new Int32Array(a[0].dims))]);const m=r=>{if(!r||1!==r.length)throw new Error("Shape requires 1 input.")}},2444:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sliceV10=a.parseSliceAttributes=a.slice=void 0;const b=s(4910),m=s(6145),y=s(7273),v=s(5639),w={name:"Slice",inputNames:["A"],inputTypes:[v.TextureType.unpacked]};a.slice=(r,a,s)=>(T(a),[r.run(Object.assign(Object.assign({},w),{cacheHint:s.cacheKey,get:()=>_(r,a[0],s)}),a)]),a.parseSliceAttributes=r=>{const a=r.attributes.getInts("starts"),s=r.attributes.getInts("ends"),m=r.attributes.getInts("axes",[]);return(0,b.createAttributeWithCacheKey)({starts:a,ends:s,axes:m})};const _=(r,a,s)=>{const b=0===s.axes.length?a.dims.slice(0).map(((r,a)=>a)):s.axes,m=y.ShapeUtil.normalizeAxes(b,a.dims.length),_=s.starts.map(((r,s)=>r>a.dims[m[s]]-1?a.dims[m[s]]:y.ShapeUtil.normalizeAxis(r,a.dims[m[s]]))),T=s.ends.map(((r,s)=>r>a.dims[m[s]]-1?a.dims[m[s]]:y.ShapeUtil.normalizeAxis(r,a.dims[m[s]]))),x=a.dims.slice(),O=[];for(let y=0;y<m.length;y++)x[m[y]]=T[y]-_[y],_[y]>0&&O.push(`outputIdx[${m[y]}] += ${_[y]};`);const S=`\n      float process(int outputIdx[${x.length}]) {\n        ${O.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},w),{output:{dims:x,type:a.type,textureType:v.TextureType.unpacked},shaderSource:S})},T=r=>{if(!r||1!==r.length)throw new Error("Slice requires 1 input.");if(-1===m.NUMBER_TYPES.indexOf(r[0].type))throw new Error("Invalid input type.")};a.sliceV10=(r,a)=>{O(a);const s=x(r,a);return[r.run(Object.assign(Object.assign({},w),{cacheHint:s.cacheKey,get:()=>_(r,a[0],s)}),[a[0]])]};const x=(r,a)=>{if(!r.session.isInitializer(a[1].dataId)||!r.session.isInitializer(a[2].dataId)||a.length>=4&&!r.session.isInitializer(a[3].dataId)||a.length>=5&&!r.session.isInitializer(a[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(a.length>=5&&a[4].integerData.some((r=>1!==r)))throw new Error("currently non-1 steps is not supported for Slice");const s=Array.from(a[1].integerData),b=Array.from(a[2].integerData),m=a.length>=4?Array.from(a[3].integerData):[];return{starts:s,ends:b,axes:m,cacheKey:`${m};${s};${b}`}},O=r=>{if(!r||r.length<3||r.length>5)throw new Error("Invalid input number.");if("int32"!==r[1].type||1!==r[1].dims.length)throw new Error("Invalid input type.");if("int32"!==r[2].type||1!==r[2].dims.length)throw new Error("Invalid input type.");if(r.length>=4&&("int32"!==r[3].type||1!==r[3].dims.length))throw new Error("Invalid input type.");if(r.length>=5&&("int32"!==r[4].type||1!==r[4].dims.length))throw new Error("Invalid input type.")}},815:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.softmaxV13=a.parseSoftmaxAttributesV13=a.parseSoftmaxAttributes=a.softmax=void 0;const b=s(4910),m=s(7273),y=s(6757),v=s(5639),w=s(5707),_={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[v.TextureType.unpacked]},T={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[v.TextureType.unpacked,v.TextureType.unpacked]},x={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[v.TextureType.unpacked,v.TextureType.unpacked,v.TextureType.unpacked]};a.softmax=(r,a,s)=>{E(a);const b=a[0].dims.slice(),y=m.ShapeUtil.normalizeAxis(s.axis,b.length),v=m.ShapeUtil.sizeToDimension(b,y),w=m.ShapeUtil.sizeFromDimension(b,y);return O(r,a,s,v,w)},a.parseSoftmaxAttributes=r=>(0,b.createAttributeWithCacheKey)({axis:r.attributes.getInt("axis",1)}),a.parseSoftmaxAttributesV13=r=>(0,b.createAttributeWithCacheKey)({axis:r.attributes.getInt("axis",-1)}),a.softmaxV13=(r,a,s)=>{E(a);const y=a[0].dims.slice(),v=m.ShapeUtil.normalizeAxis(s.axis,y.length),_=y.length,T=v!==_-1,x=[];let S,A=[],P=[];T&&(A=Array.from({length:_}).map(((r,a)=>a)),A[v]=_-1,A[_-1]=v,A.map((r=>x.push(y[r]))),S=(0,b.createAttributeWithCacheKey)({perm:A}),P=(0,w.transpose)(r,a,S));const I=T?m.ShapeUtil.sizeToDimension(x,_-1):m.ShapeUtil.sizeToDimension(y,_-1),D=T?m.ShapeUtil.sizeFromDimension(x,_-1):m.ShapeUtil.sizeFromDimension(y,_-1),k=O(r,T?P:a,s,I,D);return T?(0,w.transpose)(r,k,S):k};const O=(r,a,s,b,m)=>{const y=S(r,a[0],b,m,[b]),v=r.run(Object.assign(Object.assign({},_),{cacheHint:s.cacheKey,get:()=>y}),a),w=A(r,a[0],b,m,y.output.dims,[b]),O=r.run(Object.assign(Object.assign({},T),{cacheHint:s.cacheKey,get:()=>w}),[a[0],v]),E=P(r,a[0],b,m,y.output.dims,w.output.dims);return[r.run(Object.assign(Object.assign({},x),{cacheHint:s.cacheKey,get:()=>E}),[a[0],v,O])]},S=(r,a,s,b,m)=>{const[w,T]=r.calculateTextureWidthAndHeight(a.dims,v.TextureType.unpacked),x=m.length;if(s<1||b<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==m.length)throw new Error("Dimensionality of the output should be 1");if(m[0]!==s)throw new Error("Shape of the output should be equal to logical row count");const O=(0,y.getGlsl)(r.session.backend.glContext.version),S=`\n      float process(int[${x}] indices) {\n        int logical_row_start_offset = indices[0] * ${b};\n\n        float max = getColorAsFloat(${O.texture2D}(A, offsetToCoords(logical_row_start_offset, ${w},\n        ${T} )));\n        for(int i=1; i<${b}; ++i)\n        {\n          float current = getColorAsFloat(${O.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${w}, ${T})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},_),{output:{dims:m,type:a.type,textureType:v.TextureType.unpacked},shaderSource:S})},A=(r,a,s,b,m,w)=>{const[_,x]=r.calculateTextureWidthAndHeight(a.dims,v.TextureType.unpacked),O=w.length;if(s<1||b<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==w.length)throw new Error("Dimensionality of the output should be 1");if(w[0]!==s)throw new Error("Shape of the output should be equal to logical row count");if(1!==m.length)throw new Error("Dimensionality of the intermediate results should be 1");if(m[0]!==s)throw new Error("Shape of the intermediate results should be equal to logical row count");const S=`\n      float process(int[${O}] indices) {\n        int logical_row_start_offset = indices[0] * ${b};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${b}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${(0,y.getGlsl)(r.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${_}, ${x}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},T),{output:{dims:w,type:a.type,textureType:v.TextureType.unpacked},shaderSource:S})},P=(r,a,s,b,m,y)=>{const[w,_]=r.calculateTextureWidthAndHeight(a.dims,v.TextureType.unpacked),T=a.dims.length;if(s<1||b<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==m.length||1!==y.length)throw new Error("Dimensionality of the intermediate results should be 1");if(m[0]!==s||y[0]!==s)throw new Error("Shape of the intermediate results should be equal to logical row count");const O=`\n      float process(int[${T}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${w}, ${_});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${b};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},x),{output:{dims:a.dims,type:a.type,textureType:v.TextureType.unpacked},shaderSource:O})},E=r=>{if(!r||1!==r.length)throw new Error("Softmax requires 1 input.");if("float32"!==r[0].type&&"float64"!==r[0].type)throw new Error("Invalid input type")}},564:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseSplitAttributes=a.split=void 0;const b=s(4910),m=s(7273),y=s(5639),v={name:"Split",inputNames:["A"],inputTypes:[y.TextureType.unpacked]};a.split=(r,a,s)=>{T(a);const b=m.ShapeUtil.normalizeAxis(s.axis,a[0].dims.length),y=w(r,a,b,s),x=[];for(let m=0;m<y;++m)x.push(r.run(Object.assign(Object.assign({},v),{cacheHint:`${s.cacheKey};${m}`,get:()=>_(r,a[0],s,b,m)}),a));return x},a.parseSplitAttributes=r=>{const a=r.attributes.getInt("axis",0),s=r.attributes.getInts("split",[]),m=r.outputs.length;return(0,b.createAttributeWithCacheKey)({axis:a,split:s,numOutputs:m})};const w=(r,a,s,b)=>{const[,y]=m.SplitUtil.splitShape(a[0].dims,s,b.split,b.numOutputs);return y.length},_=(r,a,s,b,w)=>{const[_,T]=m.SplitUtil.splitShape(a.dims,b,s.split,s.numOutputs),x=T[w],O=_[w],S=`\n      float process(int indices[${O.length}]) {\n        indices[${b}] += ${x};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},v),{cacheHint:`${s.cacheKey}:${w}`,output:{dims:O,type:a.type,textureType:y.TextureType.unpacked},shaderSource:S})},T=r=>{if(!r||1!==r.length)throw new Error("Split requires one input.");if("int8"!==r[0].type&&"uint8"!==r[0].type&&"int16"!==r[0].type&&"uint16"!==r[0].type&&"int32"!==r[0].type&&"uint32"!==r[0].type&&"float32"!==r[0].type&&"float64"!==r[0].type&&"bool"!==r[0].type)throw new Error("Invalid input type.")}},5416:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseSqueezeAttributes=a.squeezeV13=a.squeeze=void 0;const b=s(7273);a.squeeze=(r,a,s)=>{m(a);const y=b.ShapeUtil.squeezeShape(a[0].dims,s);return[r.reshapeUnpacked(a[0],y)]},a.squeezeV13=(r,s)=>(y(s),(0,a.squeeze)(r,[s[0]],Array.from(s[1].integerData))),a.parseSqueezeAttributes=r=>r.attributes.getInts("axes");const m=r=>{if(!r||1!==r.length)throw new Error("Squeeze requires 1 input.");if("string"===r[0].type)throw new Error("invalid input tensor types.")},y=r=>{if(!r||2!==r.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==r[1].type)throw new Error("Invalid input type.")}},1240:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sum=void 0;const b=s(6757),m=s(5639);a.sum=(r,a)=>{v(a);const s={name:"Sum",inputNames:a.map(((r,a)=>`X${a}`)),inputTypes:new Array(a.length).fill(m.TextureType.unpacked)};return[r.run(Object.assign(Object.assign({},s),{get:()=>y(r,a,s)}),a)]};const y=(r,a,s)=>{const y=(0,b.getGlsl)(r.session.backend.glContext.version),v=a[0].dims.slice(),w=`\n      void main() {\n        vec4 result = ${a.map(((r,a)=>`${y.texture2D}(X${a},TexCoords)`)).join(" + ")};\n        ${y.output} = result;\n      }\n    `;return Object.assign(Object.assign({},s),{output:{dims:v,type:a[0].type,textureType:m.TextureType.unpacked},hasMain:!0,shaderSource:w})},v=r=>{if(!r||0===r.length)throw new Error("Sum requires inputs.");const a=r[0].dims.length;for(let s=1;s<r.length;s++){if(a!==r[s].dims.length)throw new Error("Input shapes are mismatched.");for(let b=0;b<a;b++)if(r[0].dims[b]!==r[s].dims[b])throw new Error("Input shapes are not matched.")}if("float32"!==r[0].type&&"float64"!==r[0].type)throw new Error("Invalid input type.");for(let s=1;s<r.length;s++)if(r[0].type!==r[s].type)throw new Error("Input types are not matched.")}},5944:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.tile=void 0;const b=s(6145),m=s(5639);a.tile=(r,a)=>{v(a);const s={name:"Tile",inputNames:["A"],inputTypes:[m.TextureType.unpacked]};return[r.run(Object.assign(Object.assign({},s),{get:()=>y(r,a,s)}),a)]};const y=(r,a,s)=>{const b=a[0].dims.slice(),y=new Array(b.length),v=[];for(let m=0;m<b.length;m++)y[m]=b[m]*a[1].numberData[m],v.push(`inputIdx[${m}] = int(mod(float(outputIdx[${m}]), ${b[m]}.));`);const w=y.length,_=`\n      float process(int outputIdx[${w}]) {\n        int inputIdx[${w}];\n        ${v.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},s),{output:{dims:y,type:a[0].type,textureType:m.TextureType.unpacked},shaderSource:_})},v=r=>{if(!r||2!==r.length)throw new Error("Tile requires 2 input.");if(1!==r[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(r[1].dims[0]!==r[0].dims.length)throw new Error("Invalid input shape.");if(-1===b.NUMBER_TYPES.indexOf(r[0].type))throw new Error("Invalid input type.");if("int32"!==r[1].type&&"int16"!==r[1].type)throw new Error("Invalid repeat type.")}},5707:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseTransposeAttributes=a.transpose=void 0;const b=s(4910),m=s(7273),y=s(5639),v={name:"Transpose",inputNames:["A"],inputTypes:[y.TextureType.unpacked]};a.transpose=(r,a,s)=>(O(a),[r.run(Object.assign(Object.assign({},v),{cacheHint:s.cacheKey,get:()=>w(r,a[0],s.perm)}),a)]),a.parseTransposeAttributes=r=>(0,b.createAttributeWithCacheKey)({perm:r.attributes.getInts("perm",[])});const w=(r,a,s)=>{const b=a.dims;s=_(b,s);const m=T(b,s),w=b.length,O=`\n      ${x("perm",s,w)}\n      float process(int indices[${w}]) {\n        int a[${w}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},v),{output:{dims:m,type:a.type,textureType:y.TextureType.unpacked},shaderSource:O})},_=(r,a)=>(a&&a.length!==r.length&&(a=[...r.keys()].reverse()),a),T=(r,a)=>(a=_(r,a),m.ShapeUtil.sortBasedOnPerm(r,a)),x=(r,a,s)=>{const b=[];b.push(`void ${r}(out int a[${s}], int src[${s}]) {`);for(let m=0;m<s;++m)b.push(`\ta[${a[m]}]=src[${m}];`);return b.push("\t}"),b.join("\n")},O=r=>{if(!r||1!==r.length)throw new Error("Transpose requires 1 input.");if("float32"!==r[0].type&&"float64"!==r[0].type)throw new Error("input should be float tensor")}},2488:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.encodeAsUint8=void 0;const b=s(6757),m=s(5639);a.encodeAsUint8=(r,a)=>{const s=a.shape,y=(0,b.getGlsl)(r.session.backend.glContext.version),v=`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${y.texture2D}(X,TexCoords).r;\n      ${y.output} = encodeAsUint8(value);\n    }`,w={name:"Uint8Encode",inputTypes:[m.TextureType.unpacked],inputNames:["X"],output:{dims:s,type:a.tensor.type,textureType:m.TextureType.downloadUint8AsFloat},shaderSource:v,hasMain:!0};return r.executeProgram(w,[a.tensor])}},9087:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.tanh=a.tan=a.sqrt=a.sin=a.sigmoid=a.relu=a.not=a.neg=a.log=a.parseLeakyReluAttributes=a.leakyRelu=a.identity=a.floor=a.exp=a.parseEluAttributes=a.elu=a.cos=a.ceil=a.clipV11=a.parseClipAttributes=a.clip=a.atan=a.asin=a.acos=a.abs=a.glslTanh=a.glslTan=a.glslSqrt=a.glslSigmoid=a.glslRelu=a.glslSin=a.glslNot=a.glslNeg=a.glslLog=a.glslLeakyRelu=a.glslIdentity=a.glslClip=a.glslFloor=a.glslExp=a.glslElu=a.glslCos=a.glslCeil=a.glslAtan=a.glslAsin=a.glslAcos=a.glslAbs=void 0;const b=s(4910),m=s(7273),y=s(1997),v=s(6757),w=s(5639);function _(){return z("abs")}function T(){return z("acos")}function x(){return z("asin")}function O(){return z("atan")}function S(){return z("ceil")}function A(){return z("cos")}function P(r){const a="elu";return{body:`\n  const float alpha = float(${r});\n\n  float ${a}_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ${a}_(vec4 v) {\n    return vec4(${a}_(v.x), ${a}_(v.y), ${a}_(v.z), ${a}_(v.w));\n  }\n  `,name:a,type:y.FunctionType.ValueBased}}function E(){return z("exp")}function I(){return z("floor")}function D(r,a){const s="clip";return{body:`\n  const float min = float(${r});\n  const float max = float(${a});\n\n  float ${s}_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ${s}_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:s,type:y.FunctionType.ValueBased}}function k(){const r="indentity";return{body:`\n  float ${r}_(float a) {\n    return a;\n  }\n  vec4 ${r}_(vec4 v) {\n    return v;\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}function $(r){const a="leakyRelu";return{body:`\n  const float alpha = float(${r});\n\n  float ${a}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${a}_(vec4 v) {\n    return vec4(${a}_(v.x), ${a}_(v.y), ${a}_(v.z), ${a}_(v.w));\n  }\n  `,name:a,type:y.FunctionType.ValueBased}}function L(){return z("log")}function F(){const r="neg";return{body:`\n  float ${r}_(float a) {\n    return -a;\n  }\n  vec4 ${r}_(vec4 v) {\n    return -v;\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}function N(){const r="not";return{body:`\n  float ${r}_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ${r}_(bool a) {\n    return !a;\n  }\n  vec4 ${r}_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ${r}_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}function R(){return z("sin")}function j(){const r="relu";return{body:`\n  float ${r}_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ${r}_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}function C(){const r="sigmoid";return{body:`\n  float ${r}_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ${r}_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}function M(){return z("sqrt")}function U(){return z("tan")}function B(){const r="tanh";return{body:`\n  float ${r}_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ${r}_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}function z(r){return{body:`\n  float ${r}_(float a) {\n    return ${r}(a);\n  }\n  vec4 ${r}_(vec4 v) {\n    return ${r}(v);\n  }\n  `,name:r,type:y.FunctionType.ValueBased}}a.glslAbs=_,a.glslAcos=T,a.glslAsin=x,a.glslAtan=O,a.glslCeil=S,a.glslCos=A,a.glslElu=P,a.glslExp=E,a.glslFloor=I,a.glslClip=D,a.glslIdentity=k,a.glslLeakyRelu=$,a.glslLog=L,a.glslNeg=F,a.glslNot=N,a.glslSin=R,a.glslRelu=j,a.glslSigmoid=C,a.glslSqrt=M,a.glslTan=U,a.glslTanh=B;const V=(r,a,s,b)=>{const m=r.session.pack?w.TextureType.packed:w.TextureType.unpacked,y={name:s.name,inputTypes:[m],inputNames:["A"],cacheHint:b};return Object.assign(Object.assign({},y),{get:()=>((r,a,s,b)=>{const m=r.session.pack?w.TextureType.packed:w.TextureType.unpacked,y=(0,v.getGlsl)(r.session.backend.glContext.version);return Object.assign(Object.assign({},a),{output:{dims:s.dims,type:s.type,textureType:m},shaderSource:`\n     ${b.body}\n     void main() {\n       vec4 v = ${y.texture2D}(A, TexCoords);\n       v = ${b.name}_(v);\n       ${y.output} = v;\n     }\n     `,hasMain:!0})})(r,y,a,s)})};a.abs=(r,a)=>[r.run(V(r,a[0],_()),a)],a.acos=(r,a)=>[r.run(V(r,a[0],T()),a)],a.asin=(r,a)=>[r.run(V(r,a[0],x()),a)],a.atan=(r,a)=>[r.run(V(r,a[0],O()),a)],a.clip=(r,a,s)=>[r.run(V(r,a[0],D(s.min,s.max),s.cacheKey),a)],a.parseClipAttributes=r=>(0,b.createAttributeWithCacheKey)({min:r.attributes.getFloat("min",m.MIN_CLIP),max:r.attributes.getFloat("max",m.MAX_CLIP)}),a.clipV11=(r,s)=>{const b=G(r,s);return(0,a.clip)(r,[s[0]],b)};const G=(r,a)=>{if(a.length>=3&&(!r.session.isInitializer(a[1].dataId)||!r.session.isInitializer(a[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const s=a.length>=3?a[1].numberData[0]:m.MIN_CLIP,y=a.length>=3?a[2].numberData[0]:m.MAX_CLIP;return(0,b.createAttributeWithCacheKey)({min:s,max:y})};a.ceil=(r,a)=>[r.run(V(r,a[0],S()),a)],a.cos=(r,a)=>[r.run(V(r,a[0],A()),a)],a.elu=(r,a,s)=>[r.run(V(r,a[0],P(s.alpha),s.cacheKey),a)],a.parseEluAttributes=r=>(0,b.createAttributeWithCacheKey)({alpha:r.attributes.getFloat("alpha",1)}),a.exp=(r,a)=>[r.run(V(r,a[0],E()),a)],a.floor=(r,a)=>[r.run(V(r,a[0],I()),a)],a.identity=(r,a)=>[r.run(V(r,a[0],k()),a)],a.leakyRelu=(r,a,s)=>[r.run(V(r,a[0],$(s.alpha),s.cacheKey),a)],a.parseLeakyReluAttributes=r=>(0,b.createAttributeWithCacheKey)({alpha:r.attributes.getFloat("alpha",.01)}),a.log=(r,a)=>[r.run(V(r,a[0],L()),a)],a.neg=(r,a)=>[r.run(V(r,a[0],F()),a)],a.not=(r,a)=>[r.run(V(r,a[0],N()),a)],a.relu=(r,a)=>[r.run(V(r,a[0],j()),a)],a.sigmoid=(r,a)=>[r.run(V(r,a[0],C()),a)],a.sin=(r,a)=>[r.run(V(r,a[0],R()),a)],a.sqrt=(r,a)=>[r.run(V(r,a[0],M()),a)],a.tan=(r,a)=>[r.run(V(r,a[0],U()),a)],a.tanh=(r,a)=>[r.run(V(r,a[0],B()),a)]},540:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createUnpackProgramInfoLoader=a.createUnpackProgramInfo=void 0;const b=s(6757),m=s(5639),y=s(432),v=s(5614),w={name:"unpack",inputNames:["A"],inputTypes:[m.TextureType.packed]};a.createUnpackProgramInfo=(r,a)=>{const s=a.dims.length,_=(0,v.getChannels)("rc",s),T=_.slice(-2),x=(0,y.getCoordsDataType)(s),O=(0,v.unpackFromChannel)(),S=0===a.dims.length?"":function(r,a){if(1===r)return"rc";let s="";for(let b=0;b<r;b++)s+=a[b],b<r-1&&(s+=",");return s}(s,_),A=s<=1?"rc":`vec2(${T.join(",")})`,P=`\n    ${O}\n    void main() {\n      ${x} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${S});\n\n       ${(0,b.getGlsl)(r.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${A}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},w),{hasMain:!0,output:{dims:a.dims,type:a.type,textureType:m.TextureType.unpacked},shaderSource:P})},a.createUnpackProgramInfoLoader=(r,s)=>Object.assign(Object.assign({},w),{get:()=>(0,a.createUnpackProgramInfo)(r,s)})},7862:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseUnsqueezeAttributes=a.unsqueezeV13=a.unsqueeze=void 0;const b=s(7273);a.unsqueeze=(r,a,s)=>{m(a);const y=b.ShapeUtil.unsqueezeShape(a[0].dims,s);return[r.reshapeUnpacked(a[0],y)]},a.unsqueezeV13=(r,s)=>(y(s),(0,a.unsqueeze)(r,[s[0]],Array.from(s[1].integerData))),a.parseUnsqueezeAttributes=r=>r.attributes.getInts("axes");const m=r=>{if(!r||1!==r.length)throw new Error("Unsqueeze requires 1 input.");if("string"===r[0].type)throw new Error("invalid input tensor types.")},y=r=>{if(!r||2!==r.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==r[1].type)throw new Error("Invalid input type.")}},3980:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.scalesValidation=a.validateInputs=a.parseUpsampleAttributes=a.parseUpsampleAttributesV9=a.parseUpsampleAttributesV7=a.upsample=void 0;const b=s(4910),m=s(6757),y=s(5639),v={name:"Upsample",inputNames:["X"],inputTypes:[y.TextureType.unpacked]};a.upsample=(r,s,b)=>((0,a.validateInputs)(s,b),[r.run(Object.assign(Object.assign({},v),{cacheHint:b.cacheKey,get:()=>w(r,s,b)}),s)]),a.parseUpsampleAttributesV7=r=>(0,a.parseUpsampleAttributes)(r,7),a.parseUpsampleAttributesV9=r=>(0,a.parseUpsampleAttributes)(r,9),a.parseUpsampleAttributes=(r,s)=>{const m=s>=10,y=r.attributes.getString("mode","nearest");if("nearest"!==y&&"linear"!==y&&(s<11||"cubic"!==y))throw new Error(`unrecognized mode: ${y}`);let v=[];s<9&&(v=r.attributes.getFloats("scales"),(0,a.scalesValidation)(v,y,m));const w=r.attributes.getFloat("extrapolation_value",0),_=s>10?r.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(_))throw new Error(`coordinate_transform_mode '${_}' is not supported`);const T="tf_crop_and_resize"===_,x=T,O="nearest"===y&&s>=11?r.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(O))throw new Error(`nearest_mode '${O}' is not supported`);const S=r.attributes.getFloat("cubic_coeff_a",-.75),A=0!==r.attributes.getInt("exclude_outside",0);if(A&&"cubic"!==y)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const P=s<11||"nearest"===y&&"asymmetric"===_&&"floor"===O;let E=0,I=0,D=0;return s>10?r.inputs.length>2?(E=1,I=2,D=3):(I=1,D=2):9===s&&(I=1),(0,b.createAttributeWithCacheKey)({opset:s,isResize:m,mode:y,scales:v,extrapolationValue:w,coordinateTransformMode:_,useExtrapolation:x,needRoiInput:T,nearestMode:O,cubicCoefficientA:S,excludeOutside:A,useNearest2xOptimization:P,roiInputIdx:E,scalesInputIdx:I,sizesInputIdx:D})};const w=(r,a,s)=>{const b=(0,m.getGlsl)(r.session.backend.glContext.version),[w,_]=r.calculateTextureWidthAndHeight(a[0].dims,y.TextureType.unpacked),T=a[0].dims.map(((r,a)=>Math.floor(r*s.scales[a]))),[x,O]=r.calculateTextureWidthAndHeight(T,y.TextureType.unpacked),S=T.length,A=new Array(S),P=new Array(S);let E=`\n      int output_pitches[${S}];\n      int input_pitches[${S}];\n      `;for(let m=S-1;m>=0;m--)A[m]=m===S-1?1:A[m+1]*T[m+1],P[m]=m===S-1?1:P[m+1]*a[0].dims[m+1],E+=`\n        output_pitches[${m}] = ${A[m]};\n        input_pitches[${m}] = ${P[m]};\n        `;const I=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${w}, ${_});\n        float value = getColorAsFloat(${b.texture2D}(X, coords));\n        return value;\n      }\n      `,D="nearest"===s.mode?`\n    ${I}\n    float process(int indices[${S}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${x}, ${O});\n\n      ${E}\n\n      int d, m;\n      for (int dim = 0; dim < ${S}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===S?`\n    ${I}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${x}, ${O});\n\n      ${E}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${a[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${I}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${x}, ${O});\n\n      ${E}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${a[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},v),{output:{dims:T,type:a[0].type,textureType:y.TextureType.unpacked},shaderSource:D,variables:[{name:"scales",type:"int",arrayLength:s.scales.length,data:s.scales.map((r=>Math.ceil(r)))}]})};a.validateInputs=(r,a)=>{if(!r||a.opset<9&&1!==r.length||a.opset>=9&&a.opset<11&&2!==r.length||a.opset>=11&&r.length<2)throw new Error("invalid inputs.");if(a.scales.length>0&&r[0].dims.length!==a.scales.length)throw new Error("Invalid input shape.");if("string"===r[0].type)throw new Error("Invalid input tensor types.")},a.scalesValidation=(r,a,s)=>{if(s){for(const b of r)if(b<=0)throw new Error("Scale value should be greater than 0.")}else for(const b of r)if(b<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==a&&"cubic"!==a||2===r.length||4===r.length&&1===r[0]&&1===r[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${s?"Resize":"Upsample"} opeartor.`)}},2757:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ProgramManager=void 0;const b=s(2235),m=s(1315),y=s(8897),v=s(6757);a.ProgramManager=class{constructor(r,a,s){this.profiler=r,this.glContext=a,this.textureLayoutStrategy=s,this.repo=new Map,this.attributesBound=!1}getArtifact(r){return this.repo.get(r)}setArtifact(r,a){this.repo.set(r,a)}run(r,a,s){var b;this.profiler.event("op",`ProgramManager.run ${null!==(b=r.programInfo.name)&&void 0!==b?b:"unknown kernel"}`,(()=>{var b;const y=this.glContext.gl,v=r.program;y.useProgram(v);try{this.bindOutput(s),this.attributesBound||this.bindAttributes(r.attribLocations),this.bindUniforms(r.uniformLocations,null!==(b=r.programInfo.variables)&&void 0!==b?b:[],a)}catch(a){throw m.Logger.error("ProgramManager",r.programInfo.shaderSource),a}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((r=>this.glContext.deleteProgram(r.program)))}build(r,a,s){return this.profiler.event("backend","ProgramManager.build",(()=>{const b=new y.GlslPreprocessor(this.glContext,r,a,s),m=b.preprocess(),v=this.compile(m);return{programInfo:r,program:v,uniformLocations:this.getUniformLocations(v,b.context.programInfo.inputNames,b.context.programInfo.variables),attribLocations:this.getAttribLocations(v)}}))}compile(r){if(!this.vertexShader){m.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const r=(0,v.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(r,this.glContext.gl.VERTEX_SHADER)}b.env.debug&&m.Logger.verbose("ProrgramManager",`FragShader:\n${r}\n`);const a=this.glContext.compileShader(r,this.glContext.gl.FRAGMENT_SHADER),s=this.glContext.createProgram(this.vertexShader,a);return this.glContext.deleteShader(a),s}bindOutput(r){const a=r.width,s=r.height;m.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${a}/${s}, shape=${r.shape}, type=${r.tensor.type}`),this.glContext.attachFramebuffer(r.texture,a,s)}bindAttributes(r){const a=r.position,s=r.textureCoord;this.glContext.setVertexAttributes(a,s),this.attributesBound=!0}bindUniforms(r,a,s){var b;const m=this.glContext.gl;let y=0;for(const{name:v,type:w,location:_,arrayLength:T}of r){const r=null===(b=a.find((r=>r.name===v)))||void 0===b?void 0:b.data;if("sampler2D"!==w&&!r)throw new Error(`variable '${v}' does not have data defined in program info`);switch(w){case"sampler2D":this.bindTexture(s[y],_,y),y++;break;case"float":T?m.uniform1fv(_,r):m.uniform1f(_,r);break;case"int":T?m.uniform1iv(_,r):m.uniform1i(_,r);break;default:throw new Error(`Uniform not implemented: ${w}`)}}}bindTexture(r,a,s){this.glContext.bindTextureToUniform(r.texture,s,a)}getAttribLocations(r){return{position:this.getAttribLocation(r,"position"),textureCoord:this.getAttribLocation(r,"textureCoord")}}getUniformLocations(r,a,s){const b=[];if(a)for(const m of a)b.push({name:m,type:"sampler2D",location:this.getUniformLocation(r,m)});if(s)for(const m of s)b.push(Object.assign(Object.assign({},m),{location:this.getUniformLocation(r,m.name)}));return b}getUniformLocation(r,a){const s=this.glContext.gl.getUniformLocation(r,a);if(null===s)throw new Error(`Uniform ${a} not found.`);return s}getAttribLocation(r,a){return this.glContext.gl.getAttribLocation(r,a)}}},2171:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.WebGLSessionHandler=void 0;const b=s(1315),m=s(5881),y=s(7860),v=s(4110),w=s(2757),_=s(7618),T=s(5243);a.WebGLSessionHandler=class{constructor(r,a){this.backend=r,this.context=a,this.layoutStrategy=new _.PreferLogicalStrategy(r.glContext.maxTextureSize),this.programManager=new w.ProgramManager(this.context.profiler,r.glContext,this.layoutStrategy),this.textureManager=new T.TextureManager(r.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===r.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=r.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new y.WebGLInferenceHandler(this)}onGraphInitialized(r){const a=r.getValues().filter((r=>-1===r.from&&r.tensor)).map((r=>r.tensor.dataId));this.initializers=new Set(a)}isInitializer(r){return!!this.initializers&&this.initializers.has(r)}addInitializer(r){this.initializers.add(r)}getTextureData(r,a){return a?this.packedTextureDataCache.get(r):this.unpackedTextureDataCache.get(r)}setTextureData(r,a,s=!1){b.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),s?this.packedTextureDataCache.set(r,a):this.unpackedTextureDataCache.set(r,a)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((r=>this.textureManager.releaseTexture(r,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((r=>this.textureManager.releaseTexture(r,!0))),this.unpackedTextureDataCache=new Map}resolve(r,a,s){const b=(0,m.resolveOperator)(r,a,v.WEBGL_OP_RESOLVE_RULES);return{impl:b.opImpl,context:b.opInit?b.opInit(r,s):r}}}},9622:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Uint8DataEncoder=a.RGBAFloatDataEncoder=a.RedFloat32DataEncoder=void 0;const b=s(1315);a.RedFloat32DataEncoder=class{constructor(r,a=1){if(1===a)this.internalFormat=r.R32F,this.format=r.RED,this.textureType=r.FLOAT,this.channelSize=a;else{if(4!==a)throw new Error(`Invalid number of channels: ${a}`);this.internalFormat=r.RGBA32F,this.format=r.RGBA,this.textureType=r.FLOAT,this.channelSize=a}}encode(r,a){let s,m;return r.constructor!==Float32Array&&(b.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),m=new Float32Array(r)),a*this.channelSize>r.length?(b.Logger.warning("Encoder","Source data too small. Allocating larger array"),m=r,s=this.allocate(a*this.channelSize),m.forEach(((r,a)=>s[a]=r))):(m=r,s=m),s}allocate(r){return new Float32Array(4*r)}decode(r,a){return 1===this.channelSize?r.filter(((r,a)=>a%4==0)).subarray(0,a):r.subarray(0,a)}},a.RGBAFloatDataEncoder=class{constructor(r,a=1,s){if(1!==a&&4!==a)throw new Error(`Invalid number of channels: ${a}`);this.internalFormat=r.RGBA,this.format=r.RGBA,this.channelSize=a,this.textureType=s||r.FLOAT}encode(r,a){let s=r;return 1===this.channelSize&&(b.Logger.verbose("Encoder","Exploding into a larger array"),s=this.allocate(a),r.forEach(((r,a)=>s[4*a]=r))),s}allocate(r){return new Float32Array(4*r)}decode(r,a){return 1===this.channelSize?r.filter(((r,a)=>a%4==0)).subarray(0,a):r.subarray(0,a)}},a.Uint8DataEncoder=class{constructor(r,a=1){if(this.channelSize=4,1===a)this.internalFormat=r.ALPHA,this.format=r.ALPHA,this.textureType=r.UNSIGNED_BYTE,this.channelSize=a;else{if(4!==a)throw new Error(`Invalid number of channels: ${a}`);this.internalFormat=r.RGBA,this.format=r.RGBA,this.textureType=r.UNSIGNED_BYTE,this.channelSize=a}}encode(r,a){return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}allocate(r){return new Uint8Array(r*this.channelSize)}decode(r,a){if(r instanceof Uint8Array)return r.subarray(0,a);throw new Error(`Invalid array type: ${r.constructor}`)}}},7618:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getBatchDim=a.sizeToSquarishShape=a.getRowsCols=a.sizeFromShape=a.isInt=a.parseAxisParam=a.squeezeShape=a.PreferLogicalStrategy=a.AlwaysKeepOriginalSizeStrategy=void 0;const b=s(1315),m=s(7273);function y(r,a){const s=[],b=[],m=null!=a&&Array.isArray(a)&&0===a.length,y=null==a||m?null:v(a,r).sort();let w=0;for(let v=0;v<r.length;++v){if(null!=y){if(y[w]===v&&1!==r[v])throw new Error(`Can't squeeze axis ${v} since its dim '${r[v]}' is not 1`);(null==y[w]||y[w]>v)&&1===r[v]&&(s.push(r[v]),b.push(v)),y[w]<=v&&w++}1!==r[v]&&(s.push(r[v]),b.push(v))}return{newShape:s,keptDims:b}}function v(r,a){const s=a.length;return r=null==r?a.map(((r,a)=>a)):[].concat(r),(0,m.assert)(r.every((r=>r>=-s&&r<s)),(()=>`All values in axis param must be in range [-${s}, ${s}) but got axis ${r}`)),(0,m.assert)(r.every(w),(()=>`All values in axis param must be integers but got axis ${r}`)),r.map((r=>r<0?s+r:r))}function w(r){return r%1==0}function _(r){if(0===r.length)return 1;let a=r[0];for(let s=1;s<r.length;s++)a*=r[s];return a}function T(r){const a=Math.ceil(Math.sqrt(r));return[a,Math.ceil(r/a)]}a.AlwaysKeepOriginalSizeStrategy=class{constructor(r){this.maxTextureSize=r}computeTextureWH(r,a){if(0===r.length)return[1,1];const s=this.maxTextureSize;if(a&&void 0!==a.breakAxis){const m=a.breakAxis>=r.length?1:r.slice(a.breakAxis).reduce(((r,a)=>r*a)),y=a.breakAxis<=0?1:r.slice(0,a.breakAxis).reduce(((r,a)=>r*a));if(!(m>s||y>s))return[m,y];b.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${r}, breakAxis:${a.breakAxis}`)}const m=r.reduce(((r,a)=>r*a));let y=Math.floor(Math.sqrt(m));for(;y<s&&y<m&&m%y!=0;y++);if(y>=s||m%y!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${r}`);return[y,m/y]}},a.PreferLogicalStrategy=class{constructor(r){this.maxTextureSize=r}computeTextureWH(r,a){const s=this.computeTexture(r,a);return a&&a.isPacked&&(s[0]/=2,s[1]/=2),a&&a.reverseWH?[s[1],s[0]]:s}computeTexture(r,a){const s=a&&a.isPacked;if(0===r.length)return s?[2,2]:[1,1];let m=this.maxTextureSize;if(a&&void 0!==a.breakAxis){const s=a.breakAxis>=r.length?1:r.slice(a.breakAxis).reduce(((r,a)=>r*a)),y=a.breakAxis<=0?1:r.slice(0,a.breakAxis).reduce(((r,a)=>r*a));if(!(s>m||y>m))return[s,y];b.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${r}, breakAxis:${a.breakAxis}`)}let v=r.slice(0);if(s&&(m*=2,v=v.map(((r,a)=>a>=v.length-2?v[a]%2==0?v[a]:v[a]+1:v[a])),1===v.length&&(v=[2,v[0]])),2!==v.length){const r=y(v);v=r.newShape}const w=_(v);return v.length<=1&&w<=m?[1,w]:2===v.length&&v[0]<=m&&v[1]<=m?v:3===v.length&&v[0]*v[1]<=m&&v[2]<=m?[v[0]*v[1],v[2]]:3===v.length&&v[0]<=m&&v[1]*v[2]<=m?[v[0],v[1]*v[2]]:4===v.length&&v[0]*v[1]*v[2]<=m&&v[3]<=m?[v[0]*v[1]*v[2],v[3]]:4===v.length&&v[0]<=m&&v[1]*v[2]*v[3]<=m?[v[0],v[1]*v[2]*v[3]]:s?T(w/4).map((r=>2*r)):T(w)}},a.squeezeShape=y,a.parseAxisParam=v,a.isInt=w,a.sizeFromShape=_,a.getRowsCols=function(r){if(0===r.length)throw Error("Cannot get rows and columns of an empty shape array.");return[r.length>1?r[r.length-2]:1,r[r.length-1]]},a.sizeToSquarishShape=T,a.getBatchDim=function(r,a=2){return _(r.slice(0,r.length-a))}},3314:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createTextureLayoutFromShape=a.calculateTextureWidthAndHeight=a.createTextureLayoutFromTextureType=void 0;const b=s(7273),m=s(5639);a.createTextureLayoutFromTextureType=(r,s,b)=>{const y=b===m.TextureType.unpacked||b===m.TextureType.unpackedReversed?1:4,v=b===m.TextureType.packed,w=b===m.TextureType.unpackedReversed||b===m.TextureType.packed,_=b===m.TextureType.packedLastDimension?s.length-1:void 0,T=b===m.TextureType.packedLastDimension?s.map(((r,a)=>a===s.length-1?4*r:r)):void 0;return(0,a.createTextureLayoutFromShape)(r,s,y,T,{isPacked:v,reverseWH:w,breakAxis:_})},a.calculateTextureWidthAndHeight=(r,s,b)=>{const m=(0,a.createTextureLayoutFromTextureType)(r,s,b);return[m.width,m.height]},a.createTextureLayoutFromShape=(r,a,s=1,m,y)=>{const v=!(!y||!y.isPacked),[w,_]=r.computeTextureWH(v&&m||a,y),T=a.length;let x=a.slice(0);if(0===T&&(x=[1]),1===s)m=a;else if(v){if(4!==s)throw new Error("a packed texture must be 4-channel");m=a,T>0&&(x[T-1]=Math.ceil(x[T-1]/2)),T>1&&(x[T-2]=Math.ceil(x[T-2]/2))}else if(!m)throw new Error("Unpacked shape is needed when using channels > 1");return{width:w,height:_,channels:s,isPacked:v,shape:x,strides:b.ShapeUtil.computeStrides(x),unpackedShape:m,reversedWH:y&&y.reverseWH}}},5243:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.TextureManager=void 0;const b=s(1315);a.TextureManager=class{constructor(r,a,s,b){this.glContext=r,this.layoutStrategy=a,this.profiler=s,this.config=b,this.pendingRead=new Map,b.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(r,a,s,m){const y=this.toEncoderType(r),v=this.glContext.getEncoder(y,a.channels||1,m);if(a.isPacked&&1===m)throw new Error("not implemented");const w=a.width,_=a.height;let T,x;if(this.config.reuseTextures){T=`${w}x${_}_${v.format}_${v.internalFormat}_${v.textureType}`,x=this.inUseTextures.get(T),x||(x=[],this.inUseTextures.set(T,x));const a=this.idleTextures.get(T);if(a&&a.length>0){const b=a.pop();return x.push(b),1===m&&this.glContext.updateTexture(b,w,_,v,this.toTextureData(r,s)),b}}b.Logger.verbose("TextureManager",`Creating new texture of size ${a.width}x${a.height}`);const O=this.glContext.allocateTexture(w,_,v,this.toTextureData(r,s));return this.config.reuseTextures&&(x.push(O),this.textureLookup.set(O,T)),O}readTexture(r,a,s){return s||(s=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const b=r.shape.reduce(((r,a)=>r*a))*s,m=this.glContext.readTexture(r.texture,r.width,r.height,b,this.toEncoderType(a),s);return this.toTensorData(a,m)}))}async readTextureAsync(r,a,s){const b=r.tensor.dataId;if(s||(s=1),this.pendingRead.has(b)){const r=this.pendingRead.get(b);return new Promise((a=>null==r?void 0:r.push(a)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(b,[]);const m=r.shape.reduce(((r,a)=>r*a))*s;await this.glContext.createAndWaitForFence();const y=this.glContext.readTexture(r.texture,r.width,r.height,m,this.toEncoderType(a),s),v=this.toTensorData(a,y),w=this.pendingRead.get(b);return this.pendingRead.delete(b),null==w||w.forEach((r=>r(v))),v}))}readUint8TextureAsFloat(r){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const a=r.shape.reduce(((r,a)=>r*a)),s=this.glContext.readTexture(r.texture,r.width,r.height,4*a,"byte",4);return new Float32Array(s.buffer,s.byteOffset,a)}))}releaseTexture(r,a){let s;if(this.config.reuseTextures&&(s=this.textureLookup.get(r.texture),s)){a&&this.textureLookup.delete(s);const b=this.inUseTextures.get(s);if(b){const a=b.indexOf(r.texture);if(-1!==a){b.splice(a,1);let m=this.idleTextures.get(s);m||(m=[],this.idleTextures.set(s,m)),m.push(r.texture)}}}s&&!a||(b.Logger.verbose("TextureManager",`Deleting texture of size ${r.width}x${r.height}`),this.glContext.deleteTexture(r.texture))}toTensorData(r,a){switch(r){case"int16":return a instanceof Int16Array?a:Int16Array.from(a);case"int32":return a instanceof Int32Array?a:Int32Array.from(a);case"int8":return a instanceof Int8Array?a:Int8Array.from(a);case"uint16":return a instanceof Uint16Array?a:Uint16Array.from(a);case"uint32":return a instanceof Uint32Array?a:Uint32Array.from(a);case"uint8":case"bool":return a instanceof Uint8Array?a:Uint8Array.from(a);case"float32":return a instanceof Float32Array?a:Float32Array.from(a);case"float64":return a instanceof Float64Array?a:Float64Array.from(a);default:throw new Error(`TensorData type ${r} is not supported`)}}toTextureData(r,a){if(a)return a instanceof Float32Array?a:new Float32Array(a)}toEncoderType(r){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(r,a)=>{"use strict";var s;Object.defineProperty(a,"__esModule",{value:!0}),a.TextureType=void 0,(s=a.TextureType||(a.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},432:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getGlChannels=a.getCoordsDataType=a.getSqueezedParams=a.squeezeInputShape=a.generateShaderFuncNameFromInputSamplerNameAtOutCoords=a.generateShaderFuncNameFromInputSamplerName=a.repeatedTry=a.getPackedShape=void 0;const b=s(7273);a.getPackedShape=function(r){const a=r.length;return r.slice(0,a-1).concat(r[a-1]/4)},a.repeatedTry=async function(r,a=(r=>0),s){return new Promise(((b,m)=>{let y=0;const v=()=>{if(r())return void b();y++;const w=a(y);null!=s&&y>=s?m():setTimeout(v,w)};v()}))},a.generateShaderFuncNameFromInputSamplerName=function(r){return(0,b.assert)(void 0!==r&&0!==r.length,(()=>"empty string found for sampler name")),"get"+r.charAt(0).toUpperCase()+r.slice(1)},a.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(r){return(0,b.assert)(void 0!==r&&0!==r.length,(()=>"empty string found for sampler name")),"get"+r.charAt(0).toUpperCase()+r.slice(1)+"AtOutCoords"},a.squeezeInputShape=function(r,a){let s=JSON.parse(JSON.stringify(r));return s=a,s},a.getSqueezedParams=function(r,a){return a.map((a=>r[a])).join(", ")},a.getCoordsDataType=function(r){if(r<=1)return"int";if(2===r)return"ivec2";if(3===r)return"ivec3";if(4===r)return"ivec4";if(5===r)return"ivec5";if(6===r)return"ivec6";throw Error(`GPU for rank ${r} is not yet supported`)},a.getGlChannels=function(r=6){return["x","y","z","w","u","v"].slice(0,r)}},3389:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createNewWebGLContext=a.createWebGLContext=void 0;const b=s(1315),m=s(3524),y={};function v(r,a){let s;const y={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!a||"webgl2"===a)&&(s=r.getContext("webgl2",y),s))try{return new m.WebGLContext(s,2)}catch(r){b.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${r}`)}if((!a||"webgl"===a)&&(s=r.getContext("webgl",y)||r.getContext("experimental-webgl",y),s))try{return new m.WebGLContext(s,1)}catch(r){b.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${r}`)}throw new Error("WebGL is not supported")}a.createWebGLContext=function r(a){let s;if(a&&"webgl2"!==a||!("webgl2"in y)?a&&"webgl"!==a||!("webgl"in y)||(s=y.webgl):s=y.webgl2,!s)try{s=v(function(){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),a)}catch(r){s=v(function(){if("undefined"==typeof document)throw new TypeError("failed to create canvas: document is not supported");const r=document.createElement("canvas");return r.width=1,r.height=1,r}(),a)}a=a||1===s.version?"webgl":"webgl2";const b=s.gl;return y[a]=s,b.isContextLost()?(delete y[a],r(a)):(b.disable(b.DEPTH_TEST),b.disable(b.STENCIL_TEST),b.disable(b.BLEND),b.disable(b.DITHER),b.disable(b.POLYGON_OFFSET_FILL),b.disable(b.SAMPLE_COVERAGE),b.enable(b.SCISSOR_TEST),b.enable(b.CULL_FACE),b.cullFace(b.BACK),s)},a.createNewWebGLContext=v},3524:function(r,a,s){"use strict";var b=this&&this.__createBinding||(Object.create?function(r,a,s,b){void 0===b&&(b=s);var m=Object.getOwnPropertyDescriptor(a,s);m&&!("get"in m?!a.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,b,m)}:function(r,a,s,b){void 0===b&&(b=s),r[b]=a[s]}),m=this&&this.__setModuleDefault||(Object.create?function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}:function(r,a){r.default=a}),y=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var a={};if(null!=r)for(var s in r)"default"!==s&&Object.prototype.hasOwnProperty.call(r,s)&&b(a,r,s);return m(a,r),a};Object.defineProperty(a,"__esModule",{value:!0}),a.WebGLContext=a.linearSearchLastTrue=void 0;const v=s(2235),w=y(s(9622)),_=s(432);function T(r){let a=0;for(;a<r.length&&r[a]();++a);return a-1}a.linearSearchLastTrue=T,a.WebGLContext=class{constructor(r,a){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=r,this.version=a,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(r,a,s,b){const m=this.gl,y=m.createTexture();m.bindTexture(m.TEXTURE_2D,y),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);const v=b?s.encode(b,r*a):null;return m.texImage2D(m.TEXTURE_2D,0,s.internalFormat,r,a,0,s.format,s.textureType,v),this.checkError(),y}updateTexture(r,a,s,b,m){const y=this.gl;y.bindTexture(y.TEXTURE_2D,r);const v=b.encode(m,a*s);y.texSubImage2D(y.TEXTURE_2D,0,0,0,a,s,b.format,b.textureType,v),this.checkError()}attachFramebuffer(r,a,s){const b=this.gl;b.bindTexture(b.TEXTURE_2D,r),b.bindFramebuffer(b.FRAMEBUFFER,this.framebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,r,0),this.checkError(),b.viewport(0,0,a,s),b.scissor(0,0,a,s)}readTexture(r,a,s,b,m,y){const v=this.gl;y||(y=1),this.frameBufferBound||this.attachFramebuffer(r,a,s);const w=this.getEncoder(m,y),_=w.allocate(a*s);return v.bindTexture(v.TEXTURE_2D,r),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,r,0),v.readPixels(0,0,a,s,v.RGBA,w.textureType,_),this.checkError(),w.decode(_,b)}isFramebufferReady(){return!0}getActiveTexture(){const r=this.gl;return"TEXTURE"+(r.getParameter(this.gl.ACTIVE_TEXTURE)-r.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(r,a){const s=this.gl;s.vertexAttribPointer(r,3,s.FLOAT,!1,20,0),s.enableVertexAttribArray(r),-1!==a&&(s.vertexAttribPointer(a,2,s.FLOAT,!1,20,12),s.enableVertexAttribArray(a)),this.checkError()}createProgram(r,a){const s=this.gl,b=s.createProgram();return s.attachShader(b,r),s.attachShader(b,a),s.linkProgram(b),b}compileShader(r,a){const s=this.gl,b=s.createShader(a);if(!b)throw new Error(`createShader() returned null with type ${a}`);if(s.shaderSource(b,r),s.compileShader(b),!1===s.getShaderParameter(b,s.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${s.getShaderInfoLog(b)}\nShader source:\n${r}`);return b}deleteShader(r){this.gl.deleteShader(r)}bindTextureToUniform(r,a,s){const b=this.gl;b.activeTexture(b.TEXTURE0+a),this.checkError(),b.bindTexture(b.TEXTURE_2D,r),this.checkError(),b.uniform1i(s,a),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(v.env.debug){const r=this.gl,a=r.getError();let s="";switch(a){case r.NO_ERROR:return;case r.INVALID_ENUM:s="INVALID_ENUM";break;case r.INVALID_VALUE:s="INVALID_VALUE";break;case r.INVALID_OPERATION:s="INVALID_OPERATION";break;case r.INVALID_FRAMEBUFFER_OPERATION:s="INVALID_FRAMEBUFFER_OPERATION";break;case r.OUT_OF_MEMORY:s="OUT_OF_MEMORY";break;case r.CONTEXT_LOST_WEBGL:s="CONTEXT_LOST_WEBGL";break;default:s=`Unknown WebGL Error: ${a.toString(16)}`}throw new Error(s)}}deleteTexture(r){this.gl.deleteTexture(r)}deleteProgram(r){this.gl.deleteProgram(r)}getEncoder(r,a,s=0){if(2===this.version)return new w.RedFloat32DataEncoder(this.gl,a);switch(r){case"float":return 1===s||this.isRenderFloat32Supported?new w.RGBAFloatDataEncoder(this.gl,a):new w.RGBAFloatDataEncoder(this.gl,a,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new w.Uint8DataEncoder(this.gl,a);default:throw new Error(`Invalid dataType: ${r}`)}}clearActiveTextures(){const r=this.gl;for(let a=0;a<this.maxTextureImageUnits;++a)r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const r=this.gl;r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.framebuffer),r.bindBuffer(r.ARRAY_BUFFER,null),r.deleteBuffer(this.vertexbuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),r.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const r=this.gl,a=r.createBuffer();if(!a)throw new Error("createBuffer() returned null");const s=this.createDefaultGeometry();return r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW),this.checkError(),a}createFramebuffer(){const r=this.gl.createFramebuffer();if(!r)throw new Error("createFramebuffer returned null");return r}queryVitalParameters(){const r=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const r=this.gl,a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a);const s=2===this.version?r.RGBA32F:r.RGBA;r.texImage2D(r.TEXTURE_2D,0,s,1,1,0,r.RGBA,r.FLOAT,null);const b=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,b),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a,0);const m=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(a),r.deleteFramebuffer(b),m}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const r=this.gl;let a,s,b,m,y;try{a=r.createTexture(),s=r.createFramebuffer(),r.bindTexture(r.TEXTURE_2D,a);const v=2===this.version?r.RGBA32F:r.RGBA;return r.texImage2D(r.TEXTURE_2D,0,v,1,1,0,r.RGBA,r.FLOAT,null),r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a,0),r.enable(r.BLEND),b=r.createShader(r.VERTEX_SHADER),!!b&&(r.shaderSource(b,"void main(){}"),r.compileShader(b),m=r.createShader(r.FRAGMENT_SHADER),!!m&&(r.shaderSource(m,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),r.compileShader(m),y=r.createProgram(),!!y&&(r.attachShader(y,b),r.attachShader(y,m),r.linkProgram(y),r.useProgram(y),r.drawArrays(r.POINTS,0,1),r.getError()===r.NO_ERROR)))}finally{r.disable(r.BLEND),y&&r.deleteProgram(y),b&&r.deleteShader(b),m&&r.deleteShader(m),s&&(r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(s)),a&&(r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(a))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const r=this.gl,a=this.disjointTimerQueryWebgl2Extension,s=r.createQuery();return r.beginQuery(a.TIME_ELAPSED_EXT,s),s}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const r=this.gl,a=this.disjointTimerQueryWebgl2Extension;r.endQuery(a.TIME_ELAPSED_EXT)}}isTimerResultAvailable(r){let a=!1,s=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const b=this.gl,m=this.disjointTimerQueryWebgl2Extension;a=b.getQueryParameter(r,b.QUERY_RESULT_AVAILABLE),s=b.getParameter(m.GPU_DISJOINT_EXT)}return a&&!s}getTimerResult(r){let a=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const s=this.gl;a=s.getQueryParameter(r,s.QUERY_RESULT),s.deleteQuery(r)}return a/1e6}async waitForQueryAndGetTime(r){return await(0,_.repeatedTry)((()=>this.isTimerResultAvailable(r))),this.getTimerResult(r)}async createAndWaitForFence(){const r=this.createFence(this.gl);return this.pollFence(r)}createFence(r){let a;const s=r,b=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);return r.flush(),a=null===b?()=>!0:()=>{const r=s.clientWaitSync(b,0,0);return r===s.ALREADY_SIGNALED||r===s.CONDITION_SATISFIED},{query:b,isFencePassed:a}}async pollFence(r){return new Promise((a=>{this.addItemToPoll((()=>r.isFencePassed()),(()=>a()))}))}pollItems(){const r=T(this.itemsToPoll.map((r=>r.isDoneFn)));for(let a=0;a<=r;++a){const{resolveFn:r}=this.itemsToPoll[a];r()}this.itemsToPoll=this.itemsToPoll.slice(r+1)}async addItemToPoll(r,a){this.itemsToPoll.push({isDoneFn:r,resolveFn:a}),this.itemsToPoll.length>1||await(0,_.repeatedTry)((()=>(this.pollItems(),0===this.itemsToPoll.length)))}}},6496:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ExecutionPlan=void 0;const b=s(1315);class o{constructor(r,a){this.op=r,this.node=a}}a.ExecutionPlan=class{constructor(r,a,s){this.graph=r,this.profiler=s,this.initialize(a)}initialize(r){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const a=this.graph.getNodes();if(a.length!==r.length)throw new Error("The size of nodes and OPs do not match.");this._ops=r.map(((r,s)=>new o(r,a[s]))),this.reset(),this._starter=[],this._ops.forEach(((r,a)=>{let s=!0;for(const b of r.node.inputs)if(!this._values[b]&&-1===this.graph.getInputIndices().indexOf(b)){s=!1;break}s&&this._starter.push(a)}))}))}reset(){this._values=this.graph.getValues().map((r=>r.tensor))}async execute(r,a){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const s=r.createInferenceHandler(),m=this.graph.getInputIndices();if(a.length!==m.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${a.length} expected: ${m.length}`);a.forEach(((r,a)=>{const s=m[a];this._values[s]=r}));const y=this._starter.slice(0),v=this.graph.getValues(),w=this.graph.getNodes();let _=0;for(;_<y.length;){const r=y[_++],a=this._ops[r],m=a.node.inputs.map((r=>this._values[r]));if(-1!==m.indexOf(void 0))throw new Error(`unresolved input detected: op: ${a.node}`);const T=m;b.Logger.verbose("ExecPlan",`Runing op:${a.node.name} (${T.map(((r,s)=>`'${a.node.inputs[s]}': ${r.type}[${r.dims.join(",")}]`)).join(", ")})`);const x=await this.profiler.event("node",a.node.name,(async()=>a.op.impl(s,T,a.op.context)));if(x.length!==a.node.outputs.length)throw new Error("the size of output does not match model definition.");x.forEach(((r,s)=>{const b=a.node.outputs[s];if(this._values[b])throw new Error(`output [${b}] already has value: op:${a.node.name}`);this._values[b]=r}));const O=new Set;x.forEach(((r,s)=>{const b=a.node.outputs[s];for(const a of v[b].to){const r=w[a];let s=!0;for(const a of r.inputs)if(!this._values[a]){s=!1;break}s&&O.add(a)}})),y.push(...O)}const T=[];for(let r=0;r<this.graph.getOutputIndices().length;r++){const a=this.graph.getOutputIndices()[r],s=this._values[a];if(void 0===s)throw new Error(`required output [${a}] does not have value`);0===a?await s.getData():s.data,T.push(s)}return b.Logger.verbose("ExecPlan","disposing of inferenceHandler"),s.dispose(),T}))}}},4662:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Graph=void 0;const b=s(6874),m=s(5127),y=s(2446),v=s(9240),w=s(7273);var _=m.onnxruntime.experimental.fbs;a.Graph={from:(r,a)=>new p(r,a)};class l{constructor(r){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,r&&(this.type=w.ProtoUtil.tensorValueTypeFromProto(r.type.tensorType))}get from(){return this._from}get to(){return this._to}}class c{constructor(r,a){r instanceof y.onnx.NodeProto?(this.name=r.name,this.opType=r.opType,this.attributes=new b.Attribute(r.attribute)):r instanceof _.Node&&(this.name=null!=a?a:r.name(),this.opType=r.opType(),this.attributes=new b.Attribute(w.ProtoUtil.tensorAttributesFromORTFormat(r))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class p{constructor(r,a){if(!r)throw new TypeError("graph is empty");this.buildGraph(r),this.transformGraph(a),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(r){if(r instanceof y.onnx.GraphProto)this.buildGraphFromOnnxFormat(r);else{if(!(r instanceof _.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(r)}}buildGraphFromOnnxFormat(r){const a=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const s=new Map;if(!r.input)throw new Error("missing information in graph: input");const b=[];for(const m of r.input){if(a.has(m.name))throw new Error(`duplicated input name: ${m.name}`);const r=this._allData.push(new l(m))-1;a.set(m.name,r),b.push(m.name)}if(!r.initializer)throw new Error("missing information in graph: initializer");for(const m of r.initializer){let r=a.get(m.name);if(void 0===r){const s=new l;s.type={shape:{dims:w.ProtoUtil.tensorDimsFromProto(m.dims)},tensorType:w.ProtoUtil.tensorDataTypeFromProto(m.dataType)},r=this._allData.push(s)-1,a.set(m.name,r)}this._allData[r]._from=-1,this._allData[r].tensor=v.Tensor.fromProto(m)}for(let m=0;m<this._allData.length;m++)this._allData[m].tensor||(this._allInputIndices.push(m),this._allInputNames.push(b[m]));if(!r.output)throw new Error("missing information in graph: output");for(const m of r.output){if(a.has(m.name))throw new Error(`duplicated output name: ${m.name}`);const r=this._allData.push(new l(m))-1;a.set(m.name,r),this._allOutputIndices.push(r),this._allOutputNames.push(m.name)}if(!r.node)throw new Error("missing information in graph: node");for(const m of r.node){if(!m.name)for(let a=0;;a++){const r=`unnamed_${m.opType}_${a}`;if(!s.has(r)){m.name=r;break}}if(s.has(m.name))throw new Error(`duplicated node name: ${m.name}`);const r=this._nodes.push(new c(m))-1;s.set(m.name,r)}for(let m=0;m<this._nodes.length;m++){const s=this._nodes[m],b=r.node[m];if(!b.output)throw new Error(`missing output for node: ${b.name}`);for(const r of b.output){let y=a.get(r);if(void 0===y&&(y=this._allData.push(new l)-1,a.set(r,y)),s.outputs.push(y),void 0!==this._allData[y]._from)throw new Error(`multiple nodes output to one data value: ${y}`);if(this._allData[y]._from=m,"Constant"===b.opType){if(!b.attribute||1!==b.attribute.length||!b.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!b.output||1!==b.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[y]._from=-1,this._allData[y].tensor=v.Tensor.fromProto(b.attribute[0].t)}}}for(let m=0;m<this._nodes.length;m++){const s=this._nodes[m],b=r.node[m];if(!b.input)throw new Error(`missing input for node: ${b.name}`);for(const r of b.input){const y=a.get(r);if(void 0===y){if(""===r&&(3===b.input.length||4===b.input.length)&&"Resize"===b.opType)continue;throw new Error(`unrecognized input '${r}' for node: ${b.name}`)}s.inputs.push(y),this._allData[y]._to.push(m)}}return!0}buildGraphFromOrtFormat(r){var a,s,b;const m=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const y=new Map,T=[];for(let v=0;v<r.inputsLength();v++){const y=r.inputs(v);if(m.has(y))throw new Error(`duplicated input name: ${y}`);for(let v=0;v<r.nodeArgsLength();v++)if((null===(a=r.nodeArgs(v))||void 0===a?void 0:a.name())===y){const a=new l;if((null===(b=null===(s=r.nodeArgs(v))||void 0===s?void 0:s.type())||void 0===b?void 0:b.valueType())!==_.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const x=r.nodeArgs(v).type().value(new _.TensorTypeAndShape),O=w.ProtoUtil.tensorDataTypeFromProto(x.elemType()),S=x.shape(),A=[];for(let r=0;r<S.dimLength();r++)A.push(w.LongUtil.longToNumber(S.dim(r).value().dimValue()));a.type={shape:{dims:A},tensorType:O};const P=this._allData.push(a)-1;m.set(y,P),T.push(y)}}for(let _=0;_<r.initializersLength();_++){const a=r.initializers(_);let s=m.get(a.name());if(void 0===s){const r=new l,b=w.ProtoUtil.tensorDimsFromORTFormat(a),y=w.ProtoUtil.tensorDataTypeFromProto(a.dataType());r.type={shape:{dims:b},tensorType:y},s=this._allData.push(r)-1,m.set(a.name(),s)}this._allData[s]._from=-1,this._allData[s].tensor=v.Tensor.fromOrtTensor(a)}for(let v=0;v<this._allData.length;v++)this._allData[v].tensor||(this._allInputIndices.push(v),this._allInputNames.push(T[v]));for(let v=0;v<r.outputsLength();v++){const a=r.outputs(v);if(m.has(a))throw new Error(`duplicated output name: ${a}`);const s=this._allData.push(new l)-1;m.set(a,s),this._allOutputIndices.push(s),this._allOutputNames.push(a)}if(!r.nodes)throw new Error("missing information in graph: node");for(let v=0;v<r.nodesLength();v++){const a=r.nodes(v);let s=a.name();if(!s)for(let r=0;s=`unnamed_${a.opType()}_${r}`,y.has(s);r++);if(y.has(s))throw new Error(`duplicated node name: ${s}`);const b=this._nodes.push(new c(a,s))-1;y.set(s,b)}for(let w=0;w<this._nodes.length;w++){const a=this._nodes[w],s=r.nodes(w);if(null==s)throw new Error(`No node exists at index ${w}`);if(0===(null==s?void 0:s.outputsLength()))throw new Error(`missing output for node: ${s.name}`);for(let r=0;r<(null==s?void 0:s.outputsLength());r++){const b=null==s?void 0:s.outputs(r);let y=m.get(b);if(void 0===y&&(y=this._allData.push(new l)-1,m.set(b,y)),a.outputs.push(y),void 0!==this._allData[y]._from)throw new Error(`multiple nodes output to one data value: ${y}`);if(this._allData[y]._from=w,"Constant"===s.opType()){if(1!==s.attributesLength()||!s.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==s.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");a.outputs.pop(),a.executeNode=!1,this._allData[y]._from=-1,this._allData[y].tensor=v.Tensor.fromOrtTensor(s.attributes(0).t())}}}for(let v=0;v<this._nodes.length;v++){const a=this._nodes[v],s=r.nodes(v);if(0===s.inputsLength())throw new Error(`missing input for node: ${s.name}`);for(let r=0;r<s.inputsLength();r++){const b=s.inputs(r),y=m.get(b);if(void 0===y)throw new Error(`unrecognized input '${b}' for node: ${s.name()}`);a.inputs.push(y),this._allData[y]._to.push(v)}}}checkIsAcyclic(){const r=new Set;this._allInputIndices.forEach((a=>{this._allData[a]._to.forEach((a=>{r.add(a)}))}));const a=Array.from(r),s=new Array(this._nodes.length).fill("white");for(;a.length>0;){const r=a.pop();"gray"===s[r]?s[r]="black":(a.push(r),s[r]="gray",this._nodes[r].outputs.forEach((b=>{const m=this._allData[b];if(void 0!==m.tensor)throw new Error("node outputs should not be initialized");if(m._from!==r)throw new Error("from property of the Value object doesn't match index of Node being processed");m._to.forEach((r=>{if("gray"===s[r])throw new Error("model graph is cyclic");"white"===s[r]&&a.push(r)}))})))}}transformGraph(r){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),r&&r.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let r=0;const a=new Array(this._nodes.length,0);let s=0;for(let b=0;b<this._nodes.length;b++)a[b]=s,this._nodes[b].executeNode?(s!==b&&(this._nodes[s]=this._nodes[b]),s++):this._nodes[b].outputs.forEach((r=>{this._allData[r]._from=-2}));this._nodes.splice(s,this._nodes.length-s);for(let b=0;b<this._allData.length;b++){const r=this._allData[b];void 0!==r._from&&-1!==r._from&&-2!==r._from&&(r._from=a[r._from]);for(let s=0;s<r._to.length;s++){if(!(r._to[s]>=0))throw new Error("Trying to update a removed node");r._to[s]=a[r._to[s]]}}r=0;for(let b=0;b<this._allData.length;b++)if(-2!==this._allData[b].from||-1!==this._allOutputIndices.indexOf(b+r)){if(r>0){let a=-1;void 0!==this._allData[b].from&&-1!==this._allData[b].from?(a=this._nodes[this._allData[b].from].outputs.indexOf(b+r),-1!==a&&(this._nodes[this._allData[b].from].outputs[a]=b)):(a=this._allInputIndices.indexOf(b+r),-1!==a&&(this._allInputIndices[a]=b)),this._allData[b].to.forEach((s=>{a=this._nodes[s].inputs.indexOf(b+r),-1!==a&&(this._nodes[s].inputs[a]=b)})),0===this._allData[b].to.length&&(a=this._allOutputIndices.indexOf(b+r),-1!==a&&(this._allOutputIndices[a]=b))}}else r++,this._allData.splice(b,1),b--}deleteNode(r){const a=this._nodes[r];if(a.outputs.length>1)for(let v=1;v<a.outputs.length;v++)if(this._allData[a.outputs[v]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");a.executeNode=!1;const s=a.inputs[0],b=a.outputs[0],m=this._allData[b].to;for(let v=0;v<a.inputs.length;v++){const s=this._allData[a.inputs[v]].to.indexOf(r);if(-1===s)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[a.inputs[v]].to.splice(s,1)}this._allData[b]._to=[];const y=this._allOutputIndices.indexOf(b);if(-1!==y&&(this._allOutputIndices[y]=s),m&&m.length>0)for(const v of m){const r=this._nodes[v].inputs.indexOf(b);if(-1===r)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[v].inputs[r]=s,this._allData[s].to.push(v)}}removeAllDropoutNodes(){let r=0;for(const a of this._nodes){if("Dropout"===a.opType){if(1!==a.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==a.outputs.length&&2!==a.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===a.outputs.length&&0!==this._allData[a.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(r)}r++}}removeAllIdentityNodes(){let r=0;for(const a of this._nodes)"Identity"===a.opType&&this.deleteNode(r),r++}isActivation(r){switch(r.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const r of this._nodes)if("Conv"===r.opType){const s=this._allData[r.outputs[0]]._to;if(1===s.length&&this.isActivation(this._nodes[s[0]])){const b=this._nodes[s[0]];if("Clip"===b.opType)if(1===b.inputs.length)try{r.attributes.set("activation_params","floats",[b.attributes.getFloat("min"),b.attributes.getFloat("max")])}catch(a){r.attributes.set("activation_params","floats",[w.MIN_CLIP,w.MAX_CLIP])}else{if(!(b.inputs.length>=3&&void 0!==this._allData[b.inputs[1]].tensor&&void 0!==this._allData[b.inputs[2]].tensor))continue;r.attributes.set("activation_params","floats",[this._allData[b.inputs[1]].tensor.floatData[0],this._allData[b.inputs[2]].tensor.floatData[0]])}r.attributes.set("activation","string",b.opType),this.deleteNode(s[0])}}}}},1315:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.now=a.Profiler=a.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},b={none:new class{log(r,a,s){}},console:new class{log(r,a,s){console.log(`${this.color(r)} ${s?"\x1b[35m"+s+"\x1b[0m ":""}${a}`)}color(r){switch(r){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error(`unsupported severity: ${r}`)}}}},m={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let y={"":m};function v(r,a,s,b){if(void 0===a)return m=r,{verbose:v.verbose.bind(null,m),info:v.info.bind(null,m),warning:v.warning.bind(null,m),error:v.error.bind(null,m),fatal:v.fatal.bind(null,m)};if(void 0===s)w(r,a);else if("number"==typeof s&&void 0===b)w(r,a);else if("string"==typeof s&&void 0===b)w(r,s,0,a);else{if("string"!=typeof s||"number"!=typeof b)throw new TypeError("input is valid");w(r,s,0,a)}var m}function w(r,a,m,v){const w=y[v||""]||y[""];s[r]<s[w.minimalSeverity]||(w.logDateTime&&(a=`${(new Date).toISOString()}|${a}`),w.logSourceLocation,b[w.provider].log(r,a,v))}!function(r){function a(r){y={},s("",r||{})}function s(r,s){if("*"===r)a(s);else{const a=y[r]||m;y[r]={provider:s.provider||a.provider,minimalSeverity:s.minimalSeverity||a.minimalSeverity,logDateTime:void 0===s.logDateTime?a.logDateTime:s.logDateTime,logSourceLocation:void 0===s.logSourceLocation?a.logSourceLocation:s.logSourceLocation}}}r.verbose=function(a,s){r("verbose",a,s)},r.info=function(a,s){r("info",a,s)},r.warning=function(a,s){r("warning",a,s)},r.error=function(a,s){r("error",a,s)},r.fatal=function(a,s){r("fatal",a,s)},r.reset=a,r.set=s,r.setWithEnv=function(r){const a={};r.logLevel&&(a.minimalSeverity=r.logLevel),s("",a)}}(v||(v={})),a.Logger=v;class u{constructor(r,a,s,b,m,y){this.category=r,this.name=a,this.startTime=s,this.endCallback=b,this.timer=m,this.ctx=y}async end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class l{constructor(r,a,s,b){this.category=r,this.name=a,this.startTime=s,this.endTime=b}}a.Profiler=class{static create(r){return void 0===r?new this:new this(r.maxNumberEvents,r.flushBatchSize,r.flushIntervalInMilliseconds)}constructor(r,a,s){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===r?1e4:r,this._flushBatchSize=void 0===a?10:a,this._flushIntervalInMilliseconds=void 0===s?5e3:s}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,a.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(r,a,s,b){const m=this._started?this.begin(r,a,b):void 0;let y=!1;const v=s();if(v&&"function"==typeof v.then)return y=!0,new Promise(((r,a)=>{v.then((async a=>{m&&await m.end(),r(a)}),(async r=>{m&&await m.end(),a(r)}))}));if(!y&&m){const r=m.end();if(r&&"function"==typeof r.then)return new Promise(((a,s)=>{r.then((()=>{a(v)}),(r=>{s(r)}))}))}return v}begin(r,s,b){if(!this._started)throw new Error("profiler is not started yet");if(void 0===b){const b=(0,a.now)();return this.flush(b),new u(r,s,b,(r=>this.endSync(r)))}{const a=b.beginTimer();return new u(r,s,0,(async r=>this.end(r)),a,b)}}async end(r){const a=await r.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(r.category,r.name,r.startTime,a)),this.flush(a))}endSync(r){const s=(0,a.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(r.category,r.name,r.startTime,s)),this.flush(s))}logOneEvent(r){a.Logger.verbose(`Profiler.${r.category}`,`${(r.endTime-r.startTime).toFixed(2)}ms on event '${r.name}' at ${r.endTime.toFixed(2)}`)}flush(r){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||r-this._flushTime>=this._flushIntervalInMilliseconds){for(const r=this._flushPointer;this._flushPointer<r+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,a.now)()}}get started(){return this._started}},a.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},1745:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Model=void 0;const b=s(5686),m=s(4662),y=s(5127),v=s(2446),w=s(7273);var _=y.onnxruntime.experimental.fbs;a.Model=class{constructor(){}load(r,a,s){if(!s)try{return void this.loadFromOnnxFormat(r,a)}catch(r){if(void 0!==s)throw r}this.loadFromOrtFormat(r,a)}loadFromOnnxFormat(r,a){const s=v.onnx.ModelProto.decode(r);if(w.LongUtil.longToNumber(s.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=s.opsetImport.map((r=>({domain:r.domain,version:w.LongUtil.longToNumber(r.version)}))),this._graph=m.Graph.from(s.graph,a)}loadFromOrtFormat(r,a){const s=new b.flatbuffers.ByteBuffer(r),y=_.InferenceSession.getRootAsInferenceSession(s).model();if(w.LongUtil.longToNumber(y.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let b=0;b<y.opsetImportLength();b++){const r=y.opsetImport(b);this._opsets.push({domain:null==r?void 0:r.domain(),version:w.LongUtil.longToNumber(r.version())})}this._graph=m.Graph.from(y.graph(),a)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.FLOAT_TYPES=a.INT_TYPES=a.NUMBER_TYPES=void 0,a.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],a.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],a.FLOAT_TYPES=["float32","float64"]},5881:(r,a)=>{"use strict";function s(r,a){if(a.endsWith("+")){const s=Number.parseInt(a.substring(0,a.length-1),10);return!isNaN(s)&&s<=r}if(2===a.split("-").length){const s=a.split("-"),b=Number.parseInt(s[0],10),m=Number.parseInt(s[1],10);return!isNaN(b)&&!isNaN(m)&&b<=r&&r<=m}return Number.parseInt(a,10)===r}Object.defineProperty(a,"__esModule",{value:!0}),a.resolveOperator=void 0,a.resolveOperator=function(r,a,b){for(const m of b){const b=m[0],y=m[1],v=m[2],w=m[3],_=m[4];if(r.opType===b)for(const r of a)if((r.domain===y||"ai.onnx"===r.domain&&""===y)&&s(r.version,v))return{opImpl:w,opInit:_}}throw new TypeError(`cannot resolve operator '${r.opType}' with opsets: ${a.map((r=>`${r.domain||"ai.onnx"} v${r.version}`)).join(", ")}`)}},5127:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.onnxruntime=void 0;const b=s(5686);var m,y;(function(r){let a;!function(r){r[r.UNDEFINED=0]="UNDEFINED",r[r.FLOAT=1]="FLOAT",r[r.INT=2]="INT",r[r.STRING=3]="STRING",r[r.TENSOR=4]="TENSOR",r[r.GRAPH=5]="GRAPH",r[r.FLOATS=6]="FLOATS",r[r.INTS=7]="INTS",r[r.STRINGS=8]="STRINGS",r[r.TENSORS=9]="TENSORS",r[r.GRAPHS=10]="GRAPHS",r[r.SPARSE_TENSOR=11]="SPARSE_TENSOR",r[r.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(a=r.AttributeType||(r.AttributeType={}))})((y=(m=a.onnxruntime||(a.onnxruntime={})).experimental||(m.experimental={})).fbs||(y.fbs={})),function(r){!function(r){!function(r){let a;!function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.VALUE=1]="VALUE",r[r.PARAM=2]="PARAM"}(a=r.DimensionValueType||(r.DimensionValueType={}))}(r.fbs||(r.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(r){!function(r){let a;!function(r){r[r.UNDEFINED=0]="UNDEFINED",r[r.FLOAT=1]="FLOAT",r[r.UINT8=2]="UINT8",r[r.INT8=3]="INT8",r[r.UINT16=4]="UINT16",r[r.INT16=5]="INT16",r[r.INT32=6]="INT32",r[r.INT64=7]="INT64",r[r.STRING=8]="STRING",r[r.BOOL=9]="BOOL",r[r.FLOAT16=10]="FLOAT16",r[r.DOUBLE=11]="DOUBLE",r[r.UINT32=12]="UINT32",r[r.UINT64=13]="UINT64",r[r.COMPLEX64=14]="COMPLEX64",r[r.COMPLEX128=15]="COMPLEX128",r[r.BFLOAT16=16]="BFLOAT16",r[r.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",r[r.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",r[r.FLOAT8E5M2=19]="FLOAT8E5M2",r[r.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"}(a=r.TensorDataType||(r.TensorDataType={}))}(r.fbs||(r.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(r){!function(r){let a;!function(r){r[r.Primitive=0]="Primitive",r[r.Fused=1]="Fused"}(a=r.NodeType||(r.NodeType={}))}(r.fbs||(r.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(r){!function(r){let a;!function(r){r[r.NONE=0]="NONE",r[r.tensor_type=1]="tensor_type",r[r.sequence_type=2]="sequence_type",r[r.map_type=3]="map_type"}(a=r.TypeInfoValue||(r.TypeInfoValue={}))}(r.fbs||(r.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsShape(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsShape(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}dim(a,s){let b=this.bb.__offset(this.bb_pos,4);return b?(s||new r.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}dimLength(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__vector_len(this.bb_pos+r):0}static startShape(r){r.startObject(1)}static addDim(r,a){r.addFieldOffset(0,a,0)}static createDimVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startDimVector(r,a){r.startVector(4,a,4)}static endShape(r){return r.endObject()}static createShape(r,a){return n.startShape(r),n.addDim(r,a),n.endShape(r)}}a.Shape=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsDimension(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDimension(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}value(a){let s=this.bb.__offset(this.bb_pos,4);return s?(a||new r.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}denotation(r){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,r):null}static startDimension(r){r.startObject(2)}static addValue(r,a){r.addFieldOffset(0,a,0)}static addDenotation(r,a){r.addFieldOffset(1,a,0)}static endDimension(r){return r.endObject()}static createDimension(r,a,s){return n.startDimension(r),n.addValue(r,a),n.addDenotation(r,s),n.endDimension(r)}}a.Dimension=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsDimensionValue(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDimensionValue(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}dimType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):r.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}dimParam(r){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,r):null}static startDimensionValue(r){r.startObject(3)}static addDimType(a,s){a.addFieldInt8(0,s,r.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(r,a){r.addFieldInt64(1,a,r.createLong(0,0))}static addDimParam(r,a){r.addFieldOffset(2,a,0)}static endDimensionValue(r){return r.endObject()}static createDimensionValue(r,a,s,b){return n.startDimensionValue(r),n.addDimType(r,a),n.addDimValue(r,s),n.addDimParam(r,b),n.endDimensionValue(r)}}a.DimensionValue=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsTensorTypeAndShape(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTensorTypeAndShape(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}elemType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):r.experimental.fbs.TensorDataType.UNDEFINED}shape(a){let s=this.bb.__offset(this.bb_pos,6);return s?(a||new r.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startTensorTypeAndShape(r){r.startObject(2)}static addElemType(a,s){a.addFieldInt32(0,s,r.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(r,a){r.addFieldOffset(1,a,0)}static endTensorTypeAndShape(r){return r.endObject()}static createTensorTypeAndShape(r,a,s){return n.startTensorTypeAndShape(r),n.addElemType(r,a),n.addShape(r,s),n.endTensorTypeAndShape(r)}}a.TensorTypeAndShape=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsMapType(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsMapType(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}keyType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):r.experimental.fbs.TensorDataType.UNDEFINED}valueType(a){let s=this.bb.__offset(this.bb_pos,6);return s?(a||new r.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startMapType(r){r.startObject(2)}static addKeyType(a,s){a.addFieldInt32(0,s,r.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(r,a){r.addFieldOffset(1,a,0)}static endMapType(r){return r.endObject()}static createMapType(r,a,s){return n.startMapType(r),n.addKeyType(r,a),n.addValueType(r,s),n.endMapType(r)}}a.MapType=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsSequenceType(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSequenceType(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}elemType(a){let s=this.bb.__offset(this.bb_pos,4);return s?(a||new r.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startSequenceType(r){r.startObject(1)}static addElemType(r,a){r.addFieldOffset(0,a,0)}static endSequenceType(r){return r.endObject()}static createSequenceType(r,a){return n.startSequenceType(r),n.addElemType(r,a),n.endSequenceType(r)}}a.SequenceType=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(r){(r.fbs||(r.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(r,a,s,b){return r.prep(4,12),r.writeInt32(b),r.writeInt32(s),r.writeInt32(a),r.offset()}}}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsNodeEdge(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsNodeEdge(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}nodeIndex(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readUint32(this.bb_pos+r):0}inputEdges(a,s){let b=this.bb.__offset(this.bb_pos,6);return b?(s||new r.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+b)+12*a,this.bb):null}inputEdgesLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}outputEdges(a,s){let b=this.bb.__offset(this.bb_pos,8);return b?(s||new r.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+b)+12*a,this.bb):null}outputEdgesLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}static startNodeEdge(r){r.startObject(3)}static addNodeIndex(r,a){r.addFieldInt32(0,a,0)}static addInputEdges(r,a){r.addFieldOffset(1,a,0)}static startInputEdgesVector(r,a){r.startVector(12,a,4)}static addOutputEdges(r,a){r.addFieldOffset(2,a,0)}static startOutputEdgesVector(r,a){r.startVector(12,a,4)}static endNodeEdge(r){return r.endObject()}static createNodeEdge(r,a,s,b){return n.startNodeEdge(r),n.addNodeIndex(r,a),n.addInputEdges(r,s),n.addOutputEdges(r,b),n.endNodeEdge(r)}}a.NodeEdge=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsNode(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsNode(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}name(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}docString(r){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,r):null}domain(r){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,r):null}sinceVersion(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt32(this.bb_pos+r):0}index(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.readUint32(this.bb_pos+r):0}opType(r){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb_pos+a,r):null}type(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.readInt32(this.bb_pos+a):r.experimental.fbs.NodeType.Primitive}executionProviderType(r){let a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__string(this.bb_pos+a,r):null}inputs(r,a){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}inputsLength(){let r=this.bb.__offset(this.bb_pos,20);return r?this.bb.__vector_len(this.bb_pos+r):0}outputs(r,a){let s=this.bb.__offset(this.bb_pos,22);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}outputsLength(){let r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__vector_len(this.bb_pos+r):0}attributes(a,s){let b=this.bb.__offset(this.bb_pos,24);return b?(s||new r.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}attributesLength(){let r=this.bb.__offset(this.bb_pos,24);return r?this.bb.__vector_len(this.bb_pos+r):0}inputArgCounts(r){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readInt32(this.bb.__vector(this.bb_pos+a)+4*r):0}inputArgCountsLength(){let r=this.bb.__offset(this.bb_pos,26);return r?this.bb.__vector_len(this.bb_pos+r):0}inputArgCountsArray(){let r=this.bb.__offset(this.bb_pos,26);return r?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}implicitInputs(r,a){let s=this.bb.__offset(this.bb_pos,28);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}implicitInputsLength(){let r=this.bb.__offset(this.bb_pos,28);return r?this.bb.__vector_len(this.bb_pos+r):0}static startNode(r){r.startObject(13)}static addName(r,a){r.addFieldOffset(0,a,0)}static addDocString(r,a){r.addFieldOffset(1,a,0)}static addDomain(r,a){r.addFieldOffset(2,a,0)}static addSinceVersion(r,a){r.addFieldInt32(3,a,0)}static addIndex(r,a){r.addFieldInt32(4,a,0)}static addOpType(r,a){r.addFieldOffset(5,a,0)}static addType(a,s){a.addFieldInt32(6,s,r.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(r,a){r.addFieldOffset(7,a,0)}static addInputs(r,a){r.addFieldOffset(8,a,0)}static createInputsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startInputsVector(r,a){r.startVector(4,a,4)}static addOutputs(r,a){r.addFieldOffset(9,a,0)}static createOutputsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startOutputsVector(r,a){r.startVector(4,a,4)}static addAttributes(r,a){r.addFieldOffset(10,a,0)}static createAttributesVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startAttributesVector(r,a){r.startVector(4,a,4)}static addInputArgCounts(r,a){r.addFieldOffset(11,a,0)}static createInputArgCountsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addInt32(a[s]);return r.endVector()}static startInputArgCountsVector(r,a){r.startVector(4,a,4)}static addImplicitInputs(r,a){r.addFieldOffset(12,a,0)}static createImplicitInputsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startImplicitInputsVector(r,a){r.startVector(4,a,4)}static endNode(r){return r.endObject()}static createNode(r,a,s,b,m,y,v,w,_,T,x,O,S,A){return n.startNode(r),n.addName(r,a),n.addDocString(r,s),n.addDomain(r,b),n.addSinceVersion(r,m),n.addIndex(r,y),n.addOpType(r,v),n.addType(r,w),n.addExecutionProviderType(r,_),n.addInputs(r,T),n.addOutputs(r,x),n.addAttributes(r,O),n.addInputArgCounts(r,S),n.addImplicitInputs(r,A),n.endNode(r)}}a.Node=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsValueInfo(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsValueInfo(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}name(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}docString(r){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,r):null}type(a){let s=this.bb.__offset(this.bb_pos,8);return s?(a||new r.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startValueInfo(r){r.startObject(3)}static addName(r,a){r.addFieldOffset(0,a,0)}static addDocString(r,a){r.addFieldOffset(1,a,0)}static addType(r,a){r.addFieldOffset(2,a,0)}static endValueInfo(r){return r.endObject()}static createValueInfo(r,a,s,b){return n.startValueInfo(r),n.addName(r,a),n.addDocString(r,s),n.addType(r,b),n.endValueInfo(r)}}a.ValueInfo=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsTypeInfo(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTypeInfo(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}denotation(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}valueType(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):r.experimental.fbs.TypeInfoValue.NONE}value(r){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__union(r,this.bb_pos+a):null}static startTypeInfo(r){r.startObject(3)}static addDenotation(r,a){r.addFieldOffset(0,a,0)}static addValueType(a,s){a.addFieldInt8(1,s,r.experimental.fbs.TypeInfoValue.NONE)}static addValue(r,a){r.addFieldOffset(2,a,0)}static endTypeInfo(r){return r.endObject()}static createTypeInfo(r,a,s,b){return n.startTypeInfo(r),n.addDenotation(r,a),n.addValueType(r,s),n.addValue(r,b),n.endTypeInfo(r)}}a.TypeInfo=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(r){!function(r){class t{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsOperatorSetId(r,a){return(a||new t).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsOperatorSetId(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(r.readInt32(r.position())+r.position(),r)}domain(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}version(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}static startOperatorSetId(r){r.startObject(2)}static addDomain(r,a){r.addFieldOffset(0,a,0)}static addVersion(r,a){r.addFieldInt64(1,a,r.createLong(0,0))}static endOperatorSetId(r){return r.endObject()}static createOperatorSetId(r,a,s){return t.startOperatorSetId(r),t.addDomain(r,a),t.addVersion(r,s),t.endOperatorSetId(r)}}r.OperatorSetId=t}(r.fbs||(r.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsTensor(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTensor(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}name(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}docString(r){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,r):null}dims(r){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*r):this.bb.createLong(0,0)}dimsLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}dataType(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):r.experimental.fbs.TensorDataType.UNDEFINED}rawData(r){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readUint8(this.bb.__vector(this.bb_pos+a)+r):0}rawDataLength(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.__vector_len(this.bb_pos+r):0}rawDataArray(){let r=this.bb.__offset(this.bb_pos,12);return r?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}stringData(r,a){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}stringDataLength(){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__vector_len(this.bb_pos+r):0}static startTensor(r){r.startObject(6)}static addName(r,a){r.addFieldOffset(0,a,0)}static addDocString(r,a){r.addFieldOffset(1,a,0)}static addDims(r,a){r.addFieldOffset(2,a,0)}static createDimsVector(r,a){r.startVector(8,a.length,8);for(let s=a.length-1;s>=0;s--)r.addInt64(a[s]);return r.endVector()}static startDimsVector(r,a){r.startVector(8,a,8)}static addDataType(a,s){a.addFieldInt32(3,s,r.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(r,a){r.addFieldOffset(4,a,0)}static createRawDataVector(r,a){r.startVector(1,a.length,1);for(let s=a.length-1;s>=0;s--)r.addInt8(a[s]);return r.endVector()}static startRawDataVector(r,a){r.startVector(1,a,1)}static addStringData(r,a){r.addFieldOffset(5,a,0)}static createStringDataVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startStringDataVector(r,a){r.startVector(4,a,4)}static endTensor(r){return r.endObject()}static createTensor(r,a,s,b,m,y,v){return n.startTensor(r),n.addName(r,a),n.addDocString(r,s),n.addDims(r,b),n.addDataType(r,m),n.addRawData(r,y),n.addStringData(r,v),n.endTensor(r)}}a.Tensor=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsSparseTensor(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSparseTensor(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}values(a){let s=this.bb.__offset(this.bb_pos,4);return s?(a||new r.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}indices(a){let s=this.bb.__offset(this.bb_pos,6);return s?(a||new r.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}dims(r){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*r):this.bb.createLong(0,0)}dimsLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}static startSparseTensor(r){r.startObject(3)}static addValues(r,a){r.addFieldOffset(0,a,0)}static addIndices(r,a){r.addFieldOffset(1,a,0)}static addDims(r,a){r.addFieldOffset(2,a,0)}static createDimsVector(r,a){r.startVector(8,a.length,8);for(let s=a.length-1;s>=0;s--)r.addInt64(a[s]);return r.endVector()}static startDimsVector(r,a){r.startVector(8,a,8)}static endSparseTensor(r){return r.endObject()}static createSparseTensor(r,a,s,b){return n.startSparseTensor(r),n.addValues(r,a),n.addIndices(r,s),n.addDims(r,b),n.endSparseTensor(r)}}a.SparseTensor=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsAttribute(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsAttribute(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}name(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}docString(r){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,r):null}type(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt32(this.bb_pos+a):r.experimental.fbs.AttributeType.UNDEFINED}f(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readFloat32(this.bb_pos+r):0}i(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}s(r){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb_pos+a,r):null}t(a){let s=this.bb.__offset(this.bb_pos,16);return s?(a||new r.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}g(a){let s=this.bb.__offset(this.bb_pos,18);return s?(a||new r.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}floats(r){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readFloat32(this.bb.__vector(this.bb_pos+a)+4*r):0}floatsLength(){let r=this.bb.__offset(this.bb_pos,20);return r?this.bb.__vector_len(this.bb_pos+r):0}floatsArray(){let r=this.bb.__offset(this.bb_pos,20);return r?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}ints(r){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*r):this.bb.createLong(0,0)}intsLength(){let r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__vector_len(this.bb_pos+r):0}strings(r,a){let s=this.bb.__offset(this.bb_pos,24);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}stringsLength(){let r=this.bb.__offset(this.bb_pos,24);return r?this.bb.__vector_len(this.bb_pos+r):0}tensors(a,s){let b=this.bb.__offset(this.bb_pos,26);return b?(s||new r.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}tensorsLength(){let r=this.bb.__offset(this.bb_pos,26);return r?this.bb.__vector_len(this.bb_pos+r):0}graphs(a,s){let b=this.bb.__offset(this.bb_pos,28);return b?(s||new r.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}graphsLength(){let r=this.bb.__offset(this.bb_pos,28);return r?this.bb.__vector_len(this.bb_pos+r):0}static startAttribute(r){r.startObject(13)}static addName(r,a){r.addFieldOffset(0,a,0)}static addDocString(r,a){r.addFieldOffset(1,a,0)}static addType(a,s){a.addFieldInt32(2,s,r.experimental.fbs.AttributeType.UNDEFINED)}static addF(r,a){r.addFieldFloat32(3,a,0)}static addI(r,a){r.addFieldInt64(4,a,r.createLong(0,0))}static addS(r,a){r.addFieldOffset(5,a,0)}static addT(r,a){r.addFieldOffset(6,a,0)}static addG(r,a){r.addFieldOffset(7,a,0)}static addFloats(r,a){r.addFieldOffset(8,a,0)}static createFloatsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addFloat32(a[s]);return r.endVector()}static startFloatsVector(r,a){r.startVector(4,a,4)}static addInts(r,a){r.addFieldOffset(9,a,0)}static createIntsVector(r,a){r.startVector(8,a.length,8);for(let s=a.length-1;s>=0;s--)r.addInt64(a[s]);return r.endVector()}static startIntsVector(r,a){r.startVector(8,a,8)}static addStrings(r,a){r.addFieldOffset(10,a,0)}static createStringsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startStringsVector(r,a){r.startVector(4,a,4)}static addTensors(r,a){r.addFieldOffset(11,a,0)}static createTensorsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startTensorsVector(r,a){r.startVector(4,a,4)}static addGraphs(r,a){r.addFieldOffset(12,a,0)}static createGraphsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startGraphsVector(r,a){r.startVector(4,a,4)}static endAttribute(r){return r.endObject()}static createAttribute(r,a,s,b,m,y,v,w,_,T,x,O,S,A){return n.startAttribute(r),n.addName(r,a),n.addDocString(r,s),n.addType(r,b),n.addF(r,m),n.addI(r,y),n.addS(r,v),n.addT(r,w),n.addG(r,_),n.addFloats(r,T),n.addInts(r,x),n.addStrings(r,O),n.addTensors(r,S),n.addGraphs(r,A),n.endAttribute(r)}}a.Attribute=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsGraph(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsGraph(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}initializers(a,s){let b=this.bb.__offset(this.bb_pos,4);return b?(s||new r.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}initializersLength(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__vector_len(this.bb_pos+r):0}nodeArgs(a,s){let b=this.bb.__offset(this.bb_pos,6);return b?(s||new r.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}nodeArgsLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}nodes(a,s){let b=this.bb.__offset(this.bb_pos,8);return b?(s||new r.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}nodesLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}maxNodeIndex(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readUint32(this.bb_pos+r):0}nodeEdges(a,s){let b=this.bb.__offset(this.bb_pos,12);return b?(s||new r.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}nodeEdgesLength(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.__vector_len(this.bb_pos+r):0}inputs(r,a){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}inputsLength(){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__vector_len(this.bb_pos+r):0}outputs(r,a){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.__string(this.bb.__vector(this.bb_pos+s)+4*r,a):null}outputsLength(){let r=this.bb.__offset(this.bb_pos,16);return r?this.bb.__vector_len(this.bb_pos+r):0}sparseInitializers(a,s){let b=this.bb.__offset(this.bb_pos,18);return b?(s||new r.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}sparseInitializersLength(){let r=this.bb.__offset(this.bb_pos,18);return r?this.bb.__vector_len(this.bb_pos+r):0}static startGraph(r){r.startObject(8)}static addInitializers(r,a){r.addFieldOffset(0,a,0)}static createInitializersVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startInitializersVector(r,a){r.startVector(4,a,4)}static addNodeArgs(r,a){r.addFieldOffset(1,a,0)}static createNodeArgsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startNodeArgsVector(r,a){r.startVector(4,a,4)}static addNodes(r,a){r.addFieldOffset(2,a,0)}static createNodesVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startNodesVector(r,a){r.startVector(4,a,4)}static addMaxNodeIndex(r,a){r.addFieldInt32(3,a,0)}static addNodeEdges(r,a){r.addFieldOffset(4,a,0)}static createNodeEdgesVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startNodeEdgesVector(r,a){r.startVector(4,a,4)}static addInputs(r,a){r.addFieldOffset(5,a,0)}static createInputsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startInputsVector(r,a){r.startVector(4,a,4)}static addOutputs(r,a){r.addFieldOffset(6,a,0)}static createOutputsVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startOutputsVector(r,a){r.startVector(4,a,4)}static addSparseInitializers(r,a){r.addFieldOffset(7,a,0)}static createSparseInitializersVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startSparseInitializersVector(r,a){r.startVector(4,a,4)}static endGraph(r){return r.endObject()}static createGraph(r,a,s,b,m,y,v,w,_){return n.startGraph(r),n.addInitializers(r,a),n.addNodeArgs(r,s),n.addNodes(r,b),n.addMaxNodeIndex(r,m),n.addNodeEdges(r,y),n.addInputs(r,v),n.addOutputs(r,w),n.addSparseInitializers(r,_),n.endGraph(r)}}a.Graph=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsModel(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsModel(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}irVersion(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}opsetImport(a,s){let b=this.bb.__offset(this.bb_pos,6);return b?(s||new r.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}opsetImportLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}producerName(r){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,r):null}producerVersion(r){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__string(this.bb_pos+a,r):null}domain(r){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__string(this.bb_pos+a,r):null}modelVersion(){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}docString(r){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__string(this.bb_pos+a,r):null}graph(a){let s=this.bb.__offset(this.bb_pos,18);return s?(a||new r.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}graphDocString(r){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__string(this.bb_pos+a,r):null}static startModel(r){r.startObject(9)}static addIrVersion(r,a){r.addFieldInt64(0,a,r.createLong(0,0))}static addOpsetImport(r,a){r.addFieldOffset(1,a,0)}static createOpsetImportVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startOpsetImportVector(r,a){r.startVector(4,a,4)}static addProducerName(r,a){r.addFieldOffset(2,a,0)}static addProducerVersion(r,a){r.addFieldOffset(3,a,0)}static addDomain(r,a){r.addFieldOffset(4,a,0)}static addModelVersion(r,a){r.addFieldInt64(5,a,r.createLong(0,0))}static addDocString(r,a){r.addFieldOffset(6,a,0)}static addGraph(r,a){r.addFieldOffset(7,a,0)}static addGraphDocString(r,a){r.addFieldOffset(8,a,0)}static endModel(r){return r.endObject()}static createModel(r,a,s,b,m,y,v,w,_,T){return n.startModel(r),n.addIrVersion(r,a),n.addOpsetImport(r,s),n.addProducerName(r,b),n.addProducerVersion(r,m),n.addDomain(r,y),n.addModelVersion(r,v),n.addDocString(r,w),n.addGraph(r,_),n.addGraphDocString(r,T),n.endModel(r)}}a.Model=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(r){!function(r){class t{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsKernelCreateInfos(r,a){return(a||new t).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsKernelCreateInfos(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(r.readInt32(r.position())+r.position(),r)}nodeIndices(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint32(this.bb.__vector(this.bb_pos+a)+4*r):0}nodeIndicesLength(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__vector_len(this.bb_pos+r):0}nodeIndicesArray(){let r=this.bb.__offset(this.bb_pos,4);return r?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}kernelDefHashes(r){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint64(this.bb.__vector(this.bb_pos+a)+8*r):this.bb.createLong(0,0)}kernelDefHashesLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}static startKernelCreateInfos(r){r.startObject(2)}static addNodeIndices(r,a){r.addFieldOffset(0,a,0)}static createNodeIndicesVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addInt32(a[s]);return r.endVector()}static startNodeIndicesVector(r,a){r.startVector(4,a,4)}static addKernelDefHashes(r,a){r.addFieldOffset(1,a,0)}static createKernelDefHashesVector(r,a){r.startVector(8,a.length,8);for(let s=a.length-1;s>=0;s--)r.addInt64(a[s]);return r.endVector()}static startKernelDefHashesVector(r,a){r.startVector(8,a,8)}static endKernelCreateInfos(r){return r.endObject()}static createKernelCreateInfos(r,a,s){return t.startKernelCreateInfos(r),t.addNodeIndices(r,a),t.addKernelDefHashes(r,s),t.endKernelCreateInfos(r)}}r.KernelCreateInfos=t}(r.fbs||(r.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsSubGraphSessionState(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSubGraphSessionState(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}graphId(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}sessionState(a){let s=this.bb.__offset(this.bb_pos,6);return s?(a||new r.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startSubGraphSessionState(r){r.startObject(2)}static addGraphId(r,a){r.addFieldOffset(0,a,0)}static addSessionState(r,a){r.addFieldOffset(1,a,0)}static endSubGraphSessionState(r){let a=r.endObject();return r.requiredField(a,4),a}static createSubGraphSessionState(r,a,s){return n.startSubGraphSessionState(r),n.addGraphId(r,a),n.addSessionState(r,s),n.endSubGraphSessionState(r)}}a.SubGraphSessionState=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsSessionState(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSessionState(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}kernels(a){let s=this.bb.__offset(this.bb_pos,4);return s?(a||new r.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}subGraphSessionStates(a,s){let b=this.bb.__offset(this.bb_pos,6);return b?(s||new r.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+b)+4*a),this.bb):null}subGraphSessionStatesLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}static startSessionState(r){r.startObject(2)}static addKernels(r,a){r.addFieldOffset(0,a,0)}static addSubGraphSessionStates(r,a){r.addFieldOffset(1,a,0)}static createSubGraphSessionStatesVector(r,a){r.startVector(4,a.length,4);for(let s=a.length-1;s>=0;s--)r.addOffset(a[s]);return r.endVector()}static startSubGraphSessionStatesVector(r,a){r.startVector(4,a,4)}static endSessionState(r){return r.endObject()}static createSessionState(r,a,s){return n.startSessionState(r),n.addKernels(r,a),n.addSubGraphSessionStates(r,s),n.endSessionState(r)}}a.SessionState=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={})),function(r){!function(a){!function(a){class n{constructor(){this.bb=null,this.bb_pos=0}__init(r,a){return this.bb_pos=r,this.bb=a,this}static getRootAsInferenceSession(r,a){return(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsInferenceSession(r,a){return r.setPosition(r.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(a||new n).__init(r.readInt32(r.position())+r.position(),r)}static bufferHasIdentifier(r){return r.__has_identifier("ORTM")}ortVersion(r){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,r):null}model(a){let s=this.bb.__offset(this.bb_pos,6);return s?(a||new r.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}sessionState(a){let s=this.bb.__offset(this.bb_pos,8);return s?(a||new r.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startInferenceSession(r){r.startObject(3)}static addOrtVersion(r,a){r.addFieldOffset(0,a,0)}static addModel(r,a){r.addFieldOffset(1,a,0)}static addSessionState(r,a){r.addFieldOffset(2,a,0)}static endInferenceSession(r){return r.endObject()}static finishInferenceSessionBuffer(r,a){r.finish(a,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(r,a){r.finish(a,"ORTM",!0)}static createInferenceSession(r,a,s,b){return n.startInferenceSession(r),n.addOrtVersion(r,a),n.addModel(r,s),n.addSessionState(r,b),n.endInferenceSession(r)}}a.InferenceSession=n}(a.fbs||(a.fbs={}))}(r.experimental||(r.experimental={}))}(a.onnxruntime||(a.onnxruntime={}))},1723:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.OnnxjsSessionHandler=void 0;const b=s(2235),m=s(9240);a.OnnxjsSessionHandler=class{constructor(r){this.session=r,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(r,a,s){const y=new Map;for(const b in r)if(Object.hasOwnProperty.call(r,b)){const a=r[b];y.set(b,new m.Tensor(a.dims,a.type,void 0,void 0,a.data))}const v=await this.session.run(y),w={};return v.forEach(((r,a)=>{w[a]=new b.Tensor(r.type,r.data,r.dims)})),w}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Session=void 0;const b=s(7067),m=s(1296),y=s(1975),v=s(6496),w=s(1315),_=s(1745);a.Session=class{constructor(r={}){this._initialized=!1,this.backendHint=r.backendHint,this.profiler=w.Profiler.create(r.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(r,a,s){await this.profiler.event("session","Session.loadModel",(async()=>{const v=await(0,y.resolveBackend)(this.backendHint);if(this.sessionHandler=v.createSessionHandler(this.context),this._model=new _.Model,"string"==typeof r){const a=r.endsWith(".ort");if("undefined"!=typeof process&&process.versions&&process.versions.node){const s=await(0,m.promisify)(b.readFile)(r);this.initialize(s,a)}else{const s=await fetch(r),b=await s.arrayBuffer();this.initialize(new Uint8Array(b),a)}}else if(ArrayBuffer.isView(r))this.initialize(r);else{const b=new Uint8Array(r,a||0,s||r.byteLength);this.initialize(b)}}))}initialize(r,a){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const s=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(r,s,a),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new v.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(r){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const a=this.normalizeAndValidateInputs(r),s=await this._executionPlan.execute(this.sessionHandler,a);return this.createOutput(s)}))}normalizeAndValidateInputs(r){const a=this._model.graph.getInputNames();if(Array.isArray(r)){if(r.length!==a.length)throw new Error(`incorrect input array length: expected ${a.length} but got ${r.length}`)}else{if(r.size!==a.length)throw new Error(`incorrect input map size: expected ${a.length} but got ${r.size}`);const s=new Array(r.size);let b=0;for(let m=0;m<a.length;++m){const y=r.get(a[m]);if(!y)throw new Error(`missing input tensor for: '${name}'`);s[b++]=y}r=s}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,r,!1);else{const a=this._model.graph.getInputIndices(),s=this._model.graph.getValues(),b=new Array(a.length);for(let m=0;m<a.length;++m){const y=s[a[m]];b[m]=y.type.shape.dims,this.context.graphInputTypes.push(y.type.tensorType),this.context.graphInputDims.push(r[m].dims)}this.validateInputTensorDims(b,r,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,r),r}validateInputTensorTypes(r,a){for(let s=0;s<a.length;s++){const b=r[s],m=a[s].type;if(b!==m)throw new Error(`input tensor[${s}] check failed: expected type '${b}' but got ${m}`)}}validateInputTensorDims(r,a,s){for(let b=0;b<a.length;b++){const m=r[b],y=a[b].dims;if(!this.compareTensorDims(m,y,s))throw new Error(`input tensor[${b}] check failed: expected shape '[${m.join(",")}]' but got [${y.join(",")}]`)}}compareTensorDims(r,a,s){if(r.length!==a.length)return!1;for(let b=0;b<r.length;++b)if(r[b]!==a[b]&&(!s||0!==r[b]))return!1;return!0}createOutput(r){const a=this._model.graph.getOutputNames();if(r.length!==a.length)throw new Error("expected number of outputs do not match number of generated outputs");const s=new Map;for(let b=0;b<a.length;++b)s.set(a[b],r[b]);return s}initializeOps(r){const a=r.getNodes();this._ops=new Array(a.length);for(let s=0;s<a.length;s++)this._ops[s]=this.sessionHandler.resolve(a[s],this._model.opsets,r)}}},9240:function(r,a,s){"use strict";var b=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a,"__esModule",{value:!0}),a.Tensor=void 0;const m=s(3442),y=b(s(1583)),v=s(5127),w=s(2446),_=s(7273);var T=v.onnxruntime.experimental.fbs;class c{get data(){if(void 0===this.cache){const r=this.dataProvider(this.dataId);if(r.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=r}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(r){return this.data[_.ShapeUtil.indicesToOffset(r,this.strides)]}set(r,a){this.data[_.ShapeUtil.indicesToOffset(r,this.strides)]=a}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=_.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(r,a,s,b,y,v=m.Guid.create()){this.dims=r,this.type=a,this.dataProvider=s,this.asyncDataProvider=b,this.cache=y,this.dataId=v,this.size=_.ShapeUtil.validateDimsAndCalcSize(r);const w=this.size,T=void 0===s&&void 0===b&&void 0===y;if(void 0!==y&&y.length!==w)throw new RangeError("Input dims doesn't match data length.");if("string"===a){if(!(void 0===y||Array.isArray(y)&&y.every((r=>"string"==typeof r))))throw new TypeError("cache should be a string array");T&&(this.cache=new Array(w))}else{if(void 0!==y){const r=O(a);if(!(y instanceof r))throw new TypeError(`cache should be type ${r.name}`)}if(T){const r=new ArrayBuffer(w*function(r){switch(r){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${r}`)}}(a));this.cache=function(r,a){return new(O(a))(r)}(r,a)}}}static fromProto(r){if(!r)throw new Error("cannot construct Value from an empty tensor");const a=_.ProtoUtil.tensorDataTypeFromProto(r.dataType),s=_.ProtoUtil.tensorDimsFromProto(r.dims),b=new c(s,a);if("string"===a)r.stringData.forEach(((r,a)=>{b.data[a]=(0,_.decodeUtf8String)(r)}));else if(r.rawData&&"number"==typeof r.rawData.byteLength&&r.rawData.byteLength>0){const a=b.data,s=new DataView(r.rawData.buffer,r.rawData.byteOffset,r.rawData.byteLength),m=x(r.dataType),y=r.rawData.byteLength/m;if(r.rawData.byteLength%m!=0)throw new Error("invalid buffer length");if(a.length!==y)throw new Error("buffer length mismatch");for(let b=0;b<y;b++){const y=A(s,r.dataType,b*m);a[b]=y}}else{let a;switch(r.dataType){case w.onnx.TensorProto.DataType.FLOAT:a=r.floatData;break;case w.onnx.TensorProto.DataType.INT32:case w.onnx.TensorProto.DataType.INT16:case w.onnx.TensorProto.DataType.UINT16:case w.onnx.TensorProto.DataType.INT8:case w.onnx.TensorProto.DataType.UINT8:case w.onnx.TensorProto.DataType.BOOL:a=r.int32Data;break;case w.onnx.TensorProto.DataType.INT64:a=r.int64Data;break;case w.onnx.TensorProto.DataType.DOUBLE:a=r.doubleData;break;case w.onnx.TensorProto.DataType.UINT32:case w.onnx.TensorProto.DataType.UINT64:a=r.uint64Data;break;default:throw new Error("unspecific error")}if(null==a)throw new Error("failed to populate data from a tensorproto value");const s=b.data;if(s.length!==a.length)throw new Error("array length mismatch");for(let b=0;b<a.length;b++){const m=a[b];y.default.isLong(m)?s[b]=S(m,r.dataType):s[b]=m}}return b}static fromData(r,a,s){return new c(a,s,void 0,void 0,r)}static fromOrtTensor(r){if(!r)throw new Error("cannot construct Value from an empty tensor");const a=_.ProtoUtil.tensorDimsFromORTFormat(r),s=_.ProtoUtil.tensorDataTypeFromProto(r.dataType()),b=new c(a,s);if("string"===s)for(let m=0;m<r.stringDataLength();m++)b.data[m]=r.stringData(m);else if(r.rawDataArray()&&"number"==typeof r.rawDataLength()&&r.rawDataLength()>0){const a=b.data,s=new DataView(r.rawDataArray().buffer,r.rawDataArray().byteOffset,r.rawDataLength()),m=x(r.dataType()),y=r.rawDataLength()/m;if(r.rawDataLength()%m!=0)throw new Error("invalid buffer length");if(a.length!==y)throw new Error("buffer length mismatch");for(let b=0;b<y;b++){const y=A(s,r.dataType(),b*m);a[b]=y}}return b}}function x(r){switch(r){case w.onnx.TensorProto.DataType.UINT8:case w.onnx.TensorProto.DataType.INT8:case w.onnx.TensorProto.DataType.BOOL:return 1;case w.onnx.TensorProto.DataType.UINT16:case w.onnx.TensorProto.DataType.INT16:return 2;case w.onnx.TensorProto.DataType.FLOAT:case w.onnx.TensorProto.DataType.INT32:case w.onnx.TensorProto.DataType.UINT32:return 4;case w.onnx.TensorProto.DataType.INT64:case w.onnx.TensorProto.DataType.DOUBLE:case w.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${w.onnx.TensorProto.DataType[r]}`)}}function O(r){switch(r){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function S(r,a){if(a===w.onnx.TensorProto.DataType.INT64||a===T.TensorDataType.INT64){if(r.greaterThanOrEqual(2147483648)||r.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(a!==w.onnx.TensorProto.DataType.UINT32&&a!==T.TensorDataType.UINT32&&a!==w.onnx.TensorProto.DataType.UINT64&&a!==T.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${w.onnx.TensorProto.DataType[a]}`);if(r.greaterThanOrEqual(4294967296)||r.lessThan(0))throw new TypeError("uint64 is not supported")}return r.toNumber()}function A(r,a,s){switch(a){case w.onnx.TensorProto.DataType.BOOL:case w.onnx.TensorProto.DataType.UINT8:return r.getUint8(s);case w.onnx.TensorProto.DataType.INT8:return r.getInt8(s);case w.onnx.TensorProto.DataType.UINT16:return r.getUint16(s,!0);case w.onnx.TensorProto.DataType.INT16:return r.getInt16(s,!0);case w.onnx.TensorProto.DataType.FLOAT:return r.getFloat32(s,!0);case w.onnx.TensorProto.DataType.INT32:return r.getInt32(s,!0);case w.onnx.TensorProto.DataType.UINT32:return r.getUint32(s,!0);case w.onnx.TensorProto.DataType.INT64:return S(y.default.fromBits(r.getUint32(s,!0),r.getUint32(s+4,!0),!1),a);case w.onnx.TensorProto.DataType.DOUBLE:return r.getFloat64(s,!0);case w.onnx.TensorProto.DataType.UINT64:return S(y.default.fromBits(r.getUint32(s,!0),r.getUint32(s+4,!0),!0),a);default:throw new Error(`cannot read from DataView for type ${w.onnx.TensorProto.DataType[a]}`)}}a.Tensor=c},7273:function(r,a,s){"use strict";var b=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a,"__esModule",{value:!0}),a.decodeUtf8String=a.MAX_CLIP=a.MIN_CLIP=a.PoolConvUtil=a.ReduceUtil=a.SplitUtil=a.MathUtil=a.ShapeUtil=a.LongUtil=a.ProtoUtil=a.GemmUtil=a.arrayCopyHelper=a.BroadcastUtil=a.MatMulUtil=a.ArrayUtil=a.assert=a.checkInputsShape=void 0;const m=s(5686),y=b(s(1583)),v=s(2446),w=s(9240);a.checkInputsShape=function(r,...a){if(!r||r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!r[s].dims||r[s].dims.length!==a[s])return!1;return!0},a.assert=function(r,a){if(!r)throw new Error("string"==typeof a?a:a())},a.ArrayUtil=class{static arraysEqual(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==a[s])return!1;return!0}};class u{static preprocessInputShapes(r,a){return[1===r.length?[1,r[0]]:r,1===a.length?[a[0],1]:a]}static postprocessOutputShape(r,a,s){1===a&&r.splice(r.length-2,1),1===s&&r.pop()}static calcMatMulShape(r,a){return r[1]!==a[0]?void 0:[r[0],a[1]]}}a.MatMulUtil=u;class l{static calcShape(r,a,s=!1){const b=r.length,m=a.length;if(0===b)return a;if(0===m)return r;const y=Math.max(r.length,a.length),v=new Array(y);if(s){if(b<2||m<2)return;const s=u.calcMatMulShape([r[b-2],r[b-1]],[a[m-2],a[m-1]]);if(void 0===s)return;[v[y-2],v[y-1]]=s}for(let w=s?3:1;w<=y;w++){const s=b-w<0?1:r[b-w],_=m-w<0?1:a[m-w];if(s!==_&&s>1&&_>1)return;v[y-w]=Math.max(s,_)}return v}static index(r,a){const s=new Array(a.length);return l.fillIndex(r,a,s),s}static fillIndex(r,a,s){const b=r.length-a.length;for(let m=0;m<a.length;m++)s[m]=r[b+m]%a[m]}static calc(r,a,s,b,m){const y=l.calcShape(r.dims,a.dims);if(y){if(b&&!d.areEqual(y,r.dims))return;const v=d.size(y),_=b?r:new w.Tensor(y,m||r.type);if(0===y.length)_.set([],s(r.get([]),a.get([])));else{const b=new Array(y.length),m=new Array(r.dims.length),w=new Array(a.dims.length);let T,x=0,O=0,S=!1,A=!1;0===r.dims.length&&(x=r.get([]),S=!0),0===a.dims.length&&(O=a.get([]),A=!0);for(let P=0;P<v;P++){T=P;for(let r=y.length-1;r>=0;r--)b[r]=T%y[r],T=Math.floor(T/y[r]);S||(l.fillIndex(b,r.dims,m),x=r.get(m)),A||(l.fillIndex(b,a.dims,w),O=a.get(w)),_.set(b,s(x,O))}}return _}}static isValidBroadcast(r,a){const s=r.length,b=a.length;if(s>b)return!1;for(let m=1;m<=s;m++)if(1!==r[s-m]&&r[s-m]!==a[b-m])return!1;return!0}static getBroadcastDims(r,a){const s=r.length,b=[];for(let m=0;m<s;m++){const y=s-1-m,v=r[y]||1;(a[a.length-1-m]||1)>1&&1===v&&b.unshift(y)}return b}}a.BroadcastUtil=l,a.arrayCopyHelper=function(r,a,s,b,m){if(b<0||b>=a.length)throw new Error("sourceIndex out of bounds");if(s<0||s>=r.length)throw new Error("targetIndex out of bounds");if(b+m>a.length)throw new Error("source indices to be copied are outside bounds");if(s+m>r.length)throw new Error("target array is too small to hold result");for(let y=0;y<m;y++)r[s+y]=a[b+y]},a.GemmUtil=class{static getShapeOfGemmResult(r,a,s,b,m){if(2!==r.length||2!==s.length)throw new Error("shape need to be of size 2");let y,v,w;a?(y=r[1],v=r[0]):(y=r[0],v=r[1]);let _=-1;if(b?(w=s[0],_=1):(w=s[1],_=0),s[_]!==v)throw new Error("dimension mismatch");if(y<=0||w<=0||v<=0)throw new Error("invalid shape specified");if(m&&!l.isValidBroadcast(m,[y,w]))throw new Error("gemm: invalid bias shape for broadcast");return[y,w,v]}};class c{static tensorDataTypeFromProto(r){switch(r){case v.onnx.TensorProto.DataType.INT8:return"int8";case v.onnx.TensorProto.DataType.UINT8:return"uint8";case v.onnx.TensorProto.DataType.BOOL:return"bool";case v.onnx.TensorProto.DataType.INT16:return"int16";case v.onnx.TensorProto.DataType.UINT16:return"uint16";case v.onnx.TensorProto.DataType.INT32:return"int32";case v.onnx.TensorProto.DataType.UINT32:return"uint32";case v.onnx.TensorProto.DataType.FLOAT:return"float32";case v.onnx.TensorProto.DataType.DOUBLE:return"float64";case v.onnx.TensorProto.DataType.STRING:return"string";case v.onnx.TensorProto.DataType.INT64:return"int32";case v.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${v.onnx.TensorProto.DataType[r]}`)}}static tensorDataTypeStringToEnum(r){switch(r){case"int8":return v.onnx.TensorProto.DataType.INT8;case"uint8":return v.onnx.TensorProto.DataType.UINT8;case"bool":return v.onnx.TensorProto.DataType.BOOL;case"int16":return v.onnx.TensorProto.DataType.INT16;case"uint16":return v.onnx.TensorProto.DataType.UINT16;case"int32":return v.onnx.TensorProto.DataType.INT32;case"uint32":return v.onnx.TensorProto.DataType.UINT32;case"float32":return v.onnx.TensorProto.DataType.FLOAT;case"float64":return v.onnx.TensorProto.DataType.DOUBLE;case"string":return v.onnx.TensorProto.DataType.STRING;case"int64":return v.onnx.TensorProto.DataType.INT64;case"uint64":return v.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${r}`)}}static tensorDimsFromProto(r){return r.map((r=>y.default.isLong(r)?r.toNumber():r))}static tensorValueTypeFromProto(r){return{tensorType:c.tensorDataTypeFromProto(r.elemType),shape:{dims:c.tensorDimsFromProto(r.shape.dim.map((r=>r.dimValue)))}}}static tensorDimsFromORTFormat(r){const a=[];for(let s=0;s<r.dimsLength();s++)a.push(p.longToNumber(r.dims(s)));return a}static tensorAttributesFromORTFormat(r){const a=[];for(let s=0;s<r.attributesLength();s++)a.push(r.attributes(s));return a}}a.ProtoUtil=c;class p{static longToNumber(r,a){return y.default.isLong(r)?r.toNumber():r instanceof m.flatbuffers.Long?y.default.fromValue({low:r.low,high:r.high,unsigned:null!=a&&a}).toNumber():r}static isLong(r){return y.default.isLong(r)||r instanceof m.flatbuffers.Long}}a.LongUtil=p;class d{static size(r){return d.getSizeFromDimensionRange(r,0,r.length)}static sizeFromDimension(r,a){if(a<0||a>r.length)throw new Error(`invalid dimension of ${a} for sizeFromDimension as Tensor has ${r.length} dimensions.`);return d.getSizeFromDimensionRange(r,a,r.length)}static sizeToDimension(r,a){if(a<0||a>r.length)throw new Error(`invalid dimension of ${a} for sizeToDimension as Tensor has ${r.length} dimensions.`);return d.getSizeFromDimensionRange(r,0,a)}static getSizeFromDimensionRange(r,a,s){let b=1;for(let m=a;m<s;m++){if(r[m]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");b*=r[m]}return b}static computeStrides(r){const a=r.length;if(0===a)return[];if(1===a)return[1];const s=new Array(a);s[a-1]=1,s[a-2]=r[a-1];for(let b=a-3;b>=0;--b)s[b]=s[b+1]*r[b+1];return s}static transpose(r){return r.slice().reverse()}static indicesToOffset(r,a,s){void 0===s&&(s=r.length);let b=0;for(let m=0;m<s;++m)b+=a[m]*r[m];return b}static offsetToIndices(r,a){const s=a.length;if(0===s)return[];if(1===s)return[r*a[0]];const b=new Array(a.length);for(let m=0;m<b.length-1;++m)b[m]=Math.floor(r/a[m]),r-=b[m]*a[m];return b[b.length-1]=r,b}static normalizeAxis(r,a){if(r<-a&&r>=a)throw new Error("unsupported axis for this operation.");return r<0?r+a:r}static normalizeAxes(r,a){return r.map((r=>this.normalizeAxis(r,a)))}static incrementIndex(r,a,s){if(0===a.length||0===r.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===s)s=a.length;else if(s<=0||s>a.length)throw new Error("Incorrect axis to increment on");for(let b=s-1;b>=0&&(r[b]++,!(r[b]<a[b]));--b)r[b]=0}static calculateReshapedDims(r,a){if(0===a.length){if(0===r.length||1===d.size(r))return[];throw new Error("cannot reshape to a scalar Tensor")}const s=a.length,b=new Array(s);let m=-1,y=1;for(let w=0;w<s;w++){if(a[w]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===a[w]){if(-1!==m)throw new Error("at most one dimension in shape hints can be -1");m=w}else{if(0===a[w]){if(w>=r.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");b[w]=r[w]}else b[w]=a[w];y*=b[w]}}const v=d.size(r);if(-1!==m){if(v%y!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${r}] Output shape: [${a}]`);b[m]=v/y}else if(y!==v)throw new Error("reshapedDims and originalDims don't have matching sizes");return b}static sortBasedOnPerm(r,a){return a?a.map((a=>r[a])):r.slice().reverse()}static padShape(r,a){const s=r.length;return r.map(((r,b)=>r+a[b]+a[b+s]))}static areEqual(r,a){return r.length===a.length&&r.every(((r,s)=>r===a[s]))}static validateDimsAndCalcSize(r){if(r.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let a=1;for(const s of r){if(!Number.isInteger(s))throw new TypeError(`Invalid shape: ${s} is not an integer`);if(s<0||s>2147483647)throw new TypeError(`Invalid shape: length ${s} is not allowed`);a*=s}return a}static flattenShape(r,a){a<0&&(a+=r.length);const s=r.reduce(((r,a)=>r*a),1),b=r.slice(a).reduce(((r,a)=>r*a),1);return[s/b,b]}static squeezeShape(r,a){const s=new Array;a=d.normalizeAxes(a,r.length);for(let b=0;b<r.length;b++){const m=a.indexOf(b)>=0;if(m&&1!==r[b])throw new Error("squeeze an axis of size different than 1");(0===a.length&&r[b]>1||a.length>0&&!m)&&s.push(r[b])}return s}static unsqueezeShape(r,a){const s=new Array(r.length+a.length);s.fill(0);for(let m=0;m<a.length;m++){const r=d.normalizeAxis(a[m],s.length);if(r>=s.length)throw new Error("'axes' has an out of range axis");if(0!==s[r])throw new Error("'axes' has a duplicate axis");s[r]=1}let b=0;for(let m=0;m<s.length;m++)0===s[m]&&(s[m]=r[b++]);if(b!==r.length)throw new Error("the unsqueezed dimension could not be established");return s}}a.ShapeUtil=d,a.MathUtil=class{static sqr(r,a,s,b,m){if(b<0||b>=a.length)throw new Error("sourceIndex out of bounds");if(s<0||s>=r.length)throw new Error("targetIndex out of bounds");if(b+m>a.length)throw new Error("source indices to be copied are outside bounds");if(s+m>r.length)throw new Error("target array is too small to hold result");for(let y=0;y<m;y++)r[s+y]+=Math.pow(a[b+y],2)}static axpy(r,a,s,b,m,y){if(b<0||b>=a.length)throw new Error("sourceIndex out of bounds");if(s<0||s>=r.length)throw new Error("targetIndex out of bounds");if(b+m>a.length)throw new Error("source indices to be copied are outside bounds");if(s+m>r.length)throw new Error("target array is too small to hold result");for(let v=0;v<m;v++)r[s+v]+=y*a[b+v]}static powx(r,a,s,b,m,y){if(b<0||b>=a.length)throw new Error("sourceIndex out of bounds");if(s<0||s>=r.length)throw new Error("targetIndex out of bounds");if(b+m>a.length)throw new Error("source indices to be copied are outside bounds");if(s+m>r.length)throw new Error("target array is too small to hold result");for(let v=0;v<m;v++)r[s+v]=Math.pow(a[b+v],y)}static mul(r,a,s,b,m){if(b<0||b>=a.length)throw new Error("sourceIndex out of bounds");if(s<0||s>=r.length)throw new Error("targetIndex out of bounds");if(b+m>a.length)throw new Error("source indices to be copied are outside bounds");if(s+m>r.length)throw new Error("target array is too small to hold result");for(let y=0;y<m;y++)r[s+y]=a[b+y]*r[s+y]}};class f{static splitShape(r,a,s,b){if(0===s.length){if(!b)throw new Error("need to know number of outputs when the 'split' attribute is not specified");f.determineSplit(r[a],b,s)}const m=[],y=[0];for(let v=0;v<s.length;++v){0!==v&&y.push(y[v-1]+s[v-1]);const b=r.slice();b[a]=s[v],m.push(b)}return[m,y]}static determineSplit(r,a,s){if(r%a!=0)throw new Error("cannot split tensor to equal sized parts");for(let b=0;b<a;++b)s.push(r/a)}}a.SplitUtil=f;class h{static calcReduce(r,a,s,b,m){const y=r.dims.slice(0);0===a.length&&y.forEach(((r,s)=>a.push(s)));const v=h.calcReduceShape(y,a,!0),_=d.size(v),T=new w.Tensor(v,r.type),x=d.computeStrides(v),O=d.computeStrides(y),S=new Array(y.length);for(let w=0;w<_;w++){const s=d.offsetToIndices(w,x);l.fillIndex(s,y,S),T.set(s,h.calcReduceByAxis(r.numberData,a,y,0,d.indicesToOffset(S,O),b,m))}return s?T:new w.Tensor(h.calcReduceShape(y,a,s),T.type,void 0,void 0,T.data,T.dataId)}static calcReduceByAxis(r,a,s,b,m,y,v){let w=0;if(b>=a.length)return y(r[m]);const _=a[b],T=_>=s.length?1:d.size(s.slice(_+1));for(let x=0;x<s[_];x++)w=0===x?h.calcReduceByAxis(r,a,s,b+1,m,y,v):v(w,h.calcReduceByAxis(r,a,s,b+1,m,y,v)),m+=T;return w}static calcReduceShape(r,a,s){const b=r.slice();for(let m=0;m<a.length;m++)b[a[m]]=s?1:0;return b.filter((r=>0!==r))}}a.ReduceUtil=h;class g{static adjustPoolAttributes(r,a,s,b,m,y){if(!r&&s.length!==a.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(r)for(let v=0;v<a.length-2;v++)v>=s.length?s.push(a[v+2]):s[v]=a[v+2];for(let v=0;v<s.length;v++)if(v<b.length){if(b[v]<0)throw new Error("strides should be greater than or equal to 1")}else b.push(1);for(let v=0;v<s.length;v++)if(v<m.length){if(m[v]<0)throw new Error("dilations should be greater than or equal to 1")}else m.push(1);for(let v=0;v<2*s.length;v++)if(v<y.length){if(y[v]<0)throw new Error("pad should be greater than or equal to 1")}else y.push(0);for(let v=0;v<s.length;v++){if(s[v]<=0)throw new Error("kernel shapes need to be greater than 0");if(y[v]>=s[v]||y[v+s.length]>=s[v])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(r,a,s,b,m,y){if(y){if(m.length!==2*(r.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(a.length!==r.length-2)throw new Error("length of strides should be the length of data dimensions");if(b.length!==r.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let v=0;v<r.length-2;v++)g.adjustPadAndReturnShape(r[v+2],a[v],s[v],b[v],m,v,v+r.length-2,y)}}static computePoolOutputShape(r,a,s,b,m,y,v){if(a.length<=0)throw new Error("input shape must be of size greater than 0");const w=[a[0],a[1]];return g.computeShapeHelper(r,a,w,s,b,m,y,v),w}static computeConvOutputShape(r,a,s,b,m,y,v){if(r.length<=0||a.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const w=[r[0],a[0]];return g.computeShapeHelper(!1,r,w,s,b,m,y,v),w}static computeShapeHelper(r,a,s,b,m,y,v,w){if(r)for(let _=0;_<a.length-2;_++)s.push(1);else for(let _=0;_<a.length-2;_++)s.push(g.adjustPadAndReturnShape(a[_+2],b[_],m[_],y[_],v,_,_+a.length-2,w))}static adjustPadAndReturnShape(r,a,s,b,m,y,v,w){const _=s*(b-1)+1;if(!w||"NOTSET"===w)return Math.floor((r+m[y]+m[v]-_)/a+1);switch(w){case"VALID":return m[y]=0,m[v]=0,Math.floor((r-_)/a+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==s)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const s=((r+a-1)/a-1)*a+b-r;return m[y]="SAME_LOWER"===w?Math.floor((s+1)/2):Math.floor(s/2),m[v]=s-m[y],Math.floor((r+s-b)/a+1)}default:throw new Error("Unsupported AutoPad type")}}}a.PoolConvUtil=g,a.MIN_CLIP=-34028234663852886e22,a.MAX_CLIP=34028234663852886e22,a.decodeUtf8String=function(r){return(new TextDecoder).decode(r)}},8408:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.version=void 0,a.version="1.16.3"},9544:function(r,a,s){"use strict";var b,m=this&&this.__createBinding||(Object.create?function(r,a,s,b){void 0===b&&(b=s);var m=Object.getOwnPropertyDescriptor(a,s);m&&!("get"in m?!a.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,b,m)}:function(r,a,s,b){void 0===b&&(b=s),r[b]=a[s]}),y=this&&this.__setModuleDefault||(Object.create?function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}:function(r,a){r.default=a}),v=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var a={};if(null!=r)for(var s in r)"default"!==s&&Object.prototype.hasOwnProperty.call(r,s)&&m(a,r,s);return y(a,r),a};Object.defineProperty(a,"__esModule",{value:!0}),a.endProfiling=a.run=a.releaseSession=a.createSession=a.createSessionFinalize=a.createSessionAllocate=a.initializeRuntime=a.initializeWebAssemblyInstance=void 0;const w=s(2235),_=v(s(1259)),T=s(263),x=()=>!!w.env.wasm.proxy&&"undefined"!=typeof document;let O,S,A,P=!1,E=!1,I=!1;const D=[],k=[],$=[],L=[],F=[],N=[],R=()=>{if(P||!E||I||!O)throw new Error("worker not ready")},j=r=>{switch(r.data.type){case"init-wasm":P=!1,r.data.err?(I=!0,S[1](r.data.err)):(E=!0,S[0]());break;case"init-ort":r.data.err?A[1](r.data.err):A[0]();break;case"create_allocate":r.data.err?D.shift()[1](r.data.err):D.shift()[0](r.data.out);break;case"create_finalize":r.data.err?k.shift()[1](r.data.err):k.shift()[0](r.data.out);break;case"create":r.data.err?$.shift()[1](r.data.err):$.shift()[0](r.data.out);break;case"release":r.data.err?L.shift()[1](r.data.err):L.shift()[0]();break;case"run":r.data.err?F.shift()[1](r.data.err):F.shift()[0](r.data.out);break;case"end-profiling":r.data.err?N.shift()[1](r.data.err):N.shift()[0]()}},C="undefined"!=typeof document?null===(b=null===document||void 0===document?void 0:document.currentScript)||void 0===b?void 0:b.src:void 0;a.initializeWebAssemblyInstance=async()=>{if(x()){if(E)return;if(P)throw new Error("multiple calls to 'initWasm()' detected.");if(I)throw new Error("previous call to 'initWasm()' failed.");return P=!0,void 0===w.env.wasm.wasmPaths&&C&&0!==C.indexOf("blob:")&&(w.env.wasm.wasmPaths=C.substr(0,+C.lastIndexOf("/")+1)),new Promise(((r,a)=>{null==O||O.terminate(),O=s(8050).Z(),O.onmessage=j,S=[r,a];const b={type:"init-wasm",in:w.env.wasm};O.postMessage(b)}))}return(0,T.initializeWebAssembly)(w.env.wasm)},a.initializeRuntime=async r=>{if(x())return R(),new Promise(((a,s)=>{A=[a,s];const b={type:"init-ort",in:r};O.postMessage(b)}));await _.initRuntime(r)},a.createSessionAllocate=async r=>x()?(R(),new Promise(((a,s)=>{D.push([a,s]);const b={type:"create_allocate",in:{model:r}};O.postMessage(b,[r.buffer])}))):_.createSessionAllocate(r),a.createSessionFinalize=async(r,a)=>x()?(R(),new Promise(((s,b)=>{k.push([s,b]);const m={type:"create_finalize",in:{modeldata:r,options:a}};O.postMessage(m)}))):_.createSessionFinalize(r,a),a.createSession=async(r,a)=>x()?(R(),new Promise(((s,b)=>{$.push([s,b]);const m={type:"create",in:{model:r,options:a}};O.postMessage(m,[r.buffer])}))):_.createSession(r,a),a.releaseSession=async r=>{if(x())return R(),new Promise(((a,s)=>{L.push([a,s]);const b={type:"release",in:r};O.postMessage(b)}));_.releaseSession(r)},a.run=async(r,a,s,b,m)=>x()?(R(),new Promise(((y,v)=>{F.push([y,v]);const w={type:"run",in:{sessionId:r,inputIndices:a,inputs:s,outputIndices:b,options:m}};O.postMessage(w,_.extractTransferableBuffers(s))}))):_.run(r,a,s,b,m),a.endProfiling=async r=>{if(x())return R(),new Promise(((a,s)=>{N.push([a,s]);const b={type:"end-profiling",in:r};O.postMessage(b)}));_.endProfiling(r)}},7918:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.setRunOptions=void 0;const b=s(263),m=s(1497);a.setRunOptions=r=>{const a=(0,b.getInstance)();let s=0;const y=[],v=r||{};try{if(void 0===(null==r?void 0:r.logSeverityLevel))v.logSeverityLevel=2;else if("number"!=typeof r.logSeverityLevel||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(void 0===(null==r?void 0:r.logVerbosityLevel))v.logVerbosityLevel=0;else if("number"!=typeof r.logVerbosityLevel||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);void 0===(null==r?void 0:r.terminate)&&(v.terminate=!1);let b=0;return void 0!==(null==r?void 0:r.tag)&&(b=(0,m.allocWasmString)(r.tag,y)),s=a._OrtCreateRunOptions(v.logSeverityLevel,v.logVerbosityLevel,!!v.terminate,b),0===s&&(0,m.checkLastError)("Can't create run options."),void 0!==(null==r?void 0:r.extra)&&(0,m.iterateExtraOptions)(r.extra,"",new WeakSet,((r,b)=>{const v=(0,m.allocWasmString)(r,y),w=(0,m.allocWasmString)(b,y);0!==a._OrtAddRunConfigEntry(s,v,w)&&(0,m.checkLastError)(`Can't set a run config entry: ${r} - ${b}.`)})),[s,y]}catch(r){throw 0!==s&&a._OrtReleaseRunOptions(s),y.forEach((r=>a._free(r))),r}}},6640:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.OnnxruntimeWebAssemblySessionHandler=void 0;const b=s(2806),m=s(2235),y=s(2850),v=s(9544);let w;a.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(r){const a=await fetch(r);if(200!==a.status)throw new Error(`failed to load model: ${r}`);const s=await a.arrayBuffer();return(0,v.createSessionAllocate)(new Uint8Array(s))}async loadModel(r,a){if(w||(await(0,v.initializeRuntime)(m.env),w=!0),"string"==typeof r)if("undefined"!=typeof process&&process.versions&&process.versions.node){const s=await(0,y.promisify)(b.readFile)(r);[this.sessionId,this.inputNames,this.outputNames]=await(0,v.createSession)(s,a)}else{const s=await this.createSessionAllocate(r);[this.sessionId,this.inputNames,this.outputNames]=await(0,v.createSessionFinalize)(s,a)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,v.createSession)(r,a)}async dispose(){return(0,v.releaseSession)(this.sessionId)}async run(r,a,s){const b=[],y=[];Object.entries(r).forEach((r=>{const a=r[0],s=r[1],m=this.inputNames.indexOf(a);if(-1===m)throw new Error(`invalid input '${a}'`);b.push(s),y.push(m)}));const w=[];Object.entries(a).forEach((r=>{const a=r[0],s=this.outputNames.indexOf(a);if(-1===s)throw new Error(`invalid output '${a}'`);w.push(s)}));const _=await(0,v.run)(this.sessionId,y,b.map((r=>[r.type,r.dims,r.data])),w,s),T={};for(let v=0;v<_.length;v++)T[this.outputNames[w[v]]]=new m.Tensor(_[v][0],_[v][2],_[v][1]);return T}startProfiling(){}endProfiling(){(0,v.endProfiling)(this.sessionId)}}},7622:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.setSessionOptions=void 0;const b=s(263),m=s(1497);a.setSessionOptions=r=>{var a,s,y,v;const w=(0,b.getInstance)();let _=0;const T=[],x=r||{};(r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});const a=r.extra.session;a.use_ort_model_bytes_directly||(a.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some((r=>"webgpu"===("string"==typeof r?r:r.name)))&&(r.enableMemPattern=!1)})(x);try{const r=(r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}})(null!==(a=x.graphOptimizationLevel)&&void 0!==a?a:"all"),O=(r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}})(null!==(s=x.executionMode)&&void 0!==s?s:"sequential"),S="string"==typeof x.logId?(0,m.allocWasmString)(x.logId,T):0,A=null!==(y=x.logSeverityLevel)&&void 0!==y?y:2;if(!Number.isInteger(A)||A<0||A>4)throw new Error(`log serverity level is not valid: ${A}`);const P=null!==(v=x.logVerbosityLevel)&&void 0!==v?v:0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);const E="string"==typeof x.optimizedModelFilePath?(0,m.allocWasmString)(x.optimizedModelFilePath,T):0;return _=w._OrtCreateSessionOptions(r,!!x.enableCpuMemArena,!!x.enableMemPattern,O,!!x.enableProfiling,0,S,A,P,E),0===_&&(0,m.checkLastError)("Can't create session options."),x.executionProviders&&((r,a,s)=>{for(const y of a){let a="string"==typeof y?y:y.name;switch(a){case"xnnpack":a="XNNPACK";break;case"webnn":if(a="WEBNN","string"!=typeof y){const a=y;if(null==a?void 0:a.deviceType){const y=(0,m.allocWasmString)("deviceType",s),v=(0,m.allocWasmString)(a.deviceType,s);0!==(0,b.getInstance)()._OrtAddSessionConfigEntry(r,y,v)&&(0,m.checkLastError)(`Can't set a session config entry: 'deviceType' - ${a.deviceType}.`)}if(null==a?void 0:a.powerPreference){const y=(0,m.allocWasmString)("powerPreference",s),v=(0,m.allocWasmString)(a.powerPreference,s);0!==(0,b.getInstance)()._OrtAddSessionConfigEntry(r,y,v)&&(0,m.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${a.powerPreference}.`)}}break;case"webgpu":a="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${a}`)}const v=(0,m.allocWasmString)(a,s);0!==(0,b.getInstance)()._OrtAppendExecutionProvider(r,v)&&(0,m.checkLastError)(`Can't append execution provider: ${a}.`)}})(_,x.executionProviders,T),void 0!==x.extra&&(0,m.iterateExtraOptions)(x.extra,"",new WeakSet,((r,a)=>{const s=(0,m.allocWasmString)(r,T),b=(0,m.allocWasmString)(a,T);0!==w._OrtAddSessionConfigEntry(_,s,b)&&(0,m.checkLastError)(`Can't set a session config entry: ${r} - ${a}.`)})),[_,T]}catch(r){throw 0!==_&&w._OrtReleaseSessionOptions(_),T.forEach((r=>w._free(r))),r}}},7917:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.logLevelStringToEnum=a.tensorTypeToTypedArrayConstructor=a.getTensorElementSize=a.tensorDataTypeEnumToString=a.tensorDataTypeStringToEnum=void 0,a.tensorDataTypeStringToEnum=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},a.tensorDataTypeEnumToString=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},a.getTensorElementSize=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],a.tensorTypeToTypedArrayConstructor=r=>{switch(r){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},a.logLevelStringToEnum=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}}},1259:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.extractTransferableBuffers=a.endProfiling=a.run=a.releaseSession=a.createSession=a.createSessionFinalize=a.createSessionAllocate=a.initRuntime=void 0;const b=s(7918),m=s(7622),y=s(7917),v=s(263),w=s(1497);a.initRuntime=async r=>{var a,s;a=r.wasm.numThreads,s=(0,y.logLevelStringToEnum)(r.logLevel),0!==(0,v.getInstance)()._OrtInit(a,s)&&(0,w.checkLastError)("Can't initialize onnxruntime.")};const _=new Map;a.createSessionAllocate=r=>{const a=(0,v.getInstance)(),s=a._malloc(r.byteLength);if(0===s)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return a.HEAPU8.set(r,s),[s,r.byteLength]},a.createSessionFinalize=(r,a)=>{const s=(0,v.getInstance)();let b=0,y=0,T=[];const x=[],O=[];try{[y,T]=(0,m.setSessionOptions)(a),b=s._OrtCreateSession(r[0],r[1],y),0===b&&(0,w.checkLastError)("Can't create a session.");const[S,A]=(r=>{const a=(0,v.getInstance)(),s=a.stackSave();try{const s=a.stackAlloc(8);return 0!==a._OrtGetInputOutputCount(r,s,s+4)&&(0,w.checkLastError)("Can't get session input/output count."),[a.HEAP32[s/4],a.HEAP32[s/4+1]]}finally{a.stackRestore(s)}})(b),P=[],E=[];for(let r=0;r<S;r++){const a=s._OrtGetInputName(b,r);0===a&&(0,w.checkLastError)("Can't get an input name."),x.push(a),P.push(s.UTF8ToString(a))}for(let r=0;r<A;r++){const a=s._OrtGetOutputName(b,r);0===a&&(0,w.checkLastError)("Can't get an output name."),O.push(a),E.push(s.UTF8ToString(a))}return _.set(b,[b,x,O]),[b,P,E]}catch(r){throw x.forEach((r=>s._OrtFree(r))),O.forEach((r=>s._OrtFree(r))),0!==b&&s._OrtReleaseSession(b),r}finally{s._free(r[0]),0!==y&&s._OrtReleaseSessionOptions(y),T.forEach((r=>s._free(r)))}},a.createSession=(r,s)=>{const b=(0,a.createSessionAllocate)(r);return(0,a.createSessionFinalize)(b,s)},a.releaseSession=r=>{const a=(0,v.getInstance)(),s=_.get(r);if(!s)throw new Error(`cannot release session. invalid session id: ${r}`);const[b,m,y]=s;m.forEach((r=>a._OrtFree(r))),y.forEach((r=>a._OrtFree(r))),a._OrtReleaseSession(b),_.delete(r)},a.run=async(r,a,s,m,T)=>{const x=(0,v.getInstance)(),O=_.get(r);if(!O)throw new Error(`cannot run inference. invalid session id: ${r}`);const[S,A,P]=O,E=a.length,I=m.length;let D=0,k=[];const $=[],L=[];try{[D,k]=(0,b.setRunOptions)(T);for(let a=0;a<E;a++){const r=s[a][0],b=s[a][1],m=s[a][2];let v,_;if(Array.isArray(m)){_=4*m.length,v=x._malloc(_),L.push(v);let r=v/4;for(let a=0;a<m.length;a++){if("string"!=typeof m[a])throw new TypeError(`tensor data at index ${a} is not a string`);x.HEAPU32[r++]=(0,w.allocWasmString)(m[a],L)}}else _=m.byteLength,v=x._malloc(_),L.push(v),x.HEAPU8.set(new Uint8Array(m.buffer,m.byteOffset,_),v);const T=x.stackSave(),O=x.stackAlloc(4*b.length);try{let s=O/4;b.forEach((r=>x.HEAP32[s++]=r));const m=x._OrtCreateTensor((0,y.tensorDataTypeStringToEnum)(r),v,_,O,b.length);0===m&&(0,w.checkLastError)(`Can't create tensor for input[${a}].`),$.push(m)}finally{x.stackRestore(T)}}const r=x.stackSave(),v=x.stackAlloc(4*E),_=x.stackAlloc(4*E),O=x.stackAlloc(4*I),F=x.stackAlloc(4*I);try{let r=v/4,s=_/4,b=O/4,T=F/4;for(let m=0;m<E;m++)x.HEAPU32[r++]=$[m],x.HEAPU32[s++]=A[a[m]];for(let a=0;a<I;a++)x.HEAPU32[b++]=0,x.HEAPU32[T++]=P[m[a]];let k=x._OrtRun(S,_,v,E,F,I,O,D);const L=x.jsepRunPromise;L&&void 0!==L.then&&(k=await L);const N=[];0!==k&&(0,w.checkLastError)("failed to call OrtRun().");for(let a=0;a<I;a++){const r=x.HEAPU32[O/4+a],s=x.stackSave(),b=x.stackAlloc(16);let m,v=0;try{k=x._OrtGetTensorData(r,b,b+4,b+8,b+12),0!==k&&(0,w.checkLastError)(`Can't access output tensor data on index ${a}.`);let s=b/4;const _=x.HEAPU32[s++];v=x.HEAPU32[s++];const T=x.HEAPU32[s++],O=x.HEAPU32[s++],S=[];for(let r=0;r<O;r++)S.push(x.HEAPU32[T/4+r]);x._OrtFree(T);const A=0===S.length?1:S.reduce(((r,a)=>r*a));if(m=(0,y.tensorDataTypeEnumToString)(_),"string"===m){const r=[];let a=v/4;for(let s=0;s<A;s++){const b=x.HEAPU32[a++],m=s===A-1?void 0:x.HEAPU32[a]-b;r.push(x.UTF8ToString(b,m))}N.push([m,S,r])}else{const r=new((0,y.tensorTypeToTypedArrayConstructor)(m))(A);new Uint8Array(r.buffer,r.byteOffset,r.byteLength).set(x.HEAPU8.subarray(v,v+r.byteLength)),N.push([m,S,r])}}finally{x.stackRestore(s),"string"===m&&v&&x._free(v),x._OrtReleaseTensor(r)}}return N}finally{x.stackRestore(r)}}finally{$.forEach((r=>x._OrtReleaseTensor(r))),L.forEach((r=>x._free(r))),0!==D&&x._OrtReleaseRunOptions(D),k.forEach((r=>x._free(r)))}},a.endProfiling=r=>{const a=(0,v.getInstance)(),s=_.get(r);if(!s)throw new Error("invalid session id");const b=s[0],m=a._OrtEndProfiling(b);0===m&&(0,w.checkLastError)("Can't get an profile file name."),a._OrtFree(m)},a.extractTransferableBuffers=r=>{const a=[];for(const s of r){const r=s[2];!Array.isArray(r)&&r.buffer&&a.push(r.buffer)}return a}},263:function(r,a,s){"use strict";var b=this&&this.__createBinding||(Object.create?function(r,a,s,b){void 0===b&&(b=s);var m=Object.getOwnPropertyDescriptor(a,s);m&&!("get"in m?!a.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,b,m)}:function(r,a,s,b){void 0===b&&(b=s),r[b]=a[s]}),m=this&&this.__setModuleDefault||(Object.create?function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}:function(r,a){r.default=a}),y=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var a={};if(null!=r)for(var s in r)"default"!==s&&Object.prototype.hasOwnProperty.call(r,s)&&b(a,r,s);return m(a,r),a};Object.defineProperty(a,"__esModule",{value:!0}),a.dispose=a.getInstance=a.initializeWebAssembly=void 0;const v=y(s(6449)),w=s(932),_=s(3474);let T,x=!1,O=!1,S=!1;a.initializeWebAssembly=async r=>{if(x)return Promise.resolve();if(O)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(S)throw new Error("previous call to 'initializeWebAssembly()' failed.");O=!0;const a=r.initTimeout,b=r.numThreads,m=r.simd,y=b>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(r){return!1}})(),A=m&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(r){return!1}})(),P=r.wasmPaths,E="string"==typeof P?P:void 0,I=((r,a)=>a?r?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":r?"ort-wasm-simd.wasm":"ort-wasm.wasm")(A,y),D="object"==typeof P?P[I]:void 0;let k=!1;const $=[];if(a>0&&$.push(new Promise((r=>{setTimeout((()=>{k=!0,r()}),a)}))),$.push(new Promise(((r,a)=>{const b=y?_:w,m={locateFile:(r,a)=>y&&r.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):r.endsWith(".wasm")?D||(null!=E?E:a)+I:a+r};if(y)if("undefined"==typeof Blob)m.mainScriptUrlOrBlob=v.join(__dirname,"ort-wasm-threaded.js");else{const r=`var ortWasmThreaded=(function(){var _scriptDir;return ${b.toString()}})();`;m.mainScriptUrlOrBlob=new Blob([r],{type:"text/javascript"})}b(m).then((a=>{O=!1,x=!0,T=a,r()}),(r=>{O=!1,S=!0,a(r)}))}))),await Promise.race($),k)throw new Error(`WebAssembly backend initializing failed due to timeout: ${a}ms`)},a.getInstance=()=>{if(x&&T)return T;throw new Error("WebAssembly is not initialized yet.")},a.dispose=()=>{var r;!x||O||S||(O=!0,null===(r=T.PThread)||void 0===r||r.terminateAllThreads(),T=void 0,O=!1,x=!1,S=!0)}},1497:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.checkLastError=a.iterateExtraOptions=a.allocWasmString=void 0;const b=s(263);a.allocWasmString=(r,a)=>{const s=(0,b.getInstance)(),m=s.lengthBytesUTF8(r)+1,y=s._malloc(m);return s.stringToUTF8(r,y,m),a.push(y),y},a.iterateExtraOptions=(r,s,b,m)=>{if("object"==typeof r&&null!==r){if(b.has(r))throw new Error("Circular reference in options");b.add(r)}Object.entries(r).forEach((([r,y])=>{const v=s?s+r:r;if("object"==typeof y)(0,a.iterateExtraOptions)(y,v+".",b,m);else if("string"==typeof y||"number"==typeof y)m(v,y.toString());else{if("boolean"!=typeof y)throw new Error("Can't handle extra config type: "+typeof y);m(v,y?"1":"0")}}))},a.checkLastError=r=>{const a=(0,b.getInstance)(),s=a.stackSave();try{const s=a.stackAlloc(8);a._OrtGetLastError(s,s+4);const b=a.HEAP32[s/4],m=a.HEAPU32[s/4+1],y=m?a.UTF8ToString(m):"";throw new Error(`${r} ERROR_CODE: ${b}, ERROR_MESSAGE: ${y}`)}finally{a.stackRestore(s)}}},8050:(r,a,s)=>{"use strict";s.d(a,{Z:()=>y});var b=s(6614),m=s.n(b);function y(){return m()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:r=>{"use strict";r.exports=function(r,a,s,b){var m=self||window;try{try{var y;try{y=new m.Blob([r])}catch(a){(y=new(m.BlobBuilder||m.WebKitBlobBuilder||m.MozBlobBuilder||m.MSBlobBuilder)).append(r),y=y.getBlob()}var v=m.URL||m.webkitURL,w=v.createObjectURL(y),_=new m[a](w,s);return v.revokeObjectURL(w),_}catch(b){return new m[a]("data:application/javascript,".concat(encodeURIComponent(r)),s)}}catch(r){if(!b)throw Error("Inline worker is not supported");return new m[a](b,s)}}},2446:(r,a,s)=>{"use strict";var b,m,y,v=s(2100),w=v.Reader,_=v.Writer,T=v.util,x=v.roots.default||(v.roots.default={});x.onnx=((y={}).Version=(b={},(m=Object.create(b))[b[0]="_START_VERSION"]=0,m[b[1]="IR_VERSION_2017_10_10"]=1,m[b[2]="IR_VERSION_2017_10_30"]=2,m[b[3]="IR_VERSION_2017_11_3"]=3,m[b[4]="IR_VERSION_2019_1_22"]=4,m[b[5]="IR_VERSION_2019_3_18"]=5,m[b[6]="IR_VERSION_2019_9_19"]=6,m[b[7]="IR_VERSION_2020_5_8"]=7,m[b[8]="IR_VERSION_2021_7_30"]=8,m[b[9]="IR_VERSION"]=9,m),y.AttributeProto=function(){function r(r){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.name="",r.prototype.refAttrName="",r.prototype.docString="",r.prototype.type=0,r.prototype.f=0,r.prototype.i=T.Long?T.Long.fromBits(0,0,!1):0,r.prototype.s=T.newBuffer([]),r.prototype.t=null,r.prototype.g=null,r.prototype.sparseTensor=null,r.prototype.tp=null,r.prototype.floats=T.emptyArray,r.prototype.ints=T.emptyArray,r.prototype.strings=T.emptyArray,r.prototype.tensors=T.emptyArray,r.prototype.graphs=T.emptyArray,r.prototype.sparseTensors=T.emptyArray,r.prototype.typeProtos=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.name&&Object.hasOwnProperty.call(r,"name")&&a.uint32(10).string(r.name),null!=r.f&&Object.hasOwnProperty.call(r,"f")&&a.uint32(21).float(r.f),null!=r.i&&Object.hasOwnProperty.call(r,"i")&&a.uint32(24).int64(r.i),null!=r.s&&Object.hasOwnProperty.call(r,"s")&&a.uint32(34).bytes(r.s),null!=r.t&&Object.hasOwnProperty.call(r,"t")&&x.onnx.TensorProto.encode(r.t,a.uint32(42).fork()).ldelim(),null!=r.g&&Object.hasOwnProperty.call(r,"g")&&x.onnx.GraphProto.encode(r.g,a.uint32(50).fork()).ldelim(),null!=r.floats&&r.floats.length){a.uint32(58).fork();for(var s=0;s<r.floats.length;++s)a.float(r.floats[s]);a.ldelim()}if(null!=r.ints&&r.ints.length){for(a.uint32(66).fork(),s=0;s<r.ints.length;++s)a.int64(r.ints[s]);a.ldelim()}if(null!=r.strings&&r.strings.length)for(s=0;s<r.strings.length;++s)a.uint32(74).bytes(r.strings[s]);if(null!=r.tensors&&r.tensors.length)for(s=0;s<r.tensors.length;++s)x.onnx.TensorProto.encode(r.tensors[s],a.uint32(82).fork()).ldelim();if(null!=r.graphs&&r.graphs.length)for(s=0;s<r.graphs.length;++s)x.onnx.GraphProto.encode(r.graphs[s],a.uint32(90).fork()).ldelim();if(null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(106).string(r.docString),null!=r.tp&&Object.hasOwnProperty.call(r,"tp")&&x.onnx.TypeProto.encode(r.tp,a.uint32(114).fork()).ldelim(),null!=r.typeProtos&&r.typeProtos.length)for(s=0;s<r.typeProtos.length;++s)x.onnx.TypeProto.encode(r.typeProtos[s],a.uint32(122).fork()).ldelim();if(null!=r.type&&Object.hasOwnProperty.call(r,"type")&&a.uint32(160).int32(r.type),null!=r.refAttrName&&Object.hasOwnProperty.call(r,"refAttrName")&&a.uint32(170).string(r.refAttrName),null!=r.sparseTensor&&Object.hasOwnProperty.call(r,"sparseTensor")&&x.onnx.SparseTensorProto.encode(r.sparseTensor,a.uint32(178).fork()).ldelim(),null!=r.sparseTensors&&r.sparseTensors.length)for(s=0;s<r.sparseTensors.length;++s)x.onnx.SparseTensorProto.encode(r.sparseTensors[s],a.uint32(186).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.AttributeProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.name=r.string();break;case 21:b.refAttrName=r.string();break;case 13:b.docString=r.string();break;case 20:b.type=r.int32();break;case 2:b.f=r.float();break;case 3:b.i=r.int64();break;case 4:b.s=r.bytes();break;case 5:b.t=x.onnx.TensorProto.decode(r,r.uint32());break;case 6:b.g=x.onnx.GraphProto.decode(r,r.uint32());break;case 22:b.sparseTensor=x.onnx.SparseTensorProto.decode(r,r.uint32());break;case 14:b.tp=x.onnx.TypeProto.decode(r,r.uint32());break;case 7:if(b.floats&&b.floats.length||(b.floats=[]),2==(7&m))for(var y=r.uint32()+r.pos;r.pos<y;)b.floats.push(r.float());else b.floats.push(r.float());break;case 8:if(b.ints&&b.ints.length||(b.ints=[]),2==(7&m))for(y=r.uint32()+r.pos;r.pos<y;)b.ints.push(r.int64());else b.ints.push(r.int64());break;case 9:b.strings&&b.strings.length||(b.strings=[]),b.strings.push(r.bytes());break;case 10:b.tensors&&b.tensors.length||(b.tensors=[]),b.tensors.push(x.onnx.TensorProto.decode(r,r.uint32()));break;case 11:b.graphs&&b.graphs.length||(b.graphs=[]),b.graphs.push(x.onnx.GraphProto.decode(r,r.uint32()));break;case 23:b.sparseTensors&&b.sparseTensors.length||(b.sparseTensors=[]),b.sparseTensors.push(x.onnx.SparseTensorProto.decode(r,r.uint32()));break;case 15:b.typeProtos&&b.typeProtos.length||(b.typeProtos=[]),b.typeProtos.push(x.onnx.TypeProto.decode(r,r.uint32()));break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.name&&r.hasOwnProperty("name")&&!T.isString(r.name))return"name: string expected";if(null!=r.refAttrName&&r.hasOwnProperty("refAttrName")&&!T.isString(r.refAttrName))return"refAttrName: string expected";if(null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString))return"docString: string expected";if(null!=r.type&&r.hasOwnProperty("type"))switch(r.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(null!=r.f&&r.hasOwnProperty("f")&&"number"!=typeof r.f)return"f: number expected";if(null!=r.i&&r.hasOwnProperty("i")&&!(T.isInteger(r.i)||r.i&&T.isInteger(r.i.low)&&T.isInteger(r.i.high)))return"i: integer|Long expected";if(null!=r.s&&r.hasOwnProperty("s")&&!(r.s&&"number"==typeof r.s.length||T.isString(r.s)))return"s: buffer expected";if(null!=r.t&&r.hasOwnProperty("t")&&(s=x.onnx.TensorProto.verify(r.t)))return"t."+s;if(null!=r.g&&r.hasOwnProperty("g")&&(s=x.onnx.GraphProto.verify(r.g)))return"g."+s;if(null!=r.sparseTensor&&r.hasOwnProperty("sparseTensor")&&(s=x.onnx.SparseTensorProto.verify(r.sparseTensor)))return"sparseTensor."+s;if(null!=r.tp&&r.hasOwnProperty("tp")&&(s=x.onnx.TypeProto.verify(r.tp)))return"tp."+s;if(null!=r.floats&&r.hasOwnProperty("floats")){if(!Array.isArray(r.floats))return"floats: array expected";for(var a=0;a<r.floats.length;++a)if("number"!=typeof r.floats[a])return"floats: number[] expected"}if(null!=r.ints&&r.hasOwnProperty("ints")){if(!Array.isArray(r.ints))return"ints: array expected";for(a=0;a<r.ints.length;++a)if(!(T.isInteger(r.ints[a])||r.ints[a]&&T.isInteger(r.ints[a].low)&&T.isInteger(r.ints[a].high)))return"ints: integer|Long[] expected"}if(null!=r.strings&&r.hasOwnProperty("strings")){if(!Array.isArray(r.strings))return"strings: array expected";for(a=0;a<r.strings.length;++a)if(!(r.strings[a]&&"number"==typeof r.strings[a].length||T.isString(r.strings[a])))return"strings: buffer[] expected"}if(null!=r.tensors&&r.hasOwnProperty("tensors")){if(!Array.isArray(r.tensors))return"tensors: array expected";for(a=0;a<r.tensors.length;++a)if(s=x.onnx.TensorProto.verify(r.tensors[a]))return"tensors."+s}if(null!=r.graphs&&r.hasOwnProperty("graphs")){if(!Array.isArray(r.graphs))return"graphs: array expected";for(a=0;a<r.graphs.length;++a)if(s=x.onnx.GraphProto.verify(r.graphs[a]))return"graphs."+s}if(null!=r.sparseTensors&&r.hasOwnProperty("sparseTensors")){if(!Array.isArray(r.sparseTensors))return"sparseTensors: array expected";for(a=0;a<r.sparseTensors.length;++a)if(s=x.onnx.SparseTensorProto.verify(r.sparseTensors[a]))return"sparseTensors."+s}if(null!=r.typeProtos&&r.hasOwnProperty("typeProtos")){if(!Array.isArray(r.typeProtos))return"typeProtos: array expected";for(a=0;a<r.typeProtos.length;++a){var s;if(s=x.onnx.TypeProto.verify(r.typeProtos[a]))return"typeProtos."+s}}return null},r.fromObject=function(r){if(r instanceof x.onnx.AttributeProto)return r;var a=new x.onnx.AttributeProto;switch(null!=r.name&&(a.name=String(r.name)),null!=r.refAttrName&&(a.refAttrName=String(r.refAttrName)),null!=r.docString&&(a.docString=String(r.docString)),r.type){default:if("number"==typeof r.type){a.type=r.type;break}break;case"UNDEFINED":case 0:a.type=0;break;case"FLOAT":case 1:a.type=1;break;case"INT":case 2:a.type=2;break;case"STRING":case 3:a.type=3;break;case"TENSOR":case 4:a.type=4;break;case"GRAPH":case 5:a.type=5;break;case"SPARSE_TENSOR":case 11:a.type=11;break;case"TYPE_PROTO":case 13:a.type=13;break;case"FLOATS":case 6:a.type=6;break;case"INTS":case 7:a.type=7;break;case"STRINGS":case 8:a.type=8;break;case"TENSORS":case 9:a.type=9;break;case"GRAPHS":case 10:a.type=10;break;case"SPARSE_TENSORS":case 12:a.type=12;break;case"TYPE_PROTOS":case 14:a.type=14}if(null!=r.f&&(a.f=Number(r.f)),null!=r.i&&(T.Long?(a.i=T.Long.fromValue(r.i)).unsigned=!1:"string"==typeof r.i?a.i=parseInt(r.i,10):"number"==typeof r.i?a.i=r.i:"object"==typeof r.i&&(a.i=new T.LongBits(r.i.low>>>0,r.i.high>>>0).toNumber())),null!=r.s&&("string"==typeof r.s?T.base64.decode(r.s,a.s=T.newBuffer(T.base64.length(r.s)),0):r.s.length>=0&&(a.s=r.s)),null!=r.t){if("object"!=typeof r.t)throw TypeError(".onnx.AttributeProto.t: object expected");a.t=x.onnx.TensorProto.fromObject(r.t)}if(null!=r.g){if("object"!=typeof r.g)throw TypeError(".onnx.AttributeProto.g: object expected");a.g=x.onnx.GraphProto.fromObject(r.g)}if(null!=r.sparseTensor){if("object"!=typeof r.sparseTensor)throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");a.sparseTensor=x.onnx.SparseTensorProto.fromObject(r.sparseTensor)}if(null!=r.tp){if("object"!=typeof r.tp)throw TypeError(".onnx.AttributeProto.tp: object expected");a.tp=x.onnx.TypeProto.fromObject(r.tp)}if(r.floats){if(!Array.isArray(r.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");a.floats=[];for(var s=0;s<r.floats.length;++s)a.floats[s]=Number(r.floats[s])}if(r.ints){if(!Array.isArray(r.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(a.ints=[],s=0;s<r.ints.length;++s)T.Long?(a.ints[s]=T.Long.fromValue(r.ints[s])).unsigned=!1:"string"==typeof r.ints[s]?a.ints[s]=parseInt(r.ints[s],10):"number"==typeof r.ints[s]?a.ints[s]=r.ints[s]:"object"==typeof r.ints[s]&&(a.ints[s]=new T.LongBits(r.ints[s].low>>>0,r.ints[s].high>>>0).toNumber())}if(r.strings){if(!Array.isArray(r.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(a.strings=[],s=0;s<r.strings.length;++s)"string"==typeof r.strings[s]?T.base64.decode(r.strings[s],a.strings[s]=T.newBuffer(T.base64.length(r.strings[s])),0):r.strings[s].length>=0&&(a.strings[s]=r.strings[s])}if(r.tensors){if(!Array.isArray(r.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(a.tensors=[],s=0;s<r.tensors.length;++s){if("object"!=typeof r.tensors[s])throw TypeError(".onnx.AttributeProto.tensors: object expected");a.tensors[s]=x.onnx.TensorProto.fromObject(r.tensors[s])}}if(r.graphs){if(!Array.isArray(r.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(a.graphs=[],s=0;s<r.graphs.length;++s){if("object"!=typeof r.graphs[s])throw TypeError(".onnx.AttributeProto.graphs: object expected");a.graphs[s]=x.onnx.GraphProto.fromObject(r.graphs[s])}}if(r.sparseTensors){if(!Array.isArray(r.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(a.sparseTensors=[],s=0;s<r.sparseTensors.length;++s){if("object"!=typeof r.sparseTensors[s])throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");a.sparseTensors[s]=x.onnx.SparseTensorProto.fromObject(r.sparseTensors[s])}}if(r.typeProtos){if(!Array.isArray(r.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(a.typeProtos=[],s=0;s<r.typeProtos.length;++s){if("object"!=typeof r.typeProtos[s])throw TypeError(".onnx.AttributeProto.typeProtos: object expected");a.typeProtos[s]=x.onnx.TypeProto.fromObject(r.typeProtos[s])}}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.floats=[],s.ints=[],s.strings=[],s.tensors=[],s.graphs=[],s.typeProtos=[],s.sparseTensors=[]),a.defaults){if(s.name="",s.f=0,T.Long){var b=new T.Long(0,0,!1);s.i=a.longs===String?b.toString():a.longs===Number?b.toNumber():b}else s.i=a.longs===String?"0":0;a.bytes===String?s.s="":(s.s=[],a.bytes!==Array&&(s.s=T.newBuffer(s.s))),s.t=null,s.g=null,s.docString="",s.tp=null,s.type=a.enums===String?"UNDEFINED":0,s.refAttrName="",s.sparseTensor=null}if(null!=r.name&&r.hasOwnProperty("name")&&(s.name=r.name),null!=r.f&&r.hasOwnProperty("f")&&(s.f=a.json&&!isFinite(r.f)?String(r.f):r.f),null!=r.i&&r.hasOwnProperty("i")&&("number"==typeof r.i?s.i=a.longs===String?String(r.i):r.i:s.i=a.longs===String?T.Long.prototype.toString.call(r.i):a.longs===Number?new T.LongBits(r.i.low>>>0,r.i.high>>>0).toNumber():r.i),null!=r.s&&r.hasOwnProperty("s")&&(s.s=a.bytes===String?T.base64.encode(r.s,0,r.s.length):a.bytes===Array?Array.prototype.slice.call(r.s):r.s),null!=r.t&&r.hasOwnProperty("t")&&(s.t=x.onnx.TensorProto.toObject(r.t,a)),null!=r.g&&r.hasOwnProperty("g")&&(s.g=x.onnx.GraphProto.toObject(r.g,a)),r.floats&&r.floats.length){s.floats=[];for(var m=0;m<r.floats.length;++m)s.floats[m]=a.json&&!isFinite(r.floats[m])?String(r.floats[m]):r.floats[m]}if(r.ints&&r.ints.length)for(s.ints=[],m=0;m<r.ints.length;++m)"number"==typeof r.ints[m]?s.ints[m]=a.longs===String?String(r.ints[m]):r.ints[m]:s.ints[m]=a.longs===String?T.Long.prototype.toString.call(r.ints[m]):a.longs===Number?new T.LongBits(r.ints[m].low>>>0,r.ints[m].high>>>0).toNumber():r.ints[m];if(r.strings&&r.strings.length)for(s.strings=[],m=0;m<r.strings.length;++m)s.strings[m]=a.bytes===String?T.base64.encode(r.strings[m],0,r.strings[m].length):a.bytes===Array?Array.prototype.slice.call(r.strings[m]):r.strings[m];if(r.tensors&&r.tensors.length)for(s.tensors=[],m=0;m<r.tensors.length;++m)s.tensors[m]=x.onnx.TensorProto.toObject(r.tensors[m],a);if(r.graphs&&r.graphs.length)for(s.graphs=[],m=0;m<r.graphs.length;++m)s.graphs[m]=x.onnx.GraphProto.toObject(r.graphs[m],a);if(null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),null!=r.tp&&r.hasOwnProperty("tp")&&(s.tp=x.onnx.TypeProto.toObject(r.tp,a)),r.typeProtos&&r.typeProtos.length)for(s.typeProtos=[],m=0;m<r.typeProtos.length;++m)s.typeProtos[m]=x.onnx.TypeProto.toObject(r.typeProtos[m],a);if(null!=r.type&&r.hasOwnProperty("type")&&(s.type=a.enums===String?void 0===x.onnx.AttributeProto.AttributeType[r.type]?r.type:x.onnx.AttributeProto.AttributeType[r.type]:r.type),null!=r.refAttrName&&r.hasOwnProperty("refAttrName")&&(s.refAttrName=r.refAttrName),null!=r.sparseTensor&&r.hasOwnProperty("sparseTensor")&&(s.sparseTensor=x.onnx.SparseTensorProto.toObject(r.sparseTensor,a)),r.sparseTensors&&r.sparseTensors.length)for(s.sparseTensors=[],m=0;m<r.sparseTensors.length;++m)s.sparseTensors[m]=x.onnx.SparseTensorProto.toObject(r.sparseTensors[m],a);return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.AttributeProto"},r.AttributeType=function(){var r={},a=Object.create(r);return a[r[0]="UNDEFINED"]=0,a[r[1]="FLOAT"]=1,a[r[2]="INT"]=2,a[r[3]="STRING"]=3,a[r[4]="TENSOR"]=4,a[r[5]="GRAPH"]=5,a[r[11]="SPARSE_TENSOR"]=11,a[r[13]="TYPE_PROTO"]=13,a[r[6]="FLOATS"]=6,a[r[7]="INTS"]=7,a[r[8]="STRINGS"]=8,a[r[9]="TENSORS"]=9,a[r[10]="GRAPHS"]=10,a[r[12]="SPARSE_TENSORS"]=12,a[r[14]="TYPE_PROTOS"]=14,a}(),r}(),y.ValueInfoProto=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.name="",r.prototype.type=null,r.prototype.docString="",r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.name&&Object.hasOwnProperty.call(r,"name")&&a.uint32(10).string(r.name),null!=r.type&&Object.hasOwnProperty.call(r,"type")&&x.onnx.TypeProto.encode(r.type,a.uint32(18).fork()).ldelim(),null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(26).string(r.docString),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.ValueInfoProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.name=r.string();break;case 2:b.type=x.onnx.TypeProto.decode(r,r.uint32());break;case 3:b.docString=r.string();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.name&&r.hasOwnProperty("name")&&!T.isString(r.name))return"name: string expected";if(null!=r.type&&r.hasOwnProperty("type")){var a=x.onnx.TypeProto.verify(r.type);if(a)return"type."+a}return null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString)?"docString: string expected":null},r.fromObject=function(r){if(r instanceof x.onnx.ValueInfoProto)return r;var a=new x.onnx.ValueInfoProto;if(null!=r.name&&(a.name=String(r.name)),null!=r.type){if("object"!=typeof r.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");a.type=x.onnx.TypeProto.fromObject(r.type)}return null!=r.docString&&(a.docString=String(r.docString)),a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.name="",s.type=null,s.docString=""),null!=r.name&&r.hasOwnProperty("name")&&(s.name=r.name),null!=r.type&&r.hasOwnProperty("type")&&(s.type=x.onnx.TypeProto.toObject(r.type,a)),null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.ValueInfoProto"},r}(),y.NodeProto=function(){function r(r){if(this.input=[],this.output=[],this.attribute=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.input=T.emptyArray,r.prototype.output=T.emptyArray,r.prototype.name="",r.prototype.opType="",r.prototype.domain="",r.prototype.attribute=T.emptyArray,r.prototype.docString="",r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.input&&r.input.length)for(var s=0;s<r.input.length;++s)a.uint32(10).string(r.input[s]);if(null!=r.output&&r.output.length)for(s=0;s<r.output.length;++s)a.uint32(18).string(r.output[s]);if(null!=r.name&&Object.hasOwnProperty.call(r,"name")&&a.uint32(26).string(r.name),null!=r.opType&&Object.hasOwnProperty.call(r,"opType")&&a.uint32(34).string(r.opType),null!=r.attribute&&r.attribute.length)for(s=0;s<r.attribute.length;++s)x.onnx.AttributeProto.encode(r.attribute[s],a.uint32(42).fork()).ldelim();return null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(50).string(r.docString),null!=r.domain&&Object.hasOwnProperty.call(r,"domain")&&a.uint32(58).string(r.domain),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.NodeProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.input&&b.input.length||(b.input=[]),b.input.push(r.string());break;case 2:b.output&&b.output.length||(b.output=[]),b.output.push(r.string());break;case 3:b.name=r.string();break;case 4:b.opType=r.string();break;case 7:b.domain=r.string();break;case 5:b.attribute&&b.attribute.length||(b.attribute=[]),b.attribute.push(x.onnx.AttributeProto.decode(r,r.uint32()));break;case 6:b.docString=r.string();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.input&&r.hasOwnProperty("input")){if(!Array.isArray(r.input))return"input: array expected";for(var a=0;a<r.input.length;++a)if(!T.isString(r.input[a]))return"input: string[] expected"}if(null!=r.output&&r.hasOwnProperty("output")){if(!Array.isArray(r.output))return"output: array expected";for(a=0;a<r.output.length;++a)if(!T.isString(r.output[a]))return"output: string[] expected"}if(null!=r.name&&r.hasOwnProperty("name")&&!T.isString(r.name))return"name: string expected";if(null!=r.opType&&r.hasOwnProperty("opType")&&!T.isString(r.opType))return"opType: string expected";if(null!=r.domain&&r.hasOwnProperty("domain")&&!T.isString(r.domain))return"domain: string expected";if(null!=r.attribute&&r.hasOwnProperty("attribute")){if(!Array.isArray(r.attribute))return"attribute: array expected";for(a=0;a<r.attribute.length;++a){var s=x.onnx.AttributeProto.verify(r.attribute[a]);if(s)return"attribute."+s}}return null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString)?"docString: string expected":null},r.fromObject=function(r){if(r instanceof x.onnx.NodeProto)return r;var a=new x.onnx.NodeProto;if(r.input){if(!Array.isArray(r.input))throw TypeError(".onnx.NodeProto.input: array expected");a.input=[];for(var s=0;s<r.input.length;++s)a.input[s]=String(r.input[s])}if(r.output){if(!Array.isArray(r.output))throw TypeError(".onnx.NodeProto.output: array expected");for(a.output=[],s=0;s<r.output.length;++s)a.output[s]=String(r.output[s])}if(null!=r.name&&(a.name=String(r.name)),null!=r.opType&&(a.opType=String(r.opType)),null!=r.domain&&(a.domain=String(r.domain)),r.attribute){if(!Array.isArray(r.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(a.attribute=[],s=0;s<r.attribute.length;++s){if("object"!=typeof r.attribute[s])throw TypeError(".onnx.NodeProto.attribute: object expected");a.attribute[s]=x.onnx.AttributeProto.fromObject(r.attribute[s])}}return null!=r.docString&&(a.docString=String(r.docString)),a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.input=[],s.output=[],s.attribute=[]),a.defaults&&(s.name="",s.opType="",s.docString="",s.domain=""),r.input&&r.input.length){s.input=[];for(var b=0;b<r.input.length;++b)s.input[b]=r.input[b]}if(r.output&&r.output.length)for(s.output=[],b=0;b<r.output.length;++b)s.output[b]=r.output[b];if(null!=r.name&&r.hasOwnProperty("name")&&(s.name=r.name),null!=r.opType&&r.hasOwnProperty("opType")&&(s.opType=r.opType),r.attribute&&r.attribute.length)for(s.attribute=[],b=0;b<r.attribute.length;++b)s.attribute[b]=x.onnx.AttributeProto.toObject(r.attribute[b],a);return null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),null!=r.domain&&r.hasOwnProperty("domain")&&(s.domain=r.domain),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.NodeProto"},r}(),y.TrainingInfoProto=function(){function r(r){if(this.initializationBinding=[],this.updateBinding=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.initialization=null,r.prototype.algorithm=null,r.prototype.initializationBinding=T.emptyArray,r.prototype.updateBinding=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.initialization&&Object.hasOwnProperty.call(r,"initialization")&&x.onnx.GraphProto.encode(r.initialization,a.uint32(10).fork()).ldelim(),null!=r.algorithm&&Object.hasOwnProperty.call(r,"algorithm")&&x.onnx.GraphProto.encode(r.algorithm,a.uint32(18).fork()).ldelim(),null!=r.initializationBinding&&r.initializationBinding.length)for(var s=0;s<r.initializationBinding.length;++s)x.onnx.StringStringEntryProto.encode(r.initializationBinding[s],a.uint32(26).fork()).ldelim();if(null!=r.updateBinding&&r.updateBinding.length)for(s=0;s<r.updateBinding.length;++s)x.onnx.StringStringEntryProto.encode(r.updateBinding[s],a.uint32(34).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TrainingInfoProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.initialization=x.onnx.GraphProto.decode(r,r.uint32());break;case 2:b.algorithm=x.onnx.GraphProto.decode(r,r.uint32());break;case 3:b.initializationBinding&&b.initializationBinding.length||(b.initializationBinding=[]),b.initializationBinding.push(x.onnx.StringStringEntryProto.decode(r,r.uint32()));break;case 4:b.updateBinding&&b.updateBinding.length||(b.updateBinding=[]),b.updateBinding.push(x.onnx.StringStringEntryProto.decode(r,r.uint32()));break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.initialization&&r.hasOwnProperty("initialization")&&(s=x.onnx.GraphProto.verify(r.initialization)))return"initialization."+s;if(null!=r.algorithm&&r.hasOwnProperty("algorithm")&&(s=x.onnx.GraphProto.verify(r.algorithm)))return"algorithm."+s;if(null!=r.initializationBinding&&r.hasOwnProperty("initializationBinding")){if(!Array.isArray(r.initializationBinding))return"initializationBinding: array expected";for(var a=0;a<r.initializationBinding.length;++a)if(s=x.onnx.StringStringEntryProto.verify(r.initializationBinding[a]))return"initializationBinding."+s}if(null!=r.updateBinding&&r.hasOwnProperty("updateBinding")){if(!Array.isArray(r.updateBinding))return"updateBinding: array expected";for(a=0;a<r.updateBinding.length;++a){var s;if(s=x.onnx.StringStringEntryProto.verify(r.updateBinding[a]))return"updateBinding."+s}}return null},r.fromObject=function(r){if(r instanceof x.onnx.TrainingInfoProto)return r;var a=new x.onnx.TrainingInfoProto;if(null!=r.initialization){if("object"!=typeof r.initialization)throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");a.initialization=x.onnx.GraphProto.fromObject(r.initialization)}if(null!=r.algorithm){if("object"!=typeof r.algorithm)throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");a.algorithm=x.onnx.GraphProto.fromObject(r.algorithm)}if(r.initializationBinding){if(!Array.isArray(r.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");a.initializationBinding=[];for(var s=0;s<r.initializationBinding.length;++s){if("object"!=typeof r.initializationBinding[s])throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");a.initializationBinding[s]=x.onnx.StringStringEntryProto.fromObject(r.initializationBinding[s])}}if(r.updateBinding){if(!Array.isArray(r.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(a.updateBinding=[],s=0;s<r.updateBinding.length;++s){if("object"!=typeof r.updateBinding[s])throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");a.updateBinding[s]=x.onnx.StringStringEntryProto.fromObject(r.updateBinding[s])}}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.initializationBinding=[],s.updateBinding=[]),a.defaults&&(s.initialization=null,s.algorithm=null),null!=r.initialization&&r.hasOwnProperty("initialization")&&(s.initialization=x.onnx.GraphProto.toObject(r.initialization,a)),null!=r.algorithm&&r.hasOwnProperty("algorithm")&&(s.algorithm=x.onnx.GraphProto.toObject(r.algorithm,a)),r.initializationBinding&&r.initializationBinding.length){s.initializationBinding=[];for(var b=0;b<r.initializationBinding.length;++b)s.initializationBinding[b]=x.onnx.StringStringEntryProto.toObject(r.initializationBinding[b],a)}if(r.updateBinding&&r.updateBinding.length)for(s.updateBinding=[],b=0;b<r.updateBinding.length;++b)s.updateBinding[b]=x.onnx.StringStringEntryProto.toObject(r.updateBinding[b],a);return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TrainingInfoProto"},r}(),y.ModelProto=function(){function r(r){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.irVersion=T.Long?T.Long.fromBits(0,0,!1):0,r.prototype.opsetImport=T.emptyArray,r.prototype.producerName="",r.prototype.producerVersion="",r.prototype.domain="",r.prototype.modelVersion=T.Long?T.Long.fromBits(0,0,!1):0,r.prototype.docString="",r.prototype.graph=null,r.prototype.metadataProps=T.emptyArray,r.prototype.trainingInfo=T.emptyArray,r.prototype.functions=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.irVersion&&Object.hasOwnProperty.call(r,"irVersion")&&a.uint32(8).int64(r.irVersion),null!=r.producerName&&Object.hasOwnProperty.call(r,"producerName")&&a.uint32(18).string(r.producerName),null!=r.producerVersion&&Object.hasOwnProperty.call(r,"producerVersion")&&a.uint32(26).string(r.producerVersion),null!=r.domain&&Object.hasOwnProperty.call(r,"domain")&&a.uint32(34).string(r.domain),null!=r.modelVersion&&Object.hasOwnProperty.call(r,"modelVersion")&&a.uint32(40).int64(r.modelVersion),null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(50).string(r.docString),null!=r.graph&&Object.hasOwnProperty.call(r,"graph")&&x.onnx.GraphProto.encode(r.graph,a.uint32(58).fork()).ldelim(),null!=r.opsetImport&&r.opsetImport.length)for(var s=0;s<r.opsetImport.length;++s)x.onnx.OperatorSetIdProto.encode(r.opsetImport[s],a.uint32(66).fork()).ldelim();if(null!=r.metadataProps&&r.metadataProps.length)for(s=0;s<r.metadataProps.length;++s)x.onnx.StringStringEntryProto.encode(r.metadataProps[s],a.uint32(114).fork()).ldelim();if(null!=r.trainingInfo&&r.trainingInfo.length)for(s=0;s<r.trainingInfo.length;++s)x.onnx.TrainingInfoProto.encode(r.trainingInfo[s],a.uint32(162).fork()).ldelim();if(null!=r.functions&&r.functions.length)for(s=0;s<r.functions.length;++s)x.onnx.FunctionProto.encode(r.functions[s],a.uint32(202).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.ModelProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.irVersion=r.int64();break;case 8:b.opsetImport&&b.opsetImport.length||(b.opsetImport=[]),b.opsetImport.push(x.onnx.OperatorSetIdProto.decode(r,r.uint32()));break;case 2:b.producerName=r.string();break;case 3:b.producerVersion=r.string();break;case 4:b.domain=r.string();break;case 5:b.modelVersion=r.int64();break;case 6:b.docString=r.string();break;case 7:b.graph=x.onnx.GraphProto.decode(r,r.uint32());break;case 14:b.metadataProps&&b.metadataProps.length||(b.metadataProps=[]),b.metadataProps.push(x.onnx.StringStringEntryProto.decode(r,r.uint32()));break;case 20:b.trainingInfo&&b.trainingInfo.length||(b.trainingInfo=[]),b.trainingInfo.push(x.onnx.TrainingInfoProto.decode(r,r.uint32()));break;case 25:b.functions&&b.functions.length||(b.functions=[]),b.functions.push(x.onnx.FunctionProto.decode(r,r.uint32()));break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.irVersion&&r.hasOwnProperty("irVersion")&&!(T.isInteger(r.irVersion)||r.irVersion&&T.isInteger(r.irVersion.low)&&T.isInteger(r.irVersion.high)))return"irVersion: integer|Long expected";if(null!=r.opsetImport&&r.hasOwnProperty("opsetImport")){if(!Array.isArray(r.opsetImport))return"opsetImport: array expected";for(var a=0;a<r.opsetImport.length;++a)if(s=x.onnx.OperatorSetIdProto.verify(r.opsetImport[a]))return"opsetImport."+s}if(null!=r.producerName&&r.hasOwnProperty("producerName")&&!T.isString(r.producerName))return"producerName: string expected";if(null!=r.producerVersion&&r.hasOwnProperty("producerVersion")&&!T.isString(r.producerVersion))return"producerVersion: string expected";if(null!=r.domain&&r.hasOwnProperty("domain")&&!T.isString(r.domain))return"domain: string expected";if(null!=r.modelVersion&&r.hasOwnProperty("modelVersion")&&!(T.isInteger(r.modelVersion)||r.modelVersion&&T.isInteger(r.modelVersion.low)&&T.isInteger(r.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString))return"docString: string expected";if(null!=r.graph&&r.hasOwnProperty("graph")&&(s=x.onnx.GraphProto.verify(r.graph)))return"graph."+s;if(null!=r.metadataProps&&r.hasOwnProperty("metadataProps")){if(!Array.isArray(r.metadataProps))return"metadataProps: array expected";for(a=0;a<r.metadataProps.length;++a)if(s=x.onnx.StringStringEntryProto.verify(r.metadataProps[a]))return"metadataProps."+s}if(null!=r.trainingInfo&&r.hasOwnProperty("trainingInfo")){if(!Array.isArray(r.trainingInfo))return"trainingInfo: array expected";for(a=0;a<r.trainingInfo.length;++a)if(s=x.onnx.TrainingInfoProto.verify(r.trainingInfo[a]))return"trainingInfo."+s}if(null!=r.functions&&r.hasOwnProperty("functions")){if(!Array.isArray(r.functions))return"functions: array expected";for(a=0;a<r.functions.length;++a){var s;if(s=x.onnx.FunctionProto.verify(r.functions[a]))return"functions."+s}}return null},r.fromObject=function(r){if(r instanceof x.onnx.ModelProto)return r;var a=new x.onnx.ModelProto;if(null!=r.irVersion&&(T.Long?(a.irVersion=T.Long.fromValue(r.irVersion)).unsigned=!1:"string"==typeof r.irVersion?a.irVersion=parseInt(r.irVersion,10):"number"==typeof r.irVersion?a.irVersion=r.irVersion:"object"==typeof r.irVersion&&(a.irVersion=new T.LongBits(r.irVersion.low>>>0,r.irVersion.high>>>0).toNumber())),r.opsetImport){if(!Array.isArray(r.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");a.opsetImport=[];for(var s=0;s<r.opsetImport.length;++s){if("object"!=typeof r.opsetImport[s])throw TypeError(".onnx.ModelProto.opsetImport: object expected");a.opsetImport[s]=x.onnx.OperatorSetIdProto.fromObject(r.opsetImport[s])}}if(null!=r.producerName&&(a.producerName=String(r.producerName)),null!=r.producerVersion&&(a.producerVersion=String(r.producerVersion)),null!=r.domain&&(a.domain=String(r.domain)),null!=r.modelVersion&&(T.Long?(a.modelVersion=T.Long.fromValue(r.modelVersion)).unsigned=!1:"string"==typeof r.modelVersion?a.modelVersion=parseInt(r.modelVersion,10):"number"==typeof r.modelVersion?a.modelVersion=r.modelVersion:"object"==typeof r.modelVersion&&(a.modelVersion=new T.LongBits(r.modelVersion.low>>>0,r.modelVersion.high>>>0).toNumber())),null!=r.docString&&(a.docString=String(r.docString)),null!=r.graph){if("object"!=typeof r.graph)throw TypeError(".onnx.ModelProto.graph: object expected");a.graph=x.onnx.GraphProto.fromObject(r.graph)}if(r.metadataProps){if(!Array.isArray(r.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(a.metadataProps=[],s=0;s<r.metadataProps.length;++s){if("object"!=typeof r.metadataProps[s])throw TypeError(".onnx.ModelProto.metadataProps: object expected");a.metadataProps[s]=x.onnx.StringStringEntryProto.fromObject(r.metadataProps[s])}}if(r.trainingInfo){if(!Array.isArray(r.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(a.trainingInfo=[],s=0;s<r.trainingInfo.length;++s){if("object"!=typeof r.trainingInfo[s])throw TypeError(".onnx.ModelProto.trainingInfo: object expected");a.trainingInfo[s]=x.onnx.TrainingInfoProto.fromObject(r.trainingInfo[s])}}if(r.functions){if(!Array.isArray(r.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(a.functions=[],s=0;s<r.functions.length;++s){if("object"!=typeof r.functions[s])throw TypeError(".onnx.ModelProto.functions: object expected");a.functions[s]=x.onnx.FunctionProto.fromObject(r.functions[s])}}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.opsetImport=[],s.metadataProps=[],s.trainingInfo=[],s.functions=[]),a.defaults){if(T.Long){var b=new T.Long(0,0,!1);s.irVersion=a.longs===String?b.toString():a.longs===Number?b.toNumber():b}else s.irVersion=a.longs===String?"0":0;s.producerName="",s.producerVersion="",s.domain="",T.Long?(b=new T.Long(0,0,!1),s.modelVersion=a.longs===String?b.toString():a.longs===Number?b.toNumber():b):s.modelVersion=a.longs===String?"0":0,s.docString="",s.graph=null}if(null!=r.irVersion&&r.hasOwnProperty("irVersion")&&("number"==typeof r.irVersion?s.irVersion=a.longs===String?String(r.irVersion):r.irVersion:s.irVersion=a.longs===String?T.Long.prototype.toString.call(r.irVersion):a.longs===Number?new T.LongBits(r.irVersion.low>>>0,r.irVersion.high>>>0).toNumber():r.irVersion),null!=r.producerName&&r.hasOwnProperty("producerName")&&(s.producerName=r.producerName),null!=r.producerVersion&&r.hasOwnProperty("producerVersion")&&(s.producerVersion=r.producerVersion),null!=r.domain&&r.hasOwnProperty("domain")&&(s.domain=r.domain),null!=r.modelVersion&&r.hasOwnProperty("modelVersion")&&("number"==typeof r.modelVersion?s.modelVersion=a.longs===String?String(r.modelVersion):r.modelVersion:s.modelVersion=a.longs===String?T.Long.prototype.toString.call(r.modelVersion):a.longs===Number?new T.LongBits(r.modelVersion.low>>>0,r.modelVersion.high>>>0).toNumber():r.modelVersion),null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),null!=r.graph&&r.hasOwnProperty("graph")&&(s.graph=x.onnx.GraphProto.toObject(r.graph,a)),r.opsetImport&&r.opsetImport.length){s.opsetImport=[];for(var m=0;m<r.opsetImport.length;++m)s.opsetImport[m]=x.onnx.OperatorSetIdProto.toObject(r.opsetImport[m],a)}if(r.metadataProps&&r.metadataProps.length)for(s.metadataProps=[],m=0;m<r.metadataProps.length;++m)s.metadataProps[m]=x.onnx.StringStringEntryProto.toObject(r.metadataProps[m],a);if(r.trainingInfo&&r.trainingInfo.length)for(s.trainingInfo=[],m=0;m<r.trainingInfo.length;++m)s.trainingInfo[m]=x.onnx.TrainingInfoProto.toObject(r.trainingInfo[m],a);if(r.functions&&r.functions.length)for(s.functions=[],m=0;m<r.functions.length;++m)s.functions[m]=x.onnx.FunctionProto.toObject(r.functions[m],a);return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.ModelProto"},r}(),y.StringStringEntryProto=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.key="",r.prototype.value="",r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.key&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),null!=r.value&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.StringStringEntryProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.key=r.string();break;case 2:b.value=r.string();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){return"object"!=typeof r||null===r?"object expected":null!=r.key&&r.hasOwnProperty("key")&&!T.isString(r.key)?"key: string expected":null!=r.value&&r.hasOwnProperty("value")&&!T.isString(r.value)?"value: string expected":null},r.fromObject=function(r){if(r instanceof x.onnx.StringStringEntryProto)return r;var a=new x.onnx.StringStringEntryProto;return null!=r.key&&(a.key=String(r.key)),null!=r.value&&(a.value=String(r.value)),a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.key="",s.value=""),null!=r.key&&r.hasOwnProperty("key")&&(s.key=r.key),null!=r.value&&r.hasOwnProperty("value")&&(s.value=r.value),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.StringStringEntryProto"},r}(),y.TensorAnnotation=function(){function r(r){if(this.quantParameterTensorNames=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.tensorName="",r.prototype.quantParameterTensorNames=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.tensorName&&Object.hasOwnProperty.call(r,"tensorName")&&a.uint32(10).string(r.tensorName),null!=r.quantParameterTensorNames&&r.quantParameterTensorNames.length)for(var s=0;s<r.quantParameterTensorNames.length;++s)x.onnx.StringStringEntryProto.encode(r.quantParameterTensorNames[s],a.uint32(18).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TensorAnnotation;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.tensorName=r.string();break;case 2:b.quantParameterTensorNames&&b.quantParameterTensorNames.length||(b.quantParameterTensorNames=[]),b.quantParameterTensorNames.push(x.onnx.StringStringEntryProto.decode(r,r.uint32()));break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.tensorName&&r.hasOwnProperty("tensorName")&&!T.isString(r.tensorName))return"tensorName: string expected";if(null!=r.quantParameterTensorNames&&r.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(r.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var a=0;a<r.quantParameterTensorNames.length;++a){var s=x.onnx.StringStringEntryProto.verify(r.quantParameterTensorNames[a]);if(s)return"quantParameterTensorNames."+s}}return null},r.fromObject=function(r){if(r instanceof x.onnx.TensorAnnotation)return r;var a=new x.onnx.TensorAnnotation;if(null!=r.tensorName&&(a.tensorName=String(r.tensorName)),r.quantParameterTensorNames){if(!Array.isArray(r.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");a.quantParameterTensorNames=[];for(var s=0;s<r.quantParameterTensorNames.length;++s){if("object"!=typeof r.quantParameterTensorNames[s])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");a.quantParameterTensorNames[s]=x.onnx.StringStringEntryProto.fromObject(r.quantParameterTensorNames[s])}}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.quantParameterTensorNames=[]),a.defaults&&(s.tensorName=""),null!=r.tensorName&&r.hasOwnProperty("tensorName")&&(s.tensorName=r.tensorName),r.quantParameterTensorNames&&r.quantParameterTensorNames.length){s.quantParameterTensorNames=[];for(var b=0;b<r.quantParameterTensorNames.length;++b)s.quantParameterTensorNames[b]=x.onnx.StringStringEntryProto.toObject(r.quantParameterTensorNames[b],a)}return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TensorAnnotation"},r}(),y.GraphProto=function(){function r(r){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.node=T.emptyArray,r.prototype.name="",r.prototype.initializer=T.emptyArray,r.prototype.sparseInitializer=T.emptyArray,r.prototype.docString="",r.prototype.input=T.emptyArray,r.prototype.output=T.emptyArray,r.prototype.valueInfo=T.emptyArray,r.prototype.quantizationAnnotation=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.node&&r.node.length)for(var s=0;s<r.node.length;++s)x.onnx.NodeProto.encode(r.node[s],a.uint32(10).fork()).ldelim();if(null!=r.name&&Object.hasOwnProperty.call(r,"name")&&a.uint32(18).string(r.name),null!=r.initializer&&r.initializer.length)for(s=0;s<r.initializer.length;++s)x.onnx.TensorProto.encode(r.initializer[s],a.uint32(42).fork()).ldelim();if(null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(82).string(r.docString),null!=r.input&&r.input.length)for(s=0;s<r.input.length;++s)x.onnx.ValueInfoProto.encode(r.input[s],a.uint32(90).fork()).ldelim();if(null!=r.output&&r.output.length)for(s=0;s<r.output.length;++s)x.onnx.ValueInfoProto.encode(r.output[s],a.uint32(98).fork()).ldelim();if(null!=r.valueInfo&&r.valueInfo.length)for(s=0;s<r.valueInfo.length;++s)x.onnx.ValueInfoProto.encode(r.valueInfo[s],a.uint32(106).fork()).ldelim();if(null!=r.quantizationAnnotation&&r.quantizationAnnotation.length)for(s=0;s<r.quantizationAnnotation.length;++s)x.onnx.TensorAnnotation.encode(r.quantizationAnnotation[s],a.uint32(114).fork()).ldelim();if(null!=r.sparseInitializer&&r.sparseInitializer.length)for(s=0;s<r.sparseInitializer.length;++s)x.onnx.SparseTensorProto.encode(r.sparseInitializer[s],a.uint32(122).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.GraphProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.node&&b.node.length||(b.node=[]),b.node.push(x.onnx.NodeProto.decode(r,r.uint32()));break;case 2:b.name=r.string();break;case 5:b.initializer&&b.initializer.length||(b.initializer=[]),b.initializer.push(x.onnx.TensorProto.decode(r,r.uint32()));break;case 15:b.sparseInitializer&&b.sparseInitializer.length||(b.sparseInitializer=[]),b.sparseInitializer.push(x.onnx.SparseTensorProto.decode(r,r.uint32()));break;case 10:b.docString=r.string();break;case 11:b.input&&b.input.length||(b.input=[]),b.input.push(x.onnx.ValueInfoProto.decode(r,r.uint32()));break;case 12:b.output&&b.output.length||(b.output=[]),b.output.push(x.onnx.ValueInfoProto.decode(r,r.uint32()));break;case 13:b.valueInfo&&b.valueInfo.length||(b.valueInfo=[]),b.valueInfo.push(x.onnx.ValueInfoProto.decode(r,r.uint32()));break;case 14:b.quantizationAnnotation&&b.quantizationAnnotation.length||(b.quantizationAnnotation=[]),b.quantizationAnnotation.push(x.onnx.TensorAnnotation.decode(r,r.uint32()));break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.node&&r.hasOwnProperty("node")){if(!Array.isArray(r.node))return"node: array expected";for(var a=0;a<r.node.length;++a)if(s=x.onnx.NodeProto.verify(r.node[a]))return"node."+s}if(null!=r.name&&r.hasOwnProperty("name")&&!T.isString(r.name))return"name: string expected";if(null!=r.initializer&&r.hasOwnProperty("initializer")){if(!Array.isArray(r.initializer))return"initializer: array expected";for(a=0;a<r.initializer.length;++a)if(s=x.onnx.TensorProto.verify(r.initializer[a]))return"initializer."+s}if(null!=r.sparseInitializer&&r.hasOwnProperty("sparseInitializer")){if(!Array.isArray(r.sparseInitializer))return"sparseInitializer: array expected";for(a=0;a<r.sparseInitializer.length;++a)if(s=x.onnx.SparseTensorProto.verify(r.sparseInitializer[a]))return"sparseInitializer."+s}if(null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString))return"docString: string expected";if(null!=r.input&&r.hasOwnProperty("input")){if(!Array.isArray(r.input))return"input: array expected";for(a=0;a<r.input.length;++a)if(s=x.onnx.ValueInfoProto.verify(r.input[a]))return"input."+s}if(null!=r.output&&r.hasOwnProperty("output")){if(!Array.isArray(r.output))return"output: array expected";for(a=0;a<r.output.length;++a)if(s=x.onnx.ValueInfoProto.verify(r.output[a]))return"output."+s}if(null!=r.valueInfo&&r.hasOwnProperty("valueInfo")){if(!Array.isArray(r.valueInfo))return"valueInfo: array expected";for(a=0;a<r.valueInfo.length;++a)if(s=x.onnx.ValueInfoProto.verify(r.valueInfo[a]))return"valueInfo."+s}if(null!=r.quantizationAnnotation&&r.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(r.quantizationAnnotation))return"quantizationAnnotation: array expected";for(a=0;a<r.quantizationAnnotation.length;++a){var s;if(s=x.onnx.TensorAnnotation.verify(r.quantizationAnnotation[a]))return"quantizationAnnotation."+s}}return null},r.fromObject=function(r){if(r instanceof x.onnx.GraphProto)return r;var a=new x.onnx.GraphProto;if(r.node){if(!Array.isArray(r.node))throw TypeError(".onnx.GraphProto.node: array expected");a.node=[];for(var s=0;s<r.node.length;++s){if("object"!=typeof r.node[s])throw TypeError(".onnx.GraphProto.node: object expected");a.node[s]=x.onnx.NodeProto.fromObject(r.node[s])}}if(null!=r.name&&(a.name=String(r.name)),r.initializer){if(!Array.isArray(r.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(a.initializer=[],s=0;s<r.initializer.length;++s){if("object"!=typeof r.initializer[s])throw TypeError(".onnx.GraphProto.initializer: object expected");a.initializer[s]=x.onnx.TensorProto.fromObject(r.initializer[s])}}if(r.sparseInitializer){if(!Array.isArray(r.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(a.sparseInitializer=[],s=0;s<r.sparseInitializer.length;++s){if("object"!=typeof r.sparseInitializer[s])throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");a.sparseInitializer[s]=x.onnx.SparseTensorProto.fromObject(r.sparseInitializer[s])}}if(null!=r.docString&&(a.docString=String(r.docString)),r.input){if(!Array.isArray(r.input))throw TypeError(".onnx.GraphProto.input: array expected");for(a.input=[],s=0;s<r.input.length;++s){if("object"!=typeof r.input[s])throw TypeError(".onnx.GraphProto.input: object expected");a.input[s]=x.onnx.ValueInfoProto.fromObject(r.input[s])}}if(r.output){if(!Array.isArray(r.output))throw TypeError(".onnx.GraphProto.output: array expected");for(a.output=[],s=0;s<r.output.length;++s){if("object"!=typeof r.output[s])throw TypeError(".onnx.GraphProto.output: object expected");a.output[s]=x.onnx.ValueInfoProto.fromObject(r.output[s])}}if(r.valueInfo){if(!Array.isArray(r.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(a.valueInfo=[],s=0;s<r.valueInfo.length;++s){if("object"!=typeof r.valueInfo[s])throw TypeError(".onnx.GraphProto.valueInfo: object expected");a.valueInfo[s]=x.onnx.ValueInfoProto.fromObject(r.valueInfo[s])}}if(r.quantizationAnnotation){if(!Array.isArray(r.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(a.quantizationAnnotation=[],s=0;s<r.quantizationAnnotation.length;++s){if("object"!=typeof r.quantizationAnnotation[s])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");a.quantizationAnnotation[s]=x.onnx.TensorAnnotation.fromObject(r.quantizationAnnotation[s])}}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.node=[],s.initializer=[],s.input=[],s.output=[],s.valueInfo=[],s.quantizationAnnotation=[],s.sparseInitializer=[]),a.defaults&&(s.name="",s.docString=""),r.node&&r.node.length){s.node=[];for(var b=0;b<r.node.length;++b)s.node[b]=x.onnx.NodeProto.toObject(r.node[b],a)}if(null!=r.name&&r.hasOwnProperty("name")&&(s.name=r.name),r.initializer&&r.initializer.length)for(s.initializer=[],b=0;b<r.initializer.length;++b)s.initializer[b]=x.onnx.TensorProto.toObject(r.initializer[b],a);if(null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),r.input&&r.input.length)for(s.input=[],b=0;b<r.input.length;++b)s.input[b]=x.onnx.ValueInfoProto.toObject(r.input[b],a);if(r.output&&r.output.length)for(s.output=[],b=0;b<r.output.length;++b)s.output[b]=x.onnx.ValueInfoProto.toObject(r.output[b],a);if(r.valueInfo&&r.valueInfo.length)for(s.valueInfo=[],b=0;b<r.valueInfo.length;++b)s.valueInfo[b]=x.onnx.ValueInfoProto.toObject(r.valueInfo[b],a);if(r.quantizationAnnotation&&r.quantizationAnnotation.length)for(s.quantizationAnnotation=[],b=0;b<r.quantizationAnnotation.length;++b)s.quantizationAnnotation[b]=x.onnx.TensorAnnotation.toObject(r.quantizationAnnotation[b],a);if(r.sparseInitializer&&r.sparseInitializer.length)for(s.sparseInitializer=[],b=0;b<r.sparseInitializer.length;++b)s.sparseInitializer[b]=x.onnx.SparseTensorProto.toObject(r.sparseInitializer[b],a);return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.GraphProto"},r}(),y.TensorProto=function(){function r(r){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.dims=T.emptyArray,r.prototype.dataType=0,r.prototype.segment=null,r.prototype.floatData=T.emptyArray,r.prototype.int32Data=T.emptyArray,r.prototype.stringData=T.emptyArray,r.prototype.int64Data=T.emptyArray,r.prototype.name="",r.prototype.docString="",r.prototype.rawData=T.newBuffer([]),r.prototype.externalData=T.emptyArray,r.prototype.dataLocation=0,r.prototype.doubleData=T.emptyArray,r.prototype.uint64Data=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.dims&&r.dims.length){a.uint32(10).fork();for(var s=0;s<r.dims.length;++s)a.int64(r.dims[s]);a.ldelim()}if(null!=r.dataType&&Object.hasOwnProperty.call(r,"dataType")&&a.uint32(16).int32(r.dataType),null!=r.segment&&Object.hasOwnProperty.call(r,"segment")&&x.onnx.TensorProto.Segment.encode(r.segment,a.uint32(26).fork()).ldelim(),null!=r.floatData&&r.floatData.length){for(a.uint32(34).fork(),s=0;s<r.floatData.length;++s)a.float(r.floatData[s]);a.ldelim()}if(null!=r.int32Data&&r.int32Data.length){for(a.uint32(42).fork(),s=0;s<r.int32Data.length;++s)a.int32(r.int32Data[s]);a.ldelim()}if(null!=r.stringData&&r.stringData.length)for(s=0;s<r.stringData.length;++s)a.uint32(50).bytes(r.stringData[s]);if(null!=r.int64Data&&r.int64Data.length){for(a.uint32(58).fork(),s=0;s<r.int64Data.length;++s)a.int64(r.int64Data[s]);a.ldelim()}if(null!=r.name&&Object.hasOwnProperty.call(r,"name")&&a.uint32(66).string(r.name),null!=r.rawData&&Object.hasOwnProperty.call(r,"rawData")&&a.uint32(74).bytes(r.rawData),null!=r.doubleData&&r.doubleData.length){for(a.uint32(82).fork(),s=0;s<r.doubleData.length;++s)a.double(r.doubleData[s]);a.ldelim()}if(null!=r.uint64Data&&r.uint64Data.length){for(a.uint32(90).fork(),s=0;s<r.uint64Data.length;++s)a.uint64(r.uint64Data[s]);a.ldelim()}if(null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(98).string(r.docString),null!=r.externalData&&r.externalData.length)for(s=0;s<r.externalData.length;++s)x.onnx.StringStringEntryProto.encode(r.externalData[s],a.uint32(106).fork()).ldelim();return null!=r.dataLocation&&Object.hasOwnProperty.call(r,"dataLocation")&&a.uint32(112).int32(r.dataLocation),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TensorProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:if(b.dims&&b.dims.length||(b.dims=[]),2==(7&m))for(var y=r.uint32()+r.pos;r.pos<y;)b.dims.push(r.int64());else b.dims.push(r.int64());break;case 2:b.dataType=r.int32();break;case 3:b.segment=x.onnx.TensorProto.Segment.decode(r,r.uint32());break;case 4:if(b.floatData&&b.floatData.length||(b.floatData=[]),2==(7&m))for(y=r.uint32()+r.pos;r.pos<y;)b.floatData.push(r.float());else b.floatData.push(r.float());break;case 5:if(b.int32Data&&b.int32Data.length||(b.int32Data=[]),2==(7&m))for(y=r.uint32()+r.pos;r.pos<y;)b.int32Data.push(r.int32());else b.int32Data.push(r.int32());break;case 6:b.stringData&&b.stringData.length||(b.stringData=[]),b.stringData.push(r.bytes());break;case 7:if(b.int64Data&&b.int64Data.length||(b.int64Data=[]),2==(7&m))for(y=r.uint32()+r.pos;r.pos<y;)b.int64Data.push(r.int64());else b.int64Data.push(r.int64());break;case 8:b.name=r.string();break;case 12:b.docString=r.string();break;case 9:b.rawData=r.bytes();break;case 13:b.externalData&&b.externalData.length||(b.externalData=[]),b.externalData.push(x.onnx.StringStringEntryProto.decode(r,r.uint32()));break;case 14:b.dataLocation=r.int32();break;case 10:if(b.doubleData&&b.doubleData.length||(b.doubleData=[]),2==(7&m))for(y=r.uint32()+r.pos;r.pos<y;)b.doubleData.push(r.double());else b.doubleData.push(r.double());break;case 11:if(b.uint64Data&&b.uint64Data.length||(b.uint64Data=[]),2==(7&m))for(y=r.uint32()+r.pos;r.pos<y;)b.uint64Data.push(r.uint64());else b.uint64Data.push(r.uint64());break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.dims&&r.hasOwnProperty("dims")){if(!Array.isArray(r.dims))return"dims: array expected";for(var a=0;a<r.dims.length;++a)if(!(T.isInteger(r.dims[a])||r.dims[a]&&T.isInteger(r.dims[a].low)&&T.isInteger(r.dims[a].high)))return"dims: integer|Long[] expected"}if(null!=r.dataType&&r.hasOwnProperty("dataType")&&!T.isInteger(r.dataType))return"dataType: integer expected";if(null!=r.segment&&r.hasOwnProperty("segment")&&(s=x.onnx.TensorProto.Segment.verify(r.segment)))return"segment."+s;if(null!=r.floatData&&r.hasOwnProperty("floatData")){if(!Array.isArray(r.floatData))return"floatData: array expected";for(a=0;a<r.floatData.length;++a)if("number"!=typeof r.floatData[a])return"floatData: number[] expected"}if(null!=r.int32Data&&r.hasOwnProperty("int32Data")){if(!Array.isArray(r.int32Data))return"int32Data: array expected";for(a=0;a<r.int32Data.length;++a)if(!T.isInteger(r.int32Data[a]))return"int32Data: integer[] expected"}if(null!=r.stringData&&r.hasOwnProperty("stringData")){if(!Array.isArray(r.stringData))return"stringData: array expected";for(a=0;a<r.stringData.length;++a)if(!(r.stringData[a]&&"number"==typeof r.stringData[a].length||T.isString(r.stringData[a])))return"stringData: buffer[] expected"}if(null!=r.int64Data&&r.hasOwnProperty("int64Data")){if(!Array.isArray(r.int64Data))return"int64Data: array expected";for(a=0;a<r.int64Data.length;++a)if(!(T.isInteger(r.int64Data[a])||r.int64Data[a]&&T.isInteger(r.int64Data[a].low)&&T.isInteger(r.int64Data[a].high)))return"int64Data: integer|Long[] expected"}if(null!=r.name&&r.hasOwnProperty("name")&&!T.isString(r.name))return"name: string expected";if(null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString))return"docString: string expected";if(null!=r.rawData&&r.hasOwnProperty("rawData")&&!(r.rawData&&"number"==typeof r.rawData.length||T.isString(r.rawData)))return"rawData: buffer expected";if(null!=r.externalData&&r.hasOwnProperty("externalData")){if(!Array.isArray(r.externalData))return"externalData: array expected";for(a=0;a<r.externalData.length;++a){var s;if(s=x.onnx.StringStringEntryProto.verify(r.externalData[a]))return"externalData."+s}}if(null!=r.dataLocation&&r.hasOwnProperty("dataLocation"))switch(r.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=r.doubleData&&r.hasOwnProperty("doubleData")){if(!Array.isArray(r.doubleData))return"doubleData: array expected";for(a=0;a<r.doubleData.length;++a)if("number"!=typeof r.doubleData[a])return"doubleData: number[] expected"}if(null!=r.uint64Data&&r.hasOwnProperty("uint64Data")){if(!Array.isArray(r.uint64Data))return"uint64Data: array expected";for(a=0;a<r.uint64Data.length;++a)if(!(T.isInteger(r.uint64Data[a])||r.uint64Data[a]&&T.isInteger(r.uint64Data[a].low)&&T.isInteger(r.uint64Data[a].high)))return"uint64Data: integer|Long[] expected"}return null},r.fromObject=function(r){if(r instanceof x.onnx.TensorProto)return r;var a=new x.onnx.TensorProto;if(r.dims){if(!Array.isArray(r.dims))throw TypeError(".onnx.TensorProto.dims: array expected");a.dims=[];for(var s=0;s<r.dims.length;++s)T.Long?(a.dims[s]=T.Long.fromValue(r.dims[s])).unsigned=!1:"string"==typeof r.dims[s]?a.dims[s]=parseInt(r.dims[s],10):"number"==typeof r.dims[s]?a.dims[s]=r.dims[s]:"object"==typeof r.dims[s]&&(a.dims[s]=new T.LongBits(r.dims[s].low>>>0,r.dims[s].high>>>0).toNumber())}if(null!=r.dataType&&(a.dataType=0|r.dataType),null!=r.segment){if("object"!=typeof r.segment)throw TypeError(".onnx.TensorProto.segment: object expected");a.segment=x.onnx.TensorProto.Segment.fromObject(r.segment)}if(r.floatData){if(!Array.isArray(r.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(a.floatData=[],s=0;s<r.floatData.length;++s)a.floatData[s]=Number(r.floatData[s])}if(r.int32Data){if(!Array.isArray(r.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(a.int32Data=[],s=0;s<r.int32Data.length;++s)a.int32Data[s]=0|r.int32Data[s]}if(r.stringData){if(!Array.isArray(r.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(a.stringData=[],s=0;s<r.stringData.length;++s)"string"==typeof r.stringData[s]?T.base64.decode(r.stringData[s],a.stringData[s]=T.newBuffer(T.base64.length(r.stringData[s])),0):r.stringData[s].length>=0&&(a.stringData[s]=r.stringData[s])}if(r.int64Data){if(!Array.isArray(r.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(a.int64Data=[],s=0;s<r.int64Data.length;++s)T.Long?(a.int64Data[s]=T.Long.fromValue(r.int64Data[s])).unsigned=!1:"string"==typeof r.int64Data[s]?a.int64Data[s]=parseInt(r.int64Data[s],10):"number"==typeof r.int64Data[s]?a.int64Data[s]=r.int64Data[s]:"object"==typeof r.int64Data[s]&&(a.int64Data[s]=new T.LongBits(r.int64Data[s].low>>>0,r.int64Data[s].high>>>0).toNumber())}if(null!=r.name&&(a.name=String(r.name)),null!=r.docString&&(a.docString=String(r.docString)),null!=r.rawData&&("string"==typeof r.rawData?T.base64.decode(r.rawData,a.rawData=T.newBuffer(T.base64.length(r.rawData)),0):r.rawData.length>=0&&(a.rawData=r.rawData)),r.externalData){if(!Array.isArray(r.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(a.externalData=[],s=0;s<r.externalData.length;++s){if("object"!=typeof r.externalData[s])throw TypeError(".onnx.TensorProto.externalData: object expected");a.externalData[s]=x.onnx.StringStringEntryProto.fromObject(r.externalData[s])}}switch(r.dataLocation){default:if("number"==typeof r.dataLocation){a.dataLocation=r.dataLocation;break}break;case"DEFAULT":case 0:a.dataLocation=0;break;case"EXTERNAL":case 1:a.dataLocation=1}if(r.doubleData){if(!Array.isArray(r.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(a.doubleData=[],s=0;s<r.doubleData.length;++s)a.doubleData[s]=Number(r.doubleData[s])}if(r.uint64Data){if(!Array.isArray(r.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(a.uint64Data=[],s=0;s<r.uint64Data.length;++s)T.Long?(a.uint64Data[s]=T.Long.fromValue(r.uint64Data[s])).unsigned=!0:"string"==typeof r.uint64Data[s]?a.uint64Data[s]=parseInt(r.uint64Data[s],10):"number"==typeof r.uint64Data[s]?a.uint64Data[s]=r.uint64Data[s]:"object"==typeof r.uint64Data[s]&&(a.uint64Data[s]=new T.LongBits(r.uint64Data[s].low>>>0,r.uint64Data[s].high>>>0).toNumber(!0))}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.dims=[],s.floatData=[],s.int32Data=[],s.stringData=[],s.int64Data=[],s.doubleData=[],s.uint64Data=[],s.externalData=[]),a.defaults&&(s.dataType=0,s.segment=null,s.name="",a.bytes===String?s.rawData="":(s.rawData=[],a.bytes!==Array&&(s.rawData=T.newBuffer(s.rawData))),s.docString="",s.dataLocation=a.enums===String?"DEFAULT":0),r.dims&&r.dims.length){s.dims=[];for(var b=0;b<r.dims.length;++b)"number"==typeof r.dims[b]?s.dims[b]=a.longs===String?String(r.dims[b]):r.dims[b]:s.dims[b]=a.longs===String?T.Long.prototype.toString.call(r.dims[b]):a.longs===Number?new T.LongBits(r.dims[b].low>>>0,r.dims[b].high>>>0).toNumber():r.dims[b]}if(null!=r.dataType&&r.hasOwnProperty("dataType")&&(s.dataType=r.dataType),null!=r.segment&&r.hasOwnProperty("segment")&&(s.segment=x.onnx.TensorProto.Segment.toObject(r.segment,a)),r.floatData&&r.floatData.length)for(s.floatData=[],b=0;b<r.floatData.length;++b)s.floatData[b]=a.json&&!isFinite(r.floatData[b])?String(r.floatData[b]):r.floatData[b];if(r.int32Data&&r.int32Data.length)for(s.int32Data=[],b=0;b<r.int32Data.length;++b)s.int32Data[b]=r.int32Data[b];if(r.stringData&&r.stringData.length)for(s.stringData=[],b=0;b<r.stringData.length;++b)s.stringData[b]=a.bytes===String?T.base64.encode(r.stringData[b],0,r.stringData[b].length):a.bytes===Array?Array.prototype.slice.call(r.stringData[b]):r.stringData[b];if(r.int64Data&&r.int64Data.length)for(s.int64Data=[],b=0;b<r.int64Data.length;++b)"number"==typeof r.int64Data[b]?s.int64Data[b]=a.longs===String?String(r.int64Data[b]):r.int64Data[b]:s.int64Data[b]=a.longs===String?T.Long.prototype.toString.call(r.int64Data[b]):a.longs===Number?new T.LongBits(r.int64Data[b].low>>>0,r.int64Data[b].high>>>0).toNumber():r.int64Data[b];if(null!=r.name&&r.hasOwnProperty("name")&&(s.name=r.name),null!=r.rawData&&r.hasOwnProperty("rawData")&&(s.rawData=a.bytes===String?T.base64.encode(r.rawData,0,r.rawData.length):a.bytes===Array?Array.prototype.slice.call(r.rawData):r.rawData),r.doubleData&&r.doubleData.length)for(s.doubleData=[],b=0;b<r.doubleData.length;++b)s.doubleData[b]=a.json&&!isFinite(r.doubleData[b])?String(r.doubleData[b]):r.doubleData[b];if(r.uint64Data&&r.uint64Data.length)for(s.uint64Data=[],b=0;b<r.uint64Data.length;++b)"number"==typeof r.uint64Data[b]?s.uint64Data[b]=a.longs===String?String(r.uint64Data[b]):r.uint64Data[b]:s.uint64Data[b]=a.longs===String?T.Long.prototype.toString.call(r.uint64Data[b]):a.longs===Number?new T.LongBits(r.uint64Data[b].low>>>0,r.uint64Data[b].high>>>0).toNumber(!0):r.uint64Data[b];if(null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),r.externalData&&r.externalData.length)for(s.externalData=[],b=0;b<r.externalData.length;++b)s.externalData[b]=x.onnx.StringStringEntryProto.toObject(r.externalData[b],a);return null!=r.dataLocation&&r.hasOwnProperty("dataLocation")&&(s.dataLocation=a.enums===String?void 0===x.onnx.TensorProto.DataLocation[r.dataLocation]?r.dataLocation:x.onnx.TensorProto.DataLocation[r.dataLocation]:r.dataLocation),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TensorProto"},r.DataType=function(){var r={},a=Object.create(r);return a[r[0]="UNDEFINED"]=0,a[r[1]="FLOAT"]=1,a[r[2]="UINT8"]=2,a[r[3]="INT8"]=3,a[r[4]="UINT16"]=4,a[r[5]="INT16"]=5,a[r[6]="INT32"]=6,a[r[7]="INT64"]=7,a[r[8]="STRING"]=8,a[r[9]="BOOL"]=9,a[r[10]="FLOAT16"]=10,a[r[11]="DOUBLE"]=11,a[r[12]="UINT32"]=12,a[r[13]="UINT64"]=13,a[r[14]="COMPLEX64"]=14,a[r[15]="COMPLEX128"]=15,a[r[16]="BFLOAT16"]=16,a[r[17]="FLOAT8E4M3FN"]=17,a[r[18]="FLOAT8E4M3FNUZ"]=18,a[r[19]="FLOAT8E5M2"]=19,a[r[20]="FLOAT8E5M2FNUZ"]=20,a}(),r.Segment=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.begin=T.Long?T.Long.fromBits(0,0,!1):0,r.prototype.end=T.Long?T.Long.fromBits(0,0,!1):0,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.begin&&Object.hasOwnProperty.call(r,"begin")&&a.uint32(8).int64(r.begin),null!=r.end&&Object.hasOwnProperty.call(r,"end")&&a.uint32(16).int64(r.end),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TensorProto.Segment;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.begin=r.int64();break;case 2:b.end=r.int64();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){return"object"!=typeof r||null===r?"object expected":null!=r.begin&&r.hasOwnProperty("begin")&&!(T.isInteger(r.begin)||r.begin&&T.isInteger(r.begin.low)&&T.isInteger(r.begin.high))?"begin: integer|Long expected":null!=r.end&&r.hasOwnProperty("end")&&!(T.isInteger(r.end)||r.end&&T.isInteger(r.end.low)&&T.isInteger(r.end.high))?"end: integer|Long expected":null},r.fromObject=function(r){if(r instanceof x.onnx.TensorProto.Segment)return r;var a=new x.onnx.TensorProto.Segment;return null!=r.begin&&(T.Long?(a.begin=T.Long.fromValue(r.begin)).unsigned=!1:"string"==typeof r.begin?a.begin=parseInt(r.begin,10):"number"==typeof r.begin?a.begin=r.begin:"object"==typeof r.begin&&(a.begin=new T.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber())),null!=r.end&&(T.Long?(a.end=T.Long.fromValue(r.end)).unsigned=!1:"string"==typeof r.end?a.end=parseInt(r.end,10):"number"==typeof r.end?a.end=r.end:"object"==typeof r.end&&(a.end=new T.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber())),a},r.toObject=function(r,a){a||(a={});var s={};if(a.defaults){if(T.Long){var b=new T.Long(0,0,!1);s.begin=a.longs===String?b.toString():a.longs===Number?b.toNumber():b}else s.begin=a.longs===String?"0":0;T.Long?(b=new T.Long(0,0,!1),s.end=a.longs===String?b.toString():a.longs===Number?b.toNumber():b):s.end=a.longs===String?"0":0}return null!=r.begin&&r.hasOwnProperty("begin")&&("number"==typeof r.begin?s.begin=a.longs===String?String(r.begin):r.begin:s.begin=a.longs===String?T.Long.prototype.toString.call(r.begin):a.longs===Number?new T.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber():r.begin),null!=r.end&&r.hasOwnProperty("end")&&("number"==typeof r.end?s.end=a.longs===String?String(r.end):r.end:s.end=a.longs===String?T.Long.prototype.toString.call(r.end):a.longs===Number?new T.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber():r.end),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TensorProto.Segment"},r}(),r.DataLocation=function(){var r={},a=Object.create(r);return a[r[0]="DEFAULT"]=0,a[r[1]="EXTERNAL"]=1,a}(),r}(),y.SparseTensorProto=function(){function r(r){if(this.dims=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.values=null,r.prototype.indices=null,r.prototype.dims=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.values&&Object.hasOwnProperty.call(r,"values")&&x.onnx.TensorProto.encode(r.values,a.uint32(10).fork()).ldelim(),null!=r.indices&&Object.hasOwnProperty.call(r,"indices")&&x.onnx.TensorProto.encode(r.indices,a.uint32(18).fork()).ldelim(),null!=r.dims&&r.dims.length){a.uint32(26).fork();for(var s=0;s<r.dims.length;++s)a.int64(r.dims[s]);a.ldelim()}return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.SparseTensorProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.values=x.onnx.TensorProto.decode(r,r.uint32());break;case 2:b.indices=x.onnx.TensorProto.decode(r,r.uint32());break;case 3:if(b.dims&&b.dims.length||(b.dims=[]),2==(7&m))for(var y=r.uint32()+r.pos;r.pos<y;)b.dims.push(r.int64());else b.dims.push(r.int64());break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";var a;if(null!=r.values&&r.hasOwnProperty("values")&&(a=x.onnx.TensorProto.verify(r.values)))return"values."+a;if(null!=r.indices&&r.hasOwnProperty("indices")&&(a=x.onnx.TensorProto.verify(r.indices)))return"indices."+a;if(null!=r.dims&&r.hasOwnProperty("dims")){if(!Array.isArray(r.dims))return"dims: array expected";for(var s=0;s<r.dims.length;++s)if(!(T.isInteger(r.dims[s])||r.dims[s]&&T.isInteger(r.dims[s].low)&&T.isInteger(r.dims[s].high)))return"dims: integer|Long[] expected"}return null},r.fromObject=function(r){if(r instanceof x.onnx.SparseTensorProto)return r;var a=new x.onnx.SparseTensorProto;if(null!=r.values){if("object"!=typeof r.values)throw TypeError(".onnx.SparseTensorProto.values: object expected");a.values=x.onnx.TensorProto.fromObject(r.values)}if(null!=r.indices){if("object"!=typeof r.indices)throw TypeError(".onnx.SparseTensorProto.indices: object expected");a.indices=x.onnx.TensorProto.fromObject(r.indices)}if(r.dims){if(!Array.isArray(r.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");a.dims=[];for(var s=0;s<r.dims.length;++s)T.Long?(a.dims[s]=T.Long.fromValue(r.dims[s])).unsigned=!1:"string"==typeof r.dims[s]?a.dims[s]=parseInt(r.dims[s],10):"number"==typeof r.dims[s]?a.dims[s]=r.dims[s]:"object"==typeof r.dims[s]&&(a.dims[s]=new T.LongBits(r.dims[s].low>>>0,r.dims[s].high>>>0).toNumber())}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.dims=[]),a.defaults&&(s.values=null,s.indices=null),null!=r.values&&r.hasOwnProperty("values")&&(s.values=x.onnx.TensorProto.toObject(r.values,a)),null!=r.indices&&r.hasOwnProperty("indices")&&(s.indices=x.onnx.TensorProto.toObject(r.indices,a)),r.dims&&r.dims.length){s.dims=[];for(var b=0;b<r.dims.length;++b)"number"==typeof r.dims[b]?s.dims[b]=a.longs===String?String(r.dims[b]):r.dims[b]:s.dims[b]=a.longs===String?T.Long.prototype.toString.call(r.dims[b]):a.longs===Number?new T.LongBits(r.dims[b].low>>>0,r.dims[b].high>>>0).toNumber():r.dims[b]}return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.SparseTensorProto"},r}(),y.TensorShapeProto=function(){function r(r){if(this.dim=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.dim=T.emptyArray,r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.dim&&r.dim.length)for(var s=0;s<r.dim.length;++s)x.onnx.TensorShapeProto.Dimension.encode(r.dim[s],a.uint32(10).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TensorShapeProto;r.pos<s;){var m=r.uint32();m>>>3==1?(b.dim&&b.dim.length||(b.dim=[]),b.dim.push(x.onnx.TensorShapeProto.Dimension.decode(r,r.uint32()))):r.skipType(7&m)}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.dim&&r.hasOwnProperty("dim")){if(!Array.isArray(r.dim))return"dim: array expected";for(var a=0;a<r.dim.length;++a){var s=x.onnx.TensorShapeProto.Dimension.verify(r.dim[a]);if(s)return"dim."+s}}return null},r.fromObject=function(r){if(r instanceof x.onnx.TensorShapeProto)return r;var a=new x.onnx.TensorShapeProto;if(r.dim){if(!Array.isArray(r.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");a.dim=[];for(var s=0;s<r.dim.length;++s){if("object"!=typeof r.dim[s])throw TypeError(".onnx.TensorShapeProto.dim: object expected");a.dim[s]=x.onnx.TensorShapeProto.Dimension.fromObject(r.dim[s])}}return a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.dim=[]),r.dim&&r.dim.length){s.dim=[];for(var b=0;b<r.dim.length;++b)s.dim[b]=x.onnx.TensorShapeProto.Dimension.toObject(r.dim[b],a)}return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TensorShapeProto"},r.Dimension=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}var a;return r.prototype.dimValue=null,r.prototype.dimParam=null,r.prototype.denotation="",Object.defineProperty(r.prototype,"value",{get:T.oneOfGetter(a=["dimValue","dimParam"]),set:T.oneOfSetter(a)}),r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.dimValue&&Object.hasOwnProperty.call(r,"dimValue")&&a.uint32(8).int64(r.dimValue),null!=r.dimParam&&Object.hasOwnProperty.call(r,"dimParam")&&a.uint32(18).string(r.dimParam),null!=r.denotation&&Object.hasOwnProperty.call(r,"denotation")&&a.uint32(26).string(r.denotation),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TensorShapeProto.Dimension;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.dimValue=r.int64();break;case 2:b.dimParam=r.string();break;case 3:b.denotation=r.string();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";var a={};if(null!=r.dimValue&&r.hasOwnProperty("dimValue")&&(a.value=1,!(T.isInteger(r.dimValue)||r.dimValue&&T.isInteger(r.dimValue.low)&&T.isInteger(r.dimValue.high))))return"dimValue: integer|Long expected";if(null!=r.dimParam&&r.hasOwnProperty("dimParam")){if(1===a.value)return"value: multiple values";if(a.value=1,!T.isString(r.dimParam))return"dimParam: string expected"}return null!=r.denotation&&r.hasOwnProperty("denotation")&&!T.isString(r.denotation)?"denotation: string expected":null},r.fromObject=function(r){if(r instanceof x.onnx.TensorShapeProto.Dimension)return r;var a=new x.onnx.TensorShapeProto.Dimension;return null!=r.dimValue&&(T.Long?(a.dimValue=T.Long.fromValue(r.dimValue)).unsigned=!1:"string"==typeof r.dimValue?a.dimValue=parseInt(r.dimValue,10):"number"==typeof r.dimValue?a.dimValue=r.dimValue:"object"==typeof r.dimValue&&(a.dimValue=new T.LongBits(r.dimValue.low>>>0,r.dimValue.high>>>0).toNumber())),null!=r.dimParam&&(a.dimParam=String(r.dimParam)),null!=r.denotation&&(a.denotation=String(r.denotation)),a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.denotation=""),null!=r.dimValue&&r.hasOwnProperty("dimValue")&&("number"==typeof r.dimValue?s.dimValue=a.longs===String?String(r.dimValue):r.dimValue:s.dimValue=a.longs===String?T.Long.prototype.toString.call(r.dimValue):a.longs===Number?new T.LongBits(r.dimValue.low>>>0,r.dimValue.high>>>0).toNumber():r.dimValue,a.oneofs&&(s.value="dimValue")),null!=r.dimParam&&r.hasOwnProperty("dimParam")&&(s.dimParam=r.dimParam,a.oneofs&&(s.value="dimParam")),null!=r.denotation&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TensorShapeProto.Dimension"},r}(),r}(),y.TypeProto=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}var a;return r.prototype.tensorType=null,r.prototype.sequenceType=null,r.prototype.mapType=null,r.prototype.optionalType=null,r.prototype.sparseTensorType=null,r.prototype.denotation="",Object.defineProperty(r.prototype,"value",{get:T.oneOfGetter(a=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:T.oneOfSetter(a)}),r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.tensorType&&Object.hasOwnProperty.call(r,"tensorType")&&x.onnx.TypeProto.Tensor.encode(r.tensorType,a.uint32(10).fork()).ldelim(),null!=r.sequenceType&&Object.hasOwnProperty.call(r,"sequenceType")&&x.onnx.TypeProto.Sequence.encode(r.sequenceType,a.uint32(34).fork()).ldelim(),null!=r.mapType&&Object.hasOwnProperty.call(r,"mapType")&&x.onnx.TypeProto.Map.encode(r.mapType,a.uint32(42).fork()).ldelim(),null!=r.denotation&&Object.hasOwnProperty.call(r,"denotation")&&a.uint32(50).string(r.denotation),null!=r.sparseTensorType&&Object.hasOwnProperty.call(r,"sparseTensorType")&&x.onnx.TypeProto.SparseTensor.encode(r.sparseTensorType,a.uint32(66).fork()).ldelim(),null!=r.optionalType&&Object.hasOwnProperty.call(r,"optionalType")&&x.onnx.TypeProto.Optional.encode(r.optionalType,a.uint32(74).fork()).ldelim(),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TypeProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.tensorType=x.onnx.TypeProto.Tensor.decode(r,r.uint32());break;case 4:b.sequenceType=x.onnx.TypeProto.Sequence.decode(r,r.uint32());break;case 5:b.mapType=x.onnx.TypeProto.Map.decode(r,r.uint32());break;case 9:b.optionalType=x.onnx.TypeProto.Optional.decode(r,r.uint32());break;case 8:b.sparseTensorType=x.onnx.TypeProto.SparseTensor.decode(r,r.uint32());break;case 6:b.denotation=r.string();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";var a={};if(null!=r.tensorType&&r.hasOwnProperty("tensorType")&&(a.value=1,s=x.onnx.TypeProto.Tensor.verify(r.tensorType)))return"tensorType."+s;if(null!=r.sequenceType&&r.hasOwnProperty("sequenceType")){if(1===a.value)return"value: multiple values";if(a.value=1,s=x.onnx.TypeProto.Sequence.verify(r.sequenceType))return"sequenceType."+s}if(null!=r.mapType&&r.hasOwnProperty("mapType")){if(1===a.value)return"value: multiple values";if(a.value=1,s=x.onnx.TypeProto.Map.verify(r.mapType))return"mapType."+s}if(null!=r.optionalType&&r.hasOwnProperty("optionalType")){if(1===a.value)return"value: multiple values";if(a.value=1,s=x.onnx.TypeProto.Optional.verify(r.optionalType))return"optionalType."+s}if(null!=r.sparseTensorType&&r.hasOwnProperty("sparseTensorType")){if(1===a.value)return"value: multiple values";var s;if(a.value=1,s=x.onnx.TypeProto.SparseTensor.verify(r.sparseTensorType))return"sparseTensorType."+s}return null!=r.denotation&&r.hasOwnProperty("denotation")&&!T.isString(r.denotation)?"denotation: string expected":null},r.fromObject=function(r){if(r instanceof x.onnx.TypeProto)return r;var a=new x.onnx.TypeProto;if(null!=r.tensorType){if("object"!=typeof r.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");a.tensorType=x.onnx.TypeProto.Tensor.fromObject(r.tensorType)}if(null!=r.sequenceType){if("object"!=typeof r.sequenceType)throw TypeError(".onnx.TypeProto.sequenceType: object expected");a.sequenceType=x.onnx.TypeProto.Sequence.fromObject(r.sequenceType)}if(null!=r.mapType){if("object"!=typeof r.mapType)throw TypeError(".onnx.TypeProto.mapType: object expected");a.mapType=x.onnx.TypeProto.Map.fromObject(r.mapType)}if(null!=r.optionalType){if("object"!=typeof r.optionalType)throw TypeError(".onnx.TypeProto.optionalType: object expected");a.optionalType=x.onnx.TypeProto.Optional.fromObject(r.optionalType)}if(null!=r.sparseTensorType){if("object"!=typeof r.sparseTensorType)throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");a.sparseTensorType=x.onnx.TypeProto.SparseTensor.fromObject(r.sparseTensorType)}return null!=r.denotation&&(a.denotation=String(r.denotation)),a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.denotation=""),null!=r.tensorType&&r.hasOwnProperty("tensorType")&&(s.tensorType=x.onnx.TypeProto.Tensor.toObject(r.tensorType,a),a.oneofs&&(s.value="tensorType")),null!=r.sequenceType&&r.hasOwnProperty("sequenceType")&&(s.sequenceType=x.onnx.TypeProto.Sequence.toObject(r.sequenceType,a),a.oneofs&&(s.value="sequenceType")),null!=r.mapType&&r.hasOwnProperty("mapType")&&(s.mapType=x.onnx.TypeProto.Map.toObject(r.mapType,a),a.oneofs&&(s.value="mapType")),null!=r.denotation&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),null!=r.sparseTensorType&&r.hasOwnProperty("sparseTensorType")&&(s.sparseTensorType=x.onnx.TypeProto.SparseTensor.toObject(r.sparseTensorType,a),a.oneofs&&(s.value="sparseTensorType")),null!=r.optionalType&&r.hasOwnProperty("optionalType")&&(s.optionalType=x.onnx.TypeProto.Optional.toObject(r.optionalType,a),a.oneofs&&(s.value="optionalType")),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TypeProto"},r.Tensor=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.elemType=0,r.prototype.shape=null,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.elemType&&Object.hasOwnProperty.call(r,"elemType")&&a.uint32(8).int32(r.elemType),null!=r.shape&&Object.hasOwnProperty.call(r,"shape")&&x.onnx.TensorShapeProto.encode(r.shape,a.uint32(18).fork()).ldelim(),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TypeProto.Tensor;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.elemType=r.int32();break;case 2:b.shape=x.onnx.TensorShapeProto.decode(r,r.uint32());break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.elemType&&r.hasOwnProperty("elemType")&&!T.isInteger(r.elemType))return"elemType: integer expected";if(null!=r.shape&&r.hasOwnProperty("shape")){var a=x.onnx.TensorShapeProto.verify(r.shape);if(a)return"shape."+a}return null},r.fromObject=function(r){if(r instanceof x.onnx.TypeProto.Tensor)return r;var a=new x.onnx.TypeProto.Tensor;if(null!=r.elemType&&(a.elemType=0|r.elemType),null!=r.shape){if("object"!=typeof r.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");a.shape=x.onnx.TensorShapeProto.fromObject(r.shape)}return a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.elemType=0,s.shape=null),null!=r.elemType&&r.hasOwnProperty("elemType")&&(s.elemType=r.elemType),null!=r.shape&&r.hasOwnProperty("shape")&&(s.shape=x.onnx.TensorShapeProto.toObject(r.shape,a)),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Tensor"},r}(),r.Sequence=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.elemType=null,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.elemType&&Object.hasOwnProperty.call(r,"elemType")&&x.onnx.TypeProto.encode(r.elemType,a.uint32(10).fork()).ldelim(),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TypeProto.Sequence;r.pos<s;){var m=r.uint32();m>>>3==1?b.elemType=x.onnx.TypeProto.decode(r,r.uint32()):r.skipType(7&m)}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.elemType&&r.hasOwnProperty("elemType")){var a=x.onnx.TypeProto.verify(r.elemType);if(a)return"elemType."+a}return null},r.fromObject=function(r){if(r instanceof x.onnx.TypeProto.Sequence)return r;var a=new x.onnx.TypeProto.Sequence;if(null!=r.elemType){if("object"!=typeof r.elemType)throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");a.elemType=x.onnx.TypeProto.fromObject(r.elemType)}return a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.elemType=null),null!=r.elemType&&r.hasOwnProperty("elemType")&&(s.elemType=x.onnx.TypeProto.toObject(r.elemType,a)),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Sequence"},r}(),r.Map=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.keyType=0,r.prototype.valueType=null,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.keyType&&Object.hasOwnProperty.call(r,"keyType")&&a.uint32(8).int32(r.keyType),null!=r.valueType&&Object.hasOwnProperty.call(r,"valueType")&&x.onnx.TypeProto.encode(r.valueType,a.uint32(18).fork()).ldelim(),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TypeProto.Map;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.keyType=r.int32();break;case 2:b.valueType=x.onnx.TypeProto.decode(r,r.uint32());break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.keyType&&r.hasOwnProperty("keyType")&&!T.isInteger(r.keyType))return"keyType: integer expected";if(null!=r.valueType&&r.hasOwnProperty("valueType")){var a=x.onnx.TypeProto.verify(r.valueType);if(a)return"valueType."+a}return null},r.fromObject=function(r){if(r instanceof x.onnx.TypeProto.Map)return r;var a=new x.onnx.TypeProto.Map;if(null!=r.keyType&&(a.keyType=0|r.keyType),null!=r.valueType){if("object"!=typeof r.valueType)throw TypeError(".onnx.TypeProto.Map.valueType: object expected");a.valueType=x.onnx.TypeProto.fromObject(r.valueType)}return a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.keyType=0,s.valueType=null),null!=r.keyType&&r.hasOwnProperty("keyType")&&(s.keyType=r.keyType),null!=r.valueType&&r.hasOwnProperty("valueType")&&(s.valueType=x.onnx.TypeProto.toObject(r.valueType,a)),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Map"},r}(),r.Optional=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.elemType=null,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.elemType&&Object.hasOwnProperty.call(r,"elemType")&&x.onnx.TypeProto.encode(r.elemType,a.uint32(10).fork()).ldelim(),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TypeProto.Optional;r.pos<s;){var m=r.uint32();m>>>3==1?b.elemType=x.onnx.TypeProto.decode(r,r.uint32()):r.skipType(7&m)}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.elemType&&r.hasOwnProperty("elemType")){var a=x.onnx.TypeProto.verify(r.elemType);if(a)return"elemType."+a}return null},r.fromObject=function(r){if(r instanceof x.onnx.TypeProto.Optional)return r;var a=new x.onnx.TypeProto.Optional;if(null!=r.elemType){if("object"!=typeof r.elemType)throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");a.elemType=x.onnx.TypeProto.fromObject(r.elemType)}return a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.elemType=null),null!=r.elemType&&r.hasOwnProperty("elemType")&&(s.elemType=x.onnx.TypeProto.toObject(r.elemType,a)),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Optional"},r}(),r.SparseTensor=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.elemType=0,r.prototype.shape=null,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.elemType&&Object.hasOwnProperty.call(r,"elemType")&&a.uint32(8).int32(r.elemType),null!=r.shape&&Object.hasOwnProperty.call(r,"shape")&&x.onnx.TensorShapeProto.encode(r.shape,a.uint32(18).fork()).ldelim(),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.TypeProto.SparseTensor;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.elemType=r.int32();break;case 2:b.shape=x.onnx.TensorShapeProto.decode(r,r.uint32());break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.elemType&&r.hasOwnProperty("elemType")&&!T.isInteger(r.elemType))return"elemType: integer expected";if(null!=r.shape&&r.hasOwnProperty("shape")){var a=x.onnx.TensorShapeProto.verify(r.shape);if(a)return"shape."+a}return null},r.fromObject=function(r){if(r instanceof x.onnx.TypeProto.SparseTensor)return r;var a=new x.onnx.TypeProto.SparseTensor;if(null!=r.elemType&&(a.elemType=0|r.elemType),null!=r.shape){if("object"!=typeof r.shape)throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");a.shape=x.onnx.TensorShapeProto.fromObject(r.shape)}return a},r.toObject=function(r,a){a||(a={});var s={};return a.defaults&&(s.elemType=0,s.shape=null),null!=r.elemType&&r.hasOwnProperty("elemType")&&(s.elemType=r.elemType),null!=r.shape&&r.hasOwnProperty("shape")&&(s.shape=x.onnx.TensorShapeProto.toObject(r.shape,a)),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.TypeProto.SparseTensor"},r}(),r}(),y.OperatorSetIdProto=function(){function r(r){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.domain="",r.prototype.version=T.Long?T.Long.fromBits(0,0,!1):0,r.create=function(a){return new r(a)},r.encode=function(r,a){return a||(a=_.create()),null!=r.domain&&Object.hasOwnProperty.call(r,"domain")&&a.uint32(10).string(r.domain),null!=r.version&&Object.hasOwnProperty.call(r,"version")&&a.uint32(16).int64(r.version),a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.OperatorSetIdProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.domain=r.string();break;case 2:b.version=r.int64();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){return"object"!=typeof r||null===r?"object expected":null!=r.domain&&r.hasOwnProperty("domain")&&!T.isString(r.domain)?"domain: string expected":null!=r.version&&r.hasOwnProperty("version")&&!(T.isInteger(r.version)||r.version&&T.isInteger(r.version.low)&&T.isInteger(r.version.high))?"version: integer|Long expected":null},r.fromObject=function(r){if(r instanceof x.onnx.OperatorSetIdProto)return r;var a=new x.onnx.OperatorSetIdProto;return null!=r.domain&&(a.domain=String(r.domain)),null!=r.version&&(T.Long?(a.version=T.Long.fromValue(r.version)).unsigned=!1:"string"==typeof r.version?a.version=parseInt(r.version,10):"number"==typeof r.version?a.version=r.version:"object"==typeof r.version&&(a.version=new T.LongBits(r.version.low>>>0,r.version.high>>>0).toNumber())),a},r.toObject=function(r,a){a||(a={});var s={};if(a.defaults)if(s.domain="",T.Long){var b=new T.Long(0,0,!1);s.version=a.longs===String?b.toString():a.longs===Number?b.toNumber():b}else s.version=a.longs===String?"0":0;return null!=r.domain&&r.hasOwnProperty("domain")&&(s.domain=r.domain),null!=r.version&&r.hasOwnProperty("version")&&("number"==typeof r.version?s.version=a.longs===String?String(r.version):r.version:s.version=a.longs===String?T.Long.prototype.toString.call(r.version):a.longs===Number?new T.LongBits(r.version.low>>>0,r.version.high>>>0).toNumber():r.version),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.OperatorSetIdProto"},r}(),y.OperatorStatus=function(){var r={},a=Object.create(r);return a[r[0]="EXPERIMENTAL"]=0,a[r[1]="STABLE"]=1,a}(),y.FunctionProto=function(){function r(r){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],r)for(var a=Object.keys(r),s=0;s<a.length;++s)null!=r[a[s]]&&(this[a[s]]=r[a[s]])}return r.prototype.name="",r.prototype.input=T.emptyArray,r.prototype.output=T.emptyArray,r.prototype.attribute=T.emptyArray,r.prototype.attributeProto=T.emptyArray,r.prototype.node=T.emptyArray,r.prototype.docString="",r.prototype.opsetImport=T.emptyArray,r.prototype.domain="",r.create=function(a){return new r(a)},r.encode=function(r,a){if(a||(a=_.create()),null!=r.name&&Object.hasOwnProperty.call(r,"name")&&a.uint32(10).string(r.name),null!=r.input&&r.input.length)for(var s=0;s<r.input.length;++s)a.uint32(34).string(r.input[s]);if(null!=r.output&&r.output.length)for(s=0;s<r.output.length;++s)a.uint32(42).string(r.output[s]);if(null!=r.attribute&&r.attribute.length)for(s=0;s<r.attribute.length;++s)a.uint32(50).string(r.attribute[s]);if(null!=r.node&&r.node.length)for(s=0;s<r.node.length;++s)x.onnx.NodeProto.encode(r.node[s],a.uint32(58).fork()).ldelim();if(null!=r.docString&&Object.hasOwnProperty.call(r,"docString")&&a.uint32(66).string(r.docString),null!=r.opsetImport&&r.opsetImport.length)for(s=0;s<r.opsetImport.length;++s)x.onnx.OperatorSetIdProto.encode(r.opsetImport[s],a.uint32(74).fork()).ldelim();if(null!=r.domain&&Object.hasOwnProperty.call(r,"domain")&&a.uint32(82).string(r.domain),null!=r.attributeProto&&r.attributeProto.length)for(s=0;s<r.attributeProto.length;++s)x.onnx.AttributeProto.encode(r.attributeProto[s],a.uint32(90).fork()).ldelim();return a},r.encodeDelimited=function(r,a){return this.encode(r,a).ldelim()},r.decode=function(r,a){r instanceof w||(r=w.create(r));for(var s=void 0===a?r.len:r.pos+a,b=new x.onnx.FunctionProto;r.pos<s;){var m=r.uint32();switch(m>>>3){case 1:b.name=r.string();break;case 4:b.input&&b.input.length||(b.input=[]),b.input.push(r.string());break;case 5:b.output&&b.output.length||(b.output=[]),b.output.push(r.string());break;case 6:b.attribute&&b.attribute.length||(b.attribute=[]),b.attribute.push(r.string());break;case 11:b.attributeProto&&b.attributeProto.length||(b.attributeProto=[]),b.attributeProto.push(x.onnx.AttributeProto.decode(r,r.uint32()));break;case 7:b.node&&b.node.length||(b.node=[]),b.node.push(x.onnx.NodeProto.decode(r,r.uint32()));break;case 8:b.docString=r.string();break;case 9:b.opsetImport&&b.opsetImport.length||(b.opsetImport=[]),b.opsetImport.push(x.onnx.OperatorSetIdProto.decode(r,r.uint32()));break;case 10:b.domain=r.string();break;default:r.skipType(7&m)}}return b},r.decodeDelimited=function(r){return r instanceof w||(r=new w(r)),this.decode(r,r.uint32())},r.verify=function(r){if("object"!=typeof r||null===r)return"object expected";if(null!=r.name&&r.hasOwnProperty("name")&&!T.isString(r.name))return"name: string expected";if(null!=r.input&&r.hasOwnProperty("input")){if(!Array.isArray(r.input))return"input: array expected";for(var a=0;a<r.input.length;++a)if(!T.isString(r.input[a]))return"input: string[] expected"}if(null!=r.output&&r.hasOwnProperty("output")){if(!Array.isArray(r.output))return"output: array expected";for(a=0;a<r.output.length;++a)if(!T.isString(r.output[a]))return"output: string[] expected"}if(null!=r.attribute&&r.hasOwnProperty("attribute")){if(!Array.isArray(r.attribute))return"attribute: array expected";for(a=0;a<r.attribute.length;++a)if(!T.isString(r.attribute[a]))return"attribute: string[] expected"}if(null!=r.attributeProto&&r.hasOwnProperty("attributeProto")){if(!Array.isArray(r.attributeProto))return"attributeProto: array expected";for(a=0;a<r.attributeProto.length;++a)if(s=x.onnx.AttributeProto.verify(r.attributeProto[a]))return"attributeProto."+s}if(null!=r.node&&r.hasOwnProperty("node")){if(!Array.isArray(r.node))return"node: array expected";for(a=0;a<r.node.length;++a)if(s=x.onnx.NodeProto.verify(r.node[a]))return"node."+s}if(null!=r.docString&&r.hasOwnProperty("docString")&&!T.isString(r.docString))return"docString: string expected";if(null!=r.opsetImport&&r.hasOwnProperty("opsetImport")){if(!Array.isArray(r.opsetImport))return"opsetImport: array expected";for(a=0;a<r.opsetImport.length;++a){var s;if(s=x.onnx.OperatorSetIdProto.verify(r.opsetImport[a]))return"opsetImport."+s}}return null!=r.domain&&r.hasOwnProperty("domain")&&!T.isString(r.domain)?"domain: string expected":null},r.fromObject=function(r){if(r instanceof x.onnx.FunctionProto)return r;var a=new x.onnx.FunctionProto;if(null!=r.name&&(a.name=String(r.name)),r.input){if(!Array.isArray(r.input))throw TypeError(".onnx.FunctionProto.input: array expected");a.input=[];for(var s=0;s<r.input.length;++s)a.input[s]=String(r.input[s])}if(r.output){if(!Array.isArray(r.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(a.output=[],s=0;s<r.output.length;++s)a.output[s]=String(r.output[s])}if(r.attribute){if(!Array.isArray(r.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(a.attribute=[],s=0;s<r.attribute.length;++s)a.attribute[s]=String(r.attribute[s])}if(r.attributeProto){if(!Array.isArray(r.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(a.attributeProto=[],s=0;s<r.attributeProto.length;++s){if("object"!=typeof r.attributeProto[s])throw TypeError(".onnx.FunctionProto.attributeProto: object expected");a.attributeProto[s]=x.onnx.AttributeProto.fromObject(r.attributeProto[s])}}if(r.node){if(!Array.isArray(r.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(a.node=[],s=0;s<r.node.length;++s){if("object"!=typeof r.node[s])throw TypeError(".onnx.FunctionProto.node: object expected");a.node[s]=x.onnx.NodeProto.fromObject(r.node[s])}}if(null!=r.docString&&(a.docString=String(r.docString)),r.opsetImport){if(!Array.isArray(r.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(a.opsetImport=[],s=0;s<r.opsetImport.length;++s){if("object"!=typeof r.opsetImport[s])throw TypeError(".onnx.FunctionProto.opsetImport: object expected");a.opsetImport[s]=x.onnx.OperatorSetIdProto.fromObject(r.opsetImport[s])}}return null!=r.domain&&(a.domain=String(r.domain)),a},r.toObject=function(r,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.input=[],s.output=[],s.attribute=[],s.node=[],s.opsetImport=[],s.attributeProto=[]),a.defaults&&(s.name="",s.docString="",s.domain=""),null!=r.name&&r.hasOwnProperty("name")&&(s.name=r.name),r.input&&r.input.length){s.input=[];for(var b=0;b<r.input.length;++b)s.input[b]=r.input[b]}if(r.output&&r.output.length)for(s.output=[],b=0;b<r.output.length;++b)s.output[b]=r.output[b];if(r.attribute&&r.attribute.length)for(s.attribute=[],b=0;b<r.attribute.length;++b)s.attribute[b]=r.attribute[b];if(r.node&&r.node.length)for(s.node=[],b=0;b<r.node.length;++b)s.node[b]=x.onnx.NodeProto.toObject(r.node[b],a);if(null!=r.docString&&r.hasOwnProperty("docString")&&(s.docString=r.docString),r.opsetImport&&r.opsetImport.length)for(s.opsetImport=[],b=0;b<r.opsetImport.length;++b)s.opsetImport[b]=x.onnx.OperatorSetIdProto.toObject(r.opsetImport[b],a);if(null!=r.domain&&r.hasOwnProperty("domain")&&(s.domain=r.domain),r.attributeProto&&r.attributeProto.length)for(s.attributeProto=[],b=0;b<r.attributeProto.length;++b)s.attributeProto[b]=x.onnx.AttributeProto.toObject(r.attributeProto[b],a);return s},r.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},r.getTypeUrl=function(r){return void 0===r&&(r="type.googleapis.com"),r+"/onnx.FunctionProto"},r}(),y),r.exports=x},3474:(r,a,s)=>{var b,m=(b=(b="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(r={}){function a(){return G.buffer!=Y.buffer&&ee(),Y}function m(){return G.buffer!=Y.buffer&&ee(),X}function y(){return G.buffer!=Y.buffer&&ee(),K}function v(){return G.buffer!=Y.buffer&&ee(),Z}function w(){return G.buffer!=Y.buffer&&ee(),J}var _,T,x=r;x.ready=new Promise(((r,a)=>{_=r,T=a}));var O,S,A,P=Object.assign({},x),E="./this.program",I=(r,a)=>{throw a},D="object"==typeof window,k="function"==typeof importScripts,$="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,L=x.ENVIRONMENT_IS_PTHREAD||!1,F="";function N(r){return x.locateFile?x.locateFile(r,F):F+r}if($){var R=s(1384),j=s(908);let a;F=k?j.dirname(F)+"/":__dirname+"/",O=(r,a)=>(r=r.startsWith("file://")?new URL(r):j.normalize(r),R.readFileSync(r,a?void 0:"utf8")),A=r=>((r=O(r,!0)).buffer||(r=new Uint8Array(r)),r),S=(r,a,s,b=!0)=>{r=r.startsWith("file://")?new URL(r):j.normalize(r),R.readFile(r,b?void 0:"utf8",((r,m)=>{r?s(r):a(b?m.buffer:m)}))},!x.thisProgram&&1<process.argv.length&&(E=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),I=(r,a)=>{throw process.exitCode=r,a},x.inspect=()=>"[Emscripten Module object]";try{a=s(9925)}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}__webpack_require__.g.Worker=a.Worker}else(D||k)&&(k?F=self.location.href:"undefined"!=typeof document&&document.currentScript&&(F=document.currentScript.src),b&&(F=b),F=0!==F.indexOf("blob:")?F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$||(O=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.send(null),a.responseText},k&&(A=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),S=(r,a,s)=>{var b=new XMLHttpRequest;b.open("GET",r,!0),b.responseType="arraybuffer",b.onload=()=>{200==b.status||0==b.status&&b.response?a(b.response):s()},b.onerror=s,b.send(null)}));$&&"undefined"==typeof performance&&(__webpack_require__.g.performance=s(6953).performance);var C=console.log.bind(console),M=console.error.bind(console);$&&(C=(...r)=>R.writeSync(1,r.join(" ")+"\n"),M=(...r)=>R.writeSync(2,r.join(" ")+"\n"));var U,B=x.print||C,z=x.printErr||M;Object.assign(x,P),P=null,x.thisProgram&&(E=x.thisProgram),x.quit&&(I=x.quit),x.wasmBinary&&(U=x.wasmBinary);var V=x.noExitRuntime||!0;"object"!=typeof WebAssembly&&ge("no native wasm support detected");var G,H,W,q,Y,X,K,Z,J,Q=!1;function ee(){var r=G.buffer;x.HEAP8=Y=new Int8Array(r),x.HEAP16=new Int16Array(r),x.HEAP32=K=new Int32Array(r),x.HEAPU8=X=new Uint8Array(r),x.HEAPU16=new Uint16Array(r),x.HEAPU32=Z=new Uint32Array(r),x.HEAPF32=new Float32Array(r),x.HEAPF64=J=new Float64Array(r)}var te=x.INITIAL_MEMORY||16777216;if(5242880<=te||ge("INITIAL_MEMORY should be larger than STACK_SIZE, was "+te+"! (STACK_SIZE=5242880)"),L)G=x.wasmMemory;else if(x.wasmMemory)G=x.wasmMemory;else if(!((G=new WebAssembly.Memory({initial:te/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw z("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),$&&z("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ee(),te=G.buffer.byteLength;var ne,re=[],oe=[],ie=[],ae=0;function se(){return V||0<ae}var ue,le,ce=0,pe=null,de=null;function fe(){ce++,x.monitorRunDependencies&&x.monitorRunDependencies(ce)}function he(){if(ce--,x.monitorRunDependencies&&x.monitorRunDependencies(ce),0==ce&&(null!==pe&&(clearInterval(pe),pe=null),de)){var r=de;de=null,r()}}function ge(r){throw x.onAbort&&x.onAbort(r),z(r="Aborted("+r+")"),Q=!0,q=1,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),T(r),r}function be(r){return r.startsWith("data:application/octet-stream;base64,")}function me(r){if(r==ue&&U)return new Uint8Array(U);if(A)return A(r);throw"both async and sync fetching of the wasm failed"}function ye(r,a,s){return function(r){if(!U&&(D||k)){if("function"==typeof fetch&&!r.startsWith("file://"))return fetch(r,{credentials:"same-origin"}).then((a=>{if(!a.ok)throw"failed to load wasm binary file at '"+r+"'";return a.arrayBuffer()})).catch((()=>me(r)));if(S)return new Promise(((a,s)=>{S(r,(r=>a(new Uint8Array(r))),s)}))}return Promise.resolve().then((()=>me(r)))}(r).then((r=>WebAssembly.instantiate(r,a))).then((r=>r)).then(s,(r=>{z("failed to asynchronously prepare wasm: "+r),ge(r)}))}function ve(r){this.name="ExitStatus",this.message=`Program terminated with exit(${r})`,this.status=r}function we(r){r.terminate(),r.onmessage=()=>{}}function _e(r){(r=Ee.Fa[r])||ge(),Ee.fb(r)}function Te(r){var a=Ee.Za();if(!a)return 6;Ee.Ia.push(a),Ee.Fa[r.Ha]=a,a.Ha=r.Ha;var s={cmd:"run",start_routine:r.gb,arg:r.Ya,pthread_ptr:r.Ha};return $&&a.unref(),a.postMessage(s,r.mb),0}be(ue="ort-wasm-threaded.wasm")||(ue=N(ue));var xe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Oe=(r,a,s)=>{var b=(a>>>=0)+s;for(s=a;r[s]&&!(s>=b);)++s;if(16<s-a&&r.buffer&&xe)return xe.decode(r.buffer instanceof SharedArrayBuffer?r.slice(a,s):r.subarray(a,s));for(b="";a<s;){var m=r[a++];if(128&m){var y=63&r[a++];if(192==(224&m))b+=String.fromCharCode((31&m)<<6|y);else{var v=63&r[a++];65536>(m=224==(240&m)?(15&m)<<12|y<<6|v:(7&m)<<18|y<<12|v<<6|63&r[a++])?b+=String.fromCharCode(m):(m-=65536,b+=String.fromCharCode(55296|m>>10,56320|1023&m))}}else b+=String.fromCharCode(m)}return b},Se=(r,a)=>(r>>>=0)?Oe(m(),r,a):"";function Ae(r){if(L)return st(1,1,r);q=r,se()||(Ee.hb(),x.onExit&&x.onExit(r),Q=!0),I(r,new ve(r))}var Pe=r=>{if(q=r,L)throw De(r),"unwind";Ae(r)},Ee={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){L?Ee.ab():Ee.$a()},$a:function(){re.unshift((()=>{fe(),Ee.bb((()=>he()))}))},ab:function(){Ee.receiveObjectTransfer=Ee.eb,Ee.threadInitTLS=Ee.Sa,Ee.setExitStatus=Ee.Ra,V=!1},Ra:function(r){q=r},rb:["$terminateWorker"],hb:function(){for(var r of Ee.Ia)we(r);for(r of Ee.La)we(r);Ee.La=[],Ee.Ia=[],Ee.Fa=[]},fb:function(r){var a=r.Ha;delete Ee.Fa[a],Ee.La.push(r),Ee.Ia.splice(Ee.Ia.indexOf(r),1),r.Ha=0,kt(a)},eb:function(){},Sa:function(){Ee.Ta.forEach((r=>r()))},cb:r=>new Promise((a=>{r.onmessage=s=>{var b=(s=s.data).cmd;if(s.targetThread&&s.targetThread!=At()){var m=Ee.Fa[s.qb];m?m.postMessage(s,s.transferList):z('Internal error! Worker sent a message "'+b+'" to target pthread '+s.targetThread+", but that thread no longer exists!")}else"checkMailbox"===b?Qe():"spawnThread"===b?Te(s):"cleanupThread"===b?_e(s.thread):"killThread"===b?(s=s.thread,b=Ee.Fa[s],delete Ee.Fa[s],we(b),kt(s),Ee.Ia.splice(Ee.Ia.indexOf(b),1),b.Ha=0):"cancelThread"===b?Ee.Fa[s.thread].postMessage({cmd:"cancel"}):"loaded"===b?(r.loaded=!0,a(r)):"alert"===b?alert("Thread "+s.threadId+": "+s.text):"setimmediate"===s.target?r.postMessage(s):"callHandler"===b?x[s.handler](...s.args):b&&z("worker sent an unknown command "+b)},r.onerror=r=>{throw z("worker sent an error! "+r.filename+":"+r.lineno+": "+r.message),r},$&&(r.on("message",(function(a){r.onmessage({data:a})})),r.on("error",(function(a){r.onerror(a)})));var s,m=[];for(s of["onExit","onAbort","print","printErr"])x.hasOwnProperty(s)&&m.push(s);r.postMessage({cmd:"load",handlers:m,urlOrBlob:x.mainScriptUrlOrBlob||b,wasmMemory:G,wasmModule:W})})),bb:function(r){r()},Xa:function(){var r=N("ort-wasm-threaded.worker.js");r=new Worker(r),Ee.La.push(r)},Za:function(){return 0==Ee.La.length&&(Ee.Xa(),Ee.cb(Ee.La[0])),Ee.La.pop()}};x.PThread=Ee;var Ie=r=>{for(;0<r.length;)r.shift()(x)};function De(r){if(L)return st(2,0,r);Pe(r)}x.establishStackSpace=function(){var r=At(),a=y()[r+52>>2>>>0];r=y()[r+56>>2>>>0],Nt(a,a-r),jt(a)};var ke=[];function $e(r){this.Oa=r-24,this.Wa=function(r){v()[this.Oa+4>>2>>>0]=r},this.Va=function(r){v()[this.Oa+8>>2>>>0]=r},this.Pa=function(r,a){this.Ua(),this.Wa(r),this.Va(a)},this.Ua=function(){v()[this.Oa+16>>2>>>0]=0}}function Le(r,a,s,b){return L?st(3,1,r,a,s,b):Fe(r,a,s,b)}function Fe(r,a,s,b){if(r>>>=0,a>>>=0,s>>>=0,b>>>=0,"undefined"==typeof SharedArrayBuffer)return z("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var m=[];return L&&0===m.length?Le(r,a,s,b):(r={gb:s,Ha:r,Ya:b,mb:m},L?(r.ob="spawnThread",postMessage(r,m),0):Te(r))}function Ne(r,a,s){return L?st(4,1,r,a,s):0}function Re(r,a){if(L)return st(5,1,r,a)}x.invokeEntryPoint=function(r,a){var s=ke[r];s||(r>=ke.length&&(ke.length=r+1),ke[r]=s=ne.get(r)),r=s(a),se()?Ee.Ra(r):$t(r)};var je=r=>{for(var a=0,s=0;s<r.length;++s){var b=r.charCodeAt(s);127>=b?a++:2047>=b?a+=2:55296<=b&&57343>=b?(a+=4,++s):a+=3}return a},Ce=(r,a,s,b)=>{if(!(0<b))return 0;var m=s>>>=0;b=s+b-1;for(var y=0;y<r.length;++y){var v=r.charCodeAt(y);if(55296<=v&&57343>=v&&(v=65536+((1023&v)<<10)|1023&r.charCodeAt(++y)),127>=v){if(s>=b)break;a[s++>>>0]=v}else{if(2047>=v){if(s+1>=b)break;a[s++>>>0]=192|v>>6}else{if(65535>=v){if(s+2>=b)break;a[s++>>>0]=224|v>>12}else{if(s+3>=b)break;a[s++>>>0]=240|v>>18,a[s++>>>0]=128|v>>12&63}a[s++>>>0]=128|v>>6&63}a[s++>>>0]=128|63&v}}return a[s>>>0]=0,s-m},Me=(r,a,s)=>Ce(r,m(),a,s);function Ue(r,a){if(L)return st(6,1,r,a)}function Be(r,a,s){if(L)return st(7,1,r,a,s)}function ze(r,a,s){return L?st(8,1,r,a,s):0}function Ve(r,a){if(L)return st(9,1,r,a)}function Ge(r,a,s){if(L)return st(10,1,r,a,s)}function He(r,a,s,b){if(L)return st(11,1,r,a,s,b)}function We(r,a,s,b){if(L)return st(12,1,r,a,s,b)}function qe(r,a,s,b){if(L)return st(13,1,r,a,s,b)}function Ye(r){if(L)return st(14,1,r)}function Xe(r,a){if(L)return st(15,1,r,a)}function Ke(r,a,s){if(L)return st(16,1,r,a,s)}var Ze=r=>{if(!Q)try{if(r(),!se())try{L?$t(q):Pe(q)}catch(r){r instanceof ve||"unwind"==r||I(1,r)}}catch(r){r instanceof ve||"unwind"==r||I(1,r)}};function Je(r){r>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(y(),r>>2,r).value.then(Qe),r+=128,Atomics.store(y(),r>>2,1))}function Qe(){var r=At();r&&(Je(r),Ze((()=>Lt())))}x.__emscripten_thread_mailbox_await=Je,x.checkMailbox=Qe;var et=r=>0==r%4&&(0!=r%100||0==r%400),tt=[0,31,60,91,121,152,182,213,244,274,305,335],nt=[0,31,59,90,120,151,181,212,243,273,304,334];function rt(r,a,s,b,m,y,v,w){return L?st(17,1,r,a,s,b,m,y,v,w):-52}function ot(r,a,s,b,m,y,v){if(L)return st(18,1,r,a,s,b,m,y,v)}var it=r=>{var a=je(r)+1,s=Pt(a);return s&&Me(r,s,a),s},at=r=>{var a=Rt();return r=r(),jt(a),r};function st(r,a){var s=arguments.length-2,b=arguments;return at((()=>{for(var m=Ct(8*s),y=m>>3,v=0;v<s;v++){var _=b[2+v];w()[y+v>>>0]=_}return Dt(r,s,m,a)}))}var ut,lt=[],ct={},pt=()=>{if(!ut){var r,a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(r in ct)void 0===ct[r]?delete a[r]:a[r]=ct[r];var s=[];for(r in a)s.push(`${r}=${a[r]}`);ut=s}return ut};function dt(r,s){if(L)return st(19,1,r,s);r>>>=0,s>>>=0;var b=0;return pt().forEach((function(m,y){var w=s+b;for(y=v()[r+4*y>>2>>>0]=w,w=0;w<m.length;++w)a()[y++>>0>>>0]=m.charCodeAt(w);a()[y>>0>>>0]=0,b+=m.length+1})),0}function ft(r,a){if(L)return st(20,1,r,a);r>>>=0,a>>>=0;var s=pt();v()[r>>2>>>0]=s.length;var b=0;return s.forEach((function(r){b+=r.length+1})),v()[a>>2>>>0]=b,0}function ht(r){return L?st(21,1,r):52}function gt(r,a,s,b){return L?st(22,1,r,a,s,b):52}function bt(r,a,s,b,m){return L?st(23,1,r,a,s,b,m):70}var mt=[null,[],[]];function yt(r,a,s,b){if(L)return st(24,1,r,a,s,b);a>>>=0,s>>>=0,b>>>=0;for(var y=0,w=0;w<s;w++){var _=v()[a>>2>>>0],T=v()[a+4>>2>>>0];a+=8;for(var x=0;x<T;x++){var O=m()[_+x>>>0],S=mt[r];0===O||10===O?((1===r?B:z)(Oe(S,0)),S.length=0):S.push(O)}y+=T}return v()[b>>2>>>0]=y,0}var vt=r=>(vt=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return r=>(r.set(crypto.getRandomValues(new Uint8Array(r.byteLength))),r);if($)try{var r=s(760);if(r.randomFillSync)return a=>r.randomFillSync(a);var a=r.randomBytes;return r=>(r.set(a(r.byteLength)),r)}catch(r){}ge("initRandomDevice")})())(r),wt=[31,29,31,30,31,30,31,31,30,31,30,31],_t=[31,28,31,30,31,30,31,31,30,31,30,31],Tt=(r,s)=>{a().set(r,s>>>0)};function xt(r,a,s,b){function m(r,a,s){for(r="number"==typeof r?r.toString():r||"";r.length<a;)r=s[0]+r;return r}function v(r,a){return m(r,a,"0")}function w(r,a){function s(r){return 0>r?-1:0<r?1:0}var b;return 0===(b=s(r.getFullYear()-a.getFullYear()))&&0===(b=s(r.getMonth()-a.getMonth()))&&(b=s(r.getDate()-a.getDate())),b}function _(r){switch(r.getDay()){case 0:return new Date(r.getFullYear()-1,11,29);case 1:return r;case 2:return new Date(r.getFullYear(),0,3);case 3:return new Date(r.getFullYear(),0,2);case 4:return new Date(r.getFullYear(),0,1);case 5:return new Date(r.getFullYear()-1,11,31);case 6:return new Date(r.getFullYear()-1,11,30)}}function T(r){var a=r.Ja;for(r=new Date(new Date(r.Ka+1900,0,1).getTime());0<a;){var s=r.getMonth(),b=(et(r.getFullYear())?wt:_t)[s];if(!(a>b-r.getDate())){r.setDate(r.getDate()+a);break}a-=b-r.getDate()+1,r.setDate(1),11>s?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return s=new Date(r.getFullYear()+1,0,4),a=_(new Date(r.getFullYear(),0,4)),s=_(s),0>=w(a,r)?0>=w(s,r)?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}r>>>=0,a>>>=0,s>>>=0,b>>>=0;var x=y()[b+40>>2>>>0];for(var O in b={kb:y()[b>>2>>>0],jb:y()[b+4>>2>>>0],Ma:y()[b+8>>2>>>0],Qa:y()[b+12>>2>>>0],Na:y()[b+16>>2>>>0],Ka:y()[b+20>>2>>>0],Ga:y()[b+24>>2>>>0],Ja:y()[b+28>>2>>>0],sb:y()[b+32>>2>>>0],ib:y()[b+36>>2>>>0],lb:x?Se(x):""},s=Se(s),x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})s=s.replace(new RegExp(O,"g"),x[O]);var S="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),A="January February March April May June July August September October November December".split(" ");for(O in x={"%a":r=>S[r.Ga].substring(0,3),"%A":r=>S[r.Ga],"%b":r=>A[r.Na].substring(0,3),"%B":r=>A[r.Na],"%C":r=>v((r.Ka+1900)/100|0,2),"%d":r=>v(r.Qa,2),"%e":r=>m(r.Qa,2," "),"%g":r=>T(r).toString().substring(2),"%G":r=>T(r),"%H":r=>v(r.Ma,2),"%I":r=>(0==(r=r.Ma)?r=12:12<r&&(r-=12),v(r,2)),"%j":r=>{for(var a=0,s=0;s<=r.Na-1;a+=(et(r.Ka+1900)?wt:_t)[s++]);return v(r.Qa+a,3)},"%m":r=>v(r.Na+1,2),"%M":r=>v(r.jb,2),"%n":()=>"\n","%p":r=>0<=r.Ma&&12>r.Ma?"AM":"PM","%S":r=>v(r.kb,2),"%t":()=>"\t","%u":r=>r.Ga||7,"%U":r=>v(Math.floor((r.Ja+7-r.Ga)/7),2),"%V":r=>{var a=Math.floor((r.Ja+7-(r.Ga+6)%7)/7);if(2>=(r.Ga+371-r.Ja-2)%7&&a++,a)53==a&&(4==(s=(r.Ga+371-r.Ja)%7)||3==s&&et(r.Ka)||(a=1));else{a=52;var s=(r.Ga+7-r.Ja-1)%7;(4==s||5==s&&et(r.Ka%400-1))&&a++}return v(a,2)},"%w":r=>r.Ga,"%W":r=>v(Math.floor((r.Ja+7-(r.Ga+6)%7)/7),2),"%y":r=>(r.Ka+1900).toString().substring(2),"%Y":r=>r.Ka+1900,"%z":r=>{var a=0<=(r=r.ib);return r=Math.abs(r)/60,(a?"+":"-")+String("0000"+(r/60*100+r%60)).slice(-4)},"%Z":r=>r.lb,"%%":()=>"%"},s=s.replace(/%%/g,"\0\0"),x)s.includes(O)&&(s=s.replace(new RegExp(O,"g"),x[O](b)));return O=function(r){var a=Array(je(r)+1);return Ce(r,a,0,a.length),a}(s=s.replace(/\0\0/g,"%")),O.length>a?0:(Tt(O,r),O.length-1)}Ee.Pa();var Ot=[null,Ae,De,Le,Ne,Re,Ue,Be,ze,Ve,Ge,He,We,qe,Ye,Xe,Ke,rt,ot,dt,ft,ht,gt,bt,yt],St={b:function(r,a,s){throw new $e(r>>>=0).Pa(a>>>0,s>>>0),r},N:function(r){Et(r>>>0,!k,1,!D,131072,!1),Ee.Sa()},k:function(r){r>>>=0,L?postMessage({cmd:"cleanupThread",thread:r}):_e(r)},I:Fe,h:Ne,T:Re,E:Ue,G:Be,U:ze,R:Ve,J:Ge,Q:He,o:We,F:qe,C:Ye,S:Xe,D:Ke,q:()=>!0,A:function(r,a){(r>>>=0)==a>>>0?setTimeout((()=>Qe())):L?postMessage({targetThread:r,cmd:"checkMailbox"}):(r=Ee.Fa[r])&&r.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Je,p:function(r){$&&Ee.Fa[r>>>0].ref()},t:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),y()[s>>2>>>0]=r.getUTCSeconds(),y()[s+4>>2>>>0]=r.getUTCMinutes(),y()[s+8>>2>>>0]=r.getUTCHours(),y()[s+12>>2>>>0]=r.getUTCDate(),y()[s+16>>2>>>0]=r.getUTCMonth(),y()[s+20>>2>>>0]=r.getUTCFullYear()-1900,y()[s+24>>2>>>0]=r.getUTCDay(),r=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,y()[s+28>>2>>>0]=r},u:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),y()[s>>2>>>0]=r.getSeconds(),y()[s+4>>2>>>0]=r.getMinutes(),y()[s+8>>2>>>0]=r.getHours(),y()[s+12>>2>>>0]=r.getDate(),y()[s+16>>2>>>0]=r.getMonth(),y()[s+20>>2>>>0]=r.getFullYear()-1900,y()[s+24>>2>>>0]=r.getDay(),a=(et(r.getFullYear())?tt:nt)[r.getMonth()]+r.getDate()-1|0,y()[s+28>>2>>>0]=a,y()[s+36>>2>>>0]=-60*r.getTimezoneOffset(),a=new Date(r.getFullYear(),6,1).getTimezoneOffset();var b=new Date(r.getFullYear(),0,1).getTimezoneOffset();r=0|(a!=b&&r.getTimezoneOffset()==Math.min(b,a)),y()[s+32>>2>>>0]=r},v:function(r){r>>>=0;var a=new Date(y()[r+20>>2>>>0]+1900,y()[r+16>>2>>>0],y()[r+12>>2>>>0],y()[r+8>>2>>>0],y()[r+4>>2>>>0],y()[r>>2>>>0],0),s=y()[r+32>>2>>>0],b=a.getTimezoneOffset(),m=new Date(a.getFullYear(),6,1).getTimezoneOffset(),v=new Date(a.getFullYear(),0,1).getTimezoneOffset(),w=Math.min(v,m);return 0>s?y()[r+32>>2>>>0]=Number(m!=v&&w==b):0<s!=(w==b)&&(m=Math.max(v,m),a.setTime(a.getTime()+6e4*((0<s?w:m)-b))),y()[r+24>>2>>>0]=a.getDay(),s=(et(a.getFullYear())?tt:nt)[a.getMonth()]+a.getDate()-1|0,y()[r+28>>2>>>0]=s,y()[r>>2>>>0]=a.getSeconds(),y()[r+4>>2>>>0]=a.getMinutes(),y()[r+8>>2>>>0]=a.getHours(),y()[r+12>>2>>>0]=a.getDate(),y()[r+16>>2>>>0]=a.getMonth(),y()[r+20>>2>>>0]=a.getYear(),r=a.getTime()/1e3,Ft((le=r,1<=+Math.abs(le)?0<le?+Math.floor(le/4294967296)>>>0:~~+Math.ceil((le-+(~~le>>>0))/4294967296)>>>0:0)),r>>>0},r:rt,s:ot,z:function(r,a,s){function b(r){return(r=r.toTimeString().match(/\(([A-Za-z ]+)\)$/))?r[1]:"GMT"}r>>>=0,a>>>=0,s>>>=0;var m=(new Date).getFullYear(),w=new Date(m,0,1),_=new Date(m,6,1);m=w.getTimezoneOffset();var T=_.getTimezoneOffset(),x=Math.max(m,T);v()[r>>2>>>0]=60*x,y()[a>>2>>>0]=Number(m!=T),r=b(w),a=b(_),r=it(r),a=it(a),T<m?(v()[s>>2>>>0]=r,v()[s+4>>2>>>0]=a):(v()[s>>2>>>0]=a,v()[s+4>>2>>>0]=r)},c:()=>{ge("")},l:function(){},i:function(){return Date.now()},V:()=>{throw ae+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return $?s(3993).cpus().length:navigator.hardwareConcurrency},K:function(r,a,s,b){for(Ee.pb=a>>>0,lt.length=s,a=b>>>0>>3,b=0;b<s;b++)lt[b]=w()[a+b>>>0];return Ot[r].apply(null,lt)},y:function(r){r>>>=0;var a=m().length;if(r<=a||4294901760<r)return!1;for(var s=1;4>=s;s*=2){var b=a*(1+.2/s);b=Math.min(b,r+100663296);var y=Math;b=Math.max(r,b);e:{y=y.min.call(y,4294901760,b+(65536-b%65536)%65536)-G.buffer.byteLength+65535>>>16;try{G.grow(y),ee();var v=1;break e}catch(r){}v=void 0}if(v)return!0}return!1},O:dt,P:ft,j:Pe,g:ht,n:gt,w:bt,m:yt,x:function(r,a){return r>>>=0,a>>>=0,vt(m().subarray(r>>>0,r+a>>>0)),0},a:G||x.wasmMemory,H:xt,d:function(r,a,s,b){return xt(r>>>0,a>>>0,s>>>0,b>>>0)}};!function(){function r(r,a){return r=r.exports,H=r=function(r){var a=r=>()=>r()>>>0,s=r=>a=>r(a)>>>0;return(r=Object.assign({},r)).__errno_location=a(r.__errno_location),r.pthread_self=a(r.pthread_self),r.malloc=s(r.malloc),r.stackSave=a(r.stackSave),r.stackAlloc=s(r.stackAlloc),r}(r),Ee.Ta.push(H.sa),ne=H.ta,oe.unshift(H.W),W=a,he(),r}var a={a:St};if(fe(),x.instantiateWasm)try{return x.instantiateWasm(a,r)}catch(r){z("Module.instantiateWasm callback failed with error: "+r),T(r)}(function(r,a){var s=ue;return U||"function"!=typeof WebAssembly.instantiateStreaming||be(s)||s.startsWith("file://")||$||"function"!=typeof fetch?ye(s,r,a):fetch(s,{credentials:"same-origin"}).then((b=>WebAssembly.instantiateStreaming(b,r).then(a,(function(b){return z("wasm streaming compile failed: "+b),z("falling back to ArrayBuffer instantiation"),ye(s,r,a)}))))})(a,(function(a){r(a.instance,a.module)})).catch(T)}(),x._OrtInit=(r,a)=>(x._OrtInit=H.X)(r,a),x._OrtGetLastError=(r,a)=>(x._OrtGetLastError=H.Y)(r,a),x._OrtCreateSessionOptions=(r,a,s,b,m,y,v,w,_,T)=>(x._OrtCreateSessionOptions=H.Z)(r,a,s,b,m,y,v,w,_,T),x._OrtAppendExecutionProvider=(r,a)=>(x._OrtAppendExecutionProvider=H._)(r,a),x._OrtAddSessionConfigEntry=(r,a,s)=>(x._OrtAddSessionConfigEntry=H.$)(r,a,s),x._OrtReleaseSessionOptions=r=>(x._OrtReleaseSessionOptions=H.aa)(r),x._OrtCreateSession=(r,a,s)=>(x._OrtCreateSession=H.ba)(r,a,s),x._OrtReleaseSession=r=>(x._OrtReleaseSession=H.ca)(r),x._OrtGetInputOutputCount=(r,a,s)=>(x._OrtGetInputOutputCount=H.da)(r,a,s),x._OrtGetInputName=(r,a)=>(x._OrtGetInputName=H.ea)(r,a),x._OrtGetOutputName=(r,a)=>(x._OrtGetOutputName=H.fa)(r,a),x._OrtFree=r=>(x._OrtFree=H.ga)(r),x._OrtCreateTensor=(r,a,s,b,m)=>(x._OrtCreateTensor=H.ha)(r,a,s,b,m),x._OrtGetTensorData=(r,a,s,b,m)=>(x._OrtGetTensorData=H.ia)(r,a,s,b,m),x._OrtReleaseTensor=r=>(x._OrtReleaseTensor=H.ja)(r),x._OrtCreateRunOptions=(r,a,s,b)=>(x._OrtCreateRunOptions=H.ka)(r,a,s,b),x._OrtAddRunConfigEntry=(r,a,s)=>(x._OrtAddRunConfigEntry=H.la)(r,a,s),x._OrtReleaseRunOptions=r=>(x._OrtReleaseRunOptions=H.ma)(r),x._OrtRun=(r,a,s,b,m,y,v,w)=>(x._OrtRun=H.na)(r,a,s,b,m,y,v,w),x._OrtEndProfiling=r=>(x._OrtEndProfiling=H.oa)(r);var At=x._pthread_self=()=>(At=x._pthread_self=H.pa)(),Pt=x._malloc=r=>(Pt=x._malloc=H.qa)(r);x._free=r=>(x._free=H.ra)(r),x.__emscripten_tls_init=()=>(x.__emscripten_tls_init=H.sa)();var Et=x.__emscripten_thread_init=(r,a,s,b,m,y)=>(Et=x.__emscripten_thread_init=H.ua)(r,a,s,b,m,y);x.__emscripten_thread_crashed=()=>(x.__emscripten_thread_crashed=H.va)();var It,Dt=(r,a,s,b)=>(Dt=H.wa)(r,a,s,b),kt=r=>(kt=H.xa)(r),$t=x.__emscripten_thread_exit=r=>($t=x.__emscripten_thread_exit=H.ya)(r),Lt=x.__emscripten_check_mailbox=()=>(Lt=x.__emscripten_check_mailbox=H.za)(),Ft=r=>(Ft=H.Aa)(r),Nt=(r,a)=>(Nt=H.Ba)(r,a),Rt=()=>(Rt=H.Ca)(),jt=r=>(jt=H.Da)(r),Ct=r=>(Ct=H.Ea)(r);function Mt(){function r(){if(!It&&(It=!0,x.calledRun=!0,!Q)&&(L||Ie(oe),_(x),x.onRuntimeInitialized&&x.onRuntimeInitialized(),!L)){if(x.postRun)for("function"==typeof x.postRun&&(x.postRun=[x.postRun]);x.postRun.length;){var r=x.postRun.shift();ie.unshift(r)}Ie(ie)}}if(!(0<ce))if(L)_(x),L||Ie(oe),startWorker(x);else{if(x.preRun)for("function"==typeof x.preRun&&(x.preRun=[x.preRun]);x.preRun.length;)re.unshift(x.preRun.shift());Ie(re),0<ce||(x.setStatus?(x.setStatus("Running..."),setTimeout((function(){setTimeout((function(){x.setStatus("")}),1),r()}),1)):r())}}if(x.keepRuntimeAlive=se,x.wasmMemory=G,x.stackAlloc=Ct,x.stackSave=Rt,x.stackRestore=jt,x.UTF8ToString=Se,x.stringToUTF8=Me,x.lengthBytesUTF8=je,x.ExitStatus=ve,x.PThread=Ee,de=function r(){It||Mt(),It||(de=r)},x.preInit)for("function"==typeof x.preInit&&(x.preInit=[x.preInit]);0<x.preInit.length;)x.preInit.pop()();return Mt(),r.ready});r.exports=m},932:(r,a,s)=>{var b,m=(b=(b="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(r={}){var a,m,y=r;y.ready=new Promise(((r,s)=>{a=r,m=s}));var v,w,_,T=Object.assign({},y),x="./this.program",O=(r,a)=>{throw a},S="object"==typeof window,A="function"==typeof importScripts,P="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,E="";if(P){var I=s(1384),D=s(908);E=A?D.dirname(E)+"/":__dirname+"/",v=(r,a)=>(r=r.startsWith("file://")?new URL(r):D.normalize(r),I.readFileSync(r,a?void 0:"utf8")),_=r=>((r=v(r,!0)).buffer||(r=new Uint8Array(r)),r),w=(r,a,s,b=!0)=>{r=r.startsWith("file://")?new URL(r):D.normalize(r),I.readFile(r,b?void 0:"utf8",((r,m)=>{r?s(r):a(b?m.buffer:m)}))},!y.thisProgram&&1<process.argv.length&&(x=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),O=(r,a)=>{throw process.exitCode=r,a},y.inspect=()=>"[Emscripten Module object]"}else(S||A)&&(A?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),b&&(E=b),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.send(null),a.responseText},A&&(_=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),w=(r,a,s)=>{var b=new XMLHttpRequest;b.open("GET",r,!0),b.responseType="arraybuffer",b.onload=()=>{200==b.status||0==b.status&&b.response?a(b.response):s()},b.onerror=s,b.send(null)});var k,$=y.print||console.log.bind(console),L=y.printErr||console.error.bind(console);Object.assign(y,T),T=null,y.thisProgram&&(x=y.thisProgram),y.quit&&(O=y.quit),y.wasmBinary&&(k=y.wasmBinary);var F=y.noExitRuntime||!0;"object"!=typeof WebAssembly&&J("no native wasm support detected");var N,R,j,C,M,U,B=!1;function z(){var r=N.buffer;y.HEAP8=j=new Int8Array(r),y.HEAP16=new Int16Array(r),y.HEAP32=M=new Int32Array(r),y.HEAPU8=C=new Uint8Array(r),y.HEAPU16=new Uint16Array(r),y.HEAPU32=U=new Uint32Array(r),y.HEAPF32=new Float32Array(r),y.HEAPF64=new Float64Array(r)}var V=[],G=[],H=[];function W(){var r=y.preRun.shift();V.unshift(r)}var q,Y,X=0,K=null,Z=null;function J(r){throw y.onAbort&&y.onAbort(r),L(r="Aborted("+r+")"),B=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),m(r),r}function Q(r){return r.startsWith("data:application/octet-stream;base64,")}if(!Q(q="ort-wasm.wasm")){var ee=q;q=y.locateFile?y.locateFile(ee,E):E+ee}function te(r){if(r==q&&k)return new Uint8Array(k);if(_)return _(r);throw"both async and sync fetching of the wasm failed"}function ne(r,a,s){return function(r){if(!k&&(S||A)){if("function"==typeof fetch&&!r.startsWith("file://"))return fetch(r,{credentials:"same-origin"}).then((a=>{if(!a.ok)throw"failed to load wasm binary file at '"+r+"'";return a.arrayBuffer()})).catch((()=>te(r)));if(w)return new Promise(((a,s)=>{w(r,(r=>a(new Uint8Array(r))),s)}))}return Promise.resolve().then((()=>te(r)))}(r).then((r=>WebAssembly.instantiate(r,a))).then((r=>r)).then(s,(r=>{L("failed to asynchronously prepare wasm: "+r),J(r)}))}function re(r){this.name="ExitStatus",this.message=`Program terminated with exit(${r})`,this.status=r}var oe=r=>{for(;0<r.length;)r.shift()(y)};function ie(r){this.qa=r-24,this.va=function(r){U[this.qa+4>>2>>>0]=r},this.ua=function(r){U[this.qa+8>>2>>>0]=r},this.sa=function(r,a){this.ta(),this.va(r),this.ua(a)},this.ta=function(){U[this.qa+16>>2>>>0]=0}}var ae,se="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,ue=(r,a,s)=>{var b=(a>>>=0)+s;for(s=a;r[s]&&!(s>=b);)++s;if(16<s-a&&r.buffer&&se)return se.decode(r.subarray(a,s));for(b="";a<s;){var m=r[a++];if(128&m){var y=63&r[a++];if(192==(224&m))b+=String.fromCharCode((31&m)<<6|y);else{var v=63&r[a++];65536>(m=224==(240&m)?(15&m)<<12|y<<6|v:(7&m)<<18|y<<12|v<<6|63&r[a++])?b+=String.fromCharCode(m):(m-=65536,b+=String.fromCharCode(55296|m>>10,56320|1023&m))}}else b+=String.fromCharCode(m)}return b},le=(r,a)=>(r>>>=0)?ue(C,r,a):"",ce=r=>{for(var a=0,s=0;s<r.length;++s){var b=r.charCodeAt(s);127>=b?a++:2047>=b?a+=2:55296<=b&&57343>=b?(a+=4,++s):a+=3}return a},pe=(r,a,s,b)=>{if(!(0<b))return 0;var m=s>>>=0;b=s+b-1;for(var y=0;y<r.length;++y){var v=r.charCodeAt(y);if(55296<=v&&57343>=v&&(v=65536+((1023&v)<<10)|1023&r.charCodeAt(++y)),127>=v){if(s>=b)break;a[s++>>>0]=v}else{if(2047>=v){if(s+1>=b)break;a[s++>>>0]=192|v>>6}else{if(65535>=v){if(s+2>=b)break;a[s++>>>0]=224|v>>12}else{if(s+3>=b)break;a[s++>>>0]=240|v>>18,a[s++>>>0]=128|v>>12&63}a[s++>>>0]=128|v>>6&63}a[s++>>>0]=128|63&v}}return a[s>>>0]=0,s-m},de=r=>0==r%4&&(0!=r%100||0==r%400),fe=[0,31,60,91,121,152,182,213,244,274,305,335],he=[0,31,59,90,120,151,181,212,243,273,304,334],ge=r=>{var a=ce(r)+1,s=Oe(a);return s&&pe(r,C,s,a),s},be={},me=()=>{if(!ae){var r,a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(r in be)void 0===be[r]?delete a[r]:a[r]=be[r];var s=[];for(r in a)s.push(`${r}=${a[r]}`);ae=s}return ae},ye=[null,[],[]],ve=r=>(ve=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return r=>crypto.getRandomValues(r);if(P)try{var r=s(760);if(r.randomFillSync)return a=>r.randomFillSync(a);var a=r.randomBytes;return r=>(r.set(a(r.byteLength)),r)}catch(r){}J("initRandomDevice")})())(r),we=[31,29,31,30,31,30,31,31,30,31,30,31],_e=[31,28,31,30,31,30,31,31,30,31,30,31];function Te(r,a,s,b){function m(r,a,s){for(r="number"==typeof r?r.toString():r||"";r.length<a;)r=s[0]+r;return r}function y(r,a){return m(r,a,"0")}function v(r,a){function s(r){return 0>r?-1:0<r?1:0}var b;return 0===(b=s(r.getFullYear()-a.getFullYear()))&&0===(b=s(r.getMonth()-a.getMonth()))&&(b=s(r.getDate()-a.getDate())),b}function w(r){switch(r.getDay()){case 0:return new Date(r.getFullYear()-1,11,29);case 1:return r;case 2:return new Date(r.getFullYear(),0,3);case 3:return new Date(r.getFullYear(),0,2);case 4:return new Date(r.getFullYear(),0,1);case 5:return new Date(r.getFullYear()-1,11,31);case 6:return new Date(r.getFullYear()-1,11,30)}}function _(r){var a=r.ma;for(r=new Date(new Date(r.na+1900,0,1).getTime());0<a;){var s=r.getMonth(),b=(de(r.getFullYear())?we:_e)[s];if(!(a>b-r.getDate())){r.setDate(r.getDate()+a);break}a-=b-r.getDate()+1,r.setDate(1),11>s?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return s=new Date(r.getFullYear()+1,0,4),a=w(new Date(r.getFullYear(),0,4)),s=w(s),0>=v(a,r)?0>=v(s,r)?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}r>>>=0,a>>>=0,s>>>=0;var T=M[40+(b>>>=0)>>2>>>0];for(var x in b={ya:M[b>>2>>>0],xa:M[b+4>>2>>>0],oa:M[b+8>>2>>>0],ra:M[b+12>>2>>>0],pa:M[b+16>>2>>>0],na:M[b+20>>2>>>0],ha:M[b+24>>2>>>0],ma:M[b+28>>2>>>0],Aa:M[b+32>>2>>>0],wa:M[b+36>>2>>>0],za:T?le(T):""},s=le(s),T={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})s=s.replace(new RegExp(x,"g"),T[x]);var O="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),S="January February March April May June July August September October November December".split(" ");for(x in T={"%a":r=>O[r.ha].substring(0,3),"%A":r=>O[r.ha],"%b":r=>S[r.pa].substring(0,3),"%B":r=>S[r.pa],"%C":r=>y((r.na+1900)/100|0,2),"%d":r=>y(r.ra,2),"%e":r=>m(r.ra,2," "),"%g":r=>_(r).toString().substring(2),"%G":r=>_(r),"%H":r=>y(r.oa,2),"%I":r=>(0==(r=r.oa)?r=12:12<r&&(r-=12),y(r,2)),"%j":r=>{for(var a=0,s=0;s<=r.pa-1;a+=(de(r.na+1900)?we:_e)[s++]);return y(r.ra+a,3)},"%m":r=>y(r.pa+1,2),"%M":r=>y(r.xa,2),"%n":()=>"\n","%p":r=>0<=r.oa&&12>r.oa?"AM":"PM","%S":r=>y(r.ya,2),"%t":()=>"\t","%u":r=>r.ha||7,"%U":r=>y(Math.floor((r.ma+7-r.ha)/7),2),"%V":r=>{var a=Math.floor((r.ma+7-(r.ha+6)%7)/7);if(2>=(r.ha+371-r.ma-2)%7&&a++,a)53==a&&(4==(s=(r.ha+371-r.ma)%7)||3==s&&de(r.na)||(a=1));else{a=52;var s=(r.ha+7-r.ma-1)%7;(4==s||5==s&&de(r.na%400-1))&&a++}return y(a,2)},"%w":r=>r.ha,"%W":r=>y(Math.floor((r.ma+7-(r.ha+6)%7)/7),2),"%y":r=>(r.na+1900).toString().substring(2),"%Y":r=>r.na+1900,"%z":r=>{var a=0<=(r=r.wa);return r=Math.abs(r)/60,(a?"+":"-")+String("0000"+(r/60*100+r%60)).slice(-4)},"%Z":r=>r.za,"%%":()=>"%"},s=s.replace(/%%/g,"\0\0"),T)s.includes(x)&&(s=s.replace(new RegExp(x,"g"),T[x](b)));return x=function(r){var a=Array(ce(r)+1);return pe(r,a,0,a.length),a}(s=s.replace(/\0\0/g,"%")),x.length>a?0:(j.set(x,r>>>0),x.length-1)}var xe={a:function(r,a,s){throw new ie(r>>>=0).sa(a>>>0,s>>>0),r},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),M[s>>2>>>0]=r.getUTCSeconds(),M[s+4>>2>>>0]=r.getUTCMinutes(),M[s+8>>2>>>0]=r.getUTCHours(),M[s+12>>2>>>0]=r.getUTCDate(),M[s+16>>2>>>0]=r.getUTCMonth(),M[s+20>>2>>>0]=r.getUTCFullYear()-1900,M[s+24>>2>>>0]=r.getUTCDay(),M[s+28>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),M[s>>2>>>0]=r.getSeconds(),M[s+4>>2>>>0]=r.getMinutes(),M[s+8>>2>>>0]=r.getHours(),M[s+12>>2>>>0]=r.getDate(),M[s+16>>2>>>0]=r.getMonth(),M[s+20>>2>>>0]=r.getFullYear()-1900,M[s+24>>2>>>0]=r.getDay(),M[s+28>>2>>>0]=(de(r.getFullYear())?fe:he)[r.getMonth()]+r.getDate()-1|0,M[s+36>>2>>>0]=-60*r.getTimezoneOffset(),a=new Date(r.getFullYear(),6,1).getTimezoneOffset();var b=new Date(r.getFullYear(),0,1).getTimezoneOffset();M[s+32>>2>>>0]=0|(a!=b&&r.getTimezoneOffset()==Math.min(b,a))},p:function(r){r>>>=0;var a=new Date(M[r+20>>2>>>0]+1900,M[r+16>>2>>>0],M[r+12>>2>>>0],M[r+8>>2>>>0],M[r+4>>2>>>0],M[r>>2>>>0],0),s=M[r+32>>2>>>0],b=a.getTimezoneOffset(),m=new Date(a.getFullYear(),6,1).getTimezoneOffset(),y=new Date(a.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(y,m);return 0>s?M[r+32>>2>>>0]=Number(m!=y&&v==b):0<s!=(v==b)&&(m=Math.max(y,m),a.setTime(a.getTime()+6e4*((0<s?v:m)-b))),M[r+24>>2>>>0]=a.getDay(),M[r+28>>2>>>0]=(de(a.getFullYear())?fe:he)[a.getMonth()]+a.getDate()-1|0,M[r>>2>>>0]=a.getSeconds(),M[r+4>>2>>>0]=a.getMinutes(),M[r+8>>2>>>0]=a.getHours(),M[r+12>>2>>>0]=a.getDate(),M[r+16>>2>>>0]=a.getMonth(),M[r+20>>2>>>0]=a.getYear(),r=a.getTime()/1e3,Ae((Y=r,1<=+Math.abs(Y)?0<Y?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)),r>>>0},l:function(){return-52},m:function(){},u:function(r,a,s){function b(r){return(r=r.toTimeString().match(/\(([A-Za-z ]+)\)$/))?r[1]:"GMT"}s>>>=0;var m=(new Date).getFullYear(),y=new Date(m,0,1),v=new Date(m,6,1);m=y.getTimezoneOffset();var w=v.getTimezoneOffset();U[r>>>0>>2>>>0]=60*Math.max(m,w),M[a>>>0>>2>>>0]=Number(m!=w),r=b(y),a=b(v),r=ge(r),a=ge(a),w<m?(U[s>>2>>>0]=r,U[s+4>>2>>>0]=a):(U[s>>2>>>0]=a,U[s+4>>2>>>0]=r)},d:()=>{J("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(r,a,s){return a>>>=0,C.copyWithin(r>>>0>>>0,a>>>0,a+(s>>>0)>>>0)},t:function(r){r>>>=0;var a=C.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var b=a*(1+.2/s);b=Math.min(b,r+100663296);var m=Math;b=Math.max(r,b);e:{m=m.min.call(m,4294901760,b+(65536-b%65536)%65536)-N.buffer.byteLength+65535>>>16;try{N.grow(m),z();var y=1;break e}catch(r){}y=void 0}if(y)return!0}return!1},D:function(r,a){r>>>=0,a>>>=0;var s=0;return me().forEach((function(b,m){var y=a+s;for(m=U[r+4*m>>2>>>0]=y,y=0;y<b.length;++y)j[m++>>0>>>0]=b.charCodeAt(y);j[m>>0>>>0]=0,s+=b.length+1})),0},E:function(r,a){r>>>=0,a>>>=0;var s=me();U[r>>2>>>0]=s.length;var b=0;return s.forEach((function(r){b+=r.length+1})),U[a>>2>>>0]=b,0},s:r=>{F||(y.onExit&&y.onExit(r),B=!0),O(r,new re(r))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(r,a,s,b){a>>>=0,s>>>=0,b>>>=0;for(var m=0,y=0;y<s;y++){var v=U[a>>2>>>0],w=U[a+4>>2>>>0];a+=8;for(var _=0;_<w;_++){var T=C[v+_>>>0],x=ye[r];0===T||10===T?((1===r?$:L)(ue(x,0)),x.length=0):x.push(T)}m+=w}return U[b>>2>>>0]=m,0},r:function(r,a){return r>>>=0,ve(C.subarray(r>>>0,r+(a>>>0)>>>0)),0},C:Te,c:function(r,a,s,b){return Te(r>>>0,a>>>0,s>>>0,b>>>0)}};!function(){function r(r){if(r=r.exports,R=r=function(r){var a=r=>()=>r()>>>0,s=r=>a=>r(a)>>>0;return(r=Object.assign({},r)).__errno_location=a(r.__errno_location),r.malloc=s(r.malloc),r.stackSave=a(r.stackSave),r.stackAlloc=s(r.stackAlloc),r}(r),N=R.L,z(),G.unshift(R.M),X--,y.monitorRunDependencies&&y.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var a=Z;Z=null,a()}return r}var a={a:xe};if(X++,y.monitorRunDependencies&&y.monitorRunDependencies(X),y.instantiateWasm)try{return y.instantiateWasm(a,r)}catch(r){L("Module.instantiateWasm callback failed with error: "+r),m(r)}(function(r,a){var s=q;return k||"function"!=typeof WebAssembly.instantiateStreaming||Q(s)||s.startsWith("file://")||P||"function"!=typeof fetch?ne(s,r,a):fetch(s,{credentials:"same-origin"}).then((b=>WebAssembly.instantiateStreaming(b,r).then(a,(function(b){return L("wasm streaming compile failed: "+b),L("falling back to ArrayBuffer instantiation"),ne(s,r,a)}))))})(a,(function(a){r(a.instance)})).catch(m)}(),y._OrtInit=(r,a)=>(y._OrtInit=R.N)(r,a),y._OrtGetLastError=(r,a)=>(y._OrtGetLastError=R.O)(r,a),y._OrtCreateSessionOptions=(r,a,s,b,m,v,w,_,T,x)=>(y._OrtCreateSessionOptions=R.P)(r,a,s,b,m,v,w,_,T,x),y._OrtAppendExecutionProvider=(r,a)=>(y._OrtAppendExecutionProvider=R.Q)(r,a),y._OrtAddSessionConfigEntry=(r,a,s)=>(y._OrtAddSessionConfigEntry=R.R)(r,a,s),y._OrtReleaseSessionOptions=r=>(y._OrtReleaseSessionOptions=R.S)(r),y._OrtCreateSession=(r,a,s)=>(y._OrtCreateSession=R.T)(r,a,s),y._OrtReleaseSession=r=>(y._OrtReleaseSession=R.U)(r),y._OrtGetInputOutputCount=(r,a,s)=>(y._OrtGetInputOutputCount=R.V)(r,a,s),y._OrtGetInputName=(r,a)=>(y._OrtGetInputName=R.W)(r,a),y._OrtGetOutputName=(r,a)=>(y._OrtGetOutputName=R.X)(r,a),y._OrtFree=r=>(y._OrtFree=R.Y)(r),y._OrtCreateTensor=(r,a,s,b,m)=>(y._OrtCreateTensor=R.Z)(r,a,s,b,m),y._OrtGetTensorData=(r,a,s,b,m)=>(y._OrtGetTensorData=R._)(r,a,s,b,m),y._OrtReleaseTensor=r=>(y._OrtReleaseTensor=R.$)(r),y._OrtCreateRunOptions=(r,a,s,b)=>(y._OrtCreateRunOptions=R.aa)(r,a,s,b),y._OrtAddRunConfigEntry=(r,a,s)=>(y._OrtAddRunConfigEntry=R.ba)(r,a,s),y._OrtReleaseRunOptions=r=>(y._OrtReleaseRunOptions=R.ca)(r),y._OrtRun=(r,a,s,b,m,v,w,_)=>(y._OrtRun=R.da)(r,a,s,b,m,v,w,_),y._OrtEndProfiling=r=>(y._OrtEndProfiling=R.ea)(r);var Oe=y._malloc=r=>(Oe=y._malloc=R.fa)(r);y._free=r=>(y._free=R.ga)(r);var Se,Ae=r=>(Ae=R.ia)(r),Pe=()=>(Pe=R.ja)(),Ee=r=>(Ee=R.ka)(r),Ie=r=>(Ie=R.la)(r);function De(){function r(){if(!Se&&(Se=!0,y.calledRun=!0,!B)){if(oe(G),a(y),y.onRuntimeInitialized&&y.onRuntimeInitialized(),y.postRun)for("function"==typeof y.postRun&&(y.postRun=[y.postRun]);y.postRun.length;){var r=y.postRun.shift();H.unshift(r)}oe(H)}}if(!(0<X)){if(y.preRun)for("function"==typeof y.preRun&&(y.preRun=[y.preRun]);y.preRun.length;)W();oe(V),0<X||(y.setStatus?(y.setStatus("Running..."),setTimeout((function(){setTimeout((function(){y.setStatus("")}),1),r()}),1)):r())}}if(y.stackAlloc=Ie,y.stackSave=Pe,y.stackRestore=Ee,y.UTF8ToString=le,y.stringToUTF8=(r,a,s)=>pe(r,C,a,s),y.lengthBytesUTF8=ce,Z=function r(){Se||De(),Se||(Z=r)},y.preInit)for("function"==typeof y.preInit&&(y.preInit=[y.preInit]);0<y.preInit.length;)y.preInit.pop()();return De(),r.ready});r.exports=m},4537:r=>{"use strict";r.exports=function(r,a){for(var s=new Array(arguments.length-1),b=0,m=2,y=!0;m<arguments.length;)s[b++]=arguments[m++];return new Promise((function(m,v){s[b]=function(r){if(y)if(y=!1,r)v(r);else{for(var a=new Array(arguments.length-1),s=0;s<a.length;)a[s++]=arguments[s];m.apply(null,a)}};try{r.apply(a||null,s)}catch(r){y&&(y=!1,v(r))}}))}},7419:(r,a)=>{"use strict";var s=a;s.length=function(r){var a=r.length;if(!a)return 0;for(var s=0;--a%4>1&&"="===r.charAt(a);)++s;return Math.ceil(3*r.length)/4-s};for(var b=new Array(64),m=new Array(123),y=0;y<64;)m[b[y]=y<26?y+65:y<52?y+71:y<62?y-4:y-59|43]=y++;s.encode=function(r,a,s){for(var m,y=null,v=[],w=0,_=0;a<s;){var T=r[a++];switch(_){case 0:v[w++]=b[T>>2],m=(3&T)<<4,_=1;break;case 1:v[w++]=b[m|T>>4],m=(15&T)<<2,_=2;break;case 2:v[w++]=b[m|T>>6],v[w++]=b[63&T],_=0}w>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,v)),w=0)}return _&&(v[w++]=b[m],v[w++]=61,1===_&&(v[w++]=61)),y?(w&&y.push(String.fromCharCode.apply(String,v.slice(0,w))),y.join("")):String.fromCharCode.apply(String,v.slice(0,w))};var v="invalid encoding";s.decode=function(r,a,s){for(var b,y=s,w=0,_=0;_<r.length;){var T=r.charCodeAt(_++);if(61===T&&w>1)break;if(void 0===(T=m[T]))throw Error(v);switch(w){case 0:b=T,w=1;break;case 1:a[s++]=b<<2|(48&T)>>4,b=T,w=2;break;case 2:a[s++]=(15&b)<<4|(60&T)>>2,b=T,w=3;break;case 3:a[s++]=(3&b)<<6|T,w=0}}if(1===w)throw Error(v);return s-y},s.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}},9211:r=>{"use strict";function a(){this._listeners={}}r.exports=a,a.prototype.on=function(r,a,s){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:a,ctx:s||this}),this},a.prototype.off=function(r,a){if(void 0===r)this._listeners={};else if(void 0===a)this._listeners[r]=[];else for(var s=this._listeners[r],b=0;b<s.length;)s[b].fn===a?s.splice(b,1):++b;return this},a.prototype.emit=function(r){var a=this._listeners[r];if(a){for(var s=[],b=1;b<arguments.length;)s.push(arguments[b++]);for(b=0;b<a.length;)a[b].fn.apply(a[b++].ctx,s)}return this}},945:r=>{"use strict";function a(r){return"undefined"!=typeof Float32Array?function(){var a=new Float32Array([-0]),s=new Uint8Array(a.buffer),b=128===s[3];function m(r,b,m){a[0]=r,b[m]=s[0],b[m+1]=s[1],b[m+2]=s[2],b[m+3]=s[3]}function y(r,b,m){a[0]=r,b[m]=s[3],b[m+1]=s[2],b[m+2]=s[1],b[m+3]=s[0]}function v(r,b){return s[0]=r[b],s[1]=r[b+1],s[2]=r[b+2],s[3]=r[b+3],a[0]}function w(r,b){return s[3]=r[b],s[2]=r[b+1],s[1]=r[b+2],s[0]=r[b+3],a[0]}r.writeFloatLE=b?m:y,r.writeFloatBE=b?y:m,r.readFloatLE=b?v:w,r.readFloatBE=b?w:v}():function(){function a(r,a,s,b){var m=a<0?1:0;if(m&&(a=-a),0===a)r(1/a>0?0:2147483648,s,b);else if(isNaN(a))r(2143289344,s,b);else if(a>34028234663852886e22)r((m<<31|2139095040)>>>0,s,b);else if(a<11754943508222875e-54)r((m<<31|Math.round(a/1401298464324817e-60))>>>0,s,b);else{var y=Math.floor(Math.log(a)/Math.LN2);r((m<<31|y+127<<23|8388607&Math.round(a*Math.pow(2,-y)*8388608))>>>0,s,b)}}function v(r,a,s){var b=r(a,s),m=2*(b>>31)+1,y=b>>>23&255,v=8388607&b;return 255===y?v?NaN:m*(1/0):0===y?1401298464324817e-60*m*v:m*Math.pow(2,y-150)*(v+8388608)}r.writeFloatLE=a.bind(null,s),r.writeFloatBE=a.bind(null,b),r.readFloatLE=v.bind(null,m),r.readFloatBE=v.bind(null,y)}(),"undefined"!=typeof Float64Array?function(){var a=new Float64Array([-0]),s=new Uint8Array(a.buffer),b=128===s[7];function m(r,b,m){a[0]=r,b[m]=s[0],b[m+1]=s[1],b[m+2]=s[2],b[m+3]=s[3],b[m+4]=s[4],b[m+5]=s[5],b[m+6]=s[6],b[m+7]=s[7]}function y(r,b,m){a[0]=r,b[m]=s[7],b[m+1]=s[6],b[m+2]=s[5],b[m+3]=s[4],b[m+4]=s[3],b[m+5]=s[2],b[m+6]=s[1],b[m+7]=s[0]}function v(r,b){return s[0]=r[b],s[1]=r[b+1],s[2]=r[b+2],s[3]=r[b+3],s[4]=r[b+4],s[5]=r[b+5],s[6]=r[b+6],s[7]=r[b+7],a[0]}function w(r,b){return s[7]=r[b],s[6]=r[b+1],s[5]=r[b+2],s[4]=r[b+3],s[3]=r[b+4],s[2]=r[b+5],s[1]=r[b+6],s[0]=r[b+7],a[0]}r.writeDoubleLE=b?m:y,r.writeDoubleBE=b?y:m,r.readDoubleLE=b?v:w,r.readDoubleBE=b?w:v}():function(){function a(r,a,s,b,m,y){var v=b<0?1:0;if(v&&(b=-b),0===b)r(0,m,y+a),r(1/b>0?0:2147483648,m,y+s);else if(isNaN(b))r(0,m,y+a),r(2146959360,m,y+s);else if(b>17976931348623157e292)r(0,m,y+a),r((v<<31|2146435072)>>>0,m,y+s);else{var w;if(b<22250738585072014e-324)r((w=b/5e-324)>>>0,m,y+a),r((v<<31|w/4294967296)>>>0,m,y+s);else{var _=Math.floor(Math.log(b)/Math.LN2);1024===_&&(_=1023),r(4503599627370496*(w=b*Math.pow(2,-_))>>>0,m,y+a),r((v<<31|_+1023<<20|1048576*w&1048575)>>>0,m,y+s)}}}function v(r,a,s,b,m){var y=r(b,m+a),v=r(b,m+s),w=2*(v>>31)+1,_=v>>>20&2047,T=4294967296*(1048575&v)+y;return 2047===_?T?NaN:w*(1/0):0===_?5e-324*w*T:w*Math.pow(2,_-1075)*(T+4503599627370496)}r.writeDoubleLE=a.bind(null,s,0,4),r.writeDoubleBE=a.bind(null,b,4,0),r.readDoubleLE=v.bind(null,m,0,4),r.readDoubleBE=v.bind(null,y,4,0)}(),r}function s(r,a,s){a[s]=255&r,a[s+1]=r>>>8&255,a[s+2]=r>>>16&255,a[s+3]=r>>>24}function b(r,a,s){a[s]=r>>>24,a[s+1]=r>>>16&255,a[s+2]=r>>>8&255,a[s+3]=255&r}function m(r,a){return(r[a]|r[a+1]<<8|r[a+2]<<16|r[a+3]<<24)>>>0}function y(r,a){return(r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3])>>>0}r.exports=a(a)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:r=>{"use strict";r.exports=function(r,a,s){var b=s||8192,m=b>>>1,y=null,v=b;return function(s){if(s<1||s>m)return r(s);v+s>b&&(y=r(b),v=0);var w=a.call(y,v,v+=s);return 7&v&&(v=1+(7|v)),w}}},4997:(r,a)=>{"use strict";var s=a;s.length=function(r){for(var a=0,s=0,b=0;b<r.length;++b)(s=r.charCodeAt(b))<128?a+=1:s<2048?a+=2:55296==(64512&s)&&56320==(64512&r.charCodeAt(b+1))?(++b,a+=4):a+=3;return a},s.read=function(r,a,s){if(s-a<1)return"";for(var b,m=null,y=[],v=0;a<s;)(b=r[a++])<128?y[v++]=b:b>191&&b<224?y[v++]=(31&b)<<6|63&r[a++]:b>239&&b<365?(b=((7&b)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++])-65536,y[v++]=55296+(b>>10),y[v++]=56320+(1023&b)):y[v++]=(15&b)<<12|(63&r[a++])<<6|63&r[a++],v>8191&&((m||(m=[])).push(String.fromCharCode.apply(String,y)),v=0);return m?(v&&m.push(String.fromCharCode.apply(String,y.slice(0,v))),m.join("")):String.fromCharCode.apply(String,y.slice(0,v))},s.write=function(r,a,s){for(var b,m,y=s,v=0;v<r.length;++v)(b=r.charCodeAt(v))<128?a[s++]=b:b<2048?(a[s++]=b>>6|192,a[s++]=63&b|128):55296==(64512&b)&&56320==(64512&(m=r.charCodeAt(v+1)))?(b=65536+((1023&b)<<10)+(1023&m),++v,a[s++]=b>>18|240,a[s++]=b>>12&63|128,a[s++]=b>>6&63|128,a[s++]=63&b|128):(a[s++]=b>>12|224,a[s++]=b>>6&63|128,a[s++]=63&b|128);return s-y}},3442:(r,a)=>{"use strict";a.__esModule=!0;var s=function(){function r(a){if(!a)throw new TypeError("Invalid argument; `value` has no value.");this.value=r.EMPTY,a&&r.isGuid(a)&&(this.value=a)}return r.isGuid=function(a){var s=a.toString();return a&&(a instanceof r||r.validator.test(s))},r.create=function(){return new r([r.gen(2),r.gen(1),r.gen(1),r.gen(1),r.gen(3)].join("-"))},r.createEmpty=function(){return new r("emptyguid")},r.parse=function(a){return new r(a)},r.raw=function(){return[r.gen(2),r.gen(1),r.gen(1),r.gen(1),r.gen(3)].join("-")},r.gen=function(r){for(var a="",s=0;s<r;s++)a+=(65536*(1+Math.random())|0).toString(16).substring(1);return a},r.prototype.equals=function(a){return r.isGuid(a)&&this.value===a.toString()},r.prototype.isEmpty=function(){return this.value===r.EMPTY},r.prototype.toString=function(){return this.value},r.prototype.toJSON=function(){return{value:this.value}},r.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),r.EMPTY="00000000-0000-0000-0000-000000000000",r}();a.Guid=s},2100:(r,a,s)=>{"use strict";r.exports=s(9482)},9482:(r,a,s)=>{"use strict";var b=a;function m(){b.util._configure(),b.Writer._configure(b.BufferWriter),b.Reader._configure(b.BufferReader)}b.build="minimal",b.Writer=s(1173),b.BufferWriter=s(3155),b.Reader=s(1408),b.BufferReader=s(593),b.util=s(9693),b.rpc=s(5994),b.roots=s(5054),b.configure=m,m()},1408:(r,a,s)=>{"use strict";r.exports=_;var b,m=s(9693),y=m.LongBits,v=m.utf8;function w(r,a){return RangeError("index out of range: "+r.pos+" + "+(a||1)+" > "+r.len)}function _(r){this.buf=r,this.pos=0,this.len=r.length}var T,x="undefined"!=typeof Uint8Array?function(r){if(r instanceof Uint8Array||Array.isArray(r))return new _(r);throw Error("illegal buffer")}:function(r){if(Array.isArray(r))return new _(r);throw Error("illegal buffer")},O=function(){return m.Buffer?function(r){return(_.create=function(r){return m.Buffer.isBuffer(r)?new b(r):x(r)})(r)}:x};function S(){var r=new y(0,0),a=0;if(!(this.len-this.pos>4)){for(;a<3;++a){if(this.pos>=this.len)throw w(this);if(r.lo=(r.lo|(127&this.buf[this.pos])<<7*a)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(127&this.buf[this.pos++])<<7*a)>>>0,r}for(;a<4;++a)if(r.lo=(r.lo|(127&this.buf[this.pos])<<7*a)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(127&this.buf[this.pos])<<28)>>>0,r.hi=(r.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return r;if(a=0,this.len-this.pos>4){for(;a<5;++a)if(r.hi=(r.hi|(127&this.buf[this.pos])<<7*a+3)>>>0,this.buf[this.pos++]<128)return r}else for(;a<5;++a){if(this.pos>=this.len)throw w(this);if(r.hi=(r.hi|(127&this.buf[this.pos])<<7*a+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}function A(r,a){return(r[a-4]|r[a-3]<<8|r[a-2]<<16|r[a-1]<<24)>>>0}function P(){if(this.pos+8>this.len)throw w(this,8);return new y(A(this.buf,this.pos+=4),A(this.buf,this.pos+=4))}_.create=O(),_.prototype._slice=m.Array.prototype.subarray||m.Array.prototype.slice,_.prototype.uint32=(T=4294967295,function(){if(T=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return T;if(T=(T|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return T;if(T=(T|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return T;if(T=(T|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return T;if(T=(T|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return T;if((this.pos+=5)>this.len)throw this.pos=this.len,w(this,10);return T}),_.prototype.int32=function(){return 0|this.uint32()},_.prototype.sint32=function(){var r=this.uint32();return r>>>1^-(1&r)|0},_.prototype.bool=function(){return 0!==this.uint32()},_.prototype.fixed32=function(){if(this.pos+4>this.len)throw w(this,4);return A(this.buf,this.pos+=4)},_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw w(this,4);return 0|A(this.buf,this.pos+=4)},_.prototype.float=function(){if(this.pos+4>this.len)throw w(this,4);var r=m.float.readFloatLE(this.buf,this.pos);return this.pos+=4,r},_.prototype.double=function(){if(this.pos+8>this.len)throw w(this,4);var r=m.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,r},_.prototype.bytes=function(){var r=this.uint32(),a=this.pos,s=this.pos+r;if(s>this.len)throw w(this,r);return this.pos+=r,Array.isArray(this.buf)?this.buf.slice(a,s):a===s?new this.buf.constructor(0):this._slice.call(this.buf,a,s)},_.prototype.string=function(){var r=this.bytes();return v.read(r,0,r.length)},_.prototype.skip=function(r){if("number"==typeof r){if(this.pos+r>this.len)throw w(this,r);this.pos+=r}else do{if(this.pos>=this.len)throw w(this)}while(128&this.buf[this.pos++]);return this},_.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(r=7&this.uint32());)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this},_._configure=function(r){b=r,_.create=O(),b._configure();var a=m.Long?"toLong":"toNumber";m.merge(_.prototype,{int64:function(){return S.call(this)[a](!1)},uint64:function(){return S.call(this)[a](!0)},sint64:function(){return S.call(this).zzDecode()[a](!1)},fixed64:function(){return P.call(this)[a](!0)},sfixed64:function(){return P.call(this)[a](!1)}})}},593:(r,a,s)=>{"use strict";r.exports=y;var b=s(1408);(y.prototype=Object.create(b.prototype)).constructor=y;var m=s(9693);function y(r){b.call(this,r)}y._configure=function(){m.Buffer&&(y.prototype._slice=m.Buffer.prototype.slice)},y.prototype.string=function(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))},y._configure()},5054:r=>{"use strict";r.exports={}},5994:(r,a,s)=>{"use strict";a.Service=s(7948)},7948:(r,a,s)=>{"use strict";r.exports=m;var b=s(9693);function m(r,a,s){if("function"!=typeof r)throw TypeError("rpcImpl must be a function");b.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(a),this.responseDelimited=Boolean(s)}(m.prototype=Object.create(b.EventEmitter.prototype)).constructor=m,m.prototype.rpcCall=function r(a,s,m,y,v){if(!y)throw TypeError("request must be specified");var w=this;if(!v)return b.asPromise(r,w,a,s,m,y);if(w.rpcImpl)try{return w.rpcImpl(a,s[w.requestDelimited?"encodeDelimited":"encode"](y).finish(),(function(r,s){if(r)return w.emit("error",r,a),v(r);if(null!==s){if(!(s instanceof m))try{s=m[w.responseDelimited?"decodeDelimited":"decode"](s)}catch(r){return w.emit("error",r,a),v(r)}return w.emit("data",s,a),v(null,s)}w.end(!0)}))}catch(r){return w.emit("error",r,a),void setTimeout((function(){v(r)}),0)}else setTimeout((function(){v(Error("already ended"))}),0)},m.prototype.end=function(r){return this.rpcImpl&&(r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(r,a,s)=>{"use strict";r.exports=m;var b=s(9693);function m(r,a){this.lo=r>>>0,this.hi=a>>>0}var y=m.zero=new m(0,0);y.toNumber=function(){return 0},y.zzEncode=y.zzDecode=function(){return this},y.length=function(){return 1};var v=m.zeroHash="\0\0\0\0\0\0\0\0";m.fromNumber=function(r){if(0===r)return y;var a=r<0;a&&(r=-r);var s=r>>>0,b=(r-s)/4294967296>>>0;return a&&(b=~b>>>0,s=~s>>>0,++s>4294967295&&(s=0,++b>4294967295&&(b=0))),new m(s,b)},m.from=function(r){if("number"==typeof r)return m.fromNumber(r);if(b.isString(r)){if(!b.Long)return m.fromNumber(parseInt(r,10));r=b.Long.fromString(r)}return r.low||r.high?new m(r.low>>>0,r.high>>>0):y},m.prototype.toNumber=function(r){if(!r&&this.hi>>>31){var a=1+~this.lo>>>0,s=~this.hi>>>0;return a||(s=s+1>>>0),-(a+4294967296*s)}return this.lo+4294967296*this.hi},m.prototype.toLong=function(r){return b.Long?new b.Long(0|this.lo,0|this.hi,Boolean(r)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(r)}};var w=String.prototype.charCodeAt;m.fromHash=function(r){return r===v?y:new m((w.call(r,0)|w.call(r,1)<<8|w.call(r,2)<<16|w.call(r,3)<<24)>>>0,(w.call(r,4)|w.call(r,5)<<8|w.call(r,6)<<16|w.call(r,7)<<24)>>>0)},m.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},m.prototype.zzEncode=function(){var r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this},m.prototype.zzDecode=function(){var r=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this},m.prototype.length=function(){var r=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,s=this.hi>>>24;return 0===s?0===a?r<16384?r<128?1:2:r<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:s<128?9:10}},9693:function(r,a,s){"use strict";var b=a;function m(r,a,s){for(var b=Object.keys(a),m=0;m<b.length;++m)void 0!==r[b[m]]&&s||(r[b[m]]=a[b[m]]);return r}function y(r){function a(r,s){if(!(this instanceof a))return new a(r,s);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),s&&m(this,s)}return a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),a}b.asPromise=s(4537),b.base64=s(7419),b.EventEmitter=s(9211),b.float=s(945),b.inquire=s(7199),b.utf8=s(4997),b.pool=s(6662),b.LongBits=s(1945),b.isNode=Boolean(void 0!==__webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.process&&__webpack_require__.g.process.versions&&__webpack_require__.g.process.versions.node),b.global=b.isNode&&__webpack_require__.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,b.emptyArray=Object.freeze?Object.freeze([]):[],b.emptyObject=Object.freeze?Object.freeze({}):{},b.isInteger=Number.isInteger||function(r){return"number"==typeof r&&isFinite(r)&&Math.floor(r)===r},b.isString=function(r){return"string"==typeof r||r instanceof String},b.isObject=function(r){return r&&"object"==typeof r},b.isset=b.isSet=function(r,a){var s=r[a];return!(null==s||!r.hasOwnProperty(a))&&("object"!=typeof s||(Array.isArray(s)?s.length:Object.keys(s).length)>0)},b.Buffer=function(){try{var r=b.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(r){return null}}(),b._Buffer_from=null,b._Buffer_allocUnsafe=null,b.newBuffer=function(r){return"number"==typeof r?b.Buffer?b._Buffer_allocUnsafe(r):new b.Array(r):b.Buffer?b._Buffer_from(r):"undefined"==typeof Uint8Array?r:new Uint8Array(r)},b.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,b.Long=b.global.dcodeIO&&b.global.dcodeIO.Long||b.global.Long||b.inquire("long"),b.key2Re=/^true|false|0|1$/,b.key32Re=/^-?(?:0|[1-9][0-9]*)$/,b.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,b.longToHash=function(r){return r?b.LongBits.from(r).toHash():b.LongBits.zeroHash},b.longFromHash=function(r,a){var s=b.LongBits.fromHash(r);return b.Long?b.Long.fromBits(s.lo,s.hi,a):s.toNumber(Boolean(a))},b.merge=m,b.lcFirst=function(r){return r.charAt(0).toLowerCase()+r.substring(1)},b.newError=y,b.ProtocolError=y("ProtocolError"),b.oneOfGetter=function(r){for(var a={},s=0;s<r.length;++s)a[r[s]]=1;return function(){for(var r=Object.keys(this),s=r.length-1;s>-1;--s)if(1===a[r[s]]&&void 0!==this[r[s]]&&null!==this[r[s]])return r[s]}},b.oneOfSetter=function(r){return function(a){for(var s=0;s<r.length;++s)r[s]!==a&&delete this[r[s]]}},b.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},b._configure=function(){var r=b.Buffer;r?(b._Buffer_from=r.from!==Uint8Array.from&&r.from||function(a,s){return new r(a,s)},b._Buffer_allocUnsafe=r.allocUnsafe||function(a){return new r(a)}):b._Buffer_from=b._Buffer_allocUnsafe=null}},1173:(r,a,s)=>{"use strict";r.exports=O;var b,m=s(9693),y=m.LongBits,v=m.base64,w=m.utf8;function _(r,a,s){this.fn=r,this.len=a,this.next=void 0,this.val=s}function T(){}function x(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function O(){this.len=0,this.head=new _(T,0,0),this.tail=this.head,this.states=null}var S=function(){return m.Buffer?function(){return(O.create=function(){return new b})()}:function(){return new O}};function A(r,a,s){a[s]=255&r}function P(r,a){this.len=r,this.next=void 0,this.val=a}function E(r,a,s){for(;r.hi;)a[s++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)a[s++]=127&r.lo|128,r.lo=r.lo>>>7;a[s++]=r.lo}function I(r,a,s){a[s]=255&r,a[s+1]=r>>>8&255,a[s+2]=r>>>16&255,a[s+3]=r>>>24}O.create=S(),O.alloc=function(r){return new m.Array(r)},m.Array!==Array&&(O.alloc=m.pool(O.alloc,m.Array.prototype.subarray)),O.prototype._push=function(r,a,s){return this.tail=this.tail.next=new _(r,a,s),this.len+=a,this},P.prototype=Object.create(_.prototype),P.prototype.fn=function(r,a,s){for(;r>127;)a[s++]=127&r|128,r>>>=7;a[s]=r},O.prototype.uint32=function(r){return this.len+=(this.tail=this.tail.next=new P((r>>>=0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this},O.prototype.int32=function(r){return r<0?this._push(E,10,y.fromNumber(r)):this.uint32(r)},O.prototype.sint32=function(r){return this.uint32((r<<1^r>>31)>>>0)},O.prototype.uint64=function(r){var a=y.from(r);return this._push(E,a.length(),a)},O.prototype.int64=O.prototype.uint64,O.prototype.sint64=function(r){var a=y.from(r).zzEncode();return this._push(E,a.length(),a)},O.prototype.bool=function(r){return this._push(A,1,r?1:0)},O.prototype.fixed32=function(r){return this._push(I,4,r>>>0)},O.prototype.sfixed32=O.prototype.fixed32,O.prototype.fixed64=function(r){var a=y.from(r);return this._push(I,4,a.lo)._push(I,4,a.hi)},O.prototype.sfixed64=O.prototype.fixed64,O.prototype.float=function(r){return this._push(m.float.writeFloatLE,4,r)},O.prototype.double=function(r){return this._push(m.float.writeDoubleLE,8,r)};var D=m.Array.prototype.set?function(r,a,s){a.set(r,s)}:function(r,a,s){for(var b=0;b<r.length;++b)a[s+b]=r[b]};O.prototype.bytes=function(r){var a=r.length>>>0;if(!a)return this._push(A,1,0);if(m.isString(r)){var s=O.alloc(a=v.length(r));v.decode(r,s,0),r=s}return this.uint32(a)._push(D,a,r)},O.prototype.string=function(r){var a=w.length(r);return a?this.uint32(a)._push(w.write,a,r):this._push(A,1,0)},O.prototype.fork=function(){return this.states=new x(this),this.head=this.tail=new _(T,0,0),this.len=0,this},O.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _(T,0,0),this.len=0),this},O.prototype.ldelim=function(){var r=this.head,a=this.tail,s=this.len;return this.reset().uint32(s),s&&(this.tail.next=r.next,this.tail=a,this.len+=s),this},O.prototype.finish=function(){for(var r=this.head.next,a=this.constructor.alloc(this.len),s=0;r;)r.fn(r.val,a,s),s+=r.len,r=r.next;return a},O._configure=function(r){b=r,O.create=S(),b._configure()}},3155:(r,a,s)=>{"use strict";r.exports=y;var b=s(1173);(y.prototype=Object.create(b.prototype)).constructor=y;var m=s(9693);function y(){b.call(this)}function v(r,a,s){r.length<40?m.utf8.write(r,a,s):a.utf8Write?a.utf8Write(r,s):a.write(r,s)}y._configure=function(){y.alloc=m._Buffer_allocUnsafe,y.writeBytesBuffer=m.Buffer&&m.Buffer.prototype instanceof Uint8Array&&"set"===m.Buffer.prototype.set.name?function(r,a,s){a.set(r,s)}:function(r,a,s){if(r.copy)r.copy(a,s,0,r.length);else for(var b=0;b<r.length;)a[s++]=r[b++]}},y.prototype.bytes=function(r){m.isString(r)&&(r=m._Buffer_from(r,"base64"));var a=r.length>>>0;return this.uint32(a),a&&this._push(y.writeBytesBuffer,a,r),this},y.prototype.string=function(r){var a=m.Buffer.byteLength(r);return this.uint32(a),a&&this._push(v,a,r),this},y._configure()},4154:r=>{"use strict";r.exports='"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\n'},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.resolveBackend=a.registerBackend=void 0;const s={},b=[];a.registerBackend=(r,a,m)=>{if(!a||"function"!=typeof a.init||"function"!=typeof a.createSessionHandler)throw new TypeError("not a valid backend");{const y=s[r];if(void 0===y)s[r]={backend:a,priority:m};else{if(y.priority>m)return;if(y.priority===m&&y.backend!==a)throw new Error(`cannot register backend "${r}" using priority ${m}`)}if(m>=0){const a=b.indexOf(r);-1!==a&&b.splice(a,1);for(let y=0;y<b.length;y++)if(s[b[y]].priority<=m)return void b.splice(y,0,r);b.push(r)}}},a.resolveBackend=async r=>{const a=0===r.length?b:r,m=[];for(const y of a){const r=s[y];if(r){if(r.initialized)return r.backend;if(r.aborted)continue;const a=!!r.initPromise;try{return a||(r.initPromise=r.backend.init()),await r.initPromise,r.initialized=!0,r.backend}catch(b){a||m.push({name:y,err:b}),r.aborted=!0}finally{delete r.initPromise}}}throw new Error(`no available backend found. ERR: ${m.map((r=>`[${r.name}] ${r.err}`)).join(", ")}`)}},4798:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.registerBackend=void 0;var b=s(685);Object.defineProperty(a,"registerBackend",{enumerable:!0,get:function(){return b.registerBackend}})},3121:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.env=void 0;const b=s(9104);let m="warning";a.env={wasm:{},webgl:{},webgpu:{},versions:{common:b.version},set logLevel(r){if(void 0!==r){if("string"!=typeof r||-1===["verbose","info","warning","error","fatal"].indexOf(r))throw new Error(`Unsupported logging level: ${r}`);m=r}},get logLevel(){return m}},Object.defineProperty(a.env,"logLevel",{enumerable:!0})},2457:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.env=void 0;const b=s(3121);a.env=b.env},2235:function(r,a,s){"use strict";var b=this&&this.__createBinding||(Object.create?function(r,a,s,b){void 0===b&&(b=s);var m=Object.getOwnPropertyDescriptor(a,s);m&&!("get"in m?!a.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,b,m)}:function(r,a,s,b){void 0===b&&(b=s),r[b]=a[s]}),m=this&&this.__exportStar||function(r,a){for(var s in r)"default"===s||Object.prototype.hasOwnProperty.call(a,s)||b(a,r,s)};Object.defineProperty(a,"__esModule",{value:!0}),m(s(4798),a),m(s(2457),a),m(s(3974),a),m(s(963),a),m(s(7852),a)},8036:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.InferenceSession=void 0;const b=s(685),m=s(963);class i{constructor(r){this.handler=r}async run(r,a,s){const b={};let y={};if("object"!=typeof r||null===r||r instanceof m.Tensor||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let v=!0;if("object"==typeof a){if(null===a)throw new TypeError("Unexpected argument[1]: cannot be null.");if(a instanceof m.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(a)){if(0===a.length)throw new TypeError("'fetches' cannot be an empty array.");v=!1;for(const r of a){if("string"!=typeof r)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(r))throw new RangeError(`'fetches' contains invalid output name: ${r}.`);b[r]=null}if("object"==typeof s&&null!==s)y=s;else if(void 0!==s)throw new TypeError("'options' must be an object.")}else{let r=!1;const w=Object.getOwnPropertyNames(a);for(const s of this.outputNames)if(-1!==w.indexOf(s)){const y=a[s];(null===y||y instanceof m.Tensor)&&(r=!0,v=!1,b[s]=y)}if(r){if("object"==typeof s&&null!==s)y=s;else if(void 0!==s)throw new TypeError("'options' must be an object.")}else y=a}}else if(void 0!==a)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const m of this.inputNames)if(void 0===r[m])throw new Error(`input '${m}' is missing in 'feeds'.`);if(v)for(const m of this.outputNames)b[m]=null;const w=await this.handler.run(r,b,y),_={};for(const T in w)Object.hasOwnProperty.call(w,T)&&(_[T]=new m.Tensor(w[T].type,w[T].data,w[T].dims));return _}async release(){return this.handler.dispose()}static async create(r,a,s,m){let y,v={};if("string"==typeof r){if(y=r,"object"==typeof a&&null!==a)v=a;else if(void 0!==a)throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(y=r,"object"==typeof a&&null!==a)v=a;else if(void 0!==a)throw new TypeError("'options' must be an object.")}else{if(!(r instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&r instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const b=r;let w=0,_=r.byteLength;if("object"==typeof a&&null!==a)v=a;else if("number"==typeof a){if(w=a,!Number.isSafeInteger(w))throw new RangeError("'byteOffset' must be an integer.");if(w<0||w>=b.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${b.byteLength}).`);if(_=r.byteLength-w,"number"==typeof s){if(_=s,!Number.isSafeInteger(_))throw new RangeError("'byteLength' must be an integer.");if(_<=0||w+_>b.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${b.byteLength-w}].`);if("object"==typeof m&&null!==m)v=m;else if(void 0!==m)throw new TypeError("'options' must be an object.")}else if(void 0!==s)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==a)throw new TypeError("'options' must be an object.");y=new Uint8Array(b,w,_)}}const w=(v.executionProviders||[]).map((r=>"string"==typeof r?r:r.name)),_=await(0,b.resolveBackend)(w),T=await _.createSessionHandler(y,v);return new i(T)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}a.InferenceSession=i},3974:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.InferenceSession=void 0;const b=s(8036);a.InferenceSession=b.InferenceSession},7852:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0})},2350:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.tensorToImageData=a.tensorToDataURL=void 0,a.tensorToDataURL=(r,a)=>{const s=document.createElement("canvas");s.width=r.dims[3],s.height=r.dims[2];const b=s.getContext("2d");if(null!=b){let m,y;void 0!==a?.tensorLayout&&"NHWC"===a.tensorLayout?(m=r.dims[2],y=r.dims[3]):(m=r.dims[3],y=r.dims[2]);const v=void 0!==a?.format?a.format:"RGB",w=a?.norm;let _,T;void 0===w||void 0===w.mean?_=[255,255,255,255]:"number"==typeof w.mean?_=[w.mean,w.mean,w.mean,w.mean]:(_=[w.mean[0],w.mean[1],w.mean[2],0],void 0!==w.mean[3]&&(_[3]=w.mean[3])),void 0===w||void 0===w.bias?T=[0,0,0,0]:"number"==typeof w.bias?T=[w.bias,w.bias,w.bias,w.bias]:(T=[w.bias[0],w.bias[1],w.bias[2],0],void 0!==w.bias[3]&&(T[3]=w.bias[3]));const x=y*m;let O=0,S=x,A=2*x,P=-1;"RGBA"===v?(O=0,S=x,A=2*x,P=3*x):"RGB"===v?(O=0,S=x,A=2*x):"RBG"===v&&(O=0,A=x,S=2*x);for(let a=0;a<y;a++)for(let s=0;s<m;s++){const m=(r.data[O++]-T[0])*_[0],y=(r.data[S++]-T[1])*_[1],v=(r.data[A++]-T[2])*_[2],w=-1===P?255:(r.data[P++]-T[3])*_[3];b.fillStyle="rgba("+m+","+y+","+v+","+w+")",b.fillRect(s,a,1,1)}return s.toDataURL()}throw new Error("Can not access image data")},a.tensorToImageData=(r,a)=>{const s=document.createElement("canvas").getContext("2d");let b;if(null==s)throw new Error("Can not access image data");{let m,y,v;void 0!==a?.tensorLayout&&"NHWC"===a.tensorLayout?(m=r.dims[2],y=r.dims[1],v=r.dims[3]):(m=r.dims[3],y=r.dims[2],v=r.dims[1]);const w=void 0!==a&&void 0!==a.format?a.format:"RGB",_=a?.norm;let T,x;void 0===_||void 0===_.mean?T=[255,255,255,255]:"number"==typeof _.mean?T=[_.mean,_.mean,_.mean,_.mean]:(T=[_.mean[0],_.mean[1],_.mean[2],255],void 0!==_.mean[3]&&(T[3]=_.mean[3])),void 0===_||void 0===_.bias?x=[0,0,0,0]:"number"==typeof _.bias?x=[_.bias,_.bias,_.bias,_.bias]:(x=[_.bias[0],_.bias[1],_.bias[2],0],void 0!==_.bias[3]&&(x[3]=_.bias[3]));const O=y*m;if(void 0!==a&&(void 0!==a.format&&4===v&&"RGBA"!==a.format||3===v&&"RGB"!==a.format&&"BGR"!==a.format))throw new Error("Tensor format doesn't match input tensor dims");const S=4;let A=0,P=1,E=2,I=3,D=0,k=O,$=2*O,L=-1;"RGBA"===w?(D=0,k=O,$=2*O,L=3*O):"RGB"===w?(D=0,k=O,$=2*O):"RBG"===w&&(D=0,$=O,k=2*O),b=s.createImageData(m,y);for(let a=0;a<y*m;A+=S,P+=S,E+=S,I+=S,a++)b.data[A]=(r.data[D++]-x[0])*T[0],b.data[P]=(r.data[k++]-x[1])*T[1],b.data[E]=(r.data[$++]-x[2])*T[2],b.data[I]=-1===L?255:(r.data[L++]-x[3])*T[3]}return b}},4866:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.tensorFromImage=a.bufferToTensor=void 0;const b=s(963);a.bufferToTensor=(r,a)=>{if(void 0===r)throw new Error("Image buffer must be defined");if(void 0===a.height||void 0===a.width)throw new Error("Image height and width must be defined");if("NHWC"===a.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");const{height:s,width:m}=a,y=a.norm??{mean:255,bias:0};let v,w;v="number"==typeof y.mean?[y.mean,y.mean,y.mean,y.mean]:[y.mean[0],y.mean[1],y.mean[2],y.mean[3]??255],w="number"==typeof y.bias?[y.bias,y.bias,y.bias,y.bias]:[y.bias[0],y.bias[1],y.bias[2],y.bias[3]??0];const _=void 0!==a.format?a.format:"RGBA",T=void 0!==a.tensorFormat&&void 0!==a.tensorFormat?a.tensorFormat:"RGB",x=s*m,O="RGBA"===T?new Float32Array(4*x):new Float32Array(3*x);let S=4,A=0,P=1,E=2,I=3,D=0,k=x,$=2*x,L=-1;"RGB"===_&&(S=3,A=0,P=1,E=2,I=-1),"RGBA"===T?L=3*x:"RBG"===T?(D=0,$=x,k=2*x):"BGR"===T&&($=0,k=x,D=2*x);for(let b=0;b<x;b++,A+=S,E+=S,P+=S,I+=S)O[D++]=(r[A]+w[0])/v[0],O[k++]=(r[P]+w[1])/v[1],O[$++]=(r[E]+w[2])/v[2],-1!==L&&-1!==I&&(O[L++]=(r[I]+w[3])/v[3]);return"RGBA"===T?new b.Tensor("float32",O,[1,4,s,m]):new b.Tensor("float32",O,[1,3,s,m])},a.tensorFromImage=async(r,s)=>{const b="undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement,m="undefined"!=typeof ImageData&&r instanceof ImageData,y="undefined"!=typeof ImageBitmap&&r instanceof ImageBitmap,v="string"==typeof r;let w,_=s??{};if(b){const a=document.createElement("canvas");a.width=r.width,a.height=r.height;const b=a.getContext("2d");if(null==b)throw new Error("Can not access image data");{let a=r.height,m=r.width;if(void 0!==s&&void 0!==s.resizedHeight&&void 0!==s.resizedWidth&&(a=s.resizedHeight,m=s.resizedWidth),void 0!==s){if(_=s,void 0!==s.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");_.tensorFormat="RGBA",_.height=a,_.width=m}else _.tensorFormat="RGBA",_.height=a,_.width=m;b.drawImage(r,0,0),w=b.getImageData(0,0,m,a).data}}else{if(!m){if(y){if(void 0===s)throw new Error("Please provide image config with format for Imagebitmap");const b=document.createElement("canvas");b.width=r.width,b.height=r.height;const m=b.getContext("2d");if(null!=m){const s=r.height,b=r.width;return m.drawImage(r,0,0,b,s),w=m.getImageData(0,0,b,s).data,_.height=s,_.width=b,(0,a.bufferToTensor)(w,_)}throw new Error("Can not access image data")}if(v)return new Promise(((s,b)=>{const m=document.createElement("canvas"),y=m.getContext("2d");if(!r||!y)return b();const v=new Image;v.crossOrigin="Anonymous",v.src=r,v.onload=()=>{m.width=v.width,m.height=v.height,y.drawImage(v,0,0,m.width,m.height);const r=y.getImageData(0,0,m.width,m.height);_.height=m.height,_.width=m.width,s((0,a.bufferToTensor)(r.data,_))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let a,b;if(void 0!==s&&void 0!==s.resizedWidth&&void 0!==s.resizedHeight?(a=s.resizedHeight,b=s.resizedWidth):(a=r.height,b=r.width),void 0!==s&&(_=s),_.format="RGBA",_.height=a,_.width=b,void 0!==s){const s=document.createElement("canvas");s.width=b,s.height=a;const m=s.getContext("2d");if(null==m)throw new Error("Can not access image data");m.putImageData(r,0,0),w=m.getImageData(0,0,b,a).data}else w=r.data}}if(void 0!==w)return(0,a.bufferToTensor)(w,_);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Tensor=void 0;const b=s(2350),m=s(4866),y=s(106),v=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),w=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let _=!1;a.Tensor=class{constructor(r,a,s){let b,m,T;if((()=>{if(!_){_=!0;const r="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,a="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from;r&&(v.set("int64",BigInt64Array),w.set(BigInt64Array,"int64")),a&&(v.set("uint64",BigUint64Array),w.set(BigUint64Array,"uint64"))}})(),"string"==typeof r)if(b=r,T=s,"string"===r){if(!Array.isArray(a))throw new TypeError("A string tensor's data must be a string array.");m=a}else{const s=v.get(r);if(void 0===s)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(a)){if("float16"===r)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");m="uint64"===r||"int64"===r?s.from(a,BigInt):s.from(a)}else{if(!(a instanceof s))throw new TypeError(`A ${b} tensor's data must be type of ${s}`);m=a}}else if(T=a,Array.isArray(r)){if(0===r.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const a=typeof r[0];if("string"===a)b="string",m=r;else{if("boolean"!==a)throw new TypeError(`Invalid element type of data array: ${a}.`);b="bool",m=Uint8Array.from(r)}}else{const a=w.get(r.constructor);if(void 0===a)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);b=a,m=r}if(void 0===T)T=[m.length];else if(!Array.isArray(T))throw new TypeError("A tensor's dims must be a number array");const x=(0,y.calculateSize)(T);if(x!==m.length)throw new Error(`Tensor's size(${x}) does not match data length(${m.length}).`);this.dims=T,this.type=b,this.data=m,this.size=x}static async fromImage(r,a){return(0,m.tensorFromImage)(r,a)}toDataURL(r){return(0,b.tensorToDataURL)(this,r)}toImageData(r){return(0,b.tensorToImageData)(this,r)}reshape(r){return(0,y.tensorReshape)(this,r)}}},106:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.tensorReshape=a.calculateSize=void 0;const b=s(963);a.calculateSize=r=>{let a=1;for(let s=0;s<r.length;s++){const b=r[s];if("number"!=typeof b||!Number.isSafeInteger(b))throw new TypeError(`dims[${s}] must be an integer, got: ${b}`);if(b<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${b}`);a*=b}return a},a.tensorReshape=(r,a)=>new b.Tensor(r.type,r.data,a)},963:(r,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Tensor=void 0;const b=s(5957);a.Tensor=b.Tensor},9104:(r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.version=void 0,a.version="1.16.3"},1583:(r,a)=>{var s,b=function(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=null;try{a=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(r){}function s(r,a,s){this.low=0|r,this.high=0|a,this.unsigned=!!s}function b(r){return!0===(r&&r.__isLong__)}function m(r){var a=Math.clz32(r&-r);return r?31-a:a}s.prototype.__isLong__,Object.defineProperty(s.prototype,"__isLong__",{value:!0}),s.isLong=b;var y={},v={};function w(r,a){var s,b,m;return a?(m=0<=(r>>>=0)&&r<256)&&(b=v[r])?b:(s=T(r,0,!0),m&&(v[r]=s),s):(m=-128<=(r|=0)&&r<128)&&(b=y[r])?b:(s=T(r,r<0?-1:0,!1),m&&(y[r]=s),s)}function _(r,a){if(isNaN(r))return a?k:D;if(a){if(r<0)return k;if(r>=P)return R}else{if(r<=-E)return j;if(r+1>=E)return N}return r<0?_(-r,a).neg():T(r%A|0,r/A|0,a)}function T(r,a,b){return new s(r,a,b)}s.fromInt=w,s.fromNumber=_,s.fromBits=T;var x=Math.pow;function O(r,a,s){if(0===r.length)throw Error("empty string");if("number"==typeof a?(s=a,a=!1):a=!!a,"NaN"===r||"Infinity"===r||"+Infinity"===r||"-Infinity"===r)return a?k:D;if((s=s||10)<2||36<s)throw RangeError("radix");var b;if((b=r.indexOf("-"))>0)throw Error("interior hyphen");if(0===b)return O(r.substring(1),a,s).neg();for(var m=_(x(s,8)),y=D,v=0;v<r.length;v+=8){var w=Math.min(8,r.length-v),T=parseInt(r.substring(v,v+w),s);if(w<8){var S=_(x(s,w));y=y.mul(S).add(_(T))}else y=(y=y.mul(m)).add(_(T))}return y.unsigned=a,y}function S(r,a){return"number"==typeof r?_(r,a):"string"==typeof r?O(r,a):T(r.low,r.high,"boolean"==typeof a?a:r.unsigned)}s.fromString=O,s.fromValue=S;var A=4294967296,P=A*A,E=P/2,I=w(1<<24),D=w(0);s.ZERO=D;var k=w(0,!0);s.UZERO=k;var $=w(1);s.ONE=$;var L=w(1,!0);s.UONE=L;var F=w(-1);s.NEG_ONE=F;var N=T(-1,2147483647,!1);s.MAX_VALUE=N;var R=T(-1,-1,!0);s.MAX_UNSIGNED_VALUE=R;var j=T(0,-2147483648,!1);s.MIN_VALUE=j;var C=s.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*A+(this.low>>>0):this.high*A+(this.low>>>0)},C.toString=function(r){if((r=r||10)<2||36<r)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(j)){var a=_(r),s=this.div(a),b=s.mul(a).sub(this);return s.toString(r)+b.toInt().toString(r)}return"-"+this.neg().toString(r)}for(var m=_(x(r,6),this.unsigned),y=this,v="";;){var w=y.div(m),T=(y.sub(w.mul(m)).toInt()>>>0).toString(r);if((y=w).isZero())return T+v;for(;T.length<6;)T="0"+T;v=""+T+v}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(j)?64:this.neg().getNumBitsAbs();for(var r=0!=this.high?this.high:this.low,a=31;a>0&&0==(r&1<<a);a--);return 0!=this.high?a+33:a+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(r){return b(r)||(r=S(r)),(this.unsigned===r.unsigned||this.high>>>31!=1||r.high>>>31!=1)&&this.high===r.high&&this.low===r.low},C.eq=C.equals,C.notEquals=function(r){return!this.eq(r)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(r){return this.comp(r)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(r){return this.comp(r)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(r){return this.comp(r)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(r){return this.comp(r)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(r){if(b(r)||(r=S(r)),this.eq(r))return 0;var a=this.isNegative(),s=r.isNegative();return a&&!s?-1:!a&&s?1:this.unsigned?r.high>>>0>this.high>>>0||r.high===this.high&&r.low>>>0>this.low>>>0?-1:1:this.sub(r).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(j)?j:this.not().add($)},C.neg=C.negate,C.add=function(r){b(r)||(r=S(r));var a=this.high>>>16,s=65535&this.high,m=this.low>>>16,y=65535&this.low,v=r.high>>>16,w=65535&r.high,_=r.low>>>16,x=0,O=0,A=0,P=0;return A+=(P+=y+(65535&r.low))>>>16,O+=(A+=m+_)>>>16,x+=(O+=s+w)>>>16,x+=a+v,T((A&=65535)<<16|(P&=65535),(x&=65535)<<16|(O&=65535),this.unsigned)},C.subtract=function(r){return b(r)||(r=S(r)),this.add(r.neg())},C.sub=C.subtract,C.multiply=function(r){if(this.isZero())return this;if(b(r)||(r=S(r)),a)return T(a.mul(this.low,this.high,r.low,r.high),a.get_high(),this.unsigned);if(r.isZero())return this.unsigned?k:D;if(this.eq(j))return r.isOdd()?j:D;if(r.eq(j))return this.isOdd()?j:D;if(this.isNegative())return r.isNegative()?this.neg().mul(r.neg()):this.neg().mul(r).neg();if(r.isNegative())return this.mul(r.neg()).neg();if(this.lt(I)&&r.lt(I))return _(this.toNumber()*r.toNumber(),this.unsigned);var s=this.high>>>16,m=65535&this.high,y=this.low>>>16,v=65535&this.low,w=r.high>>>16,x=65535&r.high,O=r.low>>>16,A=65535&r.low,P=0,E=0,$=0,L=0;return $+=(L+=v*A)>>>16,E+=($+=y*A)>>>16,$&=65535,E+=($+=v*O)>>>16,P+=(E+=m*A)>>>16,E&=65535,P+=(E+=y*O)>>>16,E&=65535,P+=(E+=v*x)>>>16,P+=s*A+m*O+y*x+v*w,T(($&=65535)<<16|(L&=65535),(P&=65535)<<16|(E&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(r){if(b(r)||(r=S(r)),r.isZero())throw Error("division by zero");var s,m,y;if(a)return this.unsigned||-2147483648!==this.high||-1!==r.low||-1!==r.high?T((this.unsigned?a.div_u:a.div_s)(this.low,this.high,r.low,r.high),a.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?k:D;if(this.unsigned){if(r.unsigned||(r=r.toUnsigned()),r.gt(this))return k;if(r.gt(this.shru(1)))return L;y=k}else{if(this.eq(j))return r.eq($)||r.eq(F)?j:r.eq(j)?$:(s=this.shr(1).div(r).shl(1)).eq(D)?r.isNegative()?$:F:(m=this.sub(r.mul(s)),y=s.add(m.div(r)));if(r.eq(j))return this.unsigned?k:D;if(this.isNegative())return r.isNegative()?this.neg().div(r.neg()):this.neg().div(r).neg();if(r.isNegative())return this.div(r.neg()).neg();y=D}for(m=this;m.gte(r);){s=Math.max(1,Math.floor(m.toNumber()/r.toNumber()));for(var v=Math.ceil(Math.log(s)/Math.LN2),w=v<=48?1:x(2,v-48),O=_(s),A=O.mul(r);A.isNegative()||A.gt(m);)A=(O=_(s-=w,this.unsigned)).mul(r);O.isZero()&&(O=$),y=y.add(O),m=m.sub(A)}return y},C.div=C.divide,C.modulo=function(r){return b(r)||(r=S(r)),a?T((this.unsigned?a.rem_u:a.rem_s)(this.low,this.high,r.low,r.high),a.get_high(),this.unsigned):this.sub(this.div(r).mul(r))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return T(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?m(this.low):m(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(r){return b(r)||(r=S(r)),T(this.low&r.low,this.high&r.high,this.unsigned)},C.or=function(r){return b(r)||(r=S(r)),T(this.low|r.low,this.high|r.high,this.unsigned)},C.xor=function(r){return b(r)||(r=S(r)),T(this.low^r.low,this.high^r.high,this.unsigned)},C.shiftLeft=function(r){return b(r)&&(r=r.toInt()),0==(r&=63)?this:r<32?T(this.low<<r,this.high<<r|this.low>>>32-r,this.unsigned):T(0,this.low<<r-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(r){return b(r)&&(r=r.toInt()),0==(r&=63)?this:r<32?T(this.low>>>r|this.high<<32-r,this.high>>r,this.unsigned):T(this.high>>r-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(r){return b(r)&&(r=r.toInt()),0==(r&=63)?this:r<32?T(this.low>>>r|this.high<<32-r,this.high>>>r,this.unsigned):T(32===r?this.high:this.high>>>r-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(r){var a;return b(r)&&(r=r.toInt()),0==(r&=63)?this:32===r?T(this.high,this.low,this.unsigned):r<32?(a=32-r,T(this.low<<r|this.high>>>a,this.high<<r|this.low>>>a,this.unsigned)):(a=32-(r-=32),T(this.high<<r|this.low>>>a,this.low<<r|this.high>>>a,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(r){var a;return b(r)&&(r=r.toInt()),0==(r&=63)?this:32===r?T(this.high,this.low,this.unsigned):r<32?(a=32-r,T(this.high<<a|this.low>>>r,this.low<<a|this.high>>>r,this.unsigned)):(a=32-(r-=32),T(this.low<<a|this.high>>>r,this.high<<a|this.low>>>r,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?T(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:T(this.low,this.high,!0)},C.toBytes=function(r){return r?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var r=this.high,a=this.low;return[255&a,a>>>8&255,a>>>16&255,a>>>24,255&r,r>>>8&255,r>>>16&255,r>>>24]},C.toBytesBE=function(){var r=this.high,a=this.low;return[r>>>24,r>>>16&255,r>>>8&255,255&r,a>>>24,a>>>16&255,a>>>8&255,255&a]},s.fromBytes=function(r,a,b){return b?s.fromBytesLE(r,a):s.fromBytesBE(r,a)},s.fromBytesLE=function(r,a){return new s(r[0]|r[1]<<8|r[2]<<16|r[3]<<24,r[4]|r[5]<<8|r[6]<<16|r[7]<<24,a)},s.fromBytesBE=function(r,a){return new s(r[4]<<24|r[5]<<16|r[6]<<8|r[7],r[0]<<24|r[1]<<16|r[2]<<8|r[3],a)};var M=s;return r.default=M,"default"in r?r.default:r}({});void 0===(s=(function(){return b}).apply(a,[]))||(r.exports=s)},5686:(r,a,s)=>{"use strict";s.r(a),s.d(a,{flatbuffers:()=>b});var b={};b.Offset,b.Table,b.SIZEOF_SHORT=2,b.SIZEOF_INT=4,b.FILE_IDENTIFIER_LENGTH=4,b.SIZE_PREFIX_LENGTH=4,b.Encoding={UTF8_BYTES:1,UTF16_STRING:2},b.int32=new Int32Array(2),b.float32=new Float32Array(b.int32.buffer),b.float64=new Float64Array(b.int32.buffer),b.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],b.Long=function(r,a){this.low=0|r,this.high=0|a},b.Long.create=function(r,a){return 0==r&&0==a?b.Long.ZERO:new b.Long(r,a)},b.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},b.Long.prototype.equals=function(r){return this.low==r.low&&this.high==r.high},b.Long.ZERO=new b.Long(0,0),b.Builder=function(r){if(r)a=r;else var a=1024;this.bb=b.ByteBuffer.allocate(a),this.space=a,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},b.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},b.Builder.prototype.forceDefaults=function(r){this.force_defaults=r},b.Builder.prototype.dataBuffer=function(){return this.bb},b.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},b.Builder.prototype.prep=function(r,a){r>this.minalign&&(this.minalign=r);for(var s=1+~(this.bb.capacity()-this.space+a)&r-1;this.space<s+r+a;){var m=this.bb.capacity();this.bb=b.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-m}this.pad(s)},b.Builder.prototype.pad=function(r){for(var a=0;a<r;a++)this.bb.writeInt8(--this.space,0)},b.Builder.prototype.writeInt8=function(r){this.bb.writeInt8(this.space-=1,r)},b.Builder.prototype.writeInt16=function(r){this.bb.writeInt16(this.space-=2,r)},b.Builder.prototype.writeInt32=function(r){this.bb.writeInt32(this.space-=4,r)},b.Builder.prototype.writeInt64=function(r){this.bb.writeInt64(this.space-=8,r)},b.Builder.prototype.writeFloat32=function(r){this.bb.writeFloat32(this.space-=4,r)},b.Builder.prototype.writeFloat64=function(r){this.bb.writeFloat64(this.space-=8,r)},b.Builder.prototype.addInt8=function(r){this.prep(1,0),this.writeInt8(r)},b.Builder.prototype.addInt16=function(r){this.prep(2,0),this.writeInt16(r)},b.Builder.prototype.addInt32=function(r){this.prep(4,0),this.writeInt32(r)},b.Builder.prototype.addInt64=function(r){this.prep(8,0),this.writeInt64(r)},b.Builder.prototype.addFloat32=function(r){this.prep(4,0),this.writeFloat32(r)},b.Builder.prototype.addFloat64=function(r){this.prep(8,0),this.writeFloat64(r)},b.Builder.prototype.addFieldInt8=function(r,a,s){(this.force_defaults||a!=s)&&(this.addInt8(a),this.slot(r))},b.Builder.prototype.addFieldInt16=function(r,a,s){(this.force_defaults||a!=s)&&(this.addInt16(a),this.slot(r))},b.Builder.prototype.addFieldInt32=function(r,a,s){(this.force_defaults||a!=s)&&(this.addInt32(a),this.slot(r))},b.Builder.prototype.addFieldInt64=function(r,a,s){!this.force_defaults&&a.equals(s)||(this.addInt64(a),this.slot(r))},b.Builder.prototype.addFieldFloat32=function(r,a,s){(this.force_defaults||a!=s)&&(this.addFloat32(a),this.slot(r))},b.Builder.prototype.addFieldFloat64=function(r,a,s){(this.force_defaults||a!=s)&&(this.addFloat64(a),this.slot(r))},b.Builder.prototype.addFieldOffset=function(r,a,s){(this.force_defaults||a!=s)&&(this.addOffset(a),this.slot(r))},b.Builder.prototype.addFieldStruct=function(r,a,s){a!=s&&(this.nested(a),this.slot(r))},b.Builder.prototype.nested=function(r){if(r!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},b.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},b.Builder.prototype.slot=function(r){this.vtable[r]=this.offset()},b.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},b.Builder.growByteBuffer=function(r){var a=r.capacity();if(3221225472&a)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var s=a<<1,m=b.ByteBuffer.allocate(s);return m.setPosition(s-a),m.bytes().set(r.bytes(),s-a),m},b.Builder.prototype.addOffset=function(r){this.prep(b.SIZEOF_INT,0),this.writeInt32(this.offset()-r+b.SIZEOF_INT)},b.Builder.prototype.startObject=function(r){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=r;for(var a=0;a<r;a++)this.vtable[a]=0;this.isNested=!0,this.object_start=this.offset()},b.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var r=this.offset(),a=this.vtable_in_use-1;a>=0&&0==this.vtable[a];a--);for(var s=a+1;a>=0;a--)this.addInt16(0!=this.vtable[a]?r-this.vtable[a]:0);this.addInt16(r-this.object_start);var m=(s+2)*b.SIZEOF_SHORT;this.addInt16(m);var y=0,v=this.space;e:for(a=0;a<this.vtables.length;a++){var w=this.bb.capacity()-this.vtables[a];if(m==this.bb.readInt16(w)){for(var _=b.SIZEOF_SHORT;_<m;_+=b.SIZEOF_SHORT)if(this.bb.readInt16(v+_)!=this.bb.readInt16(w+_))continue e;y=this.vtables[a];break}}return y?(this.space=this.bb.capacity()-r,this.bb.writeInt32(this.space,y-r)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-r,this.offset()-r)),this.isNested=!1,r},b.Builder.prototype.finish=function(r,a,s){var m=s?b.SIZE_PREFIX_LENGTH:0;if(a){var y=a;if(this.prep(this.minalign,b.SIZEOF_INT+b.FILE_IDENTIFIER_LENGTH+m),y.length!=b.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+b.FILE_IDENTIFIER_LENGTH);for(var v=b.FILE_IDENTIFIER_LENGTH-1;v>=0;v--)this.writeInt8(y.charCodeAt(v))}this.prep(this.minalign,b.SIZEOF_INT+m),this.addOffset(r),m&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},b.Builder.prototype.finishSizePrefixed=function(r,a){this.finish(r,a,!0)},b.Builder.prototype.requiredField=function(r,a){var s=this.bb.capacity()-r,b=s-this.bb.readInt32(s);if(0==this.bb.readInt16(b+a))throw new Error("FlatBuffers: field "+a+" must be set")},b.Builder.prototype.startVector=function(r,a,s){this.notNested(),this.vector_num_elems=a,this.prep(b.SIZEOF_INT,r*a),this.prep(s,r*a)},b.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},b.Builder.prototype.createString=function(r){if(r instanceof Uint8Array)var a=r;else{a=[];for(var s=0;s<r.length;){var b,m=r.charCodeAt(s++);(b=m<55296||m>=56320?m:(m<<10)+r.charCodeAt(s++)+-56613888)<128?a.push(b):(b<2048?a.push(b>>6&31|192):(b<65536?a.push(b>>12&15|224):a.push(b>>18&7|240,b>>12&63|128),a.push(b>>6&63|128)),a.push(63&b|128))}}this.addInt8(0),this.startVector(1,a.length,1),this.bb.setPosition(this.space-=a.length),s=0;for(var y=this.space,v=this.bb.bytes();s<a.length;s++)v[y++]=a[s];return this.endVector()},b.Builder.prototype.createLong=function(r,a){return b.Long.create(r,a)},b.ByteBuffer=function(r){this.bytes_=r,this.position_=0},b.ByteBuffer.allocate=function(r){return new b.ByteBuffer(new Uint8Array(r))},b.ByteBuffer.prototype.clear=function(){this.position_=0},b.ByteBuffer.prototype.bytes=function(){return this.bytes_},b.ByteBuffer.prototype.position=function(){return this.position_},b.ByteBuffer.prototype.setPosition=function(r){this.position_=r},b.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},b.ByteBuffer.prototype.readInt8=function(r){return this.readUint8(r)<<24>>24},b.ByteBuffer.prototype.readUint8=function(r){return this.bytes_[r]},b.ByteBuffer.prototype.readInt16=function(r){return this.readUint16(r)<<16>>16},b.ByteBuffer.prototype.readUint16=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8},b.ByteBuffer.prototype.readInt32=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8|this.bytes_[r+2]<<16|this.bytes_[r+3]<<24},b.ByteBuffer.prototype.readUint32=function(r){return this.readInt32(r)>>>0},b.ByteBuffer.prototype.readInt64=function(r){return new b.Long(this.readInt32(r),this.readInt32(r+4))},b.ByteBuffer.prototype.readUint64=function(r){return new b.Long(this.readUint32(r),this.readUint32(r+4))},b.ByteBuffer.prototype.readFloat32=function(r){return b.int32[0]=this.readInt32(r),b.float32[0]},b.ByteBuffer.prototype.readFloat64=function(r){return b.int32[b.isLittleEndian?0:1]=this.readInt32(r),b.int32[b.isLittleEndian?1:0]=this.readInt32(r+4),b.float64[0]},b.ByteBuffer.prototype.writeInt8=function(r,a){this.bytes_[r]=a},b.ByteBuffer.prototype.writeUint8=function(r,a){this.bytes_[r]=a},b.ByteBuffer.prototype.writeInt16=function(r,a){this.bytes_[r]=a,this.bytes_[r+1]=a>>8},b.ByteBuffer.prototype.writeUint16=function(r,a){this.bytes_[r]=a,this.bytes_[r+1]=a>>8},b.ByteBuffer.prototype.writeInt32=function(r,a){this.bytes_[r]=a,this.bytes_[r+1]=a>>8,this.bytes_[r+2]=a>>16,this.bytes_[r+3]=a>>24},b.ByteBuffer.prototype.writeUint32=function(r,a){this.bytes_[r]=a,this.bytes_[r+1]=a>>8,this.bytes_[r+2]=a>>16,this.bytes_[r+3]=a>>24},b.ByteBuffer.prototype.writeInt64=function(r,a){this.writeInt32(r,a.low),this.writeInt32(r+4,a.high)},b.ByteBuffer.prototype.writeUint64=function(r,a){this.writeUint32(r,a.low),this.writeUint32(r+4,a.high)},b.ByteBuffer.prototype.writeFloat32=function(r,a){b.float32[0]=a,this.writeInt32(r,b.int32[0])},b.ByteBuffer.prototype.writeFloat64=function(r,a){b.float64[0]=a,this.writeInt32(r,b.int32[b.isLittleEndian?0:1]),this.writeInt32(r+4,b.int32[b.isLittleEndian?1:0])},b.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+b.SIZEOF_INT+b.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var r="",a=0;a<b.FILE_IDENTIFIER_LENGTH;a++)r+=String.fromCharCode(this.readInt8(this.position_+b.SIZEOF_INT+a));return r},b.ByteBuffer.prototype.__offset=function(r,a){var s=r-this.readInt32(r);return a<this.readInt16(s)?this.readInt16(s+a):0},b.ByteBuffer.prototype.__union=function(r,a){return r.bb_pos=a+this.readInt32(a),r.bb=this,r},b.ByteBuffer.prototype.__string=function(r,a){r+=this.readInt32(r);var s=this.readInt32(r),m="",y=0;if(r+=b.SIZEOF_INT,a===b.Encoding.UTF8_BYTES)return this.bytes_.subarray(r,r+s);for(;y<s;){var v,w=this.readUint8(r+y++);if(w<192)v=w;else{var _=this.readUint8(r+y++);if(w<224)v=(31&w)<<6|63&_;else{var T=this.readUint8(r+y++);v=w<240?(15&w)<<12|(63&_)<<6|63&T:(7&w)<<18|(63&_)<<12|(63&T)<<6|63&this.readUint8(r+y++)}}v<65536?m+=String.fromCharCode(v):(v-=65536,m+=String.fromCharCode(55296+(v>>10),56320+(1023&v)))}return m},b.ByteBuffer.prototype.__indirect=function(r){return r+this.readInt32(r)},b.ByteBuffer.prototype.__vector=function(r){return r+this.readInt32(r)+b.SIZEOF_INT},b.ByteBuffer.prototype.__vector_len=function(r){return this.readInt32(r+this.readInt32(r))},b.ByteBuffer.prototype.__has_identifier=function(r){if(r.length!=b.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+b.FILE_IDENTIFIER_LENGTH);for(var a=0;a<b.FILE_IDENTIFIER_LENGTH;a++)if(r.charCodeAt(a)!=this.readInt8(this.position_+b.SIZEOF_INT+a))return!1;return!0},b.ByteBuffer.prototype.createLong=function(r,a){return b.Long.create(r,a)}}},__webpack_module_cache__={};function __nested_webpack_require_569278__(r){var a=__webpack_module_cache__[r];if(void 0!==a)return a.exports;var s=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r].call(s.exports,s,s.exports,__nested_webpack_require_569278__),s.exports}__nested_webpack_require_569278__.n=r=>{var a=r&&r.__esModule?()=>r.default:()=>r;return __nested_webpack_require_569278__.d(a,{a}),a},__nested_webpack_require_569278__.d=(r,a)=>{for(var s in a)__nested_webpack_require_569278__.o(a,s)&&!__nested_webpack_require_569278__.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:a[s]})},__nested_webpack_require_569278__.o=(r,a)=>Object.prototype.hasOwnProperty.call(r,a),__nested_webpack_require_569278__.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_569278__(1057);return __nested_webpack_exports__})(),module.exports=t()},25047:r=>{var a=function(r){"use strict";var a,s=Object.prototype,b=s.hasOwnProperty,m=Object.defineProperty||function(r,a,s){r[a]=s.value},y="function"==typeof Symbol?Symbol:{},v=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",_=y.toStringTag||"@@toStringTag";function T(r,a,s){return Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}),r[a]}try{T({},"")}catch(W){T=function(r,a,s){return r[a]=s}}function x(r,a,s,b){var y=a&&a.prototype instanceof D?a:D,v=Object.create(y.prototype),w=new V(b||[]);return m(v,"_invoke",{value:M(r,s,w)}),v}function O(r,a,s){try{return{type:"normal",arg:r.call(a,s)}}catch(W){return{type:"throw",arg:W}}}r.wrap=x;var S="suspendedStart",A="suspendedYield",P="executing",E="completed",I={};function D(){}function k(){}function $(){}var L={};T(L,v,(function(){return this}));var F=Object.getPrototypeOf,N=F&&F(F(G([])));N&&N!==s&&b.call(N,v)&&(L=N);var R=$.prototype=D.prototype=Object.create(L);function j(r){["next","throw","return"].forEach((function(a){T(r,a,(function(r){return this._invoke(a,r)}))}))}function C(r,a){function s(m,y,v,w){var _=O(r[m],r,y);if("throw"!==_.type){var T=_.arg,x=T.value;return x&&"object"==typeof x&&b.call(x,"__await")?a.resolve(x.__await).then((function(r){s("next",r,v,w)}),(function(r){s("throw",r,v,w)})):a.resolve(x).then((function(r){T.value=r,v(T)}),(function(r){return s("throw",r,v,w)}))}w(_.arg)}var y;m(this,"_invoke",{value:function(r,b){function m(){return new a((function(a,m){s(r,b,a,m)}))}return y=y?y.then(m,m):m()}})}function M(r,a,s){var b=S;return function(m,y){if(b===P)throw new Error("Generator is already running");if(b===E){if("throw"===m)throw y;return H()}for(s.method=m,s.arg=y;;){var v=s.delegate;if(v){var w=U(v,s);if(w){if(w===I)continue;return w}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(b===S)throw b=E,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);b=P;var _=O(r,a,s);if("normal"===_.type){if(b=s.done?E:A,_.arg===I)continue;return{value:_.arg,done:s.done}}"throw"===_.type&&(b=E,s.method="throw",s.arg=_.arg)}}}function U(r,s){var b=s.method,m=r.iterator[b];if(m===a)return s.delegate=null,"throw"===b&&r.iterator.return&&(s.method="return",s.arg=a,U(r,s),"throw"===s.method)||"return"!==b&&(s.method="throw",s.arg=new TypeError("The iterator does not provide a '"+b+"' method")),I;var y=O(m,r.iterator,s.arg);if("throw"===y.type)return s.method="throw",s.arg=y.arg,s.delegate=null,I;var v=y.arg;return v?v.done?(s[r.resultName]=v.value,s.next=r.nextLoc,"return"!==s.method&&(s.method="next",s.arg=a),s.delegate=null,I):v:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,I)}function B(r){var a={tryLoc:r[0]};1 in r&&(a.catchLoc=r[1]),2 in r&&(a.finallyLoc=r[2],a.afterLoc=r[3]),this.tryEntries.push(a)}function z(r){var a=r.completion||{};a.type="normal",delete a.arg,r.completion=a}function V(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(B,this),this.reset(!0)}function G(r){if(r){var s=r[v];if(s)return s.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var m=-1,y=function s(){for(;++m<r.length;)if(b.call(r,m))return s.value=r[m],s.done=!1,s;return s.value=a,s.done=!0,s};return y.next=y}}return{next:H}}function H(){return{value:a,done:!0}}return k.prototype=$,m(R,"constructor",{value:$,configurable:!0}),m($,"constructor",{value:k,configurable:!0}),k.displayName=T($,_,"GeneratorFunction"),r.isGeneratorFunction=function(r){var a="function"==typeof r&&r.constructor;return!!a&&(a===k||"GeneratorFunction"===(a.displayName||a.name))},r.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,$):(r.__proto__=$,T(r,_,"GeneratorFunction")),r.prototype=Object.create(R),r},r.awrap=function(r){return{__await:r}},j(C.prototype),T(C.prototype,w,(function(){return this})),r.AsyncIterator=C,r.async=function(a,s,b,m,y){void 0===y&&(y=Promise);var v=new C(x(a,s,b,m),y);return r.isGeneratorFunction(s)?v:v.next().then((function(r){return r.done?r.value:v.next()}))},j(R),T(R,_,"Generator"),T(R,v,(function(){return this})),T(R,"toString",(function(){return"[object Generator]"})),r.keys=function(r){var a=Object(r),s=[];for(var b in a)s.push(b);return s.reverse(),function r(){for(;s.length;){var b=s.pop();if(b in a)return r.value=b,r.done=!1,r}return r.done=!0,r}},r.values=G,V.prototype={constructor:V,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(z),!r)for(var s in this)"t"===s.charAt(0)&&b.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=a)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var s=this;function m(b,m){return w.type="throw",w.arg=r,s.next=b,m&&(s.method="next",s.arg=a),!!m}for(var y=this.tryEntries.length-1;y>=0;--y){var v=this.tryEntries[y],w=v.completion;if("root"===v.tryLoc)return m("end");if(v.tryLoc<=this.prev){var _=b.call(v,"catchLoc"),T=b.call(v,"finallyLoc");if(_&&T){if(this.prev<v.catchLoc)return m(v.catchLoc,!0);if(this.prev<v.finallyLoc)return m(v.finallyLoc)}else if(_){if(this.prev<v.catchLoc)return m(v.catchLoc,!0)}else{if(!T)throw new Error("try statement without catch or finally");if(this.prev<v.finallyLoc)return m(v.finallyLoc)}}}},abrupt:function(r,a){for(var s=this.tryEntries.length-1;s>=0;--s){var m=this.tryEntries[s];if(m.tryLoc<=this.prev&&b.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var y=m;break}}y&&("break"===r||"continue"===r)&&y.tryLoc<=a&&a<=y.finallyLoc&&(y=null);var v=y?y.completion:{};return v.type=r,v.arg=a,y?(this.method="next",this.next=y.finallyLoc,I):this.complete(v)},complete:function(r,a){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&a&&(this.next=a),I},finish:function(r){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.finallyLoc===r)return this.complete(s.completion,s.afterLoc),z(s),I}},catch:function(r){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc===r){var b=s.completion;if("throw"===b.type){var m=b.arg;z(s)}return m}}throw new Error("illegal catch attempt")},delegateYield:function(r,s,b){return this.delegate={iterator:G(r),resultName:s,nextLoc:b},"next"===this.method&&(this.arg=a),I}},r}(r.exports);try{regeneratorRuntime=a}catch(s){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},8614:(r,a,s)=>{const b=s(71521);r.exports={recognize:async(r,a,s)=>{const m=await b(a,1,s);return m.recognize(r).finally((async()=>{await m.terminate()}))},detect:async(r,a)=>{const s=await b("osd",0,a);return s.detect(r).finally((async()=>{await s.terminate()}))}}},54854:r=>{r.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},48819:r=>{r.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},9831:r=>{r.exports={workerBlobURL:!0,logger:()=>{}}},73186:r=>{r.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},62809:(r,a,s)=>{const b=s(7486);let m=0;r.exports=({id:r,action:a,payload:s={}})=>{let y=r;return void 0===y&&(y=b("Job",m),m+=1),{id:y,action:a,payload:s}}},77879:function(r,a,s){const b=s(62809),{log:m}=s(71616),y=s(7486);let v=0;r.exports=()=>{const r=y("Scheduler",v),a={},s={};let w=[];v+=1;const _=()=>Object.keys(a).length,T=()=>{if(0!==w.length){const r=Object.keys(a);for(let b=0;b<r.length;b+=1)if(void 0===s[r[b]]){w[0](a[r[b]]);break}}},x=(a,y)=>new Promise(((v,_)=>{const x=b({action:a,payload:y});w.push((async r=>{w.shift(),s[r.id]=x;try{v(await r[a].apply(this,[...y,x.id]))}catch(b){_(b)}finally{delete s[r.id],T()}})),m(`[${r}]: Add ${x.id} to JobQueue`),m(`[${r}]: JobQueue length=${w.length}`),T()}));return{addWorker:s=>(a[s.id]=s,m(`[${r}]: Add ${s.id}`),m(`[${r}]: Number of workers=${_()}`),T(),s.id),addJob:async(a,...s)=>{if(0===_())throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return x(a,s)},terminate:async()=>{Object.keys(a).forEach((async r=>{await a[r].terminate()})),w=[]},getQueueLen:()=>w.length,getNumWorkers:_}}},71521:(r,a,s)=>{const b=s(7105),m=s(11540),y=s(62809),{log:v}=s(71616),w=s(7486),_=s(54854),{defaultOptions:T,spawnWorker:x,terminateWorker:O,onMessage:S,loadImage:A,send:P}=s(38409);let E=0;r.exports=async(r="eng",a=_.LSTM_ONLY,s={},I={})=>{const D=w("Worker",E),{logger:k,errorHandler:$,...L}=b({...T,...s}),F={},N={},R="string"==typeof r?r.split("+"):r;let j=a,C=I;const M=[_.DEFAULT,_.LSTM_ONLY].includes(a)&&!L.legacyCore;let U,B;const z=new Promise(((r,a)=>{B=r,U=a}));let V=x(L);V.onerror=r=>{U(r.message)},E+=1;const G=(r,a)=>{F[r]=a},H=(r,a)=>{N[r]=a},W=({id:r,action:a,payload:s})=>new Promise(((b,m)=>{v(`[${D}]: Start ${r}, action=${a}`),G(a,b),H(a,m),P(V,{workerId:D,jobId:r,action:a,payload:s})})),q=(r,a)=>W(y({id:a,action:"loadLanguage",payload:{langs:r,options:{langPath:L.langPath,dataPath:L.dataPath,cachePath:L.cachePath,cacheMethod:L.cacheMethod,gzip:L.gzip,lstmOnly:[_.LSTM_ONLY,_.TESSERACT_LSTM_COMBINED].includes(j)&&!L.legacyLang}}})),Y=(r,a,s,b)=>W(y({id:b,action:"initialize",payload:{langs:r,oem:a,config:s}}));S(V,(({workerId:r,jobId:a,status:s,action:b,data:y})=>{if("resolve"===s){v(`[${r}]: Complete ${a}`);let s=y;"recognize"===b?s=m(y):"getPDF"===b&&(s=Array.from({...y,length:Object.keys(y).length})),F[b]({jobId:a,data:s})}else if("reject"===s){if(N[b](y),"load"===b&&U(y),!$)throw Error(y);$(y)}else"progress"===s&&k({...y,userJobId:a})}));const X={id:D,worker:V,setResolve:G,setReject:H,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(r,a,s)=>W(y({id:s,action:"FS",payload:{method:"writeFile",args:[r,a]}})),readText:(r,a)=>W(y({id:a,action:"FS",payload:{method:"readFile",args:[r,{encoding:"utf8"}]}})),removeFile:(r,a)=>W(y({id:a,action:"FS",payload:{method:"unlink",args:[r]}})),FS:(r,a,s)=>W(y({id:s,action:"FS",payload:{method:r,args:a}})),loadLanguage:()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),initialize:()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),reinitialize:(r="eng",a,s,b)=>{if(M&&[_.TESSERACT_ONLY,_.TESSERACT_LSTM_COMBINED].includes(a))throw Error("Legacy model requested but code missing.");const m=a||j;j=m;const y=s||C;C=y;const v=("string"==typeof r?r.split("+"):r).filter((r=>!R.includes(r)));return R.push(...v),v.length>0?q(v,b).then((()=>Y(r,m,y,b))):Y(r,m,y,b)},setParameters:(r={},a)=>W(y({id:a,action:"setParameters",payload:{params:r}})),recognize:async(r,a={},s={blocks:!0,text:!0,hocr:!0,tsv:!0},b)=>W(y({id:b,action:"recognize",payload:{image:await A(r),options:a,output:s}})),getPDF:(r="Tesseract OCR Result",a=!1,s)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),W(y({id:s,action:"getPDF",payload:{title:r,textonly:a}}))),detect:async(r,a)=>{if(M)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return W(y({id:a,action:"detect",payload:{image:await A(r)}}))},terminate:async()=>(null!==V&&(O(V),V=null),Promise.resolve())};var K;return W(y({id:K,action:"load",payload:{options:{lstmOnly:M,corePath:L.corePath,logging:L.logging}}})).then((()=>q(r))).then((()=>Y(r,a,I))).then((()=>B(X))).catch((()=>{})),z}},24370:(r,a,s)=>{s(25047);const b=s(77879),m=s(71521),y=s(8614),v=s(73186),w=s(54854),_=s(48819),{setLogging:T}=s(71616);r.exports={languages:v,OEM:w,PSM:_,createScheduler:b,createWorker:m,setLogging:T,...y}},11540:r=>{r.exports=r=>{const a=[],s=[],b=[],m=[],y=[];return r.blocks&&r.blocks.forEach((v=>{v.paragraphs.forEach((a=>{a.lines.forEach((s=>{s.words.forEach((b=>{b.symbols.forEach((m=>{y.push({...m,page:r,block:v,paragraph:a,line:s,word:b})})),m.push({...b,page:r,block:v,paragraph:a,line:s})})),b.push({...s,page:r,block:v,paragraph:a})})),s.push({...a,page:r,block:v})})),a.push({...v,page:r})})),{...r,blocks:a,paragraphs:s,lines:b,words:m,symbols:y}}},21532:(r,a,s)=>{const b=s(72751);r.exports=r=>{const a={};return"undefined"!=typeof WorkerGlobalScope?a.type="webworker":b()?a.type="electron":"object"==typeof document?a.type="browser":"object"==typeof process&&(a.type="node"),void 0===r?a:a[r]}},7486:r=>{r.exports=(r,a)=>`${r}-${a}-${Math.random().toString(16).slice(3,8)}`},71616:function(r,a){let s=!1;a.logging=s,a.setLogging=r=>{s=r},a.log=(...r)=>s?console.log.apply(this,r):null},7105:(r,a,s)=>{const b="browser"===s(21532)("type")?r=>new URL(r,window.location.href).href:r=>r;r.exports=r=>{const a={...r};return["corePath","workerPath","langPath"].forEach((s=>{r[s]&&(a[s]=b(a[s]))})),a}},26708:(r,a,s)=>{const{version:b}=s(13506),m=s(9831);r.exports={...m,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${b}/dist/worker.min.js`}},38409:(r,a,s)=>{const b=s(26708),m=s(28519),y=s(26232),v=s(9262),w=s(16452),_=s(64839);r.exports={defaultOptions:b,spawnWorker:m,terminateWorker:y,onMessage:v,send:w,loadImage:_}},64839:r=>{const a=r=>new Promise(((a,s)=>{const b=new FileReader;b.onload=()=>{a(b.result)},b.onerror=({target:{error:{code:r}}})=>{s(Error(`File could not be read! Code=${r}`))},b.readAsArrayBuffer(r)})),s=async r=>{let b=r;if(void 0===r)return"undefined";if("string"==typeof r)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r))b=atob(r.split(",")[1]).split("").map((r=>r.charCodeAt(0)));else{const a=await fetch(r);b=await a.arrayBuffer()}else if("undefined"!=typeof HTMLElement&&r instanceof HTMLElement)"IMG"===r.tagName&&(b=await s(r.src)),"VIDEO"===r.tagName&&(b=await s(r.poster)),"CANVAS"===r.tagName&&await new Promise((s=>{r.toBlob((async r=>{b=await a(r),s()}))}));else if("undefined"!=typeof OffscreenCanvas&&r instanceof OffscreenCanvas){const s=await r.convertToBlob();b=await a(s)}else(r instanceof File||r instanceof Blob)&&(b=await a(r));return new Uint8Array(b)};r.exports=s},9262:r=>{r.exports=(r,a)=>{r.onmessage=({data:r})=>{a(r)}}},16452:r=>{r.exports=async(r,a)=>{r.postMessage(a)}},28519:r=>{r.exports=({workerPath:r,workerBlobURL:a})=>{let s;if(Blob&&URL&&a){const a=new Blob([`importScripts("${r}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(a))}else s=new Worker(r);return s}},26232:r=>{r.exports=r=>{r.terminate()}},13506:r=>{"use strict";r.exports=JSON.parse('{"name":"tesseract.js","version":"5.0.2","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0","acorn":"^8.8.2","babel-loader":"^9.1.2","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1","express":"^4.18.2","mocha":"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^5.0.0","rollup":"^3.20.7","wait-on":"^7.0.1","webpack":"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},"dependencies":{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.0.0","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"overrides":{"@rollup/pluginutils":"^5.0.2"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')}}]);