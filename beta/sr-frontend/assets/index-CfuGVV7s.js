import{g as Kt,a as Wt,c as Ve,j as R,s as re,P as xn,b as le,d as dt,l as pt,_ as S,r as g,u as Ut,e as qt,I as Gt,C as kn,f as he,h as Yt,i as Sn,k as Cn,m as Rt,n as $n,o as at,p as De,q as ot,t as Fe,v as It,w as Xt,x as Ln,y as ue,z as Pn,A as An,B as Rn,D as st,E as Zt,R as In,F as Mn,G as mt,H as ht,J as c,K as Tn,L as Be,M as wn,N as $e,O as vt,Q as _n,S as jn,T as W,U as Jt,V as En,W as Nn,X as zn,Y as On,Z as Dn,$ as lt,a0 as Mt,a1 as Tt,a2 as Fn,a3 as ce,a4 as Hn,a5 as te,a6 as Ie,a7 as Qt,a8 as Re,a9 as Vn,aa as Bn,ab as en,ac as tn,ad as Kn,ae as Wn,af as wt,ag as Un,ah as qn,ai as Gn,aj as nn,ak as _t,al as Yn,am as Xn,an as Se,ao as Zn,ap as ft,aq as Jn,ar as Qn,as as er,at as tr,au as nr}from"./index-YjU92-7f.js";import{L as rr,d as rn}from"./LocationAutocomplete-Dqr--Qui.js";const ar={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},or=ar;function sr(e){return Wt("MuiAlert",e)}const lr=Kt("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),jt=lr,ir=Ve(R.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),cr=Ve(R.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ur=Ve(R.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),dr=Ve(R.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),pr=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],fr=e=>{const{variant:t,color:n,severity:a,classes:s}=e,l={root:["root",`${t}${le(n||a)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Yt(l,sr,s)},mr=re(xn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${le(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?dt:pt,a=e.palette.mode==="light"?pt:dt,s=t.color||t.severity;return S({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},s&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${s}Color`]:n(e.palette[s].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${s}StandardBg`]:a(e.palette[s].light,.9),[`& .${jt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}},s&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${s}Color`]:n(e.palette[s].light,.6),border:`1px solid ${(e.vars||e).palette[s].light}`,[`& .${jt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}},s&&t.variant==="filled"&&S({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${s}FilledColor`],backgroundColor:e.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[s].dark:e.palette[s].main,color:e.palette.getContrastText(e.palette[s].main)}))}),hr=re("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),vr=re("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Et=re("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Nt={success:R.jsx(ir,{fontSize:"inherit"}),warning:R.jsx(cr,{fontSize:"inherit"}),error:R.jsx(ur,{fontSize:"inherit"}),info:R.jsx(dr,{fontSize:"inherit"})},br=g.forwardRef(function(t,n){var a,s,l,i,d,r;const b=Ut({props:t,name:"MuiAlert"}),{action:$,children:P,className:A,closeText:k="Close",color:I,components:v={},componentsProps:f={},icon:h,iconMapping:y=Nt,onClose:M,role:w="alert",severity:o="success",slotProps:p={},slots:_={},variant:O="standard"}=b,j=qt(b,pr),C=S({},b,{color:I,severity:o,variant:O}),D=fr(C),q=(a=(s=_.closeButton)!=null?s:v.CloseButton)!=null?a:Gt,J=(l=(i=_.closeIcon)!=null?i:v.CloseIcon)!=null?l:kn,F=(d=p.closeButton)!=null?d:f.closeButton,E=(r=p.closeIcon)!=null?r:f.closeIcon;return R.jsxs(mr,S({role:w,elevation:0,ownerState:C,className:he(D.root,A),ref:n},j,{children:[h!==!1?R.jsx(hr,{ownerState:C,className:D.icon,children:h||y[o]||Nt[o]}):null,R.jsx(vr,{ownerState:C,className:D.message,children:P}),$!=null?R.jsx(Et,{ownerState:C,className:D.action,children:$}):null,$==null&&M?R.jsx(Et,{ownerState:C,className:D.action,children:R.jsx(q,S({size:"small","aria-label":k,title:k,color:"inherit",onClick:M},F,{children:R.jsx(J,S({fontSize:"small"},E))}))}):null]}))}),gr=br;function yr(e,t,n=(a,s)=>a===s){return e.length===t.length&&e.every((a,s)=>n(a,t[s]))}const xr=2;function an(e,t){return e-t}function Ae(e,t,n){return e==null?t:Math.min(Math.max(t,e),n)}function zt(e,t){var n;const{index:a}=(n=e.reduce((s,l,i)=>{const d=Math.abs(t-l);return s===null||d<s.distance||d===s.distance?{distance:d,index:i}:s},null))!=null?n:{};return a}function Ee(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let a=0;a<n.changedTouches.length;a+=1){const s=n.changedTouches[a];if(s.identifier===t.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function He(e,t,n){return(e-t)*100/(n-t)}function kr(e,t,n){return(n-t)*e+t}function Sr(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),a=n[0].split(".")[1];return(a?a.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Cr(e,t,n){const a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(Sr(t)))}function Ot({values:e,newValue:t,index:n}){const a=e.slice();return a[n]=t,a.sort(an)}function Ne({sliderRef:e,activeIndex:t,setActive:n}){var a,s;const l=De(e.current);if(!((a=e.current)!=null&&a.contains(l.activeElement))||Number(l==null||(s=l.activeElement)==null?void 0:s.getAttribute("data-index"))!==t){var i;(i=e.current)==null||i.querySelector(`[type="range"][data-index="${t}"]`).focus()}n&&n(t)}function ze(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?yr(e,t):!1}const $r={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Lr=e=>e;let Oe;function it(){return Oe===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Oe=CSS.supports("touch-action","none"):Oe=!0),Oe}function Pr(e){const{"aria-labelledby":t,defaultValue:n,disabled:a=!1,disableSwap:s=!1,isRtl:l=!1,marks:i=!1,max:d=100,min:r=0,name:b,onChange:$,onChangeCommitted:P,orientation:A="horizontal",rootRef:k,scale:I=Lr,step:v=1,tabIndex:f,value:h}=e,y=g.useRef(),[M,w]=g.useState(-1),[o,p]=g.useState(-1),[_,O]=g.useState(!1),j=g.useRef(0),[C,D]=Sn({controlled:h,default:n??r,name:"Slider"}),q=$&&((u,m,x)=>{const L=u.nativeEvent||u,K=new L.constructor(L.type,L);Object.defineProperty(K,"target",{writable:!0,value:{value:m,name:b}}),$(K,m,x)}),J=Array.isArray(C);let F=J?C.slice().sort(an):[C];F=F.map(u=>Ae(u,r,d));const E=i===!0&&v!==null?[...Array(Math.floor((d-r)/v)+1)].map((u,m)=>({value:r+v*m})):i||[],Q=E.map(u=>u.value),{isFocusVisibleRef:Me,onBlur:ae,onFocus:oe,ref:Ke}=Cn(),[Te,ve]=g.useState(-1),Y=g.useRef(),we=Rt(Ke,Y),Le=Rt(k,we),_e=u=>m=>{var x;const L=Number(m.currentTarget.getAttribute("data-index"));oe(m),Me.current===!0&&ve(L),p(L),u==null||(x=u.onFocus)==null||x.call(u,m)},We=u=>m=>{var x;ae(m),Me.current===!1&&ve(-1),p(-1),u==null||(x=u.onBlur)==null||x.call(u,m)};$n(()=>{if(a&&Y.current.contains(document.activeElement)){var u;(u=document.activeElement)==null||u.blur()}},[a]),a&&M!==-1&&w(-1),a&&Te!==-1&&ve(-1);const be=u=>m=>{var x;(x=u.onChange)==null||x.call(u,m);const L=Number(m.currentTarget.getAttribute("data-index")),K=F[L],X=Q.indexOf(K);let T=m.target.valueAsNumber;if(E&&v==null){const z=Q[Q.length-1];T>z?T=z:T<Q[0]?T=Q[0]:T=T<K?Q[X-1]:Q[X+1]}if(T=Ae(T,r,d),J){s&&(T=Ae(T,F[L-1]||-1/0,F[L+1]||1/0));const z=T;T=Ot({values:F,newValue:T,index:L});let V=L;s||(V=T.indexOf(z)),Ne({sliderRef:Y,activeIndex:V})}D(T),ve(L),q&&!ze(T,C)&&q(m,T,L),P&&P(m,T)},de=g.useRef();let ge=A;l&&A==="horizontal"&&(ge+="-reverse");const ye=({finger:u,move:m=!1})=>{const{current:x}=Y,{width:L,height:K,bottom:X,left:T}=x.getBoundingClientRect();let z;ge.indexOf("vertical")===0?z=(X-u.y)/K:z=(u.x-T)/L,ge.indexOf("-reverse")!==-1&&(z=1-z);let V;if(V=kr(z,r,d),v)V=Cr(V,v,r);else{const Pe=zt(Q,V);V=Q[Pe]}V=Ae(V,r,d);let se=0;if(J){m?se=de.current:se=zt(F,V),s&&(V=Ae(V,F[se-1]||-1/0,F[se+1]||1/0));const Pe=V;V=Ot({values:F,newValue:V,index:se}),s&&m||(se=V.indexOf(Pe),de.current=se)}return{newValue:V,activeIndex:se}},pe=at(u=>{const m=Ee(u,y);if(!m)return;if(j.current+=1,u.type==="mousemove"&&u.buttons===0){ee(u);return}const{newValue:x,activeIndex:L}=ye({finger:m,move:!0});Ne({sliderRef:Y,activeIndex:L,setActive:w}),D(x),!_&&j.current>xr&&O(!0),q&&!ze(x,C)&&q(u,x,L)}),ee=at(u=>{const m=Ee(u,y);if(O(!1),!m)return;const{newValue:x}=ye({finger:m,move:!0});w(-1),u.type==="touchend"&&p(-1),P&&P(u,x),y.current=void 0,N()}),H=at(u=>{if(a)return;it()||u.preventDefault();const m=u.changedTouches[0];m!=null&&(y.current=m.identifier);const x=Ee(u,y);if(x!==!1){const{newValue:K,activeIndex:X}=ye({finger:x});Ne({sliderRef:Y,activeIndex:X,setActive:w}),D(K),q&&!ze(K,C)&&q(u,K,X)}j.current=0;const L=De(Y.current);L.addEventListener("touchmove",pe),L.addEventListener("touchend",ee)}),N=g.useCallback(()=>{const u=De(Y.current);u.removeEventListener("mousemove",pe),u.removeEventListener("mouseup",ee),u.removeEventListener("touchmove",pe),u.removeEventListener("touchend",ee)},[ee,pe]);g.useEffect(()=>{const{current:u}=Y;return u.addEventListener("touchstart",H,{passive:it()}),()=>{u.removeEventListener("touchstart",H,{passive:it()}),N()}},[N,H]),g.useEffect(()=>{a&&N()},[a,N]);const xe=u=>m=>{var x;if((x=u.onMouseDown)==null||x.call(u,m),a||m.defaultPrevented||m.button!==0)return;m.preventDefault();const L=Ee(m,y);if(L!==!1){const{newValue:X,activeIndex:T}=ye({finger:L});Ne({sliderRef:Y,activeIndex:T,setActive:w}),D(X),q&&!ze(X,C)&&q(m,X,T)}j.current=0;const K=De(Y.current);K.addEventListener("mousemove",pe),K.addEventListener("mouseup",ee)},fe=He(J?F[0]:r,r,d),me=He(F[F.length-1],r,d)-fe,Ue=(u={})=>{const m=ot(u),x={onMouseDown:xe(m||{})},L=S({},m,x);return S({},u,{ref:Le},L)},G=u=>m=>{var x;(x=u.onMouseOver)==null||x.call(u,m);const L=Number(m.currentTarget.getAttribute("data-index"));p(L)},ke=u=>m=>{var x;(x=u.onMouseLeave)==null||x.call(u,m),p(-1)};return{active:M,axis:ge,axisProps:$r,dragging:_,focusedThumbIndex:Te,getHiddenInputProps:(u={})=>{var m;const x=ot(u),L={onChange:be(x||{}),onFocus:_e(x||{}),onBlur:We(x||{})},K=S({},x,L);return S({tabIndex:f,"aria-labelledby":t,"aria-orientation":A,"aria-valuemax":I(d),"aria-valuemin":I(r),name:b,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(m=e.step)!=null?m:void 0,disabled:a},u,K,{style:S({},or,{direction:l?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ue,getThumbProps:(u={})=>{const m=ot(u),x={onMouseOver:G(m||{}),onMouseLeave:ke(m||{})};return S({},u,m,x)},marks:E,open:o,range:J,rootRef:Le,trackLeap:me,trackOffset:fe,values:F,getThumbStyle:u=>({pointerEvents:M!==-1&&M!==u?"none":void 0})}}const Ar=e=>!e||!Fe(e);function Rr(e){return Wt("MuiSlider",e)}const ne=Kt("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ir=e=>{const{open:t}=e;return{offset:he(t&&ne.valueLabelOpen),circle:ne.valueLabelCircle,label:ne.valueLabelLabel}};function Mr(e){const{children:t,className:n,value:a}=e,s=Ir(e);return t?g.cloneElement(t,{className:he(t.props.className)},R.jsxs(g.Fragment,{children:[t.props.children,R.jsx("span",{className:he(s.offset,n),"aria-hidden":!0,children:R.jsx("span",{className:s.circle,children:R.jsx("span",{className:s.label,children:a})})})]})):null}const Tr=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Dt(e){return e}const wr=re("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${le(n.color)}`],n.size!=="medium"&&t[`size${le(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>S({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&S({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&S({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ne.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ne.dragging}`]:{[`& .${ne.thumb}, & .${ne.track}`]:{transition:"none"}}})),_r=re("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>S({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),jr=re("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?pt(e.palette[t.color].main,.62):dt(e.palette[t.color].main,.5);return S({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})}),Er=re("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${le(n.color)}`],n.size!=="medium"&&t[`thumbSize${le(n.size)}`]]}})(({theme:e,ownerState:t})=>S({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":S({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ne.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:It(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ne.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:It(e.palette[t.color].main,.16)}`},[`&.${ne.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Nr=re(Mr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>S({[`&.${ne.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),zr=re("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Xt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e,ownerState:t,markActive:n})=>S({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Or=re("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Xt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:n})=>S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary})),Dr=e=>{const{disabled:t,dragging:n,marked:a,orientation:s,track:l,classes:i,color:d,size:r}=e,b={root:["root",t&&"disabled",n&&"dragging",a&&"marked",s==="vertical"&&"vertical",l==="inverted"&&"trackInverted",l===!1&&"trackFalse",d&&`color${le(d)}`,r&&`size${le(r)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",r&&`thumbSize${le(r)}`,d&&`thumbColor${le(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Yt(b,Rr,i)},Fr=({children:e})=>e,Hr=g.forwardRef(function(t,n){var a,s,l,i,d,r,b,$,P,A,k,I,v,f,h,y,M,w,o,p,_,O,j,C;const D=Ut({props:t,name:"MuiSlider"}),J=Ln().direction==="rtl",{"aria-label":F,"aria-valuetext":E,"aria-labelledby":Q,component:Me="span",components:ae={},componentsProps:oe={},color:Ke="primary",classes:Te,className:ve,disableSwap:Y=!1,disabled:we=!1,getAriaLabel:Le,getAriaValueText:_e,marks:We=!1,max:be=100,min:de=0,orientation:ge="horizontal",size:ye="medium",step:pe=1,scale:ee=Dt,slotProps:H,slots:N,track:xe="normal",valueLabelDisplay:fe="off",valueLabelFormat:me=Dt}=D,Ue=qt(D,Tr),G=S({},D,{isRtl:J,max:be,min:de,classes:Te,disabled:we,disableSwap:Y,orientation:ge,marks:We,color:Ke,size:ye,step:pe,scale:ee,track:xe,valueLabelDisplay:fe,valueLabelFormat:me}),{axisProps:ke,getRootProps:xt,getHiddenInputProps:kt,getThumbProps:St,open:u,active:m,axis:x,focusedThumbIndex:L,range:K,dragging:X,marks:T,values:z,trackOffset:V,trackLeap:se,getThumbStyle:Pe}=Pr(S({},G,{rootRef:n}));G.marked=T.length>0&&T.some(B=>B.label),G.dragging=X,G.focusedThumbIndex=L;const Z=Dr(G),qe=(a=(s=N==null?void 0:N.root)!=null?s:ae.Root)!=null?a:wr,Ct=(l=(i=N==null?void 0:N.rail)!=null?i:ae.Rail)!=null?l:_r,$t=(d=(r=N==null?void 0:N.track)!=null?r:ae.Track)!=null?d:jr,Lt=(b=($=N==null?void 0:N.thumb)!=null?$:ae.Thumb)!=null?b:Er,Pt=(P=(A=N==null?void 0:N.valueLabel)!=null?A:ae.ValueLabel)!=null?P:Nr,Ge=(k=(I=N==null?void 0:N.mark)!=null?I:ae.Mark)!=null?k:zr,Ye=(v=(f=N==null?void 0:N.markLabel)!=null?f:ae.MarkLabel)!=null?v:Or,At=(h=(y=N==null?void 0:N.input)!=null?y:ae.Input)!=null?h:"input",Xe=(M=H==null?void 0:H.root)!=null?M:oe.root,dn=(w=H==null?void 0:H.rail)!=null?w:oe.rail,Ze=(o=H==null?void 0:H.track)!=null?o:oe.track,Je=(p=H==null?void 0:H.thumb)!=null?p:oe.thumb,Qe=(_=H==null?void 0:H.valueLabel)!=null?_:oe.valueLabel,pn=(O=H==null?void 0:H.mark)!=null?O:oe.mark,fn=(j=H==null?void 0:H.markLabel)!=null?j:oe.markLabel,mn=(C=H==null?void 0:H.input)!=null?C:oe.input,hn=ue({elementType:qe,getSlotProps:xt,externalSlotProps:Xe,externalForwardedProps:Ue,additionalProps:S({},Ar(qe)&&{as:Me}),ownerState:S({},G,Xe==null?void 0:Xe.ownerState),className:[Z.root,ve]}),vn=ue({elementType:Ct,externalSlotProps:dn,ownerState:G,className:Z.rail}),bn=ue({elementType:$t,externalSlotProps:Ze,additionalProps:{style:S({},ke[x].offset(V),ke[x].leap(se))},ownerState:S({},G,Ze==null?void 0:Ze.ownerState),className:Z.track}),et=ue({elementType:Lt,getSlotProps:St,externalSlotProps:Je,ownerState:S({},G,Je==null?void 0:Je.ownerState),className:Z.thumb}),gn=ue({elementType:Pt,externalSlotProps:Qe,ownerState:S({},G,Qe==null?void 0:Qe.ownerState),className:Z.valueLabel}),tt=ue({elementType:Ge,externalSlotProps:pn,ownerState:G,className:Z.mark}),nt=ue({elementType:Ye,externalSlotProps:fn,ownerState:G,className:Z.markLabel}),yn=ue({elementType:At,getSlotProps:kt,externalSlotProps:mn,ownerState:G});return R.jsxs(qe,S({},hn,{children:[R.jsx(Ct,S({},vn)),R.jsx($t,S({},bn)),T.filter(B=>B.value>=de&&B.value<=be).map((B,U)=>{const rt=He(B.value,de,be),je=ke[x].offset(rt);let ie;return xe===!1?ie=z.indexOf(B.value)!==-1:ie=xe==="normal"&&(K?B.value>=z[0]&&B.value<=z[z.length-1]:B.value<=z[0])||xe==="inverted"&&(K?B.value<=z[0]||B.value>=z[z.length-1]:B.value>=z[0]),R.jsxs(g.Fragment,{children:[R.jsx(Ge,S({"data-index":U},tt,!Fe(Ge)&&{markActive:ie},{style:S({},je,tt.style),className:he(tt.className,ie&&Z.markActive)})),B.label!=null?R.jsx(Ye,S({"aria-hidden":!0,"data-index":U},nt,!Fe(Ye)&&{markLabelActive:ie},{style:S({},je,nt.style),className:he(Z.markLabel,nt.className,ie&&Z.markLabelActive),children:B.label})):null]},U)}),z.map((B,U)=>{const rt=He(B,de,be),je=ke[x].offset(rt),ie=fe==="off"?Fr:Pt;return R.jsx(ie,S({},!Fe(ie)&&{valueLabelFormat:me,valueLabelDisplay:fe,value:typeof me=="function"?me(ee(B),U):me,index:U,open:u===U||m===U||fe==="on",disabled:we},gn,{children:R.jsx(Lt,S({"data-index":U},et,{className:he(Z.thumb,et.className,m===U&&Z.active,L===U&&Z.focusVisible),style:S({},je,Pe(U),et.style),children:R.jsx(At,S({"data-index":U,"aria-label":Le?Le(U):F,"aria-valuenow":ee(B),"aria-labelledby":Q,"aria-valuetext":_e?_e(ee(B),U):E,value:z[U]},yn))}))}),U)})]}))}),Vr=Hr;var Br={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Kr=Pn(Br);var Wr=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Ft(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Kr[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var s=new RegExp(Wr),l=null;(l=s.exec(e))!==null;)if(l[0].trim())if(l[1]){var i=l[1].trim(),d=[i,""];i.indexOf("=")>-1&&(d=i.split("=")),t.attrs[d[0]]=d[1],s.lastIndex--}else l[2]&&(t.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1));return t}var Ur=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,qr=/^\s*$/,Gr=Object.create(null);function on(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var a=[];for(var s in n)a.push(s+'="'+n[s]+'"');return a.length?" "+a.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(on,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Yr={parse:function(e,t){t||(t={}),t.components||(t.components=Gr);var n,a=[],s=[],l=-1,i=!1;if(e.indexOf("<")!==0){var d=e.indexOf("<");a.push({type:"text",content:d===-1?e:e.substring(0,d)})}return e.replace(Ur,function(r,b){if(i){if(r!=="</"+n.name+">")return;i=!1}var $,P=r.charAt(1)!=="/",A=r.startsWith("<!--"),k=b+r.length,I=e.charAt(k);if(A){var v=Ft(r);return l<0?(a.push(v),a):(($=s[l]).children.push(v),a)}if(P&&(l++,(n=Ft(r)).type==="tag"&&t.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!I||I==="<"||n.children.push({type:"text",content:e.slice(k,e.indexOf("<",k))}),l===0&&a.push(n),($=s[l-1])&&$.children.push(n),s[l]=n),(!P||n.voidElement)&&(l>-1&&(n.voidElement||n.name===r.slice(2,-1))&&(l--,n=l===-1?a:s[l]),!i&&I!=="<"&&I)){$=l===-1?a:s[l].children;var f=e.indexOf("<",k),h=e.slice(k,f===-1?void 0:f);qr.test(h)&&(h=" "),(f>-1&&l+$.length>=0||h!==" ")&&$.push({type:"text",content:h})}}),a},stringify:function(e){return e.reduce(function(t,n){return t+on("",n)},"")}};function ct(e,t){if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function ut(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?Ce(t):t}function Xr(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(t=>g.isValidElement(t))}function Ce(e){return Array.isArray(e)?e:[e]}function Zr(e,t){const n={...t};return n.props=Object.assign(e.props,t.props),n}function sn(e,t){if(!e)return"";let n="";const a=Ce(e),s=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return a.forEach((l,i)=>{if(typeof l=="string")n+=`${l}`;else if(g.isValidElement(l)){const d=Object.keys(l.props).length,r=s.indexOf(l.type)>-1,b=l.props.children;if(!b&&r&&d===0)n+=`<${l.type}/>`;else if(!b&&(!r||d!==0))n+=`<${i}></${i}>`;else if(l.props.i18nIsDynamicList)n+=`<${i}></${i}>`;else if(r&&d===1&&typeof b=="string")n+=`<${l.type}>${b}</${l.type}>`;else{const $=sn(b,t);n+=`<${i}>${$}</${i}>`}}else if(l===null)st("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof l=="object"){const{format:d,...r}=l,b=Object.keys(r);if(b.length===1){const $=d?`${b[0]}, ${d}`:b[0];n+=`{{${$}}}`}else st("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",l)}else st("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",l)}),n}function Jr(e,t,n,a,s,l){if(t==="")return[];const i=a.transKeepBasicHtmlNodesFor||[],d=t&&new RegExp(i.map(f=>`<${f}`).join("|")).test(t);if(!e&&!d&&!l)return[t];const r={};function b(f){Ce(f).forEach(y=>{typeof y!="string"&&(ct(y)?b(ut(y)):typeof y=="object"&&!g.isValidElement(y)&&Object.assign(r,y))})}b(e);const $=Yr.parse(`<0>${t}</0>`),P={...r,...s};function A(f,h,y){const M=ut(f),w=I(M,h.children,y);return Xr(M)&&w.length===0||f.props&&f.props.i18nIsDynamicList?M:w}function k(f,h,y,M,w){f.dummy?(f.children=h,y.push(g.cloneElement(f,{key:M},w?void 0:h))):y.push(...g.Children.map([f],o=>{const p={...o.props};return delete p.i18nIsDynamicList,In.createElement(o.type,S({},p,{key:M,ref:o.ref},w?{}:{children:h}))}))}function I(f,h,y){const M=Ce(f);return Ce(h).reduce((o,p,_)=>{const O=p.children&&p.children[0]&&p.children[0].content&&n.services.interpolator.interpolate(p.children[0].content,P,n.language);if(p.type==="tag"){let j=M[parseInt(p.name,10)];y.length===1&&!j&&(j=y[0][p.name]),j||(j={});const C=Object.keys(p.attrs).length!==0?Zr({props:p.attrs},j):j,D=g.isValidElement(C),q=D&&ct(p,!0)&&!p.voidElement,J=d&&typeof C=="object"&&C.dummy&&!D,F=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,p.name);if(typeof C=="string"){const E=n.services.interpolator.interpolate(C,P,n.language);o.push(E)}else if(ct(C)||q){const E=A(C,p,y);k(C,E,o,_)}else if(J){const E=I(M,p.children,y);k(C,E,o,_)}else if(Number.isNaN(parseFloat(p.name)))if(F){const E=A(C,p,y);k(C,E,o,_,p.voidElement)}else if(a.transSupportBasicHtmlNodes&&i.indexOf(p.name)>-1)if(p.voidElement)o.push(g.createElement(p.name,{key:`${p.name}-${_}`}));else{const E=I(M,p.children,y);o.push(g.createElement(p.name,{key:`${p.name}-${_}`},E))}else if(p.voidElement)o.push(`<${p.name} />`);else{const E=I(M,p.children,y);o.push(`<${p.name}>${E}</${p.name}>`)}else if(typeof C=="object"&&!D){const E=p.children[0]?O:null;E&&o.push(E)}else k(C,O,o,_,p.children.length!==1||!O)}else if(p.type==="text"){const j=a.transWrapTextNodes,C=l?a.unescape(n.services.interpolator.interpolate(p.content,P,n.language)):n.services.interpolator.interpolate(p.content,P,n.language);j?o.push(g.createElement(j,{key:`${p.name}-${_}`},C)):o.push(C)}return o},[])}const v=I([{dummy:!0,children:e||[]}],$,Ce(e||[]));return ut(v[0])}function Qr(e){let{children:t,count:n,parent:a,i18nKey:s,context:l,tOptions:i={},values:d,defaults:r,components:b,ns:$,i18n:P,t:A,shouldUnescape:k,...I}=e;const v=P||Zt();if(!v)return An("You will need to pass in an i18next instance by using i18nextReactModule"),t;const f=A||v.t.bind(v)||(q=>q);l&&(i.context=l);const h={...Rn(),...v.options&&v.options.react};let y=$||f.ns||v.options&&v.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];const M=sn(t,h),w=r||M||h.transEmptyNodeValue||s,{hashTransKey:o}=h,p=s||(o?o(M||w):M||w);v.options&&v.options.interpolation&&v.options.interpolation.defaultVariables&&(d=d&&Object.keys(d).length>0?{...d,...v.options.interpolation.defaultVariables}:{...v.options.interpolation.defaultVariables});const _=d?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},O={...i,count:n,...d,..._,defaultValue:w,ns:y},j=p?f(p,O):w,C=Jr(b||t,j,v,h,O,k),D=a!==void 0?a:h.defaultTransParent;return D?g.createElement(D,I,C):C}function ea(e){let{children:t,count:n,parent:a,i18nKey:s,context:l,tOptions:i={},values:d,defaults:r,components:b,ns:$,i18n:P,t:A,shouldUnescape:k,...I}=e;const{i18n:v,defaultNS:f}=g.useContext(Mn)||{},h=P||v||Zt(),y=A||h&&h.t.bind(h);return Qr({children:t,count:n,parent:a,i18nKey:s,context:l,tOptions:i,values:d,defaults:r,components:b,ns:$||y&&y.ns||f||h&&h.options&&h.options.defaultNS,i18n:h,t:A,shouldUnescape:k,...I})}var bt={},ta=ht;Object.defineProperty(bt,"__esModule",{value:!0});var ln=bt.default=void 0,na=ta(mt()),ra=R,aa=(0,na.default)((0,ra.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");ln=bt.default=aa;const Ht=({stars:e=1,colored:t=!1,inline:n=!1})=>c(Tn,{color:t?"warning":void 0,children:[...Array(e).keys()].map((a,s)=>c(ln,{fontSize:n?"inherit":void 0,sx:n?{verticalAlign:"text-top"}:void 0},s))});var gt={},oa=ht;Object.defineProperty(gt,"__esModule",{value:!0});var cn=gt.default=void 0,sa=oa(mt()),la=R,ia=(0,sa.default)((0,la.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");cn=gt.default=ia;var yt={},ca=ht;Object.defineProperty(yt,"__esModule",{value:!0});var un=yt.default=void 0,ua=ca(mt()),da=R,pa=(0,ua.default)((0,da.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");un=yt.default=pa;function fa({rarity:e,onRarityChange:t,filter:n,...a}){const{t:s}=Be("relic");return c(vt,{...a,title:e?c(Ht,{stars:e,inline:!0}):s`editor.rarity`,color:e?"success":"primary",children:wn.map(l=>c($e,{disabled:!n(l),onClick:()=>t(l),children:c(Ht,{stars:l,inline:!0})},l))})}function ma({index:e,relic:t,setSubstat:n}){const{t:a}=Be("relic"),{mainStatKey:s="",rarity:l=5}=t??{},{key:i="",value:d=0,rolls:r=[],efficiency:b=0}=(t==null?void 0:t.substats[e])??{},$=r.length;let P="",A=[],k=0;if(t){const f=t.rarity,{numUpgrades:h,high:y}=Vn[f];k=h+y-3-$,A=i?_n(i,f):[]}const I=7-A.length;k<0&&(P=P||a("editor.substat.error.noOverRoll",{value:k+$}));const v=g.useMemo(()=>i?[{value:0},...jn(l,i).map(f=>({value:f}))]:[{value:0}],[i,l]);return W(Re,{bgt:"light",children:[c(ce,{sx:{display:"flex"},children:W(Jt,{size:"small",sx:{width:"100%",display:"flex"},children:[W(vt,{title:i?c("p",{children:i}):a("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:i?"success":"primary",sx:{whiteSpace:"nowrap"},children:[i&&c($e,{onClick:()=>n(e,{key:"",value:0}),children:a`editor.substat.noSubstat`}),En.filter(f=>s!==f).map(f=>W($e,{selected:i===f,disabled:i===f,onClick:()=>n(e,{key:f,value:0}),children:[c(Nn,{}),c(zn,{children:f})]},f))]}),c(On,{sx:{flexBasis:30,flexGrow:1},children:c(Dn,{float:lt(i)==="%",placeholder:a`editor.substat.selectSub`,value:i?Mt(Tt(d,i),i):void 0,onChange:f=>{let h=f??0;lt(i)==="%"&&(h=h/100),n(e,{key:i,value:h})},disabled:!i,error:!!P,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!A.length&&c(Fn,{children:a`editor.substat.nextRolls`})]})}),c(ce,{px:2,children:c(ha,{value:Mt(Tt(d,i),i),marks:v,setValue:f=>{let h=f??0;lt(i)==="%"&&(h=h/100),n(e,{key:i,value:h})},disabled:!i})}),c(ce,{sx:{px:1,pb:1},children:P?c(Hn,{color:"error",children:a`ui:error`}):W(te,{container:!0,children:[c(te,{item:!0,flexGrow:1,children:!!r.length&&[...r].sort().map((f,h)=>c(Ie,{component:"span",color:`roll${Qt(I+A.indexOf(f),1,6)}.main`,sx:{ml:1},children:f},`${h}.${f}`))}),c(te,{item:!0,xs:"auto",flexShrink:1,children:c(Ie,{children:W(ea,{t:a,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",b]})})})]})})]})}function ha({value:e,setValue:t,marks:n,disabled:a=!1}){var i,d;const[s,l]=g.useState(e);return g.useEffect(()=>l(e),[e]),c(Vr,{value:s,step:.1,disabled:a,min:((i=n[1])==null?void 0:i.value)??0,max:((d=n[n.length-1])==null?void 0:d.value)??0,onChange:(r,b)=>l(b),onChangeCommitted:(r,b)=>t(b),valueLabelDisplay:"auto"})}function va(e,t){const a=(()=>{switch(t.type){case"reset":return;case"substat":{const{index:s,substat:l}=t,i=[...e.substats],d=l.key?i.findIndex(r=>r.key===l.key):-1;if(d===-1||d===s)i[s]={...l};else{const r=i[s];i[s]={...i[d]},i[d]={...r}}return{...e,substats:i}}case"overwrite":return t.relic;case"update":return{...e,...t.relic}}})();return a&&Bn(a,!0)}const Vt={rarity:[5,4,3,2],setEffects:{}};function ba({relicIdToEdit:e="new",cancelEdit:t}){const{t:n}=Be("relic"),{database:a}=en(),[s,l]=tn();g.useEffect(()=>a.relics.followAny(l),[a,l]);const[i,d]=g.useState(!1);g.useEffect(()=>{e==="new"&&(d(!0),b({type:"reset"}));const o=e&&s&&a.relics.get(e);o&&(d(!0),b({type:"overwrite",relic:Kn(o)}))},[e,a,s]);const[r,b]=g.useReducer(va,void 0),{relic:$,errors:P}=g.useMemo(()=>r?Wn(r,e):{relic:void 0,errors:[]},[r,e]),{rarity:A=5,level:k=0,slotKey:I="head"}=r??{},v=r?Vt:void 0,f=g.useCallback(o=>{const p=o.setKey?Vt:v;function _(O,j,C){return O&&j.includes(O)?O:C??j[0]}o.setKey&&(o.rarity=_(r==null?void 0:r.rarity,p.rarity,Math.max(...p.rarity)),o.slotKey=_(r==null?void 0:r.slotKey,["hand","head"])),o.rarity&&(o.level=(r==null?void 0:r.level)??0),o.level&&(o.level=Qt(o.level,0,3*(o.rarity??r.rarity))),o.slotKey&&(o.mainStatKey=_(r==null?void 0:r.mainStatKey,wt[o.slotKey])),o.mainStatKey&&(o.substats=[0,1,2,3].map(O=>r&&r.substats[O].key!==o.mainStatKey?r.substats[O]:{key:"",value:0})),b({type:"update",relic:o})},[r,v,b]),h=g.useCallback(()=>{t==null||t(),b({type:"reset"})},[t,b]),y=g.useCallback((o,p)=>b({type:"substat",index:o,substat:p}),[]),M=!P.length,w=g.useCallback(o=>{if(!e&&r&&!window.confirm(n`editor.clearPrompt`)){o==null||o.preventDefault();return}d(!1),h()},[n,e,r,d,h]);return c(g.Suspense,{fallback:!1,children:c(Un,{open:i,onClose:w,children:W(Re,{bgt:"dark",children:[c(qn,{title:"Relic Editor",action:c(Gt,{onClick:w,children:c(Gn,{})})}),W(nn,{sx:{display:"flex",flexDirection:"column",gap:1},children:[W(te,{container:!0,spacing:1,columns:{xs:1,md:2},children:[W(te,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[W(ce,{sx:{display:"flex",gap:1},children:[c(_t,{value:(r==null?void 0:r.setKey)||"",sx:{flexGrow:1},onChange:o=>f({setKey:o.target.value}),children:Yn.map(o=>c($e,{value:o,children:o},o))}),c(fa,{rarity:r?A:void 0,onRarityChange:o=>f({rarity:o}),filter:o=>{var p,_;return!!((_=(p=v==null?void 0:v.rarity)==null?void 0:p.includes)!=null&&_.call(p,o))},disabled:!v})]}),W(ce,{component:"div",display:"flex",children:[c(Xn,{label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:k,disabled:!v,onChange:o=>{const p=parseInt(o.target.value)||0;f({level:p})}}),W(Jt,{children:[c(Se,{onClick:()=>f({level:k-1}),disabled:!v||k===0,children:"-"}),A?[...Array(A+1).keys()].map(o=>3*o).map(o=>c(Se,{onClick:()=>f({level:o}),disabled:!v||k===o,children:o},o)):null,c(Se,{onClick:()=>f({level:k+1}),disabled:!v||k===A*3,children:"+"})]})]}),W(ce,{component:"div",display:"flex",children:[c(_t,{label:"Slot",value:I,onChange:o=>f({slotKey:o.target.value}),disabled:!v,children:Zn.map(o=>c($e,{value:o,children:o},o))}),c(Re,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:c(g.Suspense,{fallback:c(ft,{width:"60%"}),children:c(Ie,{color:"text.secondary",children:I})})})]}),W(ce,{component:"div",display:"flex",gap:1,children:[c(vt,{title:c("b",{children:(r==null?void 0:r.mainStatKey)??"Main Stat"}),disabled:!v,color:r?"success":"primary",children:wt[I].map(o=>c($e,{selected:(r==null?void 0:r.mainStatKey)===o,disabled:(r==null?void 0:r.mainStatKey)===o,onClick:()=>f({mainStatKey:o}),children:o},o))}),c(Re,{bgt:"light",sx:{p:1,flexGrow:1},children:c(Ie,{color:"text.secondary",children:r?Jn(A,r.mainStatKey,k):n`mainStat`})}),c(Se,{onClick:()=>f({lock:!(r!=null&&r.lock)}),color:r!=null&&r.lock?"success":"primary",disabled:!r,children:r!=null&&r.lock?c(cn,{}):c(un,{})})]}),c(rr,{locKey:($==null?void 0:$.location)??"",setLocKey:o=>f({location:o})})]}),c(te,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[0,1,2,3].map(o=>c(ma,{index:o,relic:$,setSubstat:y},o))})]}),!M&&c(gr,{variant:"filled",severity:"error",children:P.map((o,p)=>c("div",{children:o},p))}),c(te,{children:c(Se,{startIcon:c(rn,{}),onClick:()=>{a.relics.new(r),h()},disabled:!r||!M,color:"primary",children:n`editor.btnAdd`})})]})]})})})}const Bt={xs:1,sm:2,md:3,lg:3,xl:4},ga={xs:10,sm:12,md:24,lg:24,xl:24};function ya({onAdd:e}){const{t}=Be("relic"),{database:n}=en(),[a,s]=tn();g.useEffect(()=>n.relics.followAny(s),[n,s]);const{relicIds:l,totalRelicsNum:i}=g.useMemo(()=>{const k=n.relics.values,I=k.length,v=k.map(f=>f.id);return a&&{relicIds:v,totalRelicsNum:I}},[n,a]),d=Qn(),r=l.length!==i?`${l.length}/${i}`:i,{numShow:b,setTriggerElement:$}=er(ga[d],l.length),P=g.useMemo(()=>l.slice(0,b),[l,b]),A={numShowing:P.length,totalShowing:r};return W(nr,{children:[c(Re,{bgt:"dark",children:c(nn,{children:c(ce,{pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:W(Ie,{color:"text.secondary",children:["Showing ",c("b",{children:A.numShowing})," out of"," ",A.totalShowing," Items"]})})})}),c(te,{container:!0,columns:Bt,spacing:1,children:c(te,{item:!0,xs:!0,children:c(Se,{fullWidth:!0,onClick:e,color:"info",startIcon:c(rn,{}),children:t`addNew`})})}),W(g.Suspense,{fallback:c(ft,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:[c(te,{container:!0,columns:Bt,spacing:1,children:P.map(k=>c(te,{item:!0,xs:1,children:c(tr,{relic:n.relics.get(k)})},k))}),l.length!==P.length&&c(ft,{ref:k=>{k&&$(k)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})}function Sa(){const[e,t]=g.useState("");return W(ce,{display:"flex",flexDirection:"column",gap:1,my:1,children:[c(ba,{relicIdToEdit:e,cancelEdit:()=>t("")}),c(ya,{onAdd:()=>t("new")})]})}export{Sa as default};
