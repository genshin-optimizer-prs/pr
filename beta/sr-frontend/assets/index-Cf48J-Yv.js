import{g as Gt,a as Yt,c as Ue,j as w,s as se,P as Pr,b as ue,d as ft,l as mt,_ as S,r as b,u as Xt,e as Zt,I as Qt,C as Ar,f as ye,h as Jt,i as _r,k as Mr,m as jt,n as wr,o as st,p as Be,q as lt,t as Ke,v as Tt,w as er,x as tr,y as pe,z as Ir,A as jr,B as Tr,D as it,E as rr,R as zr,F as Nr,G as Pe,H as Ae,J as i,K as Er,L as Te,M as Or,N as je,O as gt,Q as Dr,S as nr,T as Hr,U as Fr,V as Vr,W as O,X as ar,Y as Br,Z as Kr,$ as Wr,a0 as Ur,a1 as qr,a2 as ct,a3 as zt,a4 as Nt,a5 as Gr,a6 as ce,a7 as Yr,a8 as Q,a9 as ge,aa as or,ab as fe,ac as Xr,ad as Zr,ae as sr,af as Qr,ag as Jr,ah as Et,ai as en,aj as tn,ak as rn,al as lr,am as nn,an as ie,ao as an,ap as on,aq as ht,ar as sn,as as ln,at as vt,au as cn}from"./index-B2iyi2xS.js";import{u as ir,a as un,b as dn}from"./useInfScroll-CRHxbJYD.js";import{d as bt}from"./Add-C7NvdB_T.js";import{C as pn}from"./CardHeader-C64W1Cvv.js";const fn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},mn=fn;function hn(e){return Yt("MuiAlert",e)}const vn=Gt("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ot=vn,bn=Ue(w.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),gn=Ue(w.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),yn=Ue(w.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),xn=Ue(w.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),kn=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Sn=e=>{const{variant:t,color:r,severity:n,classes:l}=e,a={root:["root",`${t}${ue(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Jt(a,hn,l)},Cn=se(Pr,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ue(r.color||r.severity)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?ft:mt,n=e.palette.mode==="light"?mt:ft,l=t.color||t.severity;return S({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},l&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${l}Color`]:r(e.palette[l].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${l}StandardBg`]:n(e.palette[l].light,.9),[`& .${Ot.icon}`]:e.vars?{color:e.vars.palette.Alert[`${l}IconColor`]}:{color:e.palette[l].main}},l&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${l}Color`]:r(e.palette[l].light,.6),border:`1px solid ${(e.vars||e).palette[l].light}`,[`& .${Ot.icon}`]:e.vars?{color:e.vars.palette.Alert[`${l}IconColor`]}:{color:e.palette[l].main}},l&&t.variant==="filled"&&S({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${l}FilledColor`],backgroundColor:e.vars.palette.Alert[`${l}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[l].dark:e.palette[l].main,color:e.palette.getContrastText(e.palette[l].main)}))}),$n=se("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ln=se("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Dt=se("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ht={success:w.jsx(bn,{fontSize:"inherit"}),warning:w.jsx(gn,{fontSize:"inherit"}),error:w.jsx(yn,{fontSize:"inherit"}),info:w.jsx(xn,{fontSize:"inherit"})},Rn=b.forwardRef(function(t,r){var n,l,a,s,u,m;const $=Xt({props:t,name:"MuiAlert"}),{action:C,children:o,className:A,closeText:P="Close",color:R,components:g={},componentsProps:f={},icon:v,iconMapping:y=Ht,onClose:_,role:z="alert",severity:k="success",slotProps:p={},slots:N={},variant:Y="standard"}=$,j=Zt($,kn),L=S({},$,{color:R,severity:k,variant:Y}),E=Sn(L),U=(n=(l=N.closeButton)!=null?l:g.CloseButton)!=null?n:Qt,Z=(a=(s=N.closeIcon)!=null?s:g.CloseIcon)!=null?a:Ar,D=(u=p.closeButton)!=null?u:f.closeButton,c=(m=p.closeIcon)!=null?m:f.closeIcon;return w.jsxs(Cn,S({role:z,elevation:0,ownerState:L,className:ye(E.root,A),ref:r},j,{children:[v!==!1?w.jsx($n,{ownerState:L,className:E.icon,children:v||y[k]||Ht[k]}):null,w.jsx(Ln,{ownerState:L,className:E.message,children:o}),C!=null?w.jsx(Dt,{ownerState:L,className:E.action,children:C}):null,C==null&&_?w.jsx(Dt,{ownerState:L,className:E.action,children:w.jsx(U,S({size:"small","aria-label":P,title:P,color:"inherit",onClick:_},D,{children:w.jsx(Z,S({fontSize:"small"},c))}))}):null]}))}),Pn=Rn;function An(e,t,r=(n,l)=>n===l){return e.length===t.length&&e.every((n,l)=>r(n,t[l]))}const _n=2;function cr(e,t){return e-t}function Ie(e,t,r){return e==null?t:Math.min(Math.max(t,e),r)}function Ft(e,t){var r;const{index:n}=(r=e.reduce((l,a,s)=>{const u=Math.abs(t-a);return l===null||u<l.distance||u===l.distance?{distance:u,index:s}:l},null))!=null?r:{};return n}function De(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const l=r.changedTouches[n];if(l.identifier===t.current)return{x:l.clientX,y:l.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function We(e,t,r){return(e-t)*100/(r-t)}function Mn(e,t,r){return(r-t)*e+t}function wn(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function In(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(wn(t)))}function Vt({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(cr)}function He({sliderRef:e,activeIndex:t,setActive:r}){var n,l;const a=Be(e.current);if(!((n=e.current)!=null&&n.contains(a.activeElement))||Number(a==null||(l=a.activeElement)==null?void 0:l.getAttribute("data-index"))!==t){var s;(s=e.current)==null||s.querySelector(`[type="range"][data-index="${t}"]`).focus()}r&&r(t)}function Fe(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?An(e,t):!1}const jn={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Tn=e=>e;let Ve;function ut(){return Ve===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ve=CSS.supports("touch-action","none"):Ve=!0),Ve}function zn(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:l=!1,isRtl:a=!1,marks:s=!1,max:u=100,min:m=0,name:$,onChange:C,onChangeCommitted:o,orientation:A="horizontal",rootRef:P,scale:R=Tn,step:g=1,tabIndex:f,value:v}=e,y=b.useRef(),[_,z]=b.useState(-1),[k,p]=b.useState(-1),[N,Y]=b.useState(!1),j=b.useRef(0),[L,E]=_r({controlled:v,default:r??m,name:"Slider"}),U=C&&((d,h,x)=>{const M=d.nativeEvent||d,W=new M.constructor(M.type,M);Object.defineProperty(W,"target",{writable:!0,value:{value:h,name:$}}),C(W,h,x)}),Z=Array.isArray(L);let D=Z?L.slice().sort(cr):[L];D=D.map(d=>Ie(d,m,u));const c=s===!0&&g!==null?[...Array(Math.floor((u-m)/g)+1)].map((d,h)=>({value:m+g*h})):s||[],I=c.map(d=>d.value),{isFocusVisibleRef:J,onBlur:q,onFocus:ee,ref:_e}=Mr(),[ze,xe]=b.useState(-1),te=b.useRef(),Ne=jt(_e,te),Me=jt(P,Ne),Ee=d=>h=>{var x;const M=Number(h.currentTarget.getAttribute("data-index"));ee(h),J.current===!0&&xe(M),p(M),d==null||(x=d.onFocus)==null||x.call(d,h)},qe=d=>h=>{var x;q(h),J.current===!1&&xe(-1),p(-1),d==null||(x=d.onBlur)==null||x.call(d,h)};wr(()=>{if(n&&te.current.contains(document.activeElement)){var d;(d=document.activeElement)==null||d.blur()}},[n]),n&&_!==-1&&z(-1),n&&ze!==-1&&xe(-1);const ke=d=>h=>{var x;(x=d.onChange)==null||x.call(d,h);const M=Number(h.currentTarget.getAttribute("data-index")),W=D[M],re=I.indexOf(W);let T=h.target.valueAsNumber;if(c&&g==null){const F=I[I.length-1];T>F?T=F:T<I[0]?T=I[0]:T=T<W?I[re-1]:I[re+1]}if(T=Ie(T,m,u),Z){l&&(T=Ie(T,D[M-1]||-1/0,D[M+1]||1/0));const F=T;T=Vt({values:D,newValue:T,index:M});let B=M;l||(B=T.indexOf(F)),He({sliderRef:te,activeIndex:B})}E(T),xe(M),U&&!Fe(T,L)&&U(h,T,M),o&&o(h,T)},me=b.useRef();let Se=A;a&&A==="horizontal"&&(Se+="-reverse");const Ce=({finger:d,move:h=!1})=>{const{current:x}=te,{width:M,height:W,bottom:re,left:T}=x.getBoundingClientRect();let F;Se.indexOf("vertical")===0?F=(re-d.y)/W:F=(d.x-T)/M,Se.indexOf("-reverse")!==-1&&(F=1-F);let B;if(B=Mn(F,m,u),g)B=In(B,g,m);else{const we=Ft(I,B);B=I[we]}B=Ie(B,m,u);let le=0;if(Z){h?le=me.current:le=Ft(D,B),l&&(B=Ie(B,D[le-1]||-1/0,D[le+1]||1/0));const we=B;B=Vt({values:D,newValue:B,index:le}),l&&h||(le=B.indexOf(we),me.current=le)}return{newValue:B,activeIndex:le}},he=st(d=>{const h=De(d,y);if(!h)return;if(j.current+=1,d.type==="mousemove"&&d.buttons===0){ae(d);return}const{newValue:x,activeIndex:M}=Ce({finger:h,move:!0});He({sliderRef:te,activeIndex:M,setActive:z}),E(x),!N&&j.current>_n&&Y(!0),U&&!Fe(x,L)&&U(d,x,M)}),ae=st(d=>{const h=De(d,y);if(Y(!1),!h)return;const{newValue:x}=Ce({finger:h,move:!0});z(-1),d.type==="touchend"&&p(-1),o&&o(d,x),y.current=void 0,H()}),V=st(d=>{if(n)return;ut()||d.preventDefault();const h=d.changedTouches[0];h!=null&&(y.current=h.identifier);const x=De(d,y);if(x!==!1){const{newValue:W,activeIndex:re}=Ce({finger:x});He({sliderRef:te,activeIndex:re,setActive:z}),E(W),U&&!Fe(W,L)&&U(d,W,re)}j.current=0;const M=Be(te.current);M.addEventListener("touchmove",he),M.addEventListener("touchend",ae)}),H=b.useCallback(()=>{const d=Be(te.current);d.removeEventListener("mousemove",he),d.removeEventListener("mouseup",ae),d.removeEventListener("touchmove",he),d.removeEventListener("touchend",ae)},[ae,he]);b.useEffect(()=>{const{current:d}=te;return d.addEventListener("touchstart",V,{passive:ut()}),()=>{d.removeEventListener("touchstart",V,{passive:ut()}),H()}},[H,V]),b.useEffect(()=>{n&&H()},[n,H]);const $e=d=>h=>{var x;if((x=d.onMouseDown)==null||x.call(d,h),n||h.defaultPrevented||h.button!==0)return;h.preventDefault();const M=De(h,y);if(M!==!1){const{newValue:re,activeIndex:T}=Ce({finger:M});He({sliderRef:te,activeIndex:T,setActive:z}),E(re),U&&!Fe(re,L)&&U(h,re,T)}j.current=0;const W=Be(te.current);W.addEventListener("mousemove",he),W.addEventListener("mouseup",ae)},ve=We(Z?D[0]:m,m,u),be=We(D[D.length-1],m,u)-ve,Ge=(d={})=>{const h=lt(d),x={onMouseDown:$e(h||{})},M=S({},h,x);return S({},d,{ref:Me},M)},X=d=>h=>{var x;(x=d.onMouseOver)==null||x.call(d,h);const M=Number(h.currentTarget.getAttribute("data-index"));p(M)},Le=d=>h=>{var x;(x=d.onMouseLeave)==null||x.call(d,h),p(-1)};return{active:_,axis:Se,axisProps:jn,dragging:N,focusedThumbIndex:ze,getHiddenInputProps:(d={})=>{var h;const x=lt(d),M={onChange:ke(x||{}),onFocus:Ee(x||{}),onBlur:qe(x||{})},W=S({},x,M);return S({tabIndex:f,"aria-labelledby":t,"aria-orientation":A,"aria-valuemax":R(u),"aria-valuemin":R(m),name:$,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(h=e.step)!=null?h:void 0,disabled:n},d,W,{style:S({},mn,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ge,getThumbProps:(d={})=>{const h=lt(d),x={onMouseOver:X(h||{}),onMouseLeave:Le(h||{})};return S({},d,h,x)},marks:c,open:k,range:Z,rootRef:Me,trackLeap:be,trackOffset:ve,values:D,getThumbStyle:d=>({pointerEvents:_!==-1&&_!==d?"none":void 0})}}const Nn=e=>!e||!Ke(e);function En(e){return Yt("MuiSlider",e)}const oe=Gt("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),On=e=>{const{open:t}=e;return{offset:ye(t&&oe.valueLabelOpen),circle:oe.valueLabelCircle,label:oe.valueLabelLabel}};function Dn(e){const{children:t,className:r,value:n}=e,l=On(e);return t?b.cloneElement(t,{className:ye(t.props.className)},w.jsxs(b.Fragment,{children:[t.props.children,w.jsx("span",{className:ye(l.offset,r),"aria-hidden":!0,children:w.jsx("span",{className:l.circle,children:w.jsx("span",{className:l.label,children:n})})})]})):null}const Hn=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Bt(e){return e}const Fn=se("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ue(r.color)}`],r.size!=="medium"&&t[`size${ue(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>S({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&S({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&S({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${oe.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${oe.dragging}`]:{[`& .${oe.thumb}, & .${oe.track}`]:{transition:"none"}}})),Vn=se("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>S({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),Bn=se("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?mt(e.palette[t.color].main,.62):ft(e.palette[t.color].main,.5);return S({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})}),Kn=se("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${ue(r.color)}`],r.size!=="medium"&&t[`thumbSize${ue(r.size)}`]]}})(({theme:e,ownerState:t})=>S({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":S({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${oe.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Tt(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${oe.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Tt(e.palette[t.color].main,.16)}`},[`&.${oe.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Wn=se(Dn,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>S({[`&.${oe.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Un=se("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>er(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(({theme:e,ownerState:t,markActive:r})=>S({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),qn=se("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>er(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:r})=>S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary})),Gn=e=>{const{disabled:t,dragging:r,marked:n,orientation:l,track:a,classes:s,color:u,size:m}=e,$={root:["root",t&&"disabled",r&&"dragging",n&&"marked",l==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",u&&`color${ue(u)}`,m&&`size${ue(m)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",m&&`thumbSize${ue(m)}`,u&&`thumbColor${ue(u)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Jt($,En,s)},Yn=({children:e})=>e,Xn=b.forwardRef(function(t,r){var n,l,a,s,u,m,$,C,o,A,P,R,g,f,v,y,_,z,k,p,N,Y,j,L;const E=Xt({props:t,name:"MuiSlider"}),Z=tr().direction==="rtl",{"aria-label":D,"aria-valuetext":c,"aria-labelledby":I,component:J="span",components:q={},componentsProps:ee={},color:_e="primary",classes:ze,className:xe,disableSwap:te=!1,disabled:Ne=!1,getAriaLabel:Me,getAriaValueText:Ee,marks:qe=!1,max:ke=100,min:me=0,orientation:Se="horizontal",size:Ce="medium",step:he=1,scale:ae=Bt,slotProps:V,slots:H,track:$e="normal",valueLabelDisplay:ve="off",valueLabelFormat:be=Bt}=E,Ge=Zt(E,Hn),X=S({},E,{isRtl:Z,max:ke,min:me,classes:ze,disabled:Ne,disableSwap:te,orientation:Se,marks:qe,color:_e,size:Ce,step:he,scale:ae,track:$e,valueLabelDisplay:ve,valueLabelFormat:be}),{axisProps:Le,getRootProps:Lt,getHiddenInputProps:Rt,getThumbProps:Pt,open:d,active:h,axis:x,focusedThumbIndex:M,range:W,dragging:re,marks:T,values:F,trackOffset:B,trackLeap:le,getThumbStyle:we}=zn(S({},X,{rootRef:r}));X.marked=T.length>0&&T.some(K=>K.label),X.dragging=re,X.focusedThumbIndex=M;const ne=Gn(X),Ye=(n=(l=H==null?void 0:H.root)!=null?l:q.Root)!=null?n:Fn,At=(a=(s=H==null?void 0:H.rail)!=null?s:q.Rail)!=null?a:Vn,_t=(u=(m=H==null?void 0:H.track)!=null?m:q.Track)!=null?u:Bn,Mt=($=(C=H==null?void 0:H.thumb)!=null?C:q.Thumb)!=null?$:Kn,wt=(o=(A=H==null?void 0:H.valueLabel)!=null?A:q.ValueLabel)!=null?o:Wn,Xe=(P=(R=H==null?void 0:H.mark)!=null?R:q.Mark)!=null?P:Un,Ze=(g=(f=H==null?void 0:H.markLabel)!=null?f:q.MarkLabel)!=null?g:qn,It=(v=(y=H==null?void 0:H.input)!=null?y:q.Input)!=null?v:"input",Qe=(_=V==null?void 0:V.root)!=null?_:ee.root,gr=(z=V==null?void 0:V.rail)!=null?z:ee.rail,Je=(k=V==null?void 0:V.track)!=null?k:ee.track,et=(p=V==null?void 0:V.thumb)!=null?p:ee.thumb,tt=(N=V==null?void 0:V.valueLabel)!=null?N:ee.valueLabel,yr=(Y=V==null?void 0:V.mark)!=null?Y:ee.mark,xr=(j=V==null?void 0:V.markLabel)!=null?j:ee.markLabel,kr=(L=V==null?void 0:V.input)!=null?L:ee.input,Sr=pe({elementType:Ye,getSlotProps:Lt,externalSlotProps:Qe,externalForwardedProps:Ge,additionalProps:S({},Nn(Ye)&&{as:J}),ownerState:S({},X,Qe==null?void 0:Qe.ownerState),className:[ne.root,xe]}),Cr=pe({elementType:At,externalSlotProps:gr,ownerState:X,className:ne.rail}),$r=pe({elementType:_t,externalSlotProps:Je,additionalProps:{style:S({},Le[x].offset(B),Le[x].leap(le))},ownerState:S({},X,Je==null?void 0:Je.ownerState),className:ne.track}),rt=pe({elementType:Mt,getSlotProps:Pt,externalSlotProps:et,ownerState:S({},X,et==null?void 0:et.ownerState),className:ne.thumb}),Lr=pe({elementType:wt,externalSlotProps:tt,ownerState:S({},X,tt==null?void 0:tt.ownerState),className:ne.valueLabel}),nt=pe({elementType:Xe,externalSlotProps:yr,ownerState:X,className:ne.mark}),at=pe({elementType:Ze,externalSlotProps:xr,ownerState:X,className:ne.markLabel}),Rr=pe({elementType:It,getSlotProps:Rt,externalSlotProps:kr,ownerState:X});return w.jsxs(Ye,S({},Sr,{children:[w.jsx(At,S({},Cr)),w.jsx(_t,S({},$r)),T.filter(K=>K.value>=me&&K.value<=ke).map((K,G)=>{const ot=We(K.value,me,ke),Oe=Le[x].offset(ot);let de;return $e===!1?de=F.indexOf(K.value)!==-1:de=$e==="normal"&&(W?K.value>=F[0]&&K.value<=F[F.length-1]:K.value<=F[0])||$e==="inverted"&&(W?K.value<=F[0]||K.value>=F[F.length-1]:K.value>=F[0]),w.jsxs(b.Fragment,{children:[w.jsx(Xe,S({"data-index":G},nt,!Ke(Xe)&&{markActive:de},{style:S({},Oe,nt.style),className:ye(nt.className,de&&ne.markActive)})),K.label!=null?w.jsx(Ze,S({"aria-hidden":!0,"data-index":G},at,!Ke(Ze)&&{markLabelActive:de},{style:S({},Oe,at.style),className:ye(ne.markLabel,at.className,de&&ne.markLabelActive),children:K.label})):null]},G)}),F.map((K,G)=>{const ot=We(K,me,ke),Oe=Le[x].offset(ot),de=ve==="off"?Yn:wt;return w.jsx(de,S({},!Ke(de)&&{valueLabelFormat:be,valueLabelDisplay:ve,value:typeof be=="function"?be(ae(K),G):be,index:G,open:d===G||h===G||ve==="on",disabled:Ne},Lr,{children:w.jsx(Mt,S({"data-index":G},rt,{className:ye(ne.thumb,rt.className,h===G&&ne.active,M===G&&ne.focusVisible),style:S({},Oe,we(G),rt.style),children:w.jsx(It,S({"data-index":G,"aria-label":Me?Me(G):D,"aria-valuenow":ae(K),"aria-labelledby":I,"aria-valuetext":Ee?Ee(ae(K),G):c,value:F[G]},Rr))}))}),G)})]}))}),Zn=Xn;var Qn={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Jn=Ir(Qn);var ea=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Kt(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(Jn[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var l=new RegExp(ea),a=null;(a=l.exec(e))!==null;)if(a[0].trim())if(a[1]){var s=a[1].trim(),u=[s,""];s.indexOf("=")>-1&&(u=s.split("=")),t.attrs[u[0]]=u[1],l.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var ta=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ra=/^\s*$/,na=Object.create(null);function ur(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var l in r)n.push(l+'="'+r[l]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(ur,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var aa={parse:function(e,t){t||(t={}),t.components||(t.components=na);var r,n=[],l=[],a=-1,s=!1;if(e.indexOf("<")!==0){var u=e.indexOf("<");n.push({type:"text",content:u===-1?e:e.substring(0,u)})}return e.replace(ta,function(m,$){if(s){if(m!=="</"+r.name+">")return;s=!1}var C,o=m.charAt(1)!=="/",A=m.startsWith("<!--"),P=$+m.length,R=e.charAt(P);if(A){var g=Kt(m);return a<0?(n.push(g),n):((C=l[a]).children.push(g),n)}if(o&&(a++,(r=Kt(m)).type==="tag"&&t.components[r.name]&&(r.type="component",s=!0),r.voidElement||s||!R||R==="<"||r.children.push({type:"text",content:e.slice(P,e.indexOf("<",P))}),a===0&&n.push(r),(C=l[a-1])&&C.children.push(r),l[a]=r),(!o||r.voidElement)&&(a>-1&&(r.voidElement||r.name===m.slice(2,-1))&&(a--,r=a===-1?n:l[a]),!s&&R!=="<"&&R)){C=a===-1?n:l[a].children;var f=e.indexOf("<",P),v=e.slice(P,f===-1?void 0:f);ra.test(v)&&(v=" "),(f>-1&&a+C.length>=0||v!==" ")&&C.push({type:"text",content:v})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+ur("",r)},"")}};function dt(e,t){if(!e)return!1;const r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function pt(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?Re(t):t}function oa(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(t=>b.isValidElement(t))}function Re(e){return Array.isArray(e)?e:[e]}function sa(e,t){const r={...t};return r.props=Object.assign(e.props,t.props),r}function dr(e,t){if(!e)return"";let r="";const n=Re(e),l=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((a,s)=>{if(typeof a=="string")r+=`${a}`;else if(b.isValidElement(a)){const u=Object.keys(a.props).length,m=l.indexOf(a.type)>-1,$=a.props.children;if(!$&&m&&u===0)r+=`<${a.type}/>`;else if(!$&&(!m||u!==0))r+=`<${s}></${s}>`;else if(a.props.i18nIsDynamicList)r+=`<${s}></${s}>`;else if(m&&u===1&&typeof $=="string")r+=`<${a.type}>${$}</${a.type}>`;else{const C=dr($,t);r+=`<${s}>${C}</${s}>`}}else if(a===null)it("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof a=="object"){const{format:u,...m}=a,$=Object.keys(m);if($.length===1){const C=u?`${$[0]}, ${u}`:$[0];r+=`{{${C}}}`}else it("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else it("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function la(e,t,r,n,l,a){if(t==="")return[];const s=n.transKeepBasicHtmlNodesFor||[],u=t&&new RegExp(s.map(f=>`<${f}`).join("|")).test(t);if(!e&&!u&&!a)return[t];const m={};function $(f){Re(f).forEach(y=>{typeof y!="string"&&(dt(y)?$(pt(y)):typeof y=="object"&&!b.isValidElement(y)&&Object.assign(m,y))})}$(e);const C=aa.parse(`<0>${t}</0>`),o={...m,...l};function A(f,v,y){const _=pt(f),z=R(_,v.children,y);return oa(_)&&z.length===0||f.props&&f.props.i18nIsDynamicList?_:z}function P(f,v,y,_,z){f.dummy?(f.children=v,y.push(b.cloneElement(f,{key:_},z?void 0:v))):y.push(...b.Children.map([f],k=>{const p={...k.props};return delete p.i18nIsDynamicList,zr.createElement(k.type,S({},p,{key:_,ref:k.ref},z?{}:{children:v}))}))}function R(f,v,y){const _=Re(f);return Re(v).reduce((k,p,N)=>{const Y=p.children&&p.children[0]&&p.children[0].content&&r.services.interpolator.interpolate(p.children[0].content,o,r.language);if(p.type==="tag"){let j=_[parseInt(p.name,10)];y.length===1&&!j&&(j=y[0][p.name]),j||(j={});const L=Object.keys(p.attrs).length!==0?sa({props:p.attrs},j):j,E=b.isValidElement(L),U=E&&dt(p,!0)&&!p.voidElement,Z=u&&typeof L=="object"&&L.dummy&&!E,D=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,p.name);if(typeof L=="string"){const c=r.services.interpolator.interpolate(L,o,r.language);k.push(c)}else if(dt(L)||U){const c=A(L,p,y);P(L,c,k,N)}else if(Z){const c=R(_,p.children,y);P(L,c,k,N)}else if(Number.isNaN(parseFloat(p.name)))if(D){const c=A(L,p,y);P(L,c,k,N,p.voidElement)}else if(n.transSupportBasicHtmlNodes&&s.indexOf(p.name)>-1)if(p.voidElement)k.push(b.createElement(p.name,{key:`${p.name}-${N}`}));else{const c=R(_,p.children,y);k.push(b.createElement(p.name,{key:`${p.name}-${N}`},c))}else if(p.voidElement)k.push(`<${p.name} />`);else{const c=R(_,p.children,y);k.push(`<${p.name}>${c}</${p.name}>`)}else if(typeof L=="object"&&!E){const c=p.children[0]?Y:null;c&&k.push(c)}else P(L,Y,k,N,p.children.length!==1||!Y)}else if(p.type==="text"){const j=n.transWrapTextNodes,L=a?n.unescape(r.services.interpolator.interpolate(p.content,o,r.language)):r.services.interpolator.interpolate(p.content,o,r.language);j?k.push(b.createElement(j,{key:`${p.name}-${N}`},L)):k.push(L)}return k},[])}const g=R([{dummy:!0,children:e||[]}],C,Re(e||[]));return pt(g[0])}function ia(e){let{children:t,count:r,parent:n,i18nKey:l,context:a,tOptions:s={},values:u,defaults:m,components:$,ns:C,i18n:o,t:A,shouldUnescape:P,...R}=e;const g=o||rr();if(!g)return jr("You will need to pass in an i18next instance by using i18nextReactModule"),t;const f=A||g.t.bind(g)||(U=>U);a&&(s.context=a);const v={...Tr(),...g.options&&g.options.react};let y=C||f.ns||g.options&&g.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];const _=dr(t,v),z=m||_||v.transEmptyNodeValue||l,{hashTransKey:k}=v,p=l||(k?k(_||z):_||z);g.options&&g.options.interpolation&&g.options.interpolation.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const N=u?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},Y={...s,count:r,...u,...N,defaultValue:z,ns:y},j=p?f(p,Y):z,L=la($||t,j,g,v,Y,P),E=n!==void 0?n:v.defaultTransParent;return E?b.createElement(E,R,L):L}function ca(e){let{children:t,count:r,parent:n,i18nKey:l,context:a,tOptions:s={},values:u,defaults:m,components:$,ns:C,i18n:o,t:A,shouldUnescape:P,...R}=e;const{i18n:g,defaultNS:f}=b.useContext(Nr)||{},v=o||g||rr(),y=A||v&&v.t.bind(v);return ia({children:t,count:r,parent:n,i18nKey:l,context:a,tOptions:s,values:u,defaults:m,components:$,ns:C||y&&y.ns||f||v&&v.options&&v.options.defaultNS,i18n:v,t:A,shouldUnescape:P,...R})}var yt={},ua=Ae;Object.defineProperty(yt,"__esModule",{value:!0});var pr=yt.default=void 0,da=ua(Pe()),pa=w,fa=(0,da.default)((0,pa.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");pr=yt.default=fa;const Wt=({stars:e=1,colored:t=!1,inline:r=!1})=>i(Er,{color:t?"warning":void 0,children:[...Array(e).keys()].map((n,l)=>i(pr,{fontSize:r?"inherit":void 0,sx:r?{verticalAlign:"text-top"}:void 0},l))});var xt={},ma=Ae;Object.defineProperty(xt,"__esModule",{value:!0});var fr=xt.default=void 0,ha=ma(Pe()),va=w,ba=(0,ha.default)((0,va.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");fr=xt.default=ba;var kt={},ga=Ae;Object.defineProperty(kt,"__esModule",{value:!0});var mr=kt.default=void 0,ya=ga(Pe()),xa=w,ka=(0,ya.default)((0,xa.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");mr=kt.default=ka;var St={},Sa=Ae;Object.defineProperty(St,"__esModule",{value:!0});var hr=St.default=void 0,Ca=Sa(Pe()),$a=w,La=(0,Ca.default)((0,$a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");hr=St.default=La;var Ct={},Ra=Ae;Object.defineProperty(Ct,"__esModule",{value:!0});var vr=Ct.default=void 0,Pa=Ra(Pe()),Aa=w,_a=(0,Pa.default)((0,Aa.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");vr=Ct.default=_a;var $t={},Ma=Ae;Object.defineProperty($t,"__esModule",{value:!0});var br=$t.default=void 0,wa=Ma(Pe()),Ia=w,ja=(0,wa.default)((0,Ia.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update");br=$t.default=ja;function Ta({rarity:e,onRarityChange:t,filter:r,...n}){const{t:l}=Te("relic");return i(gt,{...n,title:e?i(Wt,{stars:e,inline:!0}):l`editor.rarity`,color:e?"success":"primary",children:Or.map(a=>i(je,{disabled:!r(a),onClick:()=>t(a),children:i(Wt,{stars:a,inline:!0})},a))})}function za({relicSetKey:e,setRelicSetKey:t,label:r="",...n}){const{t:l}=Te(["relic","relicNames_gen"]);r=r||l("relic:autocompleteLabels.set");const a=b.useMemo(()=>Dr.map(u=>({key:u,label:l(`relicNames_gen:${u}`)})),[l]),s=b.useCallback(u=>t(u??""),[t]);return i(Hr,{options:a,valueKey:e,onChange:s,toImg:()=>i(nr,{children:" "}),label:r,...n})}function Na({index:e,relic:t,setSubstat:r}){const{t:n}=Te("relic"),{mainStatKey:l="",rarity:a=5}=t??{},{key:s="",value:u=0,rolls:m=[],efficiency:$=0}=(t==null?void 0:t.substats[e])??{},C=m.length;let o="",A=[],P=0;if(t){const f=t.rarity,{numUpgrades:v,high:y}=Xr[f];P=v+y-3-C,A=s?Fr(s,f):[]}const R=7-A.length;P<0&&(o=o||n("editor.substat.error.noOverRoll",{value:P+C}));const g=b.useMemo(()=>s?[{value:0},...Vr(a,s).map(f=>({value:f}))]:[{value:0}],[s,a]);return O(fe,{bgt:"light",children:[i(ce,{sx:{display:"flex"},children:O(ar,{size:"small",sx:{width:"100%",display:"flex"},children:[O(gt,{title:s?i("p",{children:s}):n("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:s?"success":"primary",sx:{whiteSpace:"nowrap"},children:[s&&i(je,{onClick:()=>r(e,{key:"",value:0}),children:n`editor.substat.noSubstat`}),Br.filter(f=>l!==f).map(f=>O(je,{selected:s===f,disabled:s===f,onClick:()=>r(e,{key:f,value:0}),children:[i(Kr,{}),i(Wr,{children:f})]},f))]}),i(Ur,{sx:{flexBasis:30,flexGrow:1},children:i(qr,{float:ct(s)==="%",placeholder:n`editor.substat.selectSub`,value:s?zt(Nt(u,s),s):void 0,onChange:f=>{let v=f??0;ct(s)==="%"&&(v=v/100),r(e,{key:s,value:v})},disabled:!s,error:!!o,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!A.length&&i(Gr,{children:n`editor.substat.nextRolls`})]})}),i(ce,{px:2,children:i(Ea,{value:zt(Nt(u,s),s),marks:g,setValue:f=>{let v=f??0;ct(s)==="%"&&(v=v/100),r(e,{key:s,value:v})},disabled:!s})}),i(ce,{sx:{px:1,pb:1},children:o?i(Yr,{color:"error",children:n`ui:error`}):O(Q,{container:!0,children:[i(Q,{item:!0,flexGrow:1,children:!!m.length&&[...m].sort().map((f,v)=>i(ge,{component:"span",color:`roll${or(R+A.indexOf(f),1,6)}.main`,sx:{ml:1},children:f},`${v}.${f}`))}),i(Q,{item:!0,xs:"auto",flexShrink:1,children:i(ge,{children:O(ca,{t:n,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",$]})})})]})})]})}function Ea({value:e,setValue:t,marks:r,disabled:n=!1}){var s,u;const[l,a]=b.useState(e);return b.useEffect(()=>a(e),[e]),i(Zn,{value:l,step:.1,disabled:n,min:((s=r[1])==null?void 0:s.value)??0,max:((u=r[r.length-1])==null?void 0:u.value)??0,onChange:(m,$)=>a($),onChangeCommitted:(m,$)=>t($),valueLabelDisplay:"auto"})}function Oa(e,t){const n=(()=>{switch(t.type){case"reset":return;case"substat":{const{index:l,substat:a}=t,s=[...e.substats],u=a.key?s.findIndex(m=>m.key===a.key):-1;if(u===-1||u===l)s[l]={...a};else{const m=s[l];s[l]={...s[u]},s[u]={...m}}return{...e,substats:s}}case"overwrite":return t.relic;case"update":return{...e,...t.relic}}})();return n&&Zr(n,!0)}const Ut={rarity:[5,4,3,2],setEffects:{}};function Da({relicIdToEdit:e="new",cancelEdit:t,fixedSlotKey:r,allowEmpty:n=!1,disableSet:l=!1}){const{t:a}=Te("relic"),{database:s}=sr(),[u,m]=ir();b.useEffect(()=>s.relics.followAny(m),[s,m]);const[$,C]=b.useState(!1);b.useEffect(()=>{e==="new"&&(C(!0),A({type:"reset"}));const c=e&&u&&s.relics.get(e);c&&(C(!0),A({type:"overwrite",relic:Qr(c)}))},[e,s,u]);const[o,A]=b.useReducer(Oa,void 0),{relic:P,errors:R}=b.useMemo(()=>o?Jr(o,e):{relic:void 0,errors:[]},[o,e]),{prev:g,prevEditType:f}=b.useMemo(()=>{const c=u&&e&&s.relics.get(e);if(c)return{prev:c,prevEditType:"edit"};if(o===void 0)return{prev:void 0,prevEditType:""};const{duplicated:I,upgraded:J}=u&&s.relics.findDups(o);return{prev:I[0]??J[0],prevEditType:I.length!==0?"duplicate":"upgrade"}},[o,e,s,u]),v=!["new",""].includes(e)&&!!(o!=null&&o.location)||!!r||!!e&&e!=="new",{rarity:y=5,level:_=0}=o??{},z=b.useMemo(()=>(o==null?void 0:o.slotKey)??r??"head",[r,o]),k=o?Ut:void 0,p=b.useCallback(c=>{const I=c.setKey?Ut:k;function J(q,ee,_e){return q&&ee.includes(q)?q:_e??ee[0]}c.setKey&&(c.rarity=J(o==null?void 0:o.rarity,I.rarity,Math.max(...I.rarity)),c.slotKey=J(o==null?void 0:o.slotKey,["head","hand"])),c.rarity&&(c.level=(o==null?void 0:o.level)??0),c.level&&(c.level=or(c.level,0,3*(c.rarity??o.rarity))),c.slotKey&&(c.mainStatKey=J(o==null?void 0:o.mainStatKey,Et[c.slotKey])),c.mainStatKey&&(c.substats=[0,1,2,3].map(q=>o&&o.substats[q].key!==c.mainStatKey?o.substats[q]:{key:"",value:0})),A({type:"update",relic:c})},[o,k,A]),N=b.useCallback(()=>{t==null||t(),A({type:"reset"})},[t,A]),Y=b.useCallback((c,I)=>A({type:"substat",index:c,substat:I}),[]),j=!R.length,L=b.useCallback(c=>{if(!e&&o&&!window.confirm(a`editor.clearPrompt`)){c==null||c.preventDefault();return}C(!1),N()},[a,e,o,C,N]),E=tr(),U=en(E.breakpoints.up("md")),Z=e!=="new"&&e||(g==null?void 0:g.id),D=()=>window.confirm(a`editor.clearPrompt`);return i(b.Suspense,{fallback:!1,children:i(tn,{open:$,onClose:L,children:O(fe,{bgt:"dark",children:[i(pn,{title:"Relic Editor",action:i(Qt,{onClick:L,children:i(rn,{})})}),O(lr,{sx:{display:"flex",flexDirection:"column",gap:1},children:[O(Q,{container:!0,spacing:1,columns:{xs:1,md:2},children:[O(Q,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[O(ce,{sx:{display:"flex",gap:1},children:[i(za,{disabled:l,size:"small",relicSetKey:(o==null?void 0:o.setKey)??"",setRelicSetKey:c=>p({setKey:c}),sx:{flexGrow:1},label:o!=null&&o.setKey?"":a("editor.unknownSetName")}),i(Ta,{rarity:o?y:void 0,onRarityChange:c=>p({rarity:c}),filter:c=>{var I,J;return!!((J=(I=k==null?void 0:k.rarity)==null?void 0:I.includes)!=null&&J.call(I,c))},disabled:!k})]}),O(ce,{component:"div",display:"flex",children:[i(nn,{label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:_,disabled:!k,onChange:c=>{const I=parseInt(c.target.value)||0;p({level:I})}}),O(ar,{children:[i(ie,{onClick:()=>p({level:_-1}),disabled:!k||_===0,children:"-"}),y?[...Array(y+1).keys()].map(c=>3*c).map(c=>i(ie,{onClick:()=>p({level:c}),disabled:!k||_===c,children:c},c)):null,i(ie,{onClick:()=>p({level:_+1}),disabled:!k||_===y*3,children:"+"})]})]}),O(ce,{component:"div",display:"flex",children:[i(an,{label:"Slot",value:z,onChange:c=>p({slotKey:c.target.value}),disabled:v||!k,children:on.map(c=>i(je,{value:c,children:c},c))}),i(fe,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:i(b.Suspense,{fallback:i(ht,{width:"60%"}),children:i(ge,{color:"text.secondary",children:z})})})]}),O(ce,{component:"div",display:"flex",gap:1,children:[i(gt,{title:i("b",{children:(o==null?void 0:o.mainStatKey)??"Main Stat"}),disabled:!k,color:o?"success":"primary",children:Et[z].map(c=>i(je,{selected:(o==null?void 0:o.mainStatKey)===c,disabled:(o==null?void 0:o.mainStatKey)===c,onClick:()=>p({mainStatKey:c}),children:c},c))}),i(fe,{bgt:"light",sx:{p:1,flexGrow:1},children:i(ge,{color:"text.secondary",children:o?sn(y,o.mainStatKey,_):a`mainStat`})}),i(ie,{onClick:()=>p({lock:!(o!=null&&o.lock)}),color:o!=null&&o.lock?"success":"primary",disabled:!o,children:o!=null&&o.lock?i(hr,{}):i(vr,{})})]}),i(ln,{locKey:(P==null?void 0:P.location)??"",setLocKey:c=>p({location:c})})]}),i(Q,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[0,1,2,3].map(c=>i(Na,{index:c,relic:P,setSubstat:Y},c))})]}),g&&O(Q,{container:!0,sx:{justifyContent:"space-around"},spacing:1,children:[i(Q,{item:!0,xs:12,md:5.5,lg:4,children:O(fe,{bgt:"light",children:[i(ge,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:f!=="edit"?f==="duplicate"?a`editor.dupeRelic`:a`editor.updateRelic`:a`editor.beforeEdit`}),i(vt,{relic:g})]})}),U&&i(Q,{item:!0,md:1,display:"flex",alignItems:"center",justifyContent:"center",children:i(fe,{bgt:"light",sx:{display:"flex"},children:i(mr,{sx:{fontSize:40}})})}),i(Q,{item:!0,xs:12,md:5.5,lg:4,children:O(fe,{bgt:"light",children:[i(ge,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:a`editor.preview`}),P&&i(vt,{relic:P})]})})]}),!j&&i(Pn,{variant:"filled",severity:"error",children:R.map((c,I)=>i("div",{children:c},I))}),O(ce,{display:"flex",gap:2,children:[f==="edit"?i(ie,{startIcon:i(bt,{}),onClick:()=>{o&&s.relics.set(g.id,o),n||(C(!1),t()),N()},disabled:!o||!j,color:"primary",children:a`editor.btnSave`}):i(ie,{startIcon:i(bt,{}),onClick:()=>{s.relics.new(o),n||(C(!1),t()),N()},disabled:!o||!j,color:f==="duplicate"?"warning":"primary",children:a`editor.btnAdd`}),n&&i(ie,{startIcon:i(fr,{}),disabled:!o,onClick:()=>{D()&&N()},color:"error",children:a`editor.btnClear`}),g&&f!=="edit"&&i(ie,{startIcon:i(br,{}),onClick:()=>{o&&s.relics.set(g.id,o),N(),n||C(!1)},disabled:!o||!j,color:"success",children:a`editor.btnUpdate`}),!!Z&&i(ie,{startIcon:i(cn,{}),onClick:()=>{window.confirm(a`editor.confirmDelete`)&&(s.relics.remove(Z),N(),n||C(!1))},disabled:!o||!j,color:"error",children:a`editor.delete`})]})]})]})})})}const qt={xs:1,sm:2,md:3,lg:3,xl:4},Ha={xs:10,sm:12,md:24,lg:24,xl:24};function Fa({onAdd:e,onEdit:t}){const{t:r}=Te("relic"),{database:n}=sr(),[l,a]=ir();b.useEffect(()=>n.relics.followAny(a),[n,a]);const{relicIds:s,totalRelicsNum:u}=b.useMemo(()=>{const R=n.relics.values,g=R.length,f=R.map(v=>v.id);return l&&{relicIds:f,totalRelicsNum:g}},[n,l]),m=un(),$=s.length!==u?`${s.length}/${u}`:u,{numShow:C,setTriggerElement:o}=dn(Ha[m],s.length),A=b.useMemo(()=>s.slice(0,C),[s,C]),P={numShowing:A.length,totalShowing:$};return O(nr,{children:[i(fe,{bgt:"dark",children:i(lr,{children:i(ce,{pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:O(ge,{color:"text.secondary",children:["Showing ",i("b",{children:P.numShowing})," out of"," ",P.totalShowing," Items"]})})})}),i(Q,{container:!0,columns:qt,spacing:1,children:i(Q,{item:!0,xs:!0,children:i(ie,{fullWidth:!0,onClick:e,color:"info",startIcon:i(bt,{}),children:r`addNew`})})}),O(b.Suspense,{fallback:i(ht,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:[i(Q,{container:!0,columns:qt,spacing:1,children:A.map(R=>i(Q,{item:!0,xs:1,children:i(vt,{relic:n.relics.get(R),onEdit:()=>t==null?void 0:t(R),onDelete:()=>n.relics.remove(R),setLocation:g=>n.relics.set(R,{location:g})})},R))}),s.length!==A.length&&i(ht,{ref:R=>{R&&o(R)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})}function Ua(){const[e,t]=b.useState("");return O(ce,{display:"flex",flexDirection:"column",gap:1,my:1,children:[i(Da,{relicIdToEdit:e,cancelEdit:()=>t(""),allowEmpty:!0}),i(Fa,{onAdd:()=>t("new"),onEdit:t})]})}export{Ua as default};
