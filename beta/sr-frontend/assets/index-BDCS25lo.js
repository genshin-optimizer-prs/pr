import{g as Ut,a as qt,c as Ve,j as I,s as re,P as Sn,b as ie,d as ft,l as mt,_ as x,r as b,u as Gt,e as Yt,I as Xt,C as Cn,f as ve,h as Zt,i as $n,k as Ln,m as Mt,n as Pn,o as st,p as De,q as lt,t as Fe,v as It,w as Jt,x as Rn,y as de,z as An,A as wn,B as Mn,D as it,E as Qt,R as In,F as _n,G as Be,H as Ke,J as c,K as Tn,L as We,M as jn,N as $e,O as bt,Q as Nn,S as zn,T as K,U as en,V as En,W as On,X as Dn,Y as Fn,Z as Hn,$ as ct,a0 as _t,a1 as Tt,a2 as Vn,a3 as le,a4 as Bn,a5 as te,a6 as we,a7 as tn,a8 as Ae,a9 as Kn,aa as Wn,ab as nn,ac as rn,ad as Un,ae as qn,af as jt,ag as Gn,ah as Yn,ai as Xn,aj as an,ak as Nt,al as Zn,am as Jn,an as ue,ao as Qn,ap as ht,aq as er,ar as tr,as as nr,at as rr,au as ar,av as or,aw as sr}from"./index-DX3EiwYQ.js";import{d as vt}from"./Add-CfEnlYj_.js";const lr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},ir=lr;function cr(e){return qt("MuiAlert",e)}const ur=Ut("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),zt=ur,dr=Ve(I.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),pr=Ve(I.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),fr=Ve(I.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),mr=Ve(I.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),hr=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],vr=e=>{const{variant:t,color:n,severity:a,classes:s}=e,l={root:["root",`${t}${ie(n||a)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Zt(l,cr,s)},br=re(Sn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ie(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?ft:mt,a=e.palette.mode==="light"?mt:ft,s=t.color||t.severity;return x({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},s&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${s}Color`]:n(e.palette[s].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${s}StandardBg`]:a(e.palette[s].light,.9),[`& .${zt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}},s&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${s}Color`]:n(e.palette[s].light,.6),border:`1px solid ${(e.vars||e).palette[s].light}`,[`& .${zt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}},s&&t.variant==="filled"&&x({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${s}FilledColor`],backgroundColor:e.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[s].dark:e.palette[s].main,color:e.palette.getContrastText(e.palette[s].main)}))}),gr=re("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),yr=re("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Et=re("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ot={success:I.jsx(dr,{fontSize:"inherit"}),warning:I.jsx(pr,{fontSize:"inherit"}),error:I.jsx(fr,{fontSize:"inherit"}),info:I.jsx(mr,{fontSize:"inherit"})},xr=b.forwardRef(function(t,n){var a,s,l,i,d,p;const r=Gt({props:t,name:"MuiAlert"}),{action:S,children:w,className:_,closeText:P="Close",color:$,components:k={},componentsProps:f={},icon:m,iconMapping:g=Ot,onClose:C,role:M="alert",severity:R="success",slotProps:h={},slots:j={},variant:q="standard"}=r,N=Yt(r,hr),o=x({},r,{color:$,severity:R,variant:q}),L=vr(o),z=(a=(s=j.closeButton)!=null?s:k.CloseButton)!=null?a:Xt,U=(l=(i=j.closeIcon)!=null?i:k.CloseIcon)!=null?l:Cn,O=(d=h.closeButton)!=null?d:f.closeButton,E=(p=h.closeIcon)!=null?p:f.closeIcon;return I.jsxs(br,x({role:M,elevation:0,ownerState:o,className:ve(L.root,_),ref:n},N,{children:[m!==!1?I.jsx(gr,{ownerState:o,className:L.icon,children:m||g[R]||Ot[R]}):null,I.jsx(yr,{ownerState:o,className:L.message,children:w}),S!=null?I.jsx(Et,{ownerState:o,className:L.action,children:S}):null,S==null&&C?I.jsx(Et,{ownerState:o,className:L.action,children:I.jsx(z,x({size:"small","aria-label":P,title:P,color:"inherit",onClick:C},O,{children:I.jsx(U,x({fontSize:"small"},E))}))}):null]}))}),kr=xr;function Sr(e,t,n=(a,s)=>a===s){return e.length===t.length&&e.every((a,s)=>n(a,t[s]))}const Cr=2;function on(e,t){return e-t}function Re(e,t,n){return e==null?t:Math.min(Math.max(t,e),n)}function Dt(e,t){var n;const{index:a}=(n=e.reduce((s,l,i)=>{const d=Math.abs(t-l);return s===null||d<s.distance||d===s.distance?{distance:d,index:i}:s},null))!=null?n:{};return a}function Ne(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let a=0;a<n.changedTouches.length;a+=1){const s=n.changedTouches[a];if(s.identifier===t.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function He(e,t,n){return(e-t)*100/(n-t)}function $r(e,t,n){return(n-t)*e+t}function Lr(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),a=n[0].split(".")[1];return(a?a.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Pr(e,t,n){const a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(Lr(t)))}function Ft({values:e,newValue:t,index:n}){const a=e.slice();return a[n]=t,a.sort(on)}function ze({sliderRef:e,activeIndex:t,setActive:n}){var a,s;const l=De(e.current);if(!((a=e.current)!=null&&a.contains(l.activeElement))||Number(l==null||(s=l.activeElement)==null?void 0:s.getAttribute("data-index"))!==t){var i;(i=e.current)==null||i.querySelector(`[type="range"][data-index="${t}"]`).focus()}n&&n(t)}function Ee(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Sr(e,t):!1}const Rr={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Ar=e=>e;let Oe;function ut(){return Oe===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Oe=CSS.supports("touch-action","none"):Oe=!0),Oe}function wr(e){const{"aria-labelledby":t,defaultValue:n,disabled:a=!1,disableSwap:s=!1,isRtl:l=!1,marks:i=!1,max:d=100,min:p=0,name:r,onChange:S,onChangeCommitted:w,orientation:_="horizontal",rootRef:P,scale:$=Ar,step:k=1,tabIndex:f,value:m}=e,g=b.useRef(),[C,M]=b.useState(-1),[R,h]=b.useState(-1),[j,q]=b.useState(!1),N=b.useRef(0),[o,L]=$n({controlled:m,default:n??p,name:"Slider"}),z=S&&((u,v,y)=>{const A=u.nativeEvent||u,W=new A.constructor(A.type,A);Object.defineProperty(W,"target",{writable:!0,value:{value:v,name:r}}),S(W,v,y)}),U=Array.isArray(o);let O=U?o.slice().sort(on):[o];O=O.map(u=>Re(u,p,d));const E=i===!0&&k!==null?[...Array(Math.floor((d-p)/k)+1)].map((u,v)=>({value:p+k*v})):i||[],Q=E.map(u=>u.value),{isFocusVisibleRef:Me,onBlur:ae,onFocus:oe,ref:Ue}=Ln(),[Ie,be]=b.useState(-1),X=b.useRef(),_e=Mt(Ue,X),Le=Mt(P,_e),Te=u=>v=>{var y;const A=Number(v.currentTarget.getAttribute("data-index"));oe(v),Me.current===!0&&be(A),h(A),u==null||(y=u.onFocus)==null||y.call(u,v)},qe=u=>v=>{var y;ae(v),Me.current===!1&&be(-1),h(-1),u==null||(y=u.onBlur)==null||y.call(u,v)};Pn(()=>{if(a&&X.current.contains(document.activeElement)){var u;(u=document.activeElement)==null||u.blur()}},[a]),a&&C!==-1&&M(-1),a&&Ie!==-1&&be(-1);const ge=u=>v=>{var y;(y=u.onChange)==null||y.call(u,v);const A=Number(v.currentTarget.getAttribute("data-index")),W=O[A],Z=Q.indexOf(W);let T=v.target.valueAsNumber;if(E&&k==null){const F=Q[Q.length-1];T>F?T=F:T<Q[0]?T=Q[0]:T=T<W?Q[Z-1]:Q[Z+1]}if(T=Re(T,p,d),U){s&&(T=Re(T,O[A-1]||-1/0,O[A+1]||1/0));const F=T;T=Ft({values:O,newValue:T,index:A});let V=A;s||(V=T.indexOf(F)),ze({sliderRef:X,activeIndex:V})}L(T),be(A),z&&!Ee(T,o)&&z(v,T,A),w&&w(v,T)},pe=b.useRef();let ye=_;l&&_==="horizontal"&&(ye+="-reverse");const xe=({finger:u,move:v=!1})=>{const{current:y}=X,{width:A,height:W,bottom:Z,left:T}=y.getBoundingClientRect();let F;ye.indexOf("vertical")===0?F=(Z-u.y)/W:F=(u.x-T)/A,ye.indexOf("-reverse")!==-1&&(F=1-F);let V;if(V=$r(F,p,d),k)V=Pr(V,k,p);else{const Pe=Dt(Q,V);V=Q[Pe]}V=Re(V,p,d);let se=0;if(U){v?se=pe.current:se=Dt(O,V),s&&(V=Re(V,O[se-1]||-1/0,O[se+1]||1/0));const Pe=V;V=Ft({values:O,newValue:V,index:se}),s&&v||(se=V.indexOf(Pe),pe.current=se)}return{newValue:V,activeIndex:se}},fe=st(u=>{const v=Ne(u,g);if(!v)return;if(N.current+=1,u.type==="mousemove"&&u.buttons===0){ee(u);return}const{newValue:y,activeIndex:A}=xe({finger:v,move:!0});ze({sliderRef:X,activeIndex:A,setActive:M}),L(y),!j&&N.current>Cr&&q(!0),z&&!Ee(y,o)&&z(u,y,A)}),ee=st(u=>{const v=Ne(u,g);if(q(!1),!v)return;const{newValue:y}=xe({finger:v,move:!0});M(-1),u.type==="touchend"&&h(-1),w&&w(u,y),g.current=void 0,D()}),H=st(u=>{if(a)return;ut()||u.preventDefault();const v=u.changedTouches[0];v!=null&&(g.current=v.identifier);const y=Ne(u,g);if(y!==!1){const{newValue:W,activeIndex:Z}=xe({finger:y});ze({sliderRef:X,activeIndex:Z,setActive:M}),L(W),z&&!Ee(W,o)&&z(u,W,Z)}N.current=0;const A=De(X.current);A.addEventListener("touchmove",fe),A.addEventListener("touchend",ee)}),D=b.useCallback(()=>{const u=De(X.current);u.removeEventListener("mousemove",fe),u.removeEventListener("mouseup",ee),u.removeEventListener("touchmove",fe),u.removeEventListener("touchend",ee)},[ee,fe]);b.useEffect(()=>{const{current:u}=X;return u.addEventListener("touchstart",H,{passive:ut()}),()=>{u.removeEventListener("touchstart",H,{passive:ut()}),D()}},[D,H]),b.useEffect(()=>{a&&D()},[a,D]);const ke=u=>v=>{var y;if((y=u.onMouseDown)==null||y.call(u,v),a||v.defaultPrevented||v.button!==0)return;v.preventDefault();const A=Ne(v,g);if(A!==!1){const{newValue:Z,activeIndex:T}=xe({finger:A});ze({sliderRef:X,activeIndex:T,setActive:M}),L(Z),z&&!Ee(Z,o)&&z(v,Z,T)}N.current=0;const W=De(X.current);W.addEventListener("mousemove",fe),W.addEventListener("mouseup",ee)},me=He(U?O[0]:p,p,d),he=He(O[O.length-1],p,d)-me,Ge=(u={})=>{const v=lt(u),y={onMouseDown:ke(v||{})},A=x({},v,y);return x({},u,{ref:Le},A)},Y=u=>v=>{var y;(y=u.onMouseOver)==null||y.call(u,v);const A=Number(v.currentTarget.getAttribute("data-index"));h(A)},Se=u=>v=>{var y;(y=u.onMouseLeave)==null||y.call(u,v),h(-1)};return{active:C,axis:ye,axisProps:Rr,dragging:j,focusedThumbIndex:Ie,getHiddenInputProps:(u={})=>{var v;const y=lt(u),A={onChange:ge(y||{}),onFocus:Te(y||{}),onBlur:qe(y||{})},W=x({},y,A);return x({tabIndex:f,"aria-labelledby":t,"aria-orientation":_,"aria-valuemax":$(d),"aria-valuemin":$(p),name:r,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(v=e.step)!=null?v:void 0,disabled:a},u,W,{style:x({},ir,{direction:l?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ge,getThumbProps:(u={})=>{const v=lt(u),y={onMouseOver:Y(v||{}),onMouseLeave:Se(v||{})};return x({},u,v,y)},marks:E,open:R,range:U,rootRef:Le,trackLeap:he,trackOffset:me,values:O,getThumbStyle:u=>({pointerEvents:C!==-1&&C!==u?"none":void 0})}}const Mr=e=>!e||!Fe(e);function Ir(e){return qt("MuiSlider",e)}const ne=Ut("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),_r=e=>{const{open:t}=e;return{offset:ve(t&&ne.valueLabelOpen),circle:ne.valueLabelCircle,label:ne.valueLabelLabel}};function Tr(e){const{children:t,className:n,value:a}=e,s=_r(e);return t?b.cloneElement(t,{className:ve(t.props.className)},I.jsxs(b.Fragment,{children:[t.props.children,I.jsx("span",{className:ve(s.offset,n),"aria-hidden":!0,children:I.jsx("span",{className:s.circle,children:I.jsx("span",{className:s.label,children:a})})})]})):null}const jr=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Ht(e){return e}const Nr=re("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${ie(n.color)}`],n.size!=="medium"&&t[`size${ie(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>x({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&x({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&x({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ne.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ne.dragging}`]:{[`& .${ne.thumb}, & .${ne.track}`]:{transition:"none"}}})),zr=re("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>x({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),Er=re("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?mt(e.palette[t.color].main,.62):ft(e.palette[t.color].main,.5);return x({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})}),Or=re("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${ie(n.color)}`],n.size!=="medium"&&t[`thumbSize${ie(n.size)}`]]}})(({theme:e,ownerState:t})=>x({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":x({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ne.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:It(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ne.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:It(e.palette[t.color].main,.16)}`},[`&.${ne.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Dr=re(Tr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>x({[`&.${ne.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Fr=re("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Jt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e,ownerState:t,markActive:n})=>x({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Hr=re("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Jt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:n})=>x({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary})),Vr=e=>{const{disabled:t,dragging:n,marked:a,orientation:s,track:l,classes:i,color:d,size:p}=e,r={root:["root",t&&"disabled",n&&"dragging",a&&"marked",s==="vertical"&&"vertical",l==="inverted"&&"trackInverted",l===!1&&"trackFalse",d&&`color${ie(d)}`,p&&`size${ie(p)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",p&&`thumbSize${ie(p)}`,d&&`thumbColor${ie(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Zt(r,Ir,i)},Br=({children:e})=>e,Kr=b.forwardRef(function(t,n){var a,s,l,i,d,p,r,S,w,_,P,$,k,f,m,g,C,M,R,h,j,q,N,o;const L=Gt({props:t,name:"MuiSlider"}),U=Rn().direction==="rtl",{"aria-label":O,"aria-valuetext":E,"aria-labelledby":Q,component:Me="span",components:ae={},componentsProps:oe={},color:Ue="primary",classes:Ie,className:be,disableSwap:X=!1,disabled:_e=!1,getAriaLabel:Le,getAriaValueText:Te,marks:qe=!1,max:ge=100,min:pe=0,orientation:ye="horizontal",size:xe="medium",step:fe=1,scale:ee=Ht,slotProps:H,slots:D,track:ke="normal",valueLabelDisplay:me="off",valueLabelFormat:he=Ht}=L,Ge=Yt(L,jr),Y=x({},L,{isRtl:U,max:ge,min:pe,classes:Ie,disabled:_e,disableSwap:X,orientation:ye,marks:qe,color:Ue,size:xe,step:fe,scale:ee,track:ke,valueLabelDisplay:me,valueLabelFormat:he}),{axisProps:Se,getRootProps:St,getHiddenInputProps:Ct,getThumbProps:$t,open:u,active:v,axis:y,focusedThumbIndex:A,range:W,dragging:Z,marks:T,values:F,trackOffset:V,trackLeap:se,getThumbStyle:Pe}=wr(x({},Y,{rootRef:n}));Y.marked=T.length>0&&T.some(B=>B.label),Y.dragging=Z,Y.focusedThumbIndex=A;const J=Vr(Y),Ye=(a=(s=D==null?void 0:D.root)!=null?s:ae.Root)!=null?a:Nr,Lt=(l=(i=D==null?void 0:D.rail)!=null?i:ae.Rail)!=null?l:zr,Pt=(d=(p=D==null?void 0:D.track)!=null?p:ae.Track)!=null?d:Er,Rt=(r=(S=D==null?void 0:D.thumb)!=null?S:ae.Thumb)!=null?r:Or,At=(w=(_=D==null?void 0:D.valueLabel)!=null?_:ae.ValueLabel)!=null?w:Dr,Xe=(P=($=D==null?void 0:D.mark)!=null?$:ae.Mark)!=null?P:Fr,Ze=(k=(f=D==null?void 0:D.markLabel)!=null?f:ae.MarkLabel)!=null?k:Hr,wt=(m=(g=D==null?void 0:D.input)!=null?g:ae.Input)!=null?m:"input",Je=(C=H==null?void 0:H.root)!=null?C:oe.root,fn=(M=H==null?void 0:H.rail)!=null?M:oe.rail,Qe=(R=H==null?void 0:H.track)!=null?R:oe.track,et=(h=H==null?void 0:H.thumb)!=null?h:oe.thumb,tt=(j=H==null?void 0:H.valueLabel)!=null?j:oe.valueLabel,mn=(q=H==null?void 0:H.mark)!=null?q:oe.mark,hn=(N=H==null?void 0:H.markLabel)!=null?N:oe.markLabel,vn=(o=H==null?void 0:H.input)!=null?o:oe.input,bn=de({elementType:Ye,getSlotProps:St,externalSlotProps:Je,externalForwardedProps:Ge,additionalProps:x({},Mr(Ye)&&{as:Me}),ownerState:x({},Y,Je==null?void 0:Je.ownerState),className:[J.root,be]}),gn=de({elementType:Lt,externalSlotProps:fn,ownerState:Y,className:J.rail}),yn=de({elementType:Pt,externalSlotProps:Qe,additionalProps:{style:x({},Se[y].offset(V),Se[y].leap(se))},ownerState:x({},Y,Qe==null?void 0:Qe.ownerState),className:J.track}),nt=de({elementType:Rt,getSlotProps:$t,externalSlotProps:et,ownerState:x({},Y,et==null?void 0:et.ownerState),className:J.thumb}),xn=de({elementType:At,externalSlotProps:tt,ownerState:x({},Y,tt==null?void 0:tt.ownerState),className:J.valueLabel}),rt=de({elementType:Xe,externalSlotProps:mn,ownerState:Y,className:J.mark}),at=de({elementType:Ze,externalSlotProps:hn,ownerState:Y,className:J.markLabel}),kn=de({elementType:wt,getSlotProps:Ct,externalSlotProps:vn,ownerState:Y});return I.jsxs(Ye,x({},bn,{children:[I.jsx(Lt,x({},gn)),I.jsx(Pt,x({},yn)),T.filter(B=>B.value>=pe&&B.value<=ge).map((B,G)=>{const ot=He(B.value,pe,ge),je=Se[y].offset(ot);let ce;return ke===!1?ce=F.indexOf(B.value)!==-1:ce=ke==="normal"&&(W?B.value>=F[0]&&B.value<=F[F.length-1]:B.value<=F[0])||ke==="inverted"&&(W?B.value<=F[0]||B.value>=F[F.length-1]:B.value>=F[0]),I.jsxs(b.Fragment,{children:[I.jsx(Xe,x({"data-index":G},rt,!Fe(Xe)&&{markActive:ce},{style:x({},je,rt.style),className:ve(rt.className,ce&&J.markActive)})),B.label!=null?I.jsx(Ze,x({"aria-hidden":!0,"data-index":G},at,!Fe(Ze)&&{markLabelActive:ce},{style:x({},je,at.style),className:ve(J.markLabel,at.className,ce&&J.markLabelActive),children:B.label})):null]},G)}),F.map((B,G)=>{const ot=He(B,pe,ge),je=Se[y].offset(ot),ce=me==="off"?Br:At;return I.jsx(ce,x({},!Fe(ce)&&{valueLabelFormat:he,valueLabelDisplay:me,value:typeof he=="function"?he(ee(B),G):he,index:G,open:u===G||v===G||me==="on",disabled:_e},xn,{children:I.jsx(Rt,x({"data-index":G},nt,{className:ve(J.thumb,nt.className,v===G&&J.active,A===G&&J.focusVisible),style:x({},je,Pe(G),nt.style),children:I.jsx(wt,x({"data-index":G,"aria-label":Le?Le(G):O,"aria-valuenow":ee(B),"aria-labelledby":Q,"aria-valuetext":Te?Te(ee(B),G):E,value:F[G]},kn))}))}),G)})]}))}),Wr=Kr;var Ur={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const qr=An(Ur);var Gr=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Vt(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(qr[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var s=new RegExp(Gr),l=null;(l=s.exec(e))!==null;)if(l[0].trim())if(l[1]){var i=l[1].trim(),d=[i,""];i.indexOf("=")>-1&&(d=i.split("=")),t.attrs[d[0]]=d[1],s.lastIndex--}else l[2]&&(t.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1));return t}var Yr=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Xr=/^\s*$/,Zr=Object.create(null);function sn(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var a=[];for(var s in n)a.push(s+'="'+n[s]+'"');return a.length?" "+a.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(sn,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Jr={parse:function(e,t){t||(t={}),t.components||(t.components=Zr);var n,a=[],s=[],l=-1,i=!1;if(e.indexOf("<")!==0){var d=e.indexOf("<");a.push({type:"text",content:d===-1?e:e.substring(0,d)})}return e.replace(Yr,function(p,r){if(i){if(p!=="</"+n.name+">")return;i=!1}var S,w=p.charAt(1)!=="/",_=p.startsWith("<!--"),P=r+p.length,$=e.charAt(P);if(_){var k=Vt(p);return l<0?(a.push(k),a):((S=s[l]).children.push(k),a)}if(w&&(l++,(n=Vt(p)).type==="tag"&&t.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!$||$==="<"||n.children.push({type:"text",content:e.slice(P,e.indexOf("<",P))}),l===0&&a.push(n),(S=s[l-1])&&S.children.push(n),s[l]=n),(!w||n.voidElement)&&(l>-1&&(n.voidElement||n.name===p.slice(2,-1))&&(l--,n=l===-1?a:s[l]),!i&&$!=="<"&&$)){S=l===-1?a:s[l].children;var f=e.indexOf("<",P),m=e.slice(P,f===-1?void 0:f);Xr.test(m)&&(m=" "),(f>-1&&l+S.length>=0||m!==" ")&&S.push({type:"text",content:m})}}),a},stringify:function(e){return e.reduce(function(t,n){return t+sn("",n)},"")}};function dt(e,t){if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function pt(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?Ce(t):t}function Qr(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(t=>b.isValidElement(t))}function Ce(e){return Array.isArray(e)?e:[e]}function ea(e,t){const n={...t};return n.props=Object.assign(e.props,t.props),n}function ln(e,t){if(!e)return"";let n="";const a=Ce(e),s=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return a.forEach((l,i)=>{if(typeof l=="string")n+=`${l}`;else if(b.isValidElement(l)){const d=Object.keys(l.props).length,p=s.indexOf(l.type)>-1,r=l.props.children;if(!r&&p&&d===0)n+=`<${l.type}/>`;else if(!r&&(!p||d!==0))n+=`<${i}></${i}>`;else if(l.props.i18nIsDynamicList)n+=`<${i}></${i}>`;else if(p&&d===1&&typeof r=="string")n+=`<${l.type}>${r}</${l.type}>`;else{const S=ln(r,t);n+=`<${i}>${S}</${i}>`}}else if(l===null)it("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof l=="object"){const{format:d,...p}=l,r=Object.keys(p);if(r.length===1){const S=d?`${r[0]}, ${d}`:r[0];n+=`{{${S}}}`}else it("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",l)}else it("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",l)}),n}function ta(e,t,n,a,s,l){if(t==="")return[];const i=a.transKeepBasicHtmlNodesFor||[],d=t&&new RegExp(i.map(f=>`<${f}`).join("|")).test(t);if(!e&&!d&&!l)return[t];const p={};function r(f){Ce(f).forEach(g=>{typeof g!="string"&&(dt(g)?r(pt(g)):typeof g=="object"&&!b.isValidElement(g)&&Object.assign(p,g))})}r(e);const S=Jr.parse(`<0>${t}</0>`),w={...p,...s};function _(f,m,g){const C=pt(f),M=$(C,m.children,g);return Qr(C)&&M.length===0||f.props&&f.props.i18nIsDynamicList?C:M}function P(f,m,g,C,M){f.dummy?(f.children=m,g.push(b.cloneElement(f,{key:C},M?void 0:m))):g.push(...b.Children.map([f],R=>{const h={...R.props};return delete h.i18nIsDynamicList,In.createElement(R.type,x({},h,{key:C,ref:R.ref},M?{}:{children:m}))}))}function $(f,m,g){const C=Ce(f);return Ce(m).reduce((R,h,j)=>{const q=h.children&&h.children[0]&&h.children[0].content&&n.services.interpolator.interpolate(h.children[0].content,w,n.language);if(h.type==="tag"){let N=C[parseInt(h.name,10)];g.length===1&&!N&&(N=g[0][h.name]),N||(N={});const o=Object.keys(h.attrs).length!==0?ea({props:h.attrs},N):N,L=b.isValidElement(o),z=L&&dt(h,!0)&&!h.voidElement,U=d&&typeof o=="object"&&o.dummy&&!L,O=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,h.name);if(typeof o=="string"){const E=n.services.interpolator.interpolate(o,w,n.language);R.push(E)}else if(dt(o)||z){const E=_(o,h,g);P(o,E,R,j)}else if(U){const E=$(C,h.children,g);P(o,E,R,j)}else if(Number.isNaN(parseFloat(h.name)))if(O){const E=_(o,h,g);P(o,E,R,j,h.voidElement)}else if(a.transSupportBasicHtmlNodes&&i.indexOf(h.name)>-1)if(h.voidElement)R.push(b.createElement(h.name,{key:`${h.name}-${j}`}));else{const E=$(C,h.children,g);R.push(b.createElement(h.name,{key:`${h.name}-${j}`},E))}else if(h.voidElement)R.push(`<${h.name} />`);else{const E=$(C,h.children,g);R.push(`<${h.name}>${E}</${h.name}>`)}else if(typeof o=="object"&&!L){const E=h.children[0]?q:null;E&&R.push(E)}else P(o,q,R,j,h.children.length!==1||!q)}else if(h.type==="text"){const N=a.transWrapTextNodes,o=l?a.unescape(n.services.interpolator.interpolate(h.content,w,n.language)):n.services.interpolator.interpolate(h.content,w,n.language);N?R.push(b.createElement(N,{key:`${h.name}-${j}`},o)):R.push(o)}return R},[])}const k=$([{dummy:!0,children:e||[]}],S,Ce(e||[]));return pt(k[0])}function na(e){let{children:t,count:n,parent:a,i18nKey:s,context:l,tOptions:i={},values:d,defaults:p,components:r,ns:S,i18n:w,t:_,shouldUnescape:P,...$}=e;const k=w||Qt();if(!k)return wn("You will need to pass in an i18next instance by using i18nextReactModule"),t;const f=_||k.t.bind(k)||(z=>z);l&&(i.context=l);const m={...Mn(),...k.options&&k.options.react};let g=S||f.ns||k.options&&k.options.defaultNS;g=typeof g=="string"?[g]:g||["translation"];const C=ln(t,m),M=p||C||m.transEmptyNodeValue||s,{hashTransKey:R}=m,h=s||(R?R(C||M):C||M);k.options&&k.options.interpolation&&k.options.interpolation.defaultVariables&&(d=d&&Object.keys(d).length>0?{...d,...k.options.interpolation.defaultVariables}:{...k.options.interpolation.defaultVariables});const j=d?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},q={...i,count:n,...d,...j,defaultValue:M,ns:g},N=h?f(h,q):M,o=ta(r||t,N,k,m,q,P),L=a!==void 0?a:m.defaultTransParent;return L?b.createElement(L,$,o):o}function ra(e){let{children:t,count:n,parent:a,i18nKey:s,context:l,tOptions:i={},values:d,defaults:p,components:r,ns:S,i18n:w,t:_,shouldUnescape:P,...$}=e;const{i18n:k,defaultNS:f}=b.useContext(_n)||{},m=w||k||Qt(),g=_||m&&m.t.bind(m);return na({children:t,count:n,parent:a,i18nKey:s,context:l,tOptions:i,values:d,defaults:p,components:r,ns:S||g&&g.ns||f||m&&m.options&&m.options.defaultNS,i18n:m,t:_,shouldUnescape:P,...$})}var gt={},aa=Ke;Object.defineProperty(gt,"__esModule",{value:!0});var cn=gt.default=void 0,oa=aa(Be()),sa=I,la=(0,oa.default)((0,sa.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");cn=gt.default=la;const Bt=({stars:e=1,colored:t=!1,inline:n=!1})=>c(Tn,{color:t?"warning":void 0,children:[...Array(e).keys()].map((a,s)=>c(cn,{fontSize:n?"inherit":void 0,sx:n?{verticalAlign:"text-top"}:void 0},s))});var yt={},ia=Ke;Object.defineProperty(yt,"__esModule",{value:!0});var un=yt.default=void 0,ca=ia(Be()),ua=I,da=(0,ca.default)((0,ua.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");un=yt.default=da;var xt={},pa=Ke;Object.defineProperty(xt,"__esModule",{value:!0});var dn=xt.default=void 0,fa=pa(Be()),ma=I,ha=(0,fa.default)((0,ma.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");dn=xt.default=ha;var kt={},va=Ke;Object.defineProperty(kt,"__esModule",{value:!0});var pn=kt.default=void 0,ba=va(Be()),ga=I,ya=(0,ba.default)((0,ga.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update");pn=kt.default=ya;function xa({rarity:e,onRarityChange:t,filter:n,...a}){const{t:s}=We("relic");return c(bt,{...a,title:e?c(Bt,{stars:e,inline:!0}):s`editor.rarity`,color:e?"success":"primary",children:jn.map(l=>c($e,{disabled:!n(l),onClick:()=>t(l),children:c(Bt,{stars:l,inline:!0})},l))})}function ka({index:e,relic:t,setSubstat:n}){const{t:a}=We("relic"),{mainStatKey:s="",rarity:l=5}=t??{},{key:i="",value:d=0,rolls:p=[],efficiency:r=0}=(t==null?void 0:t.substats[e])??{},S=p.length;let w="",_=[],P=0;if(t){const f=t.rarity,{numUpgrades:m,high:g}=Kn[f];P=m+g-3-S,_=i?Nn(i,f):[]}const $=7-_.length;P<0&&(w=w||a("editor.substat.error.noOverRoll",{value:P+S}));const k=b.useMemo(()=>i?[{value:0},...zn(l,i).map(f=>({value:f}))]:[{value:0}],[i,l]);return K(Ae,{bgt:"light",children:[c(le,{sx:{display:"flex"},children:K(en,{size:"small",sx:{width:"100%",display:"flex"},children:[K(bt,{title:i?c("p",{children:i}):a("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:i?"success":"primary",sx:{whiteSpace:"nowrap"},children:[i&&c($e,{onClick:()=>n(e,{key:"",value:0}),children:a`editor.substat.noSubstat`}),En.filter(f=>s!==f).map(f=>K($e,{selected:i===f,disabled:i===f,onClick:()=>n(e,{key:f,value:0}),children:[c(On,{}),c(Dn,{children:f})]},f))]}),c(Fn,{sx:{flexBasis:30,flexGrow:1},children:c(Hn,{float:ct(i)==="%",placeholder:a`editor.substat.selectSub`,value:i?_t(Tt(d,i),i):void 0,onChange:f=>{let m=f??0;ct(i)==="%"&&(m=m/100),n(e,{key:i,value:m})},disabled:!i,error:!!w,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!_.length&&c(Vn,{children:a`editor.substat.nextRolls`})]})}),c(le,{px:2,children:c(Sa,{value:_t(Tt(d,i),i),marks:k,setValue:f=>{let m=f??0;ct(i)==="%"&&(m=m/100),n(e,{key:i,value:m})},disabled:!i})}),c(le,{sx:{px:1,pb:1},children:w?c(Bn,{color:"error",children:a`ui:error`}):K(te,{container:!0,children:[c(te,{item:!0,flexGrow:1,children:!!p.length&&[...p].sort().map((f,m)=>c(we,{component:"span",color:`roll${tn($+_.indexOf(f),1,6)}.main`,sx:{ml:1},children:f},`${m}.${f}`))}),c(te,{item:!0,xs:"auto",flexShrink:1,children:c(we,{children:K(ra,{t:a,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",r]})})})]})})]})}function Sa({value:e,setValue:t,marks:n,disabled:a=!1}){var i,d;const[s,l]=b.useState(e);return b.useEffect(()=>l(e),[e]),c(Wr,{value:s,step:.1,disabled:a,min:((i=n[1])==null?void 0:i.value)??0,max:((d=n[n.length-1])==null?void 0:d.value)??0,onChange:(p,r)=>l(r),onChangeCommitted:(p,r)=>t(r),valueLabelDisplay:"auto"})}function Ca(e,t){const a=(()=>{switch(t.type){case"reset":return;case"substat":{const{index:s,substat:l}=t,i=[...e.substats],d=l.key?i.findIndex(p=>p.key===l.key):-1;if(d===-1||d===s)i[s]={...l};else{const p=i[s];i[s]={...i[d]},i[d]={...p}}return{...e,substats:i}}case"overwrite":return t.relic;case"update":return{...e,...t.relic}}})();return a&&Wn(a,!0)}const Kt={rarity:[5,4,3,2],setEffects:{}};function $a({relicIdToEdit:e="new",cancelEdit:t,fixedSlotKey:n}){const{t:a}=We("relic"),{database:s}=nn(),[l,i]=rn();b.useEffect(()=>s.relics.followAny(i),[s,i]);const[d,p]=b.useState(!1);b.useEffect(()=>{e==="new"&&(p(!0),S({type:"reset"}));const o=e&&l&&s.relics.get(e);o&&(p(!0),S({type:"overwrite",relic:Un(o)}))},[e,s,l]);const[r,S]=b.useReducer(Ca,void 0),{relic:w,errors:_}=b.useMemo(()=>r?qn(r,e):{relic:void 0,errors:[]},[r,e]),{prev:P,prevEditType:$}=b.useMemo(()=>{const o=l&&e&&s.relics.get(e);if(o)return{prev:o,prevEditType:"edit"};if(r===void 0)return{prev:void 0,prevEditType:""};const{duplicated:L,upgraded:z}=l&&s.relics.findDups(r);return{prev:L[0]??z[0],prevEditType:L.length!==0?"duplicate":"upgrade"}},[r,e,s,l]),k=!["new",""].includes(e)&&!!(r!=null&&r.location)||!!n||!!e&&e!=="new",{rarity:f=5,level:m=0}=r??{},g=b.useMemo(()=>(r==null?void 0:r.slotKey)??n??"head",[n,r]),C=r?Kt:void 0,M=b.useCallback(o=>{const L=o.setKey?Kt:C;function z(U,O,E){return U&&O.includes(U)?U:E??O[0]}o.setKey&&(o.rarity=z(r==null?void 0:r.rarity,L.rarity,Math.max(...L.rarity)),o.slotKey=z(r==null?void 0:r.slotKey,["head","hand"])),o.rarity&&(o.level=(r==null?void 0:r.level)??0),o.level&&(o.level=tn(o.level,0,3*(o.rarity??r.rarity))),o.slotKey&&(o.mainStatKey=z(r==null?void 0:r.mainStatKey,jt[o.slotKey])),o.mainStatKey&&(o.substats=[0,1,2,3].map(U=>r&&r.substats[U].key!==o.mainStatKey?r.substats[U]:{key:"",value:0})),S({type:"update",relic:o})},[r,C,S]),R=b.useCallback(()=>{t==null||t(),S({type:"reset"})},[t,S]),h=b.useCallback((o,L)=>S({type:"substat",index:o,substat:L}),[]),j=!_.length,q=b.useCallback(o=>{if(!e&&r&&!window.confirm(a`editor.clearPrompt`)){o==null||o.preventDefault();return}p(!1),R()},[a,e,r,p,R]),N=e!=="new"&&e||(P==null?void 0:P.id);return c(b.Suspense,{fallback:!1,children:c(Gn,{open:d,onClose:q,children:K(Ae,{bgt:"dark",children:[c(Yn,{title:"Relic Editor",action:c(Xt,{onClick:q,children:c(Xn,{})})}),K(an,{sx:{display:"flex",flexDirection:"column",gap:1},children:[K(te,{container:!0,spacing:1,columns:{xs:1,md:2},children:[K(te,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[K(le,{sx:{display:"flex",gap:1},children:[c(Nt,{value:(r==null?void 0:r.setKey)||"",sx:{flexGrow:1},onChange:o=>M({setKey:o.target.value}),children:Zn.map(o=>c($e,{value:o,children:o},o))}),c(xa,{rarity:r?f:void 0,onRarityChange:o=>M({rarity:o}),filter:o=>{var L,z;return!!((z=(L=C==null?void 0:C.rarity)==null?void 0:L.includes)!=null&&z.call(L,o))},disabled:!C})]}),K(le,{component:"div",display:"flex",children:[c(Jn,{label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:m,disabled:!C,onChange:o=>{const L=parseInt(o.target.value)||0;M({level:L})}}),K(en,{children:[c(ue,{onClick:()=>M({level:m-1}),disabled:!C||m===0,children:"-"}),f?[...Array(f+1).keys()].map(o=>3*o).map(o=>c(ue,{onClick:()=>M({level:o}),disabled:!C||m===o,children:o},o)):null,c(ue,{onClick:()=>M({level:m+1}),disabled:!C||m===f*3,children:"+"})]})]}),K(le,{component:"div",display:"flex",children:[c(Nt,{label:"Slot",value:g,onChange:o=>M({slotKey:o.target.value}),disabled:k||!C,children:Qn.map(o=>c($e,{value:o,children:o},o))}),c(Ae,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:c(b.Suspense,{fallback:c(ht,{width:"60%"}),children:c(we,{color:"text.secondary",children:g})})})]}),K(le,{component:"div",display:"flex",gap:1,children:[c(bt,{title:c("b",{children:(r==null?void 0:r.mainStatKey)??"Main Stat"}),disabled:!C,color:r?"success":"primary",children:jt[g].map(o=>c($e,{selected:(r==null?void 0:r.mainStatKey)===o,disabled:(r==null?void 0:r.mainStatKey)===o,onClick:()=>M({mainStatKey:o}),children:o},o))}),c(Ae,{bgt:"light",sx:{p:1,flexGrow:1},children:c(we,{color:"text.secondary",children:r?er(f,r.mainStatKey,m):a`mainStat`})}),c(ue,{onClick:()=>M({lock:!(r!=null&&r.lock)}),color:r!=null&&r.lock?"success":"primary",disabled:!r,children:r!=null&&r.lock?c(un,{}):c(dn,{})})]}),c(tr,{locKey:(w==null?void 0:w.location)??"",setLocKey:o=>M({location:o})})]}),c(te,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[0,1,2,3].map(o=>c(ka,{index:o,relic:w,setSubstat:h},o))})]}),!j&&c(kr,{variant:"filled",severity:"error",children:_.map((o,L)=>c("div",{children:o},L))}),c(te,{children:K(le,{display:"flex",gap:2,children:[$==="edit"?c(ue,{startIcon:c(vt,{}),onClick:()=>{r&&s.relics.set(P.id,r),R()},disabled:!r||!j,color:"primary",children:a`editor.btnSave`}):c(ue,{startIcon:c(vt,{}),onClick:()=>{s.relics.new(r),R()},disabled:!r||!j,color:"primary",children:a`editor.btnAdd`}),P&&$!=="edit"&&c(ue,{startIcon:c(pn,{}),onClick:()=>{r&&s.relics.set(P.id,r),R()},disabled:!r||!j,color:"success",children:a`editor.btnUpdate`}),!!N&&c(ue,{startIcon:c(nr,{}),onClick:()=>{window.confirm(a`editor.confirmDelete`)&&(s.relics.remove(N),R())},disabled:!r||!j,color:"error",children:a`editor.delete`})]})})]})]})})})}const Wt={xs:1,sm:2,md:3,lg:3,xl:4},La={xs:10,sm:12,md:24,lg:24,xl:24};function Pa({onAdd:e,onEdit:t}){const{t:n}=We("relic"),{database:a}=nn(),[s,l]=rn();b.useEffect(()=>a.relics.followAny(l),[a,l]);const{relicIds:i,totalRelicsNum:d}=b.useMemo(()=>{const $=a.relics.values,k=$.length,f=$.map(m=>m.id);return s&&{relicIds:f,totalRelicsNum:k}},[a,s]),p=rr(),r=i.length!==d?`${i.length}/${d}`:d,{numShow:S,setTriggerElement:w}=ar(La[p],i.length),_=b.useMemo(()=>i.slice(0,S),[i,S]),P={numShowing:_.length,totalShowing:r};return K(sr,{children:[c(Ae,{bgt:"dark",children:c(an,{children:c(le,{pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:K(we,{color:"text.secondary",children:["Showing ",c("b",{children:P.numShowing})," out of"," ",P.totalShowing," Items"]})})})}),c(te,{container:!0,columns:Wt,spacing:1,children:c(te,{item:!0,xs:!0,children:c(ue,{fullWidth:!0,onClick:e,color:"info",startIcon:c(vt,{}),children:n`addNew`})})}),K(b.Suspense,{fallback:c(ht,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:[c(te,{container:!0,columns:Wt,spacing:1,children:_.map($=>c(te,{item:!0,xs:1,children:c(or,{relic:a.relics.get($),onEdit:()=>t==null?void 0:t($),onDelete:()=>a.relics.remove($),setLocation:k=>a.relics.set($,{location:k})})},$))}),i.length!==_.length&&c(ht,{ref:$=>{$&&w($)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})}function wa(){const[e,t]=b.useState("");return K(le,{display:"flex",flexDirection:"column",gap:1,my:1,children:[c($a,{relicIdToEdit:e,cancelEdit:()=>t("")}),c(Pa,{onAdd:()=>t("new"),onEdit:t})]})}export{wa as default};
