import{ck as Bh,p as L,ar as d,o as $,bE as h,f as v,bI as b,d2 as Eh,cQ as Ah,h as xh}from"./index-8e8bacfe.js";import{x as Mh,p as e,$ as g,i as w,V as f,N as _,s as P,a5 as a,y as i,r as Uo,R as Dh,Z as m,a0 as p,W as n,a1 as u,Q as c,X as l,a6 as y,k as oe,F as S,a7 as Ke,O as Jo,a2 as M,L as x,t as Qo,a4 as Da,a8 as E,a9 as Th}from"./index-b2fc46ea.js";import{I as Rh,C as Ce}from"./ColoredText-c91603c6.js";import{S as Ch}from"./SqBadge-7dac4a32.js";const Xo=class{constructor(t,k,K,D){this.passiveDescription=ca=>this.hasRefinement?this.tr(`passiveDescription.${ca}`):"",this.rarity=K.rarity,this.weaponType=K.weaponType,this.key=t,this.sheet=k,this.data=D}static trm(t){return g("weapon",t)[1]}static tr(t){return g("weapon",t)[0]}static getAllDataOfType(t){return n8[t]}get tr(){return Xo.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=Xo;s.getWeaponsOfType=(t,k)=>Object.fromEntries(Object.entries(t).filter(([K,D])=>D.weaponType===k));s.getLevelString=t=>Bh(t.level,t.ascension);function o(t,k){const K=s.tr(t);return{title:K("passiveName"),icon:D=>L(Rh,{size:2,src:Mh(t,D.get(e.weapon.asc).value>=2)}),action:k&&L(Ch,{color:"success",children:k}),description:D=>K(`passiveDescription.${D.get(e.weapon.refinement).value-1}`)}}function r(t,k,K={},D={}){const ca={base:{},premod:{},total:{},weapon:{key:w(t),type:w(k.weaponType)},display:{[`weapon:${t}`]:D}},{mainStat:ce,subStat:G}=k,da=[ca];if(ce.type!=="atk"&&ce.type!=="def"&&ce.type!=="hp")throw new Error("Main stat type must be `atk`");const bh=f(P(i(ce.base,a(e.weapon.lvl,d.weapon.expCurve[ce.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),_.info(ce.type));if(da.push({base:{[ce.type]:e.weapon.main},weapon:{main:bh}}),G){if(G.type==="atk"||G.type==="def"||G.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Oh=f(i(G.base,a(e.weapon.lvl,d.weapon.expCurve[G.curve])),_.info(G.type));da.push({premod:{[G.type]:e.weapon.sub},weapon:{sub:Oh}})}return Uo([...da,Dh(K,t)])}const Ge="AlleyHunter",Zo=d.weapon.data[Ge],[,Ih]=g("weapon",Ge),jh=[-1,.02,.025,.03,.035,.04],[Fh,Yo]=m(Ge,"OppidanAmbush"),es=p(Yo,{...$(h(1,10),t=>i(a(e.weapon.refinement,jh),t))},u),Nh=r(Ge,Zo,{premod:{all_dmg_:es}}),Wh={document:[{value:Yo,path:Fh,header:o(Ge,n("conditional")),name:Ih("condName"),states:Object.fromEntries(h(1,10).map(t=>[t,{name:n("seconds",{count:t}),fields:[{node:es}]}]))}]},Hh=new s(Ge,Wh,Zo,Nh),re="AmosBow",ts=d.weapon.data[re],[,Kh]=g("weapon",re),ns=[-1,.12,.15,.18,.21,.24],Gh=[-1,.08,.1,.12,.14,.16],[Lh,Ta]=m(re,"StrongWilled"),as=a(e.weapon.refinement,ns,_.info("normal_dmg_")),os=a(e.weapon.refinement,ns,_.info("charged_dmg_")),ss=a(e.weapon.refinement,Gh),cs=p(Ta,{...$(h(1,5),t=>i(ss,t))},u,_.info("normal_dmg_")),ds=p(Ta,{...$(h(1,5),t=>i(ss,t))},u,_.info("charged_dmg_")),qh=r(re,ts,{premod:{normal_dmg_:P(as,cs),charged_dmg_:P(os,ds)}}),Vh={document:[{header:o(re,n("base")),fields:[{node:as},{node:os}]},{value:Ta,path:Lh,header:o(re,n("stacks")),name:Kh("condName"),states:$(h(1,5),t=>({name:n("seconds",{count:t/10}),fields:[{node:cs},{node:ds}]}))}]},zh=new s(re,Vh,ts,qh),ie="AquaSimulacra",rs=d.weapon.data[ie],[,Uh]=g("weapon",ie),Jh=[-1,.16,.2,.24,.28,.32],Qh=[-1,.2,.25,.3,.35,.4],[Xh,is]=m(ie,"passive"),ms=a(e.weapon.refinement,Jh),ls=c(is,"on",a(e.weapon.refinement,Qh)),Zh=r(ie,rs,{premod:{hp_:ms,all_dmg_:ls}}),Yh={document:[{header:o(ie,n("base")),fields:[{node:ms}]},{value:is,path:Xh,header:o(ie,n("conditional")),name:Uh("condName"),states:{on:{fields:[{node:ls}]}}}]},e1=new s(ie,Yh,rs,Zh),ft="BlackcliffWarbow",$s=d.weapon.data[ft],t1=[-1,.12,.15,.18,.21,.24],[n1,ps]=m(ft,"PressTheAdvantage"),hs=p(ps,{...$(h(1,3),t=>i(a(e.weapon.refinement,t1),t))},u),a1=r(ft,$s,{premod:{atk_:hs}}),o1={document:[{value:ps,path:n1,header:o(ft,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(h(1,3).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:hs},{text:l("duration"),value:30,unit:"s"}]}]))}]},s1=new s(ft,o1,$s,a1),_t="CompoundBow",us=d.weapon.data[_t],c1=[-1,.04,.05,.06,.07,.08],d1=[-1,.012,.015,.018,.021,.024],[r1,Ra]=m(_t,"InfusionArrow"),fs=p(Ra,{...$(h(1,4),t=>i(a(e.weapon.refinement,c1),t))},u),_s=p(Ra,{...$(h(1,4),t=>i(a(e.weapon.refinement,d1),t))},u),i1=r(_t,us,{premod:{atk_:fs,atkSPD_:_s}}),m1={document:[{value:Ra,path:r1,header:o(_t,n("stacks")),name:n("hitOp.normalOrCharged"),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:fs},{node:_s}]}]))}]},l1=new s(_t,m1,us,i1),me="ElegyForTheEnd",[,$1]=g("weapon",me),gs=d.weapon.data[me],p1=[-1,60,75,90,105,120],h1=[-1,100,125,150,175,200],u1=[-1,.2,.25,.3,.35,.4],[f1,Ca]=m(me,"ThePartingRefrain"),ws=a(e.weapon.refinement,p1,_.info("eleMas")),ks=c(Ca,"on",a(e.weapon.refinement,h1,_.info("eleMas"))),vs=c(Ca,"on",a(e.weapon.refinement,u1)),_1=r(me,gs,{premod:{eleMas:ws},teamBuff:{premod:{atk_:vs,eleMas:ks}}}),g1={document:[{header:o(me,n("base")),fields:[{node:ws}]},{value:Ca,path:f1,teamBuff:!0,header:o(me,n("conditional")),name:$1("condName"),states:{on:{fields:[{node:ks},{node:vs},{text:l("duration"),value:12,unit:"s"}]}}}]},w1=new s(me,g1,gs,_1),gt="EndOfTheLine",ys=d.weapon.data[gt],k1=[-1,.8,1,1.2,1.4,1.6],Ps=c(e.weapon.key,gt,y(i(a(e.weapon.refinement,k1,{unit:"%"}),e.total.atk),"elemental")),v1=r(gt,ys,void 0,{dmg:Ps}),y1={document:[{header:o(gt,n("base")),fields:[{node:f(Ps,{name:n("dmg")})}]}]},P1=new s(gt,y1,ys,v1),Le="FadingTwilight",Ss=d.weapon.data[Le],[,Ho]=g("weapon",Le),[S1,bs]=m(Le,"state"),Os={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Bs=p(bs,Os,u),b1=r(Le,Ss,{premod:{all_dmg_:Bs}}),O1={document:[{value:bs,path:S1,header:o(Le,n("conditional")),name:Ho("condName"),states:Object.fromEntries(Object.keys(Os).map(t=>[t,{name:Ho(`states.${t}`),fields:[{node:Bs}]}]))}]},B1=new s(Le,O1,Ss,b1),Tn="FavoniusWarbow",Es=d.weapon.data[Tn],E1=r(Tn,Es),A1={document:[{header:o(Tn),fields:[]}]},x1=new s(Tn,A1,Es,E1),le="Hamayumi",As=d.weapon.data[le],[,M1]=g("weapon",le),xs=[-1,.16,.2,.24,.28,.32],Ms=[-1,.12,.15,.18,.21,.24],Ds=a(e.weapon.refinement,xs,_.info("normal_dmg_")),Ts=a(e.weapon.refinement,Ms,_.info("charged_dmg_")),[D1,Ia]=m(le,"FullDraw"),Rs=c(Ia,"on",a(e.weapon.refinement,xs,_.info("normal_dmg_"))),Cs=c(Ia,"on",a(e.weapon.refinement,Ms,_.info("charged_dmg_"))),T1=r(le,As,{premod:{normal_dmg_:P(Ds,Rs),charged_dmg_:P(Ts,Cs)}}),R1={document:[{header:o(le,n("base")),fields:[{node:Ds},{node:Ts}]},{value:Ia,path:D1,name:M1("condName"),header:o(le,n("conditional")),states:{on:{fields:[{node:Rs},{node:Cs}]}}}]},C1=new s(le,R1,As,T1),ja="HuntersBow",Fa=d.weapon.data[ja],I1=r(ja,Fa),j1={...Fa,document:[]},F1=new s(ja,j1,Fa,I1),Ie="HuntersPath",Is=d.weapon.data[Ie],N1=[-1,.12,.15,.18,.21,.24],js=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,N1,{unit:"%"})])),W1=[-1,1.6,2,2.4,2.8,3.2],[H1,Fs]=m(Ie,"passive"),Ns=c(Fs,"on",i(a(e.weapon.refinement,W1,{unit:"%"}),e.total.eleMas)),K1=r(Ie,Is,{premod:{...js,charged_dmgInc:Ns}}),G1={document:[{header:o(Ie,n("base")),fields:Object.values(js).map(t=>({node:t}))},{value:Fs,path:H1,header:o(Ie,n("conditional")),name:n("hitOp.charged"),states:{on:{fields:[{node:Ns},{text:l("duration"),value:10,unit:"s"},{text:n("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},L1=new s(Ie,G1,Is,K1),wt="IbisPiercer",Ws=d.weapon.data[wt],Hs=h(1,2),q1=[-1,40,50,60,70,80],[V1,Ks]=m(wt,"passiveStacks"),Gs=p(Ks,$(Hs,t=>i(a(e.weapon.refinement,q1),t)),u),z1=r(wt,Ws,{premod:{eleMas:Gs}}),U1={document:[{value:Ks,path:V1,header:o(wt,n("stacks")),name:n("hitOp.charged"),states:Object.fromEntries(Hs.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Gs},{text:l("duration"),value:6,unit:"s"}]}]))}]},J1=new s(wt,U1,Ws,z1),$e="KingsSquire",Ls=d.weapon.data[$e],[Q1,qs]=m($e,"passive"),X1=[-1,60,80,100,120,140],Vs=c(qs,"on",a(e.weapon.refinement,X1)),Z1=[-1,1,1.2,1.4,1.6,1.8],zs=c(e.weapon.key,$e,y(i(a(e.weapon.refinement,Z1,{unit:"%"}),e.total.atk),"elemental")),Y1=r($e,Ls,{premod:{eleMas:Vs}},{dmg:zs}),eu={document:[{header:o($e,n("base")),fields:[{node:f(zs,{name:n("dmg")})}]},{value:qs,path:Q1,header:o($e,n("conditional")),name:n("afterUse.skillOrBurst"),states:{on:{fields:[{node:Vs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},tu=new s($e,eu,Ls,Y1),kt="Messenger",Us=d.weapon.data[kt],nu=[-1,1,1.25,1.5,1.75,2],Js=c(e.weapon.key,kt,y(i(a(e.weapon.refinement,nu),e.total.atk),"elemental",{hit:{ele:w("physical")}})),au=r(kt,Us,void 0,{dmg:Js}),ou={document:[{header:o(kt,n("base")),fields:[{node:f(Js,{name:n("dmg")})}]}]},su=new s(kt,ou,Us,au),pe="MitternachtsWaltz",Qs=d.weapon.data[pe],cu=[-1,.2,.25,.3,.35,.4],du=[-1,.2,.25,.3,.35,.4],[ru,Xs]=m(pe,"EvernightDuetSkill"),[iu,Zs]=m(pe,"EvernightDuetNormal"),Ys=c(Xs,"on",a(e.weapon.refinement,cu)),ec=c(Zs,"on",a(e.weapon.refinement,du)),mu=r(pe,Qs,{premod:{skill_dmg_:Ys,normal_dmg_:ec}}),lu={document:[{value:Zs,path:iu,header:o(pe,n("conditional")),name:n("hitOp.skill"),states:{on:{fields:[{node:ec},{text:l("duration"),value:5,unit:"s"}]}}},{value:Xs,path:ru,header:o(pe,n("conditional")),name:n("hitOp.normal"),states:{on:{fields:[{node:Ys},{text:l("duration"),value:5,unit:"s"}]}}}]},$u=new s(pe,lu,Qs,mu),qe="MouunsMoon",tc=d.weapon.data[qe],[,pu]=g("weapon",qe),[hu,nc]=m(qe,"WatatsumiWavewalker"),ac=b(4,36).map(t=>t*10),uu=[-1,.0012,.0015,.0018,.0021,.0024],fu=[-1,.4,.5,.6,.7,.8],oc=p(nc,Object.fromEntries(ac.map(t=>[t,oe(i(a(e.weapon.refinement,uu,{unit:"%"}),t),a(e.weapon.refinement,fu,{unit:"%"}))])),u),_u=r(qe,tc,{premod:{burst_dmg_:oc}}),gu={document:[{value:nc,path:hu,header:o(qe,n("conditional")),name:pu("party"),states:Object.fromEntries(ac.map(t=>[t,{name:t.toString(),fields:[{node:oc}]}]))}]},wu=new s(qe,gu,tc,_u),he="PolarStar",sc=d.weapon.data[he],[,ku]=g("weapon",he),cc=[-1,.12,.15,.18,.21,.24],vu=[-1,.1,.125,.15,.175,.2],yu=[-1,.2,.25,.3,.35,.4],Pu=[-1,.3,.375,.45,.528,.6],Su=[-1,.48,.6,.72,.84,.96],[bu,dc]=m(he,"GoldenMajesty"),rc=a(e.weapon.refinement,cc),ic=a(e.weapon.refinement,cc),mc=p(dc,{1:a(e.weapon.refinement,vu),2:a(e.weapon.refinement,yu),3:a(e.weapon.refinement,Pu),4:a(e.weapon.refinement,Su)},u),Ou=r(he,sc,{premod:{skill_dmg_:rc,burst_dmg_:ic,atk_:mc}}),Bu={document:[{header:o(he,n("base")),fields:[{node:rc},{node:ic}]},{value:dc,path:bu,header:o(he,n("stacks")),name:ku("condName"),states:$(h(1,4),t=>({name:n("stack",{count:t}),fields:[{node:mc}]}))}]},Eu=new s(he,Bu,sc,Ou),vt="Predator",lc=d.weapon.data[vt],Au=S(.1),xu=S(.1),[Mu,Na]=m(vt,"PressTheAdvantage"),$c=p(Na,{...$(h(1,2),t=>i(Au,t))},u),pc=p(Na,{...$(h(1,2),t=>i(xu,t))},u),Du=c(e.activeCharKey,"Aloy",66),Tu=r(vt,lc,{premod:{normal_dmg_:$c,charged_dmg_:pc,atk:Du}}),Ru={document:[{value:Na,path:Mu,header:o(vt,n("stacks")),name:n("hitOp.cryo"),states:Object.fromEntries(h(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:$c},{node:pc},{text:l("duration"),value:6,unit:"s"}]}]))}]},Cu=new s(vt,Ru,lc,Tu),yt="PrototypeCrescent",hc=d.weapon.data[yt],Iu=[-1,.36,.45,.54,.63,.72],[ju,Wa]=m(yt,"Unreturning"),uc=c(Wa,"on",a(e.weapon.refinement,Iu)),fc=c(Wa,"on",S(.1)),Fu=r(yt,hc,{premod:{atk_:uc,moveSPD_:fc}}),Nu={document:[{value:Wa,path:ju,header:o(yt,n("conditional")),name:n("hitOp.weakSpot"),states:{on:{fields:[{node:uc},{node:fc},{text:l("duration"),value:10,unit:"s"}]}}}]},Wu=new s(yt,Nu,hc,Fu),Ve="RangeGauge",_c=d.weapon.data[Ve],[,Hu]=g("weapon",Ve),Ku=[-1,.03,.04,.05,.06,.07],Gu=[-1,.07,.085,.1,.115,.13],[Lu,Ha]=m(Ve,"marksConsumed"),Ka=h(1,3),gc=p(Ha,$(Ka,t=>i(t,a(e.weapon.refinement,Ku,{unit:"%"}))),u),qu=p(Ha,$(Ka,t=>i(t,a(e.weapon.refinement,Gu,{unit:"%"}))),u),wc=$(v.map(t=>`${t}_dmg_`),()=>({...qu})),Vu=r(Ve,_c,{premod:{atk_:gc,...wc}}),zu={document:[{value:Ha,path:Lu,teamBuff:!0,header:o(Ve,n("stacks")),name:Hu("condName"),states:$(Ka,t=>({name:`${t}`,fields:[{node:gc},...Object.values(wc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},Uu=new s(Ve,zu,_c,Vu),Pt="RavenBow",kc=d.weapon.data[Pt],Ju=[-1,.12,.15,.18,.21,.24],[Qu,vc]=m(Pt,"BaneOfFlameAndWater"),yc=c(vc,"on",a(e.weapon.refinement,Ju)),Xu=r(Pt,kc,{premod:{all_dmg_:yc}}),Zu={document:[{value:vc,path:Qu,name:n("enemyAffected.hydroOrPyro"),header:o(Pt,n("conditional")),states:{on:{fields:[{node:yc}]}}}]},Yu=new s(Pt,Zu,kc,Xu),St="RecurveBow",Pc=d.weapon.data[St],ef=[-1,.08,.1,.12,.14,.16],Sc=c(e.weapon.key,St,Ke(i(e.total.hp,a(e.weapon.refinement,ef)))),tf=r(St,Pc,void 0,{healing:Sc}),nf={document:[{header:o(St,n("base")),fields:[{node:f(Sc,{name:l("healing"),variant:"heal"})}]}]},af=new s(St,nf,Pc,tf),bt="RoyalBow",bc=d.weapon.data[bt],of=[-1,.08,.1,.12,.14,.16],[sf,Oc]=m(bt,"Focus"),Bc=p(Oc,{...$(h(1,5),t=>i(a(e.weapon.refinement,of),t))},u),cf=r(bt,bc,{premod:{critRate_:Bc}}),df={document:[{value:Oc,path:sf,header:o(bt,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Bc}]}]))}]},rf=new s(bt,df,bc,cf),Rn="Rust",Ec=d.weapon.data[Rn],mf=[-1,.4,.5,.6,.7,.8],Ac=a(e.weapon.refinement,mf),xc=w(-.1),lf=r(Rn,Ec,{premod:{normal_dmg_:Ac,charged_dmg_:xc}}),$f={document:[{header:o(Rn,n("base")),fields:[{node:Ac},{node:xc}]}]},pf=new s(Rn,$f,Ec,lf),Cn="SacrificialBow",Mc=d.weapon.data[Cn],hf=r(Cn,Mc),uf={document:[{header:o(Cn),fields:[]}]},ff=new s(Cn,uf,Mc,hf),ue="ScionOfTheBlazingSun",Dc=d.weapon.data[ue],[,Ko]=g("weapon",ue),_f=[-1,.6,.75,.9,1.05,1.2],gf=[-1,.28,.35,.42,.49,.56],wf=y(i(a(e.weapon.refinement,_f,{unit:"%"}),e.total.atk),"elemental"),[kf,Tc]=m(ue,"afterHit"),Rc=c(Tc,"on",a(e.weapon.refinement,gf)),vf=r(ue,Dc,{premod:{charged_dmg_:Rc}}),yf={document:[{header:o(ue,n("dmg")),fields:[{node:f(wf,{name:Ko("dmg")})}]},{header:o(ue,n("conditional")),path:kf,value:Tc,name:Ko("condName"),states:{on:{fields:[{node:Rc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},Pf=new s(ue,yf,Dc,vf),Ga="SeasonedHuntersBow",La=d.weapon.data[Ga],Sf=r(Ga,La),bf={...La,document:[]},Of=new s(Ga,bf,La,Sf),In="SharpshootersOath",Cc=d.weapon.data[In],Bf=[-1,.24,.3,.36,.42,.48],Ic=a(e.weapon.refinement,Bf),Ef=r(In,Cc,{premod:{weakspotDMG_:Ic}}),Af={document:[{header:o(In,n("base")),fields:[{node:Ic}]}]},xf=new s(In,Af,Cc,Ef),Ot="SkywardHarp",jc=d.weapon.data[Ot],Mf=[-1,.2,.25,.3,.35,.4],Df=S(1.25),Fc=a(e.weapon.refinement,Mf),Nc=c(e.weapon.key,Ot,y(i(Df,e.total.atk),"elemental",{hit:{ele:w("physical")}})),Tf=r(Ot,jc,{premod:{critDMG_:Fc}},{dmg:Nc}),Rf={document:[{header:o(Ot,n("base")),fields:[{node:Fc},{node:f(Nc,{name:n("dmg")})}]}]},Cf=new s(Ot,Rf,jc,Tf),ze="Slingshot",Wc=d.weapon.data[ze],[,Go]=g("weapon",ze),If=[-1,.36,.42,.48,.54,.6],[jf,Hc]=m(ze,"Slingshot"),Ff=["less","more"],qa=p(Hc,{less:a(e.weapon.refinement,If,_.info("normal_dmg_")),more:S(-.1,_.info("normal_dmg_"))},u),Kc={...qa},Nf=r(ze,Wc,{premod:{normal_dmg_:qa,charged_dmg_:Kc}}),Wf={document:[{value:Hc,path:jf,header:o(ze,n("conditional")),name:Go("condName"),states:$(Ff,t=>({name:Go(t),fields:[{node:qa},{node:Kc}]}))}]},Hf=new s(ze,Wf,Wc,Nf),Bt="SongOfStillness",Gc=d.weapon.data[Bt],Kf=[-1,.16,.2,.24,.28,.32],[Gf,Lc]=m(Bt,"afterHeal"),qc=c(Lc,"on",a(e.weapon.refinement,Kf)),Lf=r(Bt,Gc,{premod:{all_dmg_:qc}}),qf={document:[{header:o(Bt,n("conditional")),path:Gf,value:Lc,name:n("afterHeal"),states:{on:{fields:[{node:qc},{text:l("duration"),value:8,unit:"s"}]}}}]},Vf=new s(Bt,qf,Gc,Lf),ut="TheFirstGreatMagic",Vc=d.weapon.data[ut],zf=[-1,.16,.2,.24,.28,.32],ra=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],ia=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Lo=p(e.charEle,x,u),ma=P(...v.map(t=>Jo(x[t],1,M(t,e.charEle,x[t])))),zc=a(e.weapon.refinement,zf),Uc=Qo(Lo,3,a(e.weapon.refinement,ra[2]),Da(Lo,2,a(e.weapon.refinement,ra[1]),a(e.weapon.refinement,ra[0]))),$a=Qo(ma,3,a(e.weapon.refinement,ia[2]),Da(ma,2,a(e.weapon.refinement,ia[1]),c(ma,1,a(e.weapon.refinement,ia[0])))),Uf=r(ut,Vc,{premod:{charged_dmg_:zc,atk_:Uc,moveSPD_:$a}}),Jf={document:[{header:o(ut,n("base")),fields:[{node:zc}]},{header:o(ut,n("stacks")),fields:[{node:Uc},{canShow:t=>t.get($a).value>0,node:$a}]}]},Qf=new s(ut,Jf,Vc,Uf),jn="TheStringless",Jc=d.weapon.data[jn],Qc=[-1,.24,.3,.36,.42,.48],Xc=a(e.weapon.refinement,Qc),Zc=a(e.weapon.refinement,Qc),Xf=r(jn,Jc,{premod:{skill_dmg_:Xc,burst_dmg_:Zc}}),Zf={document:[{header:o(jn,n("base")),fields:[{node:Xc},{node:Zc}]}]},Yf=new s(jn,Zf,Jc,Xf),Et="TheViridescentHunt",Yc=d.weapon.data[Et],e_=[-1,.4,.5,.6,.7,.8],ed=c(e.weapon.key,Et,y(i(a(e.weapon.refinement,e_),e.total.atk),"elemental",{hit:{ele:w("physical")}})),t_=r(Et,Yc,void 0,{dmg:ed}),n_={document:[{header:o(Et,n("base")),fields:[{node:f(ed,{name:n("dmg")})}]}]},a_=new s(Et,n_,Yc,t_),fe="ThunderingPulse",td=d.weapon.data[fe],[,o_]=g("weapon",fe),s_=[-1,.2,.25,.3,.35,.4],c_=[-1,.12,.15,.18,.21,.24],d_=[-1,.24,.3,.36,.42,.48],r_=[-1,.4,.5,.6,.7,.8],[i_,nd]=m(fe,"RuleByThunder"),ad=a(e.weapon.refinement,s_),od=p(nd,{1:a(e.weapon.refinement,c_),2:a(e.weapon.refinement,d_),3:a(e.weapon.refinement,r_)},u),m_=r(fe,td,{premod:{atk_:ad,normal_dmg_:od}}),l_={document:[{header:o(fe,n("base")),fields:[{node:ad}]},{value:nd,path:i_,header:o(fe,n("stacks")),name:o_("condName"),states:$(h(1,3),t=>({name:n("stack",{count:t}),fields:[{node:od}]}))}]},$_=new s(fe,l_,td,m_),At="WindblumeOde",sd=d.weapon.data[At],p_=[-1,.16,.2,.24,.28,.32],[h_,cd]=m(At,"WindblumeWish"),dd=c(cd,"on",a(e.weapon.refinement,p_)),u_=r(At,sd,{premod:{atk_:dd}}),f_={document:[{value:cd,path:h_,name:n("afterUse.skill"),header:o(At,n("conditional")),states:{on:{fields:[{node:dd},{text:l("duration"),value:6,unit:"s"}]}}}]},__=new s(At,f_,sd,u_),g_={AlleyHunter:Hh,AmosBow:zh,AquaSimulacra:e1,BlackcliffWarbow:s1,CompoundBow:l1,ElegyForTheEnd:w1,FadingTwilight:B1,FavoniusWarbow:x1,Hamayumi:C1,HuntersBow:F1,HuntersPath:L1,IbisPiercer:J1,KingsSquire:tu,Messenger:su,MitternachtsWaltz:$u,MouunsMoon:wu,PolarStar:Eu,Predator:Cu,PrototypeCrescent:Wu,RangeGauge:Uu,RavenBow:Yu,RecurveBow:af,RoyalBow:rf,Rust:pf,SacrificialBow:ff,ScionOfTheBlazingSun:Pf,SeasonedHuntersBow:Of,SharpshootersOath:xf,SkywardHarp:Cf,Slingshot:Hf,SongOfStillness:Vf,TheFirstGreatMagic:Qf,TheStringless:Yf,TheViridescentHunt:a_,ThunderingPulse:$_,EndOfTheLine:P1,WindblumeOde:__},je="AThousandFloatingDreams",rd=d.weapon.data[je],w_=[-1,32,40,48,56,64],k_=[-1,.1,.14,.18,.22,.26],v_=[-1,40,42,44,46,48],id=p(e.charEle,Object.fromEntries(v.map(t=>[t,f(P(x[t],-1),{asConst:!0})])),u),y_=P(...v.map(t=>x[t])),md=i(id,a(e.weapon.refinement,w_)),ld=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(e.charEle,t,i(f(P(y_,-1,i(id,-1)),{asConst:!0}),a(e.weapon.refinement,k_,{unit:"%"})))])),$d=c(e.weapon.key,je,a(e.weapon.refinement,v_),{..._.info("eleMas"),isTeamBuff:!0}),P_=M(e.charKey,E.charKey,$d),S_=r(je,rd,{premod:{eleMas:md,...ld},teamBuff:{premod:{eleMas:P_}}}),b_={document:[{header:o(je,n("base")),fields:[{node:md},...Object.values(ld).map(t=>({node:t}))]},{header:o(je,n("teamBuff")),teamBuff:!0,fields:[{node:$d}]}]},O_=new s(je,b_,rd,S_),Va="ApprenticesNotes",za=d.weapon.data[Va],B_=r(Va,za),E_={...za,document:[]},A_=new s(Va,E_,za,B_),xt="BalladOfTheBoundlessBlue",pd=d.weapon.data[xt],x_=[-1,.08,.1,.12,.14,.16],M_=[-1,.06,.075,.09,.105,.12],[D_,Ua]=m(xt,"hits"),Ja=h(1,3),hd=p(Ua,$(Ja,t=>i(t,a(e.weapon.refinement,x_,{unit:"%"}))),u),ud=p(Ua,$(Ja,t=>i(t,a(e.weapon.refinement,M_,{unit:"%"}))),u),T_=r(xt,pd,{premod:{normal_dmg_:hd,charged_dmg_:ud}}),R_={document:[{value:Ua,path:D_,teamBuff:!0,header:o(xt,n("stacks")),name:n("hitOp.normalOrCharged"),states:$(Ja,t=>({name:n("hits",{count:t}),fields:[{node:hd},{node:ud},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},C_=new s(xt,R_,pd,T_),Mt="BlackcliffAgate",fd=d.weapon.data[Mt],[I_,_d]=m(Mt,"PressTheAdvantage"),gd=h(1,3),j_=[-1,.12,.15,.18,.21,.24],wd=i(p(_d,$(gd,t=>w(t)),0),a(e.weapon.refinement,j_)),F_=r(Mt,fd,{premod:{atk_:wd}}),N_={document:[{value:_d,path:I_,header:o(Mt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(gd.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:wd},{text:l("duration"),value:30,unit:"s"}]}]))}]},W_=new s(Mt,N_,fd,F_),J="CashflowSupervision",Qa=d.weapon.data[J],kd=Qa.refinementBonus.atk_;if(!kd)throw new Error(`data_gen.refinementBonus.atk_ for ${J} was undefined`);const H_=[-1,.16,.2,.24,.28,.32],K_=[-1,.14,.175,.21,.245,.28],G_=[-1,.08,.1,.12,.14,.16],vd=c(e.weapon.key,J,a(e.weapon.refinement,kd)),[L_,Fn]=m(J,"hpChanges"),Xa=h(1,3),yd=p(Fn,$(Xa,t=>i(t,a(e.weapon.refinement,H_,{unit:"%"}))),u),Pd=p(Fn,$(Xa,t=>i(t,a(e.weapon.refinement,K_,{unit:"%"}))),u),Sd=c(Fn,"3",a(e.weapon.refinement,G_)),q_=r(J,Qa,{premod:{atk_:vd,normal_dmg_:yd,charged_dmg_:Pd,atkSPD_:Sd}}),V_={document:[{header:o(J,n("base")),fields:[{node:vd}]},{value:Fn,path:L_,header:o(J,n("stacks")),name:n("hpChange"),states:$(Xa,t=>({name:n("times",{count:t}),fields:[{node:yd},{node:Pd},{node:Sd},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},z_=new s(J,V_,Qa,q_),Dt="CranesEchoingCall",bd=d.weapon.data[Dt],U_=[-1,.28,.41,.54,.67,.8],[J_,Od]=m(Dt,"passive"),Bd=c(Od,"on",a(e.weapon.refinement,U_,{unit:"%"})),Q_=r(Dt,bd,{teamBuff:{premod:{plunging_dmg_:Bd}}}),X_={document:[{value:Od,path:J_,header:o(Dt,n("conditional")),name:n("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Bd},{text:l("duration"),value:20,unit:"s"}]}}}]},Z_=new s(Dt,X_,bd,Q_),_e="DodocoTales",Ed=d.weapon.data[_e],Y_=[-1,.16,.2,.24,.28,.32],eg=[-1,.08,.1,.12,.14,.16],[tg,Ad]=m(_e,"DodoventureNormal"),[ng,xd]=m(_e,"DodoventureCharged"),Md=c("on",Ad,a(e.weapon.refinement,Y_)),Dd=c("on",xd,a(e.weapon.refinement,eg)),ag=r(_e,Ed,{premod:{charged_dmg_:Md,atk_:Dd}}),og={document:[{value:Ad,path:tg,name:n("hitOp.normal"),header:o(_e,n("conditional")),states:{on:{fields:[{node:Md},{text:l("duration"),value:6,unit:"s"}]}}},{value:xd,path:ng,name:n("hitOp.charged"),header:o(_e,n("conditional")),states:{on:{fields:[{node:Dd},{text:l("duration"),value:6,unit:"s"}]}}}]},sg=new s(_e,og,Ed,ag),Tt="EmeraldOrb",Td=d.weapon.data[Tt],cg=[-1,.2,.25,.3,.35,.4],[dg,Rd]=m(Tt,"Rapids"),Cd=c("on",Rd,a(e.weapon.refinement,cg)),rg=r(Tt,Td,{premod:{atk_:Cd}}),ig={document:[{value:Rd,path:dg,name:n("elementalReaction.hydro"),header:o(Tt,n("conditional")),states:{on:{fields:[{node:Cd},{text:l("duration"),value:12,unit:"s"}]}}}]},mg=new s(Tt,ig,Td,rg),xe="EverlastingMoonglow",Za=d.weapon.data[xe],lg=[-1,.01,.015,.02,.025,.03],[,$g]=g("weapon",xe),pa=c(e.weapon.key,xe,i(a(e.weapon.refinement,lg,{unit:"%"}),e.premod.hp)),Id=Za.refinementBonus.heal_;if(!Id)throw new Error(`data_gen.refinementBonus.heal_ for ${xe} was undefined`);const jd=a(e.weapon.refinement,Id),pg=r(xe,Za,{premod:{normal_dmgInc:pa,heal_:jd}},{normal_dmgInc:pa}),hg={document:[{header:o(xe,n("base")),fields:[{node:jd},{text:$g("name"),node:pa}]}]},ug=new s(xe,hg,Za,pg),Rt="EyeOfPerception",Fd=d.weapon.data[Rt],fg=[-1,2.4,2.7,3,3.3,3.6],Nd=c(e.weapon.key,Rt,y(i(a(e.weapon.refinement,fg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),_g=r(Rt,Fd,void 0,{dmg_:Nd}),gg={document:[{header:o(Rt,n("base")),fields:[{node:f(Nd,{name:n("dmg")})}]}]},wg=new s(Rt,gg,Fd,_g),Nn="FavoniusCodex",Wd=d.weapon.data[Nn],kg=r(Nn,Wd),vg={document:[{header:o(Nn),fields:[]}]},yg=new s(Nn,vg,Wd,kg),F="FlowingPurity",Hd=d.weapon.data[F],[,Pg]=g("weapon",F),Sg=[-1,.08,.1,.12,.14,.16],bg=[-1,.02,.025,.03,.035,.04],Og=[-1,.12,.15,.18,.21,.24],[Bg,Kd]=m(F,"afterSkill"),Eg=c(Kd,"on",a(e.weapon.refinement,Sg)),Ya=v.map(t=>`${t}_dmg_`),Gd=$(Ya,t=>f({...Eg},_.info(t))),Ag=i(S(.24),e.total.hp),[xg,Ld]=m(F,"bond"),Mg=c(e.weapon.key,F,c(Ld,"on",oe(i(a(e.weapon.refinement,bg,{unit:"%"}),i(Ag,S(1/1e3))),a(e.weapon.refinement,Og,{unit:"%"})))),ha=$(Ya,t=>f({...Mg},_.info(t))),Dg=r(F,Hd,{premod:{...$(Ya,t=>P(Gd[t],ha[t]))}},ha),Tg={document:[{header:o(F,n("conditional")),path:Bg,value:Kd,name:n("hitOp.skill"),states:{on:{fields:[...Object.values(Gd).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(F,n("conditional")),path:xg,value:Ld,name:Pg("bondCondName"),states:{on:{fields:[...Object.values(ha).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"}]}}}]},Rg=new s(F,Tg,Hd,Dg),q="Frostbearer",qd=d.weapon.data[q],Cg=[-1,.8,.95,1.1,1.25,1.4],Ig=[-1,2,2.4,2.8,3.2,3.6],Vd=c(e.weapon.key,q,y(i(a(e.weapon.refinement,Cg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),zd=c(e.weapon.key,q,y(i(a(e.weapon.refinement,Ig,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),jg=r(q,qd,void 0,{dmgAoe:Vd,dmgOnCryoOp:zd}),Fg={document:[{header:o(q,n("base")),fields:[{node:f(Vd,{name:s.trm(q)("aoeDmg")})},{node:f(zd,{name:s.trm(q)("cryoAffectedDmg")})}]}]},Ng=new s(q,Fg,qd,jg),Ue="FruitOfFulfillment",Ud=d.weapon.data[Ue],[,Wg]=g("weapon",Ue),Hg=[-1,24,27,30,33,36],[Kg,eo]=m(Ue,"stacks"),to=b(1,5),Jd=p(eo,Object.fromEntries(to.map(t=>[t,i(a(e.weapon.refinement,Hg),t)])),u),Qd=p(eo,Object.fromEntries(to.map(t=>[t,i(S(-.05),t)])),u),Gg=r(Ue,Ud,{premod:{eleMas:Jd,atk_:Qd}}),Lg={document:[{teamBuff:!0,header:o(Ue,n("stacks")),path:Kg,value:eo,name:Wg("stackName"),states:Object.fromEntries(to.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Jd},{node:Qd}]}]))}]},qg=new s(Ue,Lg,Ud,Gg),Ct="HakushinRing",Xd=d.weapon.data[Ct],Vg=[-1,.1,.125,.15,.175,.2],[zg,se]=m(Ct,"SakuraSaiguu"),Me=a(e.weapon.refinement,Vg),Zd=c("anemo",se,Me),Yd=c("cryo",se,Me),er=c("geo",se,Me),tr=c("hydro",se,Me),nr=c("pyro",se,Me),ar=c("dendro",se,Me),Ug=c("anemo",E.charEle,Zd),Jg=c("cryo",E.charEle,Yd),Qg=c("geo",E.charEle,er),Xg=c("hydro",E.charEle,tr),Zg=c("pyro",E.charEle,nr),Yg=c("dendro",E.charEle,ar),de=M(se,void 0,Me),ew=c("electro",E.charEle,de),tw=r(Ct,Xd,{teamBuff:{premod:{anemo_dmg_:Ug,cryo_dmg_:Jg,electro_dmg_:ew,geo_dmg_:Qg,hydro_dmg_:Xg,pyro_dmg_:Zg,dendro_dmg_:Yg}}}),nw={document:[{value:se,path:zg,name:n("elementalReaction.electro"),teamBuff:!0,header:o(Ct,n("conditional")),states:{anemo:{name:L(Ce,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:f(Zd,{..._.info("anemo_dmg_"),isTeamBuff:!0})},{node:f(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:L(Ce,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:f(Yd,{..._.info("cryo_dmg_"),isTeamBuff:!0})},{node:f(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:L(Ce,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:f(er,{..._.info("geo_dmg_"),isTeamBuff:!0})},{node:f(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:L(Ce,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:f(nr,{..._.info("pyro_dmg_"),isTeamBuff:!0})},{node:f(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:L(Ce,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:f(tr,{..._.info("hydro_dmg_"),isTeamBuff:!0})},{node:f(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:L(Ce,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:f(ar,{..._.info("dendro_dmg_"),isTeamBuff:!0})},{node:f(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},aw=new s(Ct,nw,Xd,tw),De="JadefallsSplendor",or=d.weapon.data[De],[,ow]=g("weapon",De),[sw,sr]=m(De,"condPassive"),cw=[-1,.003,.005,.007,.009,.011],dw=[-1,.12,.2,.28,.36,.44],rw=c(e.weapon.key,De,c(sr,"on",oe(a(e.weapon.refinement,dw,{unit:"%"}),i(a(e.weapon.refinement,cw,{unit:"%"}),e.total.hp,1/1e3)))),ua=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(t,e.charEle,rw)])),iw=r(De,or,{premod:{...ua}},{...ua}),mw={document:[{header:o(De,n("conditional")),path:sw,value:sr,name:ow("condName"),states:{on:{fields:[...Object.values(ua).map(t=>({node:t})),{text:l("duration"),value:3,unit:"s"}]}}}]},lw=new s(De,mw,or,iw),It="KagurasVerity",cr=d.weapon.data[It],[$w,no]=m(It,"KaguraDance"),dr=b(1,3),rr=[-1,.12,.15,.18,.21,.24],ir=dr.map(t=>c(no,t.toString(),a(e.weapon.refinement,rr.map(k=>k*t)),_.info("skill_dmg_"))),mr=Object.fromEntries(v.map(t=>[t,c(no,"3",a(e.weapon.refinement,rr))])),pw=r(It,cr,{premod:{skill_dmg_:P(...ir),...Object.fromEntries(v.map(t=>[`${t}_dmg_`,mr[t]]))}}),hw={document:[{value:no,path:$w,header:o(It,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(dr.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:ir[t-1]},...v.map(k=>({node:mr[k]}))]}]))}]},uw=new s(It,hw,cr,pw),Fe="LostPrayerToTheSacredWinds",lr=d.weapon.data[Fe],fw=[-1,.08,.1,.12,.14,.16],[_w,$r]=m(Fe,"BoundlessBlessing"),pr=S(.1),gw=a(e.weapon.refinement,fw,{unit:"%"}),hr=Object.fromEntries(v.map(t=>[t,p($r,{...$(h(1,4),k=>i(gw,k))},u)])),ww=r(Fe,lr,{premod:{moveSPD_:pr,...Object.fromEntries(v.map(t=>[`${t}_dmg_`,hr[t]]))}}),kw={document:[{header:o(Fe,n("base")),fields:[{node:pr}]},{value:$r,path:_w,header:o(Fe,n("stacks")),name:n("timeOnField"),states:$(h(1,4),t=>({name:n("seconds",{count:t*4}),fields:v.map(k=>({node:hr[k]}))}))}]},vw=new s(Fe,kw,lr,ww),jt="MagicGuide",ur=d.weapon.data[jt],yw=[-1,.12,.15,.18,.21,.24],[Pw,fr]=m(jt,"BaneOfStormAndTide"),_r=c("on",fr,a(e.weapon.refinement,yw)),Sw=r(jt,ur,{premod:{all_dmg_:_r}}),bw={document:[{value:fr,path:Pw,name:n("enemyAffected.hydroOrElectro"),header:o(jt,n("conditional")),states:{on:{fields:[{node:_r}]}}}]},Ow=new s(jt,bw,ur,Sw),Ft="MappaMare",gr=d.weapon.data[Ft],[Bw,wr]=m(Ft,"InfusionScroll"),Ew=[-1,.08,.1,.12,.14,.16],Aw=a(e.weapon.refinement,Ew),kr=Eh(v,t=>[`${t}_dmg_`,p(wr,{...$(h(1,2),k=>i(Aw,k))},u)]),xw=r(Ft,gr,{premod:kr}),Mw={document:[{value:wr,path:Bw,header:o(Ft,n("stacks")),name:n("afterReaction"),states:$(h(1,2),t=>({name:n("stack",{count:t}),fields:[...Object.values(kr).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Dw=new s(Ft,Mw,gr,xw),T="MemoryOfDust",vr=d.weapon.data[T],[,Tw]=g("weapon",T),Rw=[-1,.2,.25,.3,.35,.4],Cw=[-1,.04,.05,.06,.07,.08],[Iw,yr]=m(T,"GoldenMajesty"),Pr=a(e.weapon.refinement,Rw),[jw,Sr]=m(T,"WithShield"),Fw=a(e.weapon.refinement,Cw),br=i(P(1,c(Sr,"protected",1)),p(yr,Object.fromEntries(b(1,5).map(t=>[t,i(Fw,t)])),u)),Nw=r(T,vr,{premod:{shield_:Pr,atk_:br}}),Ww={document:[{header:o(T,n("base")),fields:[{node:Pr}]},{value:yr,path:Iw,header:o(T,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:br},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Sr,path:jw,header:o(T,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:Tw("atkEffInc"),value:100,unit:"%"}]}}}]},Hw=new s(T,Ww,vr,Nw),Nt="OathswornEye",Or=d.weapon.data[Nt],Kw=[-1,.24,.3,.36,.42,.48],[Gw,Br]=m(Nt,"faLight"),Lw=a(e.weapon.refinement,Kw),Er=c("skillBurst",Br,Lw),qw=r(Nt,Or,{premod:{enerRech_:Er}}),Vw={document:[{value:Br,path:Gw,header:o(Nt,n("conditional")),name:n("afterUse.skill"),states:{skillBurst:{fields:[{node:Er}]}}}]},zw=new s(Nt,Vw,Or,qw),Wt="OtherworldlyStory",Ar=d.weapon.data[Wt],Uw=[-1,.01,.0125,.015,.0175,.02],xr=c(e.weapon.key,Wt,Ke(i(a(e.weapon.refinement,Uw,{unit:"%"}),e.total.hp))),Jw=r(Wt,Ar,void 0,{heal:xr}),Qw={document:[{header:o(Wt,n("base")),fields:[{node:f(xr,{name:l("healing"),variant:"heal"})}]}]},Xw=new s(Wt,Qw,Ar,Jw),ao="PocketGrimoire",Mr=d.weapon.data[ao],Zw=r(ao,Mr),Yw={document:[]},ek=new s(ao,Yw,Mr,Zw),Je="PrototypeAmber",Dr=d.weapon.data[Je],[tk,nk]=m(Je,"Gliding"),ak=[-1,.04,.045,.05,.055,.06],Tr=c(e.weapon.key,Je,Ke(i(a(e.weapon.refinement,ak,{unit:"%"}),e.total.hp))),ok=r(Je,Dr,void 0,{heal:Tr}),sk={document:[{value:nk,path:tk,name:n("afterUse.burst"),header:o(Je,n("conditional")),states:{on:{fields:[{node:f(Tr,{name:l("healing"),variant:"heal"})}]}}}]},ck=new s(Je,sk,Dr,ok),ge="QuantumCatalyst",Rr=d.weapon.data[ge],dk=[-1,.18,.225,.27,.315,.36],rk=[-1,.06,.075,.09,.105,.12],ik=[-1,10,12,14,16,18],Cr=h(1,5),[mk,Ir]=m(ge,"stacks"),jr=a(e.weapon.refinement,dk),On=c(e.weapon.key,ge,i(a(e.weapon.refinement,rk,{unit:"%"}),e.total.eleMas)),fa={...On},Fr=p(Ir,$(Cr,t=>i(a(e.weapon.refinement,ik),t)),u),lk=r(ge,Rr,{premod:{enerRech_:jr,normal_dmgInc:On,charged_dmgInc:fa,eleMas:Fr}},{normal_dmgInc:On,charged_dmgInc:fa}),$k={document:[{header:o(ge,n("base")),fields:[{node:jr},{node:On},{node:fa}]},{value:Ir,path:mk,teamBuff:!0,header:o(ge,n("stacks")),name:n("elementalReaction.electro"),states:$(Cr,t=>({name:n("stack",{count:t}),fields:[{node:Fr},{text:l("duration"),value:12,unit:"s"}]}))}]},pk=new s(ge,$k,Rr,lk),Ht="RoyalGrimoire",Nr=d.weapon.data[Ht],[hk,Wr]=m(Ht,"stack"),uk=[-1,.08,.1,.12,.14,.16],Hr=p(Wr,$(h(1,5),t=>i(a(e.weapon.refinement,uk,{unit:"%"}),t)),u),fk=r(Ht,Nr,{premod:{critRate_:Hr}}),_k={document:[{value:Wr,path:hk,header:o(Ht,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Hr}]}]))}]},gk=new s(Ht,_k,Nr,fk),Wn="SacrificialFragments",Kr=d.weapon.data[Wn],wk=r(Wn,Kr),kk={document:[{header:o(Wn),fields:[]}]},vk=new s(Wn,kk,Kr,wk),Qe="SacrificialJade",Gr=d.weapon.data[Qe],[,yk]=g("weapon",Qe),Pk=[-1,.32,.4,.48,.56,.64],Sk=[-1,40,50,60,70,80],[bk,oo]=m(Qe,"offField"),Lr=c(oo,"on",a(e.weapon.refinement,Pk)),qr=c(oo,"on",a(e.weapon.refinement,Sk)),Ok=r(Qe,Gr,{premod:{eleMas:qr,hp_:Lr}}),Bk={document:[{teamBuff:!0,header:o(Qe,n("conditional")),path:bk,value:oo,name:yk("condOffField"),states:{on:{fields:[{node:Lr},{node:qr}]}}}]},Ek=new s(Qe,Bk,Gr,Ok),Kt="SkywardAtlas",Vr=d.weapon.data[Kt],Ak=[-1,.12,.15,.18,.21,.24],zr=Object.fromEntries(v.map(t=>[t,a(e.weapon.refinement,Ak)])),xk=[-1,1.6,2,2.4,2.8,3.2],Ur=c(e.weapon.key,Kt,y(i(a(e.weapon.refinement,xk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Mk=r(Kt,Vr,{premod:{...Object.fromEntries(v.map(t=>[`${t}_dmg_`,zr[t]]))}},{dmg:Ur}),Dk={document:[{header:o(Kt,n("base")),fields:[...v.map(t=>({node:zr[t]})),{node:f(Ur,{name:n("dmg")})}]}]},Tk=new s(Kt,Dk,Vr,Mk),we="SolarPearl",Jr=d.weapon.data[we],Rk=[-1,.2,.25,.3,.35,.4],[Ck,Qr]=m(we,"solarShineNormal"),[Ik,Xr]=m(we,"solarShineSkillBurst"),Zr=a(e.weapon.refinement,Rk),so=c("normal",Qr,Zr),Yr={...so},ei=c("skillBurst",Xr,Zr),jk=r(we,Jr,{premod:{skill_dmg_:so,burst_dmg_:Yr,normal_dmg_:ei}}),Fk={document:[{value:Qr,path:Ck,header:o(we,n("conditional")),name:n("hitOp.normal"),states:{normal:{fields:[{node:so},{node:Yr}]}}},{value:Xr,path:Ik,header:o(we,n("conditional")),name:n("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:ei}]}}}]},Nk=new s(we,Fk,Jr,jk),Xe="TheWidsith",ti=d.weapon.data[Xe],[Wk,la]=g("weapon",Xe),Hk=[-1,.6,.75,.9,1.05,1.2],Kk=[-1,.48,.6,.72,.84,.96],Gk=[-1,240,300,360,420,480],[Lk,Hn]=m(Xe,"Debut"),ni=c("recitative",Hn,a(e.weapon.refinement,Hk)),ai=Object.fromEntries(v.map(t=>[t,c("aria",Hn,a(e.weapon.refinement,Kk))])),oi=c("interlude",Hn,a(e.weapon.refinement,Gk)),qk=r(Xe,ti,{premod:{atk_:ni,...Object.fromEntries(v.map(t=>[`${t}_dmg_`,ai[t]])),eleMas:oi}}),Vk={document:[{value:Hn,path:Lk,teamBuff:!0,header:o(Xe,n("conditional")),name:Wk("passiveName"),states:{aria:{name:la("aria"),fields:[...v.map(t=>({node:ai[t]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:la("interlude"),fields:[{node:oi},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:la("recitative"),fields:[{node:ni},{text:l("duration"),value:10,unit:"s"}]}}}]},zk=new s(Xe,Vk,ti,qk),Ze="ThrillingTalesOfDragonSlayers",si=d.weapon.data[Ze],[,Uk]=g("weapon",Ze),Jk=[-1,.24,.3,.36,.42,.48],[Qk,ci]=m(Ze,"Heritage"),di=c("on",ci,a(e.weapon.refinement,Jk)),Xk=M(e.activeCharKey,e.charKey,c(e.activeCharKey,E.charKey,di)),Zk=r(Ze,si,{teamBuff:{premod:{atk_:Xk}}}),Yk={document:[{value:ci,path:Qk,name:Uk("condName"),canShow:M(e.activeCharKey,e.charKey,1),teamBuff:!0,header:o(Ze,n("conditional")),states:{on:{fields:[{node:f(di,_.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},e2=new s(Ze,Yk,si,Zk),Q="TomeOfTheEternalFlow",co=d.weapon.data[Q],ri=co.refinementBonus.hp_;if(!ri)throw new Error(`data_gen.refinementBonus.hp_ for ${Q} was undefined`);const t2=[-1,.14,.18,.22,.26,.3],ii=c(e.weapon.key,Q,a(e.weapon.refinement,ri)),[n2,mi]=m(Q,"hpChanges"),li=h(1,3),$i=p(mi,$(li,t=>i(t,a(e.weapon.refinement,t2,{unit:"%"}))),u),a2=r(Q,co,{premod:{hp_:ii,charged_dmg_:$i}}),o2={document:[{header:o(Q,n("base")),fields:[{node:ii}]},{value:mi,path:n2,header:o(Q,n("stacks")),name:n("hpChange"),states:$(li,t=>({name:n("times",{count:t}),fields:[{node:$i},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},s2=new s(Q,o2,co,a2),O="TulaytullahsRemembrance",pi=d.weapon.data[O],c2=[-1,.1,.125,.15,.175,.2],d2=[-1,.048,.06,.072,.084,.096],hi=b(1,12),r2=[-1,.096,.12,.144,.168,.192],ui=b(1,5),i2=[-1,.48,.6,.72,.84,.96],fi=c(e.weapon.key,O,a(e.weapon.refinement,c2)),[m2,_i]=m(O,"timePassive"),l2=c(e.weapon.key,O,p(_i,Object.fromEntries(hi.map(t=>[t,i(t,a(e.weapon.refinement,d2,{unit:"%"}))])),u,_.info("normal_dmg_"))),[$2,gi]=m(O,"hitPassive"),p2=c(e.weapon.key,O,p(gi,Object.fromEntries(ui.map(t=>[t,i(t,a(e.weapon.refinement,r2,{unit:"%"}))])),u,_.info("normal_dmg_"))),wi=oe(a(e.weapon.refinement,i2,{unit:"%"}),P(l2,p2)),h2=r(O,pi,{premod:{atkSPD_:fi,normal_dmg_:wi}}),u2={document:[{header:o(O,n("base")),fields:[{node:fi}]},{header:o(O,n("conditional")),fields:[{node:wi}]},{value:_i,path:m2,header:o(O,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(hi.map(t=>[t,{name:n("seconds",{count:t}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:gi,path:$2,header:o(O,n("stacks")),name:n("hitOp.normal"),states:Object.fromEntries(ui.map(t=>[t,{name:n("stack",{count:t}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},f2=new s(O,u2,pi,h2),Gt="TwinNephrite",ki=d.weapon.data[Gt],vi=[-1,.12,.14,.16,.18,.2],[_2,ro]=m(Gt,"GuerillaTactics"),yi=c("on",ro,a(e.weapon.refinement,vi)),Pi=c("on",ro,a(e.weapon.refinement,vi)),g2=r(Gt,ki,{premod:{atk_:yi,moveSPD_:Pi}}),w2={document:[{value:ro,path:_2,name:n("afterDefeatEnemy"),header:o(Gt,n("conditional")),states:{on:{fields:[{node:yi},{node:Pi},{text:l("duration"),value:15,unit:"s"}]}}}]},k2=new s(Gt,w2,ki,g2),ke="WanderingEvenstar",Si=d.weapon.data[ke],v2=[-1,.24,.3,.36,.42,.48],Bn=c(e.weapon.key,ke,i(a(e.weapon.refinement,v2,{unit:"%"}),e.premod.eleMas)),io=c(e.weapon.key,ke,i(S(.3),Bn)),y2=M(e.activeCharKey,e.charKey,io),P2=r(ke,Si,{total:{atk:Bn},teamBuff:{total:{atk:y2}}},{selfAtk:Bn,teamAtkDisp:io}),S2={document:[{header:o(ke,n("base")),fields:[{node:Bn}]},{header:o(ke,n("teamBuff")),teamBuff:!0,fields:[{node:f(io,{..._.info("atk"),isTeamBuff:!0})}]}]},b2=new s(ke,S2,Si,P2),Lt="WineAndSong",bi=d.weapon.data[Lt],O2=[-1,.2,.25,.3,.35,.4],[B2,Oi]=m(Lt,"EverChanging"),Bi=c("on",Oi,a(e.weapon.refinement,O2)),E2=r(Lt,bi,{premod:{atk_:Bi}}),A2={document:[{value:Oi,path:B2,name:n("afterSprint"),header:o(Lt,n("conditional")),states:{on:{fields:[{node:Bi},{text:l("duration"),value:5,unit:"s"}]}}}]},x2=new s(Lt,A2,bi,E2),M2={ApprenticesNotes:A_,AThousandFloatingDreams:O_,BalladOfTheBoundlessBlue:C_,BlackcliffAgate:W_,CashflowSupervision:z_,CranesEchoingCall:Z_,DodocoTales:sg,EmeraldOrb:mg,EverlastingMoonglow:ug,EyeOfPerception:wg,FavoniusCodex:yg,FlowingPurity:Rg,Frostbearer:Ng,FruitOfFulfillment:qg,HakushinRing:aw,JadefallsSplendor:lw,KagurasVerity:uw,LostPrayerToTheSacredWinds:vw,MagicGuide:Ow,MappaMare:Dw,MemoryOfDust:Hw,OathswornEye:zw,OtherworldlyStory:Xw,PocketGrimoire:ek,PrototypeAmber:ck,QuantumCatalyst:pk,RoyalGrimoire:gk,SacrificialFragments:vk,SacrificialJade:Ek,SkywardAtlas:Tk,SolarPearl:Nk,TheWidsith:zk,ThrillingTalesOfDragonSlayers:e2,TomeOfTheEternalFlow:s2,TulaytullahsRemembrance:f2,TwinNephrite:k2,WanderingEvenstar:b2,WineAndSong:x2},Ye="Akuoumaru",Ei=d.weapon.data[Ye],[,D2]=g("weapon",Ye),[T2,Ai]=m(Ye,"WatatsumiWavewalker"),xi=b(4,36).map(t=>t*10),R2=[-1,.0012,.0015,.0018,.0021,.0024],C2=[-1,.4,.5,.6,.7,.8],Mi=p(Ai,Object.fromEntries(xi.map(t=>[t,oe(i(a(e.weapon.refinement,R2,{unit:"%"}),t),a(e.weapon.refinement,C2,{unit:"%"}))])),u),I2=r(Ye,Ei,{premod:{burst_dmg_:Mi}}),j2={document:[{value:Ai,path:T2,header:o(Ye,n("stacks")),name:D2("party"),states:Object.fromEntries(xi.map(t=>[t,{name:t.toString(),fields:[{node:Mi}]}]))}]},F2=new s(Ye,j2,Ei,I2),B="BeaconOfTheReedSea",Di=d.weapon.data[B],N2=[-1,.2,.25,.3,.35,.4],[W2,Ti]=m(B,"afterSkill"),Ri=c(e.weapon.key,B,c(Ti,"on",a(e.weapon.refinement,N2,{..._.info("atk_")}))),H2=[-1,.2,.25,.3,.35,.4],[K2,Ci]=m(B,"afterDmg"),Ii=c(e.weapon.key,B,c(Ci,"on",a(e.weapon.refinement,H2,{..._.info("atk_")}))),G2=[-1,.32,.4,.48,.56,.64],[L2,ji]=m(B,"noShield"),Fi=c(e.weapon.key,B,c(ji,"on",a(e.weapon.refinement,G2,{..._.info("hp_")}))),q2=r(B,Di,{premod:{atk_:P(Ri,Ii),hp_:Fi}},{}),V2={document:[{header:o(B,n("conditional")),path:W2,value:Ti,name:n("hitOp.skill"),states:{on:{fields:[{node:Ri},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,n("conditional")),path:K2,value:Ci,name:n("takeDmg"),states:{on:{fields:[{node:Ii},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,n("conditional")),path:L2,value:ji,name:n("notProtectedByShield"),states:{on:{fields:[{node:Fi}]}}}]},z2=new s(B,V2,Di,q2),qt="BlackcliffSlasher",Ni=d.weapon.data[qt],[U2,Wi]=m(qt,"PressTheAdvantage"),Hi=h(1,3),J2=[-1,.12,.15,.18,.21,.24],Ki=i(p(Wi,$(Hi,t=>w(t)),0),a(e.weapon.refinement,J2)),Q2=r(qt,Ni,{premod:{atk_:Ki}}),X2={document:[{value:Wi,path:U2,header:o(qt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Hi.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ki},{text:l("duration"),value:30,unit:"s"}]}]))}]},Z2=new s(qt,X2,Ni,Q2),Vt="BloodtaintedGreatsword",Gi=d.weapon.data[Vt],Y2=[-1,.12,.15,.18,.21,.24],[ev,Li]=m(Vt,"BaneOfFireAndThunder"),qi=c("on",Li,a(e.weapon.refinement,Y2)),tv=r(Vt,Gi,{premod:{all_dmg_:qi}}),nv={document:[{value:Li,path:ev,name:n("enemyAffected.pyroOrElectro"),header:o(Vt,n("conditional")),states:{on:{fields:[{node:qi}]}}}]},av=new s(Vt,nv,Gi,tv),Kn="DebateClub",Vi=d.weapon.data[Kn],ov=[-1,.6,.75,.9,1.05,1.2],sv=y(i(a(e.weapon.refinement,ov,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}}),cv=r(Kn,Vi),dv={document:[{header:o(Kn,n("base")),fields:[{node:f(sv,{name:n("dmg")})}]}]},rv=new s(Kn,dv,Vi,cv),Gn="FavoniusGreatsword",zi=d.weapon.data[Gn],iv=r(Gn,zi),mv={document:[{header:o(Gn),fields:[]}]},lv=new s(Gn,mv,zi,iv),et="FerrousShadow",Ui=d.weapon.data[et],[,qo]=g("weapon",et),$v=[-1,.3,.35,.4,.45,.5],[pv,Ji]=m(et,"Unbending"),Qi=c("on",Ji,a(e.weapon.refinement,$v)),hv=r(et,Ui,{premod:{charged_dmg_:Qi}}),uv={document:[{value:Ji,path:pv,name:qo("condName"),header:o(et,n("conditional")),states:{on:{fields:[{node:Qi},{text:qo("resistance")}]}}}]},fv=new s(et,uv,Ui,hv),tt="ForestRegalia",Xi=d.weapon.data[tt],[,_v]=g("weapon",tt),[gv,Zi]=m(tt,"passive"),wv=[-1,60,75,90,105,120],Yi=c(Zi,"on",a(e.weapon.refinement,wv)),kv=c(e.activeCharKey,E.charKey,Yi),vv=r(tt,Xi,{teamBuff:{premod:{eleMas:kv}}}),yv={document:[{value:Zi,path:gv,teamBuff:!0,header:o(tt,n("conditional")),name:_v("condName"),states:{on:{fields:[{node:f(Yi,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Pv=new s(tt,yv,Xi,vv),Ln="KatsuragikiriNagamasa",em=d.weapon.data[Ln],Sv=[-1,.06,.075,.09,.105,.12],tm=a(e.weapon.refinement,Sv),bv=r(Ln,em,{premod:{skill_dmg_:tm}}),Ov={document:[{header:o(Ln,n("base")),fields:[{node:tm}]}]},Bv=new s(Ln,Ov,em,bv),qn="LithicBlade",nm=d.weapon.data[qn],Ev=[-1,.07,.08,.09,.1,.11],Av=[-1,.03,.04,.05,.06,.07],am=i(a(e.weapon.refinement,Ev,{unit:"%"}),x.liyue),om=i(a(e.weapon.refinement,Av,{unit:"%"}),x.liyue),xv=r(qn,nm,{premod:{atk_:am,critRate_:om}}),Mv={document:[{header:o(qn,n("stacks")),fields:[{node:am},{node:om}]}]},Dv=new s(qn,Mv,nm,xv),Ne="LuxuriousSeaLord",sm=d.weapon.data[Ne],Tv=[-1,.12,.15,.18,.21,.24],Rv=[-1,1,1.25,1.5,1.75,2],cm=a(e.weapon.refinement,Tv),dm=c(e.weapon.key,Ne,y(i(a(e.weapon.refinement,Rv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Cv=r(Ne,sm,{premod:{burst_dmg_:cm}},{dmg:dm}),Iv={document:[{header:o(Ne,n("base")),fields:[{node:cm}]},{header:o(Ne,n("conditional")),fields:[{node:f(dm,{name:n("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},jv=new s(Ne,Iv,sm,Cv),nt="MailedFlower",rm=d.weapon.data[nt],[,Fv]=g("weapon",nt),Nv=[-1,.12,.15,.18,.21,.24],Wv=[-1,48,60,72,84,96],[Hv,mo]=m(nt,"passive"),im=c(mo,"on",a(e.weapon.refinement,Nv,{unit:"%"})),mm=c(mo,"on",a(e.weapon.refinement,Wv)),Kv=r(nt,rm,{premod:{atk_:im,eleMas:mm}}),Gv={document:[{value:mo,path:Hv,name:Fv("condName"),header:o(nt,n("conditional")),states:{on:{fields:[{node:im},{node:mm},{text:l("duration"),value:8,unit:"s"}]}}}]},Lv=new s(nt,Gv,rm,Kv),ve="MakhairaAquamarine",lm=d.weapon.data[ve],qv=[-1,.24,.3,.36,.42,.48],En=c(e.weapon.key,ve,i(a(e.weapon.refinement,qv,{unit:"%"}),e.premod.eleMas)),lo=c(e.weapon.key,ve,i(S(.3),En)),Vv=M(e.activeCharKey,e.charKey,lo),zv=r(ve,lm,{total:{atk:En},teamBuff:{total:{atk:Vv}}},{selfAtk:En,teamAtkDisp:lo}),Uv={document:[{header:o(ve,n("base")),fields:[{node:En}]},{header:o(ve,n("teamBuff")),teamBuff:!0,fields:[{node:f(lo,{..._.info("atk"),isTeamBuff:!0})}]}]},Jv=new s(ve,Uv,lm,zv),$o="OldMercsPal",$m=d.weapon.data[$o],Qv=r($o,$m),Xv={document:[]},Zv=new s($o,Xv,$m,Qv),at="PortablePowerSaw",pm=d.weapon.data[at],[,Yv]=g("weapon",at),ey=[-1,40,50,60,70,80],[ty,hm]=m(at,"symbolsConsumed"),um=h(1,3),fm=p(hm,$(um,t=>i(t,a(e.weapon.refinement,ey,{unit:"%"}))),u),ny=r(at,pm,{premod:{eleMas:fm}}),ay={document:[{value:hm,path:ty,teamBuff:!0,header:o(at,n("stacks")),name:Yv("condName"),states:$(um,t=>({name:`${t}`,fields:[{node:fm},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},oy=new s(at,ay,pm,ny),zt="PrototypeArchaic",_m=d.weapon.data[zt],sy=[-1,2.4,3,3.6,4.2,4.8],gm=c(e.weapon.key,zt,y(i(a(e.weapon.refinement,sy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),cy=r(zt,_m,void 0,{dmg:gm}),dy={document:[{header:o(zt,n("base")),fields:[{node:f(gm,{name:n("dmg")})}]}]},ry=new s(zt,dy,_m,cy),Ut="Rainslasher",wm=d.weapon.data[Ut],iy=[-1,.2,.24,.28,.32,.36],[my,km]=m(Ut,"BaneOfStormAndTide"),vm=c("on",km,a(e.weapon.refinement,iy)),ly=r(Ut,wm,{premod:{all_dmg_:vm}}),$y={document:[{value:km,path:my,name:n("enemyAffected.hydroOrElectro"),header:o(Ut,n("conditional")),states:{on:{fields:[{node:vm}]}}}]},py=new s(Ut,$y,wm,ly),ot="RedhornStonethresher",ym=d.weapon.data[ot],hy=[-1,.28,.35,.42,.49,.56],uy=[-1,.4,.5,.6,.7,.8],fy=[-1,.4,.5,.6,.7,.8],Pm=a(e.weapon.refinement,hy),_a=c(e.weapon.key,ot,i(a(e.weapon.refinement,uy,{unit:"%"}),e.premod.def)),ga=c(e.weapon.key,ot,i(a(e.weapon.refinement,fy,{unit:"%"}),e.premod.def)),_y=r(ot,ym,{premod:{def_:Pm,normal_dmgInc:_a,charged_dmgInc:ga}},{normal_dmgInc:_a,charged_dmgInc:ga}),gy={document:[{header:o(ot,n("base")),fields:[{node:Pm},{node:_a},{node:ga}]}]},wy=new s(ot,gy,ym,_y),Jt="RoyalGreatsword",Sm=d.weapon.data[Jt],[ky,bm]=m(Jt,"stack"),vy=[-1,.08,.1,.12,.14,.16],Om=p(bm,$(h(1,5),t=>i(a(e.weapon.refinement,vy,{unit:"%"}),t)),u),yy=r(Jt,Sm,{premod:{critRate_:Om}}),Py={document:[{value:bm,path:ky,name:n("stacks"),header:o(Jt,n("stacks")),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Om}]}]))}]},Sy=new s(Jt,Py,Sm,yy),Vn="SacrificialGreatsword",Bm=d.weapon.data[Vn],by=r(Vn,Bm),Oy={document:[{header:o(Vn),fields:[]}]},By=new s(Vn,Oy,Bm,by),st="SerpentSpine",Em=d.weapon.data[st],[,Ey]=g("weapon",st),Ay=[-1,.06,.07,.08,.09,.1],xy=[-1,3,2.7,2.4,2.2,2],[My,Am]=m(st,"Wavesplitter"),Dy=a(e.weapon.refinement,Ay,{unit:"%"}),xm=p(Am,{...$(h(1,5),t=>i(Dy,t))},u),Ty=r(st,Em,{premod:{all_dmg_:xm}}),Ry={document:[{value:Am,path:My,header:o(st,n("stacks")),name:n("activeCharField"),states:{...$(h(1,5),t=>({name:n("seconds",{count:t*4}),fields:[{node:xm},{text:Ey("takeMoreDmg"),value:k=>xy[k.get(e.weapon.refinement).value]*t,unit:"%"}]}))}}]},Cy=new s(st,Ry,Em,Ty),Qt="SkyriderGreatsword",Mm=d.weapon.data[Qt],[Iy,Dm]=m(Qt,"stack"),jy=[-1,.06,.07,.08,.09,.1],Tm=p(Dm,$(h(1,4),t=>i(a(e.weapon.refinement,jy,{unit:"%"}),t)),u),Fy=r(Qt,Mm,{premod:{atk_:Tm}}),Ny={document:[{value:Dm,path:Iy,name:n("hitOp.normalOrCharged"),header:o(Qt,n("stacks")),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Tm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Wy=new s(Qt,Ny,Mm,Fy),Xt="SkywardPride",Rm=d.weapon.data[Xt],Hy=[-1,.08,.1,.12,.14,.16],Ky=[-1,.8,1,1.2,1.4,1.6],Cm=a(e.weapon.refinement,Hy),Im=c(e.weapon.key,Xt,y(i(a(e.weapon.refinement,Ky,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Gy=r(Xt,Rm,{premod:{all_dmg_:Cm}},{dmg:Im}),Ly={document:[{header:o(Xt,n("base")),fields:[{node:Cm},{node:f(Im,{name:n("dmg")})}]}]},qy=new s(Xt,Ly,Rm,Gy),V="SnowTombedStarsilver",jm=d.weapon.data[V],Vy=[-1,.8,.95,1.1,1.25,1.4],zy=[-1,2,2.4,2.8,3.2,3.6],Fm=c(e.weapon.key,V,y(i(a(e.weapon.refinement,Vy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Nm=c(e.weapon.key,V,y(i(a(e.weapon.refinement,zy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Uy=r(V,jm,void 0,{dmgAoe:Fm,dmgOnCryoOp:Nm}),Jy={document:[{header:o(V,n("base")),fields:[{node:f(Fm,{name:s.trm(V)("aoeDmg")})},{node:f(Nm,{name:s.trm(V)("cryoAffectedDmg")})}]}]},Qy=new s(V,Jy,jm,Uy),ye="SongOfBrokenPines",Wm=d.weapon.data[ye],[,Xy]=g("weapon",ye),Zy=[-1,.16,.2,.24,.28,.32],Yy=[-1,.2,.25,.3,.35,.4],eP=[-1,.12,.15,.18,.21,.24],[tP,po]=m(ye,"RebelsBannerHymn"),Hm=a(e.weapon.refinement,Zy,{unit:"%"}),Km=c("on",po,a(e.weapon.refinement,Yy,_.info("atk_"))),Gm=c("on",po,a(e.weapon.refinement,eP)),nP=r(ye,Wm,{premod:{atk_:Hm},teamBuff:{premod:{atk_:Km,atkSPD_:Gm}}}),aP={document:[{header:o(ye,n("base")),fields:[{node:Hm}]},{value:po,path:tP,teamBuff:!0,header:o(ye,n("conditional")),name:Xy("name"),states:{on:{fields:[{node:Km},{node:Gm},{text:l("duration"),value:12,unit:"s"}]}}}]},oP=new s(ye,aP,Wm,nP),X="TalkingStick",Lm=d.weapon.data[X],[,Vo]=g("weapon",X),sP=[-1,.16,.2,.24,.28,.32],cP=[-1,.12,.15,.18,.21,.24],[dP,qm]=m(X,"affectedPyro"),Vm=c(qm,"on",a(e.weapon.refinement,sP)),[rP,zm]=m(X,"affectedOther"),iP=c(zm,"on",a(e.weapon.refinement,cP)),Um=$(v.map(t=>`${t}_dmg_`),()=>({...iP})),mP=r(X,Lm,{premod:{atk_:Vm,...Um}}),lP={document:[{value:qm,path:dP,header:o(X,n("conditional")),name:Vo("condName.atk_"),states:{on:{fields:[{node:Vm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:zm,path:rP,header:o(X,n("conditional")),name:Vo("condName.dmg_"),states:{on:{fields:[...Object.values(Um).map(t=>({node:t})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},$P=new s(X,lP,Lm,mP),Z="TheBell",Jm=d.weapon.data[Z],pP=[-1,.2,.23,.26,.29,.32],hP=[-1,.12,.15,.18,.21,.24],[uP,Qm]=m(Z,"RebelliousGuardian"),Xm=c(e.weapon.key,Z,c(Qm,"on",Th(i(a(e.weapon.refinement,pP,{unit:"%"}),e.total.hp)))),[fP,Zm]=m(Z,"WithShield"),Ym=c(Zm,"protected",a(e.weapon.refinement,hP,{unit:"%"})),_P=r(Z,Jm,{premod:{all_dmg_:Ym}},{shield:Xm}),gP={document:[{value:Qm,path:uP,header:o(Z,n("conditional")),name:n("takeDmg"),states:{on:{fields:[{node:f(Xm,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:Zm,path:fP,header:o(Z,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{node:Ym}]}}}]},wP=new s(Z,gP,Jm,_P),R="TheUnforged",el=d.weapon.data[R],[,kP]=g("weapon",R),vP=[-1,.2,.25,.3,.35,.4],yP=[-1,.04,.05,.06,.07,.08],[PP,tl]=m(R,"GoldenMajesty"),nl=a(e.weapon.refinement,vP),[SP,al]=m(R,"WithShield"),bP=a(e.weapon.refinement,yP),ol=i(P(1,c(al,"protected",1)),p(tl,Object.fromEntries(b(1,5).map(t=>[t,i(bP,t)])),u)),OP=r(R,el,{premod:{shield_:nl,atk_:ol}}),BP={document:[{header:o(R,n("base")),fields:[{node:nl}]},{value:tl,path:PP,header:o(R,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:ol},{text:l("duration"),value:8,unit:"s"}]}]))},{value:al,path:SP,header:o(R,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:kP("atkEffInc"),value:100,unit:"%"}]}}}]},EP=new s(R,BP,el,OP),Zt="TidalShadow",sl=d.weapon.data[Zt],AP=[-1,.24,.3,.36,.42,.48],[xP,cl]=m(Zt,"afterHeal"),dl=c(cl,"on",a(e.weapon.refinement,AP)),MP=r(Zt,sl,{premod:{atk_:dl}}),DP={document:[{header:o(Zt,n("conditional")),path:xP,value:cl,name:n("afterHeal"),states:{on:{fields:[{node:dl},{text:l("duration"),value:8,unit:"s"}]}}}]},TP=new s(Zt,DP,sl,MP),N="UltimateOverlordsMegaMagicSword",ho=d.weapon.data[N],[,RP]=g("weapon",N),rl=ho.refinementBonus.atk_;if(!rl)throw new Error(`data_gen.refinementBonus.atk_ for ${N} was undefined`);const CP=[-1,.01,.0125,.015,.0175,.02],il=c(e.weapon.key,N,a(e.weapon.refinement,rl),_.info("atk_")),[IP,ml]=m(N,"melusines"),ll=h(1,12),$l=p(ml,$(ll,t=>i(t,a(e.weapon.refinement,CP,{unit:"%"}))),u,_.info("atk_")),jP=r(N,ho,{premod:{atk_:P(il,$l)}}),FP={document:[{header:o(N,n("base")),fields:[{node:il}]},{value:ml,path:IP,header:o(N,n("stacks")),name:RP("condName"),states:$(ll,t=>({name:`${t}`,fields:[{node:$l}]}))}]},NP=new s(N,FP,ho,jP),W="Verdict",uo=d.weapon.data[W],[,WP]=g("weapon",W),pl=uo.refinementBonus.atk_;if(!pl)throw new Error(`data_gen.refinementBonus.atk_ for ${W} was undefined`);const HP=[-1,.18,.225,.27,.315,.36],hl=c(e.weapon.key,W,a(e.weapon.refinement,pl)),[KP,ul]=m(W,"seals"),fl=h(1,2),_l=p(ul,$(fl,t=>i(t,a(e.weapon.refinement,HP,{unit:"%"}))),u),GP=r(W,uo,{premod:{atk_:hl,skill_dmg_:_l}}),LP={document:[{header:o(W,n("base")),fields:[{node:hl}]},{value:ul,path:KP,header:o(W,n("stacks")),name:WP("condName"),states:$(fl,t=>({name:`${t}`,fields:[{node:_l}]}))}]},qP=new s(W,LP,uo,GP),fo="WasterGreatsword",_o=d.weapon.data[fo],VP=r(fo,_o),zP={..._o,document:[]},UP=new s(fo,zP,_o,VP),ct="WhiteIronGreatsword",gl=d.weapon.data[ct],JP=[-1,.08,.1,.12,.14,.16],[QP,wl]=m(ct,"CullTheWeak"),kl=c(e.weapon.key,ct,c(wl,"on",Ke(i(a(e.weapon.refinement,JP,{unit:"%"}),e.total.hp)))),XP=r(ct,gl,void 0,{heal:kl}),ZP={document:[{value:wl,path:QP,name:n("afterDefeatEnemy"),header:o(ct,n("conditional")),states:{on:{fields:[{node:f(kl,{name:l("healing"),variant:"heal"})}]}}}]},YP=new s(ct,ZP,gl,XP),Yt="Whiteblind",vl=d.weapon.data[Yt],[eS,go]=m(Yt,"stack"),yl=[-1,.06,.075,.09,.105,.12],Pl=p(go,$(h(1,4),t=>i(a(e.weapon.refinement,yl,{unit:"%"}),t)),u),Sl=p(go,$(h(1,4),t=>i(a(e.weapon.refinement,yl,{unit:"%"}),t)),u),tS=r(Yt,vl,{premod:{atk_:Pl,def_:Sl}}),nS={document:[{value:go,path:eS,name:n("hitOp.normalOrCharged"),header:o(Yt,n("stacks")),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Pl},{node:Sl},{text:l("duration"),value:6,unit:"s"}]}]))}]},aS=new s(Yt,nS,vl,tS),We="WolfsGravestone",bl=d.weapon.data[We],oS=[-1,.2,.25,.3,.35,.4],sS=[-1,.4,.5,.6,.7,.8],[cS,Ol]=m(We,"WolfishTracker"),Bl=a(e.weapon.refinement,oS),El=c("on",Ol,a(e.weapon.refinement,sS,_.info("atk_"))),dS=r(We,bl,{premod:{atk_:Bl},teamBuff:{premod:{atk_:El}}}),rS={document:[{header:o(We,n("base")),fields:[{node:Bl}]},{value:Ol,path:cS,teamBuff:!0,header:o(We,n("conditional")),name:n("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:El},{text:l("duration"),value:12,unit:"s"}]}}}]},iS=new s(We,rS,bl,dS),mS={Akuoumaru:F2,BeaconOfTheReedSea:z2,BlackcliffSlasher:Z2,BloodtaintedGreatsword:av,DebateClub:rv,FavoniusGreatsword:lv,FerrousShadow:fv,ForestRegalia:Pv,KatsuragikiriNagamasa:Bv,LithicBlade:Dv,LuxuriousSeaLord:jv,MailedFlower:Lv,MakhairaAquamarine:Jv,OldMercsPal:Zv,PortablePowerSaw:oy,PrototypeArchaic:ry,Rainslasher:py,RedhornStonethresher:wy,RoyalGreatsword:Sy,SacrificialGreatsword:By,SerpentSpine:Cy,SkyriderGreatsword:Wy,SkywardPride:qy,SnowTombedStarsilver:Qy,SongOfBrokenPines:oP,TalkingStick:$P,TheBell:wP,TheUnforged:EP,TidalShadow:TP,UltimateOverlordsMegaMagicSword:NP,Verdict:qP,WasterGreatsword:UP,Whiteblind:aS,WhiteIronGreatsword:YP,WolfsGravestone:iS},zn="BalladOfTheFjords",Al=d.weapon.data[zn],lS=[-1,120,150,180,210,240],wa=Jo(x.ele,3,a(e.weapon.refinement,lS)),$S=r(zn,Al,{premod:{eleMas:wa}}),pS={document:[{header:o(zn,n("talents.passive")),canShow:M(wa,0,1),fields:[{node:wa}]}]},hS=new s(zn,pS,Al,$S),wo="BeginnersProtector",ko=d.weapon.data[wo],uS=r(wo,ko),fS={...ko,document:[]},_S=new s(wo,fS,ko,uS),dt="BlackTassel",xl=d.weapon.data[dt],[,gS]=g("weapon",dt),wS=[-1,.4,.5,.6,.7,.8],[kS,Ml]=m(dt,"PressTheAdvantage"),Dl=c("on",Ml,a(e.weapon.refinement,wS)),vS=r(dt,xl,{premod:{all_dmg_:Dl}}),yS={document:[{value:Ml,path:kS,header:o(dt,n("conditional")),name:gS("condName"),states:{on:{fields:[{node:Dl}]}}}]},PS=new s(dt,yS,xl,vS),en="BlackcliffPole",Tl=d.weapon.data[en],[SS,Rl]=m(en,"PressTheAdvantage"),Cl=h(1,3),bS=[-1,.12,.15,.18,.21,.24],Il=i(p(Rl,$(Cl,t=>w(t)),0),a(e.weapon.refinement,bS)),OS=r(en,Tl,{premod:{atk_:Il}}),BS={document:[{value:Rl,path:SS,teamBuff:!0,header:o(en,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Cl.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Il},{text:l("duration"),value:30,unit:"s"}]}]))}]},ES=new s(en,BS,Tl,OS),C="CalamityQueller",jl=d.weapon.data[C],[,ka]=g("weapon",C),[AS,va]=m(C,"stack"),[xS,Fl]=m(C,"offField"),MS=[-1,.12,.15,.18,.21,.24],DS=[-1,.032,.04,.048,.056,.064],Nl=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,MS)])),Wl=i(Da(Fl,"on",w(2,{name:ka("inactive")}),w(1,{name:ka("active")})),p(va,$(h(1,6),t=>w(t,{name:n("stacks")})),0),a(e.weapon.refinement,DS)),TS=r(C,jl,{premod:{...Nl,atk_:Wl}}),RS={document:[{header:o(C,n("base")),fields:Object.values(Nl).map(t=>({node:t}))},{value:va,path:AS,teamBuff:!0,header:o(C,n("stacks")),name:ka("effectName"),states:Object.fromEntries(h(1,6).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Wl}]}]))},{canShow:M(va,void 0,1),value:Fl,path:xS,teamBuff:!0,header:o(C,n("conditional")),name:n("charOffField"),states:{on:{fields:[]}}}]},CS=new s(C,RS,jl,TS),tn="CrescentPike",Hl=d.weapon.data[tn],IS=[-1,.2,.25,.3,.35,.4],Kl=c(e.weapon.key,tn,y(i(e.total.atk,a(e.weapon.refinement,IS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),jS=r(tn,Hl,void 0,{hit:Kl}),FS={document:[{header:o(tn,n("talents.passive")),fields:[{node:f(Kl,{name:n("dmg")})}]}]},NS=new s(tn,FS,Hl,jS),rt="Deathmatch",Gl=d.weapon.data[rt],[,WS]=g("weapon",rt),[HS,vo]=m(rt,"stack"),Ll=[-1,.16,.2,.24,.28,.32],KS=[-1,.24,.3,.36,.42,.48],ya=p(vo,{oneOrNone:a(e.weapon.refinement,KS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Ll,{unit:"%"})},u),Pa=c(vo,"moreThanOne",a(e.weapon.refinement,Ll,{unit:"%"})),GS=r(rt,Gl,{premod:{atk_:ya,def_:Pa}}),LS={document:[{value:vo,path:HS,teamBuff:!0,header:o(rt,n("conditional")),name:WS("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:ya},{node:Pa}]},moreThanOne:{name:"≥2",fields:[{node:ya},{node:Pa}]}}}]},qS=new s(rt,LS,Gl,GS),nn="DragonsBane",ql=d.weapon.data[nn],VS=[-1,.2,.24,.28,.32,.36],[zS,Vl]=m(nn,"BaneOfFlameAndWater"),zl=c("on",Vl,a(e.weapon.refinement,VS)),US=r(nn,ql,{premod:{all_dmg_:zl}}),JS={document:[{value:Vl,path:zS,header:o(nn,n("conditional")),name:n("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:zl}]}}}]},QS=new s(nn,JS,ql,US),z="DragonspineSpear",Ul=d.weapon.data[z],XS=[-1,.8,.95,1.1,1.25,1.4],ZS=[-1,2,2.4,2.8,3.2,3.6],Jl=c(e.weapon.key,z,y(i(a(e.weapon.refinement,XS,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ql=c(e.weapon.key,z,y(i(a(e.weapon.refinement,ZS,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),YS=r(z,Ul,void 0,{dmgAoe:Jl,dmgOnCryoOp:Ql}),e4={document:[{header:o(z,n("base")),fields:[{node:f(Jl,{name:s.trm(z)("aoeDmg")})},{node:f(Ql,{name:s.trm(z)("cryoAffectedDmg")})}]}]},t4=new s(z,e4,Ul,YS),Pe="EngulfingLightning",Xl=d.weapon.data[Pe],n4=[-1,.28,.35,.42,.49,.56],a4=[-1,.8,.9,1,1.1,1.2],Sa=c(e.weapon.key,Pe,oe(i(a(e.weapon.refinement,n4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,a4))),o4=[-1,.3,.35,.4,.45,.5,.55],[s4,Zl]=m(Pe,"TimelessDream"),Yl=c("on",Zl,a(e.weapon.refinement,o4)),c4=r(Pe,Xl,{premod:{atk_:Sa,enerRech_:Yl}},{atk_:Sa}),d4={document:[{header:o(Pe,n("base")),fields:[{node:Sa}]},{teamBuff:!0,value:Zl,path:s4,header:o(Pe,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Yl},{text:l("duration"),value:12,unit:"s"}]}}}]},r4=new s(Pe,d4,Xl,c4),Un="FavoniusLance",e0=d.weapon.data[Un],i4=r(Un,e0),m4={document:[{header:o(Un),fields:[]}]},l4=new s(Un,m4,e0,i4),an="Halberd",t0=d.weapon.data[an],$4=[-1,1.6,2,2.4,2.8,3.2],n0=c(e.weapon.key,an,y(i(a(e.weapon.refinement,$4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),p4=r(an,t0,void 0,{dmg:n0}),h4={document:[{header:o(an,n("base")),fields:[{node:f(n0,{name:n("dmg")})}]}]},u4=new s(an,h4,t0,p4),yo="IronPoint",Po=d.weapon.data[yo],f4=r(yo,Po),_4={...Po,document:[]},g4=new s(yo,_4,Po,f4),Jn="KitainCrossSpear",a0=d.weapon.data[Jn],w4=[-1,.06,.075,.09,.105,.12],o0=a(e.weapon.refinement,w4),k4=r(Jn,a0,{premod:{skill_dmg_:o0}}),v4={document:[{header:o(Jn,n("base")),fields:[{node:o0}]}]},y4=new s(Jn,v4,a0,k4),Qn="LithicSpear",s0=d.weapon.data[Qn],P4=[-1,.07,.08,.09,.1,.11],S4=[-1,.03,.04,.05,.06,.07],c0=i(a(e.weapon.refinement,P4,{unit:"%"}),x.liyue),d0=i(a(e.weapon.refinement,S4,{unit:"%"}),x.liyue),b4=r(Qn,s0,{premod:{atk_:c0,critRate_:d0}}),O4={document:[{header:o(Qn,n("stacks")),fields:[{node:c0},{node:d0}]}]},B4=new s(Qn,O4,s0,b4),on="MissiveWindspear",r0=d.weapon.data[on],[E4,So]=m(on,"passive"),A4=[-1,.12,.15,.18,.21,.24],x4=[-1,48,60,72,84,96],i0=c(So,"on",a(e.weapon.refinement,A4,{unit:"%"})),m0=c(So,"on",a(e.weapon.refinement,x4)),M4=r(on,r0,{premod:{atk_:i0,eleMas:m0}}),D4={document:[{value:So,path:E4,teamBuff:!0,header:o(on,n("conditional")),name:n("afterReaction"),states:{on:{fields:[{node:i0},{node:m0},{text:l("duration"),value:10,unit:"s"}]}}}]},T4=new s(on,D4,r0,M4),it="Moonpiercer",l0=d.weapon.data[it],[,R4]=g("weapon",it),[C4,$0]=m(it,"passive"),I4=[-1,.16,.2,.24,.28,.32],p0=c($0,"on",a(e.weapon.refinement,I4,{unit:"%"})),j4=c(e.activeCharKey,E.charKey,p0),F4=r(it,l0,{teamBuff:{premod:{atk_:j4}}}),N4={document:[{value:$0,path:C4,teamBuff:!0,header:o(it,n("conditional")),name:R4("condName"),states:{on:{fields:[{node:f(p0,_.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},W4=new s(it,N4,l0,F4),sn="PrimordialJadeWingedSpear",h0=d.weapon.data[sn],[H4,bo]=m(sn,"stack"),K4=[-1,.032,.039,.046,.053,.06],G4=[-1,.12,.15,.18,.21,.24],u0=p(bo,$(h(1,7),t=>i(a(e.weapon.refinement,K4,{unit:"%"}),t)),u),f0=c(bo,"7",a(e.weapon.refinement,G4,{unit:"%"})),L4=r(sn,h0,{premod:{atk_:u0,all_dmg_:f0}}),q4={document:[{value:bo,path:H4,teamBuff:!0,header:o(sn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(h(1,7).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:u0},{node:f0}]}]))}]},V4=new s(sn,q4,h0,L4),mt="ProspectorsDrill",_0=d.weapon.data[mt],[,z4]=g("weapon",mt),U4=[-1,.03,.04,.05,.06,.07],J4=[-1,.07,.085,.1,.115,.13],[Q4,Oo]=m(mt,"marksConsumed"),Bo=h(1,3),g0=p(Oo,$(Bo,t=>i(t,a(e.weapon.refinement,U4,{unit:"%"}))),u),X4=p(Oo,$(Bo,t=>i(t,a(e.weapon.refinement,J4,{unit:"%"}))),u),w0=$(v.map(t=>`${t}_dmg_`),()=>({...X4})),Z4=r(mt,_0,{premod:{atk_:g0,...w0}}),Y4={document:[{value:Oo,path:Q4,teamBuff:!0,header:o(mt,n("stacks")),name:z4("condName"),states:$(Bo,t=>({name:`${t}`,fields:[{node:g0},...Object.values(w0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},e5=new s(mt,Y4,_0,Z4),cn="PrototypeStarglitter",k0=d.weapon.data[cn],[t5,Eo]=m(cn,"stack"),v0=[-1,.08,.1,.12,.14,.16],y0=p(Eo,$(h(1,2),t=>i(a(e.weapon.refinement,v0,{unit:"%"}),t)),u),P0=p(Eo,$(h(1,2),t=>i(a(e.weapon.refinement,v0,{unit:"%"}),t)),u),n5=r(cn,k0,{premod:{normal_dmg_:y0,charged_dmg_:P0}}),a5={document:[{value:Eo,path:t5,header:o(cn,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(h(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:y0},{node:P0}]}]))}]},o5=new s(cn,a5,k0,n5),Xn="RightfulReward",S0=d.weapon.data[Xn],s5=r(Xn,S0),c5={document:[{header:o(Xn),fields:[]}]},d5=new s(Xn,c5,S0,s5),dn="RoyalSpear",b0=d.weapon.data[dn],[r5,O0]=m(dn,"stack"),i5=[-1,.08,.1,.12,.14,.16],B0=p(O0,$(h(1,5),t=>i(a(e.weapon.refinement,i5,{unit:"%"}),t)),u),m5=r(dn,b0,{premod:{critRate_:B0}}),l5={document:[{value:O0,path:r5,teamBuff:!0,header:o(dn,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:B0}]}]))}]},$5=new s(dn,l5,b0,m5),rn="SkywardSpine",E0=d.weapon.data[rn],p5=[-1,.08,.1,.12,.14,.16],h5=[-1,.4,.55,.7,.85,1],A0=S(.12),x0=a(e.weapon.refinement,p5),M0=c(e.weapon.key,rn,y(i(a(e.weapon.refinement,h5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),u5=r(rn,E0,{premod:{critRate_:x0,atkSPD_:A0}},{dmg:M0}),f5={document:[{header:o(rn,n("base")),fields:[{node:x0},{node:A0},{node:f(M0,{name:n("dmg")})}]}]},_5=new s(rn,f5,E0,u5),Se="StaffOfHoma",D0=d.weapon.data[Se],g5=[-1,.2,.25,.3,.35,.4],w5=[-1,.008,.01,.012,.014,.016],k5=[-1,.01,.012,.014,.016,.018],T0=a(e.weapon.refinement,g5,{unit:"%"}),[v5,R0]=m(Se,"RecklessCinnabar"),C0=i(a(e.weapon.refinement,w5,{unit:"%"}),e.premod.hp),ba=c(e.weapon.key,Se,c("on",R0,i(a(e.weapon.refinement,k5,{unit:"%"}),e.premod.hp),_.info("atk"))),y5=r(Se,D0,{premod:{hp_:T0},total:{atk:P(C0,ba)}},{atk2_:ba}),P5={document:[{header:o(Se,n("base")),fields:[{node:T0},{node:f(C0,_.info("atk"))}]},{value:R0,path:v5,teamBuff:!0,header:o(Se),name:n("lessPercentHP",{percent:50}),states:{on:{fields:[{node:f(ba,_.info("atk"))}]}}}]},S5=new s(Se,P5,D0,y5),Y="StaffOfTheScarletSands",I0=d.weapon.data[Y],[b5,j0]=m(Y,"stacks"),O5=[-1,.52,.65,.78,.91,1.04],B5=[-1,.28,.35,.42,.49,.56],F0=b(1,3),N0=c(e.weapon.key,Y,i(a(e.weapon.refinement,O5,{unit:"%"}),e.premod.eleMas),_.info("atk")),W0=p(j0,Object.fromEntries(F0.map(t=>[t,i(t,a(e.weapon.refinement,B5,{unit:"%"}),e.premod.eleMas)])),u,_.info("atk")),zo=c(e.weapon.key,Y,P(N0,W0)),E5=r(Y,I0,{total:{atk:zo}},{atk:zo}),A5={document:[{header:o(Y,n("base")),fields:[{node:N0}]},{value:j0,path:b5,header:o(Y,n("stacks")),name:n("hitOp.skill"),states:Object.fromEntries(F0.map(t=>[t,{name:n("hits",{count:t}),fields:[{node:W0},{text:l("duration"),value:10,unit:"s"}]}]))}]},x5=new s(Y,A5,I0,E5),Zn="TheCatch",H0=d.weapon.data[Zn],M5=[-1,.16,.2,.24,.28,.32],D5=[-1,.06,.075,.09,.105,.12],K0=a(e.weapon.refinement,M5),G0=a(e.weapon.refinement,D5),T5=r(Zn,H0,{premod:{burst_dmg_:K0,burst_critRate_:G0}}),R5={document:[{header:o(Zn,n("base")),fields:[{node:K0},{node:G0}]}]},C5=new s(Zn,R5,H0,T5),I="VortexVanquisher",L0=d.weapon.data[I],[,I5]=g("weapon",I),j5=[-1,.2,.25,.3,.35,.4],F5=[-1,.04,.05,.06,.07,.08],[N5,q0]=m(I,"GoldenMajesty"),V0=a(e.weapon.refinement,j5),[W5,z0]=m(I,"WithShield"),H5=a(e.weapon.refinement,F5),U0=i(P(1,c(z0,"protected",1)),p(q0,Object.fromEntries(b(1,5).map(t=>[t,i(H5,t)])),u)),K5=r(I,L0,{premod:{shield_:V0,atk_:U0}}),G5={document:[{header:o(I,n("base")),fields:[{node:V0}]},{value:q0,path:N5,teamBuff:!0,header:o(I,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:U0},{text:l("duration"),value:8,unit:"s"}]}]))},{value:z0,path:W5,header:o(I,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:I5("atkEffInc"),value:100,unit:"%"}]}}}]},L5=new s(I,G5,L0,K5),lt="WavebreakersFin",J0=d.weapon.data[lt],[,q5]=g("weapon",lt),[V5,Q0]=m(lt,"WatatsumiWavewalker"),X0=b(4,36).map(t=>t*10),z5=[-1,.0012,.0015,.0018,.0021,.0024],U5=[-1,.4,.5,.6,.7,.8],Z0=p(Q0,Object.fromEntries(X0.map(t=>[t,oe(i(a(e.weapon.refinement,z5,{unit:"%"}),t),a(e.weapon.refinement,U5,{unit:"%"}))])),u),J5=r(lt,J0,{premod:{burst_dmg_:Z0}}),Q5={document:[{value:Q0,path:V5,header:o(lt),name:q5("party"),states:Object.fromEntries(X0.map(t=>[t,{name:t.toString(),fields:[{node:Z0}]}]))}]},X5=new s(lt,Q5,J0,J5),Yn="WhiteTassel",Y0=d.weapon.data[Yn],Z5=[-1,.24,.3,.36,.42,.48],e$=a(e.weapon.refinement,Z5),Y5=r(Yn,Y0,{premod:{normal_dmg_:e$}}),eb={document:[{header:o(Yn,n("base")),fields:[{node:e$}]}]},tb=new s(Yn,eb,Y0,Y5),nb={BalladOfTheFjords:hS,BeginnersProtector:_S,BlackcliffPole:ES,BlackTassel:PS,CalamityQueller:CS,CrescentPike:NS,Deathmatch:qS,DragonsBane:QS,DragonspineSpear:t4,EngulfingLightning:r4,FavoniusLance:l4,Halberd:u4,IronPoint:g4,KitainCrossSpear:y4,LithicSpear:B4,MissiveWindspear:T4,Moonpiercer:W4,PrimordialJadeWingedSpear:V4,ProspectorsDrill:e5,PrototypeStarglitter:o5,RightfulReward:d5,RoyalSpear:$5,SkywardSpine:_5,StaffOfHoma:S5,StaffOfTheScarletSands:x5,TheCatch:C5,VortexVanquisher:L5,WavebreakersFin:X5,WhiteTassel:tb},ea="AmenomaKageuchi",t$=d.weapon.data[ea],ab=r(ea,t$),ob={document:[{header:o(ea),fields:[]}]},sb=new s(ea,ob,t$,ab),ee="AquilaFavonia",Ao=d.weapon.data[ee],cb=[-1,2,2.3,2.6,2.9,3.2],db=[-1,1,1.15,1.3,1.45,1.6],n$=Ao.refinementBonus.atk_;if(!n$)throw new Error(`data_gen.refinementBonus.atk_ for ${ee} was undefined`);const a$=a(e.weapon.refinement,n$),o$=c(e.weapon.key,ee,i(a(e.weapon.refinement,db,{unit:"%"}),e.premod.atk)),s$=c(e.weapon.key,ee,y(i(a(e.weapon.refinement,cb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),rb=r(ee,Ao,{premod:{atk_:a$}},{heal:o$,dmg:s$}),ib={document:[{header:o(ee,n("base")),fields:[{node:a$}]},{header:o(ee,n("base")),fields:[{node:f(o$,{name:l("healing"),variant:"heal"})},{node:f(s$,{name:n("dmg")})}]}]},mb=new s(ee,ib,Ao,rb),mn="BlackcliffLongsword",c$=d.weapon.data[mn],[lb,d$]=m(mn,"PressTheAdvantage"),r$=h(1,3),$b=[-1,.12,.15,.18,.21,.24],i$=i(p(d$,$(r$,t=>w(t)),0),a(e.weapon.refinement,$b)),pb=r(mn,c$,{premod:{atk_:i$}}),hb={document:[{value:d$,path:lb,header:o(mn,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(r$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:i$},{text:l("duration"),value:30,unit:"s"}]}]))}]},ub=new s(mn,hb,c$,pb),Te="CinnabarSpindle",m$=d.weapon.data[Te],[,fb]=g("weapon",Te),_b=[-1,.4,.5,.6,.7,.8],[gb,l$]=m(Te,"SpotlessHeart"),Oa=c(e.weapon.key,Te,c("on",l$,i(a(e.weapon.refinement,_b,{unit:"%"}),e.premod.def))),wb=r(Te,m$,{premod:{skill_dmgInc:Oa}},{skill_dmgInc:Oa}),kb={document:[{value:l$,path:gb,header:o(Te,n("conditional")),name:fb("name"),states:{on:{fields:[{node:Oa}]}}}]},vb=new s(Te,kb,m$,wb),ln="CoolSteel",$$=d.weapon.data[ln],yb=[-1,.12,.15,.18,.21,.24],[Pb,p$]=m(ln,"BaneOfWaterAndIce"),h$=c("on",p$,a(e.weapon.refinement,yb)),Sb=r(ln,$$,{premod:{all_dmg_:h$}}),bb={document:[{value:p$,path:Pb,name:n("enemyAffected.hydroOrCryo"),header:o(ln,n("conditional")),states:{on:{fields:[{node:h$}]}}}]},Ob=new s(ln,bb,$$,Sb),$n="DarkIronSword",u$=d.weapon.data[$n],Bb=[-1,.2,.25,.3,.35,.5],[Eb,f$]=m($n,"Overloaded"),_$=c("on",f$,a(e.weapon.refinement,Bb,{unit:"%"})),Ab=r($n,u$,{premod:{atk_:_$}}),xb={document:[{value:f$,path:Eb,name:n("elementalReaction.electro"),header:o($n,n("conditional")),states:{on:{fields:[{node:_$},{text:l("duration"),value:12,unit:"s"}]}}}]},Mb=new s($n,xb,u$,Ab),xo="DullBlade",Mo=d.weapon.data[xo],Db=r(xo,Mo),Tb={...Mo,document:[]},Rb=new s(xo,Tb,Mo,Db),ta="FavoniusSword",g$=d.weapon.data[ta],Cb=r(ta,g$),Ib={document:[{header:o(ta),fields:[]}]},jb=new s(ta,Ib,g$,Cb),na="FesteringDesire",w$=d.weapon.data[na],Fb=[-1,.16,.2,.24,.28,.32],Nb=[-1,.06,.075,.09,.105,.12],k$=a(e.weapon.refinement,Fb,{unit:"%"}),v$=a(e.weapon.refinement,Nb,{unit:"%"}),Wb=r(na,w$,{premod:{skill_dmg_:k$,skill_critRate_:v$}}),Hb={document:[{header:o(na,n("base")),fields:[{node:k$},{node:v$}]}]},Kb=new s(na,Hb,w$,Wb),pn="FilletBlade",y$=d.weapon.data[pn],Gb=[-1,2.4,2.8,3.2,3.6,4],Lb=[-1,15,14,13,12,11],P$=c(e.weapon.key,pn,y(i(a(e.weapon.refinement,Gb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),qb=r(pn,y$,void 0,{dmg_:P$}),Vb={document:[{header:o(pn,n("base")),fields:[{node:f(P$,{name:n("dmg")})},{text:l("cd"),value:t=>Lb[t.get(e.weapon.refinement).value],unit:"s"}]}]},zb=new s(pn,Vb,y$,qb),H="FinaleOfTheDeep",S$=d.weapon.data[H],[,Ub]=g("weapon",H),Jb=[-1,.12,.15,.18,.21,.24],Qb=[-1,.024,.03,.036,.042,.048],Xb=[-1,150,187.5,225,262.5,300],[Zb,b$]=m(H,"afterSkill"),O$=c(b$,"on",a(e.weapon.refinement,Jb)),Yb=i(S(.25),e.total.hp),[e3,B$]=m(H,"bond"),Ba=c(e.weapon.key,H,c(B$,"on",oe(i(Yb,a(e.weapon.refinement,Qb,{unit:"%"})),a(e.weapon.refinement,Xb,{unit:"%"})))),t3=r(H,S$,{premod:{atk_:O$,atk:Ba}},{bond_atk:Ba}),n3={document:[{header:o(H,n("conditional")),path:Zb,value:b$,name:n("hitOp.skill"),states:{on:{fields:[{node:O$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(H,n("conditional")),path:e3,value:B$,name:Ub("bondCondName"),states:{on:{fields:[{node:Ba},{text:l("duration"),value:15,unit:"s"}]}}}]},a3=new s(H,n3,S$,t3),He="FleuveCendreFerryman",E$=d.weapon.data[He],o3=[-1,.08,.1,.12,.14,.16],s3=[-1,.16,.2,.24,.28,.32],A$=a(e.weapon.refinement,o3),[c3,x$]=m(He,"afterSkill"),M$=c(x$,"on",a(e.weapon.refinement,s3)),d3=r(He,E$,{premod:{skill_critRate_:A$,enerRech_:M$}}),r3={document:[{header:o(He,n("base")),fields:[{node:A$}]},{header:o(He,n("conditional")),value:x$,path:c3,name:n("afterUse.skill"),states:{on:{fields:[{node:M$},{text:l("duration"),value:5,unit:"s"}]}}}]},i3=new s(He,r3,E$,d3),te="FreedomSworn",Do=d.weapon.data[te],[,m3]=g("weapon",te),[l3,To]=m(te,"MillennialMovement"),$3=[-1,.16,.2,.24,.28,.32],p3=[-1,.2,.25,.3,.35,.4],D$=Do.refinementBonus.dmg_;if(!D$)throw new Error(`data_gen.refinementBonus.dmg_ for ${te} was undefined`);const T$=a(e.weapon.refinement,D$),R$=c("on",To,a(e.weapon.refinement,p3)),aa=c("on",To,a(e.weapon.refinement,$3)),C$={...aa},I$={...aa},h3=r(te,Do,{premod:{all_dmg_:T$},teamBuff:{premod:{atk_:R$,normal_dmg_:aa,charged_dmg_:C$,plunging_dmg_:I$}}}),u3={document:[{header:o(te,n("base")),fields:[{node:T$}]},{value:To,path:l3,teamBuff:!0,header:o(te,n("conditional")),name:m3("sigilsConsumed"),states:{on:{fields:[{node:R$},{node:aa},{node:C$},{node:I$},{text:l("duration"),value:12,unit:"s"}]}}}]},f3=new s(te,u3,Do,h3),be="HaranGeppakuFutsu",j$=d.weapon.data[be],[,_3]=g("weapon",be),g3=[-1,.12,.15,.18,.21,.24],w3=[-1,.2,.25,.3,.35,.4],[k3,F$]=m(be,"HonedFlow"),N$=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,g3,_.info(`${t}_dmg_`))])),W$=p(F$,$(h(1,2),t=>i(t,a(e.weapon.refinement,w3))),u),v3=r(be,j$,{premod:{...N$,normal_dmg_:W$}}),y3={document:[{header:o(be,n("base")),fields:[...v.map(t=>({node:N$[`${t}_dmg_`]}))]},{value:F$,path:k3,name:_3("consumed"),header:o(be,n("conditional")),states:$(h(1,2),t=>({name:n("stack",{count:t}),fields:[{node:W$}]}))}]},P3=new s(be,y3,j$,v3),hn="HarbingerOfDawn",H$=d.weapon.data[hn],[S3,K$]=m(hn,"SkyPiercingMight"),b3=[-1,.14,.175,.21,.245,.28],G$=c("on",K$,a(e.weapon.refinement,b3)),O3=r(hn,H$,{premod:{critRate_:G$}}),B3={document:[{value:K$,path:S3,header:o(hn,n("conditional")),name:n("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:G$}]}}}]},E3=new s(hn,B3,H$,O3),un="IronSting",L$=d.weapon.data[un],[A3,q$]=m(un,"InfusionStinger"),V$=h(1,2),x3=[-1,.06,.075,.09,.105,.12],z$=i(p(q$,$(V$,t=>w(t)),u),a(e.weapon.refinement,x3)),M3=r(un,L$,{premod:{all_dmg_:z$}}),D3={document:[{value:q$,path:A3,header:o(un,n("stacks")),name:n("hitOp.ele"),states:Object.fromEntries(V$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:z$},{text:l("duration"),value:6,unit:"s"}]}]))}]},T3=new s(un,D3,L$,M3),Oe="KagotsurubeIsshin",U$=d.weapon.data[Oe],[R3,J$]=m(Oe,"passive"),Q$=c(J$,"on",S(.15)),X$=c(e.weapon.key,Oe,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),C3=r(Oe,U$,{premod:{atk_:Q$}},{dmg:X$}),I3={document:[{header:o(Oe,n("base")),fields:[{node:f(X$,{name:n("dmg")})}]},{header:o(Oe,n("conditional")),value:J$,path:R3,name:n("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:Q$},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},j3=new s(Oe,I3,U$,C3),A="KeyOfKhajNisut",Z$=d.weapon.data[A],F3=[-1,.0012,.0015,.0018,.0021,.0024],N3=[-1,.002,.0025,.003,.0035,.004],Y$=b(1,3),W3=[-1,.2,.25,.3,.35,.4],ep=c(e.weapon.key,A,a(e.weapon.refinement,W3,{unit:"%"})),[H3,An]=m(A,"afterSkill"),Ea=c(e.weapon.key,A,p(An,Object.fromEntries(Y$.map(t=>[t,i(t,a(e.weapon.refinement,F3,{unit:"%",fixed:2}),e.total.hp)])),u)),Aa=c(e.weapon.key,A,c(An,"3",i(a(e.weapon.refinement,N3,{unit:"%",fixed:2}),e.total.hp))),K3=r(A,Z$,{premod:{hp_:ep},total:{eleMas:Ea},teamBuff:{total:{eleMas:Aa}}},{selfEleMas:Ea,teamEleMas:Aa}),G3={document:[{header:o(A,n("base")),fields:[{node:ep}]},{header:o(A,n("stacks")),teamBuff:!0,path:H3,value:An,name:n("hitOp.skill"),states:Object.fromEntries(Y$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(A,n("teamBuff")),canShow:c(An,"3",1),teamBuff:!0,fields:[{node:Aa},{text:l("duration"),value:20,unit:"s"}]}]},L3=new s(A,G3,Z$,K3),ne="LightOfFoliarIncision",tp=d.weapon.data[ne],q3=[-1,.04,.05,.06,.07,.08],np=c(e.weapon.key,ne,a(e.weapon.refinement,q3)),[V3,ap]=m(ne,"afterNormalEle"),z3=[-1,1.2,1.5,1.8,2.1,2.4],xn=c(e.weapon.key,ne,c(ap,"on",i(a(e.weapon.refinement,z3,{unit:"%"}),e.total.eleMas))),xa={...xn},U3=r(ne,tp,{premod:{normal_dmgInc:xn,skill_dmgInc:xa,critRate_:np}},{normal_dmgInc:xn,skill_dmgInc:xa}),J3={document:[{header:o(ne,n("base")),fields:[{node:np}]},{header:o(ne,n("conditional")),path:V3,value:ap,name:n("hitOp.normalEle"),states:{on:{fields:[{node:xn},{node:xa},{text:n("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},Q3=new s(ne,J3,tp,U3),fn="LionsRoar",op=d.weapon.data[fn],[X3,sp]=m(fn,"BaneOfFireAndThunder"),Z3=[-1,.2,.24,.28,.32,.36],cp=c("on",sp,a(e.weapon.refinement,Z3)),Y3=r(fn,op,{premod:{all_dmg_:cp}}),eO={document:[{value:sp,path:X3,header:o(fn,n("conditional")),name:n("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:cp}]}}}]},tO=new s(fn,eO,op,Y3),Be="MistsplitterReforged",dp=d.weapon.data[Be],[,nO]=g("weapon",Be),rp=["1","2","3"],aO=[-1,.12,.15,.18,.21,.24],oO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[sO,ip]=m(Be,"MistsplittersEmblem"),mp=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,aO,_.info(`${t}_dmg_`))])),lp=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(e.charEle,t,p(ip,$(rp,k=>a(e.weapon.refinement,oO[k])),u,_.info(`${t}_dmg_`)))])),cO=Object.fromEntries(v.map(t=>[`${t}_dmg_`,P(mp[`${t}_dmg_`],lp[`${t}_dmg_`])])),dO=r(Be,dp,{premod:{...cO}}),rO={document:[{header:o(Be,n("base")),fields:v.map(t=>({node:mp[`${t}_dmg_`]}))},{value:ip,path:sO,name:nO("emblem"),teamBuff:!0,header:o(Be,n("stacks")),states:Object.fromEntries(rp.map(t=>[t,{name:n("stack",{count:parseInt(t)}),fields:v.map(k=>({node:lp[`${k}_dmg_`]}))}]))}]},iO=new s(Be,rO,dp,dO),_n="PrimordialJadeCutter",$p=d.weapon.data[_n],mO=[-1,.2,.25,.3,.35,.4],lO=[-1,.012,.015,.018,.021,.024],pp=a(e.weapon.refinement,mO),Ma=c(e.weapon.key,_n,i(a(e.weapon.refinement,lO,{unit:"%"}),e.premod.hp)),$O=r(_n,$p,{premod:{hp_:pp},total:{atk:Ma}},{atk:Ma}),pO={document:[{header:o(_n,n("base")),fields:[{node:pp},{node:Ma}]}]},hO=new s(_n,pO,$p,$O),gn="PrototypeRancour",hp=d.weapon.data[gn],[uO,Ro]=m(gn,"stack"),up=[-1,.04,.05,.06,.07,.08],fp=p(Ro,$(h(1,4),t=>i(a(e.weapon.refinement,up,{unit:"%"}),t)),u),_p=p(Ro,$(h(1,4),t=>i(a(e.weapon.refinement,up,{unit:"%"}),t)),u),fO=r(gn,hp,{premod:{atk_:fp,def_:_p}}),_O={document:[{value:Ro,path:uO,header:o(gn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:fp},{node:_p},{text:l("duration"),value:6,unit:"s"}]}]))}]},gO=new s(gn,_O,hp,fO),wn="RoyalLongsword",gp=d.weapon.data[wn],[wO,wp]=m(wn,"stack"),kO=[-1,.08,.1,.12,.14,.16],kp=p(wp,$(h(1,5),t=>i(a(e.weapon.refinement,kO,{unit:"%"}),t)),u),vO=r(wn,gp,{premod:{critRate_:kp}}),yO={document:[{value:wp,path:wO,header:o(wn,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:kp}]}]))}]},PO=new s(wn,yO,gp,vO),oa="SacrificialSword",vp=d.weapon.data[oa],SO=r(oa,vp),bO={document:[{header:o(oa),fields:[]}]},OO=new s(oa,bO,vp,SO),$t="SapwoodBlade",yp=d.weapon.data[$t],[,BO]=g("weapon",$t),[EO,Pp]=m($t,"passive"),AO=[-1,60,75,90,105,120],Sp=c(Pp,"on",a(e.weapon.refinement,AO)),xO=c(e.activeCharKey,E.charKey,Sp),MO=r($t,yp,{teamBuff:{premod:{eleMas:xO}}}),DO={document:[{value:Pp,path:EO,teamBuff:!0,header:o($t,n("conditional")),name:BO("condName"),states:{on:{fields:[{node:f(Sp,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},TO=new s($t,DO,yp,MO),Co="SilverSword",Io=d.weapon.data[Co],RO=r(Co,Io),CO={...Io,document:[]},IO=new s(Co,CO,Io,RO),kn="SkyriderSword",bp=d.weapon.data[kn],[jO,jo]=m(kn,"Determination"),Op=[-1,.12,.15,.18,.21,.24],Bp=c(jo,"on",a(e.weapon.refinement,Op,{unit:"%"})),Ep=c(jo,"on",a(e.weapon.refinement,Op,{unit:"%"})),FO=r(kn,bp,{premod:{atk_:Bp,moveSPD_:Ep}}),NO={document:[{value:jo,path:jO,header:o(kn,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Bp},{node:Ep},{text:l("duration"),value:15,unit:"s"}]}}}]},WO=new s(kn,NO,bp,FO),ae="SkywardBlade",Fo=d.weapon.data[ae],[HO,sa]=m(ae,"SkyPiercingMight"),KO=[-1,.2,.25,.3,.35,.4],Ap=c("on",sa,S(.1)),xp=c("on",sa,S(.1)),Mp=c(e.weapon.key,ae,c("on",sa,y(i(a(e.weapon.refinement,KO,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),Dp=Fo.refinementBonus.critRate_;if(!Dp)throw new Error(`data_gen.refinementBonus.critRate_ for ${ae} was undefined`);const Tp=a(e.weapon.refinement,Dp),GO=r(ae,Fo,{premod:{critRate_:Tp,moveSPD_:Ap,atkSPD_:xp}},{dmg:Mp}),LO={document:[{header:o(ae,n("base")),fields:[{node:Tp}]},{value:sa,path:HO,header:o(ae,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Ap},{node:xp},{node:f(Mp,{name:n("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},qO=new s(ae,LO,Fo,GO),Ee="SplendorOfTranquilWaters",Rp=d.weapon.data[Ee],VO=[-1,.08,.1,.12,.14,.16],zO=[-1,.14,.175,.21,.245,.28],[UO,Cp]=m(Ee,"selfHpChange"),Ip=h(1,3),jp=p(Cp,$(Ip,t=>i(t,a(e.weapon.refinement,VO,{unit:"%"}))),u),[JO,Fp]=m(Ee,"teamHpChange"),Np=h(1,2),Wp=p(Fp,$(Np,t=>i(t,a(e.weapon.refinement,zO,{unit:"%"}))),u),QO=r(Ee,Rp,{premod:{hp_:Wp,skill_dmg_:jp}}),XO={document:[{value:Cp,path:UO,header:o(Ee,n("stacks")),name:n("hpChange"),states:$(Ip,t=>({name:n("times",{count:t}),fields:[{node:jp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Fp,path:JO,header:o(Ee,n("stacks")),name:n("otherHpChange"),states:$(Np,t=>({name:n("times",{count:t}),fields:[{node:Wp},{text:l("duration"),value:6,unit:"s"}]}))}]},ZO=new s(Ee,XO,Rp,QO),j="SummitShaper",Hp=d.weapon.data[j],[,YO]=g("weapon",j),[e6,Kp]=m(j,"GoldenMajesty"),[t6,Gp]=m(j,"WithShield"),n6=[-1,.2,.25,.3,.35,.4],a6=[-1,.04,.05,.06,.07,.08],Lp=a(e.weapon.refinement,n6),o6=a(e.weapon.refinement,a6),qp=i(P(1,c(Gp,"protected",1)),p(Kp,Object.fromEntries(b(1,5).map(t=>[t,i(o6,t)])),u)),s6=r(j,Hp,{premod:{shield_:Lp,atk_:qp}}),c6={document:[{header:o(j,n("base")),fields:[{node:Lp}]},{value:Kp,path:e6,header:o(j,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:qp},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Gp,path:t6,header:o(j,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:YO("atkEffInc"),value:100,unit:"%"}]}}}]},d6=new s(j,c6,Hp,s6),vn="SwordOfDescension",Vp=d.weapon.data[vn],zp=p(e.charKey,$(Ah,t=>w(66)),u),Up=c(e.weapon.key,vn,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),r6=r(vn,Vp,{premod:{atk:zp}},{dmg_:Up}),i6={document:[{header:o(vn,n("base")),fields:[{node:zp},{node:f(Up,{name:n("dmg")})}]}]},m6=new s(vn,i6,Vp,r6),yn="SwordOfNarzissenkreuz",Jp=d.weapon.data[yn],l6=[-1,1.6,2,2.4,2.8,3.2],Qp=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,l6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),$6=r(yn,Jp,void 0,{dmg:Qp}),p6={document:[{header:o(yn,n("dmg")),fields:[{node:f(Qp,{name:n("dmg")})}]}]},h6=new s(yn,p6,Jp,$6),pt="TheAlleyFlash",Xp=d.weapon.data[pt],[,u6]=g("weapon",pt),[f6,Zp]=m(pt,"ItinerantHero"),_6=[-1,.12,.15,.18,.21,.24],Yp=c(Zp,"on",a(e.weapon.refinement,_6,{unit:"%"})),g6=r(pt,Xp,{premod:{all_dmg_:Yp}}),w6={document:[{value:Zp,path:f6,header:o(pt,n("conditional")),name:u6("condName"),states:{on:{fields:[{node:Yp}]}}}]},k6=new s(pt,w6,Xp,g6),Pn="TheBlackSword",eh=d.weapon.data[Pn],th=[-1,.2,.25,.3,.35,.4],v6=[-1,.6,.7,.8,.9,1],nh=a(e.weapon.refinement,th),ah=a(e.weapon.refinement,th),oh=c(e.weapon.key,Pn,Ke(i(a(e.weapon.refinement,v6,{unit:"%"}),e.total.atk))),y6=r(Pn,eh,{premod:{normal_dmg_:nh,charged_dmg_:ah}},{heal:oh}),P6={document:[{header:o(Pn,n("base")),fields:[{node:nh},{node:ah},{node:f(oh,{name:l("healing"),variant:"heal"})}]}]},S6=new s(Pn,P6,eh,y6),ht="TheDockhandsAssistant",sh=d.weapon.data[ht],[,b6]=g("weapon",ht),O6=[-1,40,50,60,70,80],[B6,ch]=m(ht,"symbolsConsumed"),dh=h(1,3),rh=p(ch,$(dh,t=>i(t,a(e.weapon.refinement,O6,{unit:"%"}))),u),E6=r(ht,sh,{premod:{eleMas:rh}}),A6={document:[{value:ch,path:B6,teamBuff:!0,header:o(ht,n("stacks")),name:b6("condName"),states:$(dh,t=>({name:`${t}`,fields:[{node:rh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},x6=new s(ht,A6,sh,E6),Sn="TheFlute",ih=d.weapon.data[Sn],mh=c(e.weapon.key,Sn,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),M6=r(Sn,ih,void 0,{dmg_:mh}),D6={document:[{header:o(Sn,n("base")),fields:[{node:f(mh,{name:n("dmg")})}]}]},T6=new s(Sn,D6,ih,M6),Re="ToukabouShigure",lh=d.weapon.data[Re],[,R6]=g("weapon",Re),[C6,$h]=m(Re,"passive"),I6=[-1,.16,.2,.24,.28,.32],ph=c(e.weapon.key,Re,c($h,"on",a(e.weapon.refinement,I6,{unit:"%"}))),j6=r(Re,lh,{premod:{all_dmg_:ph}}),F6={document:[{value:$h,path:C6,header:o(Re,n("stacks")),name:R6("condName"),states:{on:{fields:[{node:ph},{text:l("duration"),value:10,unit:"s"}]}}}]},N6=new s(Re,F6,lh,j6),bn="TravelersHandySword",hh=d.weapon.data[bn],W6=[-1,.01,.0125,.015,.0175,.02],uh=c(e.weapon.key,bn,Ke(i(a(e.weapon.refinement,W6,{unit:"%"}),e.total.hp))),H6=r(bn,hh,void 0,{heal:uh}),K6={document:[{header:o(bn,n("base")),fields:[{node:f(uh,{name:l("healing"),variant:"heal"})}]}]},G6=new s(bn,K6,hh,H6),U="WolfFang",fh=d.weapon.data[U],L6=[-1,.16,.2,.24,.28,.32],_h=[-1,.02,.025,.03,.035,.04],Mn=h(1,4),No=a(e.weapon.refinement,L6),gh={...No},[q6,wh]=m(U,"skillStacks"),kh=i(a(e.weapon.refinement,_h),p(wh,$(Mn,t=>w(t)),u)),[V6,vh]=m(U,"burstStacks"),yh=i(a(e.weapon.refinement,_h),p(vh,$(Mn,t=>w(t)),u)),z6=r(U,fh,{premod:{skill_dmg_:No,burst_dmg_:gh,skill_critRate_:kh,burst_critRate_:yh}}),U6={document:[{header:o(U,n("base")),fields:[{node:No},{node:gh}]},{header:o(U,n("conditional")),value:wh,path:q6,name:n("hitOp.skill"),states:$(Mn,t=>({name:n("stack",{count:t}),fields:[{node:kh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(U,n("conditional")),value:vh,path:V6,name:n("hitOp.burst"),states:$(Mn,t=>({name:n("stack",{count:t}),fields:[{node:yh},{text:l("duration"),value:10,unit:"s"}]}))}]},J6=new s(U,U6,fh,z6),Ae="XiphosMoonlight",Ph=d.weapon.data[Ae],Q6=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Dn=c(e.weapon.key,Ae,i(a(e.weapon.refinement,Q6,{unit:"%",fixed:3}),e.premod.eleMas)),Wo=c(e.weapon.key,Ae,i(S(.3),Dn)),X6=M(e.activeCharKey,e.charKey,Wo),Z6=r(Ae,Ph,{total:{enerRech_:Dn},teamBuff:{total:{enerRech_:X6}}},{selfEnerRech_:Dn,teamEnerRech_disp:Wo}),Y6={document:[{header:o(Ae,n("base")),fields:[{node:Dn}]},{header:o(Ae,n("teamBuff")),teamBuff:!0,fields:[{node:f(Wo,{..._.info("enerRech_"),isTeamBuff:!0})}]}]},e8=new s(Ae,Y6,Ph,Z6),t8={AmenomaKageuchi:sb,AquilaFavonia:mb,BlackcliffLongsword:ub,CinnabarSpindle:vb,CoolSteel:Ob,DarkIronSword:Mb,DullBlade:Rb,FavoniusSword:jb,FesteringDesire:Kb,FilletBlade:zb,FinaleOfTheDeep:a3,FleuveCendreFerryman:i3,FreedomSworn:f3,HaranGeppakuFutsu:P3,HarbingerOfDawn:E3,IronSting:T3,KagotsurubeIsshin:j3,KeyOfKhajNisut:L3,LightOfFoliarIncision:Q3,LionsRoar:tO,MistsplitterReforged:iO,PrimordialJadeCutter:hO,PrototypeRancour:gO,RoyalLongsword:PO,SacrificialSword:OO,SapwoodBlade:TO,SilverSword:IO,SkyriderSword:WO,SkywardBlade:qO,SplendorOfTranquilWaters:ZO,SummitShaper:d6,SwordOfDescension:m6,SwordOfNarzissenkreuz:h6,TheAlleyFlash:k6,TheBlackSword:S6,TheDockhandsAssistant:x6,TheFlute:T6,ToukabouShigure:N6,TravelersHandySword:G6,WolfFang:J6,XiphosMoonlight:e8},Sh={...t8,...mS,...nb,...g_,...M2},n8=Object.fromEntries(xh.map(t=>[t,Uo(Object.values(Sh).filter(k=>k.weaponType===t).map(k=>({display:k.data.display})))]));function d8(t){return Sh[t]}export{s as W,d8 as g};
