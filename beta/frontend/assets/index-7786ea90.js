import{cn as Oh,p as K,ar as d,o as $,bJ as h,f as v,bN as b,d0 as Bh,cO as Ah,h as Eh}from"./index-e8efdecc.js";import{x as xh,p as e,$ as g,i as w,R as f,L as _,s as P,a5 as a,y as i,r as zo,Q as Mh,Z as m,a0 as p,V as n,a1 as u,P as c,W as l,a6 as y,k as ne,N as S,a7 as Ke,M as Uo,a2 as ae,J as x,t as Jo,a4 as Ma,a8 as O,a9 as Dh}from"./index-c88c4986.js";import{I as Th,C as Ce}from"./ColoredText-dceade28.js";import{S as Rh}from"./SqBadge-1556283a.js";const Qo=class{constructor(t,k,W,M){this.passiveDescription=ca=>this.hasRefinement?this.tr(`passiveDescription.${ca}`):"",this.rarity=W.rarity,this.weaponType=W.weaponType,this.key=t,this.sheet=k,this.data=M}static trm(t){return g("weapon",t)[1]}static tr(t){return g("weapon",t)[0]}static getAllDataOfType(t){return e8[t]}get tr(){return Qo.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=Qo;s.getWeaponsOfType=(t,k)=>Object.fromEntries(Object.entries(t).filter(([W,M])=>M.weaponType===k));s.getLevelString=t=>Oh(t.level,t.ascension);function o(t,k){const W=s.tr(t);return{title:W("passiveName"),icon:M=>K(Th,{size:2,src:xh(t,M.get(e.weapon.asc).value>=2)}),action:k&&K(Rh,{color:"success",children:k}),description:M=>W(`passiveDescription.${M.get(e.weapon.refinement).value-1}`)}}function r(t,k,W={},M={}){const ca={base:{},premod:{},total:{},weapon:{key:w(t),type:w(k.weaponType)},display:{[`weapon:${t}`]:M}},{mainStat:se,subStat:H}=k,da=[ca];if(se.type!=="atk"&&se.type!=="def"&&se.type!=="hp")throw new Error("Main stat type must be `atk`");const Sh=f(P(i(se.base,a(e.weapon.lvl,d.weapon.expCurve[se.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),_.info(se.type));if(da.push({base:{[se.type]:e.weapon.main},weapon:{main:Sh}}),H){if(H.type==="atk"||H.type==="def"||H.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const bh=f(i(H.base,a(e.weapon.lvl,d.weapon.expCurve[H.curve])),_.info(H.type));da.push({premod:{[H.type]:e.weapon.sub},weapon:{sub:bh}})}return zo([...da,Mh(W,t)])}const Ge="AlleyHunter",Xo=d.weapon.data[Ge],[,Ch]=g("weapon",Ge),Ih=[-1,.02,.025,.03,.035,.04],[jh,Zo]=m(Ge,"OppidanAmbush"),Yo=p(Zo,{...$(h(1,10),t=>i(a(e.weapon.refinement,Ih),t))},u),Fh=r(Ge,Xo,{premod:{all_dmg_:Yo}}),Nh={document:[{value:Zo,path:jh,header:o(Ge,n("conditional")),name:Ch("condName"),states:Object.fromEntries(h(1,10).map(t=>[t,{name:n("seconds",{count:t}),fields:[{node:Yo}]}]))}]},Wh=new s(Ge,Nh,Xo,Fh),de="AmosBow",es=d.weapon.data[de],[,Hh]=g("weapon",de),ts=[-1,.12,.15,.18,.21,.24],Kh=[-1,.08,.1,.12,.14,.16],[Gh,Da]=m(de,"StrongWilled"),ns=a(e.weapon.refinement,ts,_.info("normal_dmg_")),as=a(e.weapon.refinement,ts,_.info("charged_dmg_")),os=a(e.weapon.refinement,Kh),ss=p(Da,{...$(h(1,5),t=>i(os,t))},u,_.info("normal_dmg_")),cs=p(Da,{...$(h(1,5),t=>i(os,t))},u,_.info("charged_dmg_")),Lh=r(de,es,{premod:{normal_dmg_:P(ns,ss),charged_dmg_:P(as,cs)}}),qh={document:[{header:o(de,n("base")),fields:[{node:ns},{node:as}]},{value:Da,path:Gh,header:o(de,n("stacks")),name:Hh("condName"),states:$(h(1,5),t=>({name:n("seconds",{count:t/10}),fields:[{node:ss},{node:cs}]}))}]},Vh=new s(de,qh,es,Lh),re="AquaSimulacra",ds=d.weapon.data[re],[,zh]=g("weapon",re),Uh=[-1,.16,.2,.24,.28,.32],Jh=[-1,.2,.25,.3,.35,.4],[Qh,rs]=m(re,"passive"),is=a(e.weapon.refinement,Uh),ms=c(rs,"on",a(e.weapon.refinement,Jh)),Xh=r(re,ds,{premod:{hp_:is,all_dmg_:ms}}),Zh={document:[{header:o(re,n("base")),fields:[{node:is}]},{value:rs,path:Qh,header:o(re,n("conditional")),name:zh("condName"),states:{on:{fields:[{node:ms}]}}}]},Yh=new s(re,Zh,ds,Xh),ft="BlackcliffWarbow",ls=d.weapon.data[ft],e1=[-1,.12,.15,.18,.21,.24],[t1,$s]=m(ft,"PressTheAdvantage"),ps=p($s,{...$(h(1,3),t=>i(a(e.weapon.refinement,e1),t))},u),n1=r(ft,ls,{premod:{atk_:ps}}),a1={document:[{value:$s,path:t1,header:o(ft,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(h(1,3).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:ps},{text:l("duration"),value:30,unit:"s"}]}]))}]},o1=new s(ft,a1,ls,n1),_t="CompoundBow",hs=d.weapon.data[_t],s1=[-1,.04,.05,.06,.07,.08],c1=[-1,.012,.015,.018,.021,.024],[d1,Ta]=m(_t,"InfusionArrow"),us=p(Ta,{...$(h(1,4),t=>i(a(e.weapon.refinement,s1),t))},u),fs=p(Ta,{...$(h(1,4),t=>i(a(e.weapon.refinement,c1),t))},u),r1=r(_t,hs,{premod:{atk_:us,atkSPD_:fs}}),i1={document:[{value:Ta,path:d1,header:o(_t,n("stacks")),name:n("hitOp.normalOrCharged"),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:us},{node:fs}]}]))}]},m1=new s(_t,i1,hs,r1),ie="ElegyForTheEnd",[,l1]=g("weapon",ie),_s=d.weapon.data[ie],$1=[-1,60,75,90,105,120],p1=[-1,100,125,150,175,200],h1=[-1,.2,.25,.3,.35,.4],[u1,Ra]=m(ie,"ThePartingRefrain"),gs=a(e.weapon.refinement,$1,_.info("eleMas")),ws=c(Ra,"on",a(e.weapon.refinement,p1,_.info("eleMas"))),ks=c(Ra,"on",a(e.weapon.refinement,h1)),f1=r(ie,_s,{premod:{eleMas:gs},teamBuff:{premod:{atk_:ks,eleMas:ws}}}),_1={document:[{header:o(ie,n("base")),fields:[{node:gs}]},{value:Ra,path:u1,teamBuff:!0,header:o(ie,n("conditional")),name:l1("condName"),states:{on:{fields:[{node:ws},{node:ks},{text:l("duration"),value:12,unit:"s"}]}}}]},g1=new s(ie,_1,_s,f1),gt="EndOfTheLine",vs=d.weapon.data[gt],w1=[-1,.8,1,1.2,1.4,1.6],ys=c(e.weapon.key,gt,y(i(a(e.weapon.refinement,w1,{unit:"%"}),e.total.atk),"elemental")),k1=r(gt,vs,void 0,{dmg:ys}),v1={document:[{header:o(gt,n("base")),fields:[{node:f(ys,{name:n("dmg")})}]}]},y1=new s(gt,v1,vs,k1),Le="FadingTwilight",Ps=d.weapon.data[Le],[,Wo]=g("weapon",Le),[P1,Ss]=m(Le,"state"),bs={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Os=p(Ss,bs,u),S1=r(Le,Ps,{premod:{all_dmg_:Os}}),b1={document:[{value:Ss,path:P1,header:o(Le,n("conditional")),name:Wo("condName"),states:Object.fromEntries(Object.keys(bs).map(t=>[t,{name:Wo(`states.${t}`),fields:[{node:Os}]}]))}]},O1=new s(Le,b1,Ps,S1),Tn="FavoniusWarbow",Bs=d.weapon.data[Tn],B1=r(Tn,Bs),A1={document:[{header:o(Tn),fields:[]}]},E1=new s(Tn,A1,Bs,B1),me="Hamayumi",As=d.weapon.data[me],[,x1]=g("weapon",me),Es=[-1,.16,.2,.24,.28,.32],xs=[-1,.12,.15,.18,.21,.24],Ms=a(e.weapon.refinement,Es,_.info("normal_dmg_")),Ds=a(e.weapon.refinement,xs,_.info("charged_dmg_")),[M1,Ca]=m(me,"FullDraw"),Ts=c(Ca,"on",a(e.weapon.refinement,Es,_.info("normal_dmg_"))),Rs=c(Ca,"on",a(e.weapon.refinement,xs,_.info("charged_dmg_"))),D1=r(me,As,{premod:{normal_dmg_:P(Ms,Ts),charged_dmg_:P(Ds,Rs)}}),T1={document:[{header:o(me,n("base")),fields:[{node:Ms},{node:Ds}]},{value:Ca,path:M1,name:x1("condName"),header:o(me,n("conditional")),states:{on:{fields:[{node:Ts},{node:Rs}]}}}]},R1=new s(me,T1,As,D1),Ia="HuntersBow",ja=d.weapon.data[Ia],C1=r(Ia,ja),I1={...ja,document:[]},j1=new s(Ia,I1,ja,C1),Ie="HuntersPath",Cs=d.weapon.data[Ie],F1=[-1,.12,.15,.18,.21,.24],Is=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,F1,{unit:"%"})])),N1=[-1,1.6,2,2.4,2.8,3.2],[W1,js]=m(Ie,"passive"),Fs=c(js,"on",i(a(e.weapon.refinement,N1,{unit:"%"}),e.total.eleMas)),H1=r(Ie,Cs,{premod:{...Is,charged_dmgInc:Fs}}),K1={document:[{header:o(Ie,n("base")),fields:Object.values(Is).map(t=>({node:t}))},{value:js,path:W1,header:o(Ie,n("conditional")),name:n("hitOp.charged"),states:{on:{fields:[{node:Fs},{text:l("duration"),value:10,unit:"s"},{text:n("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},G1=new s(Ie,K1,Cs,H1),wt="IbisPiercer",Ns=d.weapon.data[wt],Ws=h(1,2),L1=[-1,40,50,60,70,80],[q1,Hs]=m(wt,"passiveStacks"),Ks=p(Hs,$(Ws,t=>i(a(e.weapon.refinement,L1),t)),u),V1=r(wt,Ns,{premod:{eleMas:Ks}}),z1={document:[{value:Hs,path:q1,header:o(wt,n("stacks")),name:n("hitOp.charged"),states:Object.fromEntries(Ws.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ks},{text:l("duration"),value:6,unit:"s"}]}]))}]},U1=new s(wt,z1,Ns,V1),le="KingsSquire",Gs=d.weapon.data[le],[J1,Ls]=m(le,"passive"),Q1=[-1,60,80,100,120,140],qs=c(Ls,"on",a(e.weapon.refinement,Q1)),X1=[-1,1,1.2,1.4,1.6,1.8],Vs=c(e.weapon.key,le,y(i(a(e.weapon.refinement,X1,{unit:"%"}),e.total.atk),"elemental")),Z1=r(le,Gs,{premod:{eleMas:qs}},{dmg:Vs}),Y1={document:[{header:o(le,n("base")),fields:[{node:f(Vs,{name:n("dmg")})}]},{value:Ls,path:J1,header:o(le,n("conditional")),name:n("afterUse.skillOrBurst"),states:{on:{fields:[{node:qs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},eu=new s(le,Y1,Gs,Z1),kt="Messenger",zs=d.weapon.data[kt],tu=[-1,1,1.25,1.5,1.75,2],Us=c(e.weapon.key,kt,y(i(a(e.weapon.refinement,tu),e.total.atk),"elemental",{hit:{ele:w("physical")}})),nu=r(kt,zs,void 0,{dmg:Us}),au={document:[{header:o(kt,n("base")),fields:[{node:f(Us,{name:n("dmg")})}]}]},ou=new s(kt,au,zs,nu),$e="MitternachtsWaltz",Js=d.weapon.data[$e],su=[-1,.2,.25,.3,.35,.4],cu=[-1,.2,.25,.3,.35,.4],[du,Qs]=m($e,"EvernightDuetSkill"),[ru,Xs]=m($e,"EvernightDuetNormal"),Zs=c(Qs,"on",a(e.weapon.refinement,su)),Ys=c(Xs,"on",a(e.weapon.refinement,cu)),iu=r($e,Js,{premod:{skill_dmg_:Zs,normal_dmg_:Ys}}),mu={document:[{value:Xs,path:ru,header:o($e,n("conditional")),name:n("hitOp.skill"),states:{on:{fields:[{node:Ys},{text:l("duration"),value:5,unit:"s"}]}}},{value:Qs,path:du,header:o($e,n("conditional")),name:n("hitOp.normal"),states:{on:{fields:[{node:Zs},{text:l("duration"),value:5,unit:"s"}]}}}]},lu=new s($e,mu,Js,iu),qe="MouunsMoon",ec=d.weapon.data[qe],[,$u]=g("weapon",qe),[pu,tc]=m(qe,"WatatsumiWavewalker"),nc=b(4,36).map(t=>t*10),hu=[-1,.0012,.0015,.0018,.0021,.0024],uu=[-1,.4,.5,.6,.7,.8],ac=p(tc,Object.fromEntries(nc.map(t=>[t,ne(i(a(e.weapon.refinement,hu,{unit:"%"}),t),a(e.weapon.refinement,uu,{unit:"%"}))])),u),fu=r(qe,ec,{premod:{burst_dmg_:ac}}),_u={document:[{value:tc,path:pu,header:o(qe,n("conditional")),name:$u("party"),states:Object.fromEntries(nc.map(t=>[t,{name:t.toString(),fields:[{node:ac}]}]))}]},gu=new s(qe,_u,ec,fu),pe="PolarStar",oc=d.weapon.data[pe],[,wu]=g("weapon",pe),sc=[-1,.12,.15,.18,.21,.24],ku=[-1,.1,.125,.15,.175,.2],vu=[-1,.2,.25,.3,.35,.4],yu=[-1,.3,.375,.45,.528,.6],Pu=[-1,.48,.6,.72,.84,.96],[Su,cc]=m(pe,"GoldenMajesty"),dc=a(e.weapon.refinement,sc),rc=a(e.weapon.refinement,sc),ic=p(cc,{1:a(e.weapon.refinement,ku),2:a(e.weapon.refinement,vu),3:a(e.weapon.refinement,yu),4:a(e.weapon.refinement,Pu)},u),bu=r(pe,oc,{premod:{skill_dmg_:dc,burst_dmg_:rc,atk_:ic}}),Ou={document:[{header:o(pe,n("base")),fields:[{node:dc},{node:rc}]},{value:cc,path:Su,header:o(pe,n("stacks")),name:wu("condName"),states:$(h(1,4),t=>({name:n("stack",{count:t}),fields:[{node:ic}]}))}]},Bu=new s(pe,Ou,oc,bu),vt="Predator",mc=d.weapon.data[vt],Au=S(.1),Eu=S(.1),[xu,Fa]=m(vt,"PressTheAdvantage"),lc=p(Fa,{...$(h(1,2),t=>i(Au,t))},u),$c=p(Fa,{...$(h(1,2),t=>i(Eu,t))},u),Mu=c(e.activeCharKey,"Aloy",66),Du=r(vt,mc,{premod:{normal_dmg_:lc,charged_dmg_:$c,atk:Mu}}),Tu={document:[{value:Fa,path:xu,header:o(vt,n("stacks")),name:n("hitOp.cryo"),states:Object.fromEntries(h(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:lc},{node:$c},{text:l("duration"),value:6,unit:"s"}]}]))}]},Ru=new s(vt,Tu,mc,Du),yt="PrototypeCrescent",pc=d.weapon.data[yt],Cu=[-1,.36,.45,.54,.63,.72],[Iu,Na]=m(yt,"Unreturning"),hc=c(Na,"on",a(e.weapon.refinement,Cu)),uc=c(Na,"on",S(.1)),ju=r(yt,pc,{premod:{atk_:hc,moveSPD_:uc}}),Fu={document:[{value:Na,path:Iu,header:o(yt,n("conditional")),name:n("hitOp.weakSpot"),states:{on:{fields:[{node:hc},{node:uc},{text:l("duration"),value:10,unit:"s"}]}}}]},Nu=new s(yt,Fu,pc,ju),Ve="RangeGauge",fc=d.weapon.data[Ve],[,Wu]=g("weapon",Ve),Hu=[-1,.03,.04,.05,.06,.07],Ku=[-1,.07,.085,.1,.115,.13],[Gu,Wa]=m(Ve,"marksConsumed"),Ha=h(1,3),_c=p(Wa,$(Ha,t=>i(t,a(e.weapon.refinement,Hu,{unit:"%"}))),u),Lu=p(Wa,$(Ha,t=>i(t,a(e.weapon.refinement,Ku,{unit:"%"}))),u),gc=$(v.map(t=>`${t}_dmg_`),()=>({...Lu})),qu=r(Ve,fc,{premod:{atk_:_c,...gc}}),Vu={document:[{value:Wa,path:Gu,teamBuff:!0,header:o(Ve,n("stacks")),name:Wu("condName"),states:$(Ha,t=>({name:`${t}`,fields:[{node:_c},...Object.values(gc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},zu=new s(Ve,Vu,fc,qu),Pt="RavenBow",wc=d.weapon.data[Pt],Uu=[-1,.12,.15,.18,.21,.24],[Ju,kc]=m(Pt,"BaneOfFlameAndWater"),vc=c(kc,"on",a(e.weapon.refinement,Uu)),Qu=r(Pt,wc,{premod:{all_dmg_:vc}}),Xu={document:[{value:kc,path:Ju,name:n("enemyAffected.hydroOrPyro"),header:o(Pt,n("conditional")),states:{on:{fields:[{node:vc}]}}}]},Zu=new s(Pt,Xu,wc,Qu),St="RecurveBow",yc=d.weapon.data[St],Yu=[-1,.08,.1,.12,.14,.16],Pc=c(e.weapon.key,St,Ke(i(e.total.hp,a(e.weapon.refinement,Yu)))),ef=r(St,yc,void 0,{healing:Pc}),tf={document:[{header:o(St,n("base")),fields:[{node:f(Pc,{name:l("healing"),variant:"heal"})}]}]},nf=new s(St,tf,yc,ef),bt="RoyalBow",Sc=d.weapon.data[bt],af=[-1,.08,.1,.12,.14,.16],[of,bc]=m(bt,"Focus"),Oc=p(bc,{...$(h(1,5),t=>i(a(e.weapon.refinement,af),t))},u),sf=r(bt,Sc,{premod:{critRate_:Oc}}),cf={document:[{value:bc,path:of,header:o(bt,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Oc}]}]))}]},df=new s(bt,cf,Sc,sf),Rn="Rust",Bc=d.weapon.data[Rn],rf=[-1,.4,.5,.6,.7,.8],Ac=a(e.weapon.refinement,rf),Ec=w(-.1),mf=r(Rn,Bc,{premod:{normal_dmg_:Ac,charged_dmg_:Ec}}),lf={document:[{header:o(Rn,n("base")),fields:[{node:Ac},{node:Ec}]}]},$f=new s(Rn,lf,Bc,mf),Cn="SacrificialBow",xc=d.weapon.data[Cn],pf=r(Cn,xc),hf={document:[{header:o(Cn),fields:[]}]},uf=new s(Cn,hf,xc,pf),he="ScionOfTheBlazingSun",Mc=d.weapon.data[he],[,Ho]=g("weapon",he),ff=[-1,.6,.75,.9,1.05,1.2],_f=[-1,.28,.35,.42,.49,.56],gf=y(i(a(e.weapon.refinement,ff,{unit:"%"}),e.total.atk),"elemental"),[wf,Dc]=m(he,"afterHit"),Tc=c(Dc,"on",a(e.weapon.refinement,_f)),kf=r(he,Mc,{premod:{charged_dmg_:Tc}}),vf={document:[{header:o(he,n("dmg")),fields:[{node:f(gf,{name:Ho("dmg")})}]},{header:o(he,n("conditional")),path:wf,value:Dc,name:Ho("condName"),states:{on:{fields:[{node:Tc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},yf=new s(he,vf,Mc,kf),Ka="SeasonedHuntersBow",Ga=d.weapon.data[Ka],Pf=r(Ka,Ga),Sf={...Ga,document:[]},bf=new s(Ka,Sf,Ga,Pf),In="SharpshootersOath",Rc=d.weapon.data[In],Of=[-1,.24,.3,.36,.42,.48],Cc=a(e.weapon.refinement,Of),Bf=r(In,Rc,{premod:{weakspotDMG_:Cc}}),Af={document:[{header:o(In,n("base")),fields:[{node:Cc}]}]},Ef=new s(In,Af,Rc,Bf),Ot="SkywardHarp",Ic=d.weapon.data[Ot],xf=[-1,.2,.25,.3,.35,.4],Mf=S(1.25),jc=a(e.weapon.refinement,xf),Fc=c(e.weapon.key,Ot,y(i(Mf,e.total.atk),"elemental",{hit:{ele:w("physical")}})),Df=r(Ot,Ic,{premod:{critDMG_:jc}},{dmg:Fc}),Tf={document:[{header:o(Ot,n("base")),fields:[{node:jc},{node:f(Fc,{name:n("dmg")})}]}]},Rf=new s(Ot,Tf,Ic,Df),ze="Slingshot",Nc=d.weapon.data[ze],[,Ko]=g("weapon",ze),Cf=[-1,.36,.42,.48,.54,.6],[If,Wc]=m(ze,"Slingshot"),jf=["less","more"],La=p(Wc,{less:a(e.weapon.refinement,Cf,_.info("normal_dmg_")),more:S(-.1,_.info("normal_dmg_"))},u),Hc={...La},Ff=r(ze,Nc,{premod:{normal_dmg_:La,charged_dmg_:Hc}}),Nf={document:[{value:Wc,path:If,header:o(ze,n("conditional")),name:Ko("condName"),states:$(jf,t=>({name:Ko(t),fields:[{node:La},{node:Hc}]}))}]},Wf=new s(ze,Nf,Nc,Ff),Bt="SongOfStillness",Kc=d.weapon.data[Bt],Hf=[-1,.16,.2,.24,.28,.32],[Kf,Gc]=m(Bt,"afterHeal"),Lc=c(Gc,"on",a(e.weapon.refinement,Hf)),Gf=r(Bt,Kc,{premod:{all_dmg_:Lc}}),Lf={document:[{header:o(Bt,n("conditional")),path:Kf,value:Gc,name:n("afterHeal"),states:{on:{fields:[{node:Lc},{text:l("duration"),value:8,unit:"s"}]}}}]},qf=new s(Bt,Lf,Kc,Gf),ut="TheFirstGreatMagic",qc=d.weapon.data[ut],Vf=[-1,.16,.2,.24,.28,.32],ra=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],ia=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Go=p(e.charEle,x,u),ma=P(...v.map(t=>Uo(x[t],1,ae(t,e.charEle,x[t])))),Vc=a(e.weapon.refinement,Vf),zc=Jo(Go,3,a(e.weapon.refinement,ra[2]),Ma(Go,2,a(e.weapon.refinement,ra[1]),a(e.weapon.refinement,ra[0]))),$a=Jo(ma,3,a(e.weapon.refinement,ia[2]),Ma(ma,2,a(e.weapon.refinement,ia[1]),c(ma,1,a(e.weapon.refinement,ia[0])))),zf=r(ut,qc,{premod:{charged_dmg_:Vc,atk_:zc,moveSPD_:$a}}),Uf={document:[{header:o(ut,n("base")),fields:[{node:Vc}]},{header:o(ut,n("stacks")),fields:[{node:zc},{canShow:t=>t.get($a).value>0,node:$a}]}]},Jf=new s(ut,Uf,qc,zf),jn="TheStringless",Uc=d.weapon.data[jn],Jc=[-1,.24,.3,.36,.42,.48],Qc=a(e.weapon.refinement,Jc),Xc=a(e.weapon.refinement,Jc),Qf=r(jn,Uc,{premod:{skill_dmg_:Qc,burst_dmg_:Xc}}),Xf={document:[{header:o(jn,n("base")),fields:[{node:Qc},{node:Xc}]}]},Zf=new s(jn,Xf,Uc,Qf),At="TheViridescentHunt",Zc=d.weapon.data[At],Yf=[-1,.4,.5,.6,.7,.8],Yc=c(e.weapon.key,At,y(i(a(e.weapon.refinement,Yf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),e_=r(At,Zc,void 0,{dmg:Yc}),t_={document:[{header:o(At,n("base")),fields:[{node:f(Yc,{name:n("dmg")})}]}]},n_=new s(At,t_,Zc,e_),ue="ThunderingPulse",ed=d.weapon.data[ue],[,a_]=g("weapon",ue),o_=[-1,.2,.25,.3,.35,.4],s_=[-1,.12,.15,.18,.21,.24],c_=[-1,.24,.3,.36,.42,.48],d_=[-1,.4,.5,.6,.7,.8],[r_,td]=m(ue,"RuleByThunder"),nd=a(e.weapon.refinement,o_),ad=p(td,{1:a(e.weapon.refinement,s_),2:a(e.weapon.refinement,c_),3:a(e.weapon.refinement,d_)},u),i_=r(ue,ed,{premod:{atk_:nd,normal_dmg_:ad}}),m_={document:[{header:o(ue,n("base")),fields:[{node:nd}]},{value:td,path:r_,header:o(ue,n("stacks")),name:a_("condName"),states:$(h(1,3),t=>({name:n("stack",{count:t}),fields:[{node:ad}]}))}]},l_=new s(ue,m_,ed,i_),Et="WindblumeOde",od=d.weapon.data[Et],$_=[-1,.16,.2,.24,.28,.32],[p_,sd]=m(Et,"WindblumeWish"),cd=c(sd,"on",a(e.weapon.refinement,$_)),h_=r(Et,od,{premod:{atk_:cd}}),u_={document:[{value:sd,path:p_,name:n("afterUse.skill"),header:o(Et,n("conditional")),states:{on:{fields:[{node:cd},{text:l("duration"),value:6,unit:"s"}]}}}]},f_=new s(Et,u_,od,h_),__={AlleyHunter:Wh,AmosBow:Vh,AquaSimulacra:Yh,BlackcliffWarbow:o1,CompoundBow:m1,ElegyForTheEnd:g1,FadingTwilight:O1,FavoniusWarbow:E1,Hamayumi:R1,HuntersBow:j1,HuntersPath:G1,IbisPiercer:U1,KingsSquire:eu,Messenger:ou,MitternachtsWaltz:lu,MouunsMoon:gu,PolarStar:Bu,Predator:Ru,PrototypeCrescent:Nu,RangeGauge:zu,RavenBow:Zu,RecurveBow:nf,RoyalBow:df,Rust:$f,SacrificialBow:uf,ScionOfTheBlazingSun:yf,SeasonedHuntersBow:bf,SharpshootersOath:Ef,SkywardHarp:Rf,Slingshot:Wf,SongOfStillness:qf,TheFirstGreatMagic:Jf,TheStringless:Zf,TheViridescentHunt:n_,ThunderingPulse:l_,EndOfTheLine:y1,WindblumeOde:f_},je="AThousandFloatingDreams",dd=d.weapon.data[je],g_=[-1,32,40,48,56,64],w_=[-1,.1,.14,.18,.22,.26],k_=[-1,40,42,44,46,48],rd=p(e.charEle,Object.fromEntries(v.map(t=>[t,f(P(x[t],-1),{asConst:!0})])),u),v_=P(...v.map(t=>x[t])),id=i(rd,a(e.weapon.refinement,g_)),md=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(e.charEle,t,i(f(P(v_,-1,i(rd,-1)),{asConst:!0}),a(e.weapon.refinement,w_,{unit:"%"})))])),ld=c(e.weapon.key,je,a(e.weapon.refinement,k_),{..._.info("eleMas"),isTeamBuff:!0}),y_=ae(e.charKey,O.charKey,ld),P_=r(je,dd,{premod:{eleMas:id,...md},teamBuff:{premod:{eleMas:y_}}}),S_={document:[{header:o(je,n("base")),fields:[{node:id},...Object.values(md).map(t=>({node:t}))]},{header:o(je,n("teamBuff")),teamBuff:!0,fields:[{node:ld}]}]},b_=new s(je,S_,dd,P_),qa="ApprenticesNotes",Va=d.weapon.data[qa],O_=r(qa,Va),B_={...Va,document:[]},A_=new s(qa,B_,Va,O_),xt="BalladOfTheBoundlessBlue",$d=d.weapon.data[xt],E_=[-1,.08,.1,.12,.14,.16],x_=[-1,.06,.075,.09,.105,.12],[M_,za]=m(xt,"hits"),Ua=h(1,3),pd=p(za,$(Ua,t=>i(t,a(e.weapon.refinement,E_,{unit:"%"}))),u),hd=p(za,$(Ua,t=>i(t,a(e.weapon.refinement,x_,{unit:"%"}))),u),D_=r(xt,$d,{premod:{normal_dmg_:pd,charged_dmg_:hd}}),T_={document:[{value:za,path:M_,teamBuff:!0,header:o(xt,n("stacks")),name:n("hitOp.normalOrCharged"),states:$(Ua,t=>({name:n("hits",{count:t}),fields:[{node:pd},{node:hd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},R_=new s(xt,T_,$d,D_),Mt="BlackcliffAgate",ud=d.weapon.data[Mt],[C_,fd]=m(Mt,"PressTheAdvantage"),_d=h(1,3),I_=[-1,.12,.15,.18,.21,.24],gd=i(p(fd,$(_d,t=>w(t)),0),a(e.weapon.refinement,I_)),j_=r(Mt,ud,{premod:{atk_:gd}}),F_={document:[{value:fd,path:C_,header:o(Mt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(_d.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:gd},{text:l("duration"),value:30,unit:"s"}]}]))}]},N_=new s(Mt,F_,ud,j_),z="CashflowSupervision",Ja=d.weapon.data[z],wd=Ja.refinementBonus.atk_;if(!wd)throw new Error(`data_gen.refinementBonus.atk_ for ${z} was undefined`);const W_=[-1,.16,.2,.24,.28,.32],H_=[-1,.14,.175,.21,.245,.28],K_=[-1,.08,.1,.12,.14,.16],kd=c(e.weapon.key,z,a(e.weapon.refinement,wd)),[G_,Fn]=m(z,"hpChanges"),Qa=h(1,3),vd=p(Fn,$(Qa,t=>i(t,a(e.weapon.refinement,W_,{unit:"%"}))),u),yd=p(Fn,$(Qa,t=>i(t,a(e.weapon.refinement,H_,{unit:"%"}))),u),Pd=c(Fn,"3",a(e.weapon.refinement,K_)),L_=r(z,Ja,{premod:{atk_:kd,normal_dmg_:vd,charged_dmg_:yd,atkSPD_:Pd}}),q_={document:[{header:o(z,n("base")),fields:[{node:kd}]},{value:Fn,path:G_,header:o(z,n("stacks")),name:n("hpChange"),states:$(Qa,t=>({name:n("times",{count:t}),fields:[{node:vd},{node:yd},{node:Pd},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},V_=new s(z,q_,Ja,L_),Dt="CranesEchoingCall",Sd=d.weapon.data[Dt],z_=[-1,.28,.41,.54,.67,.8],[U_,bd]=m(Dt,"passive"),Od=c(bd,"on",a(e.weapon.refinement,z_,{unit:"%"})),J_=r(Dt,Sd,{teamBuff:{premod:{plunging_dmg_:Od}}}),Q_={document:[{value:bd,path:U_,header:o(Dt,n("conditional")),name:n("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Od},{text:l("duration"),value:20,unit:"s"}]}}}]},X_=new s(Dt,Q_,Sd,J_),fe="DodocoTales",Bd=d.weapon.data[fe],Z_=[-1,.16,.2,.24,.28,.32],Y_=[-1,.08,.1,.12,.14,.16],[eg,Ad]=m(fe,"DodoventureNormal"),[tg,Ed]=m(fe,"DodoventureCharged"),xd=c("on",Ad,a(e.weapon.refinement,Z_)),Md=c("on",Ed,a(e.weapon.refinement,Y_)),ng=r(fe,Bd,{premod:{charged_dmg_:xd,atk_:Md}}),ag={document:[{value:Ad,path:eg,name:n("hitOp.normal"),header:o(fe,n("conditional")),states:{on:{fields:[{node:xd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Ed,path:tg,name:n("hitOp.charged"),header:o(fe,n("conditional")),states:{on:{fields:[{node:Md},{text:l("duration"),value:6,unit:"s"}]}}}]},og=new s(fe,ag,Bd,ng),Tt="EmeraldOrb",Dd=d.weapon.data[Tt],sg=[-1,.2,.25,.3,.35,.4],[cg,Td]=m(Tt,"Rapids"),Rd=c("on",Td,a(e.weapon.refinement,sg)),dg=r(Tt,Dd,{premod:{atk_:Rd}}),rg={document:[{value:Td,path:cg,name:n("elementalReaction.hydro"),header:o(Tt,n("conditional")),states:{on:{fields:[{node:Rd},{text:l("duration"),value:12,unit:"s"}]}}}]},ig=new s(Tt,rg,Dd,dg),xe="EverlastingMoonglow",Xa=d.weapon.data[xe],mg=[-1,.01,.015,.02,.025,.03],[,lg]=g("weapon",xe),pa=c(e.weapon.key,xe,i(a(e.weapon.refinement,mg,{unit:"%"}),e.premod.hp)),Cd=Xa.refinementBonus.heal_;if(!Cd)throw new Error(`data_gen.refinementBonus.heal_ for ${xe} was undefined`);const Id=a(e.weapon.refinement,Cd),$g=r(xe,Xa,{premod:{normal_dmgInc:pa,heal_:Id}},{normal_dmgInc:pa}),pg={document:[{header:o(xe,n("base")),fields:[{node:Id},{text:lg("name"),node:pa}]}]},hg=new s(xe,pg,Xa,$g),Rt="EyeOfPerception",jd=d.weapon.data[Rt],ug=[-1,2.4,2.7,3,3.3,3.6],Fd=c(e.weapon.key,Rt,y(i(a(e.weapon.refinement,ug,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),fg=r(Rt,jd,void 0,{dmg_:Fd}),_g={document:[{header:o(Rt,n("base")),fields:[{node:f(Fd,{name:n("dmg")})}]}]},gg=new s(Rt,_g,jd,fg),Nn="FavoniusCodex",Nd=d.weapon.data[Nn],wg=r(Nn,Nd),kg={document:[{header:o(Nn),fields:[]}]},vg=new s(Nn,kg,Nd,wg),I="FlowingPurity",Wd=d.weapon.data[I],[,yg]=g("weapon",I),Pg=[-1,.08,.1,.12,.14,.16],Sg=[-1,.02,.025,.03,.035,.04],bg=[-1,.12,.15,.18,.21,.24],[Og,Hd]=m(I,"afterSkill"),Bg=c(Hd,"on",a(e.weapon.refinement,Pg)),Za=v.map(t=>`${t}_dmg_`),Kd=$(Za,t=>f({...Bg},_.info(t))),Ag=i(S(.24),e.total.hp),[Eg,Gd]=m(I,"bond"),xg=c(e.weapon.key,I,c(Gd,"on",ne(i(a(e.weapon.refinement,Sg,{unit:"%"}),i(Ag,S(1/1e3))),a(e.weapon.refinement,bg,{unit:"%"})))),ha=$(Za,t=>f({...xg},_.info(t))),Mg=r(I,Wd,{premod:{...$(Za,t=>P(Kd[t],ha[t]))}},ha),Dg={document:[{header:o(I,n("conditional")),path:Og,value:Hd,name:n("hitOp.skill"),states:{on:{fields:[...Object.values(Kd).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(I,n("conditional")),path:Eg,value:Gd,name:yg("bondCondName"),states:{on:{fields:[...Object.values(ha).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"}]}}}]},Tg=new s(I,Dg,Wd,Mg),G="Frostbearer",Ld=d.weapon.data[G],Rg=[-1,.8,.95,1.1,1.25,1.4],Cg=[-1,2,2.4,2.8,3.2,3.6],qd=c(e.weapon.key,G,y(i(a(e.weapon.refinement,Rg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Vd=c(e.weapon.key,G,y(i(a(e.weapon.refinement,Cg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ig=r(G,Ld,void 0,{dmgAoe:qd,dmgOnCryoOp:Vd}),jg={document:[{header:o(G,n("base")),fields:[{node:f(qd,{name:s.trm(G)("aoeDmg")})},{node:f(Vd,{name:s.trm(G)("cryoAffectedDmg")})}]}]},Fg=new s(G,jg,Ld,Ig),Ue="FruitOfFulfillment",zd=d.weapon.data[Ue],[,Ng]=g("weapon",Ue),Wg=[-1,24,27,30,33,36],[Hg,Ya]=m(Ue,"stacks"),eo=b(1,5),Ud=p(Ya,Object.fromEntries(eo.map(t=>[t,i(a(e.weapon.refinement,Wg),t)])),u),Jd=p(Ya,Object.fromEntries(eo.map(t=>[t,i(S(-.05),t)])),u),Kg=r(Ue,zd,{premod:{eleMas:Ud,atk_:Jd}}),Gg={document:[{teamBuff:!0,header:o(Ue,n("stacks")),path:Hg,value:Ya,name:Ng("stackName"),states:Object.fromEntries(eo.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ud},{node:Jd}]}]))}]},Lg=new s(Ue,Gg,zd,Kg),Ct="HakushinRing",Qd=d.weapon.data[Ct],qg=[-1,.1,.125,.15,.175,.2],[Vg,oe]=m(Ct,"SakuraSaiguu"),Me=a(e.weapon.refinement,qg),Xd=c("anemo",oe,Me),Zd=c("cryo",oe,Me),Yd=c("geo",oe,Me),er=c("hydro",oe,Me),tr=c("pyro",oe,Me),nr=c("dendro",oe,Me),zg=c("anemo",O.charEle,Xd),Ug=c("cryo",O.charEle,Zd),Jg=c("geo",O.charEle,Yd),Qg=c("hydro",O.charEle,er),Xg=c("pyro",O.charEle,tr),Zg=c("dendro",O.charEle,nr),ce=ae(oe,void 0,Me),Yg=c("electro",O.charEle,ce),ew=r(Ct,Qd,{teamBuff:{premod:{anemo_dmg_:zg,cryo_dmg_:Ug,electro_dmg_:Yg,geo_dmg_:Jg,hydro_dmg_:Qg,pyro_dmg_:Xg,dendro_dmg_:Zg}}}),tw={document:[{value:oe,path:Vg,name:n("elementalReaction.electro"),teamBuff:!0,header:o(Ct,n("conditional")),states:{anemo:{name:K(Ce,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:f(Xd,{..._.info("anemo_dmg_"),isTeamBuff:!0})},{node:f(ce,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:K(Ce,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:f(Zd,{..._.info("cryo_dmg_"),isTeamBuff:!0})},{node:f(ce,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:K(Ce,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:f(Yd,{..._.info("geo_dmg_"),isTeamBuff:!0})},{node:f(ce,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:K(Ce,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:f(tr,{..._.info("pyro_dmg_"),isTeamBuff:!0})},{node:f(ce,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:K(Ce,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:f(er,{..._.info("hydro_dmg_"),isTeamBuff:!0})},{node:f(ce,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:K(Ce,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:f(nr,{..._.info("dendro_dmg_"),isTeamBuff:!0})},{node:f(ce,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},nw=new s(Ct,tw,Qd,ew),De="JadefallsSplendor",ar=d.weapon.data[De],[,aw]=g("weapon",De),[ow,or]=m(De,"condPassive"),sw=[-1,.003,.005,.007,.009,.011],cw=[-1,.12,.2,.28,.36,.44],dw=c(e.weapon.key,De,c(or,"on",ne(a(e.weapon.refinement,cw,{unit:"%"}),i(a(e.weapon.refinement,sw,{unit:"%"}),e.total.hp,1/1e3)))),ua=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(t,e.charEle,dw)])),rw=r(De,ar,{premod:{...ua}},{...ua}),iw={document:[{header:o(De,n("conditional")),path:ow,value:or,name:aw("condName"),states:{on:{fields:[...Object.values(ua).map(t=>({node:t})),{text:l("duration"),value:3,unit:"s"}]}}}]},mw=new s(De,iw,ar,rw),It="KagurasVerity",sr=d.weapon.data[It],[lw,to]=m(It,"KaguraDance"),cr=b(1,3),dr=[-1,.12,.15,.18,.21,.24],rr=cr.map(t=>c(to,t.toString(),a(e.weapon.refinement,dr.map(k=>k*t)),_.info("skill_dmg_"))),ir=Object.fromEntries(v.map(t=>[t,c(to,"3",a(e.weapon.refinement,dr))])),$w=r(It,sr,{premod:{skill_dmg_:P(...rr),...Object.fromEntries(v.map(t=>[`${t}_dmg_`,ir[t]]))}}),pw={document:[{value:to,path:lw,header:o(It,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(cr.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:rr[t-1]},...v.map(k=>({node:ir[k]}))]}]))}]},hw=new s(It,pw,sr,$w),Fe="LostPrayerToTheSacredWinds",mr=d.weapon.data[Fe],uw=[-1,.08,.1,.12,.14,.16],[fw,lr]=m(Fe,"BoundlessBlessing"),$r=S(.1),_w=a(e.weapon.refinement,uw,{unit:"%"}),pr=Object.fromEntries(v.map(t=>[t,p(lr,{...$(h(1,4),k=>i(_w,k))},u)])),gw=r(Fe,mr,{premod:{moveSPD_:$r,...Object.fromEntries(v.map(t=>[`${t}_dmg_`,pr[t]]))}}),ww={document:[{header:o(Fe,n("base")),fields:[{node:$r}]},{value:lr,path:fw,header:o(Fe,n("stacks")),name:n("timeOnField"),states:$(h(1,4),t=>({name:n("seconds",{count:t*4}),fields:v.map(k=>({node:pr[k]}))}))}]},kw=new s(Fe,ww,mr,gw),jt="MagicGuide",hr=d.weapon.data[jt],vw=[-1,.12,.15,.18,.21,.24],[yw,ur]=m(jt,"BaneOfStormAndTide"),fr=c("on",ur,a(e.weapon.refinement,vw)),Pw=r(jt,hr,{premod:{all_dmg_:fr}}),Sw={document:[{value:ur,path:yw,name:n("enemyAffected.hydroOrElectro"),header:o(jt,n("conditional")),states:{on:{fields:[{node:fr}]}}}]},bw=new s(jt,Sw,hr,Pw),Ft="MappaMare",_r=d.weapon.data[Ft],[Ow,gr]=m(Ft,"InfusionScroll"),Bw=[-1,.08,.1,.12,.14,.16],Aw=a(e.weapon.refinement,Bw),wr=Bh(v,t=>[`${t}_dmg_`,p(gr,{...$(h(1,2),k=>i(Aw,k))},u)]),Ew=r(Ft,_r,{premod:wr}),xw={document:[{value:gr,path:Ow,header:o(Ft,n("stacks")),name:n("afterReaction"),states:$(h(1,2),t=>({name:n("stack",{count:t}),fields:[...Object.values(wr).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Mw=new s(Ft,xw,_r,Ew),D="MemoryOfDust",kr=d.weapon.data[D],[,Dw]=g("weapon",D),Tw=[-1,.2,.25,.3,.35,.4],Rw=[-1,.04,.05,.06,.07,.08],[Cw,vr]=m(D,"GoldenMajesty"),yr=a(e.weapon.refinement,Tw),[Iw,Pr]=m(D,"WithShield"),jw=a(e.weapon.refinement,Rw),Sr=i(P(1,c(Pr,"protected",1)),p(vr,Object.fromEntries(b(1,5).map(t=>[t,i(jw,t)])),u)),Fw=r(D,kr,{premod:{shield_:yr,atk_:Sr}}),Nw={document:[{header:o(D,n("base")),fields:[{node:yr}]},{value:vr,path:Cw,header:o(D,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Sr},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Pr,path:Iw,header:o(D,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:Dw("atkEffInc"),value:100,unit:"%"}]}}}]},Ww=new s(D,Nw,kr,Fw),Nt="OathswornEye",br=d.weapon.data[Nt],Hw=[-1,.24,.3,.36,.42,.48],[Kw,Or]=m(Nt,"faLight"),Gw=a(e.weapon.refinement,Hw),Br=c("skillBurst",Or,Gw),Lw=r(Nt,br,{premod:{enerRech_:Br}}),qw={document:[{value:Or,path:Kw,header:o(Nt,n("conditional")),name:n("afterUse.skill"),states:{skillBurst:{fields:[{node:Br}]}}}]},Vw=new s(Nt,qw,br,Lw),Wt="OtherworldlyStory",Ar=d.weapon.data[Wt],zw=[-1,.01,.0125,.015,.0175,.02],Er=c(e.weapon.key,Wt,Ke(i(a(e.weapon.refinement,zw,{unit:"%"}),e.total.hp))),Uw=r(Wt,Ar,void 0,{heal:Er}),Jw={document:[{header:o(Wt,n("base")),fields:[{node:f(Er,{name:l("healing"),variant:"heal"})}]}]},Qw=new s(Wt,Jw,Ar,Uw),no="PocketGrimoire",xr=d.weapon.data[no],Xw=r(no,xr),Zw={document:[]},Yw=new s(no,Zw,xr,Xw),Je="PrototypeAmber",Mr=d.weapon.data[Je],[ek,tk]=m(Je,"Gliding"),nk=[-1,.04,.045,.05,.055,.06],Dr=c(e.weapon.key,Je,Ke(i(a(e.weapon.refinement,nk,{unit:"%"}),e.total.hp))),ak=r(Je,Mr,void 0,{heal:Dr}),ok={document:[{value:tk,path:ek,name:n("afterUse.burst"),header:o(Je,n("conditional")),states:{on:{fields:[{node:f(Dr,{name:l("healing"),variant:"heal"})}]}}}]},sk=new s(Je,ok,Mr,ak),_e="QuantumCatalyst",Tr=d.weapon.data[_e],ck=[-1,.18,.225,.27,.315,.36],dk=[-1,.06,.075,.09,.105,.12],rk=[-1,10,12,14,16,18],Rr=h(1,5),[ik,Cr]=m(_e,"stacks"),Ir=a(e.weapon.refinement,ck),On=c(e.weapon.key,_e,i(a(e.weapon.refinement,dk,{unit:"%"}),e.total.eleMas)),fa={...On},jr=p(Cr,$(Rr,t=>i(a(e.weapon.refinement,rk),t)),u),mk=r(_e,Tr,{premod:{enerRech_:Ir,normal_dmgInc:On,charged_dmgInc:fa,eleMas:jr}},{normal_dmgInc:On,charged_dmgInc:fa}),lk={document:[{header:o(_e,n("base")),fields:[{node:Ir},{node:On},{node:fa}]},{value:Cr,path:ik,teamBuff:!0,header:o(_e,n("stacks")),name:n("elementalReaction.electro"),states:$(Rr,t=>({name:n("stack",{count:t}),fields:[{node:jr},{text:l("duration"),value:12,unit:"s"}]}))}]},$k=new s(_e,lk,Tr,mk),Ht="RoyalGrimoire",Fr=d.weapon.data[Ht],[pk,Nr]=m(Ht,"stack"),hk=[-1,.08,.1,.12,.14,.16],Wr=p(Nr,$(h(1,5),t=>i(a(e.weapon.refinement,hk,{unit:"%"}),t)),u),uk=r(Ht,Fr,{premod:{critRate_:Wr}}),fk={document:[{value:Nr,path:pk,header:o(Ht,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Wr}]}]))}]},_k=new s(Ht,fk,Fr,uk),Wn="SacrificialFragments",Hr=d.weapon.data[Wn],gk=r(Wn,Hr),wk={document:[{header:o(Wn),fields:[]}]},kk=new s(Wn,wk,Hr,gk),Qe="SacrificialJade",Kr=d.weapon.data[Qe],[,vk]=g("weapon",Qe),yk=[-1,.32,.4,.48,.56,.64],Pk=[-1,40,50,60,70,80],[Sk,ao]=m(Qe,"offField"),Gr=c(ao,"on",a(e.weapon.refinement,yk)),Lr=c(ao,"on",a(e.weapon.refinement,Pk)),bk=r(Qe,Kr,{premod:{eleMas:Lr,hp_:Gr}}),Ok={document:[{teamBuff:!0,header:o(Qe,n("conditional")),path:Sk,value:ao,name:vk("condOffField"),states:{on:{fields:[{node:Gr},{node:Lr}]}}}]},Bk=new s(Qe,Ok,Kr,bk),Kt="SkywardAtlas",qr=d.weapon.data[Kt],Ak=[-1,.12,.15,.18,.21,.24],Vr=Object.fromEntries(v.map(t=>[t,a(e.weapon.refinement,Ak)])),Ek=[-1,1.6,2,2.4,2.8,3.2],zr=c(e.weapon.key,Kt,y(i(a(e.weapon.refinement,Ek,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),xk=r(Kt,qr,{premod:{...Object.fromEntries(v.map(t=>[`${t}_dmg_`,Vr[t]]))}},{dmg:zr}),Mk={document:[{header:o(Kt,n("base")),fields:[...v.map(t=>({node:Vr[t]})),{node:f(zr,{name:n("dmg")})}]}]},Dk=new s(Kt,Mk,qr,xk),ge="SolarPearl",Ur=d.weapon.data[ge],Tk=[-1,.2,.25,.3,.35,.4],[Rk,Jr]=m(ge,"solarShineNormal"),[Ck,Qr]=m(ge,"solarShineSkillBurst"),Xr=a(e.weapon.refinement,Tk),oo=c("normal",Jr,Xr),Zr={...oo},Yr=c("skillBurst",Qr,Xr),Ik=r(ge,Ur,{premod:{skill_dmg_:oo,burst_dmg_:Zr,normal_dmg_:Yr}}),jk={document:[{value:Jr,path:Rk,header:o(ge,n("conditional")),name:n("hitOp.normal"),states:{normal:{fields:[{node:oo},{node:Zr}]}}},{value:Qr,path:Ck,header:o(ge,n("conditional")),name:n("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:Yr}]}}}]},Fk=new s(ge,jk,Ur,Ik),Xe="TheWidsith",ei=d.weapon.data[Xe],[Nk,la]=g("weapon",Xe),Wk=[-1,.6,.75,.9,1.05,1.2],Hk=[-1,.48,.6,.72,.84,.96],Kk=[-1,240,300,360,420,480],[Gk,Hn]=m(Xe,"Debut"),ti=c("recitative",Hn,a(e.weapon.refinement,Wk)),ni=Object.fromEntries(v.map(t=>[t,c("aria",Hn,a(e.weapon.refinement,Hk))])),ai=c("interlude",Hn,a(e.weapon.refinement,Kk)),Lk=r(Xe,ei,{premod:{atk_:ti,...Object.fromEntries(v.map(t=>[`${t}_dmg_`,ni[t]])),eleMas:ai}}),qk={document:[{value:Hn,path:Gk,teamBuff:!0,header:o(Xe,n("conditional")),name:Nk("passiveName"),states:{aria:{name:la("aria"),fields:[...v.map(t=>({node:ni[t]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:la("interlude"),fields:[{node:ai},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:la("recitative"),fields:[{node:ti},{text:l("duration"),value:10,unit:"s"}]}}}]},Vk=new s(Xe,qk,ei,Lk),Ze="ThrillingTalesOfDragonSlayers",oi=d.weapon.data[Ze],[,zk]=g("weapon",Ze),Uk=[-1,.24,.3,.36,.42,.48],[Jk,si]=m(Ze,"Heritage"),ci=c("on",si,a(e.weapon.refinement,Uk)),Qk=ae(e.activeCharKey,e.charKey,c(e.activeCharKey,O.charKey,ci)),Xk=r(Ze,oi,{teamBuff:{premod:{atk_:Qk}}}),Zk={document:[{value:si,path:Jk,name:zk("condName"),teamBuff:!0,header:o(Ze,n("conditional")),states:{on:{fields:[{node:f(ci,_.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},Yk=new s(Ze,Zk,oi,Xk),U="TomeOfTheEternalFlow",so=d.weapon.data[U],di=so.refinementBonus.hp_;if(!di)throw new Error(`data_gen.refinementBonus.hp_ for ${U} was undefined`);const e2=[-1,.14,.18,.22,.26,.3],ri=c(e.weapon.key,U,a(e.weapon.refinement,di)),[t2,ii]=m(U,"hpChanges"),mi=h(1,3),li=p(ii,$(mi,t=>i(t,a(e.weapon.refinement,e2,{unit:"%"}))),u),n2=r(U,so,{premod:{hp_:ri,charged_dmg_:li}}),a2={document:[{header:o(U,n("base")),fields:[{node:ri}]},{value:ii,path:t2,header:o(U,n("stacks")),name:n("hpChange"),states:$(mi,t=>({name:n("times",{count:t}),fields:[{node:li},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},o2=new s(U,a2,so,n2),B="TulaytullahsRemembrance",$i=d.weapon.data[B],s2=[-1,.1,.125,.15,.175,.2],c2=[-1,.048,.06,.072,.084,.096],pi=b(1,12),d2=[-1,.096,.12,.144,.168,.192],hi=b(1,5),r2=[-1,.48,.6,.72,.84,.96],ui=c(e.weapon.key,B,a(e.weapon.refinement,s2)),[i2,fi]=m(B,"timePassive"),m2=c(e.weapon.key,B,p(fi,Object.fromEntries(pi.map(t=>[t,i(t,a(e.weapon.refinement,c2,{unit:"%"}))])),u,_.info("normal_dmg_"))),[l2,_i]=m(B,"hitPassive"),$2=c(e.weapon.key,B,p(_i,Object.fromEntries(hi.map(t=>[t,i(t,a(e.weapon.refinement,d2,{unit:"%"}))])),u,_.info("normal_dmg_"))),gi=ne(a(e.weapon.refinement,r2,{unit:"%"}),P(m2,$2)),p2=r(B,$i,{premod:{atkSPD_:ui,normal_dmg_:gi}}),h2={document:[{header:o(B,n("base")),fields:[{node:ui}]},{header:o(B,n("conditional")),fields:[{node:gi}]},{value:fi,path:i2,header:o(B,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(pi.map(t=>[t,{name:n("seconds",{count:t}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:_i,path:l2,header:o(B,n("stacks")),name:n("hitOp.normal"),states:Object.fromEntries(hi.map(t=>[t,{name:n("stack",{count:t}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},u2=new s(B,h2,$i,p2),Gt="TwinNephrite",wi=d.weapon.data[Gt],ki=[-1,.12,.14,.16,.18,.2],[f2,co]=m(Gt,"GuerillaTactics"),vi=c("on",co,a(e.weapon.refinement,ki)),yi=c("on",co,a(e.weapon.refinement,ki)),_2=r(Gt,wi,{premod:{atk_:vi,moveSPD_:yi}}),g2={document:[{value:co,path:f2,name:n("afterDefeatEnemy"),header:o(Gt,n("conditional")),states:{on:{fields:[{node:vi},{node:yi},{text:l("duration"),value:15,unit:"s"}]}}}]},w2=new s(Gt,g2,wi,_2),we="WanderingEvenstar",Pi=d.weapon.data[we],k2=[-1,.24,.3,.36,.42,.48],Bn=c(e.weapon.key,we,i(a(e.weapon.refinement,k2,{unit:"%"}),e.premod.eleMas)),ro=c(e.weapon.key,we,i(S(.3),Bn)),v2=ae(e.activeCharKey,e.charKey,ro),y2=r(we,Pi,{total:{atk:Bn},teamBuff:{total:{atk:v2}}},{selfAtk:Bn,teamAtkDisp:ro}),P2={document:[{header:o(we,n("base")),fields:[{node:Bn}]},{header:o(we,n("teamBuff")),teamBuff:!0,fields:[{node:f(ro,{..._.info("atk"),isTeamBuff:!0})}]}]},S2=new s(we,P2,Pi,y2),Lt="WineAndSong",Si=d.weapon.data[Lt],b2=[-1,.2,.25,.3,.35,.4],[O2,bi]=m(Lt,"EverChanging"),Oi=c("on",bi,a(e.weapon.refinement,b2)),B2=r(Lt,Si,{premod:{atk_:Oi}}),A2={document:[{value:bi,path:O2,name:n("afterSprint"),header:o(Lt,n("conditional")),states:{on:{fields:[{node:Oi},{text:l("duration"),value:5,unit:"s"}]}}}]},E2=new s(Lt,A2,Si,B2),x2={ApprenticesNotes:A_,AThousandFloatingDreams:b_,BalladOfTheBoundlessBlue:R_,BlackcliffAgate:N_,CashflowSupervision:V_,CranesEchoingCall:X_,DodocoTales:og,EmeraldOrb:ig,EverlastingMoonglow:hg,EyeOfPerception:gg,FavoniusCodex:vg,FlowingPurity:Tg,Frostbearer:Fg,FruitOfFulfillment:Lg,HakushinRing:nw,JadefallsSplendor:mw,KagurasVerity:hw,LostPrayerToTheSacredWinds:kw,MagicGuide:bw,MappaMare:Mw,MemoryOfDust:Ww,OathswornEye:Vw,OtherworldlyStory:Qw,PocketGrimoire:Yw,PrototypeAmber:sk,QuantumCatalyst:$k,RoyalGrimoire:_k,SacrificialFragments:kk,SacrificialJade:Bk,SkywardAtlas:Dk,SolarPearl:Fk,TheWidsith:Vk,ThrillingTalesOfDragonSlayers:Yk,TomeOfTheEternalFlow:o2,TulaytullahsRemembrance:u2,TwinNephrite:w2,WanderingEvenstar:S2,WineAndSong:E2},Ye="Akuoumaru",Bi=d.weapon.data[Ye],[,M2]=g("weapon",Ye),[D2,Ai]=m(Ye,"WatatsumiWavewalker"),Ei=b(4,36).map(t=>t*10),T2=[-1,.0012,.0015,.0018,.0021,.0024],R2=[-1,.4,.5,.6,.7,.8],xi=p(Ai,Object.fromEntries(Ei.map(t=>[t,ne(i(a(e.weapon.refinement,T2,{unit:"%"}),t),a(e.weapon.refinement,R2,{unit:"%"}))])),u),C2=r(Ye,Bi,{premod:{burst_dmg_:xi}}),I2={document:[{value:Ai,path:D2,header:o(Ye,n("stacks")),name:M2("party"),states:Object.fromEntries(Ei.map(t=>[t,{name:t.toString(),fields:[{node:xi}]}]))}]},j2=new s(Ye,I2,Bi,C2),A="BeaconOfTheReedSea",Mi=d.weapon.data[A],F2=[-1,.2,.25,.3,.35,.4],[N2,Di]=m(A,"afterSkill"),Ti=c(e.weapon.key,A,c(Di,"on",a(e.weapon.refinement,F2,{..._.info("atk_")}))),W2=[-1,.2,.25,.3,.35,.4],[H2,Ri]=m(A,"afterDmg"),Ci=c(e.weapon.key,A,c(Ri,"on",a(e.weapon.refinement,W2,{..._.info("atk_")}))),K2=[-1,.32,.4,.48,.56,.64],[G2,Ii]=m(A,"noShield"),ji=c(e.weapon.key,A,c(Ii,"on",a(e.weapon.refinement,K2,{..._.info("hp_")}))),L2=r(A,Mi,{premod:{atk_:P(Ti,Ci),hp_:ji}},{}),q2={document:[{header:o(A,n("conditional")),path:N2,value:Di,name:n("hitOp.skill"),states:{on:{fields:[{node:Ti},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,n("conditional")),path:H2,value:Ri,name:n("takeDmg"),states:{on:{fields:[{node:Ci},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,n("conditional")),path:G2,value:Ii,name:n("notProtectedByShield"),states:{on:{fields:[{node:ji}]}}}]},V2=new s(A,q2,Mi,L2),qt="BlackcliffSlasher",Fi=d.weapon.data[qt],[z2,Ni]=m(qt,"PressTheAdvantage"),Wi=h(1,3),U2=[-1,.12,.15,.18,.21,.24],Hi=i(p(Ni,$(Wi,t=>w(t)),0),a(e.weapon.refinement,U2)),J2=r(qt,Fi,{premod:{atk_:Hi}}),Q2={document:[{value:Ni,path:z2,header:o(qt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Wi.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Hi},{text:l("duration"),value:30,unit:"s"}]}]))}]},X2=new s(qt,Q2,Fi,J2),Vt="BloodtaintedGreatsword",Ki=d.weapon.data[Vt],Z2=[-1,.12,.15,.18,.21,.24],[Y2,Gi]=m(Vt,"BaneOfFireAndThunder"),Li=c("on",Gi,a(e.weapon.refinement,Z2)),ev=r(Vt,Ki,{premod:{all_dmg_:Li}}),tv={document:[{value:Gi,path:Y2,name:n("enemyAffected.pyroOrElectro"),header:o(Vt,n("conditional")),states:{on:{fields:[{node:Li}]}}}]},nv=new s(Vt,tv,Ki,ev),Kn="DebateClub",qi=d.weapon.data[Kn],av=[-1,.6,.75,.9,1.05,1.2],ov=y(i(a(e.weapon.refinement,av,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}}),sv=r(Kn,qi),cv={document:[{header:o(Kn,n("base")),fields:[{node:f(ov,{name:n("dmg")})}]}]},dv=new s(Kn,cv,qi,sv),Gn="FavoniusGreatsword",Vi=d.weapon.data[Gn],rv=r(Gn,Vi),iv={document:[{header:o(Gn),fields:[]}]},mv=new s(Gn,iv,Vi,rv),et="FerrousShadow",zi=d.weapon.data[et],[,Lo]=g("weapon",et),lv=[-1,.3,.35,.4,.45,.5],[$v,Ui]=m(et,"Unbending"),Ji=c("on",Ui,a(e.weapon.refinement,lv)),pv=r(et,zi,{premod:{charged_dmg_:Ji}}),hv={document:[{value:Ui,path:$v,name:Lo("condName"),header:o(et,n("conditional")),states:{on:{fields:[{node:Ji},{text:Lo("resistance")}]}}}]},uv=new s(et,hv,zi,pv),tt="ForestRegalia",Qi=d.weapon.data[tt],[,fv]=g("weapon",tt),[_v,Xi]=m(tt,"passive"),gv=[-1,60,75,90,105,120],Zi=c(Xi,"on",a(e.weapon.refinement,gv)),wv=c(e.activeCharKey,O.charKey,Zi),kv=r(tt,Qi,{teamBuff:{premod:{eleMas:wv}}}),vv={document:[{value:Xi,path:_v,teamBuff:!0,header:o(tt,n("conditional")),name:fv("condName"),states:{on:{fields:[{node:f(Zi,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},yv=new s(tt,vv,Qi,kv),Ln="KatsuragikiriNagamasa",Yi=d.weapon.data[Ln],Pv=[-1,.06,.075,.09,.105,.12],em=a(e.weapon.refinement,Pv),Sv=r(Ln,Yi,{premod:{skill_dmg_:em}}),bv={document:[{header:o(Ln,n("base")),fields:[{node:em}]}]},Ov=new s(Ln,bv,Yi,Sv),qn="LithicBlade",tm=d.weapon.data[qn],Bv=[-1,.07,.08,.09,.1,.11],Av=[-1,.03,.04,.05,.06,.07],nm=i(a(e.weapon.refinement,Bv,{unit:"%"}),x.liyue),am=i(a(e.weapon.refinement,Av,{unit:"%"}),x.liyue),Ev=r(qn,tm,{premod:{atk_:nm,critRate_:am}}),xv={document:[{header:o(qn,n("stacks")),fields:[{node:nm},{node:am}]}]},Mv=new s(qn,xv,tm,Ev),Ne="LuxuriousSeaLord",om=d.weapon.data[Ne],Dv=[-1,.12,.15,.18,.21,.24],Tv=[-1,1,1.25,1.5,1.75,2],sm=a(e.weapon.refinement,Dv),cm=c(e.weapon.key,Ne,y(i(a(e.weapon.refinement,Tv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Rv=r(Ne,om,{premod:{burst_dmg_:sm}},{dmg:cm}),Cv={document:[{header:o(Ne,n("base")),fields:[{node:sm}]},{header:o(Ne,n("conditional")),fields:[{node:f(cm,{name:n("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Iv=new s(Ne,Cv,om,Rv),nt="MailedFlower",dm=d.weapon.data[nt],[,jv]=g("weapon",nt),Fv=[-1,.12,.15,.18,.21,.24],Nv=[-1,48,60,72,84,96],[Wv,io]=m(nt,"passive"),rm=c(io,"on",a(e.weapon.refinement,Fv,{unit:"%"})),im=c(io,"on",a(e.weapon.refinement,Nv)),Hv=r(nt,dm,{premod:{atk_:rm,eleMas:im}}),Kv={document:[{value:io,path:Wv,name:jv("condName"),header:o(nt,n("conditional")),states:{on:{fields:[{node:rm},{node:im},{text:l("duration"),value:8,unit:"s"}]}}}]},Gv=new s(nt,Kv,dm,Hv),ke="MakhairaAquamarine",mm=d.weapon.data[ke],Lv=[-1,.24,.3,.36,.42,.48],An=c(e.weapon.key,ke,i(a(e.weapon.refinement,Lv,{unit:"%"}),e.premod.eleMas)),mo=c(e.weapon.key,ke,i(S(.3),An)),qv=ae(e.activeCharKey,e.charKey,mo),Vv=r(ke,mm,{total:{atk:An},teamBuff:{total:{atk:qv}}},{selfAtk:An,teamAtkDisp:mo}),zv={document:[{header:o(ke,n("base")),fields:[{node:An}]},{header:o(ke,n("teamBuff")),teamBuff:!0,fields:[{node:f(mo,{..._.info("atk"),isTeamBuff:!0})}]}]},Uv=new s(ke,zv,mm,Vv),lo="OldMercsPal",lm=d.weapon.data[lo],Jv=r(lo,lm),Qv={document:[]},Xv=new s(lo,Qv,lm,Jv),at="PortablePowerSaw",$m=d.weapon.data[at],[,Zv]=g("weapon",at),Yv=[-1,40,50,60,70,80],[ey,pm]=m(at,"symbolsConsumed"),hm=h(1,3),um=p(pm,$(hm,t=>i(t,a(e.weapon.refinement,Yv,{unit:"%"}))),u),ty=r(at,$m,{premod:{eleMas:um}}),ny={document:[{value:pm,path:ey,teamBuff:!0,header:o(at,n("stacks")),name:Zv("condName"),states:$(hm,t=>({name:`${t}`,fields:[{node:um},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},ay=new s(at,ny,$m,ty),zt="PrototypeArchaic",fm=d.weapon.data[zt],oy=[-1,2.4,3,3.6,4.2,4.8],_m=c(e.weapon.key,zt,y(i(a(e.weapon.refinement,oy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),sy=r(zt,fm,void 0,{dmg:_m}),cy={document:[{header:o(zt,n("base")),fields:[{node:f(_m,{name:n("dmg")})}]}]},dy=new s(zt,cy,fm,sy),Ut="Rainslasher",gm=d.weapon.data[Ut],ry=[-1,.2,.24,.28,.32,.36],[iy,wm]=m(Ut,"BaneOfStormAndTide"),km=c("on",wm,a(e.weapon.refinement,ry)),my=r(Ut,gm,{premod:{all_dmg_:km}}),ly={document:[{value:wm,path:iy,name:n("enemyAffected.hydroOrElectro"),header:o(Ut,n("conditional")),states:{on:{fields:[{node:km}]}}}]},$y=new s(Ut,ly,gm,my),ot="RedhornStonethresher",vm=d.weapon.data[ot],py=[-1,.28,.35,.42,.49,.56],hy=[-1,.4,.5,.6,.7,.8],uy=[-1,.4,.5,.6,.7,.8],ym=a(e.weapon.refinement,py),_a=c(e.weapon.key,ot,i(a(e.weapon.refinement,hy,{unit:"%"}),e.premod.def)),ga=c(e.weapon.key,ot,i(a(e.weapon.refinement,uy,{unit:"%"}),e.premod.def)),fy=r(ot,vm,{premod:{def_:ym,normal_dmgInc:_a,charged_dmgInc:ga}},{normal_dmgInc:_a,charged_dmgInc:ga}),_y={document:[{header:o(ot,n("base")),fields:[{node:ym},{node:_a},{node:ga}]}]},gy=new s(ot,_y,vm,fy),Jt="RoyalGreatsword",Pm=d.weapon.data[Jt],[wy,Sm]=m(Jt,"stack"),ky=[-1,.08,.1,.12,.14,.16],bm=p(Sm,$(h(1,5),t=>i(a(e.weapon.refinement,ky,{unit:"%"}),t)),u),vy=r(Jt,Pm,{premod:{critRate_:bm}}),yy={document:[{value:Sm,path:wy,name:n("stacks"),header:o(Jt,n("stacks")),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:bm}]}]))}]},Py=new s(Jt,yy,Pm,vy),Vn="SacrificialGreatsword",Om=d.weapon.data[Vn],Sy=r(Vn,Om),by={document:[{header:o(Vn),fields:[]}]},Oy=new s(Vn,by,Om,Sy),st="SerpentSpine",Bm=d.weapon.data[st],[,By]=g("weapon",st),Ay=[-1,.06,.07,.08,.09,.1],Ey=[-1,3,2.7,2.4,2.2,2],[xy,Am]=m(st,"Wavesplitter"),My=a(e.weapon.refinement,Ay,{unit:"%"}),Em=p(Am,{...$(h(1,5),t=>i(My,t))},u),Dy=r(st,Bm,{premod:{all_dmg_:Em}}),Ty={document:[{value:Am,path:xy,header:o(st,n("stacks")),name:n("activeCharField"),states:{...$(h(1,5),t=>({name:n("seconds",{count:t*4}),fields:[{node:Em},{text:By("takeMoreDmg"),value:k=>Ey[k.get(e.weapon.refinement).value]*t,unit:"%"}]}))}}]},Ry=new s(st,Ty,Bm,Dy),Qt="SkyriderGreatsword",xm=d.weapon.data[Qt],[Cy,Mm]=m(Qt,"stack"),Iy=[-1,.06,.07,.08,.09,.1],Dm=p(Mm,$(h(1,4),t=>i(a(e.weapon.refinement,Iy,{unit:"%"}),t)),u),jy=r(Qt,xm,{premod:{atk_:Dm}}),Fy={document:[{value:Mm,path:Cy,name:n("hitOp.normalOrCharged"),header:o(Qt,n("stacks")),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Dm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Ny=new s(Qt,Fy,xm,jy),Xt="SkywardPride",Tm=d.weapon.data[Xt],Wy=[-1,.08,.1,.12,.14,.16],Hy=[-1,.8,1,1.2,1.4,1.6],Rm=a(e.weapon.refinement,Wy),Cm=c(e.weapon.key,Xt,y(i(a(e.weapon.refinement,Hy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ky=r(Xt,Tm,{premod:{all_dmg_:Rm}},{dmg:Cm}),Gy={document:[{header:o(Xt,n("base")),fields:[{node:Rm},{node:f(Cm,{name:n("dmg")})}]}]},Ly=new s(Xt,Gy,Tm,Ky),L="SnowTombedStarsilver",Im=d.weapon.data[L],qy=[-1,.8,.95,1.1,1.25,1.4],Vy=[-1,2,2.4,2.8,3.2,3.6],jm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,qy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Fm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,Vy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),zy=r(L,Im,void 0,{dmgAoe:jm,dmgOnCryoOp:Fm}),Uy={document:[{header:o(L,n("base")),fields:[{node:f(jm,{name:s.trm(L)("aoeDmg")})},{node:f(Fm,{name:s.trm(L)("cryoAffectedDmg")})}]}]},Jy=new s(L,Uy,Im,zy),ve="SongOfBrokenPines",Nm=d.weapon.data[ve],[,Qy]=g("weapon",ve),Xy=[-1,.16,.2,.24,.28,.32],Zy=[-1,.2,.25,.3,.35,.4],Yy=[-1,.12,.15,.18,.21,.24],[eP,$o]=m(ve,"RebelsBannerHymn"),Wm=a(e.weapon.refinement,Xy,{unit:"%"}),Hm=c("on",$o,a(e.weapon.refinement,Zy,_.info("atk_"))),Km=c("on",$o,a(e.weapon.refinement,Yy)),tP=r(ve,Nm,{premod:{atk_:Wm},teamBuff:{premod:{atk_:Hm,atkSPD_:Km}}}),nP={document:[{header:o(ve,n("base")),fields:[{node:Wm}]},{value:$o,path:eP,teamBuff:!0,header:o(ve,n("conditional")),name:Qy("name"),states:{on:{fields:[{node:Hm},{node:Km},{text:l("duration"),value:12,unit:"s"}]}}}]},aP=new s(ve,nP,Nm,tP),J="TalkingStick",Gm=d.weapon.data[J],[,qo]=g("weapon",J),oP=[-1,.16,.2,.24,.28,.32],sP=[-1,.12,.15,.18,.21,.24],[cP,Lm]=m(J,"affectedPyro"),qm=c(Lm,"on",a(e.weapon.refinement,oP)),[dP,Vm]=m(J,"affectedOther"),rP=c(Vm,"on",a(e.weapon.refinement,sP)),zm=$(v.map(t=>`${t}_dmg_`),()=>({...rP})),iP=r(J,Gm,{premod:{atk_:qm,...zm}}),mP={document:[{value:Lm,path:cP,header:o(J,n("conditional")),name:qo("condName.atk_"),states:{on:{fields:[{node:qm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Vm,path:dP,header:o(J,n("conditional")),name:qo("condName.dmg_"),states:{on:{fields:[...Object.values(zm).map(t=>({node:t})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},lP=new s(J,mP,Gm,iP),Q="TheBell",Um=d.weapon.data[Q],$P=[-1,.2,.23,.26,.29,.32],pP=[-1,.12,.15,.18,.21,.24],[hP,Jm]=m(Q,"RebelliousGuardian"),Qm=c(e.weapon.key,Q,c(Jm,"on",Dh(i(a(e.weapon.refinement,$P,{unit:"%"}),e.total.hp)))),[uP,Xm]=m(Q,"WithShield"),Zm=c(Xm,"protected",a(e.weapon.refinement,pP,{unit:"%"})),fP=r(Q,Um,{premod:{all_dmg_:Zm}},{shield:Qm}),_P={document:[{value:Jm,path:hP,header:o(Q,n("conditional")),name:n("takeDmg"),states:{on:{fields:[{node:f(Qm,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:Xm,path:uP,header:o(Q,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{node:Zm}]}}}]},gP=new s(Q,_P,Um,fP),T="TheUnforged",Ym=d.weapon.data[T],[,wP]=g("weapon",T),kP=[-1,.2,.25,.3,.35,.4],vP=[-1,.04,.05,.06,.07,.08],[yP,el]=m(T,"GoldenMajesty"),tl=a(e.weapon.refinement,kP),[PP,nl]=m(T,"WithShield"),SP=a(e.weapon.refinement,vP),al=i(P(1,c(nl,"protected",1)),p(el,Object.fromEntries(b(1,5).map(t=>[t,i(SP,t)])),u)),bP=r(T,Ym,{premod:{shield_:tl,atk_:al}}),OP={document:[{header:o(T,n("base")),fields:[{node:tl}]},{value:el,path:yP,header:o(T,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:al},{text:l("duration"),value:8,unit:"s"}]}]))},{value:nl,path:PP,header:o(T,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:wP("atkEffInc"),value:100,unit:"%"}]}}}]},BP=new s(T,OP,Ym,bP),Zt="TidalShadow",ol=d.weapon.data[Zt],AP=[-1,.24,.3,.36,.42,.48],[EP,sl]=m(Zt,"afterHeal"),cl=c(sl,"on",a(e.weapon.refinement,AP)),xP=r(Zt,ol,{premod:{atk_:cl}}),MP={document:[{header:o(Zt,n("conditional")),path:EP,value:sl,name:n("afterHeal"),states:{on:{fields:[{node:cl},{text:l("duration"),value:8,unit:"s"}]}}}]},DP=new s(Zt,MP,ol,xP),j="UltimateOverlordsMegaMagicSword",po=d.weapon.data[j],[,TP]=g("weapon",j),dl=po.refinementBonus.atk_;if(!dl)throw new Error(`data_gen.refinementBonus.atk_ for ${j} was undefined`);const RP=[-1,.01,.0125,.015,.0175,.02],rl=c(e.weapon.key,j,a(e.weapon.refinement,dl),_.info("atk_")),[CP,il]=m(j,"melusines"),ml=h(1,12),ll=p(il,$(ml,t=>i(t,a(e.weapon.refinement,RP,{unit:"%"}))),u,_.info("atk_")),IP=r(j,po,{premod:{atk_:P(rl,ll)}}),jP={document:[{header:o(j,n("base")),fields:[{node:rl}]},{value:il,path:CP,header:o(j,n("stacks")),name:TP("condName"),states:$(ml,t=>({name:`${t}`,fields:[{node:ll}]}))}]},FP=new s(j,jP,po,IP),F="Verdict",ho=d.weapon.data[F],[,NP]=g("weapon",F),$l=ho.refinementBonus.atk_;if(!$l)throw new Error(`data_gen.refinementBonus.atk_ for ${F} was undefined`);const WP=[-1,.18,.225,.27,.315,.36],pl=c(e.weapon.key,F,a(e.weapon.refinement,$l)),[HP,hl]=m(F,"seals"),ul=h(1,2),fl=p(hl,$(ul,t=>i(t,a(e.weapon.refinement,WP,{unit:"%"}))),u),KP=r(F,ho,{premod:{atk_:pl,skill_dmg_:fl}}),GP={document:[{header:o(F,n("base")),fields:[{node:pl}]},{value:hl,path:HP,header:o(F,n("stacks")),name:NP("condName"),states:$(ul,t=>({name:`${t}`,fields:[{node:fl}]}))}]},LP=new s(F,GP,ho,KP),uo="WasterGreatsword",fo=d.weapon.data[uo],qP=r(uo,fo),VP={...fo,document:[]},zP=new s(uo,VP,fo,qP),ct="WhiteIronGreatsword",_l=d.weapon.data[ct],UP=[-1,.08,.1,.12,.14,.16],[JP,gl]=m(ct,"CullTheWeak"),wl=c(e.weapon.key,ct,c(gl,"on",Ke(i(a(e.weapon.refinement,UP,{unit:"%"}),e.total.hp)))),QP=r(ct,_l,void 0,{heal:wl}),XP={document:[{value:gl,path:JP,name:n("afterDefeatEnemy"),header:o(ct,n("conditional")),states:{on:{fields:[{node:f(wl,{name:l("healing"),variant:"heal"})}]}}}]},ZP=new s(ct,XP,_l,QP),Yt="Whiteblind",kl=d.weapon.data[Yt],[YP,_o]=m(Yt,"stack"),vl=[-1,.06,.075,.09,.105,.12],yl=p(_o,$(h(1,4),t=>i(a(e.weapon.refinement,vl,{unit:"%"}),t)),u),Pl=p(_o,$(h(1,4),t=>i(a(e.weapon.refinement,vl,{unit:"%"}),t)),u),eS=r(Yt,kl,{premod:{atk_:yl,def_:Pl}}),tS={document:[{value:_o,path:YP,name:n("hitOp.normalOrCharged"),header:o(Yt,n("stacks")),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:yl},{node:Pl},{text:l("duration"),value:6,unit:"s"}]}]))}]},nS=new s(Yt,tS,kl,eS),We="WolfsGravestone",Sl=d.weapon.data[We],aS=[-1,.2,.25,.3,.35,.4],oS=[-1,.4,.5,.6,.7,.8],[sS,bl]=m(We,"WolfishTracker"),Ol=a(e.weapon.refinement,aS),Bl=c("on",bl,a(e.weapon.refinement,oS,_.info("atk_"))),cS=r(We,Sl,{premod:{atk_:Ol},teamBuff:{premod:{atk_:Bl}}}),dS={document:[{header:o(We,n("base")),fields:[{node:Ol}]},{value:bl,path:sS,teamBuff:!0,header:o(We,n("conditional")),name:n("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Bl},{text:l("duration"),value:12,unit:"s"}]}}}]},rS=new s(We,dS,Sl,cS),iS={Akuoumaru:j2,BeaconOfTheReedSea:V2,BlackcliffSlasher:X2,BloodtaintedGreatsword:nv,DebateClub:dv,FavoniusGreatsword:mv,FerrousShadow:uv,ForestRegalia:yv,KatsuragikiriNagamasa:Ov,LithicBlade:Mv,LuxuriousSeaLord:Iv,MailedFlower:Gv,MakhairaAquamarine:Uv,OldMercsPal:Xv,PortablePowerSaw:ay,PrototypeArchaic:dy,Rainslasher:$y,RedhornStonethresher:gy,RoyalGreatsword:Py,SacrificialGreatsword:Oy,SerpentSpine:Ry,SkyriderGreatsword:Ny,SkywardPride:Ly,SnowTombedStarsilver:Jy,SongOfBrokenPines:aP,TalkingStick:lP,TheBell:gP,TheUnforged:BP,TidalShadow:DP,UltimateOverlordsMegaMagicSword:FP,Verdict:LP,WasterGreatsword:zP,Whiteblind:nS,WhiteIronGreatsword:ZP,WolfsGravestone:rS},zn="BalladOfTheFjords",Al=d.weapon.data[zn],mS=[-1,120,150,180,210,240],wa=Uo(x.ele,3,a(e.weapon.refinement,mS)),lS=r(zn,Al,{premod:{eleMas:wa}}),$S={document:[{header:o(zn,n("talents.passive")),canShow:ae(wa,0,1),fields:[{node:wa}]}]},pS=new s(zn,$S,Al,lS),go="BeginnersProtector",wo=d.weapon.data[go],hS=r(go,wo),uS={...wo,document:[]},fS=new s(go,uS,wo,hS),dt="BlackTassel",El=d.weapon.data[dt],[,_S]=g("weapon",dt),gS=[-1,.4,.5,.6,.7,.8],[wS,xl]=m(dt,"PressTheAdvantage"),Ml=c("on",xl,a(e.weapon.refinement,gS)),kS=r(dt,El,{premod:{all_dmg_:Ml}}),vS={document:[{value:xl,path:wS,header:o(dt,n("conditional")),name:_S("condName"),states:{on:{fields:[{node:Ml}]}}}]},yS=new s(dt,vS,El,kS),en="BlackcliffPole",Dl=d.weapon.data[en],[PS,Tl]=m(en,"PressTheAdvantage"),Rl=h(1,3),SS=[-1,.12,.15,.18,.21,.24],Cl=i(p(Tl,$(Rl,t=>w(t)),0),a(e.weapon.refinement,SS)),bS=r(en,Dl,{premod:{atk_:Cl}}),OS={document:[{value:Tl,path:PS,teamBuff:!0,header:o(en,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Rl.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Cl},{text:l("duration"),value:30,unit:"s"}]}]))}]},BS=new s(en,OS,Dl,bS),ye="CalamityQueller",Il=d.weapon.data[ye],[,ka]=g("weapon",ye),[AS,jl]=m(ye,"stack"),ES=[-1,.12,.15,.18,.21,.24],xS=[-1,.032,.04,.048,.056,.064],Fl=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,ES)])),Nl=i(Ma(e.charKey,e.activeCharKey,w(1,{name:ka("active")}),w(2,{name:ka("inactive")})),p(jl,$(h(1,6),t=>w(t,{name:n("stacks")})),0),a(e.weapon.refinement,xS)),MS=r(ye,Il,{premod:{...Fl,atk_:Nl}}),DS={document:[{header:o(ye,n("base")),fields:Object.values(Fl).map(t=>({node:t}))},{value:jl,path:AS,teamBuff:!0,header:o(ye,n("stacks")),name:ka("effectName"),states:Object.fromEntries(h(1,6).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Nl}]}]))}]},TS=new s(ye,DS,Il,MS),tn="CrescentPike",Wl=d.weapon.data[tn],RS=[-1,.2,.25,.3,.35,.4],Hl=c(e.weapon.key,tn,y(i(e.total.atk,a(e.weapon.refinement,RS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),CS=r(tn,Wl,void 0,{hit:Hl}),IS={document:[{header:o(tn,n("talents.passive")),fields:[{node:f(Hl,{name:n("dmg")})}]}]},jS=new s(tn,IS,Wl,CS),rt="Deathmatch",Kl=d.weapon.data[rt],[,FS]=g("weapon",rt),[NS,ko]=m(rt,"stack"),Gl=[-1,.16,.2,.24,.28,.32],WS=[-1,.24,.3,.36,.42,.48],va=p(ko,{oneOrNone:a(e.weapon.refinement,WS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Gl,{unit:"%"})},u),ya=c(ko,"moreThanOne",a(e.weapon.refinement,Gl,{unit:"%"})),HS=r(rt,Kl,{premod:{atk_:va,def_:ya}}),KS={document:[{value:ko,path:NS,teamBuff:!0,header:o(rt,n("conditional")),name:FS("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:va},{node:ya}]},moreThanOne:{name:"≥2",fields:[{node:va},{node:ya}]}}}]},GS=new s(rt,KS,Kl,HS),nn="DragonsBane",Ll=d.weapon.data[nn],LS=[-1,.2,.24,.28,.32,.36],[qS,ql]=m(nn,"BaneOfFlameAndWater"),Vl=c("on",ql,a(e.weapon.refinement,LS)),VS=r(nn,Ll,{premod:{all_dmg_:Vl}}),zS={document:[{value:ql,path:qS,header:o(nn,n("conditional")),name:n("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Vl}]}}}]},US=new s(nn,zS,Ll,VS),q="DragonspineSpear",zl=d.weapon.data[q],JS=[-1,.8,.95,1.1,1.25,1.4],QS=[-1,2,2.4,2.8,3.2,3.6],Ul=c(e.weapon.key,q,y(i(a(e.weapon.refinement,JS,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Jl=c(e.weapon.key,q,y(i(a(e.weapon.refinement,QS,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),XS=r(q,zl,void 0,{dmgAoe:Ul,dmgOnCryoOp:Jl}),ZS={document:[{header:o(q,n("base")),fields:[{node:f(Ul,{name:s.trm(q)("aoeDmg")})},{node:f(Jl,{name:s.trm(q)("cryoAffectedDmg")})}]}]},YS=new s(q,ZS,zl,XS),Pe="EngulfingLightning",Ql=d.weapon.data[Pe],e4=[-1,.28,.35,.42,.49,.56],t4=[-1,.8,.9,1,1.1,1.2],Pa=c(e.weapon.key,Pe,ne(i(a(e.weapon.refinement,e4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,t4))),n4=[-1,.3,.35,.4,.45,.5,.55],[a4,Xl]=m(Pe,"TimelessDream"),Zl=c("on",Xl,a(e.weapon.refinement,n4)),o4=r(Pe,Ql,{premod:{atk_:Pa,enerRech_:Zl}},{atk_:Pa}),s4={document:[{header:o(Pe,n("base")),fields:[{node:Pa}]},{teamBuff:!0,value:Xl,path:a4,header:o(Pe,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Zl},{text:l("duration"),value:12,unit:"s"}]}}}]},c4=new s(Pe,s4,Ql,o4),Un="FavoniusLance",Yl=d.weapon.data[Un],d4=r(Un,Yl),r4={document:[{header:o(Un),fields:[]}]},i4=new s(Un,r4,Yl,d4),an="Halberd",e0=d.weapon.data[an],m4=[-1,1.6,2,2.4,2.8,3.2],t0=c(e.weapon.key,an,y(i(a(e.weapon.refinement,m4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),l4=r(an,e0,void 0,{dmg:t0}),$4={document:[{header:o(an,n("base")),fields:[{node:f(t0,{name:n("dmg")})}]}]},p4=new s(an,$4,e0,l4),vo="IronPoint",yo=d.weapon.data[vo],h4=r(vo,yo),u4={...yo,document:[]},f4=new s(vo,u4,yo,h4),Jn="KitainCrossSpear",n0=d.weapon.data[Jn],_4=[-1,.06,.075,.09,.105,.12],a0=a(e.weapon.refinement,_4),g4=r(Jn,n0,{premod:{skill_dmg_:a0}}),w4={document:[{header:o(Jn,n("base")),fields:[{node:a0}]}]},k4=new s(Jn,w4,n0,g4),Qn="LithicSpear",o0=d.weapon.data[Qn],v4=[-1,.07,.08,.09,.1,.11],y4=[-1,.03,.04,.05,.06,.07],s0=i(a(e.weapon.refinement,v4,{unit:"%"}),x.liyue),c0=i(a(e.weapon.refinement,y4,{unit:"%"}),x.liyue),P4=r(Qn,o0,{premod:{atk_:s0,critRate_:c0}}),S4={document:[{header:o(Qn,n("stacks")),fields:[{node:s0},{node:c0}]}]},b4=new s(Qn,S4,o0,P4),on="MissiveWindspear",d0=d.weapon.data[on],[O4,Po]=m(on,"passive"),B4=[-1,.12,.15,.18,.21,.24],A4=[-1,48,60,72,84,96],r0=c(Po,"on",a(e.weapon.refinement,B4,{unit:"%"})),i0=c(Po,"on",a(e.weapon.refinement,A4)),E4=r(on,d0,{premod:{atk_:r0,eleMas:i0}}),x4={document:[{value:Po,path:O4,teamBuff:!0,header:o(on,n("conditional")),name:n("afterReaction"),states:{on:{fields:[{node:r0},{node:i0},{text:l("duration"),value:10,unit:"s"}]}}}]},M4=new s(on,x4,d0,E4),it="Moonpiercer",m0=d.weapon.data[it],[,D4]=g("weapon",it),[T4,l0]=m(it,"passive"),R4=[-1,.16,.2,.24,.28,.32],$0=c(l0,"on",a(e.weapon.refinement,R4,{unit:"%"})),C4=c(e.activeCharKey,O.charKey,$0),I4=r(it,m0,{teamBuff:{premod:{atk_:C4}}}),j4={document:[{value:l0,path:T4,teamBuff:!0,header:o(it,n("conditional")),name:D4("condName"),states:{on:{fields:[{node:f($0,_.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},F4=new s(it,j4,m0,I4),sn="PrimordialJadeWingedSpear",p0=d.weapon.data[sn],[N4,So]=m(sn,"stack"),W4=[-1,.032,.039,.046,.053,.06],H4=[-1,.12,.15,.18,.21,.24],h0=p(So,$(h(1,7),t=>i(a(e.weapon.refinement,W4,{unit:"%"}),t)),u),u0=c(So,"7",a(e.weapon.refinement,H4,{unit:"%"})),K4=r(sn,p0,{premod:{atk_:h0,all_dmg_:u0}}),G4={document:[{value:So,path:N4,teamBuff:!0,header:o(sn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(h(1,7).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:h0},{node:u0}]}]))}]},L4=new s(sn,G4,p0,K4),mt="ProspectorsDrill",f0=d.weapon.data[mt],[,q4]=g("weapon",mt),V4=[-1,.03,.04,.05,.06,.07],z4=[-1,.07,.085,.1,.115,.13],[U4,bo]=m(mt,"marksConsumed"),Oo=h(1,3),_0=p(bo,$(Oo,t=>i(t,a(e.weapon.refinement,V4,{unit:"%"}))),u),J4=p(bo,$(Oo,t=>i(t,a(e.weapon.refinement,z4,{unit:"%"}))),u),g0=$(v.map(t=>`${t}_dmg_`),()=>({...J4})),Q4=r(mt,f0,{premod:{atk_:_0,...g0}}),X4={document:[{value:bo,path:U4,teamBuff:!0,header:o(mt,n("stacks")),name:q4("condName"),states:$(Oo,t=>({name:`${t}`,fields:[{node:_0},...Object.values(g0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},Z4=new s(mt,X4,f0,Q4),cn="PrototypeStarglitter",w0=d.weapon.data[cn],[Y4,Bo]=m(cn,"stack"),k0=[-1,.08,.1,.12,.14,.16],v0=p(Bo,$(h(1,2),t=>i(a(e.weapon.refinement,k0,{unit:"%"}),t)),u),y0=p(Bo,$(h(1,2),t=>i(a(e.weapon.refinement,k0,{unit:"%"}),t)),u),e5=r(cn,w0,{premod:{normal_dmg_:v0,charged_dmg_:y0}}),t5={document:[{value:Bo,path:Y4,header:o(cn,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(h(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:v0},{node:y0}]}]))}]},n5=new s(cn,t5,w0,e5),Xn="RightfulReward",P0=d.weapon.data[Xn],a5=r(Xn,P0),o5={document:[{header:o(Xn),fields:[]}]},s5=new s(Xn,o5,P0,a5),dn="RoyalSpear",S0=d.weapon.data[dn],[c5,b0]=m(dn,"stack"),d5=[-1,.08,.1,.12,.14,.16],O0=p(b0,$(h(1,5),t=>i(a(e.weapon.refinement,d5,{unit:"%"}),t)),u),r5=r(dn,S0,{premod:{critRate_:O0}}),i5={document:[{value:b0,path:c5,teamBuff:!0,header:o(dn,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:O0}]}]))}]},m5=new s(dn,i5,S0,r5),rn="SkywardSpine",B0=d.weapon.data[rn],l5=[-1,.08,.1,.12,.14,.16],$5=[-1,.4,.55,.7,.85,1],A0=S(.12),E0=a(e.weapon.refinement,l5),x0=c(e.weapon.key,rn,y(i(a(e.weapon.refinement,$5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),p5=r(rn,B0,{premod:{critRate_:E0,atkSPD_:A0}},{dmg:x0}),h5={document:[{header:o(rn,n("base")),fields:[{node:E0},{node:A0},{node:f(x0,{name:n("dmg")})}]}]},u5=new s(rn,h5,B0,p5),Se="StaffOfHoma",M0=d.weapon.data[Se],f5=[-1,.2,.25,.3,.35,.4],_5=[-1,.008,.01,.012,.014,.016],g5=[-1,.01,.012,.014,.016,.018],D0=a(e.weapon.refinement,f5,{unit:"%"}),[w5,T0]=m(Se,"RecklessCinnabar"),R0=i(a(e.weapon.refinement,_5,{unit:"%"}),e.premod.hp),Sa=c(e.weapon.key,Se,c("on",T0,i(a(e.weapon.refinement,g5,{unit:"%"}),e.premod.hp),_.info("atk"))),k5=r(Se,M0,{premod:{hp_:D0},total:{atk:P(R0,Sa)}},{atk2_:Sa}),v5={document:[{header:o(Se,n("base")),fields:[{node:D0},{node:f(R0,_.info("atk"))}]},{value:T0,path:w5,teamBuff:!0,header:o(Se),name:n("lessPercentHP",{percent:50}),states:{on:{fields:[{node:f(Sa,_.info("atk"))}]}}}]},y5=new s(Se,v5,M0,k5),X="StaffOfTheScarletSands",C0=d.weapon.data[X],[P5,I0]=m(X,"stacks"),S5=[-1,.52,.65,.78,.91,1.04],b5=[-1,.28,.35,.42,.49,.56],j0=b(1,3),F0=c(e.weapon.key,X,i(a(e.weapon.refinement,S5,{unit:"%"}),e.premod.eleMas),_.info("atk")),N0=p(I0,Object.fromEntries(j0.map(t=>[t,i(t,a(e.weapon.refinement,b5,{unit:"%"}),e.premod.eleMas)])),u,_.info("atk")),Vo=c(e.weapon.key,X,P(F0,N0)),O5=r(X,C0,{total:{atk:Vo}},{atk:Vo}),B5={document:[{header:o(X,n("base")),fields:[{node:F0}]},{value:I0,path:P5,header:o(X,n("stacks")),name:n("hitOp.skill"),states:Object.fromEntries(j0.map(t=>[t,{name:n("hits",{count:t}),fields:[{node:N0},{text:l("duration"),value:10,unit:"s"}]}]))}]},A5=new s(X,B5,C0,O5),Zn="TheCatch",W0=d.weapon.data[Zn],E5=[-1,.16,.2,.24,.28,.32],x5=[-1,.06,.075,.09,.105,.12],H0=a(e.weapon.refinement,E5),K0=a(e.weapon.refinement,x5),M5=r(Zn,W0,{premod:{burst_dmg_:H0,burst_critRate_:K0}}),D5={document:[{header:o(Zn,n("base")),fields:[{node:H0},{node:K0}]}]},T5=new s(Zn,D5,W0,M5),R="VortexVanquisher",G0=d.weapon.data[R],[,R5]=g("weapon",R),C5=[-1,.2,.25,.3,.35,.4],I5=[-1,.04,.05,.06,.07,.08],[j5,L0]=m(R,"GoldenMajesty"),q0=a(e.weapon.refinement,C5),[F5,V0]=m(R,"WithShield"),N5=a(e.weapon.refinement,I5),z0=i(P(1,c(V0,"protected",1)),p(L0,Object.fromEntries(b(1,5).map(t=>[t,i(N5,t)])),u)),W5=r(R,G0,{premod:{shield_:q0,atk_:z0}}),H5={document:[{header:o(R,n("base")),fields:[{node:q0}]},{value:L0,path:j5,teamBuff:!0,header:o(R,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:z0},{text:l("duration"),value:8,unit:"s"}]}]))},{value:V0,path:F5,header:o(R,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:R5("atkEffInc"),value:100,unit:"%"}]}}}]},K5=new s(R,H5,G0,W5),lt="WavebreakersFin",U0=d.weapon.data[lt],[,G5]=g("weapon",lt),[L5,J0]=m(lt,"WatatsumiWavewalker"),Q0=b(4,36).map(t=>t*10),q5=[-1,.0012,.0015,.0018,.0021,.0024],V5=[-1,.4,.5,.6,.7,.8],X0=p(J0,Object.fromEntries(Q0.map(t=>[t,ne(i(a(e.weapon.refinement,q5,{unit:"%"}),t),a(e.weapon.refinement,V5,{unit:"%"}))])),u),z5=r(lt,U0,{premod:{burst_dmg_:X0}}),U5={document:[{value:J0,path:L5,header:o(lt),name:G5("party"),states:Object.fromEntries(Q0.map(t=>[t,{name:t.toString(),fields:[{node:X0}]}]))}]},J5=new s(lt,U5,U0,z5),Yn="WhiteTassel",Z0=d.weapon.data[Yn],Q5=[-1,.24,.3,.36,.42,.48],Y0=a(e.weapon.refinement,Q5),X5=r(Yn,Z0,{premod:{normal_dmg_:Y0}}),Z5={document:[{header:o(Yn,n("base")),fields:[{node:Y0}]}]},Y5=new s(Yn,Z5,Z0,X5),eb={BalladOfTheFjords:pS,BeginnersProtector:fS,BlackcliffPole:BS,BlackTassel:yS,CalamityQueller:TS,CrescentPike:jS,Deathmatch:GS,DragonsBane:US,DragonspineSpear:YS,EngulfingLightning:c4,FavoniusLance:i4,Halberd:p4,IronPoint:f4,KitainCrossSpear:k4,LithicSpear:b4,MissiveWindspear:M4,Moonpiercer:F4,PrimordialJadeWingedSpear:L4,ProspectorsDrill:Z4,PrototypeStarglitter:n5,RightfulReward:s5,RoyalSpear:m5,SkywardSpine:u5,StaffOfHoma:y5,StaffOfTheScarletSands:A5,TheCatch:T5,VortexVanquisher:K5,WavebreakersFin:J5,WhiteTassel:Y5},ea="AmenomaKageuchi",e$=d.weapon.data[ea],tb=r(ea,e$),nb={document:[{header:o(ea),fields:[]}]},ab=new s(ea,nb,e$,tb),Z="AquilaFavonia",Ao=d.weapon.data[Z],ob=[-1,2,2.3,2.6,2.9,3.2],sb=[-1,1,1.15,1.3,1.45,1.6],t$=Ao.refinementBonus.atk_;if(!t$)throw new Error(`data_gen.refinementBonus.atk_ for ${Z} was undefined`);const n$=a(e.weapon.refinement,t$),a$=c(e.weapon.key,Z,i(a(e.weapon.refinement,sb,{unit:"%"}),e.premod.atk)),o$=c(e.weapon.key,Z,y(i(a(e.weapon.refinement,ob,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),cb=r(Z,Ao,{premod:{atk_:n$}},{heal:a$,dmg:o$}),db={document:[{header:o(Z,n("base")),fields:[{node:n$}]},{header:o(Z,n("base")),fields:[{node:f(a$,{name:l("healing"),variant:"heal"})},{node:f(o$,{name:n("dmg")})}]}]},rb=new s(Z,db,Ao,cb),mn="BlackcliffLongsword",s$=d.weapon.data[mn],[ib,c$]=m(mn,"PressTheAdvantage"),d$=h(1,3),mb=[-1,.12,.15,.18,.21,.24],r$=i(p(c$,$(d$,t=>w(t)),0),a(e.weapon.refinement,mb)),lb=r(mn,s$,{premod:{atk_:r$}}),$b={document:[{value:c$,path:ib,header:o(mn,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(d$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:r$},{text:l("duration"),value:30,unit:"s"}]}]))}]},pb=new s(mn,$b,s$,lb),Te="CinnabarSpindle",i$=d.weapon.data[Te],[,hb]=g("weapon",Te),ub=[-1,.4,.5,.6,.7,.8],[fb,m$]=m(Te,"SpotlessHeart"),ba=c(e.weapon.key,Te,c("on",m$,i(a(e.weapon.refinement,ub,{unit:"%"}),e.premod.def))),_b=r(Te,i$,{premod:{skill_dmgInc:ba}},{skill_dmgInc:ba}),gb={document:[{value:m$,path:fb,header:o(Te,n("conditional")),name:hb("name"),states:{on:{fields:[{node:ba}]}}}]},wb=new s(Te,gb,i$,_b),ln="CoolSteel",l$=d.weapon.data[ln],kb=[-1,.12,.15,.18,.21,.24],[vb,$$]=m(ln,"BaneOfWaterAndIce"),p$=c("on",$$,a(e.weapon.refinement,kb)),yb=r(ln,l$,{premod:{all_dmg_:p$}}),Pb={document:[{value:$$,path:vb,name:n("enemyAffected.hydroOrCryo"),header:o(ln,n("conditional")),states:{on:{fields:[{node:p$}]}}}]},Sb=new s(ln,Pb,l$,yb),$n="DarkIronSword",h$=d.weapon.data[$n],bb=[-1,.2,.25,.3,.35,.5],[Ob,u$]=m($n,"Overloaded"),f$=c("on",u$,a(e.weapon.refinement,bb,{unit:"%"})),Bb=r($n,h$,{premod:{atk_:f$}}),Ab={document:[{value:u$,path:Ob,name:n("elementalReaction.electro"),header:o($n,n("conditional")),states:{on:{fields:[{node:f$},{text:l("duration"),value:12,unit:"s"}]}}}]},Eb=new s($n,Ab,h$,Bb),Eo="DullBlade",xo=d.weapon.data[Eo],xb=r(Eo,xo),Mb={...xo,document:[]},Db=new s(Eo,Mb,xo,xb),ta="FavoniusSword",_$=d.weapon.data[ta],Tb=r(ta,_$),Rb={document:[{header:o(ta),fields:[]}]},Cb=new s(ta,Rb,_$,Tb),na="FesteringDesire",g$=d.weapon.data[na],Ib=[-1,.16,.2,.24,.28,.32],jb=[-1,.06,.075,.09,.105,.12],w$=a(e.weapon.refinement,Ib,{unit:"%"}),k$=a(e.weapon.refinement,jb,{unit:"%"}),Fb=r(na,g$,{premod:{skill_dmg_:w$,skill_critRate_:k$}}),Nb={document:[{header:o(na,n("base")),fields:[{node:w$},{node:k$}]}]},Wb=new s(na,Nb,g$,Fb),pn="FilletBlade",v$=d.weapon.data[pn],Hb=[-1,2.4,2.8,3.2,3.6,4],Kb=[-1,15,14,13,12,11],y$=c(e.weapon.key,pn,y(i(a(e.weapon.refinement,Hb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Gb=r(pn,v$,void 0,{dmg_:y$}),Lb={document:[{header:o(pn,n("base")),fields:[{node:f(y$,{name:n("dmg")})},{text:l("cd"),value:t=>Kb[t.get(e.weapon.refinement).value],unit:"s"}]}]},qb=new s(pn,Lb,v$,Gb),N="FinaleOfTheDeep",P$=d.weapon.data[N],[,Vb]=g("weapon",N),zb=[-1,.12,.15,.18,.21,.24],Ub=[-1,.024,.03,.036,.042,.048],Jb=[-1,150,187.5,225,262.5,300],[Qb,S$]=m(N,"afterSkill"),b$=c(S$,"on",a(e.weapon.refinement,zb)),Xb=i(S(.25),e.total.hp),[Zb,O$]=m(N,"bond"),Oa=c(e.weapon.key,N,c(O$,"on",ne(i(Xb,a(e.weapon.refinement,Ub,{unit:"%"})),a(e.weapon.refinement,Jb,{unit:"%"})))),Yb=r(N,P$,{premod:{atk_:b$,atk:Oa}},{bond_atk:Oa}),e3={document:[{header:o(N,n("conditional")),path:Qb,value:S$,name:n("hitOp.skill"),states:{on:{fields:[{node:b$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(N,n("conditional")),path:Zb,value:O$,name:Vb("bondCondName"),states:{on:{fields:[{node:Oa},{text:l("duration"),value:15,unit:"s"}]}}}]},t3=new s(N,e3,P$,Yb),He="FleuveCendreFerryman",B$=d.weapon.data[He],n3=[-1,.08,.1,.12,.14,.16],a3=[-1,.16,.2,.24,.28,.32],A$=a(e.weapon.refinement,n3),[o3,E$]=m(He,"afterSkill"),x$=c(E$,"on",a(e.weapon.refinement,a3)),s3=r(He,B$,{premod:{skill_critRate_:A$,enerRech_:x$}}),c3={document:[{header:o(He,n("base")),fields:[{node:A$}]},{header:o(He,n("conditional")),value:E$,path:o3,name:n("afterUse.skill"),states:{on:{fields:[{node:x$},{text:l("duration"),value:5,unit:"s"}]}}}]},d3=new s(He,c3,B$,s3),Y="FreedomSworn",Mo=d.weapon.data[Y],[,r3]=g("weapon",Y),[i3,Do]=m(Y,"MillennialMovement"),m3=[-1,.16,.2,.24,.28,.32],l3=[-1,.2,.25,.3,.35,.4],M$=Mo.refinementBonus.dmg_;if(!M$)throw new Error(`data_gen.refinementBonus.dmg_ for ${Y} was undefined`);const D$=a(e.weapon.refinement,M$),T$=c("on",Do,a(e.weapon.refinement,l3)),aa=c("on",Do,a(e.weapon.refinement,m3)),R$={...aa},C$={...aa},$3=r(Y,Mo,{premod:{all_dmg_:D$},teamBuff:{premod:{atk_:T$,normal_dmg_:aa,charged_dmg_:R$,plunging_dmg_:C$}}}),p3={document:[{header:o(Y,n("base")),fields:[{node:D$}]},{value:Do,path:i3,teamBuff:!0,header:o(Y,n("conditional")),name:r3("sigilsConsumed"),states:{on:{fields:[{node:T$},{node:aa},{node:R$},{node:C$},{text:l("duration"),value:12,unit:"s"}]}}}]},h3=new s(Y,p3,Mo,$3),be="HaranGeppakuFutsu",I$=d.weapon.data[be],[,u3]=g("weapon",be),f3=[-1,.12,.15,.18,.21,.24],_3=[-1,.2,.25,.3,.35,.4],[g3,j$]=m(be,"HonedFlow"),F$=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,f3,_.info(`${t}_dmg_`))])),N$=p(j$,$(h(1,2),t=>i(t,a(e.weapon.refinement,_3))),u),w3=r(be,I$,{premod:{...F$,normal_dmg_:N$}}),k3={document:[{header:o(be,n("base")),fields:[...v.map(t=>({node:F$[`${t}_dmg_`]}))]},{value:j$,path:g3,name:u3("consumed"),header:o(be,n("conditional")),states:$(h(1,2),t=>({name:n("stack",{count:t}),fields:[{node:N$}]}))}]},v3=new s(be,k3,I$,w3),hn="HarbingerOfDawn",W$=d.weapon.data[hn],[y3,H$]=m(hn,"SkyPiercingMight"),P3=[-1,.14,.175,.21,.245,.28],K$=c("on",H$,a(e.weapon.refinement,P3)),S3=r(hn,W$,{premod:{critRate_:K$}}),b3={document:[{value:H$,path:y3,header:o(hn,n("conditional")),name:n("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:K$}]}}}]},O3=new s(hn,b3,W$,S3),un="IronSting",G$=d.weapon.data[un],[B3,L$]=m(un,"InfusionStinger"),q$=h(1,2),A3=[-1,.06,.075,.09,.105,.12],V$=i(p(L$,$(q$,t=>w(t)),u),a(e.weapon.refinement,A3)),E3=r(un,G$,{premod:{all_dmg_:V$}}),x3={document:[{value:L$,path:B3,header:o(un,n("stacks")),name:n("hitOp.ele"),states:Object.fromEntries(q$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:V$},{text:l("duration"),value:6,unit:"s"}]}]))}]},M3=new s(un,x3,G$,E3),Oe="KagotsurubeIsshin",z$=d.weapon.data[Oe],[D3,U$]=m(Oe,"passive"),J$=c(U$,"on",S(.15)),Q$=c(e.weapon.key,Oe,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),T3=r(Oe,z$,{premod:{atk_:J$}},{dmg:Q$}),R3={document:[{header:o(Oe,n("base")),fields:[{node:f(Q$,{name:n("dmg")})}]},{header:o(Oe,n("conditional")),value:U$,path:D3,name:n("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:J$},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},C3=new s(Oe,R3,z$,T3),E="KeyOfKhajNisut",X$=d.weapon.data[E],I3=[-1,.0012,.0015,.0018,.0021,.0024],j3=[-1,.002,.0025,.003,.0035,.004],Z$=b(1,3),F3=[-1,.2,.25,.3,.35,.4],Y$=c(e.weapon.key,E,a(e.weapon.refinement,F3,{unit:"%"})),[N3,En]=m(E,"afterSkill"),Ba=c(e.weapon.key,E,p(En,Object.fromEntries(Z$.map(t=>[t,i(t,a(e.weapon.refinement,I3,{unit:"%",fixed:2}),e.total.hp)])),u)),Aa=c(e.weapon.key,E,c(En,"3",i(a(e.weapon.refinement,j3,{unit:"%",fixed:2}),e.total.hp))),W3=r(E,X$,{premod:{hp_:Y$},total:{eleMas:Ba},teamBuff:{total:{eleMas:Aa}}},{selfEleMas:Ba,teamEleMas:Aa}),H3={document:[{header:o(E,n("base")),fields:[{node:Y$}]},{header:o(E,n("stacks")),teamBuff:!0,path:N3,value:En,name:n("hitOp.skill"),states:Object.fromEntries(Z$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ba},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,n("teamBuff")),canShow:c(En,"3",1),teamBuff:!0,fields:[{node:Aa},{text:l("duration"),value:20,unit:"s"}]}]},K3=new s(E,H3,X$,W3),ee="LightOfFoliarIncision",ep=d.weapon.data[ee],G3=[-1,.04,.05,.06,.07,.08],tp=c(e.weapon.key,ee,a(e.weapon.refinement,G3)),[L3,np]=m(ee,"afterNormalEle"),q3=[-1,1.2,1.5,1.8,2.1,2.4],xn=c(e.weapon.key,ee,c(np,"on",i(a(e.weapon.refinement,q3,{unit:"%"}),e.total.eleMas))),Ea={...xn},V3=r(ee,ep,{premod:{normal_dmgInc:xn,skill_dmgInc:Ea,critRate_:tp}},{normal_dmgInc:xn,skill_dmgInc:Ea}),z3={document:[{header:o(ee,n("base")),fields:[{node:tp}]},{header:o(ee,n("conditional")),path:L3,value:np,name:n("hitOp.normalEle"),states:{on:{fields:[{node:xn},{node:Ea},{text:n("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},U3=new s(ee,z3,ep,V3),fn="LionsRoar",ap=d.weapon.data[fn],[J3,op]=m(fn,"BaneOfFireAndThunder"),Q3=[-1,.2,.24,.28,.32,.36],sp=c("on",op,a(e.weapon.refinement,Q3)),X3=r(fn,ap,{premod:{all_dmg_:sp}}),Z3={document:[{value:op,path:J3,header:o(fn,n("conditional")),name:n("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:sp}]}}}]},Y3=new s(fn,Z3,ap,X3),Be="MistsplitterReforged",cp=d.weapon.data[Be],[,eO]=g("weapon",Be),dp=["1","2","3"],tO=[-1,.12,.15,.18,.21,.24],nO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[aO,rp]=m(Be,"MistsplittersEmblem"),ip=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,tO,_.info(`${t}_dmg_`))])),mp=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(e.charEle,t,p(rp,$(dp,k=>a(e.weapon.refinement,nO[k])),u,_.info(`${t}_dmg_`)))])),oO=Object.fromEntries(v.map(t=>[`${t}_dmg_`,P(ip[`${t}_dmg_`],mp[`${t}_dmg_`])])),sO=r(Be,cp,{premod:{...oO}}),cO={document:[{header:o(Be,n("base")),fields:v.map(t=>({node:ip[`${t}_dmg_`]}))},{value:rp,path:aO,name:eO("emblem"),teamBuff:!0,header:o(Be,n("stacks")),states:Object.fromEntries(dp.map(t=>[t,{name:n("stack",{count:parseInt(t)}),fields:v.map(k=>({node:mp[`${k}_dmg_`]}))}]))}]},dO=new s(Be,cO,cp,sO),_n="PrimordialJadeCutter",lp=d.weapon.data[_n],rO=[-1,.2,.25,.3,.35,.4],iO=[-1,.012,.015,.018,.021,.024],$p=a(e.weapon.refinement,rO),xa=c(e.weapon.key,_n,i(a(e.weapon.refinement,iO,{unit:"%"}),e.premod.hp)),mO=r(_n,lp,{premod:{hp_:$p},total:{atk:xa}},{atk:xa}),lO={document:[{header:o(_n,n("base")),fields:[{node:$p},{node:xa}]}]},$O=new s(_n,lO,lp,mO),gn="PrototypeRancour",pp=d.weapon.data[gn],[pO,To]=m(gn,"stack"),hp=[-1,.04,.05,.06,.07,.08],up=p(To,$(h(1,4),t=>i(a(e.weapon.refinement,hp,{unit:"%"}),t)),u),fp=p(To,$(h(1,4),t=>i(a(e.weapon.refinement,hp,{unit:"%"}),t)),u),hO=r(gn,pp,{premod:{atk_:up,def_:fp}}),uO={document:[{value:To,path:pO,header:o(gn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:up},{node:fp},{text:l("duration"),value:6,unit:"s"}]}]))}]},fO=new s(gn,uO,pp,hO),wn="RoyalLongsword",_p=d.weapon.data[wn],[_O,gp]=m(wn,"stack"),gO=[-1,.08,.1,.12,.14,.16],wp=p(gp,$(h(1,5),t=>i(a(e.weapon.refinement,gO,{unit:"%"}),t)),u),wO=r(wn,_p,{premod:{critRate_:wp}}),kO={document:[{value:gp,path:_O,header:o(wn,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:wp}]}]))}]},vO=new s(wn,kO,_p,wO),oa="SacrificialSword",kp=d.weapon.data[oa],yO=r(oa,kp),PO={document:[{header:o(oa),fields:[]}]},SO=new s(oa,PO,kp,yO),$t="SapwoodBlade",vp=d.weapon.data[$t],[,bO]=g("weapon",$t),[OO,yp]=m($t,"passive"),BO=[-1,60,75,90,105,120],Pp=c(yp,"on",a(e.weapon.refinement,BO)),AO=c(e.activeCharKey,O.charKey,Pp),EO=r($t,vp,{teamBuff:{premod:{eleMas:AO}}}),xO={document:[{value:yp,path:OO,teamBuff:!0,header:o($t,n("conditional")),name:bO("condName"),states:{on:{fields:[{node:f(Pp,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},MO=new s($t,xO,vp,EO),Ro="SilverSword",Co=d.weapon.data[Ro],DO=r(Ro,Co),TO={...Co,document:[]},RO=new s(Ro,TO,Co,DO),kn="SkyriderSword",Sp=d.weapon.data[kn],[CO,Io]=m(kn,"Determination"),bp=[-1,.12,.15,.18,.21,.24],Op=c(Io,"on",a(e.weapon.refinement,bp,{unit:"%"})),Bp=c(Io,"on",a(e.weapon.refinement,bp,{unit:"%"})),IO=r(kn,Sp,{premod:{atk_:Op,moveSPD_:Bp}}),jO={document:[{value:Io,path:CO,header:o(kn,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Op},{node:Bp},{text:l("duration"),value:15,unit:"s"}]}}}]},FO=new s(kn,jO,Sp,IO),te="SkywardBlade",jo=d.weapon.data[te],[NO,sa]=m(te,"SkyPiercingMight"),WO=[-1,.2,.25,.3,.35,.4],Ap=c("on",sa,S(.1)),Ep=c("on",sa,S(.1)),xp=c(e.weapon.key,te,c("on",sa,y(i(a(e.weapon.refinement,WO,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),Mp=jo.refinementBonus.critRate_;if(!Mp)throw new Error(`data_gen.refinementBonus.critRate_ for ${te} was undefined`);const Dp=a(e.weapon.refinement,Mp),HO=r(te,jo,{premod:{critRate_:Dp,moveSPD_:Ap,atkSPD_:Ep}},{dmg:xp}),KO={document:[{header:o(te,n("base")),fields:[{node:Dp}]},{value:sa,path:NO,header:o(te,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Ap},{node:Ep},{node:f(xp,{name:n("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},GO=new s(te,KO,jo,HO),Ae="SplendorOfTranquilWaters",Tp=d.weapon.data[Ae],LO=[-1,.08,.1,.12,.14,.16],qO=[-1,.14,.175,.21,.245,.28],[VO,Rp]=m(Ae,"selfHpChange"),Cp=h(1,3),Ip=p(Rp,$(Cp,t=>i(t,a(e.weapon.refinement,LO,{unit:"%"}))),u),[zO,jp]=m(Ae,"teamHpChange"),Fp=h(1,2),Np=p(jp,$(Fp,t=>i(t,a(e.weapon.refinement,qO,{unit:"%"}))),u),UO=r(Ae,Tp,{premod:{hp_:Np,skill_dmg_:Ip}}),JO={document:[{value:Rp,path:VO,header:o(Ae,n("stacks")),name:n("hpChange"),states:$(Cp,t=>({name:n("times",{count:t}),fields:[{node:Ip},{text:l("duration"),value:6,unit:"s"}]}))},{value:jp,path:zO,header:o(Ae,n("stacks")),name:n("otherHpChange"),states:$(Fp,t=>({name:n("times",{count:t}),fields:[{node:Np},{text:l("duration"),value:6,unit:"s"}]}))}]},QO=new s(Ae,JO,Tp,UO),C="SummitShaper",Wp=d.weapon.data[C],[,XO]=g("weapon",C),[ZO,Hp]=m(C,"GoldenMajesty"),[YO,Kp]=m(C,"WithShield"),e6=[-1,.2,.25,.3,.35,.4],t6=[-1,.04,.05,.06,.07,.08],Gp=a(e.weapon.refinement,e6),n6=a(e.weapon.refinement,t6),Lp=i(P(1,c(Kp,"protected",1)),p(Hp,Object.fromEntries(b(1,5).map(t=>[t,i(n6,t)])),u)),a6=r(C,Wp,{premod:{shield_:Gp,atk_:Lp}}),o6={document:[{header:o(C,n("base")),fields:[{node:Gp}]},{value:Hp,path:ZO,header:o(C,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Lp},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Kp,path:YO,header:o(C,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:XO("atkEffInc"),value:100,unit:"%"}]}}}]},s6=new s(C,o6,Wp,a6),vn="SwordOfDescension",qp=d.weapon.data[vn],Vp=p(e.charKey,$(Ah,t=>w(66)),u),zp=c(e.weapon.key,vn,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),c6=r(vn,qp,{premod:{atk:Vp}},{dmg_:zp}),d6={document:[{header:o(vn,n("base")),fields:[{node:Vp},{node:f(zp,{name:n("dmg")})}]}]},r6=new s(vn,d6,qp,c6),yn="SwordOfNarzissenkreuz",Up=d.weapon.data[yn],i6=[-1,1.6,2,2.4,2.8,3.2],Jp=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,i6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),m6=r(yn,Up,void 0,{dmg:Jp}),l6={document:[{header:o(yn,n("dmg")),fields:[{node:f(Jp,{name:n("dmg")})}]}]},$6=new s(yn,l6,Up,m6),pt="TheAlleyFlash",Qp=d.weapon.data[pt],[,p6]=g("weapon",pt),[h6,Xp]=m(pt,"ItinerantHero"),u6=[-1,.12,.15,.18,.21,.24],Zp=c(Xp,"on",a(e.weapon.refinement,u6,{unit:"%"})),f6=r(pt,Qp,{premod:{all_dmg_:Zp}}),_6={document:[{value:Xp,path:h6,header:o(pt,n("conditional")),name:p6("condName"),states:{on:{fields:[{node:Zp}]}}}]},g6=new s(pt,_6,Qp,f6),Pn="TheBlackSword",Yp=d.weapon.data[Pn],eh=[-1,.2,.25,.3,.35,.4],w6=[-1,.6,.7,.8,.9,1],th=a(e.weapon.refinement,eh),nh=a(e.weapon.refinement,eh),ah=c(e.weapon.key,Pn,Ke(i(a(e.weapon.refinement,w6,{unit:"%"}),e.total.atk))),k6=r(Pn,Yp,{premod:{normal_dmg_:th,charged_dmg_:nh}},{heal:ah}),v6={document:[{header:o(Pn,n("base")),fields:[{node:th},{node:nh},{node:f(ah,{name:l("healing"),variant:"heal"})}]}]},y6=new s(Pn,v6,Yp,k6),ht="TheDockhandsAssistant",oh=d.weapon.data[ht],[,P6]=g("weapon",ht),S6=[-1,40,50,60,70,80],[b6,sh]=m(ht,"symbolsConsumed"),ch=h(1,3),dh=p(sh,$(ch,t=>i(t,a(e.weapon.refinement,S6,{unit:"%"}))),u),O6=r(ht,oh,{premod:{eleMas:dh}}),B6={document:[{value:sh,path:b6,teamBuff:!0,header:o(ht,n("stacks")),name:P6("condName"),states:$(ch,t=>({name:`${t}`,fields:[{node:dh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},A6=new s(ht,B6,oh,O6),Sn="TheFlute",rh=d.weapon.data[Sn],ih=c(e.weapon.key,Sn,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),E6=r(Sn,rh,void 0,{dmg_:ih}),x6={document:[{header:o(Sn,n("base")),fields:[{node:f(ih,{name:n("dmg")})}]}]},M6=new s(Sn,x6,rh,E6),Re="ToukabouShigure",mh=d.weapon.data[Re],[,D6]=g("weapon",Re),[T6,lh]=m(Re,"passive"),R6=[-1,.16,.2,.24,.28,.32],$h=c(e.weapon.key,Re,c(lh,"on",a(e.weapon.refinement,R6,{unit:"%"}))),C6=r(Re,mh,{premod:{all_dmg_:$h}}),I6={document:[{value:lh,path:T6,header:o(Re,n("stacks")),name:D6("condName"),states:{on:{fields:[{node:$h},{text:l("duration"),value:10,unit:"s"}]}}}]},j6=new s(Re,I6,mh,C6),bn="TravelersHandySword",ph=d.weapon.data[bn],F6=[-1,.01,.0125,.015,.0175,.02],hh=c(e.weapon.key,bn,Ke(i(a(e.weapon.refinement,F6,{unit:"%"}),e.total.hp))),N6=r(bn,ph,void 0,{heal:hh}),W6={document:[{header:o(bn,n("base")),fields:[{node:f(hh,{name:l("healing"),variant:"heal"})}]}]},H6=new s(bn,W6,ph,N6),V="WolfFang",uh=d.weapon.data[V],K6=[-1,.16,.2,.24,.28,.32],fh=[-1,.02,.025,.03,.035,.04],Mn=h(1,4),Fo=a(e.weapon.refinement,K6),_h={...Fo},[G6,gh]=m(V,"skillStacks"),wh=i(a(e.weapon.refinement,fh),p(gh,$(Mn,t=>w(t)),u)),[L6,kh]=m(V,"burstStacks"),vh=i(a(e.weapon.refinement,fh),p(kh,$(Mn,t=>w(t)),u)),q6=r(V,uh,{premod:{skill_dmg_:Fo,burst_dmg_:_h,skill_critRate_:wh,burst_critRate_:vh}}),V6={document:[{header:o(V,n("base")),fields:[{node:Fo},{node:_h}]},{header:o(V,n("conditional")),value:gh,path:G6,name:n("hitOp.skill"),states:$(Mn,t=>({name:n("stack",{count:t}),fields:[{node:wh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(V,n("conditional")),value:kh,path:L6,name:n("hitOp.burst"),states:$(Mn,t=>({name:n("stack",{count:t}),fields:[{node:vh},{text:l("duration"),value:10,unit:"s"}]}))}]},z6=new s(V,V6,uh,q6),Ee="XiphosMoonlight",yh=d.weapon.data[Ee],U6=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Dn=c(e.weapon.key,Ee,i(a(e.weapon.refinement,U6,{unit:"%",fixed:3}),e.premod.eleMas)),No=c(e.weapon.key,Ee,i(S(.3),Dn)),J6=ae(e.charKey,O.charKey,No),Q6=r(Ee,yh,{total:{enerRech_:Dn},teamBuff:{total:{enerRech_:J6}}},{selfEnerRech_:Dn,teamEnerRech_disp:No}),X6={document:[{header:o(Ee,n("base")),fields:[{node:Dn}]},{header:o(Ee,n("teamBuff")),teamBuff:!0,fields:[{node:f(No,{..._.info("enerRech_"),isTeamBuff:!0})}]}]},Z6=new s(Ee,X6,yh,Q6),Y6={AmenomaKageuchi:ab,AquilaFavonia:rb,BlackcliffLongsword:pb,CinnabarSpindle:wb,CoolSteel:Sb,DarkIronSword:Eb,DullBlade:Db,FavoniusSword:Cb,FesteringDesire:Wb,FilletBlade:qb,FinaleOfTheDeep:t3,FleuveCendreFerryman:d3,FreedomSworn:h3,HaranGeppakuFutsu:v3,HarbingerOfDawn:O3,IronSting:M3,KagotsurubeIsshin:C3,KeyOfKhajNisut:K3,LightOfFoliarIncision:U3,LionsRoar:Y3,MistsplitterReforged:dO,PrimordialJadeCutter:$O,PrototypeRancour:fO,RoyalLongsword:vO,SacrificialSword:SO,SapwoodBlade:MO,SilverSword:RO,SkyriderSword:FO,SkywardBlade:GO,SplendorOfTranquilWaters:QO,SummitShaper:s6,SwordOfDescension:r6,SwordOfNarzissenkreuz:$6,TheAlleyFlash:g6,TheBlackSword:y6,TheDockhandsAssistant:A6,TheFlute:M6,ToukabouShigure:j6,TravelersHandySword:H6,WolfFang:z6,XiphosMoonlight:Z6},Ph={...Y6,...iS,...eb,...__,...x2},e8=Object.fromEntries(Eh.map(t=>[t,zo(Object.values(Ph).filter(k=>k.weaponType===t).map(k=>({display:k.data.display})))]));function s8(t){return Ph[t]}export{s as W,s8 as g};
