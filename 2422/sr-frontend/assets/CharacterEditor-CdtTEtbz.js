import{bD as Z,bE as w,bF as A,bG as y,bH as k,bI as X,bJ as K,bK as ee,r as f,bL as se,bM as te,j as R,f as ne,bN as ie,bO as oe,bP as le,bQ as M,s as ae,u as re,a3 as E,D as n,aJ as de,bR as ce,H as a,a1 as I,Z as l,aF as h,ag as u,aa as L,z as V,A as F,ad as ue,a9 as pe,bS as fe,Y as p,ab as T}from"./index-DJsFad4N.js";import{s as me,c as ve}from"./index-Cbx8jxlU.js";import{C as he}from"./CardActionArea-DRhVekhW.js";import{M as O,D as H,T as $}from"./DropdownButton-D-1v3eYr.js";const be=["component","direction","spacing","divider","children","className","useFlexGap"],ge=Z(),Ce=w("div",{name:"MuiStack",slot:"Root",overridesResolver:(s,e)=>e.root});function ke(s){return ie({props:s,name:"MuiStack",defaultTheme:ge})}function xe(s,e){const t=f.Children.toArray(s).filter(Boolean);return t.reduce((i,r,o)=>(i.push(r),o<t.length-1&&i.push(f.cloneElement(e,{key:`separator-${o}`})),i),[])}const _e=s=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[s],Re=({ownerState:s,theme:e})=>{let t=A({display:"flex",flexDirection:"column"},y({theme:e},k({values:s.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i})));if(s.spacing){const i=X(e),r=Object.keys(e.breakpoints.values).reduce((d,c)=>((typeof s.spacing=="object"&&s.spacing[c]!=null||typeof s.direction=="object"&&s.direction[c]!=null)&&(d[c]=!0),d),{}),o=k({values:s.direction,base:r}),m=k({values:s.spacing,base:r});typeof o=="object"&&Object.keys(o).forEach((d,c,b)=>{if(!o[d]){const C=c>0?o[b[c-1]]:"column";o[d]=C}}),t=K(t,y({theme:e},m,(d,c)=>s.useFlexGap?{gap:M(i,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${_e(c?o[c]:s.direction)}`]:M(i,d)}}))}return t=ee(e.breakpoints,t),t};function Ee(s={}){const{createStyledComponent:e=Ce,useThemeProps:t=ke,componentName:i="MuiStack"}=s,r=()=>oe({root:["root"]},d=>le(i,d),{}),o=e(Re);return f.forwardRef(function(d,c){const b=t(d),g=se(b),{component:C="div",direction:q="column",spacing:z=0,divider:B,children:P,className:U,useFlexGap:W=!1}=g,J=te(g,be),Q={direction:q,spacing:z,useFlexGap:W},Y=r();return R.jsx(o,A({as:C,ownerState:Q,ref:c,className:ne(Y.root,U)},J,{children:B?xe(P,B):P}))})}const je=Ee({createStyledComponent:ae("div",{name:"MuiStack",slot:"Root",overridesResolver:(s,e)=>e.root}),useThemeProps:s=>re({props:s,name:"MuiStack"})}),G=je;function N(s=""){const{database:e}=E(),[t,i]=f.useState(e.chars.get(s));return f.useEffect(()=>i(e.chars.get(s)),[e,s]),f.useEffect(()=>s?e.chars.follow(s,(r,o,m)=>o==="update"&&i(m)):void 0,[s,i,e]),t}function v({characterKey:s,abilityKey:e}){const t=N(s),{database:i}=E(),r=e.charAt(0).toUpperCase()+e.slice(1);return n(H,{title:`${r} Lv. ${(t==null?void 0:t[e])??1}`,disabled:!t,children:!!s&&de(1,ce[e][(t==null?void 0:t.ascension)??0]).map(o=>a(O,{selected:(t==null?void 0:t[e])===o,disabled:(t==null?void 0:t[e])===o,onClick:()=>i.chars.set(s,{[e]:o}),children:[r," Lv. ",o]},`${e}_${o}`))})}function Oe({character:s,onClick:e}){const t=me(ve(s));return n(G,{children:n(I,{children:a(L,{children:[e?n(he,{onClick:e,children:n(l,{variant:"h4",children:s.key})}):n(l,{variant:"h4",children:s.key}),n(h,{}),a(l,{children:["Eidolon: ",s.eidolon]}),a(l,{children:["Level: ",s.level]}),a(l,{children:["ATK: ",t.compute(u.final.atk).val]}),a(l,{children:["Break effect: ",t.compute(u.final.brEff_).val]}),a(l,{children:["CRIT Rate: ",t.compute(u.final.crit_).val]}),a(l,{children:["CRIT DMG: ",t.compute(u.final.crit_dmg_).val]}),a(l,{children:["DEF: ",t.compute(u.final.def).val]}),a(l,{children:["Effect Hit Rate: ",t.compute(u.final.eff_).val]}),a(l,{children:["Effect RES: ",t.compute(u.final.eff_res_).val]}),a(l,{children:["Energy Regeneration Rate: ",t.compute(u.final.enerRegen_).val]}),a(l,{children:["Heal Boost: ",t.compute(u.final.heal_).val]}),a(l,{children:["HP: ",t.compute(u.final.hp).val]}),a(l,{children:["Speed: ",t.compute(u.final.spd).val]})]})})})}var j={},De=F;Object.defineProperty(j,"__esModule",{value:!0});var x=j.default=void 0,Se=De(V()),Be=R,Pe=(0,Se.default)((0,Be.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");x=j.default=Pe;var D={},ye=F;Object.defineProperty(D,"__esModule",{value:!0});var _=D.default=void 0,Me=ye(V()),Te=R,$e=(0,Me.default)((0,Te.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");_=D.default=$e;function He({characterKey:s,onClose:e}){return n(pe,{open:!!s,onClose:e,children:n(f.Suspense,{fallback:n(ue,{variant:"rectangular",width:"100%",height:1e3}),children:s&&n(Ae,{characterKey:s})})})}function Ae({characterKey:s}){const e=N(s),{database:t}=E();return n(I,{children:a(L,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n(l,{variant:"h2",children:s}),n($,{type:"number",label:"Level",variant:"outlined",inputProps:{min:1,max:90},value:(e==null?void 0:e.level)||0,onChange:i=>t.chars.set(s,{level:parseInt(i.target.value)}),disabled:!e}),n($,{type:"number",label:"Ascension",variant:"outlined",inputProps:{min:0,max:6},value:(e==null?void 0:e.ascension)||0,onChange:i=>t.chars.set(s,{ascension:parseInt(i.target.value)}),disabled:!e}),n(H,{title:`Eidolon Lv. ${(e==null?void 0:e.eidolon)??0}`,fullWidth:!1,disabled:!e,children:fe.map(i=>a(O,{selected:(e==null?void 0:e.eidolon)===i,disabled:(e==null?void 0:e.eidolon)===i,onClick:()=>t.chars.set(s,{eidolon:i}),children:["Eidolon Lv. ",i]},i))}),a(G,{spacing:1,children:[n(l,{variant:"h6",children:"Abilites"}),n(h,{}),a(p,{container:!0,gap:1,children:[n(p,{item:!0,children:n(v,{characterKey:s,abilityKey:"basic"})}),n(p,{item:!0,children:n(v,{characterKey:s,abilityKey:"skill"})}),n(p,{item:!0,children:n(v,{characterKey:s,abilityKey:"ult"})}),n(p,{item:!0,children:n(v,{characterKey:s,abilityKey:"talent"})})]}),n(l,{variant:"h6",children:"Bonus Abilities"}),n(h,{}),n(p,{container:!0,gap:1,children:Object.entries((e==null?void 0:e.bonusAbilities)??{}).map(([i,r])=>n(p,{item:!0,children:n(T,{color:r?"success":"primary",onClick:()=>{t.chars.set(s,{bonusAbilities:{...e==null?void 0:e.bonusAbilities,[i]:!r}})},startIcon:r?n(x,{}):n(_,{}),children:i})},i))}),n(l,{variant:"h6",children:"Stat Boosts"}),n(h,{}),n(p,{container:!0,gap:1,children:Object.entries((e==null?void 0:e.statBoosts)??{}).map(([i,r])=>n(p,{item:!0,children:n(T,{color:r?"success":"primary",onClick:()=>{t.chars.set(s,{statBoosts:{...e==null?void 0:e.statBoosts,[i]:!r}})},startIcon:r?n(x,{}):n(_,{}),children:i})},i))})]})]})})}export{He as C,G as S,Oe as a,_ as b,x as d,N as u};
