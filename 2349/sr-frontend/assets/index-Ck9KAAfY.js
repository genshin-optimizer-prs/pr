import{_ as _e,r as xr,m as Sr,a as b,u as vt,b as kr,g as Wt,c as qt,d as qe,j as y,s as oe,P as Cr,e as ae,f as Be,l as Ue,h,I as Gt,C as wr,i as be,k as Yt,n as Xt,o as $r,p as Pe,q as Rr,t as Lr,v as pt,w as Ve,x as ft,y as Ce,z as Ke,A as At,B as Qt,D as Pr,E as fe,F as we,G as $e,H as n,J as _r,K as Ae,L as Mr,M as Me,N as yt,O as Ar,Q as Zt,R as Ir,S as Tr,T as zr,U as T,V as Jt,W as jr,X as Nr,Y as Or,Z as Dr,$ as Fr,a0 as mt,a1 as It,a2 as Tt,a3 as Hr,a4 as le,a5 as Er,a6 as W,a7 as he,a8 as er,a9 as Vr,aa as me,ab as Kr,ac as Br,ad as tr,ae as Ur,af as Wr,ag as zt,ah as qr,ai as Gr,aj as Yr,ak as Xr,al as rr,am as Qr,an as se,ao as Zr,ap as Jr,aq as ht,ar as ea,as as ta,at as bt,au as ra}from"./index-DdtbEuys.js";import{u as ar,a as aa,b as oa}from"./useInfScroll-99rF1t7X.js";import{d as gt}from"./Add-Bw59jxDW.js";import{C as na}from"./CardHeader-U3YniWKL.js";const sa={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},la=sa;function ia(e,t,a=(r,u)=>r===u){return e.length===t.length&&e.every((r,u)=>a(r,t[u]))}const ca=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ua=["component","slots","slotProps"],da=["component"];function jt(e,t){const{className:a,elementType:r,ownerState:u,externalForwardedProps:d,getSlotOwnerState:i,internalForwardedProps:p}=t,m=_e(t,ca),{component:A,slots:P={[e]:void 0},slotProps:o={[e]:void 0}}=d,R=_e(d,ua),_=P[e]||r,$=xr(o[e],u),x=Sr(b({className:a},m,{externalForwardedProps:e==="root"?R:void 0,externalSlotProps:$})),{props:{component:v},internalRef:M}=x,V=_e(x.props,da),z=vt(M,$==null?void 0:$.ref,t.ref),I=i?i(V):{},C=b({},u,I),O=e==="root"?v||A:v,D=kr(_,b({},e==="root"&&!A&&!P[e]&&p,e!=="root"&&!P[e]&&p,V,O&&{as:O},{ref:z}),C);return Object.keys(I).forEach(J=>{delete D[J]}),[_,D]}function pa(e){return qt("MuiAlert",e)}const fa=Wt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Nt=fa,ma=qe(y.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),va=qe(y.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ha=qe(y.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ba=qe(y.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ga=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],ya=Yt(),xa=e=>{const{variant:t,color:a,severity:r,classes:u}=e,d={root:["root",`color${ae(a||r)}`,`${t}${ae(a||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Xt(d,pa,u)},Sa=oe(Cr,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`${a.variant}${ae(a.color||a.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Be:Ue,a=e.palette.mode==="light"?Ue:Be;return b({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:a(e.palette[r].light,.9),[`& .${Nt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${Nt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:b({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),ka=oe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ca=oe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ot=oe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Dt={success:y.jsx(ma,{fontSize:"inherit"}),warning:y.jsx(va,{fontSize:"inherit"}),error:y.jsx(ha,{fontSize:"inherit"}),info:y.jsx(ba,{fontSize:"inherit"})},wa=h.forwardRef(function(t,a){const r=ya({props:t,name:"MuiAlert"}),{action:u,children:d,className:i,closeText:p="Close",color:m,components:A={},componentsProps:P={},icon:o,iconMapping:R=Dt,onClose:_,role:$="alert",severity:x="success",slotProps:v={},slots:M={},variant:V="standard"}=r,z=_e(r,ga),I=b({},r,{color:m,severity:x,variant:V,colorSeverity:m||x}),C=xa(I),O={slots:b({closeButton:A.CloseButton,closeIcon:A.CloseIcon},M),slotProps:b({},P,v)},[D,J]=jt("closeButton",{elementType:Gt,externalForwardedProps:O,ownerState:I}),[q,X]=jt("closeIcon",{elementType:wr,externalForwardedProps:O,ownerState:I});return y.jsxs(Sa,b({role:$,elevation:0,ownerState:I,className:be(C.root,i),ref:a},z,{children:[o!==!1?y.jsx(ka,{ownerState:I,className:C.icon,children:o||R[x]||Dt[x]}):null,y.jsx(Ca,{ownerState:I,className:C.message,children:d}),u!=null?y.jsx(Ot,{ownerState:I,className:C.action,children:u}):null,u==null&&_?y.jsx(Ot,{ownerState:I,className:C.action,children:y.jsx(D,b({size:"small","aria-label":p,title:p,color:"inherit",onClick:_},J,{children:y.jsx(q,b({fontSize:"small"},X))}))}):null]}))}),$a=wa,Ra=2;function or(e,t){return e-t}function Ft(e,t){var a;const{index:r}=(a=e.reduce((u,d,i)=>{const p=Math.abs(t-d);return u===null||p<u.distance||p===u.distance?{distance:p,index:i}:u},null))!=null?a:{};return r}function De(e,t){if(t.current!==void 0&&e.changedTouches){const a=e;for(let r=0;r<a.changedTouches.length;r+=1){const u=a.changedTouches[r];if(u.identifier===t.current)return{x:u.clientX,y:u.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function We(e,t,a){return(e-t)*100/(a-t)}function La(e,t,a){return(a-t)*e+t}function Pa(e){if(Math.abs(e)<1){const a=e.toExponential().split("e-"),r=a[0].split(".")[1];return(r?r.length:0)+parseInt(a[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function _a(e,t,a){const r=Math.round((e-a)/t)*t+a;return Number(r.toFixed(Pa(t)))}function Ht({values:e,newValue:t,index:a}){const r=e.slice();return r[a]=t,r.sort(or)}function Fe({sliderRef:e,activeIndex:t,setActive:a}){var r,u;const d=Ve(e.current);if(!((r=e.current)!=null&&r.contains(d.activeElement))||Number(d==null||(u=d.activeElement)==null?void 0:u.getAttribute("data-index"))!==t){var i;(i=e.current)==null||i.querySelector(`[type="range"][data-index="${t}"]`).focus()}a&&a(t)}function He(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?ia(e,t):!1}const Ma={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Aa=e=>e;let Ee;function Et(){return Ee===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ee=CSS.supports("touch-action","none"):Ee=!0),Ee}function Ia(e){const{"aria-labelledby":t,defaultValue:a,disabled:r=!1,disableSwap:u=!1,isRtl:d=!1,marks:i=!1,max:p=100,min:m=0,name:A,onChange:P,onChangeCommitted:o,orientation:R="horizontal",rootRef:_,scale:$=Aa,step:x=1,shiftStep:v=10,tabIndex:M,value:V}=e,z=h.useRef(),[I,C]=h.useState(-1),[O,D]=h.useState(-1),[J,q]=h.useState(!1),X=h.useRef(0),[G,de]=$r({controlled:V,default:a??m,name:"Slider"}),Y=P&&((l,c,f)=>{const S=l.nativeEvent||l,k=new S.constructor(S.type,S);Object.defineProperty(k,"target",{writable:!0,value:{value:c,name:A}}),P(k,c,f)}),ie=Array.isArray(G);let s=ie?G.slice().sort(or):[G];s=s.map(l=>l==null?m:Pe(l,m,p));const j=i===!0&&x!==null?[...Array(Math.floor((p-m)/x)+1)].map((l,c)=>({value:m+x*c})):i||[],L=j.map(l=>l.value),{isFocusVisibleRef:E,onBlur:ge,onFocus:Re,ref:Ge}=Rr(),[Ie,ve]=h.useState(-1),U=h.useRef(),Te=vt(Ge,U),ze=vt(_,Te),ye=l=>c=>{var f;const S=Number(c.currentTarget.getAttribute("data-index"));Re(c),E.current===!0&&ve(S),D(S),l==null||(f=l.onFocus)==null||f.call(l,c)},xe=l=>c=>{var f;ge(c),E.current===!1&&ve(-1),D(-1),l==null||(f=l.onBlur)==null||f.call(l,c)},je=(l,c)=>{const f=Number(l.currentTarget.getAttribute("data-index")),S=s[f],k=L.indexOf(S);let g=c;if(j&&x==null){const re=L[L.length-1];g>re?g=re:g<L[0]?g=L[0]:g=g<S?L[k-1]:L[k+1]}if(g=Pe(g,m,p),ie){u&&(g=Pe(g,s[f-1]||-1/0,s[f+1]||1/0));const re=g;g=Ht({values:s,newValue:g,index:f});let ne=f;u||(ne=g.indexOf(re)),Fe({sliderRef:U,activeIndex:ne})}de(g),ve(f),Y&&!He(g,G)&&Y(l,g,f),o&&o(l,g)},Ye=l=>c=>{var f;if(x!==null){const S=Number(c.currentTarget.getAttribute("data-index")),k=s[S];let g=null;(c.key==="ArrowLeft"||c.key==="ArrowDown")&&c.shiftKey||c.key==="PageDown"?g=Math.max(k-v,m):((c.key==="ArrowRight"||c.key==="ArrowUp")&&c.shiftKey||c.key==="PageUp")&&(g=Math.min(k+v,p)),g!==null&&(je(c,g),c.preventDefault())}l==null||(f=l.onKeyDown)==null||f.call(l,c)};Lr(()=>{if(r&&U.current.contains(document.activeElement)){var l;(l=document.activeElement)==null||l.blur()}},[r]),r&&I!==-1&&C(-1),r&&Ie!==-1&&ve(-1);const Xe=l=>c=>{var f;(f=l.onChange)==null||f.call(l,c),je(c,c.target.valueAsNumber)},Ne=h.useRef();let ce=R;d&&R==="horizontal"&&(ce+="-reverse");const F=({finger:l,move:c=!1})=>{const{current:f}=U,{width:S,height:k,bottom:g,left:re}=f.getBoundingClientRect();let ne;ce.indexOf("vertical")===0?ne=(g-l.y)/k:ne=(l.x-re)/S,ce.indexOf("-reverse")!==-1&&(ne=1-ne);let w;if(w=La(ne,m,p),x)w=_a(w,x,m);else{const ke=Ft(L,w);w=L[ke]}w=Pe(w,m,p);let Q=0;if(ie){c?Q=Ne.current:Q=Ft(s,w),u&&(w=Pe(w,s[Q-1]||-1/0,s[Q+1]||1/0));const ke=w;w=Ht({values:s,newValue:w,index:Q}),u&&c||(Q=w.indexOf(ke),Ne.current=Q)}return{newValue:w,activeIndex:Q}},N=pt(l=>{const c=De(l,z);if(!c)return;if(X.current+=1,l.type==="mousemove"&&l.buttons===0){ee(l);return}const{newValue:f,activeIndex:S}=F({finger:c,move:!0});Fe({sliderRef:U,activeIndex:S,setActive:C}),de(f),!J&&X.current>Ra&&q(!0),Y&&!He(f,G)&&Y(l,f,S)}),ee=pt(l=>{const c=De(l,z);if(q(!1),!c)return;const{newValue:f}=F({finger:c,move:!0});C(-1),l.type==="touchend"&&D(-1),o&&o(l,f),z.current=void 0,te()}),pe=pt(l=>{if(r)return;Et()||l.preventDefault();const c=l.changedTouches[0];c!=null&&(z.current=c.identifier);const f=De(l,z);if(f!==!1){const{newValue:k,activeIndex:g}=F({finger:f});Fe({sliderRef:U,activeIndex:g,setActive:C}),de(k),Y&&!He(k,G)&&Y(l,k,g)}X.current=0;const S=Ve(U.current);S.addEventListener("touchmove",N,{passive:!0}),S.addEventListener("touchend",ee,{passive:!0})}),te=h.useCallback(()=>{const l=Ve(U.current);l.removeEventListener("mousemove",N),l.removeEventListener("mouseup",ee),l.removeEventListener("touchmove",N),l.removeEventListener("touchend",ee)},[ee,N]);h.useEffect(()=>{const{current:l}=U;return l.addEventListener("touchstart",pe,{passive:Et()}),()=>{l.removeEventListener("touchstart",pe),te()}},[te,pe]),h.useEffect(()=>{r&&te()},[r,te]);const Qe=l=>c=>{var f;if((f=l.onMouseDown)==null||f.call(l,c),r||c.defaultPrevented||c.button!==0)return;c.preventDefault();const S=De(c,z);if(S!==!1){const{newValue:g,activeIndex:re}=F({finger:S});Fe({sliderRef:U,activeIndex:re,setActive:C}),de(g),Y&&!He(g,G)&&Y(c,g,re)}X.current=0;const k=Ve(U.current);k.addEventListener("mousemove",N,{passive:!0}),k.addEventListener("mouseup",ee)},B=We(ie?s[0]:m,m,p),Se=We(s[s.length-1],m,p)-B,Ze=(l={})=>{const c=ft(l),f={onMouseDown:Qe(c||{})},S=Ce({},c,f);return Ce({},l,{ref:ze},S)},Je=l=>c=>{var f;(f=l.onMouseOver)==null||f.call(l,c);const S=Number(c.currentTarget.getAttribute("data-index"));D(S)},et=l=>c=>{var f;(f=l.onMouseLeave)==null||f.call(l,c),D(-1)};return{active:I,axis:ce,axisProps:Ma,dragging:J,focusedThumbIndex:Ie,getHiddenInputProps:(l={})=>{var c;const f=ft(l),S={onChange:Xe(f||{}),onFocus:ye(f||{}),onBlur:xe(f||{}),onKeyDown:Ye(f||{})},k=Ce({},f,S);return Ce({tabIndex:M,"aria-labelledby":t,"aria-orientation":R,"aria-valuemax":$(p),"aria-valuemin":$(m),name:A,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(c=e.step)!=null?c:void 0,disabled:r},l,k,{style:Ce({},la,{direction:d?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ze,getThumbProps:(l={})=>{const c=ft(l),f={onMouseOver:Je(c||{}),onMouseLeave:et(c||{})};return Ce({},l,c,f)},marks:j,open:O,range:ie,rootRef:ze,trackLeap:Se,trackOffset:B,values:s,getThumbStyle:l=>({pointerEvents:I!==-1&&I!==l?"none":void 0})}}const Ta=e=>!e||!Ke(e);function za(e){return qt("MuiSlider",e)}const ja=Wt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Z=ja,Na=e=>{const{open:t}=e;return{offset:be(t&&Z.valueLabelOpen),circle:Z.valueLabelCircle,label:Z.valueLabelLabel}};function Oa(e){const{children:t,className:a,value:r}=e,u=Na(e);return t?h.cloneElement(t,{className:be(t.props.className)},y.jsxs(h.Fragment,{children:[t.props.children,y.jsx("span",{className:be(u.offset,a),"aria-hidden":!0,children:y.jsx("span",{className:u.circle,children:y.jsx("span",{className:u.label,children:r})})})]})):null}const Da=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],Fa=Yt();function Vt(e){return e}const Ha=oe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`color${ae(a.color)}`],a.size!=="medium"&&t[`size${ae(a.size)}`],a.marked&&t.marked,a.orientation==="vertical"&&t.vertical,a.track==="inverted"&&t.trackInverted,a.track===!1&&t.trackFalse]}})(({theme:e})=>{var t;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Z.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Z.dragging}`]:{[`& .${Z.thumb}, & .${Z.track}`]:{transition:"none"}},variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(a=>{var r;return((r=e.vars)!=null?r:e).palette[a].main}).map(a=>({props:{color:a},style:{color:(e.vars||e).palette[a].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),Ea=oe("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Va=oe("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>{var t;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((t=e.vars)!=null?t:e).palette).filter(a=>{var r;return((r=e.vars)!=null?r:e).palette[a].main}).map(a=>({props:{color:a,track:"inverted"},style:b({},e.vars?{backgroundColor:e.vars.palette.Slider[`${a}Track`],borderColor:e.vars.palette.Slider[`${a}Track`]}:b({backgroundColor:Ue(e.palette[a].main,.62),borderColor:Ue(e.palette[a].main,.62)},e.applyStyles("dark",{backgroundColor:Be(e.palette[a].main,.5)}),e.applyStyles("dark",{borderColor:Be(e.palette[a].main,.5)})))}))]}}),Ka=oe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.thumb,t[`thumbColor${ae(a.color)}`],a.size!=="medium"&&t[`thumbSize${ae(a.size)}`]]}})(({theme:e})=>{var t;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Z.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((t=e.vars)!=null?t:e).palette).filter(a=>{var r;return((r=e.vars)!=null?r:e).palette[a].main}).map(a=>({props:{color:a},style:{[`&:hover, &.${Z.focusVisible}`]:b({},e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[a].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${At(e.palette[a].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Z.active}`]:b({},e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[a].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${At(e.palette[a].main,.16)}`})}}))]}}),Ba=oe(Oa,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e})=>b({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Z.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Z.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),Ua=oe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Qt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:a}=e;return[t.mark,a&&t.markActive]}})(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]})),Wa=oe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Qt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e})=>b({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]})),qa=e=>{const{disabled:t,dragging:a,marked:r,orientation:u,track:d,classes:i,color:p,size:m}=e,A={root:["root",t&&"disabled",a&&"dragging",r&&"marked",u==="vertical"&&"vertical",d==="inverted"&&"trackInverted",d===!1&&"trackFalse",p&&`color${ae(p)}`,m&&`size${ae(m)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",m&&`thumbSize${ae(m)}`,p&&`thumbColor${ae(p)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Xt(A,za,i)},Ga=({children:e})=>e,Ya=h.forwardRef(function(t,a){var r,u,d,i,p,m,A,P,o,R,_,$,x,v,M,V,z,I,C,O,D,J,q,X;const G=Fa({props:t,name:"MuiSlider"}),de=Pr(),{"aria-label":Y,"aria-valuetext":ie,"aria-labelledby":s,component:j="span",components:L={},componentsProps:E={},color:ge="primary",classes:Re,className:Ge,disableSwap:Ie=!1,disabled:ve=!1,getAriaLabel:U,getAriaValueText:Te,marks:ze=!1,max:ye=100,min:xe=0,orientation:je="horizontal",shiftStep:Ye=10,size:Xe="medium",step:Ne=1,scale:ce=Vt,slotProps:F,slots:N,track:ee="normal",valueLabelDisplay:pe="off",valueLabelFormat:te=Vt}=G,Qe=_e(G,Da),B=b({},G,{isRtl:de,max:ye,min:xe,classes:Re,disabled:ve,disableSwap:Ie,orientation:je,marks:ze,color:ge,size:Xe,step:Ne,shiftStep:Ye,scale:ce,track:ee,valueLabelDisplay:pe,valueLabelFormat:te}),{axisProps:Se,getRootProps:Ze,getHiddenInputProps:Je,getThumbProps:et,open:Rt,active:tt,axis:Le,focusedThumbIndex:l,range:c,dragging:f,marks:S,values:k,trackOffset:g,trackLeap:re,getThumbStyle:ne}=Ia(b({},B,{rootRef:a}));B.marked=S.length>0&&S.some(H=>H.label),B.dragging=f,B.focusedThumbIndex=l;const w=qa(B),Q=(r=(u=N==null?void 0:N.root)!=null?u:L.Root)!=null?r:Ha,ke=(d=(i=N==null?void 0:N.rail)!=null?i:L.Rail)!=null?d:Ea,Lt=(p=(m=N==null?void 0:N.track)!=null?m:L.Track)!=null?p:Va,Pt=(A=(P=N==null?void 0:N.thumb)!=null?P:L.Thumb)!=null?A:Ka,_t=(o=(R=N==null?void 0:N.valueLabel)!=null?R:L.ValueLabel)!=null?o:Ba,rt=(_=($=N==null?void 0:N.mark)!=null?$:L.Mark)!=null?_:Ua,at=(x=(v=N==null?void 0:N.markLabel)!=null?v:L.MarkLabel)!=null?x:Wa,Mt=(M=(V=N==null?void 0:N.input)!=null?V:L.Input)!=null?M:"input",ot=(z=F==null?void 0:F.root)!=null?z:E.root,dr=(I=F==null?void 0:F.rail)!=null?I:E.rail,nt=(C=F==null?void 0:F.track)!=null?C:E.track,st=(O=F==null?void 0:F.thumb)!=null?O:E.thumb,lt=(D=F==null?void 0:F.valueLabel)!=null?D:E.valueLabel,pr=(J=F==null?void 0:F.mark)!=null?J:E.mark,fr=(q=F==null?void 0:F.markLabel)!=null?q:E.markLabel,mr=(X=F==null?void 0:F.input)!=null?X:E.input,vr=fe({elementType:Q,getSlotProps:Ze,externalSlotProps:ot,externalForwardedProps:Qe,additionalProps:b({},Ta(Q)&&{as:j}),ownerState:b({},B,ot==null?void 0:ot.ownerState),className:[w.root,Ge]}),hr=fe({elementType:ke,externalSlotProps:dr,ownerState:B,className:w.rail}),br=fe({elementType:Lt,externalSlotProps:nt,additionalProps:{style:b({},Se[Le].offset(g),Se[Le].leap(re))},ownerState:b({},B,nt==null?void 0:nt.ownerState),className:w.track}),it=fe({elementType:Pt,getSlotProps:et,externalSlotProps:st,ownerState:b({},B,st==null?void 0:st.ownerState),className:w.thumb}),gr=fe({elementType:_t,externalSlotProps:lt,ownerState:b({},B,lt==null?void 0:lt.ownerState),className:w.valueLabel}),ct=fe({elementType:rt,externalSlotProps:pr,ownerState:B,className:w.mark}),ut=fe({elementType:at,externalSlotProps:fr,ownerState:B,className:w.markLabel}),yr=fe({elementType:Mt,getSlotProps:Je,externalSlotProps:mr,ownerState:B});return y.jsxs(Q,b({},vr,{children:[y.jsx(ke,b({},hr)),y.jsx(Lt,b({},br)),S.filter(H=>H.value>=xe&&H.value<=ye).map((H,K)=>{const dt=We(H.value,xe,ye),Oe=Se[Le].offset(dt);let ue;return ee===!1?ue=k.indexOf(H.value)!==-1:ue=ee==="normal"&&(c?H.value>=k[0]&&H.value<=k[k.length-1]:H.value<=k[0])||ee==="inverted"&&(c?H.value<=k[0]||H.value>=k[k.length-1]:H.value>=k[0]),y.jsxs(h.Fragment,{children:[y.jsx(rt,b({"data-index":K},ct,!Ke(rt)&&{markActive:ue},{style:b({},Oe,ct.style),className:be(ct.className,ue&&w.markActive)})),H.label!=null?y.jsx(at,b({"aria-hidden":!0,"data-index":K},ut,!Ke(at)&&{markLabelActive:ue},{style:b({},Oe,ut.style),className:be(w.markLabel,ut.className,ue&&w.markLabelActive),children:H.label})):null]},K)}),k.map((H,K)=>{const dt=We(H,xe,ye),Oe=Se[Le].offset(dt),ue=pe==="off"?Ga:_t;return y.jsx(ue,b({},!Ke(ue)&&{valueLabelFormat:te,valueLabelDisplay:pe,value:typeof te=="function"?te(ce(H),K):te,index:K,open:Rt===K||tt===K||pe==="on",disabled:ve},gr,{children:y.jsx(Pt,b({"data-index":K},it,{className:be(w.thumb,it.className,tt===K&&w.active,l===K&&w.focusVisible),style:b({},Oe,ne(K),it.style),children:y.jsx(Mt,b({"data-index":K,"aria-label":U?U(K):Y,"aria-valuenow":ce(H),"aria-labelledby":s,"aria-valuetext":Te?Te(ce(H),K):ie,value:k[K]},yr))}))}),K)})]}))}),Xa=Ya;var xt={},Qa=$e;Object.defineProperty(xt,"__esModule",{value:!0});var nr=xt.default=void 0,Za=Qa(we()),Ja=y,eo=(0,Za.default)((0,Ja.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");nr=xt.default=eo;const Kt=({stars:e=1,colored:t=!1,inline:a=!1})=>n(_r,{color:t?"warning":void 0,children:[...Array(e).keys()].map((r,u)=>n(nr,{fontSize:a?"inherit":void 0,sx:a?{verticalAlign:"text-top"}:void 0},u))});var St={},to=$e;Object.defineProperty(St,"__esModule",{value:!0});var sr=St.default=void 0,ro=to(we()),ao=y,oo=(0,ro.default)((0,ao.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");sr=St.default=oo;var kt={},no=$e;Object.defineProperty(kt,"__esModule",{value:!0});var lr=kt.default=void 0,so=no(we()),lo=y,io=(0,so.default)((0,lo.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");lr=kt.default=io;var Ct={},co=$e;Object.defineProperty(Ct,"__esModule",{value:!0});var ir=Ct.default=void 0,uo=co(we()),po=y,fo=(0,uo.default)((0,po.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");ir=Ct.default=fo;var wt={},mo=$e;Object.defineProperty(wt,"__esModule",{value:!0});var cr=wt.default=void 0,vo=mo(we()),ho=y,bo=(0,vo.default)((0,ho.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");cr=wt.default=bo;var $t={},go=$e;Object.defineProperty($t,"__esModule",{value:!0});var ur=$t.default=void 0,yo=go(we()),xo=y,So=(0,yo.default)((0,xo.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update");ur=$t.default=So;function ko({rarity:e,onRarityChange:t,filter:a,...r}){const{t:u}=Ae("relic");return n(yt,{...r,title:e?n(Kt,{stars:e,inline:!0}):u`editor.rarity`,color:e?"success":"primary",children:Mr.map(d=>n(Me,{disabled:!a(d),onClick:()=>t(d),children:n(Kt,{stars:d,inline:!0})},d))})}function Co({relicSetKey:e,setRelicSetKey:t,label:a="",...r}){const{t:u}=Ae(["relic","relicNames_gen"]);a=a||u("relic:autocompleteLabels.set");const d=h.useMemo(()=>Ar.map(p=>({key:p,label:u(`relicNames_gen:${p}`)})),[u]),i=h.useCallback(p=>t(p??""),[t]);return n(Ir,{options:d,valueKey:e,onChange:i,toImg:()=>n(Zt,{children:" "}),label:a,...r})}function wo({index:e,relic:t,setSubstat:a}){const{t:r}=Ae("relic"),{mainStatKey:u="",rarity:d=5}=t??{},{key:i="",value:p=0,rolls:m=[],efficiency:A=0}=(t==null?void 0:t.substats[e])??{},P=m.length;let o="",R=[],_=0;if(t){const v=t.rarity,{numUpgrades:M,high:V}=Kr[v];_=M+V-3-P,R=i?Tr(i,v):[]}const $=7-R.length;_<0&&(o=o||r("editor.substat.error.noOverRoll",{value:_+P}));const x=h.useMemo(()=>i?[{value:0},...zr(d,i).map(v=>({value:v}))]:[{value:0}],[i,d]);return T(me,{bgt:"light",children:[n(le,{sx:{display:"flex"},children:T(Jt,{size:"small",sx:{width:"100%",display:"flex"},children:[T(yt,{title:i?n("p",{children:i}):r("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:i?"success":"primary",sx:{whiteSpace:"nowrap"},children:[i&&n(Me,{onClick:()=>a(e,{key:"",value:0}),children:r`editor.substat.noSubstat`}),jr.filter(v=>u!==v).map(v=>T(Me,{selected:i===v,disabled:i===v,onClick:()=>a(e,{key:v,value:0}),children:[n(Nr,{}),n(Or,{children:v})]},v))]}),n(Dr,{sx:{flexBasis:30,flexGrow:1},children:n(Fr,{float:mt(i)==="%",placeholder:r`editor.substat.selectSub`,value:i?It(Tt(p,i),i):void 0,onChange:v=>{let M=v??0;mt(i)==="%"&&(M=M/100),a(e,{key:i,value:M})},disabled:!i,error:!!o,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!R.length&&n(Hr,{children:r`editor.substat.nextRolls`})]})}),n(le,{px:2,children:n($o,{value:It(Tt(p,i),i),marks:x,setValue:v=>{let M=v??0;mt(i)==="%"&&(M=M/100),a(e,{key:i,value:M})},disabled:!i})}),n(le,{sx:{px:1,pb:1},children:o?n(Er,{color:"error",children:r`ui:error`}):T(W,{container:!0,children:[n(W,{item:!0,flexGrow:1,children:!!m.length&&[...m].sort().map((v,M)=>n(he,{component:"span",color:`roll${er($+R.indexOf(v),1,6)}.main`,sx:{ml:1},children:v},`${M}.${v}`))}),n(W,{item:!0,xs:"auto",flexShrink:1,children:n(he,{children:T(Vr,{t:r,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",A]})})})]})})]})}function $o({value:e,setValue:t,marks:a,disabled:r=!1}){var i,p;const[u,d]=h.useState(e);return h.useEffect(()=>d(e),[e]),n(Xa,{value:u,step:.1,disabled:r,min:((i=a[1])==null?void 0:i.value)??0,max:((p=a[a.length-1])==null?void 0:p.value)??0,onChange:(m,A)=>d(A),onChangeCommitted:(m,A)=>t(A),valueLabelDisplay:"auto"})}function Ro(e,t){const r=(()=>{switch(t.type){case"reset":return;case"substat":{const{index:u,substat:d}=t,i=[...e.substats],p=d.key?i.findIndex(m=>m.key===d.key):-1;if(p===-1||p===u)i[u]={...d};else{const m=i[u];i[u]={...i[p]},i[p]={...m}}return{...e,substats:i}}case"overwrite":return t.relic;case"update":return{...e,...t.relic}}})();return r&&Br(r,!0)}const Bt={rarity:[5,4,3,2],setEffects:{}};function Lo({relicIdToEdit:e="new",cancelEdit:t,fixedSlotKey:a,allowEmpty:r=!1,disableSet:u=!1}){const{t:d}=Ae("relic"),{database:i}=tr(),[p,m]=ar();h.useEffect(()=>i.relics.followAny(m),[i,m]);const[A,P]=h.useState(!1);h.useEffect(()=>{e==="new"&&(P(!0),R({type:"reset"}));const s=e&&p&&i.relics.get(e);s&&(P(!0),R({type:"overwrite",relic:Ur(s)}))},[e,i,p]);const[o,R]=h.useReducer(Ro,void 0),{relic:_,errors:$}=h.useMemo(()=>o?Wr(o,e):{relic:void 0,errors:[]},[o,e]),{prev:x,prevEditType:v}=h.useMemo(()=>{const s=p&&e&&i.relics.get(e);if(s)return{prev:s,prevEditType:"edit"};if(o===void 0)return{prev:void 0,prevEditType:""};const{duplicated:j,upgraded:L}=p&&i.relics.findDups(o);return{prev:j[0]??L[0],prevEditType:j.length!==0?"duplicate":"upgrade"}},[o,e,i,p]),M=!["new",""].includes(e)&&!!(o!=null&&o.location)||!!a||!!e&&e!=="new",{rarity:V=5,level:z=0}=o??{},I=h.useMemo(()=>(o==null?void 0:o.slotKey)??a??"head",[a,o]),C=o?Bt:void 0,O=h.useCallback(s=>{const j=s.setKey?Bt:C;function L(E,ge,Re){return E&&ge.includes(E)?E:Re??ge[0]}s.setKey&&(s.rarity=L(o==null?void 0:o.rarity,j.rarity,Math.max(...j.rarity)),s.slotKey=L(o==null?void 0:o.slotKey,["head","hand"])),s.rarity&&(s.level=(o==null?void 0:o.level)??0),s.level&&(s.level=er(s.level,0,3*(s.rarity??o.rarity))),s.slotKey&&(s.mainStatKey=L(o==null?void 0:o.mainStatKey,zt[s.slotKey])),s.mainStatKey&&(s.substats=[0,1,2,3].map(E=>o&&o.substats[E].key!==s.mainStatKey?o.substats[E]:{key:"",value:0})),R({type:"update",relic:s})},[o,C,R]),D=h.useCallback(()=>{t==null||t(),R({type:"reset"})},[t,R]),J=h.useCallback((s,j)=>R({type:"substat",index:s,substat:j}),[]),q=!$.length,X=h.useCallback(s=>{if(!e&&o&&!window.confirm(d`editor.clearPrompt`)){s==null||s.preventDefault();return}P(!1),D()},[d,e,o,P,D]),G=qr(),de=Gr(G.breakpoints.up("md")),Y=e!=="new"&&e||(x==null?void 0:x.id),ie=()=>window.confirm(d`editor.clearPrompt`);return n(h.Suspense,{fallback:!1,children:n(Yr,{open:A,onClose:X,children:T(me,{bgt:"dark",children:[n(na,{title:"Relic Editor",action:n(Gt,{onClick:X,children:n(Xr,{})})}),T(rr,{sx:{display:"flex",flexDirection:"column",gap:1},children:[T(W,{container:!0,spacing:1,columns:{xs:1,md:2},children:[T(W,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[T(le,{sx:{display:"flex",gap:1},children:[n(Co,{disabled:u,size:"small",relicSetKey:(o==null?void 0:o.setKey)??"",setRelicSetKey:s=>O({setKey:s}),sx:{flexGrow:1},label:o!=null&&o.setKey?"":d("editor.unknownSetName")}),n(ko,{rarity:o?V:void 0,onRarityChange:s=>O({rarity:s}),filter:s=>{var j,L;return!!((L=(j=C==null?void 0:C.rarity)==null?void 0:j.includes)!=null&&L.call(j,s))},disabled:!C})]}),T(le,{component:"div",display:"flex",children:[n(Qr,{label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:z,disabled:!C,onChange:s=>{const j=parseInt(s.target.value)||0;O({level:j})}}),T(Jt,{children:[n(se,{onClick:()=>O({level:z-1}),disabled:!C||z===0,children:"-"}),V?[...Array(V+1).keys()].map(s=>3*s).map(s=>n(se,{onClick:()=>O({level:s}),disabled:!C||z===s,children:s},s)):null,n(se,{onClick:()=>O({level:z+1}),disabled:!C||z===V*3,children:"+"})]})]}),T(le,{component:"div",display:"flex",children:[n(Zr,{label:"Slot",value:I,onChange:s=>O({slotKey:s.target.value}),disabled:M||!C,children:Jr.map(s=>n(Me,{value:s,children:s},s))}),n(me,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:n(h.Suspense,{fallback:n(ht,{width:"60%"}),children:n(he,{color:"text.secondary",children:I})})})]}),T(le,{component:"div",display:"flex",gap:1,children:[n(yt,{title:n("b",{children:(o==null?void 0:o.mainStatKey)??"Main Stat"}),disabled:!C,color:o?"success":"primary",children:zt[I].map(s=>n(Me,{selected:(o==null?void 0:o.mainStatKey)===s,disabled:(o==null?void 0:o.mainStatKey)===s,onClick:()=>O({mainStatKey:s}),children:s},s))}),n(me,{bgt:"light",sx:{p:1,flexGrow:1},children:n(he,{color:"text.secondary",children:o?ea(V,o.mainStatKey,z):d`mainStat`})}),n(se,{onClick:()=>O({lock:!(o!=null&&o.lock)}),color:o!=null&&o.lock?"success":"primary",disabled:!o,children:o!=null&&o.lock?n(ir,{}):n(cr,{})})]}),n(ta,{locKey:(_==null?void 0:_.location)??"",setLocKey:s=>O({location:s})})]}),n(W,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[0,1,2,3].map(s=>n(wo,{index:s,relic:_,setSubstat:J},s))})]}),x&&T(W,{container:!0,sx:{justifyContent:"space-around"},spacing:1,children:[n(W,{item:!0,xs:12,md:5.5,lg:4,children:T(me,{bgt:"light",children:[n(he,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:v!=="edit"?v==="duplicate"?d`editor.dupeRelic`:d`editor.updateRelic`:d`editor.beforeEdit`}),n(bt,{relic:x})]})}),de&&n(W,{item:!0,md:1,display:"flex",alignItems:"center",justifyContent:"center",children:n(me,{bgt:"light",sx:{display:"flex"},children:n(lr,{sx:{fontSize:40}})})}),n(W,{item:!0,xs:12,md:5.5,lg:4,children:T(me,{bgt:"light",children:[n(he,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:d`editor.preview`}),_&&n(bt,{relic:_})]})})]}),!q&&n($a,{variant:"filled",severity:"error",children:$.map((s,j)=>n("div",{children:s},j))}),T(le,{display:"flex",gap:2,children:[v==="edit"?n(se,{startIcon:n(gt,{}),onClick:()=>{o&&i.relics.set(x.id,o),r||(P(!1),t()),D()},disabled:!o||!q,color:"primary",children:d`editor.btnSave`}):n(se,{startIcon:n(gt,{}),onClick:()=>{i.relics.new(o),r||(P(!1),t()),D()},disabled:!o||!q,color:v==="duplicate"?"warning":"primary",children:d`editor.btnAdd`}),r&&n(se,{startIcon:n(sr,{}),disabled:!o,onClick:()=>{ie()&&D()},color:"error",children:d`editor.btnClear`}),x&&v!=="edit"&&n(se,{startIcon:n(ur,{}),onClick:()=>{o&&i.relics.set(x.id,o),D(),r||P(!1)},disabled:!o||!q,color:"success",children:d`editor.btnUpdate`}),!!Y&&n(se,{startIcon:n(ra,{}),onClick:()=>{window.confirm(d`editor.confirmDelete`)&&(i.relics.remove(Y),D(),r||P(!1))},disabled:!o||!q,color:"error",children:d`editor.delete`})]})]})]})})})}const Ut={xs:1,sm:2,md:3,lg:3,xl:4},Po={xs:10,sm:12,md:24,lg:24,xl:24};function _o({onAdd:e,onEdit:t}){const{t:a}=Ae("relic"),{database:r}=tr(),[u,d]=ar();h.useEffect(()=>r.relics.followAny(d),[r,d]);const{relicIds:i,totalRelicsNum:p}=h.useMemo(()=>{const $=r.relics.values,x=$.length,v=$.map(M=>M.id);return u&&{relicIds:v,totalRelicsNum:x}},[r,u]),m=aa(),A=i.length!==p?`${i.length}/${p}`:p,{numShow:P,setTriggerElement:o}=oa(Po[m],i.length),R=h.useMemo(()=>i.slice(0,P),[i,P]),_={numShowing:R.length,totalShowing:A};return T(Zt,{children:[n(me,{bgt:"dark",children:n(rr,{children:n(le,{pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:T(he,{color:"text.secondary",children:["Showing ",n("b",{children:_.numShowing})," out of"," ",_.totalShowing," Items"]})})})}),n(W,{container:!0,columns:Ut,spacing:1,children:n(W,{item:!0,xs:!0,children:n(se,{fullWidth:!0,onClick:e,color:"info",startIcon:n(gt,{}),children:a`addNew`})})}),T(h.Suspense,{fallback:n(ht,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:[n(W,{container:!0,columns:Ut,spacing:1,children:R.map($=>n(W,{item:!0,xs:1,children:n(bt,{relic:r.relics.get($),onEdit:()=>t==null?void 0:t($),onDelete:()=>r.relics.remove($),setLocation:x=>r.relics.set($,{location:x})})},$))}),i.length!==R.length&&n(ht,{ref:$=>{$&&o($)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})}function zo(){const[e,t]=h.useState("");return T(le,{display:"flex",flexDirection:"column",gap:1,my:1,children:[n(Lo,{relicIdToEdit:e,cancelEdit:()=>t(""),allowEmpty:!0}),n(_o,{onAdd:()=>t("new"),onEdit:t})]})}export{zo as default};
