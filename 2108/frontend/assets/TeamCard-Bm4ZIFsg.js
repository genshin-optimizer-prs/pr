import{b as w,fb as R,r as W,i as B,j as q,eW as D,q as e,p as n,t as v,T as c,a_ as L,em as M,W as r,R as P,D as $,x as H,w as O,cF as N,bv as F,d as b,aL as G,bB as V,dN as Z,fj as J,eV as Q,f as U,cZ as X,a3 as Y,bC as K,bH as ee,aC as te,E as ae,cW as se,fk as ne,ek as re,cL as ie}from"./index-CLqFN7wQ.js";function oe(t){const i=w();return R(i.teamChars,t)}var T={},ce=B;Object.defineProperty(T,"__esModule",{value:!0});var _=T.default=void 0,le=ce(W()),de=q,he=(0,le.default)((0,de.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");_=T.default=he;function ue({teamId:t,onClick:i,bgt:u}){const o=D(t),{name:s,description:h,loadoutData:m}=o,f=w();return e(O,{bgt:u,sx:{height:"100%",border:"1px rgba(200,200,200,0.4) solid"},children:n(r,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e(v,{onClick:()=>i(),sx:{p:1},children:n(c,{sx:{display:"flex",gap:1},variant:"h6",children:[e("span",{children:s})," ",h&&e(L,{title:e(c,{children:h}),children:e(M,{})})]})}),e(r,{sx:{marginTop:"auto"},children:m.map((p,a)=>{var g;const x=p==null?void 0:p.teamCharId,l=x&&((g=f.teamChars.get(x))==null?void 0:g.key);return n(P.Fragment,{children:[e($,{}),l?e(v,{onClick:()=>i(l),children:e(pe,{characterKey:l,teamId:t,teamCharId:x})}):e(v,{onClick:()=>i(),sx:{height:120,position:"relative"},children:e(r,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:120},children:e(r,{component:"img",src:H.team[`team${a+1}`],sx:{width:"auto",my:"15px",height:90,opacity:.7,mx:"auto"}})})})]},a)})})]})})}function pe({characterKey:t,teamId:i,teamCharId:u}){var j;const o=w(),s=N(t),{gender:h}=F(),{silly:m}=b.useContext(G),f=V(t),{name:p}=oe(u),a=o.teams.getLoadoutDatum(i,u),x=o.teams.getActiveBuildName(a),l=o.teams.getLoadoutWeapon(a),g=(()=>{const{buildType:A,buildTcId:z}=a;return A==="tc"&&z?Z(o.buildTcs.get(z)):Object.values(o.teams.getLoadoutArtifacts(a)).filter(E=>E)})(),d=J(t,void 0,g,l),C=(j=d==null?void 0:d[t])==null?void 0:j.target,y=b.useMemo(()=>s&&{character:s},[s]),k=b.useMemo(()=>C&&d&&{data:C,teamData:d},[C,d]),I=Q(t,"banner",h),S=U(t);return!y||!k?null:e(ie.Provider,{value:y,children:e(X.Provider,{value:k,children:e(b.Suspense,{fallback:e(Y,{variant:"rectangular",width:"100%",height:300}),children:n(r,{className:I?void 0:`grad-${f.rarity}star`,sx:{display:"flex","&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${I})`,backgroundPosition:"center",backgroundSize:"cover",zIndex:0}},children:[e(r,{sx:{position:"absolute",width:"100%",height:"100%",zIndex:2,top:0,background:"linear-gradient(to top, rgba(50,50,50,0.7), rgba(0,0,0,0) 25% )"}}),n(r,{sx:{height:120,width:120,position:"relative"},children:[e(r,{component:"img",src:K(t,h,m),sx:{height:120,width:120,zIndex:1}}),s&&e(c,{sx:{position:"absolute",lineHeight:1,bottom:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e("strong",{children:ee(s.level,s.ascension)})}),s&&e(c,{sx:{position:"absolute",lineHeight:1,bottom:0,right:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:n("strong",{children:["C",s.constellation]})}),t.startsWith("Traveler")&&e(c,{sx:{position:"absolute",lineHeight:1,top:0,left:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e(te,{color:S,children:e(ae,{ele:S})})})]}),n(r,{sx:{pr:.5,py:.5,display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:0,justifyContent:"space-between",zIndex:3},children:[n(c,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(_,{}),e("span",{children:p})]}),n(c,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(se,{}),e("span",{children:x})]}),(a==null?void 0:a.buildType)==="tc"&&(a!=null&&a.buildTcId)?e(ne,{weapon:l}):e(re,{})]})]})})})})}export{ue as T,_ as d,oe as u};
