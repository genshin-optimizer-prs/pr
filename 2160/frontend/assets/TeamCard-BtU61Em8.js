import{cL as z,b as A,X as j,q as e,p as i,B as o,t as T,T as l,aZ as E,ci as $,a0 as H,a8 as L,R as M,D as W,x as O,w as P,cv as R,bu as _,d as b,aK as q,bA as N,cM as G,cw as F,cN as X,f as Z,ct as J,a2 as Q,bB as U,bG as V,aB as Y,E as K,ch as ee,cO as te,cP as ae,cp as ne}from"./index-B4klrZf7.js";import{T as se,u as ie,d as oe}from"./TeamDelModal-BJTxrfxH.js";function de({teamId:t,onClick:h,bgt:u}){const r=z(t),{name:n,description:p,loadoutData:m}=r,f=A(),[C,a,w]=j();return e(P,{bgt:u,sx:{height:"100%",border:"1px rgba(200,200,200,0.4) solid"},children:i(o,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[i(o,{sx:{display:"flex",flexDirection:"row"},children:[e(T,{onClick:()=>h(),sx:{p:1},children:i(l,{sx:{display:"flex",gap:1},variant:"h6",children:[e("span",{children:n})," ",p&&e(E,{title:e(l,{children:p}),children:e($,{})})]})}),e(se,{teamId:t,show:C,onHide:w,onDel:function(){}}),e(H,{onClick:a,color:"error",children:e(L,{})})]}),e(o,{sx:{marginTop:"auto"},children:m.map((d,g)=>{var x;const s=d==null?void 0:d.teamCharId,c=s&&((x=f.teamChars.get(s))==null?void 0:x.key);return i(M.Fragment,{children:[e(W,{}),c?e(T,{onClick:()=>h(c),children:e(re,{characterKey:c,teamId:t,teamCharId:s})}):e(T,{onClick:()=>h(),sx:{height:120,position:"relative"},children:e(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:120},children:e(o,{component:"img",src:O.team[`team${g+1}`],sx:{width:"auto",my:"15px",height:90,opacity:.7,mx:"auto"}})})})]},g)})})]})})}function re({characterKey:t,teamId:h,teamCharId:u}){var I;const r=A(),n=R(t),{gender:p}=_(),{silly:m}=b.useContext(q),f=N(t),{name:C}=ie(u),a=r.teams.getLoadoutDatum(h,u),w=r.teams.getActiveBuildName(a),d=r.teams.getLoadoutWeapon(a),g=(()=>{const{buildType:B,buildTcId:S}=a;return B==="tc"&&S?G(r.buildTcs.get(S)):Object.values(r.teams.getLoadoutArtifacts(a)).filter(D=>D)})(),s=F(t,void 0,g,d),c=(I=s==null?void 0:s[t])==null?void 0:I.target,x=b.useMemo(()=>n&&{character:n},[n]),v=b.useMemo(()=>c&&s&&{data:c,teamData:s},[c,s]),y=X(t,"banner",p),k=Z(t);return!x||!v?null:e(ne.Provider,{value:x,children:e(J.Provider,{value:v,children:e(b.Suspense,{fallback:e(Q,{variant:"rectangular",width:"100%",height:300}),children:i(o,{className:y?void 0:`grad-${f.rarity}star`,sx:{display:"flex","&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${y})`,backgroundPosition:"center",backgroundSize:"cover",zIndex:0}},children:[e(o,{sx:{position:"absolute",width:"100%",height:"100%",zIndex:2,top:0,background:"linear-gradient(to top, rgba(50,50,50,0.7), rgba(0,0,0,0) 25% )"}}),i(o,{sx:{height:120,width:120,position:"relative"},children:[e(o,{component:"img",src:U(t,p,m),sx:{height:120,width:120,zIndex:1}}),n&&e(l,{sx:{position:"absolute",lineHeight:1,bottom:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e("strong",{children:V(n.level,n.ascension)})}),n&&e(l,{sx:{position:"absolute",lineHeight:1,bottom:0,right:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:i("strong",{children:["C",n.constellation]})}),t.startsWith("Traveler")&&e(l,{sx:{position:"absolute",lineHeight:1,top:0,left:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e(Y,{color:k,children:e(K,{ele:k})})})]}),i(o,{sx:{pr:.5,py:.5,display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:0,justifyContent:"space-between",zIndex:3},children:[i(l,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(oe,{}),e("span",{children:C})]}),i(l,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(ee,{}),e("span",{children:w})]}),(a==null?void 0:a.buildType)==="tc"&&(a!=null&&a.buildTcId)?e(te,{weapon:d}):e(ae,{})]})]})})})})}export{de as T};
