import{b as y,fj as E,r as M,i as S,j as O,ch as D,cj as w,aM as U,aN as H,d as g,ct as L,dm as z,dy as V,bS as Z,p as a,B as f,q as e,a7 as $,T as m,c2 as F,cl as K,ci as R,aZ as k,s as _,cL as N,cH as W,C as G,a0 as J,a1 as Q,D as B,ae as X,fp as Y,Z as ee,a8 as ae,w as q,a3 as te,cw as se,t as ne,aB as re}from"./index-B4klrZf7.js";import{d as le}from"./Settings-x1Rqfo-A.js";function ie(t){const u=y();return E(u.teamChars,t)}var b={},oe=S;Object.defineProperty(b,"__esModule",{value:!0});var A=b.default=void 0,ce=oe(M()),de=O,ue=(0,ce.default)((0,de.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");A=b.default=ue;var j={},he=S;Object.defineProperty(j,"__esModule",{value:!0});var P=j.default=void 0,fe=he(M()),pe=O,me=(0,fe.default)((0,pe.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");P=j.default=me;const De=D,_e=w,xe=P,be=U,je=H;function ge({optimizationTarget:t,customMultiTargets:u}){var n;const{data:o}=g.useContext(L),c=y(),d=g.useMemo(()=>z(o,t[0],c),[o,t,c]),{title:h,icon:s,action:l}=d??{},r=V(o.getDisplay(),t),{textSuffix:p,icon:x,name:v=t[0]==="custom"?(n=u[parseInt(t[1]??"")])==null?void 0:n.name:void 0}=(r&&Z(r.info))??{};return a(F,{children:[a(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[s||x,e("span",{children:h}),!!l&&e($,{color:"success",sx:{whiteSpace:"normal"},children:l})]}),e(m,{sx:{display:"flex",alignItems:"center"},children:a($,{sx:{whiteSpace:"normal"},children:[e("strong",{children:v}),p&&a("span",{children:[" ",p]})]})})]})}function ye({teamCharId:t,showSetting:u=!1,children:o}){const c=y(),{name:d,description:h,buildIds:s,buildTcIds:l,optConfigId:r,customMultiTargets:p}=c.teamChars.get(t),{optimizationTarget:x}=K(r);return a(_,{sx:{display:"flex",flexDirection:"column",gap:1},children:[a(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(A,{}),e(m,{variant:"h6",children:d}),!!h&&e(k,{title:e(m,{children:h}),children:e(R,{})}),u&&e(le,{sx:{ml:"auto"}})]}),a(f,{sx:{display:"flex",gap:1,justifyContent:"space-between"},children:[a(f,{sx:{display:"flex",justifyItems:"center",gap:1},children:[e(D,{}),a(m,{children:["Builds: ",e("strong",{children:s.length})]})]}),a(f,{sx:{display:"flex",justifyItems:"center",gap:1},children:[e(D,{}),a(m,{children:["TC Builds: ",e("strong",{children:l.length})]})]}),a(f,{sx:{display:"flex",justifyItems:"center",gap:1},children:[e(w,{}),a(m,{children:["Custom multi-targets: ",e("strong",{children:p.length})]})]})]}),x&&a(m,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(xe,{}),e(f,{children:"Optimization Target:"}),e(ge,{customMultiTargets:p,optimizationTarget:x})]}),o]})}function Te({teamId:t,show:u,onHide:o,onDel:c}){const d=y(),h=N(t),{name:s,description:l,loadoutData:r}=h,p=g.useMemo(()=>r.map(i=>{if(!i)return[];const{teamCharId:n}=i;return d.teams.values.filter(({loadoutData:C})=>C.find(I=>(I==null?void 0:I.teamCharId)===n))}),[d,r]),[x,v]=g.useState(()=>p.map((i,n)=>i.length===1?n:void 0).filter(W)),T=()=>{d.teams.remove(t),r.forEach((i,n)=>{!i||!x.includes(n)||d.teamChars.remove(i.teamCharId)}),c()};return e(te,{open:u,onClose:o,children:a(q,{children:[e(G,{title:a(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(f,{children:"Delete Team:"}),e("strong",{children:s}),l&&e(k,{title:l,children:e(R,{})})]}),action:e(J,{onClick:o,children:e(Q,{})})}),e(B,{}),a(_,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e(X,{severity:"info",children:"Removing the team will remove: resonance buffs, and enemy configs stored in the team. Loadouts that are only in this team are also selected by default for deletion."}),r.map((i,n)=>i?e(ve,{teamCharId:i.teamCharId,selected:x.includes(n),onClick:()=>v(C=>Y(C,n)),inTeams:p[n]},n):null)]}),e(B,{}),e(_,{sx:{display:"flex",justifyContent:"flex-end"},children:e(ee,{color:"error",startIcon:e(ae,{}),onClick:T,children:"Delete"})})]})})}function ve({teamCharId:t,selected:u,onClick:o,inTeams:c}){const d=ie(t),{key:h}=d,s=se(h),{target:l}=(s==null?void 0:s[h])??{},r=g.useMemo(()=>{if(!(!s||!l))return{data:l,teamData:s,compareData:void 0}},[l,s]);if(r)return e(L.Provider,{value:r,children:e(q,{bgt:"light",sx:{border:u?"2px red solid":void 0},children:e(ne,{onClick:o,children:e(ye,{teamCharId:t,children:e(re,{color:c.length===1?"success":"warning",children:e(m,{children:c.length===1?"Only in current team":`In ${c.length} teams`})})})})})})}export{De as B,be as C,ye as L,xe as O,Te as T,je as U,ge as a,P as b,_e as c,A as d,ie as u};
