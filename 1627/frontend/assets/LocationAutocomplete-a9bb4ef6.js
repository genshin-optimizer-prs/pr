import{e as h,aX as Ht,aP as rt,cJ as je,cK as Et,av as I,as as It,at as Ot,au as W,aS as _e,aw as Pt,ax as lt,j as $,ay as xe,az as St,cL as pe,aB as $t,c9 as Lt,aO as kt,aU as nt,cM as jt,aM as _t,q as At,c as it,r as Vt,i as Bt,l as Kt,p as S,n as ke,bS as Tt,bT as wt,U as ct,cN as Wt,u as Gt,a9 as Ut,b as qt,d as Xt,ap as Jt,X as Qt,b1 as Yt,K as Zt,cO as eo,ao as to}from"./index-c6c2da72.js";import{g as oo,B as ro}from"./index-9c51a3e6.js";import{C as Rt}from"./ColoredText-31a5c689.js";import{i as at,o as mt,h as me,A as no,T as Mt,F as Dt,c as ao}from"./StarDisplay-89af4106.js";import{M as Nt}from"./DropdownButton-be6fd004.js";const so=o=>{const n=h.useRef({});return h.useEffect(()=>{n.current=o}),n.current},lo=so;function xt(o){return typeof o.normalize<"u"?o.normalize("NFD").replace(/[\u0300-\u036f]/g,""):o}function io(o={}){const{ignoreAccents:n=!0,ignoreCase:c=!0,limit:y,matchFrom:O="any",stringify:x,trim:d=!1}=o;return(b,{inputValue:w,getOptionLabel:v})=>{let f=d?w.trim():w;c&&(f=f.toLowerCase()),n&&(f=xt(f));const s=f?b.filter(i=>{let m=(x||v)(i);return c&&(m=m.toLowerCase()),n&&(m=xt(m)),O==="start"?m.indexOf(f)===0:m.indexOf(f)>-1}):b;return typeof y=="number"?s.slice(0,y):s}}function st(o,n){for(let c=0;c<o.length;c+=1)if(n(o[c]))return c;return-1}const co=io(),yt=5,po=o=>{var n;return o.current!==null&&((n=o.current.parentElement)==null?void 0:n.contains(document.activeElement))};function uo(o){const{unstable_isActiveElementInListbox:n=po,unstable_classNamePrefix:c="Mui",autoComplete:y=!1,autoHighlight:O=!1,autoSelect:x=!1,blurOnSelect:d=!1,clearOnBlur:b=!o.freeSolo,clearOnEscape:w=!1,componentName:v="useAutocomplete",defaultValue:f=o.multiple?[]:null,disableClearable:s=!1,disableCloseOnSelect:i=!1,disabled:m,disabledItemsFocusable:D=!1,disableListWrap:p=!1,filterOptions:V=co,filterSelectedOptions:ye=!1,freeSolo:oe=!1,getOptionDisabled:J,getOptionLabel:Ve=t=>{var e;return(e=t.label)!=null?e:t},groupBy:ue,handleHomeEndKeys:Be=!o.freeSolo,id:le,includeInputInList:Ke=!1,inputValue:ut,isOptionEqualToValue:re=(t,e)=>t===e,multiple:P=!1,onChange:ve,onClose:Ce,onHighlightChange:Ae,onInputChange:Q,onOpen:Te,open:We,openOnFocus:dt=!1,options:ft,readOnly:Y=!1,selectOnFocus:Ge=!o.freeSolo,value:Ie}=o,F=Ht(le);let N=Ve;N=t=>{const e=Ve(t);return typeof e!="string"?String(e):e};const Oe=h.useRef(!1),Pe=h.useRef(!0),R=h.useRef(null),H=h.useRef(null),[de,Ue]=h.useState(null),[j,fe]=h.useState(-1),we=O?0:-1,z=h.useRef(we),[l,Re]=rt({controlled:Ie,default:f,name:v}),[C,ne]=rt({controlled:ut,default:"",name:v,state:"inputValue"}),[Z,Me]=h.useState(!1),ge=h.useCallback((t,e)=>{if(!(P?l.length<e.length:e!==null)&&!b)return;let a;if(P)a="";else if(e==null)a="";else{const g=N(e);a=typeof g=="string"?g:""}C!==a&&(ne(a),Q&&Q(t,a,"reset"))},[N,C,P,Q,ne,b,l]),[ee,De]=rt({controlled:We,default:!1,name:v,state:"open"}),[qe,Ne]=h.useState(!0),ze=!P&&l!=null&&C===N(l),E=ee&&!Y,L=E?V(ft.filter(t=>!(ye&&(P?l:[l]).some(e=>e!==null&&re(t,e)))),{inputValue:ze&&qe?"":C,getOptionLabel:N}):[],_=lo({filteredOptions:L,value:l,inputValue:C});h.useEffect(()=>{const t=l!==_.value;Z&&!t||oe&&!t||ge(null,l)},[l,ge,Z,_.value,oe]);const Se=ee&&L.length>0&&!Y,he=je(t=>{t===-1?R.current.focus():de.querySelector(`[data-tag-index="${t}"]`).focus()});h.useEffect(()=>{P&&j>l.length-1&&(fe(-1),he(-1))},[l,P,j,he]);function Xe(t,e){if(!H.current||t===-1)return-1;let r=t;for(;;){if(e==="next"&&r===L.length||e==="previous"&&r===-1)return-1;const a=H.current.querySelector(`[data-option-index="${r}"]`),g=D?!1:!a||a.disabled||a.getAttribute("aria-disabled")==="true";if(a&&!a.hasAttribute("tabindex")||g)r+=e==="next"?1:-1;else return r}}const B=je(({event:t,index:e,reason:r="auto"})=>{if(z.current=e,e===-1?R.current.removeAttribute("aria-activedescendant"):R.current.setAttribute("aria-activedescendant",`${F}-option-${e}`),Ae&&Ae(t,e===-1?null:L[e],r),!H.current)return;const a=H.current.querySelector(`[role="option"].${c}-focused`);a&&(a.classList.remove(`${c}-focused`),a.classList.remove(`${c}-focusVisible`));let g=H.current;if(H.current.getAttribute("role")!=="listbox"&&(g=H.current.parentElement.querySelector('[role="listbox"]')),!g)return;if(e===-1){g.scrollTop=0;return}const k=H.current.querySelector(`[data-option-index="${e}"]`);if(k&&(k.classList.add(`${c}-focused`),r==="keyboard"&&k.classList.add(`${c}-focusVisible`),g.scrollHeight>g.clientHeight&&r!=="mouse"&&r!=="touch")){const A=k,X=g.clientHeight+g.scrollTop,bt=A.offsetTop+A.offsetHeight;bt>X?g.scrollTop=bt-g.clientHeight:A.offsetTop-A.offsetHeight*(ue?1.3:0)<g.scrollTop&&(g.scrollTop=A.offsetTop-A.offsetHeight*(ue?1.3:0))}}),K=je(({event:t,diff:e,direction:r="next",reason:a="auto"})=>{if(!E)return;const k=Xe((()=>{const A=L.length-1;if(e==="reset")return we;if(e==="start")return 0;if(e==="end")return A;const X=z.current+e;return X<0?X===-1&&Ke?-1:p&&z.current!==-1||Math.abs(e)>1?0:A:X>A?X===A+1&&Ke?-1:p||Math.abs(e)>1?A:0:X})(),r);if(B({index:k,reason:a,event:t}),y&&e!=="reset")if(k===-1)R.current.value=C;else{const A=N(L[k]);R.current.value=A,A.toLowerCase().indexOf(C.toLowerCase())===0&&C.length>0&&R.current.setSelectionRange(C.length,A.length)}}),Je=()=>{const t=(e,r)=>{const a=e?N(e):"",g=r?N(r):"";return a===g};if(z.current!==-1&&_.filteredOptions&&_.filteredOptions.length!==L.length&&_.inputValue===C&&(P?l.length===_.value.length&&_.value.every((e,r)=>N(l[r])===N(e)):t(_.value,l))){const e=_.filteredOptions[z.current];if(e&&L.some(a=>N(a)===N(e)))return!0}return!1},ae=h.useCallback(()=>{if(!E||Je())return;const t=P?l[0]:l;if(L.length===0||t==null){K({diff:"reset"});return}if(H.current){if(t!=null){const e=L[z.current];if(P&&e&&st(l,a=>re(e,a))!==-1)return;const r=st(L,a=>re(a,t));r===-1?K({diff:"reset"}):B({index:r});return}if(z.current>=L.length-1){B({index:L.length-1});return}B({index:z.current})}},[L.length,P?!1:l,ye,K,B,E,C,P]),Qe=je(t=>{Et(H,t),t&&ae()});h.useEffect(()=>{ae()},[ae]);const te=t=>{ee||(De(!0),Ne(!0),Te&&Te(t))},U=(t,e)=>{ee&&(De(!1),Ce&&Ce(t,e))},q=(t,e,r,a)=>{if(P){if(l.length===e.length&&l.every((g,k)=>g===e[k]))return}else if(l===e)return;ve&&ve(t,e,r,a),Re(e)},se=h.useRef(!1),ie=(t,e,r="selectOption",a="options")=>{let g=r,k=e;if(P){k=Array.isArray(l)?l.slice():[];const A=st(k,X=>re(e,X));A===-1?k.push(e):a!=="freeSolo"&&(k.splice(A,1),g="removeOption")}ge(t,k),q(t,k,g,{option:e}),!i&&(!t||!t.ctrlKey&&!t.metaKey)&&U(t,g),(d===!0||d==="touch"&&se.current||d==="mouse"&&!se.current)&&R.current.blur()};function Ye(t,e){if(t===-1)return-1;let r=t;for(;;){if(e==="next"&&r===l.length||e==="previous"&&r===-1)return-1;const a=de.querySelector(`[data-tag-index="${r}"]`);if(!a||!a.hasAttribute("tabindex")||a.disabled||a.getAttribute("aria-disabled")==="true")r+=e==="next"?1:-1;else return r}}const $e=(t,e)=>{if(!P)return;C===""&&U(t,"toggleInput");let r=j;j===-1?C===""&&e==="previous"&&(r=l.length-1):(r+=e==="next"?1:-1,r<0&&(r=0),r===l.length&&(r=-1)),r=Ye(r,e),fe(r),he(r)},Fe=t=>{Oe.current=!0,ne(""),Q&&Q(t,"","clear"),q(t,P?[]:null,"clear")},Ze=t=>e=>{if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(j!==-1&&["ArrowLeft","ArrowRight"].indexOf(e.key)===-1&&(fe(-1),he(-1)),e.which!==229))switch(e.key){case"Home":E&&Be&&(e.preventDefault(),K({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":E&&Be&&(e.preventDefault(),K({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),K({diff:-yt,direction:"previous",reason:"keyboard",event:e}),te(e);break;case"PageDown":e.preventDefault(),K({diff:yt,direction:"next",reason:"keyboard",event:e}),te(e);break;case"ArrowDown":e.preventDefault(),K({diff:1,direction:"next",reason:"keyboard",event:e}),te(e);break;case"ArrowUp":e.preventDefault(),K({diff:-1,direction:"previous",reason:"keyboard",event:e}),te(e);break;case"ArrowLeft":$e(e,"previous");break;case"ArrowRight":$e(e,"next");break;case"Enter":if(z.current!==-1&&E){const r=L[z.current],a=J?J(r):!1;if(e.preventDefault(),a)return;ie(e,r,"selectOption"),y&&R.current.setSelectionRange(R.current.value.length,R.current.value.length)}else oe&&C!==""&&ze===!1&&(P&&e.preventDefault(),ie(e,C,"createOption","freeSolo"));break;case"Escape":E?(e.preventDefault(),e.stopPropagation(),U(e,"escape")):w&&(C!==""||P&&l.length>0)&&(e.preventDefault(),e.stopPropagation(),Fe(e));break;case"Backspace":if(P&&!Y&&C===""&&l.length>0){const r=j===-1?l.length-1:j,a=l.slice();a.splice(r,1),q(e,a,"removeOption",{option:l[r]})}break;case"Delete":if(P&&!Y&&C===""&&l.length>0&&j!==-1){const r=j,a=l.slice();a.splice(r,1),q(e,a,"removeOption",{option:l[r]})}break}},et=t=>{Me(!0),dt&&!Oe.current&&te(t)},tt=t=>{if(n(H)){R.current.focus();return}Me(!1),Pe.current=!0,Oe.current=!1,x&&z.current!==-1&&E?ie(t,L[z.current],"blur"):x&&oe&&C!==""?ie(t,C,"blur","freeSolo"):b&&ge(t,l),U(t,"blur")},Le=t=>{const e=t.target.value;C!==e&&(ne(e),Ne(!1),Q&&Q(t,e,"input")),e===""?!s&&!P&&q(t,null,"clear"):te(t)},M=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));z.current!==e&&B({event:t,index:e,reason:"mouse"})},T=t=>{B({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),se.current=!0},G=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));ie(t,L[e],"selectOption"),se.current=!1},gt=t=>e=>{const r=l.slice();r.splice(t,1),q(e,r,"removeOption",{option:l[t]})},He=t=>{ee?U(t,"toggleInput"):te(t)},ht=t=>{t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==F&&t.preventDefault()},ot=t=>{t.currentTarget.contains(t.target)&&(R.current.focus(),Ge&&Pe.current&&R.current.selectionEnd-R.current.selectionStart===0&&R.current.select(),Pe.current=!1)},Ee=t=>{!m&&(C===""||!ee)&&He(t)};let ce=oe&&C.length>0;ce=ce||(P?l.length>0:l!==null);let be=L;return ue&&(be=L.reduce((t,e,r)=>{const a=ue(e);return t.length>0&&t[t.length-1].group===a?t[t.length-1].options.push(e):t.push({key:r,index:r,group:a,options:[e]}),t},[])),m&&Z&&tt(),{getRootProps:(t={})=>I({"aria-owns":Se?`${F}-listbox`:null},t,{onKeyDown:Ze(t),onMouseDown:ht,onClick:ot}),getInputLabelProps:()=>({id:`${F}-label`,htmlFor:F}),getInputProps:()=>({id:F,value:C,onBlur:tt,onFocus:et,onChange:Le,onMouseDown:Ee,"aria-activedescendant":E?"":null,"aria-autocomplete":y?"both":"list","aria-controls":Se?`${F}-listbox`:void 0,"aria-expanded":Se,autoComplete:"off",ref:R,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,onClick:Fe}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:He}),getTagProps:({index:t})=>I({key:t,"data-tag-index":t,tabIndex:-1},!Y&&{onDelete:gt(t)}),getListboxProps:()=>({role:"listbox",id:`${F}-listbox`,"aria-labelledby":`${F}-label`,ref:Qe,onMouseDown:t=>{t.preventDefault()}}),getOptionProps:({index:t,option:e})=>{const r=(P?l:[l]).some(g=>g!=null&&re(e,g)),a=J?J(e):!1;return{key:N(e),tabIndex:-1,role:"option",id:`${F}-option-${t}`,onMouseMove:M,onClick:G,onTouchStart:T,"data-option-index":t,"aria-disabled":a,"aria-selected":r}},id:F,inputValue:C,value:l,dirty:ce,expanded:E&&de,popupOpen:E,focused:Z||j!==-1,anchorEl:de,setAnchorEl:Ue,focusedTag:j,groupedOptions:be}}function fo(o){return It("MuiListSubheader",o)}Ot("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const go=["className","color","component","disableGutters","disableSticky","inset"],ho=o=>{const{classes:n,color:c,disableGutters:y,inset:O,disableSticky:x}=o,d={root:["root",c!=="default"&&`color${_e(c)}`,!y&&"gutters",O&&"inset",!x&&"sticky"]};return St(d,fo,n)},bo=W("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:c}=o;return[n.root,c.color!=="default"&&n[`color${_e(c.color)}`],!c.disableGutters&&n.gutters,c.inset&&n.inset,!c.disableSticky&&n.sticky]}})(({theme:o,ownerState:n})=>I({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(o.vars||o).palette.text.secondary,fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(14)},n.color==="primary"&&{color:(o.vars||o).palette.primary.main},n.color==="inherit"&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(o.vars||o).palette.background.paper})),zt=h.forwardRef(function(n,c){const y=Pt({props:n,name:"MuiListSubheader"}),{className:O,color:x="default",component:d="li",disableGutters:b=!1,disableSticky:w=!1,inset:v=!1}=y,f=lt(y,go),s=I({},y,{color:x,component:d,disableGutters:b,disableSticky:w,inset:v}),i=ho(s);return $.jsx(bo,I({as:d,className:xe(i.root,O),ref:c,ownerState:s},f))});zt.muiSkipListHighlight=!0;const mo=zt;function xo(o){return It("MuiAutocomplete",o)}const yo=Ot("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),u=yo;var vt,Ct;const vo=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Co=["ref"],Io=o=>{const{classes:n,disablePortal:c,expanded:y,focused:O,fullWidth:x,hasClearIcon:d,hasPopupIcon:b,inputFocused:w,popupOpen:v,size:f}=o,s={root:["root",y&&"expanded",O&&"focused",x&&"fullWidth",d&&"hasClearIcon",b&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",w&&"inputFocused"],tag:["tag",`tagSize${_e(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",v&&"popupIndicatorOpen"],popper:["popper",c&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return St(s,xo,n)},Oo=W("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:c}=o,{fullWidth:y,hasClearIcon:O,hasPopupIcon:x,inputFocused:d,size:b}=c;return[{[`& .${u.tag}`]:n.tag},{[`& .${u.tag}`]:n[`tagSize${_e(b)}`]},{[`& .${u.inputRoot}`]:n.inputRoot},{[`& .${u.input}`]:n.input},{[`& .${u.input}`]:d&&n.inputFocused},n.root,y&&n.fullWidth,x&&n.hasPopupIcon,O&&n.hasClearIcon]}})(({ownerState:o})=>I({[`&.${u.focused} .${u.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${u.clearIndicator}`]:{visibility:"visible"}}},o.fullWidth&&{width:"100%"},{[`& .${u.tag}`]:I({margin:3,maxWidth:"calc(100% - 6px)"},o.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${u.inputRoot}`]:{flexWrap:"wrap",[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:26+4},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:52+4},[`& .${u.input}`]:{width:0,minWidth:30}},[`& .${at.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${at.root}.${pe.sizeSmall}`]:{[`& .${at.input}`]:{padding:"2px 4px 3px 0"}},[`& .${mt.root}`]:{padding:9,[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${u.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${u.endAdornment}`]:{right:9}},[`& .${mt.root}.${pe.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${u.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${me.root}`]:{paddingTop:19,paddingLeft:8,[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${me.input}`]:{padding:"7px 4px"},[`& .${u.endAdornment}`]:{right:9}},[`& .${me.root}.${pe.sizeSmall}`]:{paddingBottom:1,[`& .${me.input}`]:{padding:"2.5px 4px"}},[`& .${pe.hiddenLabel}`]:{paddingTop:8},[`& .${me.root}.${pe.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${u.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${me.root}.${pe.hiddenLabel}.${pe.sizeSmall}`]:{[`& .${u.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${u.input}`]:I({flexGrow:1,textOverflow:"ellipsis",opacity:0},o.inputFocused&&{opacity:1})})),Po=W("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(o,n)=>n.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),So=W($t,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(o,n)=>n.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),$o=W($t,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:o},n)=>I({},n.popupIndicator,o.popupOpen&&n.popupIndicatorOpen)})(({ownerState:o})=>I({padding:2,marginRight:-2},o.popupOpen&&{transform:"rotate(180deg)"})),Lo=W(Lt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(o,n)=>{const{ownerState:c}=o;return[{[`& .${u.option}`]:n.option},n.popper,c.disablePortal&&n.popperDisablePortal]}})(({theme:o,ownerState:n})=>I({zIndex:(o.vars||o).zIndex.modal},n.disablePortal&&{position:"absolute"})),ko=W(kt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(o,n)=>n.paper})(({theme:o})=>I({},o.typography.body1,{overflow:"auto"})),Ao=W("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(o,n)=>n.loading})(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"})),To=W("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(o,n)=>n.noOptions})(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"})),wo=W("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(o,n)=>n.listbox})(({theme:o})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${u.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[o.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${u.focused}`]:{backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${u.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:nt(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${u.focused}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:nt(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(o.vars||o).palette.action.selected}},[`&.${u.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:nt(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}}}})),Ro=W(mo,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(o,n)=>n.groupLabel})(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,top:-8})),Mo=W("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(o,n)=>n.groupUl})({padding:0,[`& .${u.option}`]:{paddingLeft:24}}),Do=h.forwardRef(function(n,c){var y,O,x,d;const b=Pt({props:n,name:"MuiAutocomplete"}),{autoComplete:w=!1,autoHighlight:v=!1,autoSelect:f=!1,blurOnSelect:s=!1,ChipProps:i,className:m,clearIcon:D=vt||(vt=$.jsx(jt,{fontSize:"small"})),clearOnBlur:p=!b.freeSolo,clearOnEscape:V=!1,clearText:ye="Clear",closeText:oe="Close",componentsProps:J={},defaultValue:Ve=b.multiple?[]:null,disableClearable:ue=!1,disableCloseOnSelect:Be=!1,disabled:le=!1,disabledItemsFocusable:Ke=!1,disableListWrap:ut=!1,disablePortal:re=!1,filterSelectedOptions:P=!1,forcePopupIcon:ve="auto",freeSolo:Ce=!1,fullWidth:Ae=!1,getLimitTagsText:Q=r=>`+${r}`,getOptionLabel:Te,groupBy:We,handleHomeEndKeys:dt=!b.freeSolo,includeInputInList:ft=!1,limitTags:Y=-1,ListboxComponent:Ge="ul",ListboxProps:Ie,loading:F=!1,loadingText:N="Loadingâ€¦",multiple:Oe=!1,noOptionsText:Pe="No options",openOnFocus:R=!1,openText:H="Open",PaperComponent:de=kt,PopperComponent:Ue=Lt,popupIcon:j=Ct||(Ct=$.jsx(no,{})),readOnly:fe=!1,renderGroup:we,renderInput:z,renderOption:l,renderTags:Re,selectOnFocus:C=!b.freeSolo,size:ne="medium",slotProps:Z={}}=b,Me=lt(b,vo),{getRootProps:ge,getInputProps:ee,getInputLabelProps:De,getPopupIndicatorProps:qe,getClearProps:Ne,getTagProps:ze,getListboxProps:E,getOptionProps:L,value:_,dirty:Se,expanded:he,id:Xe,popupOpen:B,focused:K,focusedTag:Je,anchorEl:ae,setAnchorEl:Qe,inputValue:te,groupedOptions:U}=uo(I({},b,{componentName:"Autocomplete"})),q=!ue&&!le&&Se&&!fe,se=(!Ce||ve===!0)&&ve!==!1,{onMouseDown:ie}=ee(),{ref:Ye}=Ie??{},$e=E(),{ref:Fe}=$e,Ze=lt($e,Co),et=_t(Fe,Ye),Le=Te||(r=>{var a;return(a=r.label)!=null?a:r}),M=I({},b,{disablePortal:re,expanded:he,focused:K,fullWidth:Ae,getOptionLabel:Le,hasClearIcon:q,hasPopupIcon:se,inputFocused:Je===-1,popupOpen:B,size:ne}),T=Io(M);let G;if(Oe&&_.length>0){const r=a=>I({className:T.tag,disabled:le},ze(a));Re?G=Re(_,r,M):G=_.map((a,g)=>$.jsx(At,I({label:Le(a),size:ne},r({index:g}),i)))}if(Y>-1&&Array.isArray(G)){const r=G.length-Y;!K&&r>0&&(G=G.splice(0,Y),G.push($.jsx("span",{className:T.tag,children:Q(r)},G.length)))}const He=we||(r=>$.jsxs("li",{children:[$.jsx(Ro,{className:T.groupLabel,ownerState:M,component:"div",children:r.group}),$.jsx(Mo,{className:T.groupUl,ownerState:M,children:r.children})]},r.key)),ot=l||((r,a)=>$.jsx("li",I({},r,{children:Le(a)}))),Ee=(r,a)=>{const g=L({option:r,index:a});return ot(I({},g,{className:T.option}),r,{selected:g["aria-selected"],index:a,inputValue:te},M)},ce=(y=Z.clearIndicator)!=null?y:J.clearIndicator,be=(O=Z.paper)!=null?O:J.paper,t=(x=Z.popper)!=null?x:J.popper,e=(d=Z.popupIndicator)!=null?d:J.popupIndicator;return $.jsxs(h.Fragment,{children:[$.jsx(Oo,I({ref:c,className:xe(T.root,m),ownerState:M},ge(Me),{children:z({id:Xe,disabled:le,fullWidth:!0,size:ne==="small"?"small":void 0,InputLabelProps:De(),InputProps:I({ref:Qe,className:T.inputRoot,startAdornment:G,onClick:r=>{r.target===r.currentTarget&&ie(r)}},(q||se)&&{endAdornment:$.jsxs(Po,{className:T.endAdornment,ownerState:M,children:[q?$.jsx(So,I({},Ne(),{"aria-label":ye,title:ye,ownerState:M},ce,{className:xe(T.clearIndicator,ce==null?void 0:ce.className),children:D})):null,se?$.jsx($o,I({},qe(),{disabled:le,"aria-label":B?oe:H,title:B?oe:H,ownerState:M},e,{className:xe(T.popupIndicator,e==null?void 0:e.className),children:j})):null]})}),inputProps:I({className:T.input,disabled:le,readOnly:fe},ee())})})),ae?$.jsx(Lo,I({as:Ue,disablePortal:re,style:{width:ae?ae.clientWidth:null},ownerState:M,role:"presentation",anchorEl:ae,open:B},t,{className:xe(T.popper,t==null?void 0:t.className),children:$.jsxs(ko,I({ownerState:M,as:de},be,{className:xe(T.paper,be==null?void 0:be.className),children:[F&&U.length===0?$.jsx(Ao,{className:T.loading,ownerState:M,children:N}):null,U.length===0&&!Ce&&!F?$.jsx(To,{className:T.noOptions,ownerState:M,role:"presentation",onMouseDown:r=>{r.preventDefault()},children:Pe}):null,U.length>0?$.jsx(wo,I({as:Ge,className:T.listbox,ownerState:M},Ze,Ie,{ref:et,children:U.map((r,a)=>We?He({key:r.key,group:r.group,children:r.options.map((g,k)=>Ee(g,r.index+k))}):Ee(r,a))})):null]}))})):null]})}),Ft=Do,Go=it($.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Uo=it($.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock"),qo=it($.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");var pt={},No=Bt;Object.defineProperty(pt,"__esModule",{value:!0});var zo=pt.default=void 0,Fo=No(Vt()),Ho=$,Eo=(0,Fo.default)((0,Ho.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");zo=pt.default=Eo;function jo({options:o,valueKey:n,label:c,onChange:y,toImg:O,toExItemLabel:x,toExLabel:d,textFieldProps:b,...w}){const v=o.find(s=>s.key===n)??null,f=Kt();return S(Ft,{autoHighlight:!0,options:o,value:v,onChange:(s,i,m)=>y((i==null?void 0:i.key)??null),isOptionEqualToValue:(s,i)=>s.key===(i==null?void 0:i.key),renderInput:s=>{var p;const i=v==null?void 0:v.color,m=i?(p=f.palette[i])==null?void 0:p.main:void 0,D=v==null?void 0:v.key;return S(Mt,{...s,...b,label:c,InputProps:{...s.InputProps,startAdornment:D?O(D):void 0},inputProps:{...s.inputProps,autoComplete:"new-password",style:{color:m}},color:n?"success":"primary"})},renderOption:(s,i)=>ke(Nt,{value:i.key,sx:{whiteSpace:"normal"},...s,children:[S(Tt,{children:O(i.key)}),S(wt,{color:i.color,children:S(h.Suspense,{fallback:S(ct,{variant:"text",width:100}),children:ke(Rt,{color:i.color,sx:{display:"flex",gap:1},children:[i.key===(v==null?void 0:v.key)?S("strong",{children:i.label}):S("span",{children:i.label}),x==null?void 0:x(i.key)]})})}),!!i.favorite&&S(Dt,{})]}),filterOptions:(s,{inputValue:i})=>s.filter(m=>{var D;return m.label.toLowerCase().includes(i.toLowerCase())||((D=m.alternateNames)==null?void 0:D.some(p=>p.toLowerCase().includes(i.toLowerCase())))}),...w})}function Xo({options:o,valueKeys:n,label:c,onChange:y,toImg:O,toExItemLabel:x,toExLabel:d,chipProps:b,...w}){const v=h.useMemo(()=>n.map(f=>o.find(s=>s.key===f)).filter(f=>f),[o,n]);return S(Ft,{autoHighlight:!0,options:o,multiple:!0,disableCloseOnSelect:!0,value:v,onChange:(f,s,i)=>i==="clear"?y([]):s!==null&&y(s.map(m=>m.key)),isOptionEqualToValue:(f,s)=>f.key===s.key,renderInput:f=>S(Mt,{...f,label:c,inputProps:{...f.inputProps,autoComplete:"new-password"},color:n.length?"success":"primary"}),renderOption:(f,s)=>ke(Nt,{value:s.key,...f,children:[S(Tt,{children:O(s.key)}),S(wt,{children:S(h.Suspense,{fallback:S(ct,{variant:"text",width:100}),children:ke(Rt,{color:s.color,sx:{display:"flex",gap:1},children:[n.includes(s.key)?S("strong",{children:s.label}):S("span",{children:s.label}),x==null?void 0:x(s.key)]})})}),!!s.favorite&&S(Dt,{})]}),renderTags:(f,s)=>f.map(({key:i,label:m,color:D},p)=>Wt(At,{...b,...s({index:p}),key:`${p}${i}${m}`,icon:O(i),label:d?ke("span",{children:[m," ",d(i)]}):m,color:D})),filterOptions:(f,{inputValue:s})=>f.filter(i=>{var m;return i.label.toLowerCase().includes(s.toLowerCase())||((m=i.alternateNames)==null?void 0:m.some(D=>D.toLowerCase().includes(s.toLowerCase())))}),...w})}function Jo({location:o,setLocation:n,filter:c=()=>!0,autoCompleteProps:y={}}){const{t:O}=Gt(["ui","artifact","sillyWisher_charNames","charNames_gen"]),{silly:x}=h.useContext(Ut),d=qt(),{gender:b}=Xt(),w=h.useCallback(p=>V=>O(`${p?"sillyWisher_charNames":"charNames_gen"}:${Jt(d.chars.LocationToCharacterKey(V),b)}`),[d,b,O]),[v,f]=Qt();h.useEffect(()=>d.arts.followAny(()=>f()),[d,f]);const s=h.useMemo(()=>v&&d.chars.keys.map(p=>Yt(p)),[v,d]),i=h.useCallback(p=>p===""?S(ro,{}):S(Zt,{sx:{opacity:s.includes(p)?void 0:.7},children:S(ao,{characterKey:d.chars.LocationToCharacterKey(p)})}),[d,s]),m=h.useCallback(p=>p==="Traveler"?eo.some(V=>d.charMeta.get(V).favorite):p?d.charMeta.get(p).favorite:!1,[d]),D=h.useMemo(()=>[{key:"",label:O`artifact:filterLocation.inventory`},...Array.from(new Set(to.filter(p=>c(oo(d.chars.LocationToCharacterKey(p),b))))).map(p=>({key:p,label:w(x)(p),favorite:m(p),alternateNames:x?[w(!x)(p)]:void 0,color:s.includes(p)?void 0:"secondary"})).sort((p,V)=>p.favorite&&!V.favorite?-1:!p.favorite&&V.favorite?1:!p.color&&V.color?-1:p.color&&!V.color?1:p.label.localeCompare(V.label))],[O,d.chars,b,s,c,w,x,m]);return S(h.Suspense,{fallback:S(ct,{variant:"text",width:100}),children:S(jo,{size:"small",options:D,valueKey:o,onChange:p=>n(p??""),toImg:i,...y})})}export{Go as A,jo as G,mo as L,Uo as a,qo as b,Jo as c,zo as d,Xo as e,lo as u};
