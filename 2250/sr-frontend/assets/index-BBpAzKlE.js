import{aE as b,aF as E,aP as D,aC as R,aD as S,O as a,af as u,$ as e,ad as t,aQ as k,aq as p,aR as _,ai as w,h as l,aS as T,av as m,aa as v,ac as f,W as H}from"./index-BK3OpbBQ.js";import{u as I,a as M,b as A}from"./useInfScroll-BUrNJDHv.js";import{C as F}from"./CardActionArea-CXSywhhE.js";import{C as P}from"./CardHeader-Beop73tc.js";function B({character:c,onClick:i}){const n=b(E("member0",...D(c))),r=R(S,{member:"member0",et:"self"});return a(_,{children:a(u,{children:e(p,{children:[i?a(F,{onClick:i,children:a(t,{variant:"h4",children:c.key})}):a(t,{variant:"h4",children:c.key}),a(k,{}),e(t,{children:["Eidolon: ",c.eidolon]}),e(t,{children:["Level: ",c.level]}),e(t,{children:["ATK: ",n.compute(r.final.atk).val]}),e(t,{children:["Break effect: ",n.compute(r.final.brEff_).val]}),e(t,{children:["CRIT Rate: ",n.compute(r.final.crit_).val]}),e(t,{children:["CRIT DMG: ",n.compute(r.final.crit_dmg_).val]}),e(t,{children:["DEF: ",n.compute(r.final.def).val]}),e(t,{children:["Effect Hit Rate: ",n.compute(r.final.eff_).val]}),e(t,{children:["Effect RES: ",n.compute(r.final.eff_res_).val]}),e(t,{children:["Energy Regeneration Rate:"," ",n.compute(r.final.enerRegen_).val]}),e(t,{children:["Heal Boost: ",n.compute(r.final.heal_).val]}),e(t,{children:["HP: ",n.compute(r.final.hp).val]}),e(t,{children:["Speed: ",n.compute(r.final.spd).val]})]})})})}const K={xs:1,sm:2,md:3,lg:3,xl:4},j={xs:5,sm:5,md:10,lg:10,xl:10};function z(){const{database:c}=w(),[i,n]=I();l.useEffect(()=>c.chars.followAny(n),[c,n]);const{characters:r}=l.useMemo(()=>{const s=c.chars.values;return i&&{characters:s}},[c.chars.values,i]),g=M(),{numShow:o,setTriggerElement:C}=A(j[g],r.length),h=l.useMemo(()=>r.slice(0,o),[r,o]),[x,d]=l.useState(void 0);return e(H,{children:[a(T,{characterKey:x,onClose:()=>d(void 0)}),a(l.Suspense,{fallback:a(m,{variant:"rectangular",sx:{widht:"100%",height:"100%",minHeight:300}}),children:e(u,{bgt:"dark",children:[a(P,{title:"Characters"}),a(p,{children:e(v,{sx:{overflow:"auto",maxHeight:"50vh"},my:1,display:"flex",flexDirection:"column",gap:1,children:[a(f,{container:!0,spacing:1,columns:K,children:h.map((s,y)=>a(f,{item:!0,xs:1,children:a(B,{character:s,onClick:()=>d(s.key)})},y))}),r.length!==h.length&&a(m,{ref:s=>{s&&C(s)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})})]})})]})}function q(){return a(v,{my:1,children:a(z,{})})}export{q as default};
