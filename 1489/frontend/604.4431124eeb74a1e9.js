"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[604,690,309],{69208:(e,t,n)=>{var r=n(14859);t.Z=void 0;var i=r(n(68671)),a=n(52322),l=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=l},75927:(e,t,n)=>{var r=n(14859);t.Z=void 0;var i=r(n(68671)),a=n(52322),l=(0,i.default)((0,a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.Z=l},93994:(e,t,n)=>{var r=n(14859);t.Z=void 0;var i=r(n(68671)),a=n(52322),l=(0,i.default)((0,a.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");t.Z=l},36269:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(29798),i=n(52322);const a=(0,r.Z)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},23119:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(98283),i=n(7560),a=n(2784),l=n(40489),c=n(69075),o=n(7342),s=n(65992),d=n(43853),_=n(8250),u=n(98659),m=n(62197),f=n(69222),g=n(15672);function p(e){return(0,g.Z)("MuiLink",e)}const y=(0,f.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var h=n(2818),Z=n(47591);const b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},x=({theme:e,ownerState:t})=>{const n=(e=>b[e]||e)(t.color),r=(0,h.DW)(e,`palette.${n}`,!1)||t.color,i=(0,h.DW)(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:(0,Z.Fq)(r,.4)};var v=n(52322);const k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],I=(0,s.ZP)(m.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,o.Z)(n.underline)}`],"button"===n.component&&t.button]}})((({theme:e,ownerState:t})=>(0,i.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,i.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:x({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}}))),w=a.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiLink"}),{className:s,color:m="primary",component:f="a",onBlur:g,onFocus:y,TypographyClasses:h,underline:Z="always",variant:x="inherit",sx:w}=n,S=(0,r.Z)(n,k),{isFocusVisibleRef:C,onBlur:G,onFocus:K,ref:D}=(0,_.Z)(),[M,B]=a.useState(!1),E=(0,u.Z)(t,D),R=(0,i.Z)({},n,{color:m,component:f,focusVisible:M,underline:Z,variant:x}),O=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,a={root:["root",`underline${(0,o.Z)(i)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,c.Z)(a,p,t)})(R);return(0,v.jsx)(I,(0,i.Z)({color:m,className:(0,l.Z)(O.root,s),classes:h,component:f,onBlur:e=>{G(e),!1===C.current&&B(!1),g&&g(e)},onFocus:e=>{K(e),!0===C.current&&B(!0),y&&y(e)},ref:E,ownerState:R,variant:x,sx:[...Object.keys(b).includes(m)?[]:[{color:m}],...Array.isArray(w)?w:[w]]},S))}))},83660:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(107),i=n(23119),a=n(11141),l=n(39857),c=n(52903);function o(){const{t:e}=(0,a.$G)("artifact");return(0,c.tZ)(r.Z,{severity:"info",variant:"filled",children:(0,c.BX)(a.cC,{t:e,i18nKey:"noArtifacts",children:["Looks like you haven't added any artifacts yet. If you want, there are ",(0,c.tZ)(i.Z,{color:"warning.main",component:l.rU,to:"/scanner",fontFamily:"inherit",children:"automatic scanners"})," that can speed up the import process!"]})})}},5051:(e,t,n)=>{n.d(t,{A:()=>f,Z:()=>m});var r=n(79906),i=n(33927),a=n(67550),l=n(62197),c=n(2784),o=n(11141),s=n(45269),d=n(12366),_=n(1665),u=n(52903);function m({children:e,artifactSheet:t,numInSet:n=5}){return(0,u.tZ)(s.Z,{placement:"top",title:(0,u.tZ)(f,{artifactSheet:t,numInSet:n}),disableInteractive:!0,children:e})}function f({artifactSheet:e,numInSet:t=5}){return(0,u.tZ)(c.Suspense,{fallback:(0,u.tZ)(r.Z,{variant:"rectangular",width:100,height:100}),children:(0,u.tZ)(g,{artifactSheet:e,numInSet:t})})}function g({artifactSheet:e,numInSet:t=5}){const{t:n}=(0,o.$G)("sheet");return(0,u.tZ)(i.Z,{spacing:2,sx:{p:1},children:Object.keys(e.setEffects).map((r=>(0,u.BX)(a.Z,{sx:{opacity:parseInt(r)<=t?1:.5},children:[(0,u.tZ)(l.Z,{children:(0,u.tZ)(d.Z,{color:"success",children:n(`${r}set`)})}),(0,u.tZ)(l.Z,{children:(0,u.tZ)(_.v,{ns:`artifact_${e.key}_gen`,key18:`setEffects.${r}`})})]},r)))})}},6480:(e,t,n)=>{n.d(t,{Rl:()=>m,w0:()=>_});var r=n(4991),i=n(67550),a=n(11141),l=n(69614),c=n(25576),o=n(39099),s=n(86569),d=n(52903);function _({statKey:e}){const{t}=(0,a.$G)("statKey_gen");return(0,d.BX)("span",{children:[t(e),(0,l.V)(e)]})}function u({statKey:e,disableIcon:t=!1}){return(0,d.BX)(i.Z,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!t&&(0,d.tZ)(o.C,{statKey:e,iconProps:r.mX}),(0,d.tZ)(_,{statKey:e})]})}function m({statKey:e,disableIcon:t=!1}){return(0,d.tZ)(s.Z,{color:c.ZP.getVariant(e),children:(0,d.tZ)(u,{statKey:e,disableIcon:t})})}},71179:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(4991),i=n(503),a=n(67550),l=n(92794),c=n(39099),o=n(61851),s=n(58489),d=n(6480),_=n(52903);const u=(0,o.X)([...i._m]),m=i._m.slice(0,6),f=i._m.slice(6);function g({selectedKeys:e,onChange:t}){const n=e.filter((e=>m.includes(e))),i=e.filter((e=>f.includes(e)));return(0,_.BX)(a.Z,{display:"flex",gap:1,flexWrap:"wrap",children:[(0,_.tZ)(s.Z,{value:n,sx:{flexGrow:1},children:m.map((n=>(0,_.tZ)(l.Z,{sx:{flexGrow:1},size:"small",value:n,onClick:()=>t(u(e,n)),children:(0,_.BX)(a.Z,{display:"flex",gap:1,alignItems:"center",children:[(0,_.tZ)(c.C,{statKey:n,iconProps:r.mX}),(0,_.tZ)(d.w0,{statKey:n})]})},n)))}),(0,_.tZ)(s.Z,{value:i,sx:{flexGrow:1},children:f.map((n=>(0,_.tZ)(l.Z,{sx:{flexGrow:1},size:"small",value:n,onClick:()=>t(u(e,n)),children:(0,_.BX)(a.Z,{display:"flex",gap:1,alignItems:"center",children:[(0,_.tZ)(c.C,{statKey:n,iconProps:r.mX}),(0,_.tZ)(d.w0,{statKey:n})]})},n)))})]})}},23690:(e,t,n)=>{n.d(t,{Z:()=>_});var r=n(98283),i=n(36269),a=n(83249),l=n(11141),c=n(52903);let o,s=e=>e;const d=["large"];function _(e){let{large:t=!1}=e,n=(0,r.Z)(e,d);const{t:_}=(0,l.$G)("ui");return t?(0,c.tZ)(a.Z,Object.assign({color:"error",startIcon:(0,c.tZ)(i.Z,{})},n,{children:_(o||(o=s`close`))})):(0,c.tZ)(a.Z,Object.assign({color:"error",sx:{p:1,minWidth:0}},n,{children:(0,c.tZ)(i.Z,{})}))}},12702:(e,t,n)=>{n.d(t,{L:()=>c,Z:()=>l});var r=n(69208),i=n(45269),a=n(52903);function l(e){return(0,a.tZ)(i.Z,Object.assign({placement:"top"},e,{children:(0,a.tZ)(r.Z,{sx:{cursor:"help"}})}))}function c(e){return(0,a.tZ)(i.Z,Object.assign({placement:"top"},e,{children:(0,a.tZ)(r.Z,{fontSize:"inherit",sx:{cursor:"help",verticalAlign:"-10%"}})}))}},96580:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(42745),i=n(12366),a=n(52903);function l({value:e,max:t=1,valid:n}){const[l,c]="number"==typeof e?[`roll${(0,r.re)(Math.floor(e/t*10)-4,1,6)}`,e.toFixed()+"%"]:["secondary",e];return(0,a.tZ)(i.Z,{color:n?l:"error",children:c})}},68330:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(503),i=n(22698),a=n(47746),l=n(86432),c=n(80551),o=n(80422),s=n(67550),d=n(38951),_=n(36357),u=n(83249),m=n(2784),f=n(11141),g=n(69614),p=n(25576),y=n(39099),h=n(89977),Z=n(75958),b=n(52903);function x({statKeys:e,statFilters:t,setStatFilters:n,disabled:i=!1,wrapperFunc:a=(e=>e),label:l}){const{t:c}=(0,f.$G)("statKey_gen"),o=(0,m.useMemo)((()=>e.map((e=>{var t;return{key:e,grouper:I[e],label:[...r.rW,...r._m].includes(e)?`${c(e)}${(0,g.V)(e)}`:null!=(t=p.ZP.getStr(e))?t:"ERROR",color:p.ZP.getVariant(e)}})).sort(((e,t)=>k.indexOf(e.grouper)-k.indexOf(t.grouper)))),[c,e]),s=(0,m.useCallback)((e=>Object.keys(t).includes(e.key)),[t]),d=(0,m.useCallback)(((e,r)=>{if(r)n(Object.fromEntries(Object.entries(t).map((([t,n])=>[t===r?e:t,n]))));else{const r=Object.assign({},t);r[e]=0,n(Object.assign({},r))}}),[t,n]),_=(0,m.useCallback)(((e,r)=>{const i=Object.assign({},t);i[e]=r,n(Object.assign({},i))}),[t,n]),u=(0,m.useCallback)((e=>{const r=Object.assign({},t);delete r[e],n(Object.assign({},r))}),[t,n]);return(0,b.BX)(b.HY,{children:[Object.entries(t).map((([e,t])=>a((0,b.tZ)(v,{statKey:e,statKeyOptions:o,disabled:i,value:t,setValue:_,setKey:d,delKey:u,getOptionDisabled:s},e),e))),a((0,b.tZ)(v,{statKey:null,statKeyOptions:o,setValue:_,setKey:d,delKey:u,disabled:i,getOptionDisabled:s,label:l},Object.entries(t).length))]})}function v({statKey:e,statKeyOptions:t=[],value:n=0,delKey:r,setKey:g,setValue:x,disabled:v=!1,getOptionDisabled:k,label:w}){const S=(0,a.Z)(),{t:C}=(0,f.$G)("ui"),G=(0,l.Z)(S.breakpoints.up("lg")),K=(0,l.Z)(S.breakpoints.down("md")),D=!!e&&"%"===p.ZP.unit(e),M=(0,m.useCallback)((t=>e&&x(e,null!=t?t:0)),[x,e]),B=(0,m.useCallback)((t=>{t?g(t,e):e&&r(e)}),[e,g,r]),E=(0,m.useCallback)((()=>e&&r(e)),[r,e]);return(0,b.BX)(c.Z,{sx:{width:"100%"},children:[(0,b.tZ)(Z._,{size:"small",options:t,onChange:B,valueKey:e,getOptionDisabled:k,groupBy:e=>I[e.key],renderGroup:e=>(0,b.BX)(o.Z,{component:s.Z,sx:{paddingTop:0,marginTop:0},children:[(0,b.tZ)(d.Z,{sx:{top:"-1em"},children:(0,b.tZ)("strong",{children:C(`statGroupKey.${e.group}`)})},`${e.group}Header`),e.children]},e.key),toImg:e=>(0,b.tZ)(y.C,{statKey:e,iconProps:{color:p.ZP.getVariant(e)}}),ListboxProps:{style:{display:"grid",gridTemplateColumns:K?"100%":G?"33% 33% 33%":"50% 50%"}},PopperComponent:e=>(0,b.tZ)(_.Z,Object.assign({},e,{style:{width:"60%"}})),sx:{flexGrow:1,flexBasis:150},textFieldProps:{sx:{"& .MuiInputBase-root":{borderRadius:"4px 0 0 4px"}}},label:w}),(0,b.tZ)(h.CC,{sx:{flexBasis:30,flexGrow:1,borderRadius:"0 4px 4px 0"},children:(0,b.tZ)(h.ZP,{disabled:!e||v,float:D,value:n,placeholder:"Stat Value",onChange:M,sx:{px:1},inputProps:{sx:{textAlign:"right"}},endAdornment:e?p.ZP.unit(e):void 0})}),!!e&&(0,b.tZ)(u.Z,{sx:{p:1,flexBasis:30,flexGrow:0,flexShrink:0},color:"error",onClick:E,disabled:v,children:(0,b.tZ)(i.Z,{fontSize:"small"})})]})}const k=["basic_stats","elem_dmg_bonus","enemy_debuffs","self_res","reaction_dmg_bonus","reaction_crit","elem_dmgInc","talent_dmgInc","elem_crit","talent_dmg_bonus","talent_crit","talent_level_boost","base_stat_mod","stamina_buffs","misc"],I={hp:"basic_stats",hp_:"basic_stats",atk:"basic_stats",atk_:"basic_stats",def:"basic_stats",def_:"basic_stats",eleMas:"basic_stats",enerRech_:"basic_stats",critRate_:"basic_stats",critDMG_:"basic_stats",electro_dmg_:"elem_dmg_bonus",hydro_dmg_:"elem_dmg_bonus",pyro_dmg_:"elem_dmg_bonus",cryo_dmg_:"elem_dmg_bonus",physical_dmg_:"elem_dmg_bonus",anemo_dmg_:"elem_dmg_bonus",geo_dmg_:"elem_dmg_bonus",dendro_dmg_:"elem_dmg_bonus",heal_:"basic_stats",all_dmg_:"elem_dmg_bonus",overloaded_dmg_:"reaction_dmg_bonus",shattered_dmg_:"reaction_dmg_bonus",electrocharged_dmg_:"reaction_dmg_bonus",superconduct_dmg_:"reaction_dmg_bonus",swirl_dmg_:"reaction_dmg_bonus",burning_dmg_:"reaction_dmg_bonus",bloom_dmg_:"reaction_dmg_bonus",burgeon_dmg_:"reaction_dmg_bonus",hyperbloom_dmg_:"reaction_dmg_bonus",vaporize_dmg_:"reaction_dmg_bonus",melt_dmg_:"reaction_dmg_bonus",spread_dmg_:"reaction_dmg_bonus",aggravate_dmg_:"reaction_dmg_bonus",normal_dmg_:"talent_dmg_bonus",charged_dmg_:"talent_dmg_bonus",plunging_dmg_:"talent_dmg_bonus",plunging_collision_dmg_:"talent_dmg_bonus",plunging_impact_dmg_:"talent_dmg_bonus",skill_dmg_:"talent_dmg_bonus",burst_dmg_:"talent_dmg_bonus",elemental_dmg_:"talent_dmg_bonus",normalEle_dmg_:"talent_dmg_bonus",physical_dmgInc:"elem_dmgInc",physical_critDMG_:"elem_crit",physical_res_:"self_res",anemo_dmgInc:"elem_dmgInc",anemo_critDMG_:"elem_crit",anemo_res_:"self_res",geo_dmgInc:"elem_dmgInc",geo_critDMG_:"elem_crit",geo_res_:"self_res",electro_dmgInc:"elem_dmgInc",electro_critDMG_:"elem_crit",electro_res_:"self_res",hydro_dmgInc:"elem_dmgInc",hydro_critDMG_:"elem_crit",hydro_res_:"self_res",pyro_dmgInc:"elem_dmgInc",pyro_critDMG_:"elem_crit",pyro_res_:"self_res",cryo_dmgInc:"elem_dmgInc",cryo_critDMG_:"elem_crit",cryo_res_:"self_res",dendro_dmgInc:"elem_dmgInc",dendro_critDMG_:"elem_crit",dendro_res_:"self_res",autoBoost:"talent_level_boost",skillBoost:"talent_level_boost",burstBoost:"talent_level_boost",normal_dmgInc:"talent_dmgInc",normal_critDMG_:"talent_crit",normal_critRate_:"talent_crit",charged_dmgInc:"talent_dmgInc",charged_critDMG_:"talent_crit",charged_critRate_:"talent_crit",plunging_dmgInc:"talent_dmgInc",plunging_critDMG_:"talent_crit",plunging_critRate_:"talent_crit",plunging_collision_dmgInc:"talent_dmgInc",plunging_collision_critDMG_:"talent_crit",plunging_collision_critRate_:"talent_crit",plunging_impact_dmgInc:"talent_dmgInc",plunging_impact_critDMG_:"talent_crit",plunging_impact_critRate_:"talent_crit",skill_dmgInc:"talent_dmgInc",skill_critDMG_:"talent_crit",skill_critRate_:"talent_crit",burst_dmgInc:"talent_dmgInc",burst_critDMG_:"talent_crit",burst_critRate_:"talent_crit",elemental_dmgInc:"talent_dmgInc",elemental_critDMG_:"talent_crit",elemental_critRate_:"talent_crit",burning_critRate_:"reaction_crit",burning_critDMG_:"reaction_crit",bloom_critRate_:"reaction_crit",bloom_critDMG_:"reaction_crit",burgeon_critRate_:"reaction_crit",burgeon_critDMG_:"reaction_crit",hyperbloom_critRate_:"reaction_crit",hyperbloom_critDMG_:"reaction_crit",all_dmgInc:"elem_dmgInc",physical_enemyRes_:"enemy_debuffs",anemo_enemyRes_:"enemy_debuffs",geo_enemyRes_:"enemy_debuffs",electro_enemyRes_:"enemy_debuffs",hydro_enemyRes_:"enemy_debuffs",pyro_enemyRes_:"enemy_debuffs",cryo_enemyRes_:"enemy_debuffs",dendro_enemyRes_:"enemy_debuffs",enemyDefRed_:"enemy_debuffs",enemyDefIgn_:"misc",stamina:"stamina_buffs",staminaDec_:"stamina_buffs",staminaSprintDec_:"stamina_buffs",staminaGlidingDec_:"stamina_buffs",staminaChargedDec_:"stamina_buffs",incHeal_:"misc",shield_:"misc",cdRed_:"misc",moveSPD_:"misc",atkSPD_:"misc",weakspotDMG_:"misc",dmgRed_:"misc",healInc:"misc",base_atk:"base_stat_mod",base_hp:"base_stat_mod",base_def:"base_stat_mod"}},30706:(e,t,n)=>{n.d(t,{N:()=>T,Z:()=>W});var r=n(4991),i=n(42745),a=n(72539),l=n(503),c=n(14115),o=n(54278),s=n(40535),d=n(22698),_=n(29754),u=n(75213),m=n(67550),f=n(79906),g=n(62197),p=n(85801),y=n(66198),h=n(7671),Z=n(83249),b=n(2784),x=n(11141),v=n(5051),k=n(79199),I=n(45269),w=n(87833),S=n(50090),C=n(41653),G=n(86569),K=n(26437),D=n(12702),M=n(96580),B=n(36674),E=n(4121),R=n(69614),O=n(6853),j=n(25576),$=n(39099),X=n(70582),P=n(52903);let z,A,V,F=e=>e;const L=(0,b.lazy)((()=>Promise.all([n.e(497),n.e(592),n.e(286),n.e(934)]).then(n.bind(n,88344)))),H=new Set(l._m);function W({artifactId:e,artifactObj:t,onClick:n,onDelete:r,mainStatAssumptionLevel:i=0,effFilter:j=H,editorProps:W,canEquip:T=!1,extraButtons:q}){var U,Q;const{t:Y}=(0,x.$G)(["artifact","ui"]),{t:J}=(0,x.$G)("statKey_gen"),{database:ee}=(0,b.useContext)(O.t),te=(0,X.Z)(e),ne=null==(U=null!=t?t:te)?void 0:U.setKey,re=ne&&(0,E.Sk)(ne),ie=(0,b.useCallback)((t=>e&&ee.arts.set(e,{location:t})),[ee,e]),ae=!t,[le,ce]=(0,b.useState)(!1),oe=(0,b.useCallback)((()=>ce(!1)),[ce]),se=(0,b.useCallback)((()=>ae&&ce(!0)),[ae,ce]),de=(0,b.useCallback)((t=>(0,P.tZ)(u.Z,{onClick:()=>e&&(null==n?void 0:n(e)),sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:t})),[n,e]),_e=(0,b.useCallback)((e=>(0,P.tZ)(m.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})),[]),ue=null!=t?t:te,{currentEfficiency:me,maxEfficiency:fe,currentEfficiency_:ge,maxEfficiency_:pe}=(0,b.useMemo)((()=>{if(!ue)return{currentEfficiency:0,maxEfficiency:0,currentEfficiency_:0,maxEfficiency_:0};const{currentEfficiency:e,maxEfficiency:t}=R.Z.getArtifactEfficiency(ue,j),{currentEfficiency:n,maxEfficiency:r}=R.Z.getArtifactEfficiency(ue,new Set(l._m));return{currentEfficiency:e,maxEfficiency:t,currentEfficiency_:n,maxEfficiency_:r}}),[ue,j]);if(!ue)return null;const{id:ye,lock:he,slotKey:Ze,setKey:be,rarity:xe,level:ve,mainStatKey:ke,substats:Ie,location:we=""}=ue,Se=Math.max(Math.min(i,4*xe),ve),Ce=0!==fe,Ge=null==re?void 0:re.getSlotName(Ze),Ke=null==re?void 0:re.getSlotDesc(Ze),De=Ke&&(0,P.tZ)(D.Z,{title:(0,P.BX)(m.Z,{children:[(0,P.tZ)(b.Suspense,{fallback:(0,P.tZ)(f.Z,{variant:"text",width:100}),children:(0,P.tZ)(g.Z,{variant:"h6",children:Ge})}),(0,P.tZ)(g.Z,{children:Ke})]})}),Me=l.fR.find((e=>ke.startsWith(e)));return(0,P.BX)(b.Suspense,{fallback:(0,P.tZ)(f.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:[W&&(0,P.tZ)(b.Suspense,{fallback:!1,children:(0,P.tZ)(L,Object.assign({artifactIdToEdit:le?e:"",cancelEdit:oe},W))}),(0,P.BX)(w.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,P.BX)(K.Z,{condition:!!n,wrapper:de,falseWrapper:_e,children:[(0,P.BX)(m.Z,{className:`grad-${xe}star`,sx:{position:"relative",width:"100%"},children:[!n&&(0,P.tZ)(p.Z,{color:"primary",disabled:!ae,onClick:()=>ee.arts.set(ye,{lock:!he}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:he?(0,P.tZ)(o.Z,{}):(0,P.tZ)(s.Z,{})}),(0,P.BX)(m.Z,{sx:{pt:2,px:2,position:"relative",zIndex:1},children:[(0,P.BX)(m.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:.4,mb:1},children:[(0,P.tZ)(y.Z,{size:"small",label:(0,P.tZ)("strong",{children:` +${ve}`}),color:R.Z.levelVariant(ve)}),!Ge&&(0,P.tZ)(f.Z,{variant:"text",width:100}),Ge&&(0,P.tZ)(g.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1.5},children:(0,P.tZ)("strong",{children:Ge})}),De||(0,P.tZ)(f.Z,{width:10})]}),(0,P.BX)(g.Z,{color:"text.secondary",variant:"body2",sx:{display:"flex",gap:.5,alignItems:"center"},children:[(0,P.tZ)(k.Z,{iconProps:{fontSize:"inherit"},slotKey:Ze}),Y(`slotName.${Ze}`)]}),(0,P.BX)(g.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,P.tZ)($.C,{statKey:ke,iconProps:{sx:{color:`${Me}.main`}}}),(0,P.tZ)("span",{children:J(ke)})]}),(0,P.tZ)(g.Z,{variant:"h5",children:(0,P.tZ)("strong",{children:(0,P.tZ)(G.Z,{color:Se!==ve?"warning":void 0,children:(0,c.R1)(ke,xe,Se)})})}),(0,P.tZ)(B.q,{stars:xe,colored:!0})]}),(0,P.tZ)(m.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,P.tZ)(m.Z,{component:"img",src:(0,a.Hp)(be,Ze),width:"auto",height:"110%",sx:{float:"right",marginBottom:"-5%",marginTop:"-5%",marginRight:"-5%"}})})]}),(0,P.BX)(h.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:"0!important",width:"100%"},children:[Ie.map((e=>!!e.value&&(0,P.tZ)(N,{stat:e,effFilter:j,rarity:xe},e.key))),(0,P.BX)(g.Z,{variant:"caption",sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,P.tZ)(G.Z,{color:"secondary",sx:{flexGrow:1},children:Y(z||(z=F`artifact:editor.curSubEff`))}),(0,P.tZ)(M.Z,{value:me,max:900,valid:Ce}),me!==ge&&(0,P.tZ)("span",{children:"/"}),me!==ge&&(0,P.tZ)(M.Z,{value:ge,max:900,valid:Ce})]}),me!==fe&&(0,P.BX)(g.Z,{variant:"caption",sx:{display:"flex",gap:1},children:[(0,P.tZ)(G.Z,{color:"secondary",sx:{flexGrow:1},children:Y(A||(A=F`artifact:editor.maxSubEff`))}),(0,P.tZ)(M.Z,{value:fe,max:900,valid:Ce}),fe!==pe&&(0,P.tZ)("span",{children:"/"}),fe!==pe&&(0,P.tZ)(M.Z,{value:pe,max:900,valid:Ce})]}),(0,P.tZ)(m.Z,{flexGrow:1}),void 0!==ue.probability&&ue.probability>=0&&(0,P.BX)("strong",{children:["Probability: ",(100*ue.probability).toFixed(2),"%"]}),(0,P.BX)(g.Z,{color:"success.main",children:[null!=(Q=null==re?void 0:re.name)?Q:"Artifact Set"," ",re&&(0,P.tZ)(D.L,{title:(0,P.tZ)(v.A,{artifactSheet:re})})]})]})]}),(0,P.BX)(m.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,P.tZ)(m.Z,{sx:{flexGrow:1},children:ae&&T?(0,P.tZ)(S.W,{location:we,setLocation:ie}):(0,P.tZ)(C.Z,{location:we})}),(0,P.BX)(m.Z,{display:"flex",gap:1,alignItems:"stretch",height:"100%",sx:{"& .MuiButton-root":{minWidth:0,height:"100%"}},children:[ae&&W&&(0,P.tZ)(I.Z,{title:(0,P.tZ)(g.Z,{children:Y(V||(V=F`artifact:edit`))}),placement:"top",arrow:!0,children:(0,P.tZ)(Z.Z,{color:"info",size:"small",onClick:se,children:(0,P.tZ)(_.Z,{})})}),ae&&!!r&&(0,P.tZ)(I.Z,{title:he?Y("artifact:cantDeleteLock"):"",placement:"top",children:(0,P.tZ)("span",{children:(0,P.tZ)(Z.Z,{color:"error",size:"small",onClick:()=>r(ye),disabled:he,children:(0,P.tZ)(d.Z,{})})})}),q]})]})]})]})}function N({stat:e,effFilter:t,rarity:n}){var a,l,o;const{t:s}=(0,x.$G)("statKey_gen"),d=null!=(a=null==(l=e.rolls)?void 0:l.length)?a:0,_=e.key?(0,c.U9)(e.key):0,u=(0,b.useMemo)((()=>e.key?(0,c.ME)(e.key,n):[]),[e.key,n]),f=7-u.length,p=`roll${(0,i.re)(d,1,6)}`,y=null!=(o=e.efficiency)?o:0,h=e.key&&t.has(e.key),Z=(0,i.V2)(.5+y/500*.5),v=j.ZP.unit(e.key),k=(0,b.useMemo)((()=>(0,P.tZ)(m.Z,{display:"flex",gap:.25,height:"1.3em",sx:{opacity:h?1:.3},children:[...e.rolls].sort().map(((e,t)=>(0,P.tZ)(T,{value:100*e/_,color:`roll${(0,i.re)(f+u.indexOf(e),1,6)}.main`},`${t}${e}`)))})),[h,e.rolls,_,u,f]);return(0,P.BX)(m.Z,{display:"flex",gap:1,alignContent:"center",children:[(0,P.BX)(g.Z,{sx:{flexGrow:1},color:d?`${p}.main`:"error.main",component:"span",children:[(0,P.tZ)($.C,{statKey:e.key,iconProps:r.mX})," ",s(e.key),`+${(0,c.Jj)(e.value,j.ZP.unit(e.key))}${v}`]}),k,(0,P.BX)(g.Z,{sx:{opacity:Z,minWidth:40,textAlign:"right"},children:[y.toFixed(),"%"]})]})}function T({color:e="red",value:t=50}){return(0,P.tZ)(m.Z,{sx:{width:7,height:"100%",bgcolor:e,overflow:"hidden",borderRadius:1,display:"inline-block"},children:(0,P.tZ)(m.Z,{sx:{width:10,height:100-(0,i.re)(t,0,100)+"%",bgcolor:"gray"}})})}},15015:(e,t,n)=>{n.d(t,{Af:()=>c,EM:()=>s,OQ:()=>l,t$:()=>d,x3:()=>o});var r=n(503),i=n(69614),a=n(57928);const l=["rarity","level","artsetkey","efficiency","mefficiency","probability"];function c(){return{artSetKeys:[],rarity:[...r.$W],levelLow:0,levelHigh:20,slotKeys:[...r.Ex],mainStatKeys:[],substats:[],locations:[],showEquipped:!0,showInventory:!0,locked:["locked","unlocked"],rvLow:0,rvHigh:900,lines:[1,2,3,4]}}function o(e,t){return{rarity:e=>{var t;return null!=(t=e.rarity)?t:0},level:e=>{var t;return null!=(t=e.level)?t:0},artsetkey:e=>{var t;return null!=(t=e.setKey)?t:""},efficiency:t=>i.Z.getArtifactEfficiency(t,e).currentEfficiency,mefficiency:t=>i.Z.getArtifactEfficiency(t,e).maxEfficiency,probability:e=>{if(!Object.keys(t).length)return 0;const n=e.probability;return void 0===n?(0,a.B)(e,t):n}}}function s(e=new Set(r._m)){return{locked:(e,t)=>!(!t.includes("locked")&&e.lock)&&!(!t.includes("unlocked")&&!e.lock),locations:(e,t,n)=>!(e.location&&!n.showEquipped)||t.includes(e.location),showEquipped:()=>!0,showInventory:(e,t)=>!!e.location||t,artSetKeys:(e,t)=>!t.length||t.includes(e.setKey),slotKeys:(e,t)=>t.includes(e.slotKey),mainStatKeys:(e,t)=>!t.length||t.includes(e.mainStatKey),levelLow:(e,t)=>t<=e.level,levelHigh:(e,t)=>t>=e.level,rvLow:(t,n)=>0===n||n<=i.Z.getArtifactEfficiency(t,e).currentEfficiency,rvHigh:(t,n)=>900===n||n>=i.Z.getArtifactEfficiency(t,e).currentEfficiency,rarity:(e,t)=>t.includes(e.rarity),substats:(e,t)=>{for(const n of t)if(n&&!e.substats.some((e=>e.key===n)))return!1;return!0},lines:(e,t)=>[0,...t].includes(e.substats.filter((e=>e.value)).length)}}const d={level:["level","rarity","artsetkey"],rarity:["rarity","level","artsetkey"],artsetkey:["artsetkey","rarity","level"],efficiency:["efficiency"],mefficiency:["mefficiency"],probability:["probability"]}},57928:(e,t,n)=>{n.d(t,{B:()=>u});var r=n(42745),i=n(67245),a=n(14115);const l=[3,4,6],c={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},o={};function s(e,t,n,i){if(5!==e.length)for(const r of l)t[r]>0&&s([...e,r],Object.assign({},t,{[r]:t[r]-r}),n-r,i*t[r]/n);else(0,r.SR)(o,e,i)}s([0],{3:6,4:20,6:18},44,1),s([3],{3:3,4:20,6:18},41,1),s([4],{3:6,4:16,6:18},40,1),s([6],{3:6,4:20,6:12},38,1);const d=Array(6).fill(0).map(((e,t)=>{const n=[1];let r=0,i=1;for(;++r<=t;)i*=t-r+1,i/=r,n.push(i);return n})),_=[[1]];for(;_.length<6;){const e=_[_.length-1],t=Array(e.length+3).fill(0);e.forEach(((e,n)=>{for(const r of[0,1,2,3])t[n+r]+=e})),_.push(t.map((e=>e/4)))}for(const m of _){let e=m.reduce(((e,t)=>e+t));m.forEach(((t,n,r)=>{r[n]=e,e-=t}))}function u(e,t){if(e.rarity<=2)return NaN;const{rarity:n,level:s,substats:u}=e,m=Object.assign({},t),f=new Set(Object.keys(m));let g=0;{const t=e.mainStatKey;if(t in m){const e=4*n;if(i.G2.art.main[n][t][e]<m[t])return 0;delete m[t],f.delete(t)}}for(const{key:r,value:i}of u)r?f.has(r)&&(f.delete(r),m[r]>i?m[r]-=i:delete m[r]):g+=1;if(g+=4-u.length,f.size>g||Object.keys(m).length>4)return 0;const p=(0,a.NB)(s,n)-g;for(const[r,i]of Object.entries(m))m[r]=Math.max(Math.ceil(10*i/(0,a.U9)(r,n)),1);let y=0;const h=Object.entries(m).map((([e,t])=>{const n=f.has(e)?1:0,r=Math.ceil(t/10)-n;return y+=r,{target:t,filler:n,minUpgrade:r}})).reverse();if(y>p)return 0;let Z={[p]:1};const b=p-y;return h.forEach((({target:e,filler:t,minUpgrade:n},r)=>{const i={};for(let s=n;s<=n+b;s++){const n=e-7*(s+t),u=n>0?_[s+t][n]:1;for(const[e,t]of Object.entries(Z)){var a;const n=parseInt(e);if(n<s)continue;const _=(c=s,o=4-r,d[l=n][c]*Math.pow(o-1,l-c)/Math.pow(o,l)),m=n-s;i[m]=(null!=(a=i[m])?a:0)+t*u*_}}var l,c,o;Z=i})),function(e,t,n){var i;const a=null!=(i=c[e])?i:0;let s=0;const _={3:2,4:5,6:3};let u=o[a];for(const{key:r}of t)if(r){const e=c[r];u=u[e],_[e]-=1}a&&(_[a]-=1);const m={3:0,4:0,6:0};for(const r of n)m[c[r]]+=1;let f=0;(0,r.Q1)(u,[],(e=>"number"==typeof e),((e,t)=>{f+=e;const n={3:0,4:0,6:0};for(const i of t)n[i]+=1;let r=e;for(const i of l){const e=n[i],t=m[i];if(e<t)return;r*=d[e][t]}s+=r}));for(const r of l)s/=d[_[r]][m[r]];return s/f}(e.mainStatKey,u,f)*Object.values(Z).reduce(((e,t)=>e+t))}},70582:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(13073),i=n(2784),a=n(6853);function l(e=""){const{database:t}=(0,i.useContext)(a.t);return(0,r.Y)(t.arts,e)}}}]);