import{b as W,as as qe,at as Ye,au as V,av as v,e as l,aw as He,cF as Ta,cG as ka,ax as Xe,l as je,bm as Sa,j as O,ay as ve,az as Ve,cH as Ee,aO as A,cI as Ne,r as Je,i as Ze,n as p,p as e,U as ue,B as H,cJ as ja,aK as Da,cv as za,c as Qe,ap as oe,J as b,K as m,bt as Ba,a9 as ge,d as J,T as R,q as fe,cK as Ma,aB as De,u as Ce,c0 as Aa,cL as Ia,b9 as Oa,c4 as Re,k as Ea,am as Na,aA as K,aC as me,ab as Ka,bk as Wa,bj as Ke,bD as ea,aE as aa,W as ta,X as ra,bC as Pa,C as ie,D as na,aI as Fa,cw as Le,ar as Ue,bx as $e,cM as Ga,m as Te,f as ze,v as qa,cN as Ya,cO as xe,h as Ha,t as Xa,V as Va,Q as Ja,cd as Za,s as Qa,aG as oa}from"./index-158f0932.js";import{a as j,l as ia,o as sa,F as la,f as et,g as at,W as tt,S as rt,c as nt,T as ot,d as We,n as ca,b as it,C as st,p as lt}from"./TeamCard-010eafdd.js";import{D as ee}from"./FieldDisplay-c1c2e16e.js";import{j as N,E as ha,i as be,S as ct,w as ht,q as pt,g as Q,I as dt}from"./index-50fce377.js";import{a as pa}from"./BootstrapTooltip-8457a112.js";import{C as da}from"./CloseButton-b5d5c14f.js";import{I as Be,i as ut,C as mt}from"./ColoredText-5d4f1526.js";import{L as gt}from"./LevelSelect-578a7fb6.js";import{S as ke}from"./SqBadge-2b3e60d9.js";import{u as ft,b as Me,F as ua,f as Ct,s as _t,T as xt,S as bt,d as yt}from"./StarDisplay-bfc91ae8.js";import{b as ma}from"./PageAndSortOptionSelect-862d1ff1.js";import{C as ga}from"./CardActionArea-dc07d6b2.js";import{C as wt,a as vt,M as Rt}from"./DropdownButton-eed29567.js";import{a as Lt}from"./Trans-7afc7735.js";import{g as Ut}from"./index-8ec923a2.js";import{S as $t}from"./SlotIcon-953d547e.js";import{T as fa,a as Tt,h as Ca,c as Pe,S as kt}from"./totalUtils-138decb2.js";import{W as St}from"./WeaponToggle-4d48f4cb.js";function jt(t){const a=W();return ft(a.buildTcs,t)}function Dt(t){return qe("MuiCollapse",t)}Ye("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const zt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Bt=t=>{const{orientation:a,classes:r}=t,n={root:["root",`${a}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${a}`],wrapperInner:["wrapperInner",`${a}`]};return Ve(n,Dt,r)},Mt=V("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,a[r.orientation],r.state==="entered"&&a.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&a.hidden]}})(({theme:t,ownerState:a})=>v({height:0,overflow:"hidden",transition:t.transitions.create("height")},a.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},a.state==="entered"&&v({height:"auto",overflow:"visible"},a.orientation==="horizontal"&&{width:"auto"}),a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&{visibility:"hidden"})),At=V("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,a)=>a.wrapper})(({ownerState:t})=>v({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),It=V("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,a)=>a.wrapperInner})(({ownerState:t})=>v({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),_a=l.forwardRef(function(a,r){const n=He({props:a,name:"MuiCollapse"}),{addEndListener:s,children:o,className:c,collapsedSize:i="0px",component:C,easing:g,in:d,onEnter:h,onEntered:f,onEntering:_,onExit:y,onExited:k,onExiting:L,orientation:S="vertical",style:U,timeout:D=Ta.standard,TransitionComponent:Z=ka}=n,P=Xe(n,zt),z=v({},n,{orientation:S,collapsedSize:i}),I=Bt(z),F=je(),x=l.useRef(),w=l.useRef(null),T=l.useRef(),G=typeof i=="number"?`${i}px`:i,E=S==="horizontal",B=E?"width":"height";l.useEffect(()=>()=>{clearTimeout(x.current)},[]);const X=l.useRef(null),_e=Sa(r,X),q=u=>$=>{if(u){const M=X.current;$===void 0?u(M):u(M,$)}},ae=()=>w.current?w.current[E?"clientWidth":"clientHeight"]:0,se=q((u,$)=>{w.current&&E&&(w.current.style.position="absolute"),u.style[B]=G,h&&h(u,$)}),le=q((u,$)=>{const M=ae();w.current&&E&&(w.current.style.position="");const{duration:ne,easing:de}=Ee({style:U,timeout:D,easing:g},{mode:"enter"});if(D==="auto"){const Oe=F.transitions.getAutoHeightDuration(M);u.style.transitionDuration=`${Oe}ms`,T.current=Oe}else u.style.transitionDuration=typeof ne=="string"?ne:`${ne}ms`;u.style[B]=`${M}px`,u.style.transitionTimingFunction=de,_&&_(u,$)}),te=q((u,$)=>{u.style[B]="auto",f&&f(u,$)}),ce=q(u=>{u.style[B]=`${ae()}px`,y&&y(u)}),he=q(k),pe=q(u=>{const $=ae(),{duration:M,easing:ne}=Ee({style:U,timeout:D,easing:g},{mode:"exit"});if(D==="auto"){const de=F.transitions.getAutoHeightDuration($);u.style.transitionDuration=`${de}ms`,T.current=de}else u.style.transitionDuration=typeof M=="string"?M:`${M}ms`;u.style[B]=G,u.style.transitionTimingFunction=ne,L&&L(u)}),re=u=>{D==="auto"&&(x.current=setTimeout(u,T.current||0)),s&&s(X.current,u)};return O.jsx(Z,v({in:d,onEnter:se,onEntered:te,onEntering:le,onExit:ce,onExited:he,onExiting:pe,addEndListener:re,nodeRef:X,timeout:D==="auto"?null:D},P,{children:(u,$)=>O.jsx(Mt,v({as:C,className:ve(I.root,c,{entered:I.entered,exited:!d&&G==="0px"&&I.hidden}[u]),style:v({[E?"minWidth":"minHeight"]:G},U),ownerState:v({},z,{state:u}),ref:_e},$,{children:O.jsx(At,{ownerState:v({},z,{state:u}),className:I.wrapper,ref:w,children:O.jsx(It,{ownerState:v({},z,{state:u}),className:I.wrapperInner,children:o})})}))}))});_a.muiSupportAuto=!0;const xa=_a;function Ot(t){const{badgeContent:a,invisible:r=!1,max:n=99,showZero:s=!1}=t,o=ma({badgeContent:a,max:n});let c=r;r===!1&&a===0&&!s&&(c=!0);const{badgeContent:i,max:C=n}=c?o:t,g=i&&Number(i)>C?`${C}+`:i;return{badgeContent:i,invisible:c,max:C,displayValue:g}}function Et(t){return qe("MuiBadge",t)}const Nt=Ye("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Y=Nt,Kt=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],ye=10,we=4,Wt=t=>{const{color:a,anchorOrigin:r,invisible:n,overlap:s,variant:o,classes:c={}}=t,i={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${A(r.vertical)}${A(r.horizontal)}`,`anchorOrigin${A(r.vertical)}${A(r.horizontal)}${A(s)}`,`overlap${A(s)}`,a!=="default"&&`color${A(a)}`]};return Ve(i,Et,c)},Pt=V("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,a)=>a.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ft=V("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.badge,a[r.variant],a[`anchorOrigin${A(r.anchorOrigin.vertical)}${A(r.anchorOrigin.horizontal)}${A(r.overlap)}`],r.color!=="default"&&a[`color${A(r.color)}`],r.invisible&&a.invisible]}})(({theme:t,ownerState:a})=>v({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:ye*2,lineHeight:1,padding:"0 6px",height:ye*2,borderRadius:ye,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},a.color!=="default"&&{backgroundColor:(t.vars||t).palette[a.color].main,color:(t.vars||t).palette[a.color].contrastText},a.variant==="dot"&&{borderRadius:we,height:we*2,minWidth:we*2,padding:0},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Y.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),Gt=l.forwardRef(function(a,r){var n,s,o,c,i,C;const g=He({props:a,name:"MuiBadge"}),{anchorOrigin:d={vertical:"top",horizontal:"right"},className:h,component:f,components:_={},componentsProps:y={},children:k,overlap:L="rectangular",color:S="default",invisible:U=!1,max:D=99,badgeContent:Z,slots:P,slotProps:z,showZero:I=!1,variant:F="standard"}=g,x=Xe(g,Kt),{badgeContent:w,invisible:T,max:G,displayValue:E}=Ot({max:D,invisible:U,badgeContent:Z,showZero:I}),B=ma({anchorOrigin:d,color:S,overlap:L,variant:F,badgeContent:Z}),X=T||w==null&&F!=="dot",{color:_e=S,overlap:q=L,anchorOrigin:ae=d,variant:se=F}=X?B:g,le=se!=="dot"?E:void 0,te=v({},g,{badgeContent:w,invisible:X,max:G,displayValue:le,showZero:I,anchorOrigin:ae,color:_e,overlap:q,variant:se}),ce=Wt(te),he=(n=(s=P==null?void 0:P.root)!=null?s:_.Root)!=null?n:Pt,pe=(o=(c=P==null?void 0:P.badge)!=null?c:_.Badge)!=null?o:Ft,re=(i=z==null?void 0:z.root)!=null?i:y.root,u=(C=z==null?void 0:z.badge)!=null?C:y.badge,$=Ne({elementType:he,externalSlotProps:re,externalForwardedProps:x,additionalProps:{ref:r,as:f},ownerState:te,className:ve(re==null?void 0:re.className,ce.root,h)}),M=Ne({elementType:pe,externalSlotProps:u,ownerState:te,className:ve(ce.badge,u==null?void 0:u.className)});return O.jsxs(he,v({},$,{children:[k,O.jsx(pe,v({},M,{children:le}))]}))}),qt=Gt;var Ae={},Yt=Ze;Object.defineProperty(Ae,"__esModule",{value:!0});var Se=Ae.default=void 0,Ht=Yt(Je()),Xt=O,Vt=(0,Ht.default)((0,Xt.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");Se=Ae.default=Vt;function Jt({title:t,children:a,id:r="dropdownbtn",...n}){const[s,o]=l.useState(null),c=!!s,i=l.useCallback(g=>o(g.currentTarget),[o]),C=l.useCallback(()=>o(null),[o]);return p(l.Suspense,{fallback:e(H,{endIcon:e(Se,{}),...n,children:e(ue,{width:50})}),children:[e(H,{...n,id:r,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":c?"true":void 0,onClick:i,endIcon:e(Se,{}),children:t}),e(za,{id:"basic-menu",anchorEl:s,open:c,placement:"bottom-start",transition:!0,onClick:C,sx:{zIndex:1500},children:({TransitionProps:g,placement:d})=>e(ja,{...g,style:{transformOrigin:d==="bottom-start"?"left top":"left bottom"},children:e(Da,{sx:{maxHeight:"50vh",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12))",boxShadow:"rgb(0 0 0 / 20%) 0px 5px 5px -3px, rgb(0 0 0 / 14%) 0px 8px 10px 1px, rgb(0 0 0 / 12%) 0px 3px 14px 2px",paddingTop:"1px",paddingBottom:"1px",overflow:"auto"},children:e(wt,{onClickAway:C,children:p("div",{children:[" ",e(l.Suspense,{fallback:e(ue,{width:"100%",height:"1000"}),children:e(vt,{"aria-labelledby":r,children:a})})]})})})})})]})}const Zt=Qe(O.jsx("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4zm-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5z"}),"Female"),Qt=Qe(O.jsx("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9z"}),"Male"),er=""+new URL("splash_aether-7358d244.png",import.meta.url).href,ar=""+new URL("splash_albedo-37c05d76.png",import.meta.url).href,tr=""+new URL("splash_alhaitham-1e0549dd.png",import.meta.url).href,rr=""+new URL("splash_amber-51176566.png",import.meta.url).href,nr=""+new URL("splash_ayaka-6fa3baa9.png",import.meta.url).href,or=""+new URL("splash_ayato-80dc87d2.png",import.meta.url).href,ir=""+new URL("splash_baizhu-e00c9e38.png",import.meta.url).href,sr=""+new URL("splash_barbara-c0390dce.png",import.meta.url).href,lr=""+new URL("splash_beidou-bc8a24cb.png",import.meta.url).href,cr=""+new URL("splash_bennett-50399e82.png",import.meta.url).href,hr=""+new URL("splash_candace-d08ffe76.png",import.meta.url).href,pr=""+new URL("splash_charlotte-f4dc3ffe.png",import.meta.url).href,dr=""+new URL("splash_chevreuse-b62095f4.png",import.meta.url).href,ur=""+new URL("splash_chongyun-6d2df2ec.png",import.meta.url).href,mr=""+new URL("splash_collei-504a299e.png",import.meta.url).href,gr=""+new URL("splash_cyno-ad2ccd61.png",import.meta.url).href,fr=""+new URL("splash_dehya-516792b5.png",import.meta.url).href,Cr=""+new URL("splash_diluc-aca80da5.png",import.meta.url).href,_r=""+new URL("splash_diona-60ac79e8.png",import.meta.url).href,xr=""+new URL("splash_dori-9e4fe1f4.png",import.meta.url).href,br=""+new URL("splash_eula-1491affb.png",import.meta.url).href,yr=""+new URL("splash_faruzan-53cea880.png",import.meta.url).href,wr=""+new URL("splash_fischl-81de0725.png",import.meta.url).href,vr=""+new URL("splash_freminet-87ef7da9.png",import.meta.url).href,Rr=""+new URL("splash_furina-132cdf4e.png",import.meta.url).href,Lr=""+new URL("splash_gaming-f942e04b.png",import.meta.url).href,Ur=""+new URL("splash_ganyu-3428e56a.png",import.meta.url).href,$r=""+new URL("splash_gorou-2540c1f5.png",import.meta.url).href,Tr=""+new URL("splash_heizou-778f17a2.png",import.meta.url).href,kr=""+new URL("splash_hutao-d7962623.png",import.meta.url).href,Sr=""+new URL("splash_itto-89b11acb.png",import.meta.url).href,jr=""+new URL("splash_jean-8b1a28fe.png",import.meta.url).href,Dr=""+new URL("splash_kaeya-e26022f0.png",import.meta.url).href,zr=""+new URL("splash_kaveh-a63cd11f.png",import.meta.url).href,Br=""+new URL("splash_kazuha-94865d22.png",import.meta.url).href,Mr=""+new URL("splash_keqing-0cd58460.png",import.meta.url).href,Ar=""+new URL("splash_kirara-0b285e89.png",import.meta.url).href,Ir=""+new URL("splash_klee-81a7fd6f.png",import.meta.url).href,Or=""+new URL("splash_kokomi-7dc7c799.png",import.meta.url).href,Er=""+new URL("splash_kuki-2e7b6638.png",import.meta.url).href,Nr=""+new URL("splash_layla-45b01b3a.png",import.meta.url).href,Kr=""+new URL("splash_lisa-f07e93de.png",import.meta.url).href,Wr=""+new URL("splash_lumine-51240648.png",import.meta.url).href,Pr=""+new URL("splash_lynette-e6d6d59c.png",import.meta.url).href,Fr=""+new URL("splash_lyney-e23fc621.png",import.meta.url).href,Gr=""+new URL("splash_mika-d7bec99e.png",import.meta.url).href,qr=""+new URL("splash_mona-a101d11b.png",import.meta.url).href,Yr=""+new URL("splash_nahida-5336f545.png",import.meta.url).href,Hr=""+new URL("splash_navia-749d043e.png",import.meta.url).href,Xr=""+new URL("splash_neuvillette-f6712d84.png",import.meta.url).href,Vr=""+new URL("splash_nilou-02522a20.png",import.meta.url).href,Jr=""+new URL("splash_ningguang-0423cf3a.png",import.meta.url).href,Zr=""+new URL("splash_noelle-3c164134.png",import.meta.url).href,Qr=""+new URL("splash_qiqi-9882f0de.png",import.meta.url).href,en=""+new URL("splash_raiden-ce0042a0.png",import.meta.url).href,an=""+new URL("splash_razor-dfd28235.png",import.meta.url).href,tn=""+new URL("splash_rosaria-beb57b8a.png",import.meta.url).href,rn=""+new URL("splash_sara-1f76a85f.png",import.meta.url).href,nn=""+new URL("splash_sayu-afc9c432.png",import.meta.url).href,on=""+new URL("splash_shenhe-ba31eb5d.png",import.meta.url).href,sn=""+new URL("splash_sucrose-ad665b53.png",import.meta.url).href,ln=""+new URL("splash_tartaglia-9aaa2f1a.png",import.meta.url).href,cn=""+new URL("splash_thoma-004bf569.png",import.meta.url).href,hn=""+new URL("splash_tighnari-3ce7dd13.png",import.meta.url).href,pn=""+new URL("splash_venti-ea8e2087.png",import.meta.url).href,dn=""+new URL("splash_wanderer-645fe3d8.png",import.meta.url).href,un=""+new URL("splash_wriothesley-94b73230.png",import.meta.url).href,mn=""+new URL("splash_xiangling-058aca33.png",import.meta.url).href,gn=""+new URL("splash_xianyun-946028bc.png",import.meta.url).href,fn=""+new URL("splash_xiao-69656d36.png",import.meta.url).href,Cn=""+new URL("splash_xingqiu-fe033a4f.png",import.meta.url).href,_n=""+new URL("splash_xinyan-bb9c21b3.png",import.meta.url).href,xn=""+new URL("splash_yae-5a7bf919.png",import.meta.url).href,bn=""+new URL("splash_yanfei-ecb8fb25.png",import.meta.url).href,yn=""+new URL("splash_yaoyao-8b72be49.png",import.meta.url).href,wn=""+new URL("splash_yelan-26eec3f5.png",import.meta.url).href,vn=""+new URL("splash_yoimiya-2d38f125.png",import.meta.url).href,Rn=""+new URL("splash_yunjin-538f24e0.png",import.meta.url).href,Ln=""+new URL("splash_zhongli-c0ebbd75.png",import.meta.url).href,Un={Albedo:ar,Alhaitham:tr,Amber:rr,AratakiItto:Sr,Baizhu:ir,Barbara:sr,Beidou:lr,Bennett:cr,Candace:hr,Charlotte:pr,Chevreuse:dr,Chongyun:ur,Collei:mr,Cyno:gr,Dehya:fr,Diluc:Cr,Diona:_r,Dori:xr,Eula:br,Faruzan:yr,Fischl:wr,Freminet:vr,Furina:Rr,Gaming:Lr,Ganyu:Ur,Gorou:$r,HuTao:kr,Jean:jr,KaedeharaKazuha:Br,Kaeya:Dr,KamisatoAyaka:nr,KamisatoAyato:or,Kaveh:zr,Keqing:Mr,Kirara:Ar,Klee:Ir,KujouSara:rn,KukiShinobu:Er,Layla:Nr,Lisa:Kr,Lynette:Pr,Lyney:Fr,Mika:Gr,Mona:qr,Nahida:Yr,Navia:Hr,Neuvillette:Xr,Nilou:Vr,Ningguang:Jr,Noelle:Zr,Qiqi:Qr,RaidenShogun:en,Razor:an,Rosaria:tn,SangonomiyaKokomi:Or,Sayu:nn,Shenhe:on,ShikanoinHeizou:Tr,Sucrose:sn,Tartaglia:ln,Thoma:cn,Tighnari:hn,TravelerF:Wr,TravelerM:er,Venti:pn,Wanderer:dn,Wriothesley:un,Xiangling:mn,Xianyun:gn,Xiao:fn,Xingqiu:Cn,Xinyan:_n,YaeMiko:xn,Yanfei:bn,Yaoyao:yn,Yelan:wn,Yoimiya:vn,YunJin:Rn,Zhongli:Ln};function $n(t,a){return Un[oe(t,a)]??""}const Tn=l.createContext({}),kn=""+new URL("Character_Albedo_Card-5ef0c064.png",import.meta.url).href,Sn=""+new URL("Character_Alhaitham_Card-5b5622a6.jpg",import.meta.url).href,jn=""+new URL("Character_Aloy_Card-63f8894a.png",import.meta.url).href,Dn=""+new URL("Character_Amber_Card-75caf8bc.jpg",import.meta.url).href,zn=""+new URL("Character_Arataki_Itto_Card-9d5b2141.jpg",import.meta.url).href,Bn=""+new URL("Character_Baizhu_Card-91cf0ace.jpg",import.meta.url).href,Mn=""+new URL("Character_Barbara_Card-58cbe572.jpg",import.meta.url).href,An=""+new URL("Character_Beidou_Card-ea7de4d2.jpg",import.meta.url).href,In=""+new URL("Character_Bennett_Card-af6cc7e8.jpg",import.meta.url).href,On=""+new URL("Character_Candace_Card-e2c9913c.jpg",import.meta.url).href,En=""+new URL("Character_Charlotte_Card-b4153f53.jpg",import.meta.url).href,Nn=""+new URL("Character_Chevreuse_Card-4b92e6a5.jpg",import.meta.url).href,Kn=""+new URL("Character_Chongyun_Card-1128f6bd.jpg",import.meta.url).href,Wn=""+new URL("Character_Collei_Card-e3c02ab9.jpg",import.meta.url).href,Pn=""+new URL("Character_Cyno_Card-b178c8f3.jpg",import.meta.url).href,Fn=""+new URL("Character_Dehya_Card-546c51ec.jpg",import.meta.url).href,Gn=""+new URL("Character_Diluc_Card-2027991e.jpg",import.meta.url).href,qn=""+new URL("Character_Diona_Card-3cd0b9ac.png",import.meta.url).href,Yn=""+new URL("Character_Dori_Card-025a2f89.jpg",import.meta.url).href,Hn=""+new URL("Character_Eula_Card-2ab7b302.png",import.meta.url).href,Xn=""+new URL("Character_Faruzan_Card-262e6371.jpg",import.meta.url).href,Vn=""+new URL("Character_Fischl_Card-1dc842a2.jpg",import.meta.url).href,Jn=""+new URL("Character_Freminet_Card-a2254a5a.jpg",import.meta.url).href,Zn=""+new URL("Character_Furina_Card-de05953e.jpg",import.meta.url).href,Qn=""+new URL("Character_Gaming_Card-fb7f6290.jpg",import.meta.url).href,eo=""+new URL("Character_Ganyu_Card-da6b1426.png",import.meta.url).href,ao=""+new URL("Character_Gorou_Card-75b11c2b.png",import.meta.url).href,to=""+new URL("Character_Hu_Tao_Card-96e1f9c8.png",import.meta.url).href,ro=""+new URL("Character_Jean_Card-2fc96483.jpg",import.meta.url).href,no=""+new URL("Character_Kaeya_Card-90ad939e.jpg",import.meta.url).href,oo=""+new URL("Character_Kamisato_Ayaka_Card-ae1bb2fb.png",import.meta.url).href,io=""+new URL("Character_Kamisato_Ayato_Card-f6b1ad8d.png",import.meta.url).href,so=""+new URL("Character_Kaveh_Card-d3229e58.jpg",import.meta.url).href,lo=""+new URL("Character_Kazuha_Card-71c36913.png",import.meta.url).href,co=""+new URL("Character_Keqing_Card-28b6df43.jpg",import.meta.url).href,ho=""+new URL("Character_Kirara_Card-ae8092de.jpg",import.meta.url).href,po=""+new URL("Character_Klee_Card-43602d1c.jpg",import.meta.url).href,uo=""+new URL("Character_Kujou_Sara_Card-6eb66d8d.jpg",import.meta.url).href,mo=""+new URL("Character_Kuki_Shinobu_Card-c0cca5df.jpg",import.meta.url).href,go=""+new URL("Character_Layla_Card-89ddf634.jpeg",import.meta.url).href,fo=""+new URL("Character_Lisa_Card-cd94c665.jpg",import.meta.url).href,Co=""+new URL("Character_Lynette_Card-7469da2e.jpg",import.meta.url).href,_o=""+new URL("Character_Lyney_Card-deef8197.jpg",import.meta.url).href,xo=""+new URL("Character_Mika_Card-20bd2280.jpg",import.meta.url).href,bo=""+new URL("Character_Mona_Card-4b42f44c.jpg",import.meta.url).href,yo=""+new URL("Character_Nahida_Card-309d4d29.jpeg",import.meta.url).href,wo=""+new URL("Character_Navia_Card-8745abc6.jpg",import.meta.url).href,vo=""+new URL("Character_Neuvillette_Card-32f9dd3c.jpg",import.meta.url).href,Ro=""+new URL("Character_Nilou_Card-de0e3f0d.jpg",import.meta.url).href,Lo=""+new URL("Character_Ningguang_Card-4f9a1915.jpg",import.meta.url).href,Uo=""+new URL("Character_Noelle_Card-9995f992.jpg",import.meta.url).href,$o=""+new URL("Character_Qiqi_Card-4d5d3687.jpg",import.meta.url).href,To=""+new URL("Character_Raiden_Shogun_Card-90085c4a.png",import.meta.url).href,ko=""+new URL("Character_Razor_Card-0e7f3a1e.jpg",import.meta.url).href,So=""+new URL("Character_Rosaria_Card-22e1e066.png",import.meta.url).href,jo=""+new URL("Character_Sangonomiya_Kokomi_Card-d5698fe4.jpg",import.meta.url).href,Do=""+new URL("Character_Sayu_Card-e1a67cbd.png",import.meta.url).href,zo=""+new URL("Character_Shenhe_Card-4340449f.jpg",import.meta.url).href,Bo=""+new URL("Character_Shikanoin_Heizou_Card-043ef79e.png",import.meta.url).href,Mo=""+new URL("Character_Somnia_Card-e56f30f7.png",import.meta.url).href,Ao=""+new URL("Character_Sucrose_Card-e0782acd.jpg",import.meta.url).href,Io=""+new URL("Character_Tartaglia_Card-b8d93f98.png",import.meta.url).href,Oo=""+new URL("Character_Thoma_Card-b561acbb.jpg",import.meta.url).href,Eo=""+new URL("Character_Tighnari_Card-8ebb6d51.jpg",import.meta.url).href,No=""+new URL("Character_Venti_Card-416dade9.jpg",import.meta.url).href,Ko=""+new URL("Character_Wanderer_Card-ef1ff178.jpg",import.meta.url).href,Wo=""+new URL("Character_Wriothesley_Card-27b94628.jpg",import.meta.url).href,Po=""+new URL("Character_Xiangling_Card-9ebf0a46.jpg",import.meta.url).href,Fo=""+new URL("Character_Xianyun_Card-6d9b79fa.jpg",import.meta.url).href,Go=""+new URL("Character_Xiao_Card-41530690.jpg",import.meta.url).href,qo=""+new URL("Character_Xingqiu_Card-d4eb12ea.jpg",import.meta.url).href,Yo=""+new URL("Character_Xinyan_Card-08b1f13c.jpg",import.meta.url).href,Ho=""+new URL("Character_Yae_Miko_Card-dde243b2.png",import.meta.url).href,Xo=""+new URL("Character_Yanfei_Card-7a0cde36.png",import.meta.url).href,Vo=""+new URL("Character_Yaoyao_Card-d91c99fc.jpg",import.meta.url).href,Jo=""+new URL("Character_Yelan_Card-16780ff3.jpg",import.meta.url).href,Zo=""+new URL("Character_Yoimiya_Card-a2f5a17e.png",import.meta.url).href,Qo=""+new URL("Character_Yun_Jin_Card-93bda737.jpg",import.meta.url).href,ei=""+new URL("Character_Zhongli_Card-55c0bab7.png",import.meta.url).href,ai=""+new URL("Traveler_Female_Card-f2156008.jpg",import.meta.url).href,ti=""+new URL("Traveler_Male_Card-0d6523d2.jpg",import.meta.url).href,Fe={Albedo:kn,Alhaitham:Sn,Aloy:jn,Amber:Dn,AratakiItto:zn,Baizhu:Bn,Barbara:Mn,Beidou:An,Bennett:In,Candace:On,Charlotte:En,Chevreuse:Nn,Chongyun:Kn,Collei:Wn,Cyno:Pn,Dehya:Fn,Diluc:Gn,Diona:qn,Dori:Yn,Eula:Hn,Faruzan:Xn,Fischl:Vn,Freminet:Jn,Furina:Zn,Gaming:Qn,Ganyu:eo,Gorou:ao,HuTao:to,Jean:ro,KaedeharaKazuha:lo,Kaeya:no,KamisatoAyaka:oo,KamisatoAyato:io,Kaveh:so,Keqing:co,Kirara:ho,Klee:po,KujouSara:uo,KukiShinobu:mo,Layla:go,Lisa:fo,Lyney:_o,Lynette:Co,Mika:xo,Mona:bo,Nahida:yo,Navia:wo,Neuvillette:vo,Nilou:Ro,Ningguang:Lo,Noelle:Uo,Qiqi:$o,RaidenShogun:To,Razor:ko,Rosaria:So,SangonomiyaKokomi:jo,Sayu:Do,Shenhe:zo,ShikanoinHeizou:Bo,Somnia:Mo,Sucrose:Ao,Tartaglia:Io,Thoma:Oo,Tighnari:Eo,TravelerF:ai,TravelerM:ti,Venti:No,Wanderer:Ko,Wriothesley:Wo,Xiangling:Po,Xianyun:Fo,Xiao:Go,Xingqiu:qo,Xinyan:Yo,YaeMiko:Ho,Yanfei:Xo,Yaoyao:Vo,Yelan:Jo,Yoimiya:Zo,YunJin:Qo,Zhongli:ei};function ri(t,a){switch(t){case"TravelerAnemo":case"TravelerDendro":case"TravelerElectro":case"TravelerGeo":case"TravelerHydro":return Fe[`Traveler${a}`]??"";default:return Fe[t]??""}}function Hi(){const{characterSheet:t}=l.useContext(j),{data:a}=l.useContext(ee),r={auto:a.get(N.total.auto).value,skill:a.get(N.total.skill).value,burst:a.get(N.total.burst).value},n={auto:a.get(N.total.autoBoost).value,skill:a.get(N.total.skillBoost).value,burst:a.get(N.total.burstBoost).value};return e(m,{children:e(b,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map(s=>{var o;return e(b,{item:!0,xs:4,children:e(qt,{badgeContent:r[s],color:n[s]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:e(m,{component:"img",src:(o=t.getTalentOfKey(s))==null?void 0:o.img,width:"100%",height:"auto"})})},s)})})})}function ni(){const{characterSheet:t,character:{key:a}}=l.useContext(j),{data:r}=l.useContext(ee),n=ia(a),s=r.get(N.constellation).value;return e(b,{container:!0,spacing:1,children:Ba(1,6).map(o=>{var c;return e(b,{item:!0,xs:4,children:e(ga,{onClick:()=>n({constellation:o===s?o-1:o}),children:e(m,{component:"img",src:(c=t.getTalentOfKey(`constellation${o}`))==null?void 0:c.img,sx:{...s>=o?{}:{filter:"brightness(50%)"}},width:"100%",height:"auto"})})},o)})})}function oi(){const{silly:t}=l.useContext(ge),{character:{key:a}}=l.useContext(j),{gender:r}=J(),{data:n}=l.useContext(ee),s=n.get(N.lvl).value,o=n.get(N.asc).value,c=$n(a,r),i=ri(a,r);return t&&c?e(ii,{src:c,level:s,ascension:o}):e(si,{src:i,level:s,ascension:o})}function ii({src:t,level:a,ascension:r}){const{characterSheet:n}=l.useContext(j);return p(m,{sx:{position:"relative"},children:[e(m,{src:t,component:"img",width:"100%",height:"auto"}),p(m,{sx:{width:"100%",height:"100%"},children:[e(m,{sx:{opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(ba,{})}),e(R,{variant:"h6",sx:{width:"100%",opacity:.75,textAlign:"center"},children:e(Me,{stars:n.rarity,colored:!0})}),e(wa,{}),e(ya,{level:a,ascension:r})]})]})}function si({src:t,level:a,ascension:r}){const{characterSheet:n}=l.useContext(j);return p(m,{sx:{position:"relative"},children:[p(m,{sx:{position:"absolute",width:"100%",height:"100%"},children:[e(R,{variant:"h6",sx:{position:"absolute",width:"100%",left:"50%",bottom:0,transform:"translate(-50%, -50%)",opacity:.75,textAlign:"center"},children:e(Me,{stars:n.rarity,colored:!0})}),e(m,{sx:{position:"absolute",left:"50%",bottom:"7%",transform:"translate(-50%, -50%)",opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(ba,{})}),e(wa,{}),e(ya,{level:a,ascension:r})]}),e(m,{src:t,component:"img",width:"100%",height:"auto"})]})}function ba(){var r;const{characterSheet:t}=l.useContext(j),a=t.elementKey;return e(fe,{color:a,sx:{height:"auto"},label:p(R,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[e(ha,{ele:a}),e(m,{sx:{whiteSpace:"normal",textAlign:"center"},children:t.name}),e(Be,{src:(r=ut.weaponTypes)==null?void 0:r[t.weaponTypeKey]})]})})}function ya({level:t,ascension:a}){return e(R,{sx:{p:1,position:"absolute",right:0,top:0,opacity:.8},children:e(ke,{children:Ma(t,a)})})}function wa(){const{character:{key:t}}=l.useContext(j),a=W(),{favorite:r}=sa(t);return e(m,{sx:{position:"absolute",left:0,top:0},children:e(De,{sx:{p:1},color:"error",onClick:()=>a.charMeta.set(t,{favorite:!r}),children:r?e(ua,{}):e(la,{})})})}function li({talentKey:t,dropDownButtonProps:a}){const{t:r}=Ce("sheet_gen"),{character:{talent:n,key:s}}=l.useContext(j),o=W(),{data:c}=l.useContext(ee),i=c.get(be.total[`${t}Boost`]).value,C=c.get(be.total[t]).value,g=c.get(be.asc).value;return e(Jt,{fullWidth:!0,title:r("talentLvl",{level:C}),color:i?"info":"primary",...a,children:Aa(1,Ia[g]).map(d=>e(Rt,{selected:n[t]===d,disabled:n[t]===d,onClick:()=>o.chars.set(s,h=>{h.talent[t]=d}),children:r("talentLvl",{level:d+i})},d))})}var Ie={},ci=Ze;Object.defineProperty(Ie,"__esModule",{value:!0});var va=Ie.default=void 0,hi=ci(Je()),pi=O,di=(0,hi.default)((0,pi.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");va=Ie.default=di;function Ra({statKey:t,disableIcon:a=!1}){return p(m,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!a&&e(ct,{statKey:t,iconProps:Oa}),p("span",{children:[Re.get(t),Re.unit(t)]})]})}function Xi({statKey:t,disableIcon:a=!1}){return e(mt,{color:Re.getVariant(t),children:e(Ra,{statKey:t,disableIcon:a})})}function ui({activeCharId:t}){const a=W(),r=a.teamChars.getLoadoutArtifacts(t),{id:n}=a.teamChars.getLoadoutWeapon(t),s=!!r&&Ea.map(h=>[h,r[h]]),{buildType:o,buildId:c,buildTcId:i}=a.teamChars.get(t),C=o==="equipped",g=o==="real"&&a.builds.get(c),d=o==="tc"&&a.buildTcs.get(i);return p(Na,{children:[!!C&&e(mi,{weaponId:n,artifacts:s}),!!g&&e(La,{...g,weaponId:n,artifacts:s}),!!d&&e(gi,{buildTcId:i})]})}function mi({weaponId:t,artifacts:a}){return e(La,{name:"Default",weaponId:t,artifacts:a})}function La({name:t,description:a,weaponId:r,artifacts:n}){const[s,o]=l.useState(!1);return p(K,{bgt:"dark",sx:{display:"flex",flexDirection:"column",p:1,ml:2,mt:1,width:"100%"},children:[e(Ua,{name:t,description:a,showMore:!0,onClick:()=>o(!s),expanded:s}),e(xa,{in:s,timeout:"auto",children:p(b,{container:!0,columns:6,spacing:1,children:[e(b,{item:!0,xs:2,sm:1,height:"100%",children:e(et,{weaponId:r??""})}),n.map(([c,i])=>e(b,{item:!0,xs:2,sm:1,children:e(at,{artifactObj:i,slotKey:c})},c))]})})]})}function gi({buildTcId:t}){const{weapon:a,artifact:{slots:r,substats:{stats:n},sets:s},name:o,description:c}=jt(t),i=Ut(a.key),C=Object.entries(n),[g,d]=l.useState(!1);return p(K,{bgt:"dark",sx:{p:1,ml:2,mt:1,width:"100%"},children:[e(Ua,{name:o,description:c,showMore:!0,onClick:()=>d(!g),expanded:g}),e(xa,{in:g,timeout:"auto",children:p(b,{container:!0,columns:3,spacing:1,direction:"row",justifyContent:"center",children:[e(b,{item:!0,container:!0,xs:3,md:1,columns:3,children:p(K,{sx:{p:1,gap:1,display:"flex",flexDirection:"column",alignItems:"stretch"},children:[e(m,{sx:{display:"flex",flexDirection:"row",gap:1,justifyContent:"space-between"},children:e(b,{item:!0,xs:3,md:1,className:`grad-${i.rarity}star`,sx:{display:"flex",borderRadius:3},children:e(tt,{sheet:i,children:e(m,{component:"img",src:ht(a.key,a.ascension>=2),sx:{maxWidth:"100%"}})})})}),e(b,{item:!0,xs:3,children:!!Object.keys(s).length&&Object.entries(s).map(([h,f])=>p(m,{sx:{p:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",gap:1},children:[e(Be,{size:2,src:pt(h,"flower")}),e("span",{children:e(Lt,{setKey:h})}),p(me,{children:["x",f]})]},h))})]})}),e(b,{item:!0,container:!0,xs:3,md:1,columns:3,children:e(K,{sx:{p:1,gap:2,flexGrow:1,display:"flex",flexDirection:"column"},children:Object.entries(r).map(([h,{level:f,statKey:_}])=>p(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e($t,{slotKey:h}),p(me,{children:["+",f<10?0:"",f]}),e(Ra,{statKey:_})]},h))})}),e(b,{item:!0,container:!0,xs:3,md:1,columns:3,children:e(K,{sx:{p:1,gap:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},children:C.map(([h,f],_)=>e(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},avatar:e(Ka,{children:e(rt,{statKey:h})}),label:p("span",{children:[Wa(f,Ke(h)),Ke(h)]})},_))})})]})})]})}function Ua({name:t,description:a,showMore:r=!1,expanded:n=!1,onClick:s}){return p(R,{sx:{gap:1,px:1,display:"flex",alignItems:"center",width:"100%"},children:[e("span",{children:t})," ",!!a&&e(ea,{title:e(R,{children:a}),children:e(pa,{})}),r&&e(De,{onClick:s,sx:{marginLeft:"auto",transform:n?"rotate(180deg)":"rotate(0deg)"},children:e(va,{})})]})}function fi(){const{t}=Ce("ui"),a=W(),{character:r}=l.useContext(j),{key:n}=r,{gender:s}=J(),o=l.useCallback(()=>a.dbMeta.set({gender:s==="F"?"M":"F"}),[s,a]);return n.startsWith("Traveler")?p(H,{onClick:o,startIcon:s==="F"?e(Zt,{}):e(Qt,{}),children:[e("strong",{children:t(`gender.${s}`)})," "]}):null}function Ci({onClose:t}){const{t:a}=Ce(["page_character","sillyWisher_charNames","charNames_gen"]),r=aa(),n=W(),{character:s,character:{key:o},characterSheet:c}=l.useContext(j),{gender:i}=J(),{silly:C}=l.useContext(ge),g=l.useCallback(async()=>{let d=Q(o,i).name;typeof d=="object"&&(d=a(`${C?"sillyWisher_charNames":"charNames_gen"}:${oe(o,i)}`)),window.confirm(a("removeCharacter",{value:d}))&&(n.chars.remove(o),r("/characters"))},[n,r,o,i,C,a]);return p(m,{display:"flex",flexDirection:"column",gap:1,children:[p(m,{display:"flex",gap:1,children:[e(fi,{}),e(H,{color:"error",onClick:()=>g(),startIcon:e(ta,{}),sx:{marginLeft:"auto"},children:a("delete")}),!!t&&e(da,{onClick:t})]}),e(m,{children:p(b,{container:!0,spacing:1,justifyContent:"center",alignItems:"flex-start",children:[e(b,{item:!0,xs:8,sm:5,md:4,lg:3,children:p(K,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[e(oi,{}),e(m,{sx:{px:1},children:e(gt,{level:s.level,ascension:s.ascension,setBoth:d=>n.chars.set(o,d)})}),e(R,{sx:{textAlign:"center",pb:-1},variant:"h6",children:c.constellationName}),e(ni,{})]})}),p(b,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[e(m,{children:e(b,{container:!0,columns:3,spacing:1,children:["auto","skill","burst"].map(d=>{var h;return e(b,{item:!0,xs:1,children:e(li,{talentKey:d,dropDownButtonProps:{startIcon:e(Be,{src:(h=c.getTalentOfKey(d))==null?void 0:h.img,size:1.75,sideMargin:!0})}},d)})})})}),e(_i,{})]})]})})]})}const Ge={xs:1,sm:2,md:3,lg:3,xl:3};function _i(){const t=aa(),{character:{key:a}}=l.useContext(j),r=W(),{gender:n}=J(),[s,o]=ra(),c=l.useMemo(()=>{const h={};return r.teamChars.entries.map(([f,_])=>{_.key===a&&(h[f]||(h[f]=[]))}),r.teams.entries.forEach(([f,_])=>{const y=_.teamCharIds.find(k=>{var L;return((L=r.teamChars.get(k))==null?void 0:L.key)===a});y&&h[y].push(f)}),s&&h},[s,a,r]);l.useEffect(()=>r.teams.followAny(()=>o()),[r,o]),l.useEffect(()=>r.teamChars.followAny(()=>o()),[r,o]);const i=h=>{const f=r.teams.new();r.teams.set(f,_=>{_.teamCharIds[0]=h}),t(`/teams/${f}`)},C=()=>{const h=r.teams.new(),f=r.teamChars.new(a);r.teams.set(h,_=>{_.teamCharIds[0]=f}),t(`/teams/${h}`)},g=h=>{window.confirm("The loadouts and data (such as multi-opts) on this character will be deleted.")&&r.teamChars.remove(h)},d=h=>{r.teamChars.duplicate(h)};return p(m,{sx:{display:"flex",flexDirection:"column",gap:1},children:[p(R,{variant:"h6",children:["Team Loadouts with"," ",e(Pa,{characterKey:a,gender:n})]}),Object.entries(c).map(([h,f])=>{const{name:_,description:y,buildIds:k,buildTcIds:L}=r.teamChars.get(h);return p(K,{bgt:"light",children:[e(ie,{children:p(m,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(R,{children:_}),e(ea,{title:e(R,{children:y}),children:e(pa,{})}),p(me,{color:k.length?"primary":"secondary",children:[k.length," Builds"]}),p(me,{color:L.length?"primary":"secondary",children:[L.length," TC Builds"]}),e(H,{color:"info",onClick:()=>d(h),sx:{ml:"auto"},children:e(nt,{})}),e(H,{color:"error",onClick:()=>g(h),children:e(ta,{})})]})}),e(na,{}),e(ie,{children:p(b,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",columns:Ge,spacing:2,children:[e(ui,{activeCharId:h}),f.map(S=>e(b,{item:!0,xs:1,children:e(ot,{teamId:S,onClick:U=>t(`/teams/${S}${U?`/${U}`:""}`),disableButtons:!0})},S)),e(b,{item:!0,...Ge,children:e(H,{fullWidth:!0,sx:{height:"100%"},onClick:()=>i(h),color:"info",startIcon:e(We,{}),children:"Add new Team"})})]})})]},h)}),e(H,{fullWidth:!0,onClick:()=>C(),color:"info",startIcon:e(We,{}),children:"Add new Loadout+Team"}),e(K,{bgt:"light"})]})}function Vi({characterKey:t,onClose:a}){return e(Fa,{open:!!t,onClose:a,children:e(l.Suspense,{fallback:e(ue,{variant:"rectangular",width:"100%",height:1e3}),children:t&&e(xi,{characterKey:t,onClose:a},t)})})}function xi({characterKey:t,onClose:a}){const r=ca(t),{gender:n}=J(),s=Q(t,n),o=it(t),{target:c}=(o==null?void 0:o[t])??{},i=ia((r==null?void 0:r.key)??""),C=l.useMemo(()=>{if(!(!o||!c))return{data:c,teamData:o,oldData:void 0}},[c,o]),g=l.useMemo(()=>{if(!(!r||!s))return{character:r,characterSheet:s,characterDispatch:i}},[r,s,i]),[d,h]=l.useState(),[f,_]=l.useState(),y=l.useMemo(()=>({chartData:d,setChartData:h,graphBuilds:f,setGraphBuilds:_}),[d,f]);return l.useEffect(()=>{h(void 0),_(void 0)},[t]),e(K,{children:e(ie,{sx:{display:"flex",flexDirection:"column",gap:1},children:C&&g&&y?e(j.Provider,{value:g,children:e(ee.Provider,{value:C,children:e(Tn.Provider,{value:y,children:e(Ci,{onClose:a})})})}):e(ue,{variant:"rectangular",width:"100%",height:1e3})})})}function bi(t,a){return{new:r=>t.chars.get(r)?0:1,name:r=>Le.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${oe(r,t.gender)}`).toString(),level:r=>{const n=t.chars.get(r);return n?n.level*(n.ascension+1):0},rarity:r=>Ue.char.data[$e(r)].rarity??0,favorite:r=>t.charMeta.get(r).favorite?1:0}}function yi(t,a){return{element:(r,n)=>n.includes(Ga(r)),weaponType:(r,n)=>n.includes(Ue.char.data[$e(r)].weaponType),rarity:(r,n)=>n.includes(Ue.char.data[$e(r)].rarity),name:(r,n)=>n===void 0||Le.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${oe(r,t.gender)}`).toLowerCase().includes(n.toLowerCase())||a&&Le.t(`charNames_gen:${oe(r,t.gender)}`).toLowerCase().includes(n.toLowerCase()),new:(r,n)=>n===void 0||n===(t.chars.get(r)?"no":"yes")}}const $a={name:["favorite","name"],level:["favorite","level","rarity","name"],rarity:["favorite","rarity","level","name"]},wi=V(fa,{shouldForwardProp:t=>t!=="baseColor"&&t!=="selectedColor"})(({theme:t,baseColor:a="secondary",selectedColor:r="success"})=>({"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[r].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[r].dark}})),vi=wi,Ri=Ca([...ze]);function Li({value:t,totals:a,onChange:r,...n}){const s=je(),o=!Te(s.breakpoints.up("md")),c=!Te(s.breakpoints.up("sm"));return e(Tt,{exclusive:!0,value:t,...n,children:ze.map(i=>p(vi,{value:i,sx:{p:o?1:void 0,minWidth:o?0:"6em",display:"flex"},selectedColor:i,onClick:()=>r(Ri(t,i)),children:[e(ha,{ele:i,iconProps:{fontSize:o&&!c?"inherit":void 0}}),!c&&e(fe,{sx:{ml:.5},label:a[i],size:"small"})]},i))})}const Ui=Object.keys($a);function Ji({show:t,onHide:a,onSelect:r,filter:n=()=>!0,newFirst:s=!1}){const{t:o}=Ce(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:c}=l.useContext(ge),i=W(),[C,g]=l.useState(()=>i.displayCharacter.get());l.useEffect(()=>i.displayCharacter.follow((x,w)=>g(w)),[i,g]);const{gender:d}=J(),[h,f]=ra();l.useEffect(()=>i.charMeta.followAny(()=>f()),[f,i]);const[_,y]=l.useState(""),k=l.useDeferredValue(_),L=l.useDeferredValue(C),S=l.useDeferredValue(h),U=l.useMemo(()=>{const{element:x,weaponType:w,sortType:T,ascending:G}=L,E=[...s?["new"]:[],...$a[T]??[]];return S&&xe.filter(B=>n(B,i.chars.get(B),Q(B,d))).filter(Ct({element:x,weaponType:w,name:k},yi(i,c))).sort(_t(E,G,bi(i,c),["new","favorite"]))},[L,s,S,k,i,c,n,d]),D=l.useMemo(()=>Pe(Ha,x=>xe.forEach(w=>{const T=Q(w,i.gender).weaponTypeKey;x[T].total++,U.includes(w)&&x[T].current++})),[U,i]),Z=l.useMemo(()=>Pe(ze,x=>xe.forEach(w=>{const T=Q(w,i.gender).elementKey;x[T].total++,U.includes(w)&&x[T].current++})),[U,i]),{weaponType:P,element:z,sortType:I,ascending:F}=C;return e(Va,{open:t,onClose:()=>{y(""),a()},sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:p(Xa,{children:[p(ie,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e(St,{sx:{height:"100%"},onChange:x=>i.displayCharacter.set({weaponType:x}),value:P,totals:D,size:"small"}),e(Li,{sx:{height:"100%"},onChange:x=>i.displayCharacter.set({element:x}),value:z,totals:Z,size:"small"}),e(m,{flexGrow:1,children:e(xt,{autoFocus:!0,value:_,onChange:x=>y(x.target.value),label:o("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),e(bt,{sx:{height:"100%"},sortKeys:Ui,value:I,onChange:x=>i.displayCharacter.set({sortType:x}),ascending:F,onChangeAsc:x=>i.displayCharacter.set({ascending:x})}),e(da,{onClick:()=>{y(""),a()}})]}),e(na,{}),e(ee.Provider,{value:{teamData:void 0},children:e(ie,{children:e(b,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:U.map(x=>e(b,{item:!0,xs:1,children:e(Ti,{characterKey:x,onClick:()=>{y(""),a(),r==null||r(x)}})},x))})})})]})})}const $i=V(({className:t,...a})=>e(qa,{...a,classes:{popper:t}}))({[`& .${Ya.tooltip}`]:{padding:0}});function Ti({characterKey:t,onClick:a}){const{gender:r}=J(),n=Q(t,r),s=ca(t),{favorite:o}=sa(t),c=W(),{silly:i}=l.useContext(ge),[C,g,d]=Ja(),{level:h=1,ascension:f=0,constellation:_=0}=s??{},y=dt(t,"banner",r);return e($i,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:C,onClose:d,onOpen:g,title:e(m,{sx:{width:300},children:e(st,{hideStats:!0,characterKey:t})}),children:e(m,{children:p(Qa,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e(m,{sx:{position:"absolute",opacity:.7,zIndex:2},children:e(De,{sx:{p:.25},onClick:k=>{d(),c.charMeta.set(t,{favorite:!o})},children:o?e(ua,{}):e(la,{})})}),e(ga,{onClick:a,children:p(m,{display:"flex",position:"relative",className:y?void 0:`grad-${n==null?void 0:n.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:`url(${y})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[e(m,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:e(m,{component:"img",src:lt(t,r,i),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),p(m,{flexGrow:1,sx:{pr:1,pt:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[e(R,{variant:"body2",sx:{flexGrow:1},children:e(ke,{color:n==null?void 0:n.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:n==null?void 0:n.name})}),s?p(m,{sx:{display:"flex",gap:1,alignItems:"center"},children:[p(m,{sx:{textShadow:"0 0 5px gray"},children:[p(R,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",h]}),p(R,{variant:"body2",component:"span",color:"text.secondary",children:["/",Za[f]]})]}),p(R,{variant:"body2",children:["C",_]})]}):e(R,{component:"span",variant:"body2",children:e(ke,{children:"NEW"})}),e(Me,{stars:(n==null?void 0:n.rarity)??1,colored:!0})]})]})})]})})})}const ki=Ca([...oa]);function Zi({value:t,totals:a,onChange:r,...n}){const s=je(),o=!Te(s.breakpoints.up("sm"));return e(kt,{exclusive:!0,value:t,...n,children:oa.map(c=>e(fa,{value:c,sx:{p:o?1:void 0,minWidth:o?0:"6em",display:"flex",gap:o?0:1},onClick:()=>r(ki(t,c)),children:p(m,{display:"flex",children:[e("strong",{children:c}),e(yt,{}),!o&&e(fe,{label:a[c],size:"small"})]})},c))})}export{Zi as C,Jt as D,Li as E,Tn as G,Xi as S,li as T,yi as a,bi as b,$a as c,Vi as d,Ji as e,xa as f,Ra as g,va as h,oi as i,Hi as j,ni as k,jt as u};
