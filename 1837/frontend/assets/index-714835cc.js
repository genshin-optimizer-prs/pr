import{cD as Ih,q as W,cl as jh,bT as e,I as Fh,a2 as Nh,bD as g,df as u,bB as y,dz as a,dp as i,aC as d,c1 as Qo,dg as Wh,dr as h,o as $,c3 as p,ds as _,dd as c,h as k,bF as ee,dc as P,db as Xo,dt as te,d9 as A,bz as Yo,dv as Da,de as S,a8 as Me,da as Hh,d8 as Gh,k as Kh}from"./index-59c4fd80.js";import{t as f,d as m,s as n,b as l,e as v,f as He,h as Lh}from"./index-b5c4e079.js";const Zo=class{constructor(t,w,F,E){this.passiveDescription=ca=>this.hasRefinement?this.tr(`passiveDescription.${ca}`):"",this.rarity=F.rarity,this.weaponType=F.weaponType,this.key=t,this.sheet=w,this.data=E}static trm(t){return f("weapon",t)[1]}static tr(t){return f("weapon",t)[0]}static getAllDataOfType(t){return w6[t]}get tr(){return Zo.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=Zo;s.getWeaponsOfType=(t,w)=>Object.fromEntries(Object.entries(t).filter(([F,E])=>E.weaponType===w));s.getLevelString=t=>Ih(t.level,t.ascension);function o(t,w){const F=s.tr(t);return{title:F("passiveName"),icon:E=>W(Fh,{size:2,src:jh(t,E.get(e.weapon.asc).value>=2)}),action:w&&W(Nh,{color:"success",children:w}),description:E=>F(`passiveDescription.${E.get(e.weapon.refinement).value-1}`)}}function r(t,w,F={},E={}){const ca={base:{},premod:{},total:{},weapon:{key:g(t),type:g(w.weaponType)},display:{[`weapon:${t}`]:E}},{mainStat:ae,subStat:N}=w,da=[ca];if(ae.type!=="atk"&&ae.type!=="def"&&ae.type!=="hp")throw new Error("Main stat type must be `atk`");const Rh=u(y(i(ae.base,a(e.weapon.lvl,d.weapon.expCurve[ae.curve])),a(e.weapon.asc,w.ascensionBonus.atk??[])),{path:ae.type});if(da.push({base:{[ae.type]:e.weapon.main},weapon:{main:Rh}}),N){if(N.type==="atk"||N.type==="def"||N.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Ch=u(i(N.base,a(e.weapon.lvl,d.weapon.expCurve[N.curve])),{path:N.type});da.push({premod:{[N.type]:e.weapon.sub},weapon:{sub:Ch}})}return Qo([...da,Wh(F,t)])}const Ge="AlleyHunter",es=d.weapon.data[Ge],[,qh]=f("weapon",Ge),zh=[-1,.02,.025,.03,.035,.04],[Uh,ts]=m(Ge,"OppidanAmbush"),ns=h(ts,{...$(p(1,10),t=>i(a(e.weapon.refinement,zh),t))},_),Vh=r(Ge,es,{premod:{all_dmg_:ns}}),Jh={document:[{value:ts,path:Uh,header:o(Ge,n("conditional")),name:qh("condName"),states:Object.fromEntries(p(1,10).map(t=>[t,{name:n("seconds",{count:t}),fields:[{node:ns}]}]))}]},Qh=new s(Ge,Jh,es,Vh),se="AmosBow",as=d.weapon.data[se],[,Xh]=f("weapon",se),os=[-1,.12,.15,.18,.21,.24],Yh=[-1,.08,.1,.12,.14,.16],[Zh,Ta]=m(se,"StrongWilled"),ss=a(e.weapon.refinement,os,{path:"normal_dmg_"}),cs=a(e.weapon.refinement,os,{path:"charged_dmg_"}),ds=a(e.weapon.refinement,Yh),rs=h(Ta,{...$(p(1,5),t=>i(ds,t))},_,{path:"normal_dmg_"}),is=h(Ta,{...$(p(1,5),t=>i(ds,t))},_,{path:"charged_dmg_"}),e1=r(se,as,{premod:{normal_dmg_:y(ss,rs),charged_dmg_:y(cs,is)}}),t1={document:[{header:o(se,n("base")),fields:[{node:ss},{node:cs}]},{value:Ta,path:Zh,header:o(se,n("stacks")),name:Xh("condName"),states:$(p(1,5),t=>({name:n("seconds",{count:t/10}),fields:[{node:rs},{node:is}]}))}]},n1=new s(se,t1,as,e1),ce="AquaSimulacra",ms=d.weapon.data[ce],[,a1]=f("weapon",ce),o1=[-1,.16,.2,.24,.28,.32],s1=[-1,.2,.25,.3,.35,.4],[c1,ls]=m(ce,"passive"),ps=a(e.weapon.refinement,o1),$s=c(ls,"on",a(e.weapon.refinement,s1)),d1=r(ce,ms,{premod:{hp_:ps,all_dmg_:$s}}),r1={document:[{header:o(ce,n("base")),fields:[{node:ps}]},{value:ls,path:c1,header:o(ce,n("conditional")),name:a1("condName"),states:{on:{fields:[{node:$s}]}}}]},i1=new s(ce,r1,ms,d1),ut="BlackcliffWarbow",hs=d.weapon.data[ut],m1=[-1,.12,.15,.18,.21,.24],[l1,us]=m(ut,"PressTheAdvantage"),_s=h(us,{...$(p(1,3),t=>i(a(e.weapon.refinement,m1),t))},_),p1=r(ut,hs,{premod:{atk_:_s}}),$1={document:[{value:us,path:l1,header:o(ut,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(p(1,3).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:_s},{text:l("duration"),value:30,unit:"s"}]}]))}]},h1=new s(ut,$1,hs,p1),_t="CompoundBow",fs=d.weapon.data[_t],u1=[-1,.04,.05,.06,.07,.08],_1=[-1,.012,.015,.018,.021,.024],[f1,Ma]=m(_t,"InfusionArrow"),gs=h(Ma,{...$(p(1,4),t=>i(a(e.weapon.refinement,u1),t))},_),ws=h(Ma,{...$(p(1,4),t=>i(a(e.weapon.refinement,_1),t))},_),g1=r(_t,fs,{premod:{atk_:gs,atkSPD_:ws}}),w1={document:[{value:Ma,path:f1,header:o(_t,n("stacks")),name:n("hitOp.normalOrCharged"),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:gs},{node:ws}]}]))}]},k1=new s(_t,w1,fs,g1),de="ElegyForTheEnd",[,v1]=f("weapon",de),ks=d.weapon.data[de],y1=[-1,60,75,90,105,120],P1=[-1,100,125,150,175,200],S1=[-1,.2,.25,.3,.35,.4],[b1,Ra]=m(de,"ThePartingRefrain"),vs=a(e.weapon.refinement,y1,{path:"eleMas"}),ys=c(Ra,"on",a(e.weapon.refinement,P1,{path:"eleMas"})),Ps=c(Ra,"on",a(e.weapon.refinement,S1)),O1=r(de,ks,{premod:{eleMas:vs},teamBuff:{premod:{atk_:Ps,eleMas:ys}}}),B1={document:[{header:o(de,n("base")),fields:[{node:vs}]},{value:Ra,path:b1,teamBuff:!0,header:o(de,n("conditional")),name:v1("condName"),states:{on:{fields:[{node:ys},{node:Ps},{text:l("duration"),value:12,unit:"s"}]}}}]},A1=new s(de,B1,ks,O1),ft="EndOfTheLine",Ss=d.weapon.data[ft],E1=[-1,.8,1,1.2,1.4,1.6],bs=c(e.weapon.key,ft,v(i(a(e.weapon.refinement,E1,{unit:"%"}),e.total.atk),"elemental")),x1=r(ft,Ss,void 0,{dmg:bs}),D1={document:[{header:o(ft,n("base")),fields:[{node:u(bs,{name:n("dmg")})}]}]},T1=new s(ft,D1,Ss,x1),Ke="FadingTwilight",Os=d.weapon.data[Ke],[,Ko]=f("weapon",Ke),[M1,Bs]=m(Ke,"state"),As={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Es=h(Bs,As,_),R1=r(Ke,Os,{premod:{all_dmg_:Es}}),C1={document:[{value:Bs,path:M1,header:o(Ke,n("conditional")),name:Ko("condName"),states:Object.fromEntries(Object.keys(As).map(t=>[t,{name:Ko(`states.${t}`),fields:[{node:Es}]}]))}]},I1=new s(Ke,C1,Os,R1),Mn="FavoniusWarbow",xs=d.weapon.data[Mn],j1=r(Mn,xs),F1={document:[{header:o(Mn),fields:[]}]},N1=new s(Mn,F1,xs,j1),re="Hamayumi",Ds=d.weapon.data[re],[,W1]=f("weapon",re),Ts=[-1,.16,.2,.24,.28,.32],Ms=[-1,.12,.15,.18,.21,.24],Rs=a(e.weapon.refinement,Ts,{path:"normal_dmg_"}),Cs=a(e.weapon.refinement,Ms,{path:"charged_dmg_"}),[H1,Ca]=m(re,"FullDraw"),Is=c(Ca,"on",a(e.weapon.refinement,Ts,{path:"normal_dmg_"})),js=c(Ca,"on",a(e.weapon.refinement,Ms,{path:"charged_dmg_"})),G1=r(re,Ds,{premod:{normal_dmg_:y(Rs,Is),charged_dmg_:y(Cs,js)}}),K1={document:[{header:o(re,n("base")),fields:[{node:Rs},{node:Cs}]},{value:Ca,path:H1,name:W1("condName"),header:o(re,n("conditional")),states:{on:{fields:[{node:Is},{node:js}]}}}]},L1=new s(re,K1,Ds,G1),Ia="HuntersBow",ja=d.weapon.data[Ia],q1=r(Ia,ja),z1={...ja,document:[]},U1=new s(Ia,z1,ja,q1),Re="HuntersPath",Fs=d.weapon.data[Re],V1=[-1,.12,.15,.18,.21,.24],Ns=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,V1,{unit:"%"})])),J1=[-1,1.6,2,2.4,2.8,3.2],[Q1,Ws]=m(Re,"passive"),Hs=c(Ws,"on",i(a(e.weapon.refinement,J1,{unit:"%"}),e.total.eleMas)),X1=r(Re,Fs,{premod:{...Ns,charged_dmgInc:Hs}}),Y1={document:[{header:o(Re,n("base")),fields:Object.values(Ns).map(t=>({node:t}))},{value:Ws,path:Q1,header:o(Re,n("conditional")),name:n("hitOp.charged"),states:{on:{fields:[{node:Hs},{text:l("duration"),value:10,unit:"s"},{text:n("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},Z1=new s(Re,Y1,Fs,X1),gt="IbisPiercer",Gs=d.weapon.data[gt],Ks=p(1,2),eu=[-1,40,50,60,70,80],[tu,Ls]=m(gt,"passiveStacks"),qs=h(Ls,$(Ks,t=>i(a(e.weapon.refinement,eu),t)),_),nu=r(gt,Gs,{premod:{eleMas:qs}}),au={document:[{value:Ls,path:tu,header:o(gt,n("stacks")),name:n("hitOp.charged"),states:Object.fromEntries(Ks.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:qs},{text:l("duration"),value:6,unit:"s"}]}]))}]},ou=new s(gt,au,Gs,nu),ie="KingsSquire",zs=d.weapon.data[ie],[su,Us]=m(ie,"passive"),cu=[-1,60,80,100,120,140],Vs=c(Us,"on",a(e.weapon.refinement,cu)),du=[-1,1,1.2,1.4,1.6,1.8],Js=c(e.weapon.key,ie,v(i(a(e.weapon.refinement,du,{unit:"%"}),e.total.atk),"elemental")),ru=r(ie,zs,{premod:{eleMas:Vs}},{dmg:Js}),iu={document:[{header:o(ie,n("base")),fields:[{node:u(Js,{name:n("dmg")})}]},{value:Us,path:su,header:o(ie,n("conditional")),name:n("afterUse.skillOrBurst"),states:{on:{fields:[{node:Vs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},mu=new s(ie,iu,zs,ru),wt="Messenger",Qs=d.weapon.data[wt],lu=[-1,1,1.25,1.5,1.75,2],Xs=c(e.weapon.key,wt,v(i(a(e.weapon.refinement,lu),e.total.atk),"elemental",{hit:{ele:g("physical")}})),pu=r(wt,Qs,void 0,{dmg:Xs}),$u={document:[{header:o(wt,n("base")),fields:[{node:u(Xs,{name:n("dmg")})}]}]},hu=new s(wt,$u,Qs,pu),me="MitternachtsWaltz",Ys=d.weapon.data[me],uu=[-1,.2,.25,.3,.35,.4],_u=[-1,.2,.25,.3,.35,.4],[fu,Zs]=m(me,"EvernightDuetSkill"),[gu,ec]=m(me,"EvernightDuetNormal"),tc=c(Zs,"on",a(e.weapon.refinement,uu)),nc=c(ec,"on",a(e.weapon.refinement,_u)),wu=r(me,Ys,{premod:{skill_dmg_:tc,normal_dmg_:nc}}),ku={document:[{value:ec,path:gu,header:o(me,n("conditional")),name:n("hitOp.skill"),states:{on:{fields:[{node:nc},{text:l("duration"),value:5,unit:"s"}]}}},{value:Zs,path:fu,header:o(me,n("conditional")),name:n("hitOp.normal"),states:{on:{fields:[{node:tc},{text:l("duration"),value:5,unit:"s"}]}}}]},vu=new s(me,ku,Ys,wu),Le="MouunsMoon",ac=d.weapon.data[Le],[,yu]=f("weapon",Le),[Pu,oc]=m(Le,"WatatsumiWavewalker"),sc=p(4,36).map(t=>t*10),Su=[-1,.0012,.0015,.0018,.0021,.0024],bu=[-1,.4,.5,.6,.7,.8],cc=h(oc,Object.fromEntries(sc.map(t=>[t,ee(i(a(e.weapon.refinement,Su,{unit:"%"}),t),a(e.weapon.refinement,bu,{unit:"%"}))])),_),Ou=r(Le,ac,{premod:{burst_dmg_:cc}}),Bu={document:[{value:oc,path:Pu,header:o(Le,n("conditional")),name:yu("party"),states:Object.fromEntries(sc.map(t=>[t,{name:t.toString(),fields:[{node:cc}]}]))}]},Au=new s(Le,Bu,ac,Ou),le="PolarStar",dc=d.weapon.data[le],[,Eu]=f("weapon",le),rc=[-1,.12,.15,.18,.21,.24],xu=[-1,.1,.125,.15,.175,.2],Du=[-1,.2,.25,.3,.35,.4],Tu=[-1,.3,.375,.45,.528,.6],Mu=[-1,.48,.6,.72,.84,.96],[Ru,ic]=m(le,"GoldenMajesty"),mc=a(e.weapon.refinement,rc),lc=a(e.weapon.refinement,rc),pc=h(ic,{1:a(e.weapon.refinement,xu),2:a(e.weapon.refinement,Du),3:a(e.weapon.refinement,Tu),4:a(e.weapon.refinement,Mu)},_),Cu=r(le,dc,{premod:{skill_dmg_:mc,burst_dmg_:lc,atk_:pc}}),Iu={document:[{header:o(le,n("base")),fields:[{node:mc},{node:lc}]},{value:ic,path:Ru,header:o(le,n("stacks")),name:Eu("condName"),states:$(p(1,4),t=>({name:n("stack",{count:t}),fields:[{node:pc}]}))}]},ju=new s(le,Iu,dc,Cu),kt="Predator",$c=d.weapon.data[kt],Fu=P(.1),Nu=P(.1),[Wu,Fa]=m(kt,"PressTheAdvantage"),hc=h(Fa,{...$(p(1,2),t=>i(Fu,t))},_),uc=h(Fa,{...$(p(1,2),t=>i(Nu,t))},_),Hu=c(e.activeCharKey,"Aloy",66),Gu=r(kt,$c,{premod:{normal_dmg_:hc,charged_dmg_:uc,atk:Hu}}),Ku={document:[{value:Fa,path:Wu,header:o(kt,n("stacks")),name:n("hitOp.cryo"),states:Object.fromEntries(p(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:hc},{node:uc},{text:l("duration"),value:6,unit:"s"}]}]))}]},Lu=new s(kt,Ku,$c,Gu),vt="PrototypeCrescent",_c=d.weapon.data[vt],qu=[-1,.36,.45,.54,.63,.72],[zu,Na]=m(vt,"Unreturning"),fc=c(Na,"on",a(e.weapon.refinement,qu)),gc=c(Na,"on",P(.1)),Uu=r(vt,_c,{premod:{atk_:fc,moveSPD_:gc}}),Vu={document:[{value:Na,path:zu,header:o(vt,n("conditional")),name:n("hitOp.weakSpot"),states:{on:{fields:[{node:fc},{node:gc},{text:l("duration"),value:10,unit:"s"}]}}}]},Ju=new s(vt,Vu,_c,Uu),qe="RangeGauge",wc=d.weapon.data[qe],[,Qu]=f("weapon",qe),Xu=[-1,.03,.04,.05,.06,.07],Yu=[-1,.07,.085,.1,.115,.13],[Zu,Wa]=m(qe,"marksConsumed"),Ha=p(1,3),kc=h(Wa,$(Ha,t=>i(t,a(e.weapon.refinement,Xu,{unit:"%"}))),_),e_=h(Wa,$(Ha,t=>i(t,a(e.weapon.refinement,Yu,{unit:"%"}))),_),vc=$(k.map(t=>`${t}_dmg_`),()=>({...e_})),t_=r(qe,wc,{premod:{atk_:kc,...vc}}),n_={document:[{value:Wa,path:Zu,teamBuff:!0,header:o(qe,n("stacks")),name:Qu("condName"),states:$(Ha,t=>({name:`${t}`,fields:[{node:kc},...Object.values(vc).map(w=>({node:w})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},a_=new s(qe,n_,wc,t_),yt="RavenBow",yc=d.weapon.data[yt],o_=[-1,.12,.15,.18,.21,.24],[s_,Pc]=m(yt,"BaneOfFlameAndWater"),Sc=c(Pc,"on",a(e.weapon.refinement,o_)),c_=r(yt,yc,{premod:{all_dmg_:Sc}}),d_={document:[{value:Pc,path:s_,name:n("enemyAffected.hydroOrPyro"),header:o(yt,n("conditional")),states:{on:{fields:[{node:Sc}]}}}]},r_=new s(yt,d_,yc,c_),Pt="RecurveBow",bc=d.weapon.data[Pt],i_=[-1,.08,.1,.12,.14,.16],Oc=c(e.weapon.key,Pt,He(i(e.total.hp,a(e.weapon.refinement,i_)))),m_=r(Pt,bc,void 0,{healing:Oc}),l_={document:[{header:o(Pt,n("base")),fields:[{node:u(Oc,{name:l("healing"),variant:"heal"})}]}]},p_=new s(Pt,l_,bc,m_),St="RoyalBow",Bc=d.weapon.data[St],$_=[-1,.08,.1,.12,.14,.16],[h_,Ac]=m(St,"Focus"),Ec=h(Ac,{...$(p(1,5),t=>i(a(e.weapon.refinement,$_),t))},_),u_=r(St,Bc,{premod:{critRate_:Ec}}),__={document:[{value:Ac,path:h_,header:o(St,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ec}]}]))}]},f_=new s(St,__,Bc,u_),Rn="Rust",xc=d.weapon.data[Rn],g_=[-1,.4,.5,.6,.7,.8],Dc=a(e.weapon.refinement,g_),Tc=g(-.1),w_=r(Rn,xc,{premod:{normal_dmg_:Dc,charged_dmg_:Tc}}),k_={document:[{header:o(Rn,n("base")),fields:[{node:Dc},{node:Tc}]}]},v_=new s(Rn,k_,xc,w_),Cn="SacrificialBow",Mc=d.weapon.data[Cn],y_=r(Cn,Mc),P_={document:[{header:o(Cn),fields:[]}]},S_=new s(Cn,P_,Mc,y_),pe="ScionOfTheBlazingSun",Rc=d.weapon.data[pe],[,Lo]=f("weapon",pe),b_=[-1,.6,.75,.9,1.05,1.2],O_=[-1,.28,.35,.42,.49,.56],B_=v(i(a(e.weapon.refinement,b_,{unit:"%"}),e.total.atk),"elemental"),[A_,Cc]=m(pe,"afterHit"),Ic=c(Cc,"on",a(e.weapon.refinement,O_)),E_=r(pe,Rc,{premod:{charged_dmg_:Ic}}),x_={document:[{header:o(pe,n("dmg")),fields:[{node:u(B_,{name:Lo("dmg")})}]},{header:o(pe,n("conditional")),path:A_,value:Cc,name:Lo("condName"),states:{on:{fields:[{node:Ic},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},D_=new s(pe,x_,Rc,E_),Ga="SeasonedHuntersBow",Ka=d.weapon.data[Ga],T_=r(Ga,Ka),M_={...Ka,document:[]},R_=new s(Ga,M_,Ka,T_),In="SharpshootersOath",jc=d.weapon.data[In],C_=[-1,.24,.3,.36,.42,.48],Fc=a(e.weapon.refinement,C_),I_=r(In,jc,{premod:{weakspotDMG_:Fc}}),j_={document:[{header:o(In,n("base")),fields:[{node:Fc}]}]},F_=new s(In,j_,jc,I_),bt="SkywardHarp",Nc=d.weapon.data[bt],N_=[-1,.2,.25,.3,.35,.4],W_=P(1.25),Wc=a(e.weapon.refinement,N_),Hc=c(e.weapon.key,bt,v(i(W_,e.total.atk),"elemental",{hit:{ele:g("physical")}})),H_=r(bt,Nc,{premod:{critDMG_:Wc}},{dmg:Hc}),G_={document:[{header:o(bt,n("base")),fields:[{node:Wc},{node:u(Hc,{name:n("dmg")})}]}]},K_=new s(bt,G_,Nc,H_),ze="Slingshot",Gc=d.weapon.data[ze],[,qo]=f("weapon",ze),L_=[-1,.36,.42,.48,.54,.6],[q_,Kc]=m(ze,"Slingshot"),z_=["less","more"],La=h(Kc,{less:a(e.weapon.refinement,L_,{path:"normal_dmg_"}),more:P(-.1,{path:"normal_dmg_"})},_),Lc={...La},U_=r(ze,Gc,{premod:{normal_dmg_:La,charged_dmg_:Lc}}),V_={document:[{value:Kc,path:q_,header:o(ze,n("conditional")),name:qo("condName"),states:$(z_,t=>({name:qo(t),fields:[{node:La},{node:Lc}]}))}]},J_=new s(ze,V_,Gc,U_),Ot="SongOfStillness",qc=d.weapon.data[Ot],Q_=[-1,.16,.2,.24,.28,.32],[X_,zc]=m(Ot,"afterHeal"),Uc=c(zc,"on",a(e.weapon.refinement,Q_)),Y_=r(Ot,qc,{premod:{all_dmg_:Uc}}),Z_={document:[{header:o(Ot,n("conditional")),path:X_,value:zc,name:n("afterHeal"),states:{on:{fields:[{node:Uc},{text:l("duration"),value:8,unit:"s"}]}}}]},ef=new s(Ot,Z_,qc,Y_),ht="TheFirstGreatMagic",Vc=d.weapon.data[ht],tf=[-1,.16,.2,.24,.28,.32],ra=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],ia=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],zo=h(e.charEle,A,_),ma=y(...k.map(t=>Xo(A[t],1,te(t,e.charEle,A[t])))),Jc=a(e.weapon.refinement,tf),Qc=Yo(zo,3,a(e.weapon.refinement,ra[2]),Da(zo,2,a(e.weapon.refinement,ra[1]),a(e.weapon.refinement,ra[0]))),pa=Yo(ma,3,a(e.weapon.refinement,ia[2]),Da(ma,2,a(e.weapon.refinement,ia[1]),c(ma,1,a(e.weapon.refinement,ia[0])))),nf=r(ht,Vc,{premod:{charged_dmg_:Jc,atk_:Qc,moveSPD_:pa}}),af={document:[{header:o(ht,n("base")),fields:[{node:Jc}]},{header:o(ht,n("stacks")),fields:[{node:Qc},{canShow:t=>t.get(pa).value>0,node:pa}]}]},of=new s(ht,af,Vc,nf),jn="TheStringless",Xc=d.weapon.data[jn],Yc=[-1,.24,.3,.36,.42,.48],Zc=a(e.weapon.refinement,Yc),ed=a(e.weapon.refinement,Yc),sf=r(jn,Xc,{premod:{skill_dmg_:Zc,burst_dmg_:ed}}),cf={document:[{header:o(jn,n("base")),fields:[{node:Zc},{node:ed}]}]},df=new s(jn,cf,Xc,sf),Bt="TheViridescentHunt",td=d.weapon.data[Bt],rf=[-1,.4,.5,.6,.7,.8],nd=c(e.weapon.key,Bt,v(i(a(e.weapon.refinement,rf),e.total.atk),"elemental",{hit:{ele:g("physical")}})),mf=r(Bt,td,void 0,{dmg:nd}),lf={document:[{header:o(Bt,n("base")),fields:[{node:u(nd,{name:n("dmg")})}]}]},pf=new s(Bt,lf,td,mf),$e="ThunderingPulse",ad=d.weapon.data[$e],[,$f]=f("weapon",$e),hf=[-1,.2,.25,.3,.35,.4],uf=[-1,.12,.15,.18,.21,.24],_f=[-1,.24,.3,.36,.42,.48],ff=[-1,.4,.5,.6,.7,.8],[gf,od]=m($e,"RuleByThunder"),sd=a(e.weapon.refinement,hf),cd=h(od,{1:a(e.weapon.refinement,uf),2:a(e.weapon.refinement,_f),3:a(e.weapon.refinement,ff)},_),wf=r($e,ad,{premod:{atk_:sd,normal_dmg_:cd}}),kf={document:[{header:o($e,n("base")),fields:[{node:sd}]},{value:od,path:gf,header:o($e,n("stacks")),name:$f("condName"),states:$(p(1,3),t=>({name:n("stack",{count:t}),fields:[{node:cd}]}))}]},vf=new s($e,kf,ad,wf),At="WindblumeOde",dd=d.weapon.data[At],yf=[-1,.16,.2,.24,.28,.32],[Pf,rd]=m(At,"WindblumeWish"),id=c(rd,"on",a(e.weapon.refinement,yf)),Sf=r(At,dd,{premod:{atk_:id}}),bf={document:[{value:rd,path:Pf,name:n("afterUse.skill"),header:o(At,n("conditional")),states:{on:{fields:[{node:id},{text:l("duration"),value:6,unit:"s"}]}}}]},Of=new s(At,bf,dd,Sf),Bf={AlleyHunter:Qh,AmosBow:n1,AquaSimulacra:i1,BlackcliffWarbow:h1,CompoundBow:k1,ElegyForTheEnd:A1,FadingTwilight:I1,FavoniusWarbow:N1,Hamayumi:L1,HuntersBow:U1,HuntersPath:Z1,IbisPiercer:ou,KingsSquire:mu,Messenger:hu,MitternachtsWaltz:vu,MouunsMoon:Au,PolarStar:ju,Predator:Lu,PrototypeCrescent:Ju,RangeGauge:a_,RavenBow:r_,RecurveBow:p_,RoyalBow:f_,Rust:v_,SacrificialBow:S_,ScionOfTheBlazingSun:D_,SeasonedHuntersBow:R_,SharpshootersOath:F_,SkywardHarp:K_,Slingshot:J_,SongOfStillness:ef,TheFirstGreatMagic:of,TheStringless:df,TheViridescentHunt:pf,ThunderingPulse:vf,EndOfTheLine:T1,WindblumeOde:Of},Ce="AThousandFloatingDreams",md=d.weapon.data[Ce],Af=[-1,32,40,48,56,64],Ef=[-1,.1,.14,.18,.22,.26],xf=[-1,40,42,44,46,48],ld=h(e.charEle,Object.fromEntries(k.map(t=>[t,u(y(A[t],-1),{asConst:!0})])),_),Df=y(...k.map(t=>A[t])),pd=i(ld,a(e.weapon.refinement,Af)),$d=Object.fromEntries(k.map(t=>[`${t}_dmg_`,c(e.charEle,t,i(u(y(Df,-1,i(ld,-1)),{asConst:!0}),a(e.weapon.refinement,Ef,{unit:"%"})))])),hd=c(e.weapon.key,Ce,a(e.weapon.refinement,xf),{path:"eleMas",isTeamBuff:!0}),Tf=te(e.charKey,S.charKey,hd),Mf=r(Ce,md,{premod:{eleMas:pd,...$d},teamBuff:{premod:{eleMas:Tf}}}),Rf={document:[{header:o(Ce,n("base")),fields:[{node:pd},...Object.values($d).map(t=>({node:t}))]},{header:o(Ce,n("teamBuff")),teamBuff:!0,fields:[{node:hd}]}]},Cf=new s(Ce,Rf,md,Mf),qa="ApprenticesNotes",za=d.weapon.data[qa],If=r(qa,za),jf={...za,document:[]},Ff=new s(qa,jf,za,If),Et="BalladOfTheBoundlessBlue",ud=d.weapon.data[Et],Nf=[-1,.08,.1,.12,.14,.16],Wf=[-1,.06,.075,.09,.105,.12],[Hf,Ua]=m(Et,"hits"),Va=p(1,3),_d=h(Ua,$(Va,t=>i(t,a(e.weapon.refinement,Nf,{unit:"%"}))),_),fd=h(Ua,$(Va,t=>i(t,a(e.weapon.refinement,Wf,{unit:"%"}))),_),Gf=r(Et,ud,{premod:{normal_dmg_:_d,charged_dmg_:fd}}),Kf={document:[{value:Ua,path:Hf,teamBuff:!0,header:o(Et,n("stacks")),name:n("hitOp.normalOrCharged"),states:$(Va,t=>({name:n("hits",{count:t}),fields:[{node:_d},{node:fd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Lf=new s(Et,Kf,ud,Gf),xt="BlackcliffAgate",gd=d.weapon.data[xt],[qf,wd]=m(xt,"PressTheAdvantage"),kd=p(1,3),zf=[-1,.12,.15,.18,.21,.24],vd=i(h(wd,$(kd,t=>g(t)),0),a(e.weapon.refinement,zf)),Uf=r(xt,gd,{premod:{atk_:vd}}),Vf={document:[{value:wd,path:qf,header:o(xt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(kd.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:vd},{text:l("duration"),value:30,unit:"s"}]}]))}]},Jf=new s(xt,Vf,gd,Uf),q="CashflowSupervision",Ja=d.weapon.data[q],yd=Ja.refinementBonus.atk_;if(!yd)throw new Error(`data_gen.refinementBonus.atk_ for ${q} was undefined`);const Qf=[-1,.16,.2,.24,.28,.32],Xf=[-1,.14,.175,.21,.245,.28],Yf=[-1,.08,.1,.12,.14,.16],Pd=c(e.weapon.key,q,a(e.weapon.refinement,yd)),[Zf,Fn]=m(q,"hpChanges"),Qa=p(1,3),Sd=h(Fn,$(Qa,t=>i(t,a(e.weapon.refinement,Qf,{unit:"%"}))),_),bd=h(Fn,$(Qa,t=>i(t,a(e.weapon.refinement,Xf,{unit:"%"}))),_),Od=c(Fn,"3",a(e.weapon.refinement,Yf)),eg=r(q,Ja,{premod:{atk_:Pd,normal_dmg_:Sd,charged_dmg_:bd,atkSPD_:Od}}),tg={document:[{header:o(q,n("base")),fields:[{node:Pd}]},{value:Fn,path:Zf,header:o(q,n("stacks")),name:n("hpChange"),states:$(Qa,t=>({name:n("times",{count:t}),fields:[{node:Sd},{node:bd},{node:Od},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},ng=new s(q,tg,Ja,eg),Dt="CranesEchoingCall",Bd=d.weapon.data[Dt],ag=[-1,.28,.41,.54,.67,.8],[og,Ad]=m(Dt,"passive"),Ed=c(Ad,"on",a(e.weapon.refinement,ag,{unit:"%"})),sg=r(Dt,Bd,{teamBuff:{premod:{plunging_dmg_:Ed}}}),cg={document:[{value:Ad,path:og,header:o(Dt,n("conditional")),name:n("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Ed},{text:l("duration"),value:20,unit:"s"}]}}}]},dg=new s(Dt,cg,Bd,sg),he="DodocoTales",xd=d.weapon.data[he],rg=[-1,.16,.2,.24,.28,.32],ig=[-1,.08,.1,.12,.14,.16],[mg,Dd]=m(he,"DodoventureNormal"),[lg,Td]=m(he,"DodoventureCharged"),Md=c("on",Dd,a(e.weapon.refinement,rg)),Rd=c("on",Td,a(e.weapon.refinement,ig)),pg=r(he,xd,{premod:{charged_dmg_:Md,atk_:Rd}}),$g={document:[{value:Dd,path:mg,name:n("hitOp.normal"),header:o(he,n("conditional")),states:{on:{fields:[{node:Md},{text:l("duration"),value:6,unit:"s"}]}}},{value:Td,path:lg,name:n("hitOp.charged"),header:o(he,n("conditional")),states:{on:{fields:[{node:Rd},{text:l("duration"),value:6,unit:"s"}]}}}]},hg=new s(he,$g,xd,pg),Tt="EmeraldOrb",Cd=d.weapon.data[Tt],ug=[-1,.2,.25,.3,.35,.4],[_g,Id]=m(Tt,"Rapids"),jd=c("on",Id,a(e.weapon.refinement,ug)),fg=r(Tt,Cd,{premod:{atk_:jd}}),gg={document:[{value:Id,path:_g,name:n("elementalReaction.hydro"),header:o(Tt,n("conditional")),states:{on:{fields:[{node:jd},{text:l("duration"),value:12,unit:"s"}]}}}]},wg=new s(Tt,gg,Cd,fg),Ae="EverlastingMoonglow",Xa=d.weapon.data[Ae],kg=[-1,.01,.015,.02,.025,.03],[,vg]=f("weapon",Ae),$a=c(e.weapon.key,Ae,i(a(e.weapon.refinement,kg,{unit:"%"}),e.premod.hp)),Fd=Xa.refinementBonus.heal_;if(!Fd)throw new Error(`data_gen.refinementBonus.heal_ for ${Ae} was undefined`);const Nd=a(e.weapon.refinement,Fd),yg=r(Ae,Xa,{premod:{normal_dmgInc:$a,heal_:Nd}},{normal_dmgInc:$a}),Pg={document:[{header:o(Ae,n("base")),fields:[{node:Nd},{text:vg("name"),node:$a}]}]},Sg=new s(Ae,Pg,Xa,yg),Mt="EyeOfPerception",Wd=d.weapon.data[Mt],bg=[-1,2.4,2.7,3,3.3,3.6],Hd=c(e.weapon.key,Mt,v(i(a(e.weapon.refinement,bg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),Og=r(Mt,Wd,void 0,{dmg_:Hd}),Bg={document:[{header:o(Mt,n("base")),fields:[{node:u(Hd,{name:n("dmg")})}]}]},Ag=new s(Mt,Bg,Wd,Og),Nn="FavoniusCodex",Gd=d.weapon.data[Nn],Eg=r(Nn,Gd),xg={document:[{header:o(Nn),fields:[]}]},Dg=new s(Nn,xg,Gd,Eg),R="FlowingPurity",Kd=d.weapon.data[R],[,Tg]=f("weapon",R),Mg=[-1,.08,.1,.12,.14,.16],Rg=[-1,.02,.025,.03,.035,.04],Cg=[-1,.12,.15,.18,.21,.24],[Ig,Ld]=m(R,"afterSkill"),jg=c(Ld,"on",a(e.weapon.refinement,Mg)),Ya=k.map(t=>`${t}_dmg_`),qd=$(Ya,t=>u({...jg},{path:t})),Fg=i(P(.24),e.total.hp),[Ng,zd]=m(R,"bond"),Wg=c(e.weapon.key,R,c(zd,"on",ee(i(a(e.weapon.refinement,Rg,{unit:"%"}),i(Fg,P(1/1e3))),a(e.weapon.refinement,Cg,{unit:"%"})))),ha=$(Ya,t=>u({...Wg},{path:t})),Hg=r(R,Kd,{premod:{...$(Ya,t=>y(qd[t],ha[t]))}},ha),Gg={document:[{header:o(R,n("conditional")),path:Ig,value:Ld,name:n("hitOp.skill"),states:{on:{fields:[...Object.values(qd).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(R,n("conditional")),path:Ng,value:zd,name:Tg("bondCondName"),states:{on:{fields:[...Object.values(ha).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"}]}}}]},Kg=new s(R,Gg,Kd,Hg),H="Frostbearer",Ud=d.weapon.data[H],Lg=[-1,.8,.95,1.1,1.25,1.4],qg=[-1,2,2.4,2.8,3.2,3.6],Vd=c(e.weapon.key,H,v(i(a(e.weapon.refinement,Lg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Jd=c(e.weapon.key,H,v(i(a(e.weapon.refinement,qg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),zg=r(H,Ud,void 0,{dmgAoe:Vd,dmgOnCryoOp:Jd}),Ug={document:[{header:o(H,n("base")),fields:[{node:u(Vd,{name:s.trm(H)("aoeDmg")})},{node:u(Jd,{name:s.trm(H)("cryoAffectedDmg")})}]}]},Vg=new s(H,Ug,Ud,zg),Ue="FruitOfFulfillment",Qd=d.weapon.data[Ue],[,Jg]=f("weapon",Ue),Qg=[-1,24,27,30,33,36],[Xg,Za]=m(Ue,"stacks"),eo=p(1,5),Xd=h(Za,Object.fromEntries(eo.map(t=>[t,i(a(e.weapon.refinement,Qg),t)])),_),Yd=h(Za,Object.fromEntries(eo.map(t=>[t,i(P(-.05),t)])),_),Yg=r(Ue,Qd,{premod:{eleMas:Xd,atk_:Yd}}),Zg={document:[{teamBuff:!0,header:o(Ue,n("stacks")),path:Xg,value:Za,name:Jg("stackName"),states:Object.fromEntries(eo.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Xd},{node:Yd}]}]))}]},ew=new s(Ue,Zg,Qd,Yg),Rt="HakushinRing",Zd=d.weapon.data[Rt],tw=[-1,.1,.125,.15,.175,.2],[nw,ne]=m(Rt,"SakuraSaiguu"),Ee=a(e.weapon.refinement,tw),er=c("anemo",ne,Ee),tr=c("cryo",ne,Ee),nr=c("geo",ne,Ee),ar=c("hydro",ne,Ee),or=c("pyro",ne,Ee),sr=c("dendro",ne,Ee),aw=c("anemo",S.charEle,er),ow=c("cryo",S.charEle,tr),sw=c("geo",S.charEle,nr),cw=c("hydro",S.charEle,ar),dw=c("pyro",S.charEle,or),rw=c("dendro",S.charEle,sr),oe=te(ne,void 0,Ee),iw=c("electro",S.charEle,oe),mw=r(Rt,Zd,{teamBuff:{premod:{anemo_dmg_:aw,cryo_dmg_:ow,electro_dmg_:iw,geo_dmg_:sw,hydro_dmg_:cw,pyro_dmg_:dw,dendro_dmg_:rw}}}),lw={document:[{value:ne,path:nw,name:n("elementalReaction.electro"),teamBuff:!0,header:o(Rt,n("conditional")),states:{anemo:{name:W(Me,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:u(er,{path:"anemo_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:W(Me,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:u(tr,{path:"cryo_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:W(Me,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:u(nr,{path:"geo_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:W(Me,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:u(or,{path:"pyro_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:W(Me,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:u(ar,{path:"hydro_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:W(Me,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:u(sr,{path:"dendro_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},pw=new s(Rt,lw,Zd,mw),xe="JadefallsSplendor",cr=d.weapon.data[xe],[,$w]=f("weapon",xe),[hw,dr]=m(xe,"condPassive"),uw=[-1,.003,.005,.007,.009,.011],_w=[-1,.12,.2,.28,.36,.44],fw=c(e.weapon.key,xe,c(dr,"on",ee(a(e.weapon.refinement,_w,{unit:"%"}),i(a(e.weapon.refinement,uw,{unit:"%"}),e.total.hp,1/1e3)))),ua=Object.fromEntries(k.map(t=>[`${t}_dmg_`,c(t,e.charEle,fw)])),gw=r(xe,cr,{premod:{...ua}},{...ua}),ww={document:[{header:o(xe,n("conditional")),path:hw,value:dr,name:$w("condName"),states:{on:{fields:[...Object.values(ua).map(t=>({node:t})),{text:l("duration"),value:3,unit:"s"}]}}}]},kw=new s(xe,ww,cr,gw),Ct="KagurasVerity",rr=d.weapon.data[Ct],[vw,to]=m(Ct,"KaguraDance"),ir=p(1,3),mr=[-1,.12,.15,.18,.21,.24],lr=ir.map(t=>c(to,t.toString(),a(e.weapon.refinement,mr.map(w=>w*t)),{path:"skill_dmg_"})),pr=Object.fromEntries(k.map(t=>[t,c(to,"3",a(e.weapon.refinement,mr))])),yw=r(Ct,rr,{premod:{skill_dmg_:y(...lr),...Object.fromEntries(k.map(t=>[`${t}_dmg_`,pr[t]]))}}),Pw={document:[{value:to,path:vw,header:o(Ct,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(ir.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:lr[t-1]},...k.map(w=>({node:pr[w]}))]}]))}]},Sw=new s(Ct,Pw,rr,yw),Ie="LostPrayerToTheSacredWinds",$r=d.weapon.data[Ie],bw=[-1,.08,.1,.12,.14,.16],[Ow,hr]=m(Ie,"BoundlessBlessing"),ur=P(.1),Bw=a(e.weapon.refinement,bw,{unit:"%"}),_r=Object.fromEntries(k.map(t=>[t,h(hr,{...$(p(1,4),w=>i(Bw,w))},_)])),Aw=r(Ie,$r,{premod:{moveSPD_:ur,...Object.fromEntries(k.map(t=>[`${t}_dmg_`,_r[t]]))}}),Ew={document:[{header:o(Ie,n("base")),fields:[{node:ur}]},{value:hr,path:Ow,header:o(Ie,n("stacks")),name:n("timeOnField"),states:$(p(1,4),t=>({name:n("seconds",{count:t*4}),fields:k.map(w=>({node:_r[w]}))}))}]},xw=new s(Ie,Ew,$r,Aw),It="MagicGuide",fr=d.weapon.data[It],Dw=[-1,.12,.15,.18,.21,.24],[Tw,gr]=m(It,"BaneOfStormAndTide"),wr=c("on",gr,a(e.weapon.refinement,Dw)),Mw=r(It,fr,{premod:{all_dmg_:wr}}),Rw={document:[{value:gr,path:Tw,name:n("enemyAffected.hydroOrElectro"),header:o(It,n("conditional")),states:{on:{fields:[{node:wr}]}}}]},Cw=new s(It,Rw,fr,Mw),jt="MappaMare",kr=d.weapon.data[jt],[Iw,vr]=m(jt,"InfusionScroll"),jw=[-1,.08,.1,.12,.14,.16],Fw=a(e.weapon.refinement,jw),yr=Hh(k,t=>[`${t}_dmg_`,h(vr,{...$(p(1,2),w=>i(Fw,w))},_)]),Nw=r(jt,kr,{premod:yr}),Ww={document:[{value:vr,path:Iw,header:o(jt,n("stacks")),name:n("afterReaction"),states:$(p(1,2),t=>({name:n("stack",{count:t}),fields:[...Object.values(yr).map(w=>({node:w})),{text:l("duration"),value:10,unit:"s"}]}))}]},Hw=new s(jt,Ww,kr,Nw),x="MemoryOfDust",Pr=d.weapon.data[x],[,Gw]=f("weapon",x),Kw=[-1,.2,.25,.3,.35,.4],Lw=[-1,.04,.05,.06,.07,.08],[qw,Sr]=m(x,"GoldenMajesty"),br=a(e.weapon.refinement,Kw),[zw,Or]=m(x,"WithShield"),Uw=a(e.weapon.refinement,Lw),Br=i(y(1,c(Or,"protected",1)),h(Sr,Object.fromEntries(p(1,5).map(t=>[t,i(Uw,t)])),_)),Vw=r(x,Pr,{premod:{shield_:br,atk_:Br}}),Jw={document:[{header:o(x,n("base")),fields:[{node:br}]},{value:Sr,path:qw,header:o(x,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Br},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Or,path:zw,header:o(x,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:Gw("atkEffInc"),value:100,unit:"%"}]}}}]},Qw=new s(x,Jw,Pr,Vw),Ft="OathswornEye",Ar=d.weapon.data[Ft],Xw=[-1,.24,.3,.36,.42,.48],[Yw,Er]=m(Ft,"faLight"),Zw=a(e.weapon.refinement,Xw),xr=c("skillBurst",Er,Zw),ek=r(Ft,Ar,{premod:{enerRech_:xr}}),tk={document:[{value:Er,path:Yw,header:o(Ft,n("conditional")),name:n("afterUse.skill"),states:{skillBurst:{fields:[{node:xr}]}}}]},nk=new s(Ft,tk,Ar,ek),Nt="OtherworldlyStory",Dr=d.weapon.data[Nt],ak=[-1,.01,.0125,.015,.0175,.02],Tr=c(e.weapon.key,Nt,He(i(a(e.weapon.refinement,ak,{unit:"%"}),e.total.hp))),ok=r(Nt,Dr,void 0,{heal:Tr}),sk={document:[{header:o(Nt,n("base")),fields:[{node:u(Tr,{name:l("healing"),variant:"heal"})}]}]},ck=new s(Nt,sk,Dr,ok),no="PocketGrimoire",Mr=d.weapon.data[no],dk=r(no,Mr),rk={document:[]},ik=new s(no,rk,Mr,dk),Ve="PrototypeAmber",Rr=d.weapon.data[Ve],[mk,lk]=m(Ve,"Gliding"),pk=[-1,.04,.045,.05,.055,.06],Cr=c(e.weapon.key,Ve,He(i(a(e.weapon.refinement,pk,{unit:"%"}),e.total.hp))),$k=r(Ve,Rr,void 0,{heal:Cr}),hk={document:[{value:lk,path:mk,name:n("afterUse.burst"),header:o(Ve,n("conditional")),states:{on:{fields:[{node:u(Cr,{name:l("healing"),variant:"heal"})}]}}}]},uk=new s(Ve,hk,Rr,$k),ue="QuantumCatalyst",Ir=d.weapon.data[ue],_k=[-1,.18,.225,.27,.315,.36],fk=[-1,.06,.075,.09,.105,.12],gk=[-1,10,12,14,16,18],jr=p(1,5),[wk,Fr]=m(ue,"stacks"),Nr=a(e.weapon.refinement,_k),On=c(e.weapon.key,ue,i(a(e.weapon.refinement,fk,{unit:"%"}),e.total.eleMas)),_a={...On},Wr=h(Fr,$(jr,t=>i(a(e.weapon.refinement,gk),t)),_),kk=r(ue,Ir,{premod:{enerRech_:Nr,normal_dmgInc:On,charged_dmgInc:_a,eleMas:Wr}},{normal_dmgInc:On,charged_dmgInc:_a}),vk={document:[{header:o(ue,n("base")),fields:[{node:Nr},{node:On},{node:_a}]},{value:Fr,path:wk,teamBuff:!0,header:o(ue,n("stacks")),name:n("elementalReaction.electro"),states:$(jr,t=>({name:n("stack",{count:t}),fields:[{node:Wr},{text:l("duration"),value:12,unit:"s"}]}))}]},yk=new s(ue,vk,Ir,kk),Wt="RoyalGrimoire",Hr=d.weapon.data[Wt],[Pk,Gr]=m(Wt,"stack"),Sk=[-1,.08,.1,.12,.14,.16],Kr=h(Gr,$(p(1,5),t=>i(a(e.weapon.refinement,Sk,{unit:"%"}),t)),_),bk=r(Wt,Hr,{premod:{critRate_:Kr}}),Ok={document:[{value:Gr,path:Pk,header:o(Wt,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Kr}]}]))}]},Bk=new s(Wt,Ok,Hr,bk),Wn="SacrificialFragments",Lr=d.weapon.data[Wn],Ak=r(Wn,Lr),Ek={document:[{header:o(Wn),fields:[]}]},xk=new s(Wn,Ek,Lr,Ak),Je="SacrificialJade",qr=d.weapon.data[Je],[,Dk]=f("weapon",Je),Tk=[-1,.32,.4,.48,.56,.64],Mk=[-1,40,50,60,70,80],[Rk,ao]=m(Je,"offField"),zr=c(ao,"on",a(e.weapon.refinement,Tk)),Ur=c(ao,"on",a(e.weapon.refinement,Mk)),Ck=r(Je,qr,{premod:{eleMas:Ur,hp_:zr}}),Ik={document:[{teamBuff:!0,header:o(Je,n("conditional")),path:Rk,value:ao,name:Dk("condOffField"),states:{on:{fields:[{node:zr},{node:Ur}]}}}]},jk=new s(Je,Ik,qr,Ck),Ht="SkywardAtlas",Vr=d.weapon.data[Ht],Fk=[-1,.12,.15,.18,.21,.24],Jr=Object.fromEntries(k.map(t=>[t,a(e.weapon.refinement,Fk)])),Nk=[-1,1.6,2,2.4,2.8,3.2],Qr=c(e.weapon.key,Ht,v(i(a(e.weapon.refinement,Nk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Wk=r(Ht,Vr,{premod:{...Object.fromEntries(k.map(t=>[`${t}_dmg_`,Jr[t]]))}},{dmg:Qr}),Hk={document:[{header:o(Ht,n("base")),fields:[...k.map(t=>({node:Jr[t]})),{node:u(Qr,{name:n("dmg")})}]}]},Gk=new s(Ht,Hk,Vr,Wk),_e="SolarPearl",Xr=d.weapon.data[_e],Kk=[-1,.2,.25,.3,.35,.4],[Lk,Yr]=m(_e,"solarShineNormal"),[qk,Zr]=m(_e,"solarShineSkillBurst"),ei=a(e.weapon.refinement,Kk),oo=c("normal",Yr,ei),ti={...oo},ni=c("skillBurst",Zr,ei),zk=r(_e,Xr,{premod:{skill_dmg_:oo,burst_dmg_:ti,normal_dmg_:ni}}),Uk={document:[{value:Yr,path:Lk,header:o(_e,n("conditional")),name:n("hitOp.normal"),states:{normal:{fields:[{node:oo},{node:ti}]}}},{value:Zr,path:qk,header:o(_e,n("conditional")),name:n("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:ni}]}}}]},Vk=new s(_e,Uk,Xr,zk),Qe="TheWidsith",ai=d.weapon.data[Qe],[Jk,la]=f("weapon",Qe),Qk=[-1,.6,.75,.9,1.05,1.2],Xk=[-1,.48,.6,.72,.84,.96],Yk=[-1,240,300,360,420,480],[Zk,Hn]=m(Qe,"Debut"),oi=c("recitative",Hn,a(e.weapon.refinement,Qk)),si=Object.fromEntries(k.map(t=>[t,c("aria",Hn,a(e.weapon.refinement,Xk))])),ci=c("interlude",Hn,a(e.weapon.refinement,Yk)),e2=r(Qe,ai,{premod:{atk_:oi,...Object.fromEntries(k.map(t=>[`${t}_dmg_`,si[t]])),eleMas:ci}}),t2={document:[{value:Hn,path:Zk,teamBuff:!0,header:o(Qe,n("conditional")),name:Jk("passiveName"),states:{aria:{name:la("aria"),fields:[...k.map(t=>({node:si[t]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:la("interlude"),fields:[{node:ci},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:la("recitative"),fields:[{node:oi},{text:l("duration"),value:10,unit:"s"}]}}}]},n2=new s(Qe,t2,ai,e2),Xe="ThrillingTalesOfDragonSlayers",di=d.weapon.data[Xe],[,a2]=f("weapon",Xe),o2=[-1,.24,.3,.36,.42,.48],[s2,ri]=m(Xe,"Heritage"),ii=c("on",ri,a(e.weapon.refinement,o2)),c2=te(e.activeCharKey,e.charKey,c(e.activeCharKey,S.charKey,ii)),d2=r(Xe,di,{teamBuff:{premod:{atk_:c2}}}),r2={document:[{value:ri,path:s2,name:a2("condName"),teamBuff:!0,header:o(Xe,n("conditional")),states:{on:{fields:[{node:u(ii,{path:"atk_"})},{text:l("duration"),value:10,unit:"s"}]}}}]},i2=new s(Xe,r2,di,d2),z="TomeOfTheEternalFlow",so=d.weapon.data[z],mi=so.refinementBonus.hp_;if(!mi)throw new Error(`data_gen.refinementBonus.hp_ for ${z} was undefined`);const m2=[-1,.14,.18,.22,.26,.3],li=c(e.weapon.key,z,a(e.weapon.refinement,mi)),[l2,pi]=m(z,"hpChanges"),$i=p(1,3),hi=h(pi,$($i,t=>i(t,a(e.weapon.refinement,m2,{unit:"%"}))),_),p2=r(z,so,{premod:{hp_:li,charged_dmg_:hi}}),$2={document:[{header:o(z,n("base")),fields:[{node:li}]},{value:pi,path:l2,header:o(z,n("stacks")),name:n("hpChange"),states:$($i,t=>({name:n("times",{count:t}),fields:[{node:hi},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},h2=new s(z,$2,so,p2),b="TulaytullahsRemembrance",ui=d.weapon.data[b],u2=[-1,.1,.125,.15,.175,.2],_2=[-1,.048,.06,.072,.084,.096],_i=p(1,12),f2=[-1,.096,.12,.144,.168,.192],fi=p(1,5),g2=[-1,.48,.6,.72,.84,.96],gi=c(e.weapon.key,b,a(e.weapon.refinement,u2)),[w2,wi]=m(b,"timePassive"),k2=c(e.weapon.key,b,h(wi,Object.fromEntries(_i.map(t=>[t,i(t,a(e.weapon.refinement,_2,{unit:"%"}))])),_,{path:"normal_dmg_"})),[v2,ki]=m(b,"hitPassive"),y2=c(e.weapon.key,b,h(ki,Object.fromEntries(fi.map(t=>[t,i(t,a(e.weapon.refinement,f2,{unit:"%"}))])),_,{path:"normal_dmg_"})),vi=ee(a(e.weapon.refinement,g2,{unit:"%"}),y(k2,y2)),P2=r(b,ui,{premod:{atkSPD_:gi,normal_dmg_:vi}}),S2={document:[{header:o(b,n("base")),fields:[{node:gi}]},{header:o(b,n("conditional")),fields:[{node:vi}]},{value:wi,path:w2,header:o(b,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(_i.map(t=>[t,{name:n("seconds",{count:t}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:ki,path:v2,header:o(b,n("stacks")),name:n("hitOp.normal"),states:Object.fromEntries(fi.map(t=>[t,{name:n("stack",{count:t}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},b2=new s(b,S2,ui,P2),Gt="TwinNephrite",yi=d.weapon.data[Gt],Pi=[-1,.12,.14,.16,.18,.2],[O2,co]=m(Gt,"GuerillaTactics"),Si=c("on",co,a(e.weapon.refinement,Pi)),bi=c("on",co,a(e.weapon.refinement,Pi)),B2=r(Gt,yi,{premod:{atk_:Si,moveSPD_:bi}}),A2={document:[{value:co,path:O2,name:n("afterDefeatEnemy"),header:o(Gt,n("conditional")),states:{on:{fields:[{node:Si},{node:bi},{text:l("duration"),value:15,unit:"s"}]}}}]},E2=new s(Gt,A2,yi,B2),fe="WanderingEvenstar",Oi=d.weapon.data[fe],x2=[-1,.24,.3,.36,.42,.48],Bn=c(e.weapon.key,fe,i(a(e.weapon.refinement,x2,{unit:"%"}),e.premod.eleMas)),ro=c(e.weapon.key,fe,i(P(.3),Bn)),D2=te(e.activeCharKey,e.charKey,ro),T2=r(fe,Oi,{total:{atk:Bn},teamBuff:{total:{atk:D2}}},{selfAtk:Bn,teamAtkDisp:ro}),M2={document:[{header:o(fe,n("base")),fields:[{node:Bn}]},{header:o(fe,n("teamBuff")),teamBuff:!0,fields:[{node:u(ro,{path:"atk",isTeamBuff:!0})}]}]},R2=new s(fe,M2,Oi,T2),Kt="WineAndSong",Bi=d.weapon.data[Kt],C2=[-1,.2,.25,.3,.35,.4],[I2,Ai]=m(Kt,"EverChanging"),Ei=c("on",Ai,a(e.weapon.refinement,C2)),j2=r(Kt,Bi,{premod:{atk_:Ei}}),F2={document:[{value:Ai,path:I2,name:n("afterSprint"),header:o(Kt,n("conditional")),states:{on:{fields:[{node:Ei},{text:l("duration"),value:5,unit:"s"}]}}}]},N2=new s(Kt,F2,Bi,j2),W2={ApprenticesNotes:Ff,AThousandFloatingDreams:Cf,BalladOfTheBoundlessBlue:Lf,BlackcliffAgate:Jf,CashflowSupervision:ng,CranesEchoingCall:dg,DodocoTales:hg,EmeraldOrb:wg,EverlastingMoonglow:Sg,EyeOfPerception:Ag,FavoniusCodex:Dg,FlowingPurity:Kg,Frostbearer:Vg,FruitOfFulfillment:ew,HakushinRing:pw,JadefallsSplendor:kw,KagurasVerity:Sw,LostPrayerToTheSacredWinds:xw,MagicGuide:Cw,MappaMare:Hw,MemoryOfDust:Qw,OathswornEye:nk,OtherworldlyStory:ck,PocketGrimoire:ik,PrototypeAmber:uk,QuantumCatalyst:yk,RoyalGrimoire:Bk,SacrificialFragments:xk,SacrificialJade:jk,SkywardAtlas:Gk,SolarPearl:Vk,TheWidsith:n2,ThrillingTalesOfDragonSlayers:i2,TomeOfTheEternalFlow:h2,TulaytullahsRemembrance:b2,TwinNephrite:E2,WanderingEvenstar:R2,WineAndSong:N2},Ye="Akuoumaru",xi=d.weapon.data[Ye],[,H2]=f("weapon",Ye),[G2,Di]=m(Ye,"WatatsumiWavewalker"),Ti=p(4,36).map(t=>t*10),K2=[-1,.0012,.0015,.0018,.0021,.0024],L2=[-1,.4,.5,.6,.7,.8],Mi=h(Di,Object.fromEntries(Ti.map(t=>[t,ee(i(a(e.weapon.refinement,K2,{unit:"%"}),t),a(e.weapon.refinement,L2,{unit:"%"}))])),_),q2=r(Ye,xi,{premod:{burst_dmg_:Mi}}),z2={document:[{value:Di,path:G2,header:o(Ye,n("stacks")),name:H2("party"),states:Object.fromEntries(Ti.map(t=>[t,{name:t.toString(),fields:[{node:Mi}]}]))}]},U2=new s(Ye,z2,xi,q2),O="BeaconOfTheReedSea",Ri=d.weapon.data[O],V2=[-1,.2,.25,.3,.35,.4],[J2,Ci]=m(O,"afterSkill"),Ii=c(e.weapon.key,O,c(Ci,"on",a(e.weapon.refinement,V2,{path:"atk_"}))),Q2=[-1,.2,.25,.3,.35,.4],[X2,ji]=m(O,"afterDmg"),Fi=c(e.weapon.key,O,c(ji,"on",a(e.weapon.refinement,Q2,{path:"atk_"}))),Y2=[-1,.32,.4,.48,.56,.64],[Z2,Ni]=m(O,"noShield"),Wi=c(e.weapon.key,O,c(Ni,"on",a(e.weapon.refinement,Y2,{path:"hp_"}))),ev=r(O,Ri,{premod:{atk_:y(Ii,Fi),hp_:Wi}},{}),tv={document:[{header:o(O,n("conditional")),path:J2,value:Ci,name:n("hitOp.skill"),states:{on:{fields:[{node:Ii},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(O,n("conditional")),path:X2,value:ji,name:n("takeDmg"),states:{on:{fields:[{node:Fi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(O,n("conditional")),path:Z2,value:Ni,name:n("notProtectedByShield"),states:{on:{fields:[{node:Wi}]}}}]},nv=new s(O,tv,Ri,ev),Lt="BlackcliffSlasher",Hi=d.weapon.data[Lt],[av,Gi]=m(Lt,"PressTheAdvantage"),Ki=p(1,3),ov=[-1,.12,.15,.18,.21,.24],Li=i(h(Gi,$(Ki,t=>g(t)),0),a(e.weapon.refinement,ov)),sv=r(Lt,Hi,{premod:{atk_:Li}}),cv={document:[{value:Gi,path:av,header:o(Lt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Ki.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Li},{text:l("duration"),value:30,unit:"s"}]}]))}]},dv=new s(Lt,cv,Hi,sv),qt="BloodtaintedGreatsword",qi=d.weapon.data[qt],rv=[-1,.12,.15,.18,.21,.24],[iv,zi]=m(qt,"BaneOfFireAndThunder"),Ui=c("on",zi,a(e.weapon.refinement,rv)),mv=r(qt,qi,{premod:{all_dmg_:Ui}}),lv={document:[{value:zi,path:iv,name:n("enemyAffected.pyroOrElectro"),header:o(qt,n("conditional")),states:{on:{fields:[{node:Ui}]}}}]},pv=new s(qt,lv,qi,mv),zt="DebateClub",Vi=d.weapon.data[zt],$v=[-1,.6,.75,.9,1.05,1.2],Ji=c(e.weapon.key,zt,v(i(a(e.weapon.refinement,$v,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),hv=r(zt,Vi,void 0,{dmg:Ji}),uv={document:[{header:o(zt,n("base")),fields:[{node:u(Ji,{name:n("dmg")})}]}]},_v=new s(zt,uv,Vi,hv),Gn="FavoniusGreatsword",Qi=d.weapon.data[Gn],fv=r(Gn,Qi),gv={document:[{header:o(Gn),fields:[]}]},wv=new s(Gn,gv,Qi,fv),Ze="FerrousShadow",Xi=d.weapon.data[Ze],[,Uo]=f("weapon",Ze),kv=[-1,.3,.35,.4,.45,.5],[vv,Yi]=m(Ze,"Unbending"),Zi=c("on",Yi,a(e.weapon.refinement,kv)),yv=r(Ze,Xi,{premod:{charged_dmg_:Zi}}),Pv={document:[{value:Yi,path:vv,name:Uo("condName"),header:o(Ze,n("conditional")),states:{on:{fields:[{node:Zi},{text:Uo("resistance")}]}}}]},Sv=new s(Ze,Pv,Xi,yv),et="ForestRegalia",em=d.weapon.data[et],[,bv]=f("weapon",et),[Ov,tm]=m(et,"passive"),Bv=[-1,60,75,90,105,120],nm=c(tm,"on",a(e.weapon.refinement,Bv)),Av=c(e.activeCharKey,S.charKey,nm),Ev=r(et,em,{teamBuff:{premod:{eleMas:Av}}}),xv={document:[{value:tm,path:Ov,teamBuff:!0,header:o(et,n("conditional")),name:bv("condName"),states:{on:{fields:[{node:u(nm,{path:"eleMas"})},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Dv=new s(et,xv,em,Ev),Kn="KatsuragikiriNagamasa",am=d.weapon.data[Kn],Tv=[-1,.06,.075,.09,.105,.12],om=a(e.weapon.refinement,Tv),Mv=r(Kn,am,{premod:{skill_dmg_:om}}),Rv={document:[{header:o(Kn,n("base")),fields:[{node:om}]}]},Cv=new s(Kn,Rv,am,Mv),Ln="LithicBlade",sm=d.weapon.data[Ln],Iv=[-1,.07,.08,.09,.1,.11],jv=[-1,.03,.04,.05,.06,.07],cm=i(a(e.weapon.refinement,Iv,{unit:"%"}),A.liyue),dm=i(a(e.weapon.refinement,jv,{unit:"%"}),A.liyue),Fv=r(Ln,sm,{premod:{atk_:cm,critRate_:dm}}),Nv={document:[{header:o(Ln,n("stacks")),fields:[{node:cm},{node:dm}]}]},Wv=new s(Ln,Nv,sm,Fv),je="LuxuriousSeaLord",rm=d.weapon.data[je],Hv=[-1,.12,.15,.18,.21,.24],Gv=[-1,1,1.25,1.5,1.75,2],im=a(e.weapon.refinement,Hv),mm=c(e.weapon.key,je,v(i(a(e.weapon.refinement,Gv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Kv=r(je,rm,{premod:{burst_dmg_:im}},{dmg:mm}),Lv={document:[{header:o(je,n("base")),fields:[{node:im}]},{header:o(je,n("conditional")),fields:[{node:u(mm,{name:n("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},qv=new s(je,Lv,rm,Kv),tt="MailedFlower",lm=d.weapon.data[tt],[,zv]=f("weapon",tt),Uv=[-1,.12,.15,.18,.21,.24],Vv=[-1,48,60,72,84,96],[Jv,io]=m(tt,"passive"),pm=c(io,"on",a(e.weapon.refinement,Uv,{unit:"%"})),$m=c(io,"on",a(e.weapon.refinement,Vv)),Qv=r(tt,lm,{premod:{atk_:pm,eleMas:$m}}),Xv={document:[{value:io,path:Jv,name:zv("condName"),header:o(tt,n("conditional")),states:{on:{fields:[{node:pm},{node:$m},{text:l("duration"),value:8,unit:"s"}]}}}]},Yv=new s(tt,Xv,lm,Qv),ge="MakhairaAquamarine",hm=d.weapon.data[ge],Zv=[-1,.24,.3,.36,.42,.48],An=c(e.weapon.key,ge,i(a(e.weapon.refinement,Zv,{unit:"%"}),e.premod.eleMas)),mo=c(e.weapon.key,ge,i(P(.3),An)),ey=te(e.activeCharKey,e.charKey,mo),ty=r(ge,hm,{total:{atk:An},teamBuff:{total:{atk:ey}}},{selfAtk:An,teamAtkDisp:mo}),ny={document:[{header:o(ge,n("base")),fields:[{node:An}]},{header:o(ge,n("teamBuff")),teamBuff:!0,fields:[{node:u(mo,{path:"atk",isTeamBuff:!0})}]}]},ay=new s(ge,ny,hm,ty),lo="OldMercsPal",um=d.weapon.data[lo],oy=r(lo,um),sy={document:[]},cy=new s(lo,sy,um,oy),nt="PortablePowerSaw",_m=d.weapon.data[nt],[,dy]=f("weapon",nt),ry=[-1,40,50,60,70,80],[iy,fm]=m(nt,"symbolsConsumed"),gm=p(1,3),wm=h(fm,$(gm,t=>i(t,a(e.weapon.refinement,ry,{unit:"%"}))),_),my=r(nt,_m,{premod:{eleMas:wm}}),ly={document:[{value:fm,path:iy,teamBuff:!0,header:o(nt,n("stacks")),name:dy("condName"),states:$(gm,t=>({name:`${t}`,fields:[{node:wm},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},py=new s(nt,ly,_m,my),Ut="PrototypeArchaic",km=d.weapon.data[Ut],$y=[-1,2.4,3,3.6,4.2,4.8],vm=c(e.weapon.key,Ut,v(i(a(e.weapon.refinement,$y,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),hy=r(Ut,km,void 0,{dmg:vm}),uy={document:[{header:o(Ut,n("base")),fields:[{node:u(vm,{name:n("dmg")})}]}]},_y=new s(Ut,uy,km,hy),Vt="Rainslasher",ym=d.weapon.data[Vt],fy=[-1,.2,.24,.28,.32,.36],[gy,Pm]=m(Vt,"BaneOfStormAndTide"),Sm=c("on",Pm,a(e.weapon.refinement,fy)),wy=r(Vt,ym,{premod:{all_dmg_:Sm}}),ky={document:[{value:Pm,path:gy,name:n("enemyAffected.hydroOrElectro"),header:o(Vt,n("conditional")),states:{on:{fields:[{node:Sm}]}}}]},vy=new s(Vt,ky,ym,wy),at="RedhornStonethresher",bm=d.weapon.data[at],yy=[-1,.28,.35,.42,.49,.56],Py=[-1,.4,.5,.6,.7,.8],Sy=[-1,.4,.5,.6,.7,.8],Om=a(e.weapon.refinement,yy),fa=c(e.weapon.key,at,i(a(e.weapon.refinement,Py,{unit:"%"}),e.premod.def)),ga=c(e.weapon.key,at,i(a(e.weapon.refinement,Sy,{unit:"%"}),e.premod.def)),by=r(at,bm,{premod:{def_:Om,normal_dmgInc:fa,charged_dmgInc:ga}},{normal_dmgInc:fa,charged_dmgInc:ga}),Oy={document:[{header:o(at,n("base")),fields:[{node:Om},{node:fa},{node:ga}]}]},By=new s(at,Oy,bm,by),Jt="RoyalGreatsword",Bm=d.weapon.data[Jt],[Ay,Am]=m(Jt,"stack"),Ey=[-1,.08,.1,.12,.14,.16],Em=h(Am,$(p(1,5),t=>i(a(e.weapon.refinement,Ey,{unit:"%"}),t)),_),xy=r(Jt,Bm,{premod:{critRate_:Em}}),Dy={document:[{value:Am,path:Ay,name:n("stacks"),header:o(Jt,n("stacks")),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Em}]}]))}]},Ty=new s(Jt,Dy,Bm,xy),qn="SacrificialGreatsword",xm=d.weapon.data[qn],My=r(qn,xm),Ry={document:[{header:o(qn),fields:[]}]},Cy=new s(qn,Ry,xm,My),ot="SerpentSpine",Dm=d.weapon.data[ot],[,Iy]=f("weapon",ot),jy=[-1,.06,.07,.08,.09,.1],Fy=[-1,3,2.7,2.4,2.2,2],[Ny,Tm]=m(ot,"Wavesplitter"),Wy=a(e.weapon.refinement,jy,{unit:"%"}),Mm=h(Tm,{...$(p(1,5),t=>i(Wy,t))},_),Hy=r(ot,Dm,{premod:{all_dmg_:Mm}}),Gy={document:[{value:Tm,path:Ny,header:o(ot,n("stacks")),name:n("activeCharField"),states:{...$(p(1,5),t=>({name:n("seconds",{count:t*4}),fields:[{node:Mm},{text:Iy("takeMoreDmg"),value:w=>Fy[w.get(e.weapon.refinement).value]*t,unit:"%"}]}))}}]},Ky=new s(ot,Gy,Dm,Hy),Qt="SkyriderGreatsword",Rm=d.weapon.data[Qt],[Ly,Cm]=m(Qt,"stack"),qy=[-1,.06,.07,.08,.09,.1],Im=h(Cm,$(p(1,4),t=>i(a(e.weapon.refinement,qy,{unit:"%"}),t)),_),zy=r(Qt,Rm,{premod:{atk_:Im}}),Uy={document:[{value:Cm,path:Ly,name:n("hitOp.normalOrCharged"),header:o(Qt,n("stacks")),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Im},{text:l("duration"),value:6,unit:"s"}]}]))}]},Vy=new s(Qt,Uy,Rm,zy),Xt="SkywardPride",jm=d.weapon.data[Xt],Jy=[-1,.08,.1,.12,.14,.16],Qy=[-1,.8,1,1.2,1.4,1.6],Fm=a(e.weapon.refinement,Jy),Nm=c(e.weapon.key,Xt,v(i(a(e.weapon.refinement,Qy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Xy=r(Xt,jm,{premod:{all_dmg_:Fm}},{dmg:Nm}),Yy={document:[{header:o(Xt,n("base")),fields:[{node:Fm},{node:u(Nm,{name:n("dmg")})}]}]},Zy=new s(Xt,Yy,jm,Xy),G="SnowTombedStarsilver",Wm=d.weapon.data[G],eP=[-1,.8,.95,1.1,1.25,1.4],tP=[-1,2,2.4,2.8,3.2,3.6],Hm=c(e.weapon.key,G,v(i(a(e.weapon.refinement,eP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Gm=c(e.weapon.key,G,v(i(a(e.weapon.refinement,tP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),nP=r(G,Wm,void 0,{dmgAoe:Hm,dmgOnCryoOp:Gm}),aP={document:[{header:o(G,n("base")),fields:[{node:u(Hm,{name:s.trm(G)("aoeDmg")})},{node:u(Gm,{name:s.trm(G)("cryoAffectedDmg")})}]}]},oP=new s(G,aP,Wm,nP),we="SongOfBrokenPines",Km=d.weapon.data[we],[,sP]=f("weapon",we),cP=[-1,.16,.2,.24,.28,.32],dP=[-1,.2,.25,.3,.35,.4],rP=[-1,.12,.15,.18,.21,.24],[iP,po]=m(we,"RebelsBannerHymn"),Lm=a(e.weapon.refinement,cP,{unit:"%"}),qm=c("on",po,a(e.weapon.refinement,dP,{path:"atk_"})),zm=c("on",po,a(e.weapon.refinement,rP)),mP=r(we,Km,{premod:{atk_:Lm},teamBuff:{premod:{atk_:qm,atkSPD_:zm}}}),lP={document:[{header:o(we,n("base")),fields:[{node:Lm}]},{value:po,path:iP,teamBuff:!0,header:o(we,n("conditional")),name:sP("name"),states:{on:{fields:[{node:qm},{node:zm},{text:l("duration"),value:12,unit:"s"}]}}}]},pP=new s(we,lP,Km,mP),U="TalkingStick",Um=d.weapon.data[U],[,Vo]=f("weapon",U),$P=[-1,.16,.2,.24,.28,.32],hP=[-1,.12,.15,.18,.21,.24],[uP,Vm]=m(U,"affectedPyro"),Jm=c(Vm,"on",a(e.weapon.refinement,$P)),[_P,Qm]=m(U,"affectedOther"),fP=c(Qm,"on",a(e.weapon.refinement,hP)),Xm=$(k.map(t=>`${t}_dmg_`),()=>({...fP})),gP=r(U,Um,{premod:{atk_:Jm,...Xm}}),wP={document:[{value:Vm,path:uP,header:o(U,n("conditional")),name:Vo("condName.atk_"),states:{on:{fields:[{node:Jm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Qm,path:_P,header:o(U,n("conditional")),name:Vo("condName.dmg_"),states:{on:{fields:[...Object.values(Xm).map(t=>({node:t})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},kP=new s(U,wP,Um,gP),V="TheBell",Ym=d.weapon.data[V],vP=[-1,.2,.23,.26,.29,.32],yP=[-1,.12,.15,.18,.21,.24],[PP,Zm]=m(V,"RebelliousGuardian"),el=c(e.weapon.key,V,c(Zm,"on",Lh(i(a(e.weapon.refinement,vP,{unit:"%"}),e.total.hp)))),[SP,tl]=m(V,"WithShield"),nl=c(tl,"protected",a(e.weapon.refinement,yP,{unit:"%"})),bP=r(V,Ym,{premod:{all_dmg_:nl}},{shield:el}),OP={document:[{value:Zm,path:PP,header:o(V,n("conditional")),name:n("takeDmg"),states:{on:{fields:[{node:u(el,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:tl,path:SP,header:o(V,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{node:nl}]}}}]},BP=new s(V,OP,Ym,bP),D="TheUnforged",al=d.weapon.data[D],[,AP]=f("weapon",D),EP=[-1,.2,.25,.3,.35,.4],xP=[-1,.04,.05,.06,.07,.08],[DP,ol]=m(D,"GoldenMajesty"),sl=a(e.weapon.refinement,EP),[TP,cl]=m(D,"WithShield"),MP=a(e.weapon.refinement,xP),dl=i(y(1,c(cl,"protected",1)),h(ol,Object.fromEntries(p(1,5).map(t=>[t,i(MP,t)])),_)),RP=r(D,al,{premod:{shield_:sl,atk_:dl}}),CP={document:[{header:o(D,n("base")),fields:[{node:sl}]},{value:ol,path:DP,header:o(D,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:dl},{text:l("duration"),value:8,unit:"s"}]}]))},{value:cl,path:TP,header:o(D,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:AP("atkEffInc"),value:100,unit:"%"}]}}}]},IP=new s(D,CP,al,RP),Yt="TidalShadow",rl=d.weapon.data[Yt],jP=[-1,.24,.3,.36,.42,.48],[FP,il]=m(Yt,"afterHeal"),ml=c(il,"on",a(e.weapon.refinement,jP)),NP=r(Yt,rl,{premod:{atk_:ml}}),WP={document:[{header:o(Yt,n("conditional")),path:FP,value:il,name:n("afterHeal"),states:{on:{fields:[{node:ml},{text:l("duration"),value:8,unit:"s"}]}}}]},HP=new s(Yt,WP,rl,NP),C="UltimateOverlordsMegaMagicSword",$o=d.weapon.data[C],[,GP]=f("weapon",C),ll=$o.refinementBonus.atk_;if(!ll)throw new Error(`data_gen.refinementBonus.atk_ for ${C} was undefined`);const KP=[-1,.01,.0125,.015,.0175,.02],pl=c(e.weapon.key,C,a(e.weapon.refinement,ll),{path:"atk_"}),[LP,$l]=m(C,"melusines"),hl=p(1,12),ul=h($l,$(hl,t=>i(t,a(e.weapon.refinement,KP,{unit:"%"}))),_,{path:"atk_"}),qP=r(C,$o,{premod:{atk_:y(pl,ul)}}),zP={document:[{header:o(C,n("base")),fields:[{node:pl}]},{value:$l,path:LP,header:o(C,n("stacks")),name:GP("condName"),states:$(hl,t=>({name:`${t}`,fields:[{node:ul}]}))}]},UP=new s(C,zP,$o,qP),I="Verdict",ho=d.weapon.data[I],[,VP]=f("weapon",I),_l=ho.refinementBonus.atk_;if(!_l)throw new Error(`data_gen.refinementBonus.atk_ for ${I} was undefined`);const JP=[-1,.18,.225,.27,.315,.36],fl=c(e.weapon.key,I,a(e.weapon.refinement,_l)),[QP,gl]=m(I,"seals"),wl=p(1,2),kl=h(gl,$(wl,t=>i(t,a(e.weapon.refinement,JP,{unit:"%"}))),_),XP=r(I,ho,{premod:{atk_:fl,skill_dmg_:kl}}),YP={document:[{header:o(I,n("base")),fields:[{node:fl}]},{value:gl,path:QP,header:o(I,n("stacks")),name:VP("condName"),states:$(wl,t=>({name:`${t}`,fields:[{node:kl}]}))}]},ZP=new s(I,YP,ho,XP),uo="WasterGreatsword",_o=d.weapon.data[uo],eS=r(uo,_o),tS={..._o,document:[]},nS=new s(uo,tS,_o,eS),st="WhiteIronGreatsword",vl=d.weapon.data[st],aS=[-1,.08,.1,.12,.14,.16],[oS,yl]=m(st,"CullTheWeak"),Pl=c(e.weapon.key,st,c(yl,"on",He(i(a(e.weapon.refinement,aS,{unit:"%"}),e.total.hp)))),sS=r(st,vl,void 0,{heal:Pl}),cS={document:[{value:yl,path:oS,name:n("afterDefeatEnemy"),header:o(st,n("conditional")),states:{on:{fields:[{node:u(Pl,{name:l("healing"),variant:"heal"})}]}}}]},dS=new s(st,cS,vl,sS),Zt="Whiteblind",Sl=d.weapon.data[Zt],[rS,fo]=m(Zt,"stack"),bl=[-1,.06,.075,.09,.105,.12],Ol=h(fo,$(p(1,4),t=>i(a(e.weapon.refinement,bl,{unit:"%"}),t)),_),Bl=h(fo,$(p(1,4),t=>i(a(e.weapon.refinement,bl,{unit:"%"}),t)),_),iS=r(Zt,Sl,{premod:{atk_:Ol,def_:Bl}}),mS={document:[{value:fo,path:rS,name:n("hitOp.normalOrCharged"),header:o(Zt,n("stacks")),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ol},{node:Bl},{text:l("duration"),value:6,unit:"s"}]}]))}]},lS=new s(Zt,mS,Sl,iS),Fe="WolfsGravestone",Al=d.weapon.data[Fe],pS=[-1,.2,.25,.3,.35,.4],$S=[-1,.4,.5,.6,.7,.8],[hS,El]=m(Fe,"WolfishTracker"),xl=a(e.weapon.refinement,pS),Dl=c("on",El,a(e.weapon.refinement,$S,{path:"atk_"})),uS=r(Fe,Al,{premod:{atk_:xl},teamBuff:{premod:{atk_:Dl}}}),_S={document:[{header:o(Fe,n("base")),fields:[{node:xl}]},{value:El,path:hS,teamBuff:!0,header:o(Fe,n("conditional")),name:n("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Dl},{text:l("duration"),value:12,unit:"s"}]}}}]},fS=new s(Fe,_S,Al,uS),gS={Akuoumaru:U2,BeaconOfTheReedSea:nv,BlackcliffSlasher:dv,BloodtaintedGreatsword:pv,DebateClub:_v,FavoniusGreatsword:wv,FerrousShadow:Sv,ForestRegalia:Dv,KatsuragikiriNagamasa:Cv,LithicBlade:Wv,LuxuriousSeaLord:qv,MailedFlower:Yv,MakhairaAquamarine:ay,OldMercsPal:cy,PortablePowerSaw:py,PrototypeArchaic:_y,Rainslasher:vy,RedhornStonethresher:By,RoyalGreatsword:Ty,SacrificialGreatsword:Cy,SerpentSpine:Ky,SkyriderGreatsword:Vy,SkywardPride:Zy,SnowTombedStarsilver:oP,SongOfBrokenPines:pP,TalkingStick:kP,TheBell:BP,TheUnforged:IP,TidalShadow:HP,UltimateOverlordsMegaMagicSword:UP,Verdict:ZP,WasterGreatsword:nS,Whiteblind:lS,WhiteIronGreatsword:dS,WolfsGravestone:fS},zn="BalladOfTheFjords",Tl=d.weapon.data[zn],wS=[-1,120,150,180,210,240],wa=Xo(A.ele,3,a(e.weapon.refinement,wS)),kS=r(zn,Tl,{premod:{eleMas:wa}}),vS={document:[{header:o(zn,n("talents.passive")),canShow:te(wa,0,1),fields:[{node:wa}]}]},yS=new s(zn,vS,Tl,kS),go="BeginnersProtector",wo=d.weapon.data[go],PS=r(go,wo),SS={...wo,document:[]},bS=new s(go,SS,wo,PS),ct="BlackTassel",Ml=d.weapon.data[ct],[,OS]=f("weapon",ct),BS=[-1,.4,.5,.6,.7,.8],[AS,Rl]=m(ct,"PressTheAdvantage"),Cl=c("on",Rl,a(e.weapon.refinement,BS)),ES=r(ct,Ml,{premod:{all_dmg_:Cl}}),xS={document:[{value:Rl,path:AS,header:o(ct,n("conditional")),name:OS("condName"),states:{on:{fields:[{node:Cl}]}}}]},DS=new s(ct,xS,Ml,ES),en="BlackcliffPole",Il=d.weapon.data[en],[TS,jl]=m(en,"PressTheAdvantage"),Fl=p(1,3),MS=[-1,.12,.15,.18,.21,.24],Nl=i(h(jl,$(Fl,t=>g(t)),0),a(e.weapon.refinement,MS)),RS=r(en,Il,{premod:{atk_:Nl}}),CS={document:[{value:jl,path:TS,teamBuff:!0,header:o(en,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Fl.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Nl},{text:l("duration"),value:30,unit:"s"}]}]))}]},IS=new s(en,CS,Il,RS),ke="CalamityQueller",Wl=d.weapon.data[ke],[,ka]=f("weapon",ke),[jS,Hl]=m(ke,"stack"),FS=[-1,.12,.15,.18,.21,.24],NS=[-1,.032,.04,.048,.056,.064],Gl=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,FS)])),Kl=i(Da(e.charKey,e.activeCharKey,u(g(1),{name:ka("active")}),u(g(1),{name:ka("inactive")})),h(Hl,$(p(1,6),t=>u(g(t),{name:n("stacks")})),0),a(e.weapon.refinement,NS)),WS=r(ke,Wl,{premod:{...Gl,atk_:Kl}}),HS={document:[{header:o(ke,n("base")),fields:Object.values(Gl).map(t=>({node:t}))},{value:Hl,path:jS,teamBuff:!0,header:o(ke,n("stacks")),name:ka("effectName"),states:Object.fromEntries(p(1,6).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Kl}]}]))}]},GS=new s(ke,HS,Wl,WS),tn="CrescentPike",Ll=d.weapon.data[tn],KS=[-1,.2,.25,.3,.35,.4],ql=c(e.weapon.key,tn,v(i(e.total.atk,a(e.weapon.refinement,KS,{unit:"%"})),"elemental",{hit:{ele:g("physical")}})),LS=r(tn,Ll,void 0,{hit:ql}),qS={document:[{header:o(tn,n("talents.passive")),fields:[{node:u(ql,{name:n("dmg")})}]}]},zS=new s(tn,qS,Ll,LS),dt="Deathmatch",zl=d.weapon.data[dt],[,US]=f("weapon",dt),[VS,ko]=m(dt,"stack"),Ul=[-1,.16,.2,.24,.28,.32],JS=[-1,.24,.3,.36,.42,.48],va=h(ko,{oneOrNone:a(e.weapon.refinement,JS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Ul,{unit:"%"})},_),ya=c(ko,"moreThanOne",a(e.weapon.refinement,Ul,{unit:"%"})),QS=r(dt,zl,{premod:{atk_:va,def_:ya}}),XS={document:[{value:ko,path:VS,teamBuff:!0,header:o(dt,n("conditional")),name:US("condName"),states:{oneOrNone:{name:"1",fields:[{node:va},{node:ya}]},moreThanOne:{name:"2",fields:[{node:va},{node:ya}]}}}]},YS=new s(dt,XS,zl,QS),Un="DialoguesOfTheDesertSages",Vl=d.weapon.data[Un],ZS=r(Un,Vl),e4={document:[{header:o(Un),fields:[]}]},t4=new s(Un,e4,Vl,ZS),nn="DragonsBane",Jl=d.weapon.data[nn],n4=[-1,.2,.24,.28,.32,.36],[a4,Ql]=m(nn,"BaneOfFlameAndWater"),Xl=c("on",Ql,a(e.weapon.refinement,n4)),o4=r(nn,Jl,{premod:{all_dmg_:Xl}}),s4={document:[{value:Ql,path:a4,header:o(nn,n("conditional")),name:n("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Xl}]}}}]},c4=new s(nn,s4,Jl,o4),K="DragonspineSpear",Yl=d.weapon.data[K],d4=[-1,.8,.95,1.1,1.25,1.4],r4=[-1,2,2.4,2.8,3.2,3.6],Zl=c(e.weapon.key,K,v(i(a(e.weapon.refinement,d4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),e0=c(e.weapon.key,K,v(i(a(e.weapon.refinement,r4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),i4=r(K,Yl,void 0,{dmgAoe:Zl,dmgOnCryoOp:e0}),m4={document:[{header:o(K,n("base")),fields:[{node:u(Zl,{name:s.trm(K)("aoeDmg")})},{node:u(e0,{name:s.trm(K)("cryoAffectedDmg")})}]}]},l4=new s(K,m4,Yl,i4),ve="EngulfingLightning",t0=d.weapon.data[ve],p4=[-1,.28,.35,.42,.49,.56],$4=[-1,.8,.9,1,1.1,1.2],Pa=c(e.weapon.key,ve,ee(i(a(e.weapon.refinement,p4),y(e.premod.enerRech_,P(-1))),a(e.weapon.refinement,$4))),h4=[-1,.3,.35,.4,.45,.5,.55],[u4,n0]=m(ve,"TimelessDream"),a0=c("on",n0,a(e.weapon.refinement,h4)),_4=r(ve,t0,{premod:{atk_:Pa,enerRech_:a0}},{atk_:Pa}),f4={document:[{header:o(ve,n("base")),fields:[{node:Pa}]},{teamBuff:!0,value:n0,path:u4,header:o(ve,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:a0},{text:l("duration"),value:12,unit:"s"}]}}}]},g4=new s(ve,f4,t0,_4),Vn="FavoniusLance",o0=d.weapon.data[Vn],w4=r(Vn,o0),k4={document:[{header:o(Vn),fields:[]}]},v4=new s(Vn,k4,o0,w4),an="Halberd",s0=d.weapon.data[an],y4=[-1,1.6,2,2.4,2.8,3.2],c0=c(e.weapon.key,an,v(i(a(e.weapon.refinement,y4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),P4=r(an,s0,void 0,{dmg:c0}),S4={document:[{header:o(an,n("base")),fields:[{node:u(c0,{name:n("dmg")})}]}]},b4=new s(an,S4,s0,P4),vo="IronPoint",yo=d.weapon.data[vo],O4=r(vo,yo),B4={...yo,document:[]},A4=new s(vo,B4,yo,O4),Jn="KitainCrossSpear",d0=d.weapon.data[Jn],E4=[-1,.06,.075,.09,.105,.12],r0=a(e.weapon.refinement,E4),x4=r(Jn,d0,{premod:{skill_dmg_:r0}}),D4={document:[{header:o(Jn,n("base")),fields:[{node:r0}]}]},T4=new s(Jn,D4,d0,x4),Qn="LithicSpear",i0=d.weapon.data[Qn],M4=[-1,.07,.08,.09,.1,.11],R4=[-1,.03,.04,.05,.06,.07],m0=i(a(e.weapon.refinement,M4,{unit:"%"}),A.liyue),l0=i(a(e.weapon.refinement,R4,{unit:"%"}),A.liyue),C4=r(Qn,i0,{premod:{atk_:m0,critRate_:l0}}),I4={document:[{header:o(Qn,n("stacks")),fields:[{node:m0},{node:l0}]}]},j4=new s(Qn,I4,i0,C4),on="MissiveWindspear",p0=d.weapon.data[on],[F4,Po]=m(on,"passive"),N4=[-1,.12,.15,.18,.21,.24],W4=[-1,48,60,72,84,96],$0=c(Po,"on",a(e.weapon.refinement,N4,{unit:"%"})),h0=c(Po,"on",a(e.weapon.refinement,W4)),H4=r(on,p0,{premod:{atk_:$0,eleMas:h0}}),G4={document:[{value:Po,path:F4,teamBuff:!0,header:o(on,n("conditional")),name:n("afterReaction"),states:{on:{fields:[{node:$0},{node:h0},{text:l("duration"),value:10,unit:"s"}]}}}]},K4=new s(on,G4,p0,H4),rt="Moonpiercer",u0=d.weapon.data[rt],[,L4]=f("weapon",rt),[q4,_0]=m(rt,"passive"),z4=[-1,.16,.2,.24,.28,.32],f0=c(_0,"on",a(e.weapon.refinement,z4,{unit:"%"})),U4=c(e.activeCharKey,S.charKey,f0),V4=r(rt,u0,{teamBuff:{premod:{atk_:U4}}}),J4={document:[{value:_0,path:q4,teamBuff:!0,header:o(rt,n("conditional")),name:L4("condName"),states:{on:{fields:[{node:u(f0,{path:"atk_"})},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Q4=new s(rt,J4,u0,V4),sn="PrimordialJadeWingedSpear",g0=d.weapon.data[sn],[X4,So]=m(sn,"stack"),Y4=[-1,.032,.039,.046,.053,.06],Z4=[-1,.12,.15,.18,.21,.24],w0=h(So,$(p(1,7),t=>i(a(e.weapon.refinement,Y4,{unit:"%"}),t)),_),k0=c(So,"7",a(e.weapon.refinement,Z4,{unit:"%"})),e5=r(sn,g0,{premod:{atk_:w0,all_dmg_:k0}}),t5={document:[{value:So,path:X4,teamBuff:!0,header:o(sn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,7).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:w0},{node:k0}]}]))}]},n5=new s(sn,t5,g0,e5),it="ProspectorsDrill",v0=d.weapon.data[it],[,a5]=f("weapon",it),o5=[-1,.03,.04,.05,.06,.07],s5=[-1,.07,.085,.1,.115,.13],[c5,bo]=m(it,"marksConsumed"),Oo=p(1,3),y0=h(bo,$(Oo,t=>i(t,a(e.weapon.refinement,o5,{unit:"%"}))),_),d5=h(bo,$(Oo,t=>i(t,a(e.weapon.refinement,s5,{unit:"%"}))),_),P0=$(k.map(t=>`${t}_dmg_`),()=>({...d5})),r5=r(it,v0,{premod:{atk_:y0,...P0}}),i5={document:[{value:bo,path:c5,teamBuff:!0,header:o(it,n("stacks")),name:a5("condName"),states:$(Oo,t=>({name:`${t}`,fields:[{node:y0},...Object.values(P0).map(w=>({node:w})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},m5=new s(it,i5,v0,r5),cn="PrototypeStarglitter",S0=d.weapon.data[cn],[l5,Bo]=m(cn,"stack"),b0=[-1,.08,.1,.12,.14,.16],O0=h(Bo,$(p(1,2),t=>i(a(e.weapon.refinement,b0,{unit:"%"}),t)),_),B0=h(Bo,$(p(1,2),t=>i(a(e.weapon.refinement,b0,{unit:"%"}),t)),_),p5=r(cn,S0,{premod:{normal_dmg_:O0,charged_dmg_:B0}}),$5={document:[{value:Bo,path:l5,header:o(cn,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(p(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:O0},{node:B0}]}]))}]},h5=new s(cn,$5,S0,p5),Xn="RightfulReward",A0=d.weapon.data[Xn],u5=r(Xn,A0),_5={document:[{header:o(Xn),fields:[]}]},f5=new s(Xn,_5,A0,u5),dn="RoyalSpear",E0=d.weapon.data[dn],[g5,x0]=m(dn,"stack"),w5=[-1,.08,.1,.12,.14,.16],D0=h(x0,$(p(1,5),t=>i(a(e.weapon.refinement,w5,{unit:"%"}),t)),_),k5=r(dn,E0,{premod:{critRate_:D0}}),v5={document:[{value:x0,path:g5,teamBuff:!0,header:o(dn,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:D0}]}]))}]},y5=new s(dn,v5,E0,k5),rn="SkywardSpine",T0=d.weapon.data[rn],P5=[-1,.08,.1,.12,.14,.16],S5=[-1,.4,.55,.7,.85,1],M0=P(.12),R0=a(e.weapon.refinement,P5),C0=c(e.weapon.key,rn,v(i(a(e.weapon.refinement,S5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),b5=r(rn,T0,{premod:{critRate_:R0,atkSPD_:M0}},{dmg:C0}),O5={document:[{header:o(rn,n("base")),fields:[{node:R0},{node:M0},{node:u(C0,{name:n("dmg")})}]}]},B5=new s(rn,O5,T0,b5),ye="StaffOfHoma",I0=d.weapon.data[ye],A5=[-1,.2,.25,.3,.35,.4],E5=[-1,.008,.01,.012,.014,.016],x5=[-1,.01,.012,.014,.016,.018],j0=a(e.weapon.refinement,A5,{unit:"%"}),[D5,F0]=m(ye,"RecklessCinnabar"),N0=i(a(e.weapon.refinement,E5,{unit:"%"}),e.premod.hp),Sa=c(e.weapon.key,ye,c("on",F0,i(a(e.weapon.refinement,x5,{unit:"%"}),e.premod.hp),{path:"atk"})),T5=r(ye,I0,{premod:{hp_:j0},total:{atk:y(N0,Sa)}},{atk2_:Sa}),M5={document:[{header:o(ye,n("base")),fields:[{node:j0},{node:u(N0,{path:"atk"})}]},{value:F0,path:D5,teamBuff:!0,header:o(ye),name:n("lessPercentHP",{percent:50}),states:{on:{fields:[{node:u(Sa,{path:"atk"})}]}}}]},R5=new s(ye,M5,I0,T5),J="StaffOfTheScarletSands",W0=d.weapon.data[J],[C5,H0]=m(J,"stacks"),I5=[-1,.52,.65,.78,.91,1.04],j5=[-1,.28,.35,.42,.49,.56],G0=p(1,3),K0=c(e.weapon.key,J,i(a(e.weapon.refinement,I5,{unit:"%"}),e.premod.eleMas),{path:"atk"}),L0=h(H0,Object.fromEntries(G0.map(t=>[t,i(t,a(e.weapon.refinement,j5,{unit:"%"}),e.premod.eleMas)])),_,{path:"atk"}),Jo=c(e.weapon.key,J,y(K0,L0)),F5=r(J,W0,{total:{atk:Jo}},{atk:Jo}),N5={document:[{header:o(J,n("base")),fields:[{node:K0}]},{value:H0,path:C5,header:o(J,n("stacks")),name:n("hitOp.skill"),states:Object.fromEntries(G0.map(t=>[t,{name:n("hits",{count:t}),fields:[{node:L0},{text:l("duration"),value:10,unit:"s"}]}]))}]},W5=new s(J,N5,W0,F5),Yn="TheCatch",q0=d.weapon.data[Yn],H5=[-1,.16,.2,.24,.28,.32],G5=[-1,.06,.075,.09,.105,.12],z0=a(e.weapon.refinement,H5),U0=a(e.weapon.refinement,G5),K5=r(Yn,q0,{premod:{burst_dmg_:z0,burst_critRate_:U0}}),L5={document:[{header:o(Yn,n("base")),fields:[{node:z0},{node:U0}]}]},q5=new s(Yn,L5,q0,K5),T="VortexVanquisher",V0=d.weapon.data[T],[,z5]=f("weapon",T),U5=[-1,.2,.25,.3,.35,.4],V5=[-1,.04,.05,.06,.07,.08],[J5,J0]=m(T,"GoldenMajesty"),Q0=a(e.weapon.refinement,U5),[Q5,X0]=m(T,"WithShield"),X5=a(e.weapon.refinement,V5),Y0=i(y(1,c(X0,"protected",1)),h(J0,Object.fromEntries(p(1,5).map(t=>[t,i(X5,t)])),_)),Y5=r(T,V0,{premod:{shield_:Q0,atk_:Y0}}),Z5={document:[{header:o(T,n("base")),fields:[{node:Q0}]},{value:J0,path:J5,teamBuff:!0,header:o(T,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Y0},{text:l("duration"),value:8,unit:"s"}]}]))},{value:X0,path:Q5,header:o(T,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:z5("atkEffInc"),value:100,unit:"%"}]}}}]},eb=new s(T,Z5,V0,Y5),mt="WavebreakersFin",Z0=d.weapon.data[mt],[,tb]=f("weapon",mt),[nb,ep]=m(mt,"WatatsumiWavewalker"),tp=p(4,36).map(t=>t*10),ab=[-1,.0012,.0015,.0018,.0021,.0024],ob=[-1,.4,.5,.6,.7,.8],np=h(ep,Object.fromEntries(tp.map(t=>[t,ee(i(a(e.weapon.refinement,ab,{unit:"%"}),t),a(e.weapon.refinement,ob,{unit:"%"}))])),_),sb=r(mt,Z0,{premod:{burst_dmg_:np}}),cb={document:[{value:ep,path:nb,header:o(mt),name:tb("party"),states:Object.fromEntries(tp.map(t=>[t,{name:t.toString(),fields:[{node:np}]}]))}]},db=new s(mt,cb,Z0,sb),Zn="WhiteTassel",ap=d.weapon.data[Zn],rb=[-1,.24,.3,.36,.42,.48],op=a(e.weapon.refinement,rb),ib=r(Zn,ap,{premod:{normal_dmg_:op}}),mb={document:[{header:o(Zn,n("base")),fields:[{node:op}]}]},lb=new s(Zn,mb,ap,ib),pb={BalladOfTheFjords:yS,BeginnersProtector:bS,BlackcliffPole:IS,BlackTassel:DS,CalamityQueller:GS,CrescentPike:zS,Deathmatch:YS,DialoguesOfTheDesertSages:t4,DragonsBane:c4,DragonspineSpear:l4,EngulfingLightning:g4,FavoniusLance:v4,Halberd:b4,IronPoint:A4,KitainCrossSpear:T4,LithicSpear:j4,MissiveWindspear:K4,Moonpiercer:Q4,PrimordialJadeWingedSpear:n5,ProspectorsDrill:m5,PrototypeStarglitter:h5,RightfulReward:f5,RoyalSpear:y5,SkywardSpine:B5,StaffOfHoma:R5,StaffOfTheScarletSands:W5,TheCatch:q5,VortexVanquisher:eb,WavebreakersFin:db,WhiteTassel:lb},ea="AmenomaKageuchi",sp=d.weapon.data[ea],$b=r(ea,sp),hb={document:[{header:o(ea),fields:[]}]},ub=new s(ea,hb,sp,$b),Q="AquilaFavonia",Ao=d.weapon.data[Q],_b=[-1,2,2.3,2.6,2.9,3.2],fb=[-1,1,1.15,1.3,1.45,1.6],cp=Ao.refinementBonus.atk_;if(!cp)throw new Error(`data_gen.refinementBonus.atk_ for ${Q} was undefined`);const dp=a(e.weapon.refinement,cp),rp=c(e.weapon.key,Q,i(a(e.weapon.refinement,fb,{unit:"%"}),e.premod.atk)),ip=c(e.weapon.key,Q,v(i(a(e.weapon.refinement,_b,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),gb=r(Q,Ao,{premod:{atk_:dp}},{heal:rp,dmg:ip}),wb={document:[{header:o(Q,n("base")),fields:[{node:dp}]},{header:o(Q,n("base")),fields:[{node:u(rp,{name:l("healing"),variant:"heal"})},{node:u(ip,{name:n("dmg")})}]}]},kb=new s(Q,wb,Ao,gb),mn="BlackcliffLongsword",mp=d.weapon.data[mn],[vb,lp]=m(mn,"PressTheAdvantage"),pp=p(1,3),yb=[-1,.12,.15,.18,.21,.24],$p=i(h(lp,$(pp,t=>g(t)),0),a(e.weapon.refinement,yb)),Pb=r(mn,mp,{premod:{atk_:$p}}),Sb={document:[{value:lp,path:vb,header:o(mn,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(pp.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:$p},{text:l("duration"),value:30,unit:"s"}]}]))}]},bb=new s(mn,Sb,mp,Pb),De="CinnabarSpindle",hp=d.weapon.data[De],[,Ob]=f("weapon",De),Bb=[-1,.4,.5,.6,.7,.8],[Ab,up]=m(De,"SpotlessHeart"),ba=c(e.weapon.key,De,c("on",up,i(a(e.weapon.refinement,Bb,{unit:"%"}),e.premod.def))),Eb=r(De,hp,{premod:{skill_dmgInc:ba}},{skill_dmgInc:ba}),xb={document:[{value:up,path:Ab,header:o(De,n("conditional")),name:Ob("name"),states:{on:{fields:[{node:ba}]}}}]},Db=new s(De,xb,hp,Eb),ln="CoolSteel",_p=d.weapon.data[ln],Tb=[-1,.12,.15,.18,.21,.24],[Mb,fp]=m(ln,"BaneOfWaterAndIce"),gp=c("on",fp,a(e.weapon.refinement,Tb)),Rb=r(ln,_p,{premod:{all_dmg_:gp}}),Cb={document:[{value:fp,path:Mb,name:n("enemyAffected.hydroOrCryo"),header:o(ln,n("conditional")),states:{on:{fields:[{node:gp}]}}}]},Ib=new s(ln,Cb,_p,Rb),pn="DarkIronSword",wp=d.weapon.data[pn],jb=[-1,.2,.25,.3,.35,.5],[Fb,kp]=m(pn,"Overloaded"),vp=c("on",kp,a(e.weapon.refinement,jb,{unit:"%"})),Nb=r(pn,wp,{premod:{atk_:vp}}),Wb={document:[{value:kp,path:Fb,name:n("elementalReaction.electro"),header:o(pn,n("conditional")),states:{on:{fields:[{node:vp},{text:l("duration"),value:12,unit:"s"}]}}}]},Hb=new s(pn,Wb,wp,Nb),Eo="DullBlade",xo=d.weapon.data[Eo],Gb=r(Eo,xo),Kb={...xo,document:[]},Lb=new s(Eo,Kb,xo,Gb),ta="FavoniusSword",yp=d.weapon.data[ta],qb=r(ta,yp),zb={document:[{header:o(ta),fields:[]}]},Ub=new s(ta,zb,yp,qb),na="FesteringDesire",Pp=d.weapon.data[na],Vb=[-1,.16,.2,.24,.28,.32],Jb=[-1,.06,.075,.09,.105,.12],Sp=a(e.weapon.refinement,Vb,{unit:"%"}),bp=a(e.weapon.refinement,Jb,{unit:"%"}),Qb=r(na,Pp,{premod:{skill_dmg_:Sp,skill_critRate_:bp}}),Xb={document:[{header:o(na,n("base")),fields:[{node:Sp},{node:bp}]}]},Yb=new s(na,Xb,Pp,Qb),$n="FilletBlade",Op=d.weapon.data[$n],Zb=[-1,2.4,2.8,3.2,3.6,4],e3=[-1,15,14,13,12,11],Bp=c(e.weapon.key,$n,v(i(a(e.weapon.refinement,Zb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),t3=r($n,Op,void 0,{dmg_:Bp}),n3={document:[{header:o($n,n("base")),fields:[{node:u(Bp,{name:n("dmg")})},{text:l("cd"),value:t=>e3[t.get(e.weapon.refinement).value],unit:"s"}]}]},a3=new s($n,n3,Op,t3),j="FinaleOfTheDeep",Ap=d.weapon.data[j],[,o3]=f("weapon",j),s3=[-1,.12,.15,.18,.21,.24],c3=[-1,.024,.03,.036,.042,.048],d3=[-1,150,187.5,225,262.5,300],[r3,Ep]=m(j,"afterSkill"),xp=c(Ep,"on",a(e.weapon.refinement,s3)),i3=i(P(.25),e.total.hp),[m3,Dp]=m(j,"bond"),Oa=c(e.weapon.key,j,c(Dp,"on",ee(i(i3,a(e.weapon.refinement,c3,{unit:"%"})),a(e.weapon.refinement,d3,{unit:"%"})))),l3=r(j,Ap,{premod:{atk_:xp,atk:Oa}},{bond_atk:Oa}),p3={document:[{header:o(j,n("conditional")),path:r3,value:Ep,name:n("hitOp.skill"),states:{on:{fields:[{node:xp},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(j,n("conditional")),path:m3,value:Dp,name:o3("bondCondName"),states:{on:{fields:[{node:Oa},{text:l("duration"),value:15,unit:"s"}]}}}]},$3=new s(j,p3,Ap,l3),Ne="FleuveCendreFerryman",Tp=d.weapon.data[Ne],h3=[-1,.08,.1,.12,.14,.16],u3=[-1,.16,.2,.24,.28,.32],Mp=a(e.weapon.refinement,h3),[_3,Rp]=m(Ne,"afterSkill"),Cp=c(Rp,"on",a(e.weapon.refinement,u3)),f3=r(Ne,Tp,{premod:{skill_critRate_:Mp,enerRech_:Cp}}),g3={document:[{header:o(Ne,n("base")),fields:[{node:Mp}]},{header:o(Ne,n("conditional")),value:Rp,path:_3,name:n("afterUse.skill"),states:{on:{fields:[{node:Cp},{text:l("duration"),value:5,unit:"s"}]}}}]},w3=new s(Ne,g3,Tp,f3),X="FreedomSworn",Do=d.weapon.data[X],[,k3]=f("weapon",X),[v3,To]=m(X,"MillennialMovement"),y3=[-1,.16,.2,.24,.28,.32],P3=[-1,.2,.25,.3,.35,.4],Ip=Do.refinementBonus.dmg_;if(!Ip)throw new Error(`data_gen.refinementBonus.dmg_ for ${X} was undefined`);const jp=a(e.weapon.refinement,Ip),Fp=c("on",To,a(e.weapon.refinement,P3)),aa=c("on",To,a(e.weapon.refinement,y3)),Np={...aa},Wp={...aa},S3=r(X,Do,{premod:{all_dmg_:jp},teamBuff:{premod:{atk_:Fp,normal_dmg_:aa,charged_dmg_:Np,plunging_dmg_:Wp}}}),b3={document:[{header:o(X,n("base")),fields:[{node:jp}]},{value:To,path:v3,teamBuff:!0,header:o(X,n("conditional")),name:k3("sigilsConsumed"),states:{on:{fields:[{node:Fp},{node:aa},{node:Np},{node:Wp},{text:l("duration"),value:12,unit:"s"}]}}}]},O3=new s(X,b3,Do,S3),Pe="HaranGeppakuFutsu",Hp=d.weapon.data[Pe],[,B3]=f("weapon",Pe),A3=[-1,.12,.15,.18,.21,.24],E3=[-1,.2,.25,.3,.35,.4],[x3,Gp]=m(Pe,"HonedFlow"),Kp=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,A3,{path:`${t}_dmg_`})])),Lp=h(Gp,$(p(1,2),t=>i(t,a(e.weapon.refinement,E3))),_),D3=r(Pe,Hp,{premod:{...Kp,normal_dmg_:Lp}}),T3={document:[{header:o(Pe,n("base")),fields:[...k.map(t=>({node:Kp[`${t}_dmg_`]}))]},{value:Gp,path:x3,name:B3("consumed"),header:o(Pe,n("conditional")),states:$(p(1,2),t=>({name:n("stack",{count:t}),fields:[{node:Lp}]}))}]},M3=new s(Pe,T3,Hp,D3),hn="HarbingerOfDawn",qp=d.weapon.data[hn],[R3,zp]=m(hn,"SkyPiercingMight"),C3=[-1,.14,.175,.21,.245,.28],Up=c("on",zp,a(e.weapon.refinement,C3)),I3=r(hn,qp,{premod:{critRate_:Up}}),j3={document:[{value:zp,path:R3,header:o(hn,n("conditional")),name:n("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:Up}]}}}]},F3=new s(hn,j3,qp,I3),un="IronSting",Vp=d.weapon.data[un],[N3,Jp]=m(un,"InfusionStinger"),Qp=p(1,2),W3=[-1,.06,.075,.09,.105,.12],Xp=i(h(Jp,$(Qp,t=>g(t)),_),a(e.weapon.refinement,W3)),H3=r(un,Vp,{premod:{all_dmg_:Xp}}),G3={document:[{value:Jp,path:N3,header:o(un,n("stacks")),name:n("hitOp.ele"),states:Object.fromEntries(Qp.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Xp},{text:l("duration"),value:6,unit:"s"}]}]))}]},K3=new s(un,G3,Vp,H3),Se="KagotsurubeIsshin",Yp=d.weapon.data[Se],[L3,Zp]=m(Se,"passive"),e$=c(Zp,"on",P(.15)),t$=c(e.weapon.key,Se,v(i(P(1.8),e.total.atk),"elemental",{hit:{ele:g("physical")}})),q3=r(Se,Yp,{premod:{atk_:e$}},{dmg:t$}),z3={document:[{header:o(Se,n("base")),fields:[{node:u(t$,{name:n("dmg")})}]},{header:o(Se,n("conditional")),value:Zp,path:L3,name:n("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:e$},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},U3=new s(Se,z3,Yp,q3),B="KeyOfKhajNisut",n$=d.weapon.data[B],V3=[-1,.0012,.0015,.0018,.0021,.0024],J3=[-1,.002,.0025,.003,.0035,.004],a$=p(1,3),Q3=[-1,.2,.25,.3,.35,.4],o$=c(e.weapon.key,B,a(e.weapon.refinement,Q3,{unit:"%"})),[X3,En]=m(B,"afterSkill"),Ba=c(e.weapon.key,B,h(En,Object.fromEntries(a$.map(t=>[t,i(t,a(e.weapon.refinement,V3,{unit:"%",fixed:2}),e.total.hp)])),_)),Aa=c(e.weapon.key,B,c(En,"3",i(a(e.weapon.refinement,J3,{unit:"%",fixed:2}),e.total.hp))),Y3=r(B,n$,{premod:{hp_:o$},total:{eleMas:Ba},teamBuff:{total:{eleMas:Aa}}},{selfEleMas:Ba,teamEleMas:Aa}),Z3={document:[{header:o(B,n("base")),fields:[{node:o$}]},{header:o(B,n("stacks")),teamBuff:!0,path:X3,value:En,name:n("hitOp.skill"),states:Object.fromEntries(a$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ba},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(B,n("teamBuff")),canShow:c(En,"3",1),teamBuff:!0,fields:[{node:Aa},{text:l("duration"),value:20,unit:"s"}]}]},eO=new s(B,Z3,n$,Y3),Y="LightOfFoliarIncision",s$=d.weapon.data[Y],tO=[-1,.04,.05,.06,.07,.08],c$=c(e.weapon.key,Y,a(e.weapon.refinement,tO)),[nO,d$]=m(Y,"afterNormalEle"),aO=[-1,1.2,1.5,1.8,2.1,2.4],xn=c(e.weapon.key,Y,c(d$,"on",i(a(e.weapon.refinement,aO,{unit:"%"}),e.total.eleMas))),Ea={...xn},oO=r(Y,s$,{premod:{normal_dmgInc:xn,skill_dmgInc:Ea,critRate_:c$}},{normal_dmgInc:xn,skill_dmgInc:Ea}),sO={document:[{header:o(Y,n("base")),fields:[{node:c$}]},{header:o(Y,n("conditional")),path:nO,value:d$,name:n("hitOp.normalEle"),states:{on:{fields:[{node:xn},{node:Ea},{text:n("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},cO=new s(Y,sO,s$,oO),_n="LionsRoar",r$=d.weapon.data[_n],[dO,i$]=m(_n,"BaneOfFireAndThunder"),rO=[-1,.2,.24,.28,.32,.36],m$=c("on",i$,a(e.weapon.refinement,rO)),iO=r(_n,r$,{premod:{all_dmg_:m$}}),mO={document:[{value:i$,path:dO,header:o(_n,n("conditional")),name:n("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:m$}]}}}]},lO=new s(_n,mO,r$,iO),be="MistsplitterReforged",l$=d.weapon.data[be],[,pO]=f("weapon",be),p$=["1","2","3"],$O=[-1,.12,.15,.18,.21,.24],hO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[uO,$$]=m(be,"MistsplittersEmblem"),h$=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,$O,{path:`${t}_dmg_`})])),u$=Object.fromEntries(k.map(t=>[`${t}_dmg_`,c(e.charEle,t,h($$,$(p$,w=>a(e.weapon.refinement,hO[w])),_,{path:`${t}_dmg_`}))])),_O=Object.fromEntries(k.map(t=>[`${t}_dmg_`,y(h$[`${t}_dmg_`],u$[`${t}_dmg_`])])),fO=r(be,l$,{premod:{..._O}}),gO={document:[{header:o(be,n("base")),fields:k.map(t=>({node:h$[`${t}_dmg_`]}))},{value:$$,path:uO,name:pO("emblem"),teamBuff:!0,header:o(be,n("stacks")),states:Object.fromEntries(p$.map(t=>[t,{name:n("stack",{count:parseInt(t)}),fields:k.map(w=>({node:u$[`${w}_dmg_`]}))}]))}]},wO=new s(be,gO,l$,fO),fn="PrimordialJadeCutter",_$=d.weapon.data[fn],kO=[-1,.2,.25,.3,.35,.4],vO=[-1,.012,.015,.018,.021,.024],f$=a(e.weapon.refinement,kO),xa=c(e.weapon.key,fn,i(a(e.weapon.refinement,vO,{unit:"%"}),e.premod.hp)),yO=r(fn,_$,{premod:{hp_:f$},total:{atk:xa}},{atk:xa}),PO={document:[{header:o(fn,n("base")),fields:[{node:f$},{node:xa}]}]},SO=new s(fn,PO,_$,yO),gn="PrototypeRancour",g$=d.weapon.data[gn],[bO,Mo]=m(gn,"stack"),w$=[-1,.04,.05,.06,.07,.08],k$=h(Mo,$(p(1,4),t=>i(a(e.weapon.refinement,w$,{unit:"%"}),t)),_),v$=h(Mo,$(p(1,4),t=>i(a(e.weapon.refinement,w$,{unit:"%"}),t)),_),OO=r(gn,g$,{premod:{atk_:k$,def_:v$}}),BO={document:[{value:Mo,path:bO,header:o(gn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:k$},{node:v$},{text:l("duration"),value:6,unit:"s"}]}]))}]},AO=new s(gn,BO,g$,OO),wn="RoyalLongsword",y$=d.weapon.data[wn],[EO,P$]=m(wn,"stack"),xO=[-1,.08,.1,.12,.14,.16],S$=h(P$,$(p(1,5),t=>i(a(e.weapon.refinement,xO,{unit:"%"}),t)),_),DO=r(wn,y$,{premod:{critRate_:S$}}),TO={document:[{value:P$,path:EO,header:o(wn,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:S$}]}]))}]},MO=new s(wn,TO,y$,DO),oa="SacrificialSword",b$=d.weapon.data[oa],RO=r(oa,b$),CO={document:[{header:o(oa),fields:[]}]},IO=new s(oa,CO,b$,RO),lt="SapwoodBlade",O$=d.weapon.data[lt],[,jO]=f("weapon",lt),[FO,B$]=m(lt,"passive"),NO=[-1,60,75,90,105,120],A$=c(B$,"on",a(e.weapon.refinement,NO)),WO=c(e.activeCharKey,S.charKey,A$),HO=r(lt,O$,{teamBuff:{premod:{eleMas:WO}}}),GO={document:[{value:B$,path:FO,teamBuff:!0,header:o(lt,n("conditional")),name:jO("condName"),states:{on:{fields:[{node:u(A$,{path:"eleMas"})},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},KO=new s(lt,GO,O$,HO),Ro="SilverSword",Co=d.weapon.data[Ro],LO=r(Ro,Co),qO={...Co,document:[]},zO=new s(Ro,qO,Co,LO),kn="SkyriderSword",E$=d.weapon.data[kn],[UO,Io]=m(kn,"Determination"),x$=[-1,.12,.15,.18,.21,.24],D$=c(Io,"on",a(e.weapon.refinement,x$,{unit:"%"})),T$=c(Io,"on",a(e.weapon.refinement,x$,{unit:"%"})),VO=r(kn,E$,{premod:{atk_:D$,moveSPD_:T$}}),JO={document:[{value:Io,path:UO,header:o(kn,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:D$},{node:T$},{text:l("duration"),value:15,unit:"s"}]}}}]},QO=new s(kn,JO,E$,VO),Z="SkywardBlade",jo=d.weapon.data[Z],[XO,sa]=m(Z,"SkyPiercingMight"),YO=[-1,.2,.25,.3,.35,.4],M$=c("on",sa,P(.1)),R$=c("on",sa,P(.1)),C$=c(e.weapon.key,Z,c("on",sa,v(i(a(e.weapon.refinement,YO,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}}))),I$=jo.refinementBonus.critRate_;if(!I$)throw new Error(`data_gen.refinementBonus.critRate_ for ${Z} was undefined`);const j$=a(e.weapon.refinement,I$),ZO=r(Z,jo,{premod:{critRate_:j$,moveSPD_:M$,atkSPD_:R$}},{dmg:C$}),e8={document:[{header:o(Z,n("base")),fields:[{node:j$}]},{value:sa,path:XO,header:o(Z,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:M$},{node:R$},{node:u(C$,{name:n("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},t8=new s(Z,e8,jo,ZO),Oe="SplendorOfTranquilWaters",F$=d.weapon.data[Oe],n8=[-1,.08,.1,.12,.14,.16],a8=[-1,.14,.175,.21,.245,.28],[o8,N$]=m(Oe,"selfHpChange"),W$=p(1,3),H$=h(N$,$(W$,t=>i(t,a(e.weapon.refinement,n8,{unit:"%"}))),_),[s8,G$]=m(Oe,"teamHpChange"),K$=p(1,2),L$=h(G$,$(K$,t=>i(t,a(e.weapon.refinement,a8,{unit:"%"}))),_),c8=r(Oe,F$,{premod:{hp_:L$,skill_dmg_:H$}}),d8={document:[{value:N$,path:o8,header:o(Oe,n("stacks")),name:n("hpChange"),states:$(W$,t=>({name:n("times",{count:t}),fields:[{node:H$},{text:l("duration"),value:6,unit:"s"}]}))},{value:G$,path:s8,header:o(Oe,n("stacks")),name:n("otherHpChange"),states:$(K$,t=>({name:n("times",{count:t}),fields:[{node:L$},{text:l("duration"),value:6,unit:"s"}]}))}]},r8=new s(Oe,d8,F$,c8),M="SummitShaper",q$=d.weapon.data[M],[,i8]=f("weapon",M),[m8,z$]=m(M,"GoldenMajesty"),[l8,U$]=m(M,"WithShield"),p8=[-1,.2,.25,.3,.35,.4],$8=[-1,.04,.05,.06,.07,.08],V$=a(e.weapon.refinement,p8),h8=a(e.weapon.refinement,$8),J$=i(y(1,c(U$,"protected",1)),h(z$,Object.fromEntries(p(1,5).map(t=>[t,i(h8,t)])),_)),u8=r(M,q$,{premod:{shield_:V$,atk_:J$}}),_8={document:[{header:o(M,n("base")),fields:[{node:V$}]},{value:z$,path:m8,header:o(M,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:J$},{text:l("duration"),value:8,unit:"s"}]}]))},{value:U$,path:l8,header:o(M,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:i8("atkEffInc"),value:100,unit:"%"}]}}}]},f8=new s(M,_8,q$,u8),vn="SwordOfDescension",Q$=d.weapon.data[vn],X$=h(e.charKey,$(Gh,t=>g(66)),_),Y$=c(e.weapon.key,vn,v(i(P(2),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),g8=r(vn,Q$,{premod:{atk:X$}},{dmg_:Y$}),w8={document:[{header:o(vn,n("base")),fields:[{node:X$},{node:u(Y$,{name:n("dmg")})}]}]},k8=new s(vn,w8,Q$,g8),yn="SwordOfNarzissenkreuz",Z$=d.weapon.data[yn],v8=[-1,1.6,2,2.4,2.8,3.2],eh=c(e.weapon.key,yn,v(i(a(e.weapon.refinement,v8,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),y8=r(yn,Z$,void 0,{dmg:eh}),P8={document:[{header:o(yn,n("dmg")),fields:[{node:u(eh,{name:n("dmg")})}]}]},S8=new s(yn,P8,Z$,y8),pt="TheAlleyFlash",th=d.weapon.data[pt],[,b8]=f("weapon",pt),[O8,nh]=m(pt,"ItinerantHero"),B8=[-1,.12,.15,.18,.21,.24],ah=c(nh,"on",a(e.weapon.refinement,B8,{unit:"%"})),A8=r(pt,th,{premod:{all_dmg_:ah}}),E8={document:[{value:nh,path:O8,header:o(pt,n("conditional")),name:b8("condName"),states:{on:{fields:[{node:ah}]}}}]},x8=new s(pt,E8,th,A8),Pn="TheBlackSword",oh=d.weapon.data[Pn],sh=[-1,.2,.25,.3,.35,.4],D8=[-1,.6,.7,.8,.9,1],ch=a(e.weapon.refinement,sh),dh=a(e.weapon.refinement,sh),rh=c(e.weapon.key,Pn,He(i(a(e.weapon.refinement,D8,{unit:"%"}),e.total.atk))),T8=r(Pn,oh,{premod:{normal_dmg_:ch,charged_dmg_:dh}},{heal:rh}),M8={document:[{header:o(Pn,n("base")),fields:[{node:ch},{node:dh},{node:u(rh,{name:l("healing"),variant:"heal"})}]}]},R8=new s(Pn,M8,oh,T8),$t="TheDockhandsAssistant",ih=d.weapon.data[$t],[,C8]=f("weapon",$t),I8=[-1,40,50,60,70,80],[j8,mh]=m($t,"symbolsConsumed"),lh=p(1,3),ph=h(mh,$(lh,t=>i(t,a(e.weapon.refinement,I8,{unit:"%"}))),_),F8=r($t,ih,{premod:{eleMas:ph}}),N8={document:[{value:mh,path:j8,teamBuff:!0,header:o($t,n("stacks")),name:C8("condName"),states:$(lh,t=>({name:`${t}`,fields:[{node:ph},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},W8=new s($t,N8,ih,F8),Sn="TheFlute",$h=d.weapon.data[Sn],hh=c(e.weapon.key,Sn,v(i(P(2),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),H8=r(Sn,$h,void 0,{dmg_:hh}),G8={document:[{header:o(Sn,n("base")),fields:[{node:u(hh,{name:n("dmg")})}]}]},K8=new s(Sn,G8,$h,H8),Te="ToukabouShigure",uh=d.weapon.data[Te],[,L8]=f("weapon",Te),[q8,_h]=m(Te,"passive"),z8=[-1,.16,.2,.24,.28,.32],fh=c(e.weapon.key,Te,c(_h,"on",a(e.weapon.refinement,z8,{unit:"%"}))),U8=r(Te,uh,{premod:{all_dmg_:fh}}),V8={document:[{value:_h,path:q8,header:o(Te,n("stacks")),name:L8("condName"),states:{on:{fields:[{node:fh},{text:l("duration"),value:10,unit:"s"}]}}}]},J8=new s(Te,V8,uh,U8),bn="TravelersHandySword",gh=d.weapon.data[bn],Q8=[-1,.01,.0125,.015,.0175,.02],wh=c(e.weapon.key,bn,He(i(a(e.weapon.refinement,Q8,{unit:"%"}),e.total.hp))),X8=r(bn,gh,void 0,{heal:wh}),Y8={document:[{header:o(bn,n("base")),fields:[{node:u(wh,{name:l("healing"),variant:"heal"})}]}]},Z8=new s(bn,Y8,gh,X8),We="UrakuMisugiri",kh=d.weapon.data[We],e6=[-1,.16,.2,.24,.28,.32],t6=[-1,.24,.3,.36,.42,.48],n6=[-1,.2,.25,.3,.35,.4],Fo=a(e.weapon.refinement,e6),No=a(e.weapon.refinement,t6),[a6,Wo]=m(We,"teamGeo"),vh=1,yh=c(Wo,"on",i(P(vh),Fo)),Ph=c(Wo,"on",i(P(vh),No)),Sh=a(e.weapon.refinement,n6),o6=r(We,kh,{premod:{normal_dmg_:y(Fo,yh),skill_dmg_:y(No,Ph),def_:Sh}}),s6={document:[{header:o(We,n("base")),fields:[{node:Sh},{node:u(Fo,{path:"normal_dmg_"})},{node:u(No,{path:"skill_dmg_"})}]},{value:Wo,path:a6,header:o(We,n("conditional")),name:n("teamHitOp.geo"),states:{on:{fields:[{node:u(yh,{path:"normal_dmg_"})},{node:u(Ph,{path:"skill_dmg_"})},{text:l("duration"),value:15,unit:"s"}]}}}]},c6=new s(We,s6,kh,o6),L="WolfFang",bh=d.weapon.data[L],d6=[-1,.16,.2,.24,.28,.32],Oh=[-1,.02,.025,.03,.035,.04],Dn=p(1,4),Ho=a(e.weapon.refinement,d6),Bh={...Ho},[r6,Ah]=m(L,"skillStacks"),Eh=i(a(e.weapon.refinement,Oh),h(Ah,$(Dn,t=>g(t)),_)),[i6,xh]=m(L,"burstStacks"),Dh=i(a(e.weapon.refinement,Oh),h(xh,$(Dn,t=>g(t)),_)),m6=r(L,bh,{premod:{skill_dmg_:Ho,burst_dmg_:Bh,skill_critRate_:Eh,burst_critRate_:Dh}}),l6={document:[{header:o(L,n("base")),fields:[{node:Ho},{node:Bh}]},{header:o(L,n("conditional")),value:Ah,path:r6,name:n("hitOp.skill"),states:$(Dn,t=>({name:n("stack",{count:t}),fields:[{node:Eh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(L,n("conditional")),value:xh,path:i6,name:n("hitOp.burst"),states:$(Dn,t=>({name:n("stack",{count:t}),fields:[{node:Dh},{text:l("duration"),value:10,unit:"s"}]}))}]},p6=new s(L,l6,bh,m6),Be="XiphosMoonlight",Th=d.weapon.data[Be],$6=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Tn=c(e.weapon.key,Be,i(a(e.weapon.refinement,$6,{unit:"%",fixed:3}),e.premod.eleMas)),Go=c(e.weapon.key,Be,i(P(.3),Tn)),h6=te(e.charKey,S.charKey,Go),u6=r(Be,Th,{total:{enerRech_:Tn},teamBuff:{total:{enerRech_:h6}}},{selfEnerRech_:Tn,teamEnerRech_disp:Go}),_6={document:[{header:o(Be,n("base")),fields:[{node:Tn}]},{header:o(Be,n("teamBuff")),teamBuff:!0,fields:[{node:u(Go,{path:"enerRech_",isTeamBuff:!0})}]}]},f6=new s(Be,_6,Th,u6),g6={AmenomaKageuchi:ub,AquilaFavonia:kb,BlackcliffLongsword:bb,CinnabarSpindle:Db,CoolSteel:Ib,DarkIronSword:Hb,DullBlade:Lb,FavoniusSword:Ub,FesteringDesire:Yb,FilletBlade:a3,FinaleOfTheDeep:$3,FleuveCendreFerryman:w3,FreedomSworn:O3,HaranGeppakuFutsu:M3,HarbingerOfDawn:F3,IronSting:K3,KagotsurubeIsshin:U3,KeyOfKhajNisut:eO,LightOfFoliarIncision:cO,LionsRoar:lO,MistsplitterReforged:wO,PrimordialJadeCutter:SO,PrototypeRancour:AO,RoyalLongsword:MO,SacrificialSword:IO,SapwoodBlade:KO,SilverSword:zO,SkyriderSword:QO,SkywardBlade:t8,SplendorOfTranquilWaters:r8,SummitShaper:f8,SwordOfDescension:k8,SwordOfNarzissenkreuz:S8,TheAlleyFlash:x8,TheBlackSword:R8,TheDockhandsAssistant:W8,TheFlute:K8,ToukabouShigure:J8,TravelersHandySword:Z8,UrakuMisugiri:c6,WolfFang:p6,XiphosMoonlight:f6},Mh={...g6,...gS,...pb,...Bf,...W2},w6=Object.fromEntries(Kh.map(t=>[t,Qo(Object.values(Mh).filter(w=>w.weaponType===t).map(w=>({display:w.data.display})))]));function y6(t){return Mh[t]}export{s as W,y6 as g};
