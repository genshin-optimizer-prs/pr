import{c as m,j as p,r as _,a as K,i as S,u as b,f as r,ak as z,d as M,e as j,aA as k,a5 as T,be as D,q as o,aP as V,Q as E,d8 as I,az as q,$ as A}from"./index-59c4fd80.js";import{c as N,j as R}from"./LocationName-f05c2951.js";import{g as H}from"./index-b5c4e079.js";const J=m(p.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock"),Q=m(p.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");var u={},$=S;Object.defineProperty(u,"__esModule",{value:!0});var w=u.default=void 0,O=$(_()),B=K(),F=(0,O.default)((0,B.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");w=u.default=F;function U({location:y,setLocation:x,filter:h=()=>!0,autoCompleteProps:C={}}){const{t:s}=b(["ui","artifact","sillyWisher_charNames","charNames_gen"]),{silly:c}=r.useContext(z),a=M(),{gender:l}=j(),n=r.useCallback(e=>t=>s(`${e?"sillyWisher_charNames":"charNames_gen"}:${k(a.chars.LocationToCharacterKey(t),l)}`),[a,l,s]),[f,d]=T();r.useEffect(()=>a.arts.followAny(()=>d()),[a,d]);const i=r.useMemo(()=>f&&a.chars.keys.map(e=>D(e)),[f,a]),L=r.useCallback(e=>e===""?o(R,{}):o(E,{sx:{opacity:i.includes(e)?void 0:.7},children:o(V,{characterKey:a.chars.LocationToCharacterKey(e)})}),[a,i]),v=r.useCallback(e=>e==="Traveler"?I.some(t=>a.charMeta.get(t).favorite):e?a.charMeta.get(e).favorite:!1,[a]),g=r.useMemo(()=>[{key:"",label:s`artifact:filterLocation.inventory`},...Array.from(new Set(q.filter(e=>h(H(a.chars.LocationToCharacterKey(e),l))))).map(e=>({key:e,label:n(c)(e),favorite:v(e),alternateNames:c?[n(!c)(e)]:void 0,color:i.includes(e)?void 0:"secondary"})).sort((e,t)=>e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:!e.color&&t.color?-1:e.color&&!t.color?1:e.label.localeCompare(t.label))],[s,a.chars,l,i,h,n,c,v]);return o(r.Suspense,{fallback:o(A,{variant:"text",width:100}),children:o(N,{size:"small",options:g,valueKey:y,onChange:e=>x(e??""),toImg:L,...C})})}export{J as L,Q as a,U as b,w as d};
