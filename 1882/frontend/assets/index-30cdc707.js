import{cc as jh,p as H,I as Fh,ax as d,o as p,bH as $,f as v,cF as Nh,cE as Wh,h as Hh}from"./index-e908e7f8.js";import{y as Gh,p as e,Y as g,i as w,O as u,K as f,s as P,a2 as a,W as i,v as Xo,Q as Kh,X as m,Z as h,N as t,_,L as c,P as l,a3 as y,k as ne,I as S,a4 as Ge,H as Yo,$ as te,F as A,t as Zo,a1 as Da,M as b,a5 as Lh}from"./index-4f673858.js";import{C as Re}from"./ColoredText-beef9b0a.js";import{S as qh}from"./SqBadge-e4af8b63.js";const es=class{constructor(n,k,N,x){this.passiveDescription=da=>this.hasRefinement?this.tr(`passiveDescription.${da}`):"",this.rarity=N.rarity,this.weaponType=N.weaponType,this.key=n,this.sheet=k,this.data=x}static trm(n){return g("weapon",n)[1]}static tr(n){return g("weapon",n)[0]}static getAllDataOfType(n){return k8[n]}get tr(){return es.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=es;s.getWeaponsOfType=(n,k)=>Object.fromEntries(Object.entries(n).filter(([N,x])=>x.weaponType===k));s.getLevelString=n=>jh(n.level,n.ascension);function o(n,k){const N=s.tr(n);return{title:N("passiveName"),icon:x=>H(Fh,{size:2,src:Gh(n,x.get(e.weapon.asc).value>=2)}),action:k&&H(qh,{color:"success",children:k}),description:x=>N(`passiveDescription.${x.get(e.weapon.refinement).value-1}`)}}function r(n,k,N={},x={}){const da={base:{},premod:{},total:{},weapon:{key:w(n),type:w(k.weaponType)},display:{[`weapon:${n}`]:x}},{mainStat:oe,subStat:W}=k,ra=[da];if(oe.type!=="atk"&&oe.type!=="def"&&oe.type!=="hp")throw new Error("Main stat type must be `atk`");const Ih=u(P(i(oe.base,a(e.weapon.lvl,d.weapon.expCurve[oe.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),f.info(oe.type));if(ra.push({base:{[oe.type]:e.weapon.main},weapon:{main:Ih}}),W){if(W.type==="atk"||W.type==="def"||W.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Ch=u(i(W.base,a(e.weapon.lvl,d.weapon.expCurve[W.curve])),f.info(W.type));ra.push({premod:{[W.type]:e.weapon.sub},weapon:{sub:Ch}})}return Xo([...ra,Kh(N,n)])}const Ke="AlleyHunter",ns=d.weapon.data[Ke],[,zh]=g("weapon",Ke),Uh=[-1,.02,.025,.03,.035,.04],[Vh,ts]=m(Ke,"OppidanAmbush"),as=h(ts,{...p($(1,10),n=>i(a(e.weapon.refinement,Uh),n))},_),Jh=r(Ke,ns,{premod:{all_dmg_:as}}),Qh={document:[{value:ts,path:Vh,header:o(Ke,t("conditional")),name:zh("condName"),states:Object.fromEntries($(1,10).map(n=>[n,{name:t("seconds",{count:n}),fields:[{node:as}]}]))}]},Xh=new s(Ke,Qh,ns,Jh),ce="AmosBow",os=d.weapon.data[ce],[,Yh]=g("weapon",ce),ss=[-1,.12,.15,.18,.21,.24],Zh=[-1,.08,.1,.12,.14,.16],[e1,Ta]=m(ce,"StrongWilled"),cs=a(e.weapon.refinement,ss,f.info("normal_dmg_")),ds=a(e.weapon.refinement,ss,f.info("charged_dmg_")),rs=a(e.weapon.refinement,Zh),is=h(Ta,{...p($(1,5),n=>i(rs,n))},_,f.info("normal_dmg_")),ms=h(Ta,{...p($(1,5),n=>i(rs,n))},_,f.info("charged_dmg_")),n1=r(ce,os,{premod:{normal_dmg_:P(cs,is),charged_dmg_:P(ds,ms)}}),t1={document:[{header:o(ce,t("base")),fields:[{node:cs},{node:ds}]},{value:Ta,path:e1,header:o(ce,t("stacks")),name:Yh("condName"),states:p($(1,5),n=>({name:t("seconds",{count:n/10}),fields:[{node:is},{node:ms}]}))}]},a1=new s(ce,t1,os,n1),de="AquaSimulacra",ls=d.weapon.data[de],[,o1]=g("weapon",de),s1=[-1,.16,.2,.24,.28,.32],c1=[-1,.2,.25,.3,.35,.4],[d1,$s]=m(de,"passive"),ps=a(e.weapon.refinement,s1),hs=c($s,"on",a(e.weapon.refinement,c1)),r1=r(de,ls,{premod:{hp_:ps,all_dmg_:hs}}),i1={document:[{header:o(de,t("base")),fields:[{node:ps}]},{value:$s,path:d1,header:o(de,t("conditional")),name:o1("condName"),states:{on:{fields:[{node:hs}]}}}]},m1=new s(de,i1,ls,r1),fn="BlackcliffWarbow",us=d.weapon.data[fn],l1=[-1,.12,.15,.18,.21,.24],[$1,_s]=m(fn,"PressTheAdvantage"),fs=h(_s,{...p($(1,3),n=>i(a(e.weapon.refinement,l1),n))},_),p1=r(fn,us,{premod:{atk_:fs}}),h1={document:[{value:_s,path:$1,header:o(fn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries($(1,3).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:fs},{text:l("duration"),value:30,unit:"s"}]}]))}]},u1=new s(fn,h1,us,p1),gn="CompoundBow",gs=d.weapon.data[gn],_1=[-1,.04,.05,.06,.07,.08],f1=[-1,.012,.015,.018,.021,.024],[g1,Ra]=m(gn,"InfusionArrow"),ws=h(Ra,{...p($(1,4),n=>i(a(e.weapon.refinement,_1),n))},_),ks=h(Ra,{...p($(1,4),n=>i(a(e.weapon.refinement,f1),n))},_),w1=r(gn,gs,{premod:{atk_:ws,atkSPD_:ks}}),k1={document:[{value:Ra,path:g1,header:o(gn,t("stacks")),name:t("hitOp.normalOrCharged"),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:ws},{node:ks}]}]))}]},v1=new s(gn,k1,gs,w1),re="ElegyForTheEnd",[,y1]=g("weapon",re),vs=d.weapon.data[re],P1=[-1,60,75,90,105,120],S1=[-1,100,125,150,175,200],b1=[-1,.2,.25,.3,.35,.4],[O1,Ia]=m(re,"ThePartingRefrain"),ys=a(e.weapon.refinement,P1,f.info("eleMas")),Ps=c(Ia,"on",a(e.weapon.refinement,S1,f.info("eleMas"))),Ss=c(Ia,"on",a(e.weapon.refinement,b1)),B1=r(re,vs,{premod:{eleMas:ys},teamBuff:{premod:{atk_:Ss,eleMas:Ps}}}),E1={document:[{header:o(re,t("base")),fields:[{node:ys}]},{value:Ia,path:O1,teamBuff:!0,header:o(re,t("conditional")),name:y1("condName"),states:{on:{fields:[{node:Ps},{node:Ss},{text:l("duration"),value:12,unit:"s"}]}}}]},A1=new s(re,E1,vs,B1),wn="EndOfTheLine",bs=d.weapon.data[wn],x1=[-1,.8,1,1.2,1.4,1.6],Os=c(e.weapon.key,wn,y(i(a(e.weapon.refinement,x1,{unit:"%"}),e.total.atk),"elemental")),M1=r(wn,bs,void 0,{dmg:Os}),D1={document:[{header:o(wn,t("base")),fields:[{node:u(Os,{name:t("dmg")})}]}]},T1=new s(wn,D1,bs,M1),Le="FadingTwilight",Bs=d.weapon.data[Le],[,Lo]=g("weapon",Le),[R1,Es]=m(Le,"state"),As={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},xs=h(Es,As,_),I1=r(Le,Bs,{premod:{all_dmg_:xs}}),C1={document:[{value:Es,path:R1,header:o(Le,t("conditional")),name:Lo("condName"),states:Object.fromEntries(Object.keys(As).map(n=>[n,{name:Lo(`states.${n}`),fields:[{node:xs}]}]))}]},j1=new s(Le,C1,Bs,I1),Rt="FavoniusWarbow",Ms=d.weapon.data[Rt],F1=r(Rt,Ms),N1={document:[{header:o(Rt),fields:[]}]},W1=new s(Rt,N1,Ms,F1),ie="Hamayumi",Ds=d.weapon.data[ie],[,H1]=g("weapon",ie),Ts=[-1,.16,.2,.24,.28,.32],Rs=[-1,.12,.15,.18,.21,.24],Is=a(e.weapon.refinement,Ts,f.info("normal_dmg_")),Cs=a(e.weapon.refinement,Rs,f.info("charged_dmg_")),[G1,Ca]=m(ie,"FullDraw"),js=c(Ca,"on",a(e.weapon.refinement,Ts,f.info("normal_dmg_"))),Fs=c(Ca,"on",a(e.weapon.refinement,Rs,f.info("charged_dmg_"))),K1=r(ie,Ds,{premod:{normal_dmg_:P(Is,js),charged_dmg_:P(Cs,Fs)}}),L1={document:[{header:o(ie,t("base")),fields:[{node:Is},{node:Cs}]},{value:Ca,path:G1,name:H1("condName"),header:o(ie,t("conditional")),states:{on:{fields:[{node:js},{node:Fs}]}}}]},q1=new s(ie,L1,Ds,K1),ja="HuntersBow",Fa=d.weapon.data[ja],z1=r(ja,Fa),U1={...Fa,document:[]},V1=new s(ja,U1,Fa,z1),Ie="HuntersPath",Ns=d.weapon.data[Ie],J1=[-1,.12,.15,.18,.21,.24],Ws=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,J1,{unit:"%"})])),Q1=[-1,1.6,2,2.4,2.8,3.2],[X1,Hs]=m(Ie,"passive"),Gs=c(Hs,"on",i(a(e.weapon.refinement,Q1,{unit:"%"}),e.total.eleMas)),Y1=r(Ie,Ns,{premod:{...Ws,charged_dmgInc:Gs}}),Z1={document:[{header:o(Ie,t("base")),fields:Object.values(Ws).map(n=>({node:n}))},{value:Hs,path:X1,header:o(Ie,t("conditional")),name:t("hitOp.charged"),states:{on:{fields:[{node:Gs},{text:l("duration"),value:10,unit:"s"},{text:t("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},eu=new s(Ie,Z1,Ns,Y1),kn="IbisPiercer",Ks=d.weapon.data[kn],Ls=$(1,2),nu=[-1,40,50,60,70,80],[tu,qs]=m(kn,"passiveStacks"),zs=h(qs,p(Ls,n=>i(a(e.weapon.refinement,nu),n)),_),au=r(kn,Ks,{premod:{eleMas:zs}}),ou={document:[{value:qs,path:tu,header:o(kn,t("stacks")),name:t("hitOp.charged"),states:Object.fromEntries(Ls.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zs},{text:l("duration"),value:6,unit:"s"}]}]))}]},su=new s(kn,ou,Ks,au),me="KingsSquire",Us=d.weapon.data[me],[cu,Vs]=m(me,"passive"),du=[-1,60,80,100,120,140],Js=c(Vs,"on",a(e.weapon.refinement,du)),ru=[-1,1,1.2,1.4,1.6,1.8],Qs=c(e.weapon.key,me,y(i(a(e.weapon.refinement,ru,{unit:"%"}),e.total.atk),"elemental")),iu=r(me,Us,{premod:{eleMas:Js}},{dmg:Qs}),mu={document:[{header:o(me,t("base")),fields:[{node:u(Qs,{name:t("dmg")})}]},{value:Vs,path:cu,header:o(me,t("conditional")),name:t("afterUse.skillOrBurst"),states:{on:{fields:[{node:Js},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},lu=new s(me,mu,Us,iu),vn="Messenger",Xs=d.weapon.data[vn],$u=[-1,1,1.25,1.5,1.75,2],Ys=c(e.weapon.key,vn,y(i(a(e.weapon.refinement,$u),e.total.atk),"elemental",{hit:{ele:w("physical")}})),pu=r(vn,Xs,void 0,{dmg:Ys}),hu={document:[{header:o(vn,t("base")),fields:[{node:u(Ys,{name:t("dmg")})}]}]},uu=new s(vn,hu,Xs,pu),le="MitternachtsWaltz",Zs=d.weapon.data[le],_u=[-1,.2,.25,.3,.35,.4],fu=[-1,.2,.25,.3,.35,.4],[gu,ec]=m(le,"EvernightDuetSkill"),[wu,nc]=m(le,"EvernightDuetNormal"),tc=c(ec,"on",a(e.weapon.refinement,_u)),ac=c(nc,"on",a(e.weapon.refinement,fu)),ku=r(le,Zs,{premod:{skill_dmg_:tc,normal_dmg_:ac}}),vu={document:[{value:nc,path:wu,header:o(le,t("conditional")),name:t("hitOp.skill"),states:{on:{fields:[{node:ac},{text:l("duration"),value:5,unit:"s"}]}}},{value:ec,path:gu,header:o(le,t("conditional")),name:t("hitOp.normal"),states:{on:{fields:[{node:tc},{text:l("duration"),value:5,unit:"s"}]}}}]},yu=new s(le,vu,Zs,ku),qe="MouunsMoon",oc=d.weapon.data[qe],[,Pu]=g("weapon",qe),[Su,sc]=m(qe,"WatatsumiWavewalker"),cc=$(4,36).map(n=>n*10),bu=[-1,.0012,.0015,.0018,.0021,.0024],Ou=[-1,.4,.5,.6,.7,.8],dc=h(sc,Object.fromEntries(cc.map(n=>[n,ne(i(a(e.weapon.refinement,bu,{unit:"%"}),n),a(e.weapon.refinement,Ou,{unit:"%"}))])),_),Bu=r(qe,oc,{premod:{burst_dmg_:dc}}),Eu={document:[{value:sc,path:Su,header:o(qe,t("conditional")),name:Pu("party"),states:Object.fromEntries(cc.map(n=>[n,{name:n.toString(),fields:[{node:dc}]}]))}]},Au=new s(qe,Eu,oc,Bu),$e="PolarStar",rc=d.weapon.data[$e],[,xu]=g("weapon",$e),ic=[-1,.12,.15,.18,.21,.24],Mu=[-1,.1,.125,.15,.175,.2],Du=[-1,.2,.25,.3,.35,.4],Tu=[-1,.3,.375,.45,.528,.6],Ru=[-1,.48,.6,.72,.84,.96],[Iu,mc]=m($e,"GoldenMajesty"),lc=a(e.weapon.refinement,ic),$c=a(e.weapon.refinement,ic),pc=h(mc,{1:a(e.weapon.refinement,Mu),2:a(e.weapon.refinement,Du),3:a(e.weapon.refinement,Tu),4:a(e.weapon.refinement,Ru)},_),Cu=r($e,rc,{premod:{skill_dmg_:lc,burst_dmg_:$c,atk_:pc}}),ju={document:[{header:o($e,t("base")),fields:[{node:lc},{node:$c}]},{value:mc,path:Iu,header:o($e,t("stacks")),name:xu("condName"),states:p($(1,4),n=>({name:t("stack",{count:n}),fields:[{node:pc}]}))}]},Fu=new s($e,ju,rc,Cu),yn="Predator",hc=d.weapon.data[yn],Nu=S(.1),Wu=S(.1),[Hu,Na]=m(yn,"PressTheAdvantage"),uc=h(Na,{...p($(1,2),n=>i(Nu,n))},_),_c=h(Na,{...p($(1,2),n=>i(Wu,n))},_),Gu=c(e.activeCharKey,"Aloy",66),Ku=r(yn,hc,{premod:{normal_dmg_:uc,charged_dmg_:_c,atk:Gu}}),Lu={document:[{value:Na,path:Hu,header:o(yn,t("stacks")),name:t("hitOp.cryo"),states:Object.fromEntries($(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:uc},{node:_c},{text:l("duration"),value:6,unit:"s"}]}]))}]},qu=new s(yn,Lu,hc,Ku),Pn="PrototypeCrescent",fc=d.weapon.data[Pn],zu=[-1,.36,.45,.54,.63,.72],[Uu,Wa]=m(Pn,"Unreturning"),gc=c(Wa,"on",a(e.weapon.refinement,zu)),wc=c(Wa,"on",S(.1)),Vu=r(Pn,fc,{premod:{atk_:gc,moveSPD_:wc}}),Ju={document:[{value:Wa,path:Uu,header:o(Pn,t("conditional")),name:t("hitOp.weakSpot"),states:{on:{fields:[{node:gc},{node:wc},{text:l("duration"),value:10,unit:"s"}]}}}]},Qu=new s(Pn,Ju,fc,Vu),ze="RangeGauge",kc=d.weapon.data[ze],[,Xu]=g("weapon",ze),Yu=[-1,.03,.04,.05,.06,.07],Zu=[-1,.07,.085,.1,.115,.13],[e_,Ha]=m(ze,"marksConsumed"),Ga=$(1,3),vc=h(Ha,p(Ga,n=>i(n,a(e.weapon.refinement,Yu,{unit:"%"}))),_),n_=h(Ha,p(Ga,n=>i(n,a(e.weapon.refinement,Zu,{unit:"%"}))),_),yc=p(v.map(n=>`${n}_dmg_`),()=>({...n_})),t_=r(ze,kc,{premod:{atk_:vc,...yc}}),a_={document:[{value:Ha,path:e_,teamBuff:!0,header:o(ze,t("stacks")),name:Xu("condName"),states:p(Ga,n=>({name:`${n}`,fields:[{node:vc},...Object.values(yc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},o_=new s(ze,a_,kc,t_),Sn="RavenBow",Pc=d.weapon.data[Sn],s_=[-1,.12,.15,.18,.21,.24],[c_,Sc]=m(Sn,"BaneOfFlameAndWater"),bc=c(Sc,"on",a(e.weapon.refinement,s_)),d_=r(Sn,Pc,{premod:{all_dmg_:bc}}),r_={document:[{value:Sc,path:c_,name:t("enemyAffected.hydroOrPyro"),header:o(Sn,t("conditional")),states:{on:{fields:[{node:bc}]}}}]},i_=new s(Sn,r_,Pc,d_),bn="RecurveBow",Oc=d.weapon.data[bn],m_=[-1,.08,.1,.12,.14,.16],Bc=c(e.weapon.key,bn,Ge(i(e.total.hp,a(e.weapon.refinement,m_)))),l_=r(bn,Oc,void 0,{healing:Bc}),$_={document:[{header:o(bn,t("base")),fields:[{node:u(Bc,{name:l("healing"),variant:"heal"})}]}]},p_=new s(bn,$_,Oc,l_),On="RoyalBow",Ec=d.weapon.data[On],h_=[-1,.08,.1,.12,.14,.16],[u_,Ac]=m(On,"Focus"),xc=h(Ac,{...p($(1,5),n=>i(a(e.weapon.refinement,h_),n))},_),__=r(On,Ec,{premod:{critRate_:xc}}),f_={document:[{value:Ac,path:u_,header:o(On,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xc}]}]))}]},g_=new s(On,f_,Ec,__),It="Rust",Mc=d.weapon.data[It],w_=[-1,.4,.5,.6,.7,.8],Dc=a(e.weapon.refinement,w_),Tc=w(-.1),k_=r(It,Mc,{premod:{normal_dmg_:Dc,charged_dmg_:Tc}}),v_={document:[{header:o(It,t("base")),fields:[{node:Dc},{node:Tc}]}]},y_=new s(It,v_,Mc,k_),Ct="SacrificialBow",Rc=d.weapon.data[Ct],P_=r(Ct,Rc),S_={document:[{header:o(Ct),fields:[]}]},b_=new s(Ct,S_,Rc,P_),pe="ScionOfTheBlazingSun",Ic=d.weapon.data[pe],[,qo]=g("weapon",pe),O_=[-1,.6,.75,.9,1.05,1.2],B_=[-1,.28,.35,.42,.49,.56],E_=y(i(a(e.weapon.refinement,O_,{unit:"%"}),e.total.atk),"elemental"),[A_,Cc]=m(pe,"afterHit"),jc=c(Cc,"on",a(e.weapon.refinement,B_)),x_=r(pe,Ic,{premod:{charged_dmg_:jc}}),M_={document:[{header:o(pe,t("dmg")),fields:[{node:u(E_,{name:qo("dmg")})}]},{header:o(pe,t("conditional")),path:A_,value:Cc,name:qo("condName"),states:{on:{fields:[{node:jc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},D_=new s(pe,M_,Ic,x_),Ka="SeasonedHuntersBow",La=d.weapon.data[Ka],T_=r(Ka,La),R_={...La,document:[]},I_=new s(Ka,R_,La,T_),jt="SharpshootersOath",Fc=d.weapon.data[jt],C_=[-1,.24,.3,.36,.42,.48],Nc=a(e.weapon.refinement,C_),j_=r(jt,Fc,{premod:{weakspotDMG_:Nc}}),F_={document:[{header:o(jt,t("base")),fields:[{node:Nc}]}]},N_=new s(jt,F_,Fc,j_),Bn="SkywardHarp",Wc=d.weapon.data[Bn],W_=[-1,.2,.25,.3,.35,.4],H_=S(1.25),Hc=a(e.weapon.refinement,W_),Gc=c(e.weapon.key,Bn,y(i(H_,e.total.atk),"elemental",{hit:{ele:w("physical")}})),G_=r(Bn,Wc,{premod:{critDMG_:Hc}},{dmg:Gc}),K_={document:[{header:o(Bn,t("base")),fields:[{node:Hc},{node:u(Gc,{name:t("dmg")})}]}]},L_=new s(Bn,K_,Wc,G_),Ue="Slingshot",Kc=d.weapon.data[Ue],[,zo]=g("weapon",Ue),q_=[-1,.36,.42,.48,.54,.6],[z_,Lc]=m(Ue,"Slingshot"),U_=["less","more"],qa=h(Lc,{less:a(e.weapon.refinement,q_,f.info("normal_dmg_")),more:S(-.1,f.info("normal_dmg_"))},_),qc={...qa},V_=r(Ue,Kc,{premod:{normal_dmg_:qa,charged_dmg_:qc}}),J_={document:[{value:Lc,path:z_,header:o(Ue,t("conditional")),name:zo("condName"),states:p(U_,n=>({name:zo(n),fields:[{node:qa},{node:qc}]}))}]},Q_=new s(Ue,J_,Kc,V_),En="SongOfStillness",zc=d.weapon.data[En],X_=[-1,.16,.2,.24,.28,.32],[Y_,Uc]=m(En,"afterHeal"),Vc=c(Uc,"on",a(e.weapon.refinement,X_)),Z_=r(En,zc,{premod:{all_dmg_:Vc}}),ef={document:[{header:o(En,t("conditional")),path:Y_,value:Uc,name:t("afterHeal"),states:{on:{fields:[{node:Vc},{text:l("duration"),value:8,unit:"s"}]}}}]},nf=new s(En,ef,zc,Z_),_n="TheFirstGreatMagic",Jc=d.weapon.data[_n],tf=[-1,.16,.2,.24,.28,.32],ia=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],ma=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Uo=h(e.charEle,A,_),la=P(...v.map(n=>Yo(A[n],1,te(n,e.charEle,A[n])))),Qc=a(e.weapon.refinement,tf),Xc=Zo(Uo,3,a(e.weapon.refinement,ia[2]),Da(Uo,2,a(e.weapon.refinement,ia[1]),a(e.weapon.refinement,ia[0]))),pa=Zo(la,3,a(e.weapon.refinement,ma[2]),Da(la,2,a(e.weapon.refinement,ma[1]),c(la,1,a(e.weapon.refinement,ma[0])))),af=r(_n,Jc,{premod:{charged_dmg_:Qc,atk_:Xc,moveSPD_:pa}}),of={document:[{header:o(_n,t("base")),fields:[{node:Qc}]},{header:o(_n,t("stacks")),fields:[{node:Xc},{canShow:n=>n.get(pa).value>0,node:pa}]}]},sf=new s(_n,of,Jc,af),Ft="TheStringless",Yc=d.weapon.data[Ft],Zc=[-1,.24,.3,.36,.42,.48],ed=a(e.weapon.refinement,Zc),nd=a(e.weapon.refinement,Zc),cf=r(Ft,Yc,{premod:{skill_dmg_:ed,burst_dmg_:nd}}),df={document:[{header:o(Ft,t("base")),fields:[{node:ed},{node:nd}]}]},rf=new s(Ft,df,Yc,cf),An="TheViridescentHunt",td=d.weapon.data[An],mf=[-1,.4,.5,.6,.7,.8],ad=c(e.weapon.key,An,y(i(a(e.weapon.refinement,mf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),lf=r(An,td,void 0,{dmg:ad}),$f={document:[{header:o(An,t("base")),fields:[{node:u(ad,{name:t("dmg")})}]}]},pf=new s(An,$f,td,lf),he="ThunderingPulse",od=d.weapon.data[he],[,hf]=g("weapon",he),uf=[-1,.2,.25,.3,.35,.4],_f=[-1,.12,.15,.18,.21,.24],ff=[-1,.24,.3,.36,.42,.48],gf=[-1,.4,.5,.6,.7,.8],[wf,sd]=m(he,"RuleByThunder"),cd=a(e.weapon.refinement,uf),dd=h(sd,{1:a(e.weapon.refinement,_f),2:a(e.weapon.refinement,ff),3:a(e.weapon.refinement,gf)},_),kf=r(he,od,{premod:{atk_:cd,normal_dmg_:dd}}),vf={document:[{header:o(he,t("base")),fields:[{node:cd}]},{value:sd,path:wf,header:o(he,t("stacks")),name:hf("condName"),states:p($(1,3),n=>({name:t("stack",{count:n}),fields:[{node:dd}]}))}]},yf=new s(he,vf,od,kf),xn="WindblumeOde",rd=d.weapon.data[xn],Pf=[-1,.16,.2,.24,.28,.32],[Sf,id]=m(xn,"WindblumeWish"),md=c(id,"on",a(e.weapon.refinement,Pf)),bf=r(xn,rd,{premod:{atk_:md}}),Of={document:[{value:id,path:Sf,name:t("afterUse.skill"),header:o(xn,t("conditional")),states:{on:{fields:[{node:md},{text:l("duration"),value:6,unit:"s"}]}}}]},Bf=new s(xn,Of,rd,bf),Ef={AlleyHunter:Xh,AmosBow:a1,AquaSimulacra:m1,BlackcliffWarbow:u1,CompoundBow:v1,ElegyForTheEnd:A1,FadingTwilight:j1,FavoniusWarbow:W1,Hamayumi:q1,HuntersBow:V1,HuntersPath:eu,IbisPiercer:su,KingsSquire:lu,Messenger:uu,MitternachtsWaltz:yu,MouunsMoon:Au,PolarStar:Fu,Predator:qu,PrototypeCrescent:Qu,RangeGauge:o_,RavenBow:i_,RecurveBow:p_,RoyalBow:g_,Rust:y_,SacrificialBow:b_,ScionOfTheBlazingSun:D_,SeasonedHuntersBow:I_,SharpshootersOath:N_,SkywardHarp:L_,Slingshot:Q_,SongOfStillness:nf,TheFirstGreatMagic:sf,TheStringless:rf,TheViridescentHunt:pf,ThunderingPulse:yf,EndOfTheLine:T1,WindblumeOde:Bf},Ce="AThousandFloatingDreams",ld=d.weapon.data[Ce],Af=[-1,32,40,48,56,64],xf=[-1,.1,.14,.18,.22,.26],Mf=[-1,40,42,44,46,48],$d=h(e.charEle,Object.fromEntries(v.map(n=>[n,u(P(A[n],-1),{asConst:!0})])),_),Df=P(...v.map(n=>A[n])),pd=i($d,a(e.weapon.refinement,Af)),hd=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,i(u(P(Df,-1,i($d,-1)),{asConst:!0}),a(e.weapon.refinement,xf,{unit:"%"})))])),ud=c(e.weapon.key,Ce,a(e.weapon.refinement,Mf),{...f.info("eleMas"),isTeamBuff:!0}),Tf=te(e.charKey,b.charKey,ud),Rf=r(Ce,ld,{premod:{eleMas:pd,...hd},teamBuff:{premod:{eleMas:Tf}}}),If={document:[{header:o(Ce,t("base")),fields:[{node:pd},...Object.values(hd).map(n=>({node:n}))]},{header:o(Ce,t("teamBuff")),teamBuff:!0,fields:[{node:ud}]}]},Cf=new s(Ce,If,ld,Rf),za="ApprenticesNotes",Ua=d.weapon.data[za],jf=r(za,Ua),Ff={...Ua,document:[]},Nf=new s(za,Ff,Ua,jf),Mn="BalladOfTheBoundlessBlue",_d=d.weapon.data[Mn],Wf=[-1,.08,.1,.12,.14,.16],Hf=[-1,.06,.075,.09,.105,.12],[Gf,Va]=m(Mn,"hits"),Ja=$(1,3),fd=h(Va,p(Ja,n=>i(n,a(e.weapon.refinement,Wf,{unit:"%"}))),_),gd=h(Va,p(Ja,n=>i(n,a(e.weapon.refinement,Hf,{unit:"%"}))),_),Kf=r(Mn,_d,{premod:{normal_dmg_:fd,charged_dmg_:gd}}),Lf={document:[{value:Va,path:Gf,teamBuff:!0,header:o(Mn,t("stacks")),name:t("hitOp.normalOrCharged"),states:p(Ja,n=>({name:t("hits",{count:n}),fields:[{node:fd},{node:gd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},qf=new s(Mn,Lf,_d,Kf),Dn="BlackcliffAgate",wd=d.weapon.data[Dn],[zf,kd]=m(Dn,"PressTheAdvantage"),vd=$(1,3),Uf=[-1,.12,.15,.18,.21,.24],yd=i(h(kd,p(vd,n=>w(n)),0),a(e.weapon.refinement,Uf)),Vf=r(Dn,wd,{premod:{atk_:yd}}),Jf={document:[{value:kd,path:zf,header:o(Dn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(vd.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:yd},{text:l("duration"),value:30,unit:"s"}]}]))}]},Qf=new s(Dn,Jf,wd,Vf),z="CashflowSupervision",Qa=d.weapon.data[z],Pd=Qa.refinementBonus.atk_;if(!Pd)throw new Error(`data_gen.refinementBonus.atk_ for ${z} was undefined`);const Xf=[-1,.16,.2,.24,.28,.32],Yf=[-1,.14,.175,.21,.245,.28],Zf=[-1,.08,.1,.12,.14,.16],Sd=c(e.weapon.key,z,a(e.weapon.refinement,Pd)),[eg,Nt]=m(z,"hpChanges"),Xa=$(1,3),bd=h(Nt,p(Xa,n=>i(n,a(e.weapon.refinement,Xf,{unit:"%"}))),_),Od=h(Nt,p(Xa,n=>i(n,a(e.weapon.refinement,Yf,{unit:"%"}))),_),Bd=c(Nt,"3",a(e.weapon.refinement,Zf)),ng=r(z,Qa,{premod:{atk_:Sd,normal_dmg_:bd,charged_dmg_:Od,atkSPD_:Bd}}),tg={document:[{header:o(z,t("base")),fields:[{node:Sd}]},{value:Nt,path:eg,header:o(z,t("stacks")),name:t("hpChange"),states:p(Xa,n=>({name:t("times",{count:n}),fields:[{node:bd},{node:Od},{node:Bd},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},ag=new s(z,tg,Qa,ng),Tn="CranesEchoingCall",Ed=d.weapon.data[Tn],og=[-1,.28,.41,.54,.67,.8],[sg,Ad]=m(Tn,"passive"),xd=c(Ad,"on",a(e.weapon.refinement,og,{unit:"%"})),cg=r(Tn,Ed,{teamBuff:{premod:{plunging_dmg_:xd}}}),dg={document:[{value:Ad,path:sg,header:o(Tn,t("conditional")),name:t("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:xd},{text:l("duration"),value:20,unit:"s"}]}}}]},rg=new s(Tn,dg,Ed,cg),ue="DodocoTales",Md=d.weapon.data[ue],ig=[-1,.16,.2,.24,.28,.32],mg=[-1,.08,.1,.12,.14,.16],[lg,Dd]=m(ue,"DodoventureNormal"),[$g,Td]=m(ue,"DodoventureCharged"),Rd=c("on",Dd,a(e.weapon.refinement,ig)),Id=c("on",Td,a(e.weapon.refinement,mg)),pg=r(ue,Md,{premod:{charged_dmg_:Rd,atk_:Id}}),hg={document:[{value:Dd,path:lg,name:t("hitOp.normal"),header:o(ue,t("conditional")),states:{on:{fields:[{node:Rd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Td,path:$g,name:t("hitOp.charged"),header:o(ue,t("conditional")),states:{on:{fields:[{node:Id},{text:l("duration"),value:6,unit:"s"}]}}}]},ug=new s(ue,hg,Md,pg),Rn="EmeraldOrb",Cd=d.weapon.data[Rn],_g=[-1,.2,.25,.3,.35,.4],[fg,jd]=m(Rn,"Rapids"),Fd=c("on",jd,a(e.weapon.refinement,_g)),gg=r(Rn,Cd,{premod:{atk_:Fd}}),wg={document:[{value:jd,path:fg,name:t("elementalReaction.hydro"),header:o(Rn,t("conditional")),states:{on:{fields:[{node:Fd},{text:l("duration"),value:12,unit:"s"}]}}}]},kg=new s(Rn,wg,Cd,gg),Ae="EverlastingMoonglow",Ya=d.weapon.data[Ae],vg=[-1,.01,.015,.02,.025,.03],[,yg]=g("weapon",Ae),ha=c(e.weapon.key,Ae,i(a(e.weapon.refinement,vg,{unit:"%"}),e.premod.hp)),Nd=Ya.refinementBonus.heal_;if(!Nd)throw new Error(`data_gen.refinementBonus.heal_ for ${Ae} was undefined`);const Wd=a(e.weapon.refinement,Nd),Pg=r(Ae,Ya,{premod:{normal_dmgInc:ha,heal_:Wd}},{normal_dmgInc:ha}),Sg={document:[{header:o(Ae,t("base")),fields:[{node:Wd},{text:yg("name"),node:ha}]}]},bg=new s(Ae,Sg,Ya,Pg),In="EyeOfPerception",Hd=d.weapon.data[In],Og=[-1,2.4,2.7,3,3.3,3.6],Gd=c(e.weapon.key,In,y(i(a(e.weapon.refinement,Og,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Bg=r(In,Hd,void 0,{dmg_:Gd}),Eg={document:[{header:o(In,t("base")),fields:[{node:u(Gd,{name:t("dmg")})}]}]},Ag=new s(In,Eg,Hd,Bg),Wt="FavoniusCodex",Kd=d.weapon.data[Wt],xg=r(Wt,Kd),Mg={document:[{header:o(Wt),fields:[]}]},Dg=new s(Wt,Mg,Kd,xg),I="FlowingPurity",Ld=d.weapon.data[I],[,Tg]=g("weapon",I),Rg=[-1,.08,.1,.12,.14,.16],Ig=[-1,.02,.025,.03,.035,.04],Cg=[-1,.12,.15,.18,.21,.24],[jg,qd]=m(I,"afterSkill"),Fg=c(qd,"on",a(e.weapon.refinement,Rg)),Za=v.map(n=>`${n}_dmg_`),zd=p(Za,n=>u({...Fg},f.info(n))),Ng=i(S(.24),e.total.hp),[Wg,Ud]=m(I,"bond"),Hg=c(e.weapon.key,I,c(Ud,"on",ne(i(a(e.weapon.refinement,Ig,{unit:"%"}),i(Ng,S(1/1e3))),a(e.weapon.refinement,Cg,{unit:"%"})))),ua=p(Za,n=>u({...Hg},f.info(n))),Gg=r(I,Ld,{premod:{...p(Za,n=>P(zd[n],ua[n]))}},ua),Kg={document:[{header:o(I,t("conditional")),path:jg,value:qd,name:t("hitOp.skill"),states:{on:{fields:[...Object.values(zd).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(I,t("conditional")),path:Wg,value:Ud,name:Tg("bondCondName"),states:{on:{fields:[...Object.values(ua).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"}]}}}]},Lg=new s(I,Kg,Ld,Gg),G="Frostbearer",Vd=d.weapon.data[G],qg=[-1,.8,.95,1.1,1.25,1.4],zg=[-1,2,2.4,2.8,3.2,3.6],Jd=c(e.weapon.key,G,y(i(a(e.weapon.refinement,qg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Qd=c(e.weapon.key,G,y(i(a(e.weapon.refinement,zg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ug=r(G,Vd,void 0,{dmgAoe:Jd,dmgOnCryoOp:Qd}),Vg={document:[{header:o(G,t("base")),fields:[{node:u(Jd,{name:s.trm(G)("aoeDmg")})},{node:u(Qd,{name:s.trm(G)("cryoAffectedDmg")})}]}]},Jg=new s(G,Vg,Vd,Ug),Ve="FruitOfFulfillment",Xd=d.weapon.data[Ve],[,Qg]=g("weapon",Ve),Xg=[-1,24,27,30,33,36],[Yg,eo]=m(Ve,"stacks"),no=$(1,5),Yd=h(eo,Object.fromEntries(no.map(n=>[n,i(a(e.weapon.refinement,Xg),n)])),_),Zd=h(eo,Object.fromEntries(no.map(n=>[n,i(S(-.05),n)])),_),Zg=r(Ve,Xd,{premod:{eleMas:Yd,atk_:Zd}}),ew={document:[{teamBuff:!0,header:o(Ve,t("stacks")),path:Yg,value:eo,name:Qg("stackName"),states:Object.fromEntries(no.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Yd},{node:Zd}]}]))}]},nw=new s(Ve,ew,Xd,Zg),Cn="HakushinRing",er=d.weapon.data[Cn],tw=[-1,.1,.125,.15,.175,.2],[aw,ae]=m(Cn,"SakuraSaiguu"),xe=a(e.weapon.refinement,tw),nr=c("anemo",ae,xe),tr=c("cryo",ae,xe),ar=c("geo",ae,xe),or=c("hydro",ae,xe),sr=c("pyro",ae,xe),cr=c("dendro",ae,xe),ow=c("anemo",b.charEle,nr),sw=c("cryo",b.charEle,tr),cw=c("geo",b.charEle,ar),dw=c("hydro",b.charEle,or),rw=c("pyro",b.charEle,sr),iw=c("dendro",b.charEle,cr),se=te(ae,void 0,xe),mw=c("electro",b.charEle,se),lw=r(Cn,er,{teamBuff:{premod:{anemo_dmg_:ow,cryo_dmg_:sw,electro_dmg_:mw,geo_dmg_:cw,hydro_dmg_:dw,pyro_dmg_:rw,dendro_dmg_:iw}}}),$w={document:[{value:ae,path:aw,name:t("elementalReaction.electro"),teamBuff:!0,header:o(Cn,t("conditional")),states:{anemo:{name:H(Re,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:u(nr,{...f.info("anemo_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:H(Re,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:u(tr,{...f.info("cryo_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:H(Re,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:u(ar,{...f.info("geo_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:H(Re,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:u(sr,{...f.info("pyro_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:H(Re,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:u(or,{...f.info("hydro_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:H(Re,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:u(cr,{...f.info("dendro_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},pw=new s(Cn,$w,er,lw),Me="JadefallsSplendor",dr=d.weapon.data[Me],[,hw]=g("weapon",Me),[uw,rr]=m(Me,"condPassive"),_w=[-1,.003,.005,.007,.009,.011],fw=[-1,.12,.2,.28,.36,.44],gw=c(e.weapon.key,Me,c(rr,"on",ne(a(e.weapon.refinement,fw,{unit:"%"}),i(a(e.weapon.refinement,_w,{unit:"%"}),e.total.hp,1/1e3)))),_a=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(n,e.charEle,gw)])),ww=r(Me,dr,{premod:{..._a}},{..._a}),kw={document:[{header:o(Me,t("conditional")),path:uw,value:rr,name:hw("condName"),states:{on:{fields:[...Object.values(_a).map(n=>({node:n})),{text:l("duration"),value:3,unit:"s"}]}}}]},vw=new s(Me,kw,dr,ww),jn="KagurasVerity",ir=d.weapon.data[jn],[yw,to]=m(jn,"KaguraDance"),mr=$(1,3),lr=[-1,.12,.15,.18,.21,.24],$r=mr.map(n=>c(to,n.toString(),a(e.weapon.refinement,lr.map(k=>k*n)),f.info("skill_dmg_"))),pr=Object.fromEntries(v.map(n=>[n,c(to,"3",a(e.weapon.refinement,lr))])),Pw=r(jn,ir,{premod:{skill_dmg_:P(...$r),...Object.fromEntries(v.map(n=>[`${n}_dmg_`,pr[n]]))}}),Sw={document:[{value:to,path:yw,header:o(jn,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(mr.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:$r[n-1]},...v.map(k=>({node:pr[k]}))]}]))}]},bw=new s(jn,Sw,ir,Pw),je="LostPrayerToTheSacredWinds",hr=d.weapon.data[je],Ow=[-1,.08,.1,.12,.14,.16],[Bw,ur]=m(je,"BoundlessBlessing"),_r=S(.1),Ew=a(e.weapon.refinement,Ow,{unit:"%"}),fr=Object.fromEntries(v.map(n=>[n,h(ur,{...p($(1,4),k=>i(Ew,k))},_)])),Aw=r(je,hr,{premod:{moveSPD_:_r,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,fr[n]]))}}),xw={document:[{header:o(je,t("base")),fields:[{node:_r}]},{value:ur,path:Bw,header:o(je,t("stacks")),name:t("timeOnField"),states:p($(1,4),n=>({name:t("seconds",{count:n*4}),fields:v.map(k=>({node:fr[k]}))}))}]},Mw=new s(je,xw,hr,Aw),Fn="MagicGuide",gr=d.weapon.data[Fn],Dw=[-1,.12,.15,.18,.21,.24],[Tw,wr]=m(Fn,"BaneOfStormAndTide"),kr=c("on",wr,a(e.weapon.refinement,Dw)),Rw=r(Fn,gr,{premod:{all_dmg_:kr}}),Iw={document:[{value:wr,path:Tw,name:t("enemyAffected.hydroOrElectro"),header:o(Fn,t("conditional")),states:{on:{fields:[{node:kr}]}}}]},Cw=new s(Fn,Iw,gr,Rw),Nn="MappaMare",vr=d.weapon.data[Nn],[jw,yr]=m(Nn,"InfusionScroll"),Fw=[-1,.08,.1,.12,.14,.16],Nw=a(e.weapon.refinement,Fw),Pr=Nh(v,n=>[`${n}_dmg_`,h(yr,{...p($(1,2),k=>i(Nw,k))},_)]),Ww=r(Nn,vr,{premod:Pr}),Hw={document:[{value:yr,path:jw,header:o(Nn,t("stacks")),name:t("afterReaction"),states:p($(1,2),n=>({name:t("stack",{count:n}),fields:[...Object.values(Pr).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Gw=new s(Nn,Hw,vr,Ww),M="MemoryOfDust",Sr=d.weapon.data[M],[,Kw]=g("weapon",M),Lw=[-1,.2,.25,.3,.35,.4],qw=[-1,.04,.05,.06,.07,.08],[zw,br]=m(M,"GoldenMajesty"),Or=a(e.weapon.refinement,Lw),[Uw,Br]=m(M,"WithShield"),Vw=a(e.weapon.refinement,qw),Er=i(P(1,c(Br,"protected",1)),h(br,Object.fromEntries($(1,5).map(n=>[n,i(Vw,n)])),_)),Jw=r(M,Sr,{premod:{shield_:Or,atk_:Er}}),Qw={document:[{header:o(M,t("base")),fields:[{node:Or}]},{value:br,path:zw,header:o(M,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Er},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Br,path:Uw,header:o(M,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Kw("atkEffInc"),value:100,unit:"%"}]}}}]},Xw=new s(M,Qw,Sr,Jw),Wn="OathswornEye",Ar=d.weapon.data[Wn],Yw=[-1,.24,.3,.36,.42,.48],[Zw,xr]=m(Wn,"faLight"),ek=a(e.weapon.refinement,Yw),Mr=c("skillBurst",xr,ek),nk=r(Wn,Ar,{premod:{enerRech_:Mr}}),tk={document:[{value:xr,path:Zw,header:o(Wn,t("conditional")),name:t("afterUse.skill"),states:{skillBurst:{fields:[{node:Mr}]}}}]},ak=new s(Wn,tk,Ar,nk),Hn="OtherworldlyStory",Dr=d.weapon.data[Hn],ok=[-1,.01,.0125,.015,.0175,.02],Tr=c(e.weapon.key,Hn,Ge(i(a(e.weapon.refinement,ok,{unit:"%"}),e.total.hp))),sk=r(Hn,Dr,void 0,{heal:Tr}),ck={document:[{header:o(Hn,t("base")),fields:[{node:u(Tr,{name:l("healing"),variant:"heal"})}]}]},dk=new s(Hn,ck,Dr,sk),ao="PocketGrimoire",Rr=d.weapon.data[ao],rk=r(ao,Rr),ik={document:[]},mk=new s(ao,ik,Rr,rk),Je="PrototypeAmber",Ir=d.weapon.data[Je],[lk,$k]=m(Je,"Gliding"),pk=[-1,.04,.045,.05,.055,.06],Cr=c(e.weapon.key,Je,Ge(i(a(e.weapon.refinement,pk,{unit:"%"}),e.total.hp))),hk=r(Je,Ir,void 0,{heal:Cr}),uk={document:[{value:$k,path:lk,name:t("afterUse.burst"),header:o(Je,t("conditional")),states:{on:{fields:[{node:u(Cr,{name:l("healing"),variant:"heal"})}]}}}]},_k=new s(Je,uk,Ir,hk),_e="QuantumCatalyst",jr=d.weapon.data[_e],fk=[-1,.18,.225,.27,.315,.36],gk=[-1,.06,.075,.09,.105,.12],wk=[-1,10,12,14,16,18],Fr=$(1,5),[kk,Nr]=m(_e,"stacks"),Wr=a(e.weapon.refinement,fk),Bt=c(e.weapon.key,_e,i(a(e.weapon.refinement,gk,{unit:"%"}),e.total.eleMas)),fa={...Bt},Hr=h(Nr,p(Fr,n=>i(a(e.weapon.refinement,wk),n)),_),vk=r(_e,jr,{premod:{enerRech_:Wr,normal_dmgInc:Bt,charged_dmgInc:fa,eleMas:Hr}},{normal_dmgInc:Bt,charged_dmgInc:fa}),yk={document:[{header:o(_e,t("base")),fields:[{node:Wr},{node:Bt},{node:fa}]},{value:Nr,path:kk,teamBuff:!0,header:o(_e,t("stacks")),name:t("elementalReaction.electro"),states:p(Fr,n=>({name:t("stack",{count:n}),fields:[{node:Hr},{text:l("duration"),value:12,unit:"s"}]}))}]},Pk=new s(_e,yk,jr,vk),Gn="RoyalGrimoire",Gr=d.weapon.data[Gn],[Sk,Kr]=m(Gn,"stack"),bk=[-1,.08,.1,.12,.14,.16],Lr=h(Kr,p($(1,5),n=>i(a(e.weapon.refinement,bk,{unit:"%"}),n)),_),Ok=r(Gn,Gr,{premod:{critRate_:Lr}}),Bk={document:[{value:Kr,path:Sk,header:o(Gn,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Lr}]}]))}]},Ek=new s(Gn,Bk,Gr,Ok),Ht="SacrificialFragments",qr=d.weapon.data[Ht],Ak=r(Ht,qr),xk={document:[{header:o(Ht),fields:[]}]},Mk=new s(Ht,xk,qr,Ak),Qe="SacrificialJade",zr=d.weapon.data[Qe],[,Dk]=g("weapon",Qe),Tk=[-1,.32,.4,.48,.56,.64],Rk=[-1,40,50,60,70,80],[Ik,oo]=m(Qe,"offField"),Ur=c(oo,"on",a(e.weapon.refinement,Tk)),Vr=c(oo,"on",a(e.weapon.refinement,Rk)),Ck=r(Qe,zr,{premod:{eleMas:Vr,hp_:Ur}}),jk={document:[{teamBuff:!0,header:o(Qe,t("conditional")),path:Ik,value:oo,name:Dk("condOffField"),states:{on:{fields:[{node:Ur},{node:Vr}]}}}]},Fk=new s(Qe,jk,zr,Ck),Kn="SkywardAtlas",Jr=d.weapon.data[Kn],Nk=[-1,.12,.15,.18,.21,.24],Qr=Object.fromEntries(v.map(n=>[n,a(e.weapon.refinement,Nk)])),Wk=[-1,1.6,2,2.4,2.8,3.2],Xr=c(e.weapon.key,Kn,y(i(a(e.weapon.refinement,Wk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Hk=r(Kn,Jr,{premod:{...Object.fromEntries(v.map(n=>[`${n}_dmg_`,Qr[n]]))}},{dmg:Xr}),Gk={document:[{header:o(Kn,t("base")),fields:[...v.map(n=>({node:Qr[n]})),{node:u(Xr,{name:t("dmg")})}]}]},Kk=new s(Kn,Gk,Jr,Hk),fe="SolarPearl",Yr=d.weapon.data[fe],Lk=[-1,.2,.25,.3,.35,.4],[qk,Zr]=m(fe,"solarShineNormal"),[zk,ei]=m(fe,"solarShineSkillBurst"),ni=a(e.weapon.refinement,Lk),so=c("normal",Zr,ni),ti={...so},ai=c("skillBurst",ei,ni),Uk=r(fe,Yr,{premod:{skill_dmg_:so,burst_dmg_:ti,normal_dmg_:ai}}),Vk={document:[{value:Zr,path:qk,header:o(fe,t("conditional")),name:t("hitOp.normal"),states:{normal:{fields:[{node:so},{node:ti}]}}},{value:ei,path:zk,header:o(fe,t("conditional")),name:t("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:ai}]}}}]},Jk=new s(fe,Vk,Yr,Uk),Xe="TheWidsith",oi=d.weapon.data[Xe],[Qk,$a]=g("weapon",Xe),Xk=[-1,.6,.75,.9,1.05,1.2],Yk=[-1,.48,.6,.72,.84,.96],Zk=[-1,240,300,360,420,480],[e2,Gt]=m(Xe,"Debut"),si=c("recitative",Gt,a(e.weapon.refinement,Xk)),ci=Object.fromEntries(v.map(n=>[n,c("aria",Gt,a(e.weapon.refinement,Yk))])),di=c("interlude",Gt,a(e.weapon.refinement,Zk)),n2=r(Xe,oi,{premod:{atk_:si,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,ci[n]])),eleMas:di}}),t2={document:[{value:Gt,path:e2,teamBuff:!0,header:o(Xe,t("conditional")),name:Qk("passiveName"),states:{aria:{name:$a("aria"),fields:[...v.map(n=>({node:ci[n]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:$a("interlude"),fields:[{node:di},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:$a("recitative"),fields:[{node:si},{text:l("duration"),value:10,unit:"s"}]}}}]},a2=new s(Xe,t2,oi,n2),Ye="ThrillingTalesOfDragonSlayers",ri=d.weapon.data[Ye],[,o2]=g("weapon",Ye),s2=[-1,.24,.3,.36,.42,.48],[c2,ii]=m(Ye,"Heritage"),mi=c("on",ii,a(e.weapon.refinement,s2)),d2=te(e.activeCharKey,e.charKey,c(e.activeCharKey,b.charKey,mi)),r2=r(Ye,ri,{teamBuff:{premod:{atk_:d2}}}),i2={document:[{value:ii,path:c2,name:o2("condName"),teamBuff:!0,header:o(Ye,t("conditional")),states:{on:{fields:[{node:u(mi,f.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},m2=new s(Ye,i2,ri,r2),U="TomeOfTheEternalFlow",co=d.weapon.data[U],li=co.refinementBonus.hp_;if(!li)throw new Error(`data_gen.refinementBonus.hp_ for ${U} was undefined`);const l2=[-1,.14,.18,.22,.26,.3],$i=c(e.weapon.key,U,a(e.weapon.refinement,li)),[$2,pi]=m(U,"hpChanges"),hi=$(1,3),ui=h(pi,p(hi,n=>i(n,a(e.weapon.refinement,l2,{unit:"%"}))),_),p2=r(U,co,{premod:{hp_:$i,charged_dmg_:ui}}),h2={document:[{header:o(U,t("base")),fields:[{node:$i}]},{value:pi,path:$2,header:o(U,t("stacks")),name:t("hpChange"),states:p(hi,n=>({name:t("times",{count:n}),fields:[{node:ui},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},u2=new s(U,h2,co,p2),O="TulaytullahsRemembrance",_i=d.weapon.data[O],_2=[-1,.1,.125,.15,.175,.2],f2=[-1,.048,.06,.072,.084,.096],fi=$(1,12),g2=[-1,.096,.12,.144,.168,.192],gi=$(1,5),w2=[-1,.48,.6,.72,.84,.96],wi=c(e.weapon.key,O,a(e.weapon.refinement,_2)),[k2,ki]=m(O,"timePassive"),v2=c(e.weapon.key,O,h(ki,Object.fromEntries(fi.map(n=>[n,i(n,a(e.weapon.refinement,f2,{unit:"%"}))])),_,f.info("normal_dmg_"))),[y2,vi]=m(O,"hitPassive"),P2=c(e.weapon.key,O,h(vi,Object.fromEntries(gi.map(n=>[n,i(n,a(e.weapon.refinement,g2,{unit:"%"}))])),_,f.info("normal_dmg_"))),yi=ne(a(e.weapon.refinement,w2,{unit:"%"}),P(v2,P2)),S2=r(O,_i,{premod:{atkSPD_:wi,normal_dmg_:yi}}),b2={document:[{header:o(O,t("base")),fields:[{node:wi}]},{header:o(O,t("conditional")),fields:[{node:yi}]},{value:ki,path:k2,header:o(O,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(fi.map(n=>[n,{name:t("seconds",{count:n}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:vi,path:y2,header:o(O,t("stacks")),name:t("hitOp.normal"),states:Object.fromEntries(gi.map(n=>[n,{name:t("stack",{count:n}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},O2=new s(O,b2,_i,S2),Ln="TwinNephrite",Pi=d.weapon.data[Ln],Si=[-1,.12,.14,.16,.18,.2],[B2,ro]=m(Ln,"GuerillaTactics"),bi=c("on",ro,a(e.weapon.refinement,Si)),Oi=c("on",ro,a(e.weapon.refinement,Si)),E2=r(Ln,Pi,{premod:{atk_:bi,moveSPD_:Oi}}),A2={document:[{value:ro,path:B2,name:t("afterDefeatEnemy"),header:o(Ln,t("conditional")),states:{on:{fields:[{node:bi},{node:Oi},{text:l("duration"),value:15,unit:"s"}]}}}]},x2=new s(Ln,A2,Pi,E2),ge="WanderingEvenstar",Bi=d.weapon.data[ge],M2=[-1,.24,.3,.36,.42,.48],Et=c(e.weapon.key,ge,i(a(e.weapon.refinement,M2,{unit:"%"}),e.premod.eleMas)),io=c(e.weapon.key,ge,i(S(.3),Et)),D2=te(e.activeCharKey,e.charKey,io),T2=r(ge,Bi,{total:{atk:Et},teamBuff:{total:{atk:D2}}},{selfAtk:Et,teamAtkDisp:io}),R2={document:[{header:o(ge,t("base")),fields:[{node:Et}]},{header:o(ge,t("teamBuff")),teamBuff:!0,fields:[{node:u(io,{...f.info("atk"),isTeamBuff:!0})}]}]},I2=new s(ge,R2,Bi,T2),qn="WineAndSong",Ei=d.weapon.data[qn],C2=[-1,.2,.25,.3,.35,.4],[j2,Ai]=m(qn,"EverChanging"),xi=c("on",Ai,a(e.weapon.refinement,C2)),F2=r(qn,Ei,{premod:{atk_:xi}}),N2={document:[{value:Ai,path:j2,name:t("afterSprint"),header:o(qn,t("conditional")),states:{on:{fields:[{node:xi},{text:l("duration"),value:5,unit:"s"}]}}}]},W2=new s(qn,N2,Ei,F2),H2={ApprenticesNotes:Nf,AThousandFloatingDreams:Cf,BalladOfTheBoundlessBlue:qf,BlackcliffAgate:Qf,CashflowSupervision:ag,CranesEchoingCall:rg,DodocoTales:ug,EmeraldOrb:kg,EverlastingMoonglow:bg,EyeOfPerception:Ag,FavoniusCodex:Dg,FlowingPurity:Lg,Frostbearer:Jg,FruitOfFulfillment:nw,HakushinRing:pw,JadefallsSplendor:vw,KagurasVerity:bw,LostPrayerToTheSacredWinds:Mw,MagicGuide:Cw,MappaMare:Gw,MemoryOfDust:Xw,OathswornEye:ak,OtherworldlyStory:dk,PocketGrimoire:mk,PrototypeAmber:_k,QuantumCatalyst:Pk,RoyalGrimoire:Ek,SacrificialFragments:Mk,SacrificialJade:Fk,SkywardAtlas:Kk,SolarPearl:Jk,TheWidsith:a2,ThrillingTalesOfDragonSlayers:m2,TomeOfTheEternalFlow:u2,TulaytullahsRemembrance:O2,TwinNephrite:x2,WanderingEvenstar:I2,WineAndSong:W2},Ze="Akuoumaru",Mi=d.weapon.data[Ze],[,G2]=g("weapon",Ze),[K2,Di]=m(Ze,"WatatsumiWavewalker"),Ti=$(4,36).map(n=>n*10),L2=[-1,.0012,.0015,.0018,.0021,.0024],q2=[-1,.4,.5,.6,.7,.8],Ri=h(Di,Object.fromEntries(Ti.map(n=>[n,ne(i(a(e.weapon.refinement,L2,{unit:"%"}),n),a(e.weapon.refinement,q2,{unit:"%"}))])),_),z2=r(Ze,Mi,{premod:{burst_dmg_:Ri}}),U2={document:[{value:Di,path:K2,header:o(Ze,t("stacks")),name:G2("party"),states:Object.fromEntries(Ti.map(n=>[n,{name:n.toString(),fields:[{node:Ri}]}]))}]},V2=new s(Ze,U2,Mi,z2),B="BeaconOfTheReedSea",Ii=d.weapon.data[B],J2=[-1,.2,.25,.3,.35,.4],[Q2,Ci]=m(B,"afterSkill"),ji=c(e.weapon.key,B,c(Ci,"on",a(e.weapon.refinement,J2,{...f.info("atk_")}))),X2=[-1,.2,.25,.3,.35,.4],[Y2,Fi]=m(B,"afterDmg"),Ni=c(e.weapon.key,B,c(Fi,"on",a(e.weapon.refinement,X2,{...f.info("atk_")}))),Z2=[-1,.32,.4,.48,.56,.64],[ev,Wi]=m(B,"noShield"),Hi=c(e.weapon.key,B,c(Wi,"on",a(e.weapon.refinement,Z2,{...f.info("hp_")}))),nv=r(B,Ii,{premod:{atk_:P(ji,Ni),hp_:Hi}},{}),tv={document:[{header:o(B,t("conditional")),path:Q2,value:Ci,name:t("hitOp.skill"),states:{on:{fields:[{node:ji},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,t("conditional")),path:Y2,value:Fi,name:t("takeDmg"),states:{on:{fields:[{node:Ni},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,t("conditional")),path:ev,value:Wi,name:t("notProtectedByShield"),states:{on:{fields:[{node:Hi}]}}}]},av=new s(B,tv,Ii,nv),zn="BlackcliffSlasher",Gi=d.weapon.data[zn],[ov,Ki]=m(zn,"PressTheAdvantage"),Li=$(1,3),sv=[-1,.12,.15,.18,.21,.24],qi=i(h(Ki,p(Li,n=>w(n)),0),a(e.weapon.refinement,sv)),cv=r(zn,Gi,{premod:{atk_:qi}}),dv={document:[{value:Ki,path:ov,header:o(zn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Li.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:qi},{text:l("duration"),value:30,unit:"s"}]}]))}]},rv=new s(zn,dv,Gi,cv),Un="BloodtaintedGreatsword",zi=d.weapon.data[Un],iv=[-1,.12,.15,.18,.21,.24],[mv,Ui]=m(Un,"BaneOfFireAndThunder"),Vi=c("on",Ui,a(e.weapon.refinement,iv)),lv=r(Un,zi,{premod:{all_dmg_:Vi}}),$v={document:[{value:Ui,path:mv,name:t("enemyAffected.pyroOrElectro"),header:o(Un,t("conditional")),states:{on:{fields:[{node:Vi}]}}}]},pv=new s(Un,$v,zi,lv),Vn="DebateClub",Ji=d.weapon.data[Vn],hv=[-1,.6,.75,.9,1.05,1.2],Qi=c(e.weapon.key,Vn,y(i(a(e.weapon.refinement,hv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),uv=r(Vn,Ji,void 0,{dmg:Qi}),_v={document:[{header:o(Vn,t("base")),fields:[{node:u(Qi,{name:t("dmg")})}]}]},fv=new s(Vn,_v,Ji,uv),Kt="FavoniusGreatsword",Xi=d.weapon.data[Kt],gv=r(Kt,Xi),wv={document:[{header:o(Kt),fields:[]}]},kv=new s(Kt,wv,Xi,gv),en="FerrousShadow",Yi=d.weapon.data[en],[,Vo]=g("weapon",en),vv=[-1,.3,.35,.4,.45,.5],[yv,Zi]=m(en,"Unbending"),em=c("on",Zi,a(e.weapon.refinement,vv)),Pv=r(en,Yi,{premod:{charged_dmg_:em}}),Sv={document:[{value:Zi,path:yv,name:Vo("condName"),header:o(en,t("conditional")),states:{on:{fields:[{node:em},{text:Vo("resistance")}]}}}]},bv=new s(en,Sv,Yi,Pv),nn="ForestRegalia",nm=d.weapon.data[nn],[,Ov]=g("weapon",nn),[Bv,tm]=m(nn,"passive"),Ev=[-1,60,75,90,105,120],am=c(tm,"on",a(e.weapon.refinement,Ev)),Av=c(e.activeCharKey,b.charKey,am),xv=r(nn,nm,{teamBuff:{premod:{eleMas:Av}}}),Mv={document:[{value:tm,path:Bv,teamBuff:!0,header:o(nn,t("conditional")),name:Ov("condName"),states:{on:{fields:[{node:u(am,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Dv=new s(nn,Mv,nm,xv),Lt="KatsuragikiriNagamasa",om=d.weapon.data[Lt],Tv=[-1,.06,.075,.09,.105,.12],sm=a(e.weapon.refinement,Tv),Rv=r(Lt,om,{premod:{skill_dmg_:sm}}),Iv={document:[{header:o(Lt,t("base")),fields:[{node:sm}]}]},Cv=new s(Lt,Iv,om,Rv),qt="LithicBlade",cm=d.weapon.data[qt],jv=[-1,.07,.08,.09,.1,.11],Fv=[-1,.03,.04,.05,.06,.07],dm=i(a(e.weapon.refinement,jv,{unit:"%"}),A.liyue),rm=i(a(e.weapon.refinement,Fv,{unit:"%"}),A.liyue),Nv=r(qt,cm,{premod:{atk_:dm,critRate_:rm}}),Wv={document:[{header:o(qt,t("stacks")),fields:[{node:dm},{node:rm}]}]},Hv=new s(qt,Wv,cm,Nv),Fe="LuxuriousSeaLord",im=d.weapon.data[Fe],Gv=[-1,.12,.15,.18,.21,.24],Kv=[-1,1,1.25,1.5,1.75,2],mm=a(e.weapon.refinement,Gv),lm=c(e.weapon.key,Fe,y(i(a(e.weapon.refinement,Kv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Lv=r(Fe,im,{premod:{burst_dmg_:mm}},{dmg:lm}),qv={document:[{header:o(Fe,t("base")),fields:[{node:mm}]},{header:o(Fe,t("conditional")),fields:[{node:u(lm,{name:t("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},zv=new s(Fe,qv,im,Lv),tn="MailedFlower",$m=d.weapon.data[tn],[,Uv]=g("weapon",tn),Vv=[-1,.12,.15,.18,.21,.24],Jv=[-1,48,60,72,84,96],[Qv,mo]=m(tn,"passive"),pm=c(mo,"on",a(e.weapon.refinement,Vv,{unit:"%"})),hm=c(mo,"on",a(e.weapon.refinement,Jv)),Xv=r(tn,$m,{premod:{atk_:pm,eleMas:hm}}),Yv={document:[{value:mo,path:Qv,name:Uv("condName"),header:o(tn,t("conditional")),states:{on:{fields:[{node:pm},{node:hm},{text:l("duration"),value:8,unit:"s"}]}}}]},Zv=new s(tn,Yv,$m,Xv),we="MakhairaAquamarine",um=d.weapon.data[we],ey=[-1,.24,.3,.36,.42,.48],At=c(e.weapon.key,we,i(a(e.weapon.refinement,ey,{unit:"%"}),e.premod.eleMas)),lo=c(e.weapon.key,we,i(S(.3),At)),ny=te(e.activeCharKey,e.charKey,lo),ty=r(we,um,{total:{atk:At},teamBuff:{total:{atk:ny}}},{selfAtk:At,teamAtkDisp:lo}),ay={document:[{header:o(we,t("base")),fields:[{node:At}]},{header:o(we,t("teamBuff")),teamBuff:!0,fields:[{node:u(lo,{...f.info("atk"),isTeamBuff:!0})}]}]},oy=new s(we,ay,um,ty),$o="OldMercsPal",_m=d.weapon.data[$o],sy=r($o,_m),cy={document:[]},dy=new s($o,cy,_m,sy),an="PortablePowerSaw",fm=d.weapon.data[an],[,ry]=g("weapon",an),iy=[-1,40,50,60,70,80],[my,gm]=m(an,"symbolsConsumed"),wm=$(1,3),km=h(gm,p(wm,n=>i(n,a(e.weapon.refinement,iy,{unit:"%"}))),_),ly=r(an,fm,{premod:{eleMas:km}}),$y={document:[{value:gm,path:my,teamBuff:!0,header:o(an,t("stacks")),name:ry("condName"),states:p(wm,n=>({name:`${n}`,fields:[{node:km},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},py=new s(an,$y,fm,ly),Jn="PrototypeArchaic",vm=d.weapon.data[Jn],hy=[-1,2.4,3,3.6,4.2,4.8],ym=c(e.weapon.key,Jn,y(i(a(e.weapon.refinement,hy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),uy=r(Jn,vm,void 0,{dmg:ym}),_y={document:[{header:o(Jn,t("base")),fields:[{node:u(ym,{name:t("dmg")})}]}]},fy=new s(Jn,_y,vm,uy),Qn="Rainslasher",Pm=d.weapon.data[Qn],gy=[-1,.2,.24,.28,.32,.36],[wy,Sm]=m(Qn,"BaneOfStormAndTide"),bm=c("on",Sm,a(e.weapon.refinement,gy)),ky=r(Qn,Pm,{premod:{all_dmg_:bm}}),vy={document:[{value:Sm,path:wy,name:t("enemyAffected.hydroOrElectro"),header:o(Qn,t("conditional")),states:{on:{fields:[{node:bm}]}}}]},yy=new s(Qn,vy,Pm,ky),on="RedhornStonethresher",Om=d.weapon.data[on],Py=[-1,.28,.35,.42,.49,.56],Sy=[-1,.4,.5,.6,.7,.8],by=[-1,.4,.5,.6,.7,.8],Bm=a(e.weapon.refinement,Py),ga=c(e.weapon.key,on,i(a(e.weapon.refinement,Sy,{unit:"%"}),e.premod.def)),wa=c(e.weapon.key,on,i(a(e.weapon.refinement,by,{unit:"%"}),e.premod.def)),Oy=r(on,Om,{premod:{def_:Bm,normal_dmgInc:ga,charged_dmgInc:wa}},{normal_dmgInc:ga,charged_dmgInc:wa}),By={document:[{header:o(on,t("base")),fields:[{node:Bm},{node:ga},{node:wa}]}]},Ey=new s(on,By,Om,Oy),Xn="RoyalGreatsword",Em=d.weapon.data[Xn],[Ay,Am]=m(Xn,"stack"),xy=[-1,.08,.1,.12,.14,.16],xm=h(Am,p($(1,5),n=>i(a(e.weapon.refinement,xy,{unit:"%"}),n)),_),My=r(Xn,Em,{premod:{critRate_:xm}}),Dy={document:[{value:Am,path:Ay,name:t("stacks"),header:o(Xn,t("stacks")),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xm}]}]))}]},Ty=new s(Xn,Dy,Em,My),zt="SacrificialGreatsword",Mm=d.weapon.data[zt],Ry=r(zt,Mm),Iy={document:[{header:o(zt),fields:[]}]},Cy=new s(zt,Iy,Mm,Ry),sn="SerpentSpine",Dm=d.weapon.data[sn],[,jy]=g("weapon",sn),Fy=[-1,.06,.07,.08,.09,.1],Ny=[-1,3,2.7,2.4,2.2,2],[Wy,Tm]=m(sn,"Wavesplitter"),Hy=a(e.weapon.refinement,Fy,{unit:"%"}),Rm=h(Tm,{...p($(1,5),n=>i(Hy,n))},_),Gy=r(sn,Dm,{premod:{all_dmg_:Rm}}),Ky={document:[{value:Tm,path:Wy,header:o(sn,t("stacks")),name:t("activeCharField"),states:{...p($(1,5),n=>({name:t("seconds",{count:n*4}),fields:[{node:Rm},{text:jy("takeMoreDmg"),value:k=>Ny[k.get(e.weapon.refinement).value]*n,unit:"%"}]}))}}]},Ly=new s(sn,Ky,Dm,Gy),Yn="SkyriderGreatsword",Im=d.weapon.data[Yn],[qy,Cm]=m(Yn,"stack"),zy=[-1,.06,.07,.08,.09,.1],jm=h(Cm,p($(1,4),n=>i(a(e.weapon.refinement,zy,{unit:"%"}),n)),_),Uy=r(Yn,Im,{premod:{atk_:jm}}),Vy={document:[{value:Cm,path:qy,name:t("hitOp.normalOrCharged"),header:o(Yn,t("stacks")),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:jm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Jy=new s(Yn,Vy,Im,Uy),Zn="SkywardPride",Fm=d.weapon.data[Zn],Qy=[-1,.08,.1,.12,.14,.16],Xy=[-1,.8,1,1.2,1.4,1.6],Nm=a(e.weapon.refinement,Qy),Wm=c(e.weapon.key,Zn,y(i(a(e.weapon.refinement,Xy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Yy=r(Zn,Fm,{premod:{all_dmg_:Nm}},{dmg:Wm}),Zy={document:[{header:o(Zn,t("base")),fields:[{node:Nm},{node:u(Wm,{name:t("dmg")})}]}]},eP=new s(Zn,Zy,Fm,Yy),K="SnowTombedStarsilver",Hm=d.weapon.data[K],nP=[-1,.8,.95,1.1,1.25,1.4],tP=[-1,2,2.4,2.8,3.2,3.6],Gm=c(e.weapon.key,K,y(i(a(e.weapon.refinement,nP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Km=c(e.weapon.key,K,y(i(a(e.weapon.refinement,tP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),aP=r(K,Hm,void 0,{dmgAoe:Gm,dmgOnCryoOp:Km}),oP={document:[{header:o(K,t("base")),fields:[{node:u(Gm,{name:s.trm(K)("aoeDmg")})},{node:u(Km,{name:s.trm(K)("cryoAffectedDmg")})}]}]},sP=new s(K,oP,Hm,aP),ke="SongOfBrokenPines",Lm=d.weapon.data[ke],[,cP]=g("weapon",ke),dP=[-1,.16,.2,.24,.28,.32],rP=[-1,.2,.25,.3,.35,.4],iP=[-1,.12,.15,.18,.21,.24],[mP,po]=m(ke,"RebelsBannerHymn"),qm=a(e.weapon.refinement,dP,{unit:"%"}),zm=c("on",po,a(e.weapon.refinement,rP,f.info("atk_"))),Um=c("on",po,a(e.weapon.refinement,iP)),lP=r(ke,Lm,{premod:{atk_:qm},teamBuff:{premod:{atk_:zm,atkSPD_:Um}}}),$P={document:[{header:o(ke,t("base")),fields:[{node:qm}]},{value:po,path:mP,teamBuff:!0,header:o(ke,t("conditional")),name:cP("name"),states:{on:{fields:[{node:zm},{node:Um},{text:l("duration"),value:12,unit:"s"}]}}}]},pP=new s(ke,$P,Lm,lP),V="TalkingStick",Vm=d.weapon.data[V],[,Jo]=g("weapon",V),hP=[-1,.16,.2,.24,.28,.32],uP=[-1,.12,.15,.18,.21,.24],[_P,Jm]=m(V,"affectedPyro"),Qm=c(Jm,"on",a(e.weapon.refinement,hP)),[fP,Xm]=m(V,"affectedOther"),gP=c(Xm,"on",a(e.weapon.refinement,uP)),Ym=p(v.map(n=>`${n}_dmg_`),()=>({...gP})),wP=r(V,Vm,{premod:{atk_:Qm,...Ym}}),kP={document:[{value:Jm,path:_P,header:o(V,t("conditional")),name:Jo("condName.atk_"),states:{on:{fields:[{node:Qm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Xm,path:fP,header:o(V,t("conditional")),name:Jo("condName.dmg_"),states:{on:{fields:[...Object.values(Ym).map(n=>({node:n})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},vP=new s(V,kP,Vm,wP),J="TheBell",Zm=d.weapon.data[J],yP=[-1,.2,.23,.26,.29,.32],PP=[-1,.12,.15,.18,.21,.24],[SP,el]=m(J,"RebelliousGuardian"),nl=c(e.weapon.key,J,c(el,"on",Lh(i(a(e.weapon.refinement,yP,{unit:"%"}),e.total.hp)))),[bP,tl]=m(J,"WithShield"),al=c(tl,"protected",a(e.weapon.refinement,PP,{unit:"%"})),OP=r(J,Zm,{premod:{all_dmg_:al}},{shield:nl}),BP={document:[{value:el,path:SP,header:o(J,t("conditional")),name:t("takeDmg"),states:{on:{fields:[{node:u(nl,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:tl,path:bP,header:o(J,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{node:al}]}}}]},EP=new s(J,BP,Zm,OP),D="TheUnforged",ol=d.weapon.data[D],[,AP]=g("weapon",D),xP=[-1,.2,.25,.3,.35,.4],MP=[-1,.04,.05,.06,.07,.08],[DP,sl]=m(D,"GoldenMajesty"),cl=a(e.weapon.refinement,xP),[TP,dl]=m(D,"WithShield"),RP=a(e.weapon.refinement,MP),rl=i(P(1,c(dl,"protected",1)),h(sl,Object.fromEntries($(1,5).map(n=>[n,i(RP,n)])),_)),IP=r(D,ol,{premod:{shield_:cl,atk_:rl}}),CP={document:[{header:o(D,t("base")),fields:[{node:cl}]},{value:sl,path:DP,header:o(D,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:rl},{text:l("duration"),value:8,unit:"s"}]}]))},{value:dl,path:TP,header:o(D,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:AP("atkEffInc"),value:100,unit:"%"}]}}}]},jP=new s(D,CP,ol,IP),et="TidalShadow",il=d.weapon.data[et],FP=[-1,.24,.3,.36,.42,.48],[NP,ml]=m(et,"afterHeal"),ll=c(ml,"on",a(e.weapon.refinement,FP)),WP=r(et,il,{premod:{atk_:ll}}),HP={document:[{header:o(et,t("conditional")),path:NP,value:ml,name:t("afterHeal"),states:{on:{fields:[{node:ll},{text:l("duration"),value:8,unit:"s"}]}}}]},GP=new s(et,HP,il,WP),C="UltimateOverlordsMegaMagicSword",ho=d.weapon.data[C],[,KP]=g("weapon",C),$l=ho.refinementBonus.atk_;if(!$l)throw new Error(`data_gen.refinementBonus.atk_ for ${C} was undefined`);const LP=[-1,.01,.0125,.015,.0175,.02],pl=c(e.weapon.key,C,a(e.weapon.refinement,$l),f.info("atk_")),[qP,hl]=m(C,"melusines"),ul=$(1,12),_l=h(hl,p(ul,n=>i(n,a(e.weapon.refinement,LP,{unit:"%"}))),_,f.info("atk_")),zP=r(C,ho,{premod:{atk_:P(pl,_l)}}),UP={document:[{header:o(C,t("base")),fields:[{node:pl}]},{value:hl,path:qP,header:o(C,t("stacks")),name:KP("condName"),states:p(ul,n=>({name:`${n}`,fields:[{node:_l}]}))}]},VP=new s(C,UP,ho,zP),j="Verdict",uo=d.weapon.data[j],[,JP]=g("weapon",j),fl=uo.refinementBonus.atk_;if(!fl)throw new Error(`data_gen.refinementBonus.atk_ for ${j} was undefined`);const QP=[-1,.18,.225,.27,.315,.36],gl=c(e.weapon.key,j,a(e.weapon.refinement,fl)),[XP,wl]=m(j,"seals"),kl=$(1,2),vl=h(wl,p(kl,n=>i(n,a(e.weapon.refinement,QP,{unit:"%"}))),_),YP=r(j,uo,{premod:{atk_:gl,skill_dmg_:vl}}),ZP={document:[{header:o(j,t("base")),fields:[{node:gl}]},{value:wl,path:XP,header:o(j,t("stacks")),name:JP("condName"),states:p(kl,n=>({name:`${n}`,fields:[{node:vl}]}))}]},eS=new s(j,ZP,uo,YP),_o="WasterGreatsword",fo=d.weapon.data[_o],nS=r(_o,fo),tS={...fo,document:[]},aS=new s(_o,tS,fo,nS),cn="WhiteIronGreatsword",yl=d.weapon.data[cn],oS=[-1,.08,.1,.12,.14,.16],[sS,Pl]=m(cn,"CullTheWeak"),Sl=c(e.weapon.key,cn,c(Pl,"on",Ge(i(a(e.weapon.refinement,oS,{unit:"%"}),e.total.hp)))),cS=r(cn,yl,void 0,{heal:Sl}),dS={document:[{value:Pl,path:sS,name:t("afterDefeatEnemy"),header:o(cn,t("conditional")),states:{on:{fields:[{node:u(Sl,{name:l("healing"),variant:"heal"})}]}}}]},rS=new s(cn,dS,yl,cS),nt="Whiteblind",bl=d.weapon.data[nt],[iS,go]=m(nt,"stack"),Ol=[-1,.06,.075,.09,.105,.12],Bl=h(go,p($(1,4),n=>i(a(e.weapon.refinement,Ol,{unit:"%"}),n)),_),El=h(go,p($(1,4),n=>i(a(e.weapon.refinement,Ol,{unit:"%"}),n)),_),mS=r(nt,bl,{premod:{atk_:Bl,def_:El}}),lS={document:[{value:go,path:iS,name:t("hitOp.normalOrCharged"),header:o(nt,t("stacks")),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Bl},{node:El},{text:l("duration"),value:6,unit:"s"}]}]))}]},$S=new s(nt,lS,bl,mS),Ne="WolfsGravestone",Al=d.weapon.data[Ne],pS=[-1,.2,.25,.3,.35,.4],hS=[-1,.4,.5,.6,.7,.8],[uS,xl]=m(Ne,"WolfishTracker"),Ml=a(e.weapon.refinement,pS),Dl=c("on",xl,a(e.weapon.refinement,hS,f.info("atk_"))),_S=r(Ne,Al,{premod:{atk_:Ml},teamBuff:{premod:{atk_:Dl}}}),fS={document:[{header:o(Ne,t("base")),fields:[{node:Ml}]},{value:xl,path:uS,teamBuff:!0,header:o(Ne,t("conditional")),name:t("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Dl},{text:l("duration"),value:12,unit:"s"}]}}}]},gS=new s(Ne,fS,Al,_S),wS={Akuoumaru:V2,BeaconOfTheReedSea:av,BlackcliffSlasher:rv,BloodtaintedGreatsword:pv,DebateClub:fv,FavoniusGreatsword:kv,FerrousShadow:bv,ForestRegalia:Dv,KatsuragikiriNagamasa:Cv,LithicBlade:Hv,LuxuriousSeaLord:zv,MailedFlower:Zv,MakhairaAquamarine:oy,OldMercsPal:dy,PortablePowerSaw:py,PrototypeArchaic:fy,Rainslasher:yy,RedhornStonethresher:Ey,RoyalGreatsword:Ty,SacrificialGreatsword:Cy,SerpentSpine:Ly,SkyriderGreatsword:Jy,SkywardPride:eP,SnowTombedStarsilver:sP,SongOfBrokenPines:pP,TalkingStick:vP,TheBell:EP,TheUnforged:jP,TidalShadow:GP,UltimateOverlordsMegaMagicSword:VP,Verdict:eS,WasterGreatsword:aS,Whiteblind:$S,WhiteIronGreatsword:rS,WolfsGravestone:gS},Ut="BalladOfTheFjords",Tl=d.weapon.data[Ut],kS=[-1,120,150,180,210,240],ka=Yo(A.ele,3,a(e.weapon.refinement,kS)),vS=r(Ut,Tl,{premod:{eleMas:ka}}),yS={document:[{header:o(Ut,t("talents.passive")),canShow:te(ka,0,1),fields:[{node:ka}]}]},PS=new s(Ut,yS,Tl,vS),wo="BeginnersProtector",ko=d.weapon.data[wo],SS=r(wo,ko),bS={...ko,document:[]},OS=new s(wo,bS,ko,SS),dn="BlackTassel",Rl=d.weapon.data[dn],[,BS]=g("weapon",dn),ES=[-1,.4,.5,.6,.7,.8],[AS,Il]=m(dn,"PressTheAdvantage"),Cl=c("on",Il,a(e.weapon.refinement,ES)),xS=r(dn,Rl,{premod:{all_dmg_:Cl}}),MS={document:[{value:Il,path:AS,header:o(dn,t("conditional")),name:BS("condName"),states:{on:{fields:[{node:Cl}]}}}]},DS=new s(dn,MS,Rl,xS),tt="BlackcliffPole",jl=d.weapon.data[tt],[TS,Fl]=m(tt,"PressTheAdvantage"),Nl=$(1,3),RS=[-1,.12,.15,.18,.21,.24],Wl=i(h(Fl,p(Nl,n=>w(n)),0),a(e.weapon.refinement,RS)),IS=r(tt,jl,{premod:{atk_:Wl}}),CS={document:[{value:Fl,path:TS,teamBuff:!0,header:o(tt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Nl.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Wl},{text:l("duration"),value:30,unit:"s"}]}]))}]},jS=new s(tt,CS,jl,IS),ve="CalamityQueller",Hl=d.weapon.data[ve],[,va]=g("weapon",ve),[FS,Gl]=m(ve,"stack"),NS=[-1,.12,.15,.18,.21,.24],WS=[-1,.032,.04,.048,.056,.064],Kl=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,NS)])),Ll=i(Da(e.charKey,e.activeCharKey,u(w(1),{name:va("active")}),u(w(1),{name:va("inactive")})),h(Gl,p($(1,6),n=>u(w(n),{name:t("stacks")})),0),a(e.weapon.refinement,WS)),HS=r(ve,Hl,{premod:{...Kl,atk_:Ll}}),GS={document:[{header:o(ve,t("base")),fields:Object.values(Kl).map(n=>({node:n}))},{value:Gl,path:FS,teamBuff:!0,header:o(ve,t("stacks")),name:va("effectName"),states:Object.fromEntries($(1,6).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ll}]}]))}]},KS=new s(ve,GS,Hl,HS),at="CrescentPike",ql=d.weapon.data[at],LS=[-1,.2,.25,.3,.35,.4],zl=c(e.weapon.key,at,y(i(e.total.atk,a(e.weapon.refinement,LS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),qS=r(at,ql,void 0,{hit:zl}),zS={document:[{header:o(at,t("talents.passive")),fields:[{node:u(zl,{name:t("dmg")})}]}]},US=new s(at,zS,ql,qS),rn="Deathmatch",Ul=d.weapon.data[rn],[,VS]=g("weapon",rn),[JS,vo]=m(rn,"stack"),Vl=[-1,.16,.2,.24,.28,.32],QS=[-1,.24,.3,.36,.42,.48],ya=h(vo,{oneOrNone:a(e.weapon.refinement,QS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Vl,{unit:"%"})},_),Pa=c(vo,"moreThanOne",a(e.weapon.refinement,Vl,{unit:"%"})),XS=r(rn,Ul,{premod:{atk_:ya,def_:Pa}}),YS={document:[{value:vo,path:JS,teamBuff:!0,header:o(rn,t("conditional")),name:VS("condName"),states:{oneOrNone:{name:"1",fields:[{node:ya},{node:Pa}]},moreThanOne:{name:"2",fields:[{node:ya},{node:Pa}]}}}]},ZS=new s(rn,YS,Ul,XS),Vt="DialoguesOfTheDesertSages",Jl=d.weapon.data[Vt],e4=r(Vt,Jl),n4={document:[{header:o(Vt),fields:[]}]},t4=new s(Vt,n4,Jl,e4),ot="DragonsBane",Ql=d.weapon.data[ot],a4=[-1,.2,.24,.28,.32,.36],[o4,Xl]=m(ot,"BaneOfFlameAndWater"),Yl=c("on",Xl,a(e.weapon.refinement,a4)),s4=r(ot,Ql,{premod:{all_dmg_:Yl}}),c4={document:[{value:Xl,path:o4,header:o(ot,t("conditional")),name:t("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Yl}]}}}]},d4=new s(ot,c4,Ql,s4),L="DragonspineSpear",Zl=d.weapon.data[L],r4=[-1,.8,.95,1.1,1.25,1.4],i4=[-1,2,2.4,2.8,3.2,3.6],e0=c(e.weapon.key,L,y(i(a(e.weapon.refinement,r4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),n0=c(e.weapon.key,L,y(i(a(e.weapon.refinement,i4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),m4=r(L,Zl,void 0,{dmgAoe:e0,dmgOnCryoOp:n0}),l4={document:[{header:o(L,t("base")),fields:[{node:u(e0,{name:s.trm(L)("aoeDmg")})},{node:u(n0,{name:s.trm(L)("cryoAffectedDmg")})}]}]},$4=new s(L,l4,Zl,m4),ye="EngulfingLightning",t0=d.weapon.data[ye],p4=[-1,.28,.35,.42,.49,.56],h4=[-1,.8,.9,1,1.1,1.2],Sa=c(e.weapon.key,ye,ne(i(a(e.weapon.refinement,p4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,h4))),u4=[-1,.3,.35,.4,.45,.5,.55],[_4,a0]=m(ye,"TimelessDream"),o0=c("on",a0,a(e.weapon.refinement,u4)),f4=r(ye,t0,{premod:{atk_:Sa,enerRech_:o0}},{atk_:Sa}),g4={document:[{header:o(ye,t("base")),fields:[{node:Sa}]},{teamBuff:!0,value:a0,path:_4,header:o(ye,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:o0},{text:l("duration"),value:12,unit:"s"}]}}}]},w4=new s(ye,g4,t0,f4),Jt="FavoniusLance",s0=d.weapon.data[Jt],k4=r(Jt,s0),v4={document:[{header:o(Jt),fields:[]}]},y4=new s(Jt,v4,s0,k4),st="Halberd",c0=d.weapon.data[st],P4=[-1,1.6,2,2.4,2.8,3.2],d0=c(e.weapon.key,st,y(i(a(e.weapon.refinement,P4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),S4=r(st,c0,void 0,{dmg:d0}),b4={document:[{header:o(st,t("base")),fields:[{node:u(d0,{name:t("dmg")})}]}]},O4=new s(st,b4,c0,S4),yo="IronPoint",Po=d.weapon.data[yo],B4=r(yo,Po),E4={...Po,document:[]},A4=new s(yo,E4,Po,B4),Qt="KitainCrossSpear",r0=d.weapon.data[Qt],x4=[-1,.06,.075,.09,.105,.12],i0=a(e.weapon.refinement,x4),M4=r(Qt,r0,{premod:{skill_dmg_:i0}}),D4={document:[{header:o(Qt,t("base")),fields:[{node:i0}]}]},T4=new s(Qt,D4,r0,M4),Xt="LithicSpear",m0=d.weapon.data[Xt],R4=[-1,.07,.08,.09,.1,.11],I4=[-1,.03,.04,.05,.06,.07],l0=i(a(e.weapon.refinement,R4,{unit:"%"}),A.liyue),$0=i(a(e.weapon.refinement,I4,{unit:"%"}),A.liyue),C4=r(Xt,m0,{premod:{atk_:l0,critRate_:$0}}),j4={document:[{header:o(Xt,t("stacks")),fields:[{node:l0},{node:$0}]}]},F4=new s(Xt,j4,m0,C4),ct="MissiveWindspear",p0=d.weapon.data[ct],[N4,So]=m(ct,"passive"),W4=[-1,.12,.15,.18,.21,.24],H4=[-1,48,60,72,84,96],h0=c(So,"on",a(e.weapon.refinement,W4,{unit:"%"})),u0=c(So,"on",a(e.weapon.refinement,H4)),G4=r(ct,p0,{premod:{atk_:h0,eleMas:u0}}),K4={document:[{value:So,path:N4,teamBuff:!0,header:o(ct,t("conditional")),name:t("afterReaction"),states:{on:{fields:[{node:h0},{node:u0},{text:l("duration"),value:10,unit:"s"}]}}}]},L4=new s(ct,K4,p0,G4),mn="Moonpiercer",_0=d.weapon.data[mn],[,q4]=g("weapon",mn),[z4,f0]=m(mn,"passive"),U4=[-1,.16,.2,.24,.28,.32],g0=c(f0,"on",a(e.weapon.refinement,U4,{unit:"%"})),V4=c(e.activeCharKey,b.charKey,g0),J4=r(mn,_0,{teamBuff:{premod:{atk_:V4}}}),Q4={document:[{value:f0,path:z4,teamBuff:!0,header:o(mn,t("conditional")),name:q4("condName"),states:{on:{fields:[{node:u(g0,f.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},X4=new s(mn,Q4,_0,J4),dt="PrimordialJadeWingedSpear",w0=d.weapon.data[dt],[Y4,bo]=m(dt,"stack"),Z4=[-1,.032,.039,.046,.053,.06],e5=[-1,.12,.15,.18,.21,.24],k0=h(bo,p($(1,7),n=>i(a(e.weapon.refinement,Z4,{unit:"%"}),n)),_),v0=c(bo,"7",a(e.weapon.refinement,e5,{unit:"%"})),n5=r(dt,w0,{premod:{atk_:k0,all_dmg_:v0}}),t5={document:[{value:bo,path:Y4,teamBuff:!0,header:o(dt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,7).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:k0},{node:v0}]}]))}]},a5=new s(dt,t5,w0,n5),ln="ProspectorsDrill",y0=d.weapon.data[ln],[,o5]=g("weapon",ln),s5=[-1,.03,.04,.05,.06,.07],c5=[-1,.07,.085,.1,.115,.13],[d5,Oo]=m(ln,"marksConsumed"),Bo=$(1,3),P0=h(Oo,p(Bo,n=>i(n,a(e.weapon.refinement,s5,{unit:"%"}))),_),r5=h(Oo,p(Bo,n=>i(n,a(e.weapon.refinement,c5,{unit:"%"}))),_),S0=p(v.map(n=>`${n}_dmg_`),()=>({...r5})),i5=r(ln,y0,{premod:{atk_:P0,...S0}}),m5={document:[{value:Oo,path:d5,teamBuff:!0,header:o(ln,t("stacks")),name:o5("condName"),states:p(Bo,n=>({name:`${n}`,fields:[{node:P0},...Object.values(S0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},l5=new s(ln,m5,y0,i5),rt="PrototypeStarglitter",b0=d.weapon.data[rt],[$5,Eo]=m(rt,"stack"),O0=[-1,.08,.1,.12,.14,.16],B0=h(Eo,p($(1,2),n=>i(a(e.weapon.refinement,O0,{unit:"%"}),n)),_),E0=h(Eo,p($(1,2),n=>i(a(e.weapon.refinement,O0,{unit:"%"}),n)),_),p5=r(rt,b0,{premod:{normal_dmg_:B0,charged_dmg_:E0}}),h5={document:[{value:Eo,path:$5,header:o(rt,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries($(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:B0},{node:E0}]}]))}]},u5=new s(rt,h5,b0,p5),Yt="RightfulReward",A0=d.weapon.data[Yt],_5=r(Yt,A0),f5={document:[{header:o(Yt),fields:[]}]},g5=new s(Yt,f5,A0,_5),it="RoyalSpear",x0=d.weapon.data[it],[w5,M0]=m(it,"stack"),k5=[-1,.08,.1,.12,.14,.16],D0=h(M0,p($(1,5),n=>i(a(e.weapon.refinement,k5,{unit:"%"}),n)),_),v5=r(it,x0,{premod:{critRate_:D0}}),y5={document:[{value:M0,path:w5,teamBuff:!0,header:o(it,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:D0}]}]))}]},P5=new s(it,y5,x0,v5),mt="SkywardSpine",T0=d.weapon.data[mt],S5=[-1,.08,.1,.12,.14,.16],b5=[-1,.4,.55,.7,.85,1],R0=S(.12),I0=a(e.weapon.refinement,S5),C0=c(e.weapon.key,mt,y(i(a(e.weapon.refinement,b5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),O5=r(mt,T0,{premod:{critRate_:I0,atkSPD_:R0}},{dmg:C0}),B5={document:[{header:o(mt,t("base")),fields:[{node:I0},{node:R0},{node:u(C0,{name:t("dmg")})}]}]},E5=new s(mt,B5,T0,O5),Pe="StaffOfHoma",j0=d.weapon.data[Pe],A5=[-1,.2,.25,.3,.35,.4],x5=[-1,.008,.01,.012,.014,.016],M5=[-1,.01,.012,.014,.016,.018],F0=a(e.weapon.refinement,A5,{unit:"%"}),[D5,N0]=m(Pe,"RecklessCinnabar"),W0=i(a(e.weapon.refinement,x5,{unit:"%"}),e.premod.hp),ba=c(e.weapon.key,Pe,c("on",N0,i(a(e.weapon.refinement,M5,{unit:"%"}),e.premod.hp),f.info("atk"))),T5=r(Pe,j0,{premod:{hp_:F0},total:{atk:P(W0,ba)}},{atk2_:ba}),R5={document:[{header:o(Pe,t("base")),fields:[{node:F0},{node:u(W0,f.info("atk"))}]},{value:N0,path:D5,teamBuff:!0,header:o(Pe),name:t("lessPercentHP",{percent:50}),states:{on:{fields:[{node:u(ba,f.info("atk"))}]}}}]},I5=new s(Pe,R5,j0,T5),Q="StaffOfTheScarletSands",H0=d.weapon.data[Q],[C5,G0]=m(Q,"stacks"),j5=[-1,.52,.65,.78,.91,1.04],F5=[-1,.28,.35,.42,.49,.56],K0=$(1,3),L0=c(e.weapon.key,Q,i(a(e.weapon.refinement,j5,{unit:"%"}),e.premod.eleMas),f.info("atk")),q0=h(G0,Object.fromEntries(K0.map(n=>[n,i(n,a(e.weapon.refinement,F5,{unit:"%"}),e.premod.eleMas)])),_,f.info("atk")),Qo=c(e.weapon.key,Q,P(L0,q0)),N5=r(Q,H0,{total:{atk:Qo}},{atk:Qo}),W5={document:[{header:o(Q,t("base")),fields:[{node:L0}]},{value:G0,path:C5,header:o(Q,t("stacks")),name:t("hitOp.skill"),states:Object.fromEntries(K0.map(n=>[n,{name:t("hits",{count:n}),fields:[{node:q0},{text:l("duration"),value:10,unit:"s"}]}]))}]},H5=new s(Q,W5,H0,N5),Zt="TheCatch",z0=d.weapon.data[Zt],G5=[-1,.16,.2,.24,.28,.32],K5=[-1,.06,.075,.09,.105,.12],U0=a(e.weapon.refinement,G5),V0=a(e.weapon.refinement,K5),L5=r(Zt,z0,{premod:{burst_dmg_:U0,burst_critRate_:V0}}),q5={document:[{header:o(Zt,t("base")),fields:[{node:U0},{node:V0}]}]},z5=new s(Zt,q5,z0,L5),T="VortexVanquisher",J0=d.weapon.data[T],[,U5]=g("weapon",T),V5=[-1,.2,.25,.3,.35,.4],J5=[-1,.04,.05,.06,.07,.08],[Q5,Q0]=m(T,"GoldenMajesty"),X0=a(e.weapon.refinement,V5),[X5,Y0]=m(T,"WithShield"),Y5=a(e.weapon.refinement,J5),Z0=i(P(1,c(Y0,"protected",1)),h(Q0,Object.fromEntries($(1,5).map(n=>[n,i(Y5,n)])),_)),Z5=r(T,J0,{premod:{shield_:X0,atk_:Z0}}),eb={document:[{header:o(T,t("base")),fields:[{node:X0}]},{value:Q0,path:Q5,teamBuff:!0,header:o(T,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Z0},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Y0,path:X5,header:o(T,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:U5("atkEffInc"),value:100,unit:"%"}]}}}]},nb=new s(T,eb,J0,Z5),$n="WavebreakersFin",e$=d.weapon.data[$n],[,tb]=g("weapon",$n),[ab,n$]=m($n,"WatatsumiWavewalker"),t$=$(4,36).map(n=>n*10),ob=[-1,.0012,.0015,.0018,.0021,.0024],sb=[-1,.4,.5,.6,.7,.8],a$=h(n$,Object.fromEntries(t$.map(n=>[n,ne(i(a(e.weapon.refinement,ob,{unit:"%"}),n),a(e.weapon.refinement,sb,{unit:"%"}))])),_),cb=r($n,e$,{premod:{burst_dmg_:a$}}),db={document:[{value:n$,path:ab,header:o($n),name:tb("party"),states:Object.fromEntries(t$.map(n=>[n,{name:n.toString(),fields:[{node:a$}]}]))}]},rb=new s($n,db,e$,cb),ea="WhiteTassel",o$=d.weapon.data[ea],ib=[-1,.24,.3,.36,.42,.48],s$=a(e.weapon.refinement,ib),mb=r(ea,o$,{premod:{normal_dmg_:s$}}),lb={document:[{header:o(ea,t("base")),fields:[{node:s$}]}]},$b=new s(ea,lb,o$,mb),pb={BalladOfTheFjords:PS,BeginnersProtector:OS,BlackcliffPole:jS,BlackTassel:DS,CalamityQueller:KS,CrescentPike:US,Deathmatch:ZS,DialoguesOfTheDesertSages:t4,DragonsBane:d4,DragonspineSpear:$4,EngulfingLightning:w4,FavoniusLance:y4,Halberd:O4,IronPoint:A4,KitainCrossSpear:T4,LithicSpear:F4,MissiveWindspear:L4,Moonpiercer:X4,PrimordialJadeWingedSpear:a5,ProspectorsDrill:l5,PrototypeStarglitter:u5,RightfulReward:g5,RoyalSpear:P5,SkywardSpine:E5,StaffOfHoma:I5,StaffOfTheScarletSands:H5,TheCatch:z5,VortexVanquisher:nb,WavebreakersFin:rb,WhiteTassel:$b},na="AmenomaKageuchi",c$=d.weapon.data[na],hb=r(na,c$),ub={document:[{header:o(na),fields:[]}]},_b=new s(na,ub,c$,hb),X="AquilaFavonia",Ao=d.weapon.data[X],fb=[-1,2,2.3,2.6,2.9,3.2],gb=[-1,1,1.15,1.3,1.45,1.6],d$=Ao.refinementBonus.atk_;if(!d$)throw new Error(`data_gen.refinementBonus.atk_ for ${X} was undefined`);const r$=a(e.weapon.refinement,d$),i$=c(e.weapon.key,X,i(a(e.weapon.refinement,gb,{unit:"%"}),e.premod.atk)),m$=c(e.weapon.key,X,y(i(a(e.weapon.refinement,fb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),wb=r(X,Ao,{premod:{atk_:r$}},{heal:i$,dmg:m$}),kb={document:[{header:o(X,t("base")),fields:[{node:r$}]},{header:o(X,t("base")),fields:[{node:u(i$,{name:l("healing"),variant:"heal"})},{node:u(m$,{name:t("dmg")})}]}]},vb=new s(X,kb,Ao,wb),lt="BlackcliffLongsword",l$=d.weapon.data[lt],[yb,$$]=m(lt,"PressTheAdvantage"),p$=$(1,3),Pb=[-1,.12,.15,.18,.21,.24],h$=i(h($$,p(p$,n=>w(n)),0),a(e.weapon.refinement,Pb)),Sb=r(lt,l$,{premod:{atk_:h$}}),bb={document:[{value:$$,path:yb,header:o(lt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(p$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:h$},{text:l("duration"),value:30,unit:"s"}]}]))}]},Ob=new s(lt,bb,l$,Sb),De="CinnabarSpindle",u$=d.weapon.data[De],[,Bb]=g("weapon",De),Eb=[-1,.4,.5,.6,.7,.8],[Ab,_$]=m(De,"SpotlessHeart"),Oa=c(e.weapon.key,De,c("on",_$,i(a(e.weapon.refinement,Eb,{unit:"%"}),e.premod.def))),xb=r(De,u$,{premod:{skill_dmgInc:Oa}},{skill_dmgInc:Oa}),Mb={document:[{value:_$,path:Ab,header:o(De,t("conditional")),name:Bb("name"),states:{on:{fields:[{node:Oa}]}}}]},Db=new s(De,Mb,u$,xb),$t="CoolSteel",f$=d.weapon.data[$t],Tb=[-1,.12,.15,.18,.21,.24],[Rb,g$]=m($t,"BaneOfWaterAndIce"),w$=c("on",g$,a(e.weapon.refinement,Tb)),Ib=r($t,f$,{premod:{all_dmg_:w$}}),Cb={document:[{value:g$,path:Rb,name:t("enemyAffected.hydroOrCryo"),header:o($t,t("conditional")),states:{on:{fields:[{node:w$}]}}}]},jb=new s($t,Cb,f$,Ib),pt="DarkIronSword",k$=d.weapon.data[pt],Fb=[-1,.2,.25,.3,.35,.5],[Nb,v$]=m(pt,"Overloaded"),y$=c("on",v$,a(e.weapon.refinement,Fb,{unit:"%"})),Wb=r(pt,k$,{premod:{atk_:y$}}),Hb={document:[{value:v$,path:Nb,name:t("elementalReaction.electro"),header:o(pt,t("conditional")),states:{on:{fields:[{node:y$},{text:l("duration"),value:12,unit:"s"}]}}}]},Gb=new s(pt,Hb,k$,Wb),xo="DullBlade",Mo=d.weapon.data[xo],Kb=r(xo,Mo),Lb={...Mo,document:[]},qb=new s(xo,Lb,Mo,Kb),ta="FavoniusSword",P$=d.weapon.data[ta],zb=r(ta,P$),Ub={document:[{header:o(ta),fields:[]}]},Vb=new s(ta,Ub,P$,zb),aa="FesteringDesire",S$=d.weapon.data[aa],Jb=[-1,.16,.2,.24,.28,.32],Qb=[-1,.06,.075,.09,.105,.12],b$=a(e.weapon.refinement,Jb,{unit:"%"}),O$=a(e.weapon.refinement,Qb,{unit:"%"}),Xb=r(aa,S$,{premod:{skill_dmg_:b$,skill_critRate_:O$}}),Yb={document:[{header:o(aa,t("base")),fields:[{node:b$},{node:O$}]}]},Zb=new s(aa,Yb,S$,Xb),ht="FilletBlade",B$=d.weapon.data[ht],e3=[-1,2.4,2.8,3.2,3.6,4],n3=[-1,15,14,13,12,11],E$=c(e.weapon.key,ht,y(i(a(e.weapon.refinement,e3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),t3=r(ht,B$,void 0,{dmg_:E$}),a3={document:[{header:o(ht,t("base")),fields:[{node:u(E$,{name:t("dmg")})},{text:l("cd"),value:n=>n3[n.get(e.weapon.refinement).value],unit:"s"}]}]},o3=new s(ht,a3,B$,t3),F="FinaleOfTheDeep",A$=d.weapon.data[F],[,s3]=g("weapon",F),c3=[-1,.12,.15,.18,.21,.24],d3=[-1,.024,.03,.036,.042,.048],r3=[-1,150,187.5,225,262.5,300],[i3,x$]=m(F,"afterSkill"),M$=c(x$,"on",a(e.weapon.refinement,c3)),m3=i(S(.25),e.total.hp),[l3,D$]=m(F,"bond"),Ba=c(e.weapon.key,F,c(D$,"on",ne(i(m3,a(e.weapon.refinement,d3,{unit:"%"})),a(e.weapon.refinement,r3,{unit:"%"})))),$3=r(F,A$,{premod:{atk_:M$,atk:Ba}},{bond_atk:Ba}),p3={document:[{header:o(F,t("conditional")),path:i3,value:x$,name:t("hitOp.skill"),states:{on:{fields:[{node:M$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(F,t("conditional")),path:l3,value:D$,name:s3("bondCondName"),states:{on:{fields:[{node:Ba},{text:l("duration"),value:15,unit:"s"}]}}}]},h3=new s(F,p3,A$,$3),We="FleuveCendreFerryman",T$=d.weapon.data[We],u3=[-1,.08,.1,.12,.14,.16],_3=[-1,.16,.2,.24,.28,.32],R$=a(e.weapon.refinement,u3),[f3,I$]=m(We,"afterSkill"),C$=c(I$,"on",a(e.weapon.refinement,_3)),g3=r(We,T$,{premod:{skill_critRate_:R$,enerRech_:C$}}),w3={document:[{header:o(We,t("base")),fields:[{node:R$}]},{header:o(We,t("conditional")),value:I$,path:f3,name:t("afterUse.skill"),states:{on:{fields:[{node:C$},{text:l("duration"),value:5,unit:"s"}]}}}]},k3=new s(We,w3,T$,g3),Y="FreedomSworn",Do=d.weapon.data[Y],[,v3]=g("weapon",Y),[y3,To]=m(Y,"MillennialMovement"),P3=[-1,.16,.2,.24,.28,.32],S3=[-1,.2,.25,.3,.35,.4],j$=Do.refinementBonus.dmg_;if(!j$)throw new Error(`data_gen.refinementBonus.dmg_ for ${Y} was undefined`);const F$=a(e.weapon.refinement,j$),N$=c("on",To,a(e.weapon.refinement,S3)),oa=c("on",To,a(e.weapon.refinement,P3)),W$={...oa},H$={...oa},b3=r(Y,Do,{premod:{all_dmg_:F$},teamBuff:{premod:{atk_:N$,normal_dmg_:oa,charged_dmg_:W$,plunging_dmg_:H$}}}),O3={document:[{header:o(Y,t("base")),fields:[{node:F$}]},{value:To,path:y3,teamBuff:!0,header:o(Y,t("conditional")),name:v3("sigilsConsumed"),states:{on:{fields:[{node:N$},{node:oa},{node:W$},{node:H$},{text:l("duration"),value:12,unit:"s"}]}}}]},B3=new s(Y,O3,Do,b3),Se="HaranGeppakuFutsu",G$=d.weapon.data[Se],[,E3]=g("weapon",Se),A3=[-1,.12,.15,.18,.21,.24],x3=[-1,.2,.25,.3,.35,.4],[M3,K$]=m(Se,"HonedFlow"),L$=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,A3,f.info(`${n}_dmg_`))])),q$=h(K$,p($(1,2),n=>i(n,a(e.weapon.refinement,x3))),_),D3=r(Se,G$,{premod:{...L$,normal_dmg_:q$}}),T3={document:[{header:o(Se,t("base")),fields:[...v.map(n=>({node:L$[`${n}_dmg_`]}))]},{value:K$,path:M3,name:E3("consumed"),header:o(Se,t("conditional")),states:p($(1,2),n=>({name:t("stack",{count:n}),fields:[{node:q$}]}))}]},R3=new s(Se,T3,G$,D3),ut="HarbingerOfDawn",z$=d.weapon.data[ut],[I3,U$]=m(ut,"SkyPiercingMight"),C3=[-1,.14,.175,.21,.245,.28],V$=c("on",U$,a(e.weapon.refinement,C3)),j3=r(ut,z$,{premod:{critRate_:V$}}),F3={document:[{value:U$,path:I3,header:o(ut,t("conditional")),name:t("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:V$}]}}}]},N3=new s(ut,F3,z$,j3),_t="IronSting",J$=d.weapon.data[_t],[W3,Q$]=m(_t,"InfusionStinger"),X$=$(1,2),H3=[-1,.06,.075,.09,.105,.12],Y$=i(h(Q$,p(X$,n=>w(n)),_),a(e.weapon.refinement,H3)),G3=r(_t,J$,{premod:{all_dmg_:Y$}}),K3={document:[{value:Q$,path:W3,header:o(_t,t("stacks")),name:t("hitOp.ele"),states:Object.fromEntries(X$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Y$},{text:l("duration"),value:6,unit:"s"}]}]))}]},L3=new s(_t,K3,J$,G3),be="KagotsurubeIsshin",Z$=d.weapon.data[be],[q3,ep]=m(be,"passive"),np=c(ep,"on",S(.15)),tp=c(e.weapon.key,be,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),z3=r(be,Z$,{premod:{atk_:np}},{dmg:tp}),U3={document:[{header:o(be,t("base")),fields:[{node:u(tp,{name:t("dmg")})}]},{header:o(be,t("conditional")),value:ep,path:q3,name:t("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:np},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},V3=new s(be,U3,Z$,z3),E="KeyOfKhajNisut",ap=d.weapon.data[E],J3=[-1,.0012,.0015,.0018,.0021,.0024],Q3=[-1,.002,.0025,.003,.0035,.004],op=$(1,3),X3=[-1,.2,.25,.3,.35,.4],sp=c(e.weapon.key,E,a(e.weapon.refinement,X3,{unit:"%"})),[Y3,xt]=m(E,"afterSkill"),Ea=c(e.weapon.key,E,h(xt,Object.fromEntries(op.map(n=>[n,i(n,a(e.weapon.refinement,J3,{unit:"%",fixed:2}),e.total.hp)])),_)),Aa=c(e.weapon.key,E,c(xt,"3",i(a(e.weapon.refinement,Q3,{unit:"%",fixed:2}),e.total.hp))),Z3=r(E,ap,{premod:{hp_:sp},total:{eleMas:Ea},teamBuff:{total:{eleMas:Aa}}},{selfEleMas:Ea,teamEleMas:Aa}),eO={document:[{header:o(E,t("base")),fields:[{node:sp}]},{header:o(E,t("stacks")),teamBuff:!0,path:Y3,value:xt,name:t("hitOp.skill"),states:Object.fromEntries(op.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,t("teamBuff")),canShow:c(xt,"3",1),teamBuff:!0,fields:[{node:Aa},{text:l("duration"),value:20,unit:"s"}]}]},nO=new s(E,eO,ap,Z3),Z="LightOfFoliarIncision",cp=d.weapon.data[Z],tO=[-1,.04,.05,.06,.07,.08],dp=c(e.weapon.key,Z,a(e.weapon.refinement,tO)),[aO,rp]=m(Z,"afterNormalEle"),oO=[-1,1.2,1.5,1.8,2.1,2.4],Mt=c(e.weapon.key,Z,c(rp,"on",i(a(e.weapon.refinement,oO,{unit:"%"}),e.total.eleMas))),xa={...Mt},sO=r(Z,cp,{premod:{normal_dmgInc:Mt,skill_dmgInc:xa,critRate_:dp}},{normal_dmgInc:Mt,skill_dmgInc:xa}),cO={document:[{header:o(Z,t("base")),fields:[{node:dp}]},{header:o(Z,t("conditional")),path:aO,value:rp,name:t("hitOp.normalEle"),states:{on:{fields:[{node:Mt},{node:xa},{text:t("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},dO=new s(Z,cO,cp,sO),ft="LionsRoar",ip=d.weapon.data[ft],[rO,mp]=m(ft,"BaneOfFireAndThunder"),iO=[-1,.2,.24,.28,.32,.36],lp=c("on",mp,a(e.weapon.refinement,iO)),mO=r(ft,ip,{premod:{all_dmg_:lp}}),lO={document:[{value:mp,path:rO,header:o(ft,t("conditional")),name:t("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:lp}]}}}]},$O=new s(ft,lO,ip,mO),Oe="MistsplitterReforged",$p=d.weapon.data[Oe],[,pO]=g("weapon",Oe),pp=["1","2","3"],hO=[-1,.12,.15,.18,.21,.24],uO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[_O,hp]=m(Oe,"MistsplittersEmblem"),up=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,hO,f.info(`${n}_dmg_`))])),_p=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,h(hp,p(pp,k=>a(e.weapon.refinement,uO[k])),_,f.info(`${n}_dmg_`)))])),fO=Object.fromEntries(v.map(n=>[`${n}_dmg_`,P(up[`${n}_dmg_`],_p[`${n}_dmg_`])])),gO=r(Oe,$p,{premod:{...fO}}),wO={document:[{header:o(Oe,t("base")),fields:v.map(n=>({node:up[`${n}_dmg_`]}))},{value:hp,path:_O,name:pO("emblem"),teamBuff:!0,header:o(Oe,t("stacks")),states:Object.fromEntries(pp.map(n=>[n,{name:t("stack",{count:parseInt(n)}),fields:v.map(k=>({node:_p[`${k}_dmg_`]}))}]))}]},kO=new s(Oe,wO,$p,gO),gt="PrimordialJadeCutter",fp=d.weapon.data[gt],vO=[-1,.2,.25,.3,.35,.4],yO=[-1,.012,.015,.018,.021,.024],gp=a(e.weapon.refinement,vO),Ma=c(e.weapon.key,gt,i(a(e.weapon.refinement,yO,{unit:"%"}),e.premod.hp)),PO=r(gt,fp,{premod:{hp_:gp},total:{atk:Ma}},{atk:Ma}),SO={document:[{header:o(gt,t("base")),fields:[{node:gp},{node:Ma}]}]},bO=new s(gt,SO,fp,PO),wt="PrototypeRancour",wp=d.weapon.data[wt],[OO,Ro]=m(wt,"stack"),kp=[-1,.04,.05,.06,.07,.08],vp=h(Ro,p($(1,4),n=>i(a(e.weapon.refinement,kp,{unit:"%"}),n)),_),yp=h(Ro,p($(1,4),n=>i(a(e.weapon.refinement,kp,{unit:"%"}),n)),_),BO=r(wt,wp,{premod:{atk_:vp,def_:yp}}),EO={document:[{value:Ro,path:OO,header:o(wt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:vp},{node:yp},{text:l("duration"),value:6,unit:"s"}]}]))}]},AO=new s(wt,EO,wp,BO),kt="RoyalLongsword",Pp=d.weapon.data[kt],[xO,Sp]=m(kt,"stack"),MO=[-1,.08,.1,.12,.14,.16],bp=h(Sp,p($(1,5),n=>i(a(e.weapon.refinement,MO,{unit:"%"}),n)),_),DO=r(kt,Pp,{premod:{critRate_:bp}}),TO={document:[{value:Sp,path:xO,header:o(kt,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:bp}]}]))}]},RO=new s(kt,TO,Pp,DO),sa="SacrificialSword",Op=d.weapon.data[sa],IO=r(sa,Op),CO={document:[{header:o(sa),fields:[]}]},jO=new s(sa,CO,Op,IO),pn="SapwoodBlade",Bp=d.weapon.data[pn],[,FO]=g("weapon",pn),[NO,Ep]=m(pn,"passive"),WO=[-1,60,75,90,105,120],Ap=c(Ep,"on",a(e.weapon.refinement,WO)),HO=c(e.activeCharKey,b.charKey,Ap),GO=r(pn,Bp,{teamBuff:{premod:{eleMas:HO}}}),KO={document:[{value:Ep,path:NO,teamBuff:!0,header:o(pn,t("conditional")),name:FO("condName"),states:{on:{fields:[{node:u(Ap,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},LO=new s(pn,KO,Bp,GO),Io="SilverSword",Co=d.weapon.data[Io],qO=r(Io,Co),zO={...Co,document:[]},UO=new s(Io,zO,Co,qO),vt="SkyriderSword",xp=d.weapon.data[vt],[VO,jo]=m(vt,"Determination"),Mp=[-1,.12,.15,.18,.21,.24],Dp=c(jo,"on",a(e.weapon.refinement,Mp,{unit:"%"})),Tp=c(jo,"on",a(e.weapon.refinement,Mp,{unit:"%"})),JO=r(vt,xp,{premod:{atk_:Dp,moveSPD_:Tp}}),QO={document:[{value:jo,path:VO,header:o(vt,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Dp},{node:Tp},{text:l("duration"),value:15,unit:"s"}]}}}]},XO=new s(vt,QO,xp,JO),ee="SkywardBlade",Fo=d.weapon.data[ee],[YO,ca]=m(ee,"SkyPiercingMight"),ZO=[-1,.2,.25,.3,.35,.4],Rp=c("on",ca,S(.1)),Ip=c("on",ca,S(.1)),Cp=c(e.weapon.key,ee,c("on",ca,y(i(a(e.weapon.refinement,ZO,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),jp=Fo.refinementBonus.critRate_;if(!jp)throw new Error(`data_gen.refinementBonus.critRate_ for ${ee} was undefined`);const Fp=a(e.weapon.refinement,jp),e6=r(ee,Fo,{premod:{critRate_:Fp,moveSPD_:Rp,atkSPD_:Ip}},{dmg:Cp}),n6={document:[{header:o(ee,t("base")),fields:[{node:Fp}]},{value:ca,path:YO,header:o(ee,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Rp},{node:Ip},{node:u(Cp,{name:t("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},t6=new s(ee,n6,Fo,e6),Be="SplendorOfTranquilWaters",Np=d.weapon.data[Be],a6=[-1,.08,.1,.12,.14,.16],o6=[-1,.14,.175,.21,.245,.28],[s6,Wp]=m(Be,"selfHpChange"),Hp=$(1,3),Gp=h(Wp,p(Hp,n=>i(n,a(e.weapon.refinement,a6,{unit:"%"}))),_),[c6,Kp]=m(Be,"teamHpChange"),Lp=$(1,2),qp=h(Kp,p(Lp,n=>i(n,a(e.weapon.refinement,o6,{unit:"%"}))),_),d6=r(Be,Np,{premod:{hp_:qp,skill_dmg_:Gp}}),r6={document:[{value:Wp,path:s6,header:o(Be,t("stacks")),name:t("hpChange"),states:p(Hp,n=>({name:t("times",{count:n}),fields:[{node:Gp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Kp,path:c6,header:o(Be,t("stacks")),name:t("otherHpChange"),states:p(Lp,n=>({name:t("times",{count:n}),fields:[{node:qp},{text:l("duration"),value:6,unit:"s"}]}))}]},i6=new s(Be,r6,Np,d6),R="SummitShaper",zp=d.weapon.data[R],[,m6]=g("weapon",R),[l6,Up]=m(R,"GoldenMajesty"),[$6,Vp]=m(R,"WithShield"),p6=[-1,.2,.25,.3,.35,.4],h6=[-1,.04,.05,.06,.07,.08],Jp=a(e.weapon.refinement,p6),u6=a(e.weapon.refinement,h6),Qp=i(P(1,c(Vp,"protected",1)),h(Up,Object.fromEntries($(1,5).map(n=>[n,i(u6,n)])),_)),_6=r(R,zp,{premod:{shield_:Jp,atk_:Qp}}),f6={document:[{header:o(R,t("base")),fields:[{node:Jp}]},{value:Up,path:l6,header:o(R,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Qp},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Vp,path:$6,header:o(R,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:m6("atkEffInc"),value:100,unit:"%"}]}}}]},g6=new s(R,f6,zp,_6),yt="SwordOfDescension",Xp=d.weapon.data[yt],Yp=h(e.charKey,p(Wh,n=>w(66)),_),Zp=c(e.weapon.key,yt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),w6=r(yt,Xp,{premod:{atk:Yp}},{dmg_:Zp}),k6={document:[{header:o(yt,t("base")),fields:[{node:Yp},{node:u(Zp,{name:t("dmg")})}]}]},v6=new s(yt,k6,Xp,w6),Pt="SwordOfNarzissenkreuz",eh=d.weapon.data[Pt],y6=[-1,1.6,2,2.4,2.8,3.2],nh=c(e.weapon.key,Pt,y(i(a(e.weapon.refinement,y6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),P6=r(Pt,eh,void 0,{dmg:nh}),S6={document:[{header:o(Pt,t("dmg")),fields:[{node:u(nh,{name:t("dmg")})}]}]},b6=new s(Pt,S6,eh,P6),hn="TheAlleyFlash",th=d.weapon.data[hn],[,O6]=g("weapon",hn),[B6,ah]=m(hn,"ItinerantHero"),E6=[-1,.12,.15,.18,.21,.24],oh=c(ah,"on",a(e.weapon.refinement,E6,{unit:"%"})),A6=r(hn,th,{premod:{all_dmg_:oh}}),x6={document:[{value:ah,path:B6,header:o(hn,t("conditional")),name:O6("condName"),states:{on:{fields:[{node:oh}]}}}]},M6=new s(hn,x6,th,A6),St="TheBlackSword",sh=d.weapon.data[St],ch=[-1,.2,.25,.3,.35,.4],D6=[-1,.6,.7,.8,.9,1],dh=a(e.weapon.refinement,ch),rh=a(e.weapon.refinement,ch),ih=c(e.weapon.key,St,Ge(i(a(e.weapon.refinement,D6,{unit:"%"}),e.total.atk))),T6=r(St,sh,{premod:{normal_dmg_:dh,charged_dmg_:rh}},{heal:ih}),R6={document:[{header:o(St,t("base")),fields:[{node:dh},{node:rh},{node:u(ih,{name:l("healing"),variant:"heal"})}]}]},I6=new s(St,R6,sh,T6),un="TheDockhandsAssistant",mh=d.weapon.data[un],[,C6]=g("weapon",un),j6=[-1,40,50,60,70,80],[F6,lh]=m(un,"symbolsConsumed"),$h=$(1,3),ph=h(lh,p($h,n=>i(n,a(e.weapon.refinement,j6,{unit:"%"}))),_),N6=r(un,mh,{premod:{eleMas:ph}}),W6={document:[{value:lh,path:F6,teamBuff:!0,header:o(un,t("stacks")),name:C6("condName"),states:p($h,n=>({name:`${n}`,fields:[{node:ph},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},H6=new s(un,W6,mh,N6),bt="TheFlute",hh=d.weapon.data[bt],uh=c(e.weapon.key,bt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),G6=r(bt,hh,void 0,{dmg_:uh}),K6={document:[{header:o(bt,t("base")),fields:[{node:u(uh,{name:t("dmg")})}]}]},L6=new s(bt,K6,hh,G6),Te="ToukabouShigure",_h=d.weapon.data[Te],[,q6]=g("weapon",Te),[z6,fh]=m(Te,"passive"),U6=[-1,.16,.2,.24,.28,.32],gh=c(e.weapon.key,Te,c(fh,"on",a(e.weapon.refinement,U6,{unit:"%"}))),V6=r(Te,_h,{premod:{all_dmg_:gh}}),J6={document:[{value:fh,path:z6,header:o(Te,t("stacks")),name:q6("condName"),states:{on:{fields:[{node:gh},{text:l("duration"),value:10,unit:"s"}]}}}]},Q6=new s(Te,J6,_h,V6),Ot="TravelersHandySword",wh=d.weapon.data[Ot],X6=[-1,.01,.0125,.015,.0175,.02],kh=c(e.weapon.key,Ot,Ge(i(a(e.weapon.refinement,X6,{unit:"%"}),e.total.hp))),Y6=r(Ot,wh,void 0,{heal:kh}),Z6={document:[{header:o(Ot,t("base")),fields:[{node:u(kh,{name:l("healing"),variant:"heal"})}]}]},e8=new s(Ot,Z6,wh,Y6),He="UrakuMisugiri",vh=d.weapon.data[He],n8=[-1,.16,.2,.24,.28,.32],t8=[-1,.24,.3,.36,.42,.48],a8=[-1,.2,.25,.3,.35,.4],No=a(e.weapon.refinement,n8),Wo=a(e.weapon.refinement,t8),[o8,Ho]=m(He,"teamGeo"),yh=1,Ph=c(Ho,"on",i(S(yh),No)),Sh=c(Ho,"on",i(S(yh),Wo)),bh=a(e.weapon.refinement,a8),s8=r(He,vh,{premod:{normal_dmg_:P(No,Ph),skill_dmg_:P(Wo,Sh),def_:bh}}),c8={document:[{header:o(He,t("base")),fields:[{node:bh},{node:u(No,f.info("normal_dmg_"))},{node:u(Wo,f.info("skill_dmg_"))}]},{value:Ho,path:o8,header:o(He,t("conditional")),name:t("teamHitOp.geo"),states:{on:{fields:[{node:u(Ph,f.info("normal_dmg_"))},{node:u(Sh,f.info("skill_dmg_"))},{text:l("duration"),value:15,unit:"s"}]}}}]},d8=new s(He,c8,vh,s8),q="WolfFang",Oh=d.weapon.data[q],r8=[-1,.16,.2,.24,.28,.32],Bh=[-1,.02,.025,.03,.035,.04],Dt=$(1,4),Go=a(e.weapon.refinement,r8),Eh={...Go},[i8,Ah]=m(q,"skillStacks"),xh=i(a(e.weapon.refinement,Bh),h(Ah,p(Dt,n=>w(n)),_)),[m8,Mh]=m(q,"burstStacks"),Dh=i(a(e.weapon.refinement,Bh),h(Mh,p(Dt,n=>w(n)),_)),l8=r(q,Oh,{premod:{skill_dmg_:Go,burst_dmg_:Eh,skill_critRate_:xh,burst_critRate_:Dh}}),$8={document:[{header:o(q,t("base")),fields:[{node:Go},{node:Eh}]},{header:o(q,t("conditional")),value:Ah,path:i8,name:t("hitOp.skill"),states:p(Dt,n=>({name:t("stack",{count:n}),fields:[{node:xh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(q,t("conditional")),value:Mh,path:m8,name:t("hitOp.burst"),states:p(Dt,n=>({name:t("stack",{count:n}),fields:[{node:Dh},{text:l("duration"),value:10,unit:"s"}]}))}]},p8=new s(q,$8,Oh,l8),Ee="XiphosMoonlight",Th=d.weapon.data[Ee],h8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Tt=c(e.weapon.key,Ee,i(a(e.weapon.refinement,h8,{unit:"%",fixed:3}),e.premod.eleMas)),Ko=c(e.weapon.key,Ee,i(S(.3),Tt)),u8=te(e.charKey,b.charKey,Ko),_8=r(Ee,Th,{total:{enerRech_:Tt},teamBuff:{total:{enerRech_:u8}}},{selfEnerRech_:Tt,teamEnerRech_disp:Ko}),f8={document:[{header:o(Ee,t("base")),fields:[{node:Tt}]},{header:o(Ee,t("teamBuff")),teamBuff:!0,fields:[{node:u(Ko,{...f.info("enerRech_"),isTeamBuff:!0})}]}]},g8=new s(Ee,f8,Th,_8),w8={AmenomaKageuchi:_b,AquilaFavonia:vb,BlackcliffLongsword:Ob,CinnabarSpindle:Db,CoolSteel:jb,DarkIronSword:Gb,DullBlade:qb,FavoniusSword:Vb,FesteringDesire:Zb,FilletBlade:o3,FinaleOfTheDeep:h3,FleuveCendreFerryman:k3,FreedomSworn:B3,HaranGeppakuFutsu:R3,HarbingerOfDawn:N3,IronSting:L3,KagotsurubeIsshin:V3,KeyOfKhajNisut:nO,LightOfFoliarIncision:dO,LionsRoar:$O,MistsplitterReforged:kO,PrimordialJadeCutter:bO,PrototypeRancour:AO,RoyalLongsword:RO,SacrificialSword:jO,SapwoodBlade:LO,SilverSword:UO,SkyriderSword:XO,SkywardBlade:t6,SplendorOfTranquilWaters:i6,SummitShaper:g6,SwordOfDescension:v6,SwordOfNarzissenkreuz:b6,TheAlleyFlash:M6,TheBlackSword:I6,TheDockhandsAssistant:H6,TheFlute:L6,ToukabouShigure:Q6,TravelersHandySword:e8,UrakuMisugiri:d8,WolfFang:p8,XiphosMoonlight:g8},Rh={...w8,...wS,...pb,...Ef,...H2},k8=Object.fromEntries(Hh.map(n=>[n,Xo(Object.values(Rh).filter(k=>k.weaponType===n).map(k=>({display:k.data.display})))]));function b8(n){return Rh[n]}export{s as W,b8 as g};
