import{N as T,O as w,j as D,Q as e,aV as k,ak as y,a1 as n,ac as u,af as x,as as b,ae as p,ah as m,h,aW as S,ax as C,au as j}from"./index-Itrjg0dg.js";import{u as _,a as E,b as z}from"./useInfScroll-CpwFaMZ0.js";import{C as M}from"./CardActionArea-D3b7EjgA.js";import{C as R}from"./CardHeader-BU9cmGIn.js";var f={},q=w;Object.defineProperty(f,"__esModule",{value:!0});var I=f.default=void 0,A=q(T()),B=D,G=(0,A.default)((0,B.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");I=f.default=G;function H(a){return e(k,{placement:"top",...a,children:e(I,{sx:{cursor:"help"}})})}function P({teamId:a,bgTheme:i="light",onClick:o}){const{database:l}=y(),t=l.teams.get(a);return e(m,{bgt:i,sx:{height:"100%",border:"1px rgba(200,200,200,0.4) solid"},children:n(u,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e(u,{sx:{display:"flex",flexDirection:"row"},children:e(M,{onClick:()=>o(),sx:{p:1},children:n(x,{sx:{display:"flex",gap:1,alignItems:"center"},variant:"h6",children:[e("span",{children:t.name})," ",t.description&&e(H,{title:t.description})]})})}),e(b,{children:e(p,{container:!0,columns:4,gap:1,children:t.loadoutData.map((s,c)=>{var d;return s!=null&&s.teamCharId?e(m,{sx:{flexGrow:1},children:e(x,{children:(d=l.teamChars.get(s.teamCharId))==null?void 0:d.key})},s.teamCharId):e(m,{sx:{flexGrow:1},children:e(x,{children:"Empty"})},c)})})})]})})}const $={xs:1,sm:2,md:3,lg:3,xl:4},N={xs:5,sm:5,md:10,lg:10,xl:10};function O(){const{database:a}=y(),[i,o]=_();h.useEffect(()=>a.teams.followAny(o),[a,o]);const l=S(),{teamIds:t}=h.useMemo(()=>{const r=a.teams.keys;return i&&{teamIds:r}},[a,i]),s=E(),{numShow:c,setTriggerElement:d}=z(N[s],t.length),g=h.useMemo(()=>t.slice(0,c),[t,c]);return e(h.Suspense,{fallback:e(C,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:n(m,{bgt:"dark",children:[e(R,{title:"Teams"}),n(b,{children:[e(j,{onClick:()=>a.teams.new(),children:"Create Team"}),n(u,{sx:{overflow:"auto",maxHeight:"50vh"},my:1,display:"flex",flexDirection:"column",gap:1,children:[e(p,{container:!0,spacing:1,columns:$,children:g.map(r=>e(p,{item:!0,xs:1,children:e(P,{teamId:r,onClick:v=>l(`${r}${v?`/${v}`:""}`)})},r))}),t.length!==g.length&&e(C,{ref:r=>{r&&d(r)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})]})})}function W(){return e(u,{sx:{mt:1},children:e(O,{})})}export{W as default};
