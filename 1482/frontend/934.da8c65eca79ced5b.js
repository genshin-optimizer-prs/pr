"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[934],{88344:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Ae});var r=n(98283),i=n(45492),a=n(38243),l=n(42745);function s(t,e=10){return c(t,e)}function o(t,e=10){return c(t,-e)}function c(t,e=10){const{r:n,g:r,b:i,a}=t;return{r:(0,l.re)(n+e,0,255),g:(0,l.re)(r+e,0,255),b:(0,l.re)(i+e,0,255),a}}function d(t,e,n){return(0,l.uh)(t.r,e.r,n.r)&&(0,l.uh)(t.g,e.g,n.g)&&(0,l.uh)(t.b,e.b,n.b)}function u(t,e){const n=t.width,r=t.height;let{x1:i=0,x2:a=n,y1:s=0,y2:o=r}=e;i=(0,l.re)(i,0,n),a=(0,l.re)(a,0,n),s=(0,l.re)(s,0,r),o=(0,l.re)(o,0,r),s>=o&&(console.warn(`trying to crop with y1:${s} y2:${o}, with src height ${r}.`),s=0,o=r),i>=a&&(console.warn(`trying to crop with x1:${i} x2:${a}, with src width ${n}.`),i=0,a=n);return t.getContext("2d",{willReadFrequently:!0}).getImageData(i,s,a-i,o-s)}const h=t=>new Promise((e=>{const n=new Image;n.onload=({target:t})=>e(function(t){const e=document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!0});return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)}(t)),n.src=t}));function f(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e}function Z(t,e,n,r=!0){const i=t.width,a=t.height,l=t.getContext("2d");return l.fillStyle=`rgba(${n.r},${n.g},${n.b},${n.a?n.a/255:1})`,r?l.fillRect(e,0,1,a):l.fillRect(0,e,i,1),t}function y(t,e,n,r=!0){const i=t.getContext("2d");return i?(i.fillStyle=`rgba(${n.r},${n.g},${n.b},${n.a?n.a/255:1})`,e.forEach(((t,e)=>r?i.fillRect(e,0,1,t):i.fillRect(0,e,t,1))),t):t}function g(t,e,n,r="color"){const i=Uint8ClampedArray.from(t.data),a="bw"===r,l="invert"===r;for(let s=0;s<i.length;s+=4){const t=i[s],r=i[s+1],o=i[s+2];d({r:t,g:r,b:o},e,n)?a?i[s]=i[s+1]=i[s+2]=0:l&&(i[s]=255-t,i[s+1]=255-r,i[s+2]=255-o):i[s]=i[s+1]=i[s+2]=255}return new ImageData(i,t.width,t.height)}function m(t,e,n,r=!0){const i=t.height,a=t.width,l=t.data;return Array.from({length:r?a:i},((t,s)=>{let o=0;for(let c=0;c<(r?i:a);c++){const t=r?b(s,c,a):b(c,s,a),[i,u,h]=[l[t],l[t+1],l[t+2]];d({r:i,g:u,b:h},e,n)&&o++}return o}))}function p(t,e,n,r=!0,i=[0,1]){const a=t.height,s=t.width,o=t.data,c=r?s:a,[d,u]=i,h=c*d,f=c*u;return Array.from({length:c},((t,i)=>{if(i<h||i>f)return 0;let c=0,d=0;for(let u=0;u<(r?a:s);u++){const t=r?b(i,u,s):b(u,i,s),[a,h,f]=[o[t],o[t+1],o[t+2]];(0,l.uh)(a,e.r,n.r)&&(0,l.uh)(h,e.g,n.g)&&(0,l.uh)(f,e.b,n.b)?d++:(d>c&&(c=d),d=0)}return d>c&&(c=d),c}))}function b(t,e,n){return e*(4*n)+4*t}function v(t,e=.7,n=3){const r=Math.max(...t)*e,i=t.length;let a=-n;for(let s=0;s<i;s++){const e=t[s]>r;if(e){if(e&&a<0)a=s;else if(e&&s-a>n)break}else a=-n}a<0&&(a=0);let l=i-1+n;for(let s=i-1;s>=0;s--){const e=t[s]>r;if(e){if(e&&l>i-1)l=s;else if(e&&l-s>n)break}else l=i-1+n}return l>i-1&&(l=i-1),[a,l]}const w={r:145,g:81,b:40},x={r:188,g:104,b:50},S={r:121,g:67,b:167},k={r:160,g:86,b:224},C={r:62,g:96,b:149},K={r:81,g:127,b:204},B={r:235,g:228,b:216},P={r:255,g:231,b:186},X={r:93,g:178,b:87},E={r:255,g:137,b:117},R={r:255,g:204,b:50},D={r:131,g:131,b:130},A={r:74,g:81,b:102};var I=n(503),G=n(67245),$=n(98885),L=n(14115);const F={hp:"HP",hp_:"HP",atk:"ATK",atk_:"ATK",def:"DEF",def_:"DEF",eleMas:"Elemental Mastery",enerRech_:"Energy Recharge",critRate_:"Crit Rate",critDMG_:"Crit DMG",heal_:"Healing Bonus"};Object.entries({physical:"Physical",anemo:"Anemo",geo:"Geo",electro:"Electro",hydro:"Hydro",pyro:"Pyro",cryo:"Cryo",dendro:"Dendro"}).forEach((([t,e])=>{F[`${t}_dmg_`]=`${e} DMG Bonus`}));const U={flower:"Flower of Life",plume:"Plume of Death",sands:"Sands of Eon",goblet:"Goblet of Eonothem",circlet:"Circlet of Logos"};var O=n(52903);function N(t,e,n,r,i,s,o,c=!1){const d={lock:b(c,"Lock",(t=>t?"Locked":"Unlocked"))};o&&(d.location=b(o,"Location",(t=>t)));const u=e.size?[...e]:["EmblemOfSeveredFate"];let h=-1,f=[{setKey:"EmblemOfSeveredFate",rarity:5,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:null!=o?o:"",lock:c}];const Z=(0,l.K8)(I.$W,(n=>{let i=0;if(e.size){i+=[...e].reduce(((t,e)=>t+(G.G2.art.data[e].rarities.includes(n)?1:0)),0)/e.size}if(t.has(n)&&i++,r.length){i+=r.reduce(((t,e)=>t+((0,L.UW)(e.key,e.value,n).length?1:0)),0)/r.length*2}return i}));for(const a of I.Ex)for(const t of I.yh[a]){const r=(0,l.bf)(t),d="%"===r?1:0,y="%"===r?.1:1,g=(n.has(a)?1:0)+(i.has(t)?1:0),m=s.filter((e=>"%"!==e.unit||"%"===(0,l.bf)(t))).map((t=>t.mainStatValue));for(const[n,i]of Object.entries(Z)){const r=parseInt(n),l=u.filter((t=>G.G2.art.data[t].rarities.includes(r))),s=g+i;if(!(s+2<h)){for(const n of m){const i=(0,L.HD)(r,t),u=Math.max(0,i.findIndex((t=>t+y>=n))),Z=s+(i[u].toFixed(d)===n.toFixed(d)?1:0);for(const n of l){const i=Z+(e.has(n)?1:0);i>=h&&(i>h&&(f=[]),h=i,f.push({setKey:n,rarity:r,level:u,slotKey:a,mainStatKey:t,substats:[],location:null!=o?o:"",lock:c}))}}if(s>=h){const n=0;for(const i of l){const l=s+(e.has(i)?1:0);l>h&&(f=[]),h=l,f.push({setKey:i,rarity:r,level:n,slotKey:a,mainStatKey:t,substats:[],location:null!=o?o:"",lock:c})}}}}}const y={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},g=f[0],m=(0,L.Bv)(g.mainStatKey,g.rarity,g.level);g.substats=r.filter(((t,e)=>t.key!==g.mainStatKey&&r.slice(0,e).every((e=>e.key!==t.key))));for(let a=g.substats.length;a<4;a++)g.substats.push({key:"",value:0});for(const a of f)y.setKey.add(a.setKey),y.rarity.add(a.rarity),y.level.add(a.level),y.slotKey.add(a.slotKey),y.mainStatKey.add(a.mainStatKey);function p(t,e,n){return(0,O.BX)(O.HY,{children:["Unknown ",e," : Set to"," ",(0,O.tZ)(a._w,{color:"error",children:n(t)})]})}function b(t,e,n){return(0,O.BX)(O.HY,{children:["Detected ",e," ",(0,O.tZ)(a._w,{color:"success",children:n(t)})]})}function v(t,e,n){return(0,O.BX)(O.HY,{children:["Inferred ",e," ",(0,O.tZ)(a._w,{color:"warning",children:n(t)})]})}function w(t,e,n,r){const i=new Set([...y[t]].filter((t=>e.has(t)))),l=g[t];i.size>1?d[t]=function(t,e,n,r){return(0,O.BX)(O.HY,{children:["Ambiguous ",n," ",(0,O.tZ)(a._w,{color:"error",children:r(t)})," : May also be"," ",e.filter((e=>e!==t)).map(((t,e)=>(0,O.BX)(O.HY,{children:[(0,O.tZ)("b",{children:e>0?"/":""}),(0,O.tZ)(a._w,{color:"warning",children:r(t)})]})))]})}(l,[...e],n,r):1===i.size?d[t]=b(l,n,r):y[t].size>1?d[t]=p(l,n,r):d[t]=v(l,n,r)}w("setKey",e,"Set",(t=>(0,O.tZ)($.C3,{setKey:t}))),w("rarity",t,"Rarity",(t=>(0,O.BX)(O.HY,{children:[t," ",1!==t?"Stars":"Star"]}))),w("slotKey",n,"Slot",(t=>(0,O.tZ)($.cN,{slotKey:t}))),w("mainStatKey",i,"Main Stat",(t=>(0,O.tZ)("span",{children:F[t]}))),d.substats=(0,O.tZ)(O.HY,{children:g.substats.filter((t=>""!==t.key)).map(((t,e)=>(0,O.tZ)("div",{children:b(t,"Sub Stat",(t=>(0,O.BX)(O.HY,{children:[F[t.key],"+",(0,L.Jj)(t.value,(0,l.bf)(t.key)),(0,l.bf)(t.key)]})))},e)))});const x=t=>(0,O.BX)(O.HY,{children:[(0,L.Jj)(t,(0,l.bf)(g.mainStatKey)),(0,l.bf)(g.mainStatKey)]}),S="%"===(0,l.bf)(g.mainStatKey)?1:0;return s.find((t=>t.mainStatValue.toFixed(S)===m.toFixed(S)))?i.has(g.mainStatKey)?(d.level=b(g.level,"Level",(t=>"+"+t)),d.mainStatVal=b(m,"Main Stat value",x)):(d.level=v(g.level,"Level",(t=>"+"+t)),d.mainStatVal=v(m,"Main Stat value",x)):(d.level=p(g.level,"Level",(t=>"+"+t)),d.mainStatVal=p(m,"Main Stat value",x)),[g,d]}function _(t){const e=Math.min(...t.map((([,t])=>t))),n=t.filter((([,t])=>t===e)).map((([t])=>t));return new Set(n)}async function W(t,e,n=!1){const{f:r,fName:i}=t,a=await(c=r,new Promise((t=>{const e=new FileReader;e.onloadend=({target:e})=>t(e.result),e.readAsDataURL(c)})));var c;const d=await h(a),b=n?{}:void 0,G=function(t,e){const n=p(t,o(B),s(B)),[r,i]=v(n),a=u(f(t),{x1:r,x2:i});if(e){const a=f(t);y(a,n,{r:255,g:0,b:0,a:100}),Z(a,r,{r:0,g:255,b:0,a:150}),Z(a,i,{r:0,g:0,b:255,a:150}),e.fullAnalysis=a.toDataURL()}return a}(d,b),$=f(G),L=function(t){const e=t.width,n=.7*e;function r(e,r){const i=p(t,o(e,20),s(r,20),!1,[0,.3]);return i.find((t=>t>n))?i:null}return[[w,x],[S,k],[C,K]].reduce(((t,e)=>t||r(e[0],e[1])),null)}(G),[O,W]=L?v(L,.7,1):[0,0],M=p(G,o(B),s(B),!1),[H,j]=v(M,.8,2);let z=j;const T=p(d,o(P),s(P),!1),V=T.some((t=>t>.5*G.width)),[Y,Q]=v(T);if(V)z=Q;else{const t=m(G,o(X),s(X),!1),[e,n]=v(t,.2),r=n-e;n>z&&(z=(0,l.re)(n+r,0,G.height))}const q=u($,{y1:O,y2:z}),J=V?u($,{y1:Y,y2:Q}):void 0,tt=u($,{x1:0,x2:.6*$.width,y1:W,y2:H});if(b){const t=f(G);L&&y(t,L,{r:0,g:150,b:150,a:100},!1),y(t,M,{r:150,g:0,b:0,a:100},!1),y(t,T,{r:0,g:0,b:100,a:100},!1),Z(t,O,{r:0,g:255,b:0,a:200},!1),Z(t,V?Q:z,{r:0,g:0,b:255,a:200},!1),Z(t,H,{r:255,g:0,b:200,a:200},!1),b.artifactCardAnalysis=t.toDataURL()}b&&(b.headerCropped=f(tt).toDataURL());const et=u($,{y1:H,y2:z}),nt=m(et,o(X),s(X),!1),[rt,it]=v(nt,.2);if(b){const t=f(et);y(t,nt,{r:100,g:0,b:0,a:100},!1),Z(t,rt,{r:0,g:255,b:0,a:200},!1),Z(t,it,{r:0,g:0,b:255,a:200},!1),b.whiteCardAnalysis=t.toDataURL()}const at=it-rt,lt=u(f(et),{y1:rt-at,y2:it+at}),st=u(f(et),{y2:rt}),ot=m(et,o(E),s(E)),ct=ot.filter((t=>t>5)).length>5;if(b){const t=f(st);y(t,ot,{r:0,g:100,b:0,a:100}),b.substatsCardCropped=t.toDataURL()}const dt=g(tt,{r:140,g:140,b:140},{r:255,g:255,b:255},"bw"),ut=g(lt,{r:30,g:100,b:30},{r:200,g:255,b:200},"bw"),ht=J&&g(J,o(A),s(D),"bw");b&&(b.bwHeader=f(dt).toDataURL(),b.greenTextCropped=f(lt).toDataURL(),b.bwGreenText=f(ut).toDataURL(),ht&&(b.bwEquipped=f(ht).toDataURL()));const[ft,Zt,yt,gt]=await Promise.all([e(dt),e(st),e(ut),ht&&e(ht)]),mt=function(t,e){const n=p(t,o(R),s(R),!1),[r,i]=v(n,.3),a=u(f(t),{y1:r,y2:i}),c=p(a,o(R),s(R));if(e){const t=f(a);y(t,c,{r:100,g:0,b:0,a:100}),e.rarity=t.toDataURL()}const d=.5*Math.max(...c);let h=0,Z=!1;for(let l=0;l<c.length;l++)c[l]>d?Z||(h++,Z=!0):Z&&(Z=!1);return(0,l.re)(h,1,5)}(tt,b),[pt,bt]=N(new Set([mt]),function(t){const e=[];for(const n of t)for(const t of I.Gt)e.push([t,(0,l.Ay)(n.replace(/\W/g,""),t)]);return _(e)}(yt),function(t){const e=[];for(const n of t)for(const t of I.Ex)e.push([t,(0,l.Ay)(n.replace(/\W/g,""),U[t].replace(/\W/g,""))]);return _(e)}(ft),function(t){const e=[];for(let n of t)n=n.replace(/^[\W]+/,"").replace(/\n/,""),I._m.forEach((t=>{const r=F[t],i=("%"===(0,l.bf)(t)?new RegExp(r+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(r+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(n);i&&e.push({key:t,value:parseFloat(i[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}));return e.slice(0,4)}(Zt),function(t){const e=[];for(const i of t)for(const t of I.rW){var n,r;const a=null==(n=F[t])?void 0:n.toLowerCase();a.length<=3?i.toLowerCase().includes(null!=a?a:"")&&e.push([t,0]):e.push([t,(0,l.Ay)(i.replace(/\W/g,""),(null!=(r=F[t])?r:"").replace(/\W/g,""))])}return _(e)}(ft),function(t){const e=[];for(const n of t){let t=/(\d+[,|\\.]+\d)%/,r=t.exec(n);r&&e.push({mainStatValue:parseFloat(r[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),t=/(\d+[,|\\.]\d{3}|\d{2,3})/,r=t.exec(n),r&&e.push({mainStatValue:parseInt(r[1].replace(/[,|\\.]+/g,""))})}return e}(ft),gt?function(t){const e=[];for(let r of t){if(!r)continue;const t=r.indexOf(":");if(-1!==t&&(r=r.slice(t+1)),r)for(const n of I.vp)e.push([n,(0,l.Ay)(r.replace(/\W/g,""),n)])}e.push(["Traveler",8]);const[n]=_(e);return n}(gt):"",ct);return{fileName:i,imageURL:f(q).toDataURL(),artifact:pt,texts:bt,debugImgs:b}}class ScanningQueue{constructor(t,e=!1){this.debug=void 0,this.textsFromImage=void 0,this.processed=[],this.outstanding=[],this.scanning=[],this.callback=()=>{},this.textsFromImage=t,this.debug=e}addFiles(t){this.outstanding.push(...t),this.processQueue()}processQueue(){const t=Math.min(16-this.processed.length-this.scanning.length,3-this.scanning.length,this.outstanding.length);t&&this.outstanding.splice(0,t).map((t=>{const e=W(t,this.textsFromImage,this.debug);this.scanning.push(e),e.then((t=>{const n=this.scanning.indexOf(e);-1!==n&&(this.scanning.splice(n,1),this.processed.push(t),this.processQueue())}))})),this.callCB()}callCB(){this.callback({processedNum:this.processed.length,outstandingNum:this.outstanding.length,scanningNum:this.scanning.length})}shiftProcessed(){const t=this.processed.shift();return t&&this.processQueue(),t}clearQueue(){this.processed=[],this.outstanding=[],this.scanning=[],this.callCB()}}var M=n(72539),H=n(67651),j=n(73673),z=n(92252),T=n(32510),V=n(85219),Y=n(16549),Q=n(75927),q=n(93994),J=n(65992),tt=n(47746),et=n(86432),nt=n(42523),rt=n(7671),it=n(41075),at=n(67550),lt=n(80551),st=n(83249),ot=n(79906),ct=n(62197),dt=n(94380),ut=n(38162),ht=n(72841),ft=n(107),Zt=n(99664),yt=n(2784),gt=n(11141),mt=n(8660),pt=n(47712),bt=n(83993),vt=n(82056),wt=n(56961),xt=n(23485),St=n(79199);let kt,Ct=t=>t;const Kt=["slotKey","onChange","hasUnselect"];function Bt(t){let{slotKey:e="",onChange:n,hasUnselect:i=!1}=t,a=(0,r.Z)(t,Kt);const{t:l}=(0,gt.$G)(["artifact","ui"]);return(0,O.BX)(xt.Z,Object.assign({title:l(e?`artifact:slotName:${e}`:"artifact:slot"),color:e?"success":"primary",startIcon:e?(0,O.tZ)(St.Z,{slotKey:e}):void 0},a,{children:[i&&(0,O.BX)(dt.Z,{selected:""===e,disabled:""===e,onClick:()=>n(""),children:[(0,O.tZ)(bt.Z,{children:(0,O.tZ)(T.Z,{})}),(0,O.tZ)(vt.Z,{children:l(kt||(kt=Ct`ui:unselect`))})]}),i&&(0,O.tZ)(wt.Z,{}),I.Ex.map((t=>(0,O.BX)(dt.Z,{selected:e===t,disabled:e===t,onClick:()=>n(t),children:[(0,O.tZ)(bt.Z,{children:(0,O.tZ)(St.Z,{slotKey:t})}),(0,O.tZ)(vt.Z,{children:l(`artifact:slotName:${t}`)})]},t)))]}))}var Pt=n(6480),Xt=n(50090),Et=n(23690),Rt=n(13780);const Dt=["value","onChange","disabled","float"];function At(t){let{value:e,onChange:n,disabled:i=!1,float:a=!1}=t,l=(0,r.Z)(t,Dt);const[s,o]=(0,yt.useState)(""),c=(0,yt.useCallback)((()=>{if(""===s)return n(0);const t=a?parseFloat:parseInt;n(t(s))}),[n,s,a]);return(0,yt.useEffect)((()=>{var t;return o(null!=(t=null==e?void 0:e.toString())?t:"")}),[e,o]),(0,O.tZ)(Rt.Z,Object.assign({value:s,"aria-label":"custom-input",type:"number",onChange:t=>o(t.target.value),onBlur:c,disabled:i,onKeyDown:t=>"Enter"===t.key&&c()},l))}var It=n(79410),Gt=n(69698),$t=n(4121),Lt=n(69614),Ft=n(80639),Ut=n(34156),Ot=n(39099),Nt=n(11845),_t=n(30706),Wt=n(87833),Mt=n(12702),Ht=n(96580);function jt({efficiency:t,max:e=!1,t:n,valid:r}){const i=e?"maxSubEff":"curSubEff";return(0,O.tZ)(Wt.Z,{sx:{py:1,px:2},children:(0,O.BX)(it.ZP,{container:!0,spacing:1,children:[(0,O.tZ)(it.ZP,{item:!0,children:n(`editor.${i}`)}),(0,O.tZ)(it.ZP,{item:!0,flexGrow:1,children:(0,O.tZ)(Mt.Z,{title:(0,O.BX)("span",{children:[(0,O.tZ)(ct.Z,{variant:"h6",children:n(`editor.${i}`)}),(0,O.tZ)(ct.Z,{children:(0,O.tZ)(gt.cC,{t:n,i18nKey:`editor.${i}Desc`})})]})})}),(0,O.tZ)(it.ZP,{item:!0,xs:"auto",children:(0,O.tZ)(Ht.Z,{valid:r,max:900,value:r?t:"ERR"})})]})})}var zt=n(15099),Tt=n(89977),Vt=n(12366),Yt=n(13900),Qt=n(25576);let qt,Jt,te,ee,ne,re,ie,ae=t=>t;function le({index:t,artifact:e,setSubstat:n}){var r;const{t:i}=(0,gt.$G)("artifact"),{mainStatKey:a="",rarity:s=5}=null!=e?e:{},{key:o="",value:c=0,rolls:d=[],efficiency:u=0}=null!=(r=null==e?void 0:e.substats[t])?r:{},h=d.reduce(((t,e)=>t+e),0),f=Qt.ZP.unit(o),Z=d.length;let y="",g=[],m=0;if(e){const t=e.rarity,{numUpgrades:n,high:r}=I.i0[t];m=n+r-3-Z,g=o?(0,L.ME)(o,t):[]}const p=7-g.length;!Z&&o&&c&&(y=y||i(qt||(qt=ae`editor.substat.error.noCalc`))),m<0&&(y=y||i("editor.substat.error.noOverRoll",{value:m+Z}));const b=(0,yt.useMemo)((()=>o?[{value:0},...(0,L.K_)(s,o).map((t=>({value:t})))]:[{value:0}]),[o,s]);return(0,O.BX)(Wt.Z,{children:[(0,O.tZ)(at.Z,{sx:{display:"flex"},children:(0,O.BX)(lt.Z,{size:"small",sx:{width:"100%",display:"flex"},children:[(0,O.BX)(xt.Z,{startIcon:o?(0,O.tZ)(Ot.C,{statKey:o}):void 0,title:o?(0,O.tZ)(Pt.w0,{statKey:o}):i("editor.substat.substatFormat",{value:t+1}),disabled:!e,color:o?"success":"primary",sx:{whiteSpace:"nowrap"},children:[o&&(0,O.tZ)(dt.Z,{onClick:()=>n(t,{key:"",value:0}),children:i(Jt||(Jt=ae`editor.substat.noSubstat`))}),I._m.filter((t=>a!==t)).map((e=>(0,O.BX)(dt.Z,{selected:o===e,disabled:o===e,onClick:()=>n(t,{key:e,value:0}),children:[(0,O.tZ)(bt.Z,{children:(0,O.tZ)(Ot.C,{statKey:e})}),(0,O.tZ)(vt.Z,{children:(0,O.tZ)(Pt.w0,{statKey:e})})]},e)))]}),(0,O.tZ)(Tt.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,O.tZ)(Tt.ZP,{float:"%"===f,placeholder:i(te||(te=ae`editor.substat.selectSub`)),value:o?c:void 0,onChange:e=>n(t,{key:o,value:null!=e?e:0}),disabled:!o,error:!!y,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!g.length&&(0,O.tZ)(Yt.Z,{children:i(ee||(ee=ae`editor.substat.nextRolls`))}),g.map(((e,r)=>{var i,a;let d=(0,L.Jj)(h+e,f);return d=null!=(i=null==(a=G.G2.art.subRollCorrection[s])||null==(a=a[o])?void 0:a[d])?i:d,(0,O.tZ)(st.Z,{color:`roll${(0,l.re)(p+r,1,6)}`,disabled:c&&!Z||m<=0,onClick:()=>n(t,{key:o,value:parseFloat(d)}),children:d},r)}))]})}),(0,O.tZ)(at.Z,{px:2,children:(0,O.tZ)(se,{value:c,marks:b,setValue:e=>{var r;return n(t,{key:o,value:null!=(r=e)?r:0})},disabled:!o})}),(0,O.tZ)(at.Z,{sx:{px:1,pb:1},children:y?(0,O.tZ)(Vt.Z,{color:"error",children:i(ne||(ne=ae`ui:error`))}):(0,O.BX)(it.ZP,{container:!0,children:[(0,O.tZ)(it.ZP,{item:!0,children:(0,O.tZ)(Vt.Z,{color:0===Z?"secondary":`roll${(0,l.re)(Z,1,6)}`,children:Z?i("editor.substat.RollCount",{count:Z}):i(re||(re=ae`editor.substat.noRoll`))})}),(0,O.tZ)(it.ZP,{item:!0,flexGrow:1,children:!!d.length&&[...d].sort().map(((t,e)=>(0,O.tZ)(ct.Z,{component:"span",color:`roll${(0,l.re)(p+g.indexOf(t),1,6)}.main`,sx:{ml:1},children:(0,L.Jj)(t,f)},`${e}.${t}`)))}),(0,O.tZ)(it.ZP,{item:!0,xs:"auto",flexShrink:1,children:(0,O.tZ)(ct.Z,{children:(0,O.BX)(gt.cC,{t:i,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",(0,O.tZ)(Ht.Z,{valid:!0,max:100*Z,value:u||i(ie||(ie=ae`editor.substat.noStat`))})]})})})]})})]})}function se({value:t,setValue:e,marks:n,disabled:r=!1}){var i,a;const[l,s]=(0,yt.useState)(t);return(0,yt.useEffect)((()=>s(t)),[t]),(0,O.tZ)(zt.ZP,{value:l,step:null,disabled:r,marks:n,min:0,max:null!=(i=null==(a=n[n.length-1])?void 0:a.value)?i:0,onChange:(t,e)=>s(e),onChangeCommitted:(t,n)=>e(n),valueLabelDisplay:"auto"})}var oe=n(24264);const ce=n.p+"scanned.7fcdf3986bbc6101.png",de=n.p+"fullscreen.093bacd265118df9.png";function ue({modalShow:t,hide:e}){return(0,O.tZ)(Gt.Z,{open:t,onClose:e,children:(0,O.BX)(oe.Z,{children:[(0,O.tZ)(rt.Z,{sx:{py:1},children:(0,O.BX)(it.ZP,{container:!0,children:[(0,O.tZ)(it.ZP,{item:!0,flexGrow:1,children:(0,O.tZ)(ct.Z,{variant:"subtitle1",children:"How to Upload Screenshots for parsing"})}),(0,O.tZ)(it.ZP,{item:!0,children:(0,O.tZ)(Et.Z,{onClick:e})})]})}),(0,O.tZ)(wt.Z,{}),(0,O.BX)(rt.Z,{children:[(0,O.BX)(ft.Z,{variant:"outlined",severity:"warning",children:["NOTE: Artifact Scanning currently only works for"," ",(0,O.tZ)("strong",{children:"ENGLISH"})," artifacts."]}),(0,O.BX)(it.ZP,{container:!0,spacing:1,mt:1,children:[(0,O.tZ)(it.ZP,{item:!0,xs:8,md:6,children:(0,O.tZ)(at.Z,{component:"img",alt:"snippet of the screen to take",src:de,width:"100%",height:"auto"})}),(0,O.BX)(it.ZP,{item:!0,xs:12,md:6,children:[(0,O.tZ)(ct.Z,{gutterBottom:!0,children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),(0,O.tZ)(ct.Z,{variant:"h5",children:"Where to snip the screenshot."}),(0,O.BX)(ct.Z,{gutterBottom:!0,children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer."," ",(0,O.tZ)("b",{children:"Only artifact from this screen can be scanned."})]}),(0,O.tZ)(ct.Z,{variant:"h6",children:"Single artifact"}),(0,O.BX)(ct.Z,{gutterBottom:!0,children:["To take a screenshot, in Windows, the shortcut is"," ",(0,O.tZ)("strong",{children:"Alt + Print Screen"}),". Once you selected the region, the image is automatically included in your clipboard."]}),(0,O.tZ)(ct.Z,{variant:"h6",children:"Multiple artifacts"}),(0,O.BX)(ct.Z,{gutterBottom:!0,children:["To take advantage of batch uploads, you can use a tool like"," ",(0,O.tZ)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," ","to create a macro to easily to screenshot multiple artifacts at once."]}),(0,O.tZ)(ct.Z,{variant:"h5",children:"What to include in the screenshot."}),(0,O.tZ)(ct.Z,{children:"The full genshin window, or at least a region that covers the artifact card."})]}),(0,O.BX)(it.ZP,{item:!0,xs:12,md:7,children:[(0,O.tZ)(ct.Z,{variant:"h5",children:"Adding Screenshot to Genshin Optimizer"}),(0,O.tZ)(ct.Z,{children:"At this point, you should have the artifact screenshot either saved to your harddrive, or in your clipboard."}),(0,O.tZ)(ct.Z,{gutterBottom:!0,children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),(0,O.BX)(ct.Z,{children:["For single screenshots from the snippets, just press"," ",(0,O.tZ)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),(0,O.BX)(ct.Z,{gutterBottom:!0,children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",(0,O.tZ)("b",{children:"Artifact Editor"}),"."]}),(0,O.tZ)(ct.Z,{variant:"h5",children:"Finishing the Artifact"}),(0,O.BX)(ct.Z,{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",(0,O.tZ)("strong",{children:"Add Artifact"})," to finish editing the artifact."]})]}),(0,O.tZ)(it.ZP,{item:!0,xs:8,md:5,children:(0,O.tZ)(at.Z,{component:"img",alt:"main screen after importing stats",src:ce,width:"100%",height:"auto"})})]})]}),(0,O.tZ)(wt.Z,{}),(0,O.tZ)(rt.Z,{sx:{py:1},children:(0,O.tZ)(Et.Z,{large:!0,onClick:e})})]})})}var he=n(24370);const fe=new l.eQ((async t=>{const e=(0,he.createScheduler)(),n=Array(2).fill(0).map((async n=>{const r=await(0,he.createWorker)(t,void 0,{errorHandler:console.error,langPath:"./assets"});e.addWorker(r)}));return await Promise.any(n),e}),((t,e)=>{e.then((t=>t.terminate()))}));async function Ze(t,e=void 0){const n=f(t);return(await fe.borrow("genshin_fast_09_04_21",(async t=>await(await t).addJob("recognize",n,e)))).data.lines.map((t=>t.text))}const ye=["artifact"];let ge,me,pe,be,ve,we,xe,Se,ke,Ce,Ke,Be,Pe,Xe=t=>t;const Ee=new Set(I._m);function Re(t,e){const n=(()=>{switch(e.type){case"reset":return;case"substat":{const{index:n,substat:r}=e,i=r.key?t.substats.findIndex((t=>t.key===r.key)):-1;return-1===i||i===n?t.substats[n]=r:[t.substats[n],t.substats[i]]=[t.substats[i],t.substats[n]],Object.assign({},t)}case"overwrite":return e.artifact;case"update":return Object.assign({},t,e.artifact)}})();return n?(0,Ft.BG)(n,!0):n}const De=(0,J.ZP)("input")({display:"none"});function Ae({artifactIdToEdit:t="",cancelEdit:e,allowUpload:n=!1,allowEmpty:s=!1,disableSet:o=!1,disableSlot:c=!1}){var d,u,h;const f=(0,yt.useRef)(new ScanningQueue(Ze,Nt.dG)).current,{t:Z}=(0,gt.$G)("artifact"),{database:y}=(0,yt.useContext)(Ut.t),[g,m]=(0,yt.useState)(!1),[p,b]=(0,i.NW)();(0,yt.useEffect)((()=>y.arts.followAny(b)),[y,b]);const[v,w]=(0,yt.useReducer)(Re,void 0),[x,S]=(0,yt.useState)(!1),[{processedNum:k,outstandingNum:C,scanningNum:K},B]=(0,yt.useState)({processedNum:0,outstandingNum:0,scanningNum:0}),[P,X]=(0,yt.useState)(void 0),{fileName:E,imageURL:R,debugImgs:D,texts:A}=null!=P?P:{},G=k+C+K,$=!["new",""].includes(t)&&!(null==v||!v.location)||c,F=(0,yt.useCallback)((t=>{t&&(m(!0),f.addFiles(Array.from(t).map((t=>({f:t,fName:t.name})))))}),[m,f]),U=(0,yt.useCallback)((()=>{f.clearQueue()}),[f]),N=(0,yt.useCallback)((t=>{t.target&&(F(t.target.files),t.target.value="")}),[F]),{old:_,oldType:W}=(0,yt.useMemo)((()=>{var e;const n=p&&t&&y.arts.get(t);if(n)return{old:n,oldType:"edit"};if(void 0===v)return{old:void 0,oldType:""};const{duplicated:r,upgraded:i}=p&&y.arts.findDups(v);return{old:null!=(e=r[0])?e:i[0],oldType:0!==r.length?"duplicate":"upgrade"}}),[v,t,y,p]),{artifact:J,errors:Zt}=(0,yt.useMemo)((()=>{if(!v)return{artifact:void 0,errors:[]};return(0,Ft.m1)(v,t)}),[v,t]),bt=v?(0,$t.Sk)(v.setKey):void 0,vt=(0,yt.useCallback)((()=>{null==e||e(),w({type:"reset"}),X(void 0)}),[e,w]),wt=(0,yt.useCallback)((t=>{var e,n;const r=t.setKey?(0,$t.Sk)(t.setKey):bt;function i(t,e,n){return t&&e.includes(t)?t:null!=n?n:e[0]}t.setKey&&(t.rarity=i(null==v?void 0:v.rarity,r.rarity,Math.max(...r.rarity)),t.slotKey=i(null==v?void 0:v.slotKey,r.slots)),t.rarity&&(t.level=null!=(e=null==v?void 0:v.level)?e:0),t.level&&(t.level=(0,l.re)(t.level,0,4*(null!=(n=t.rarity)?n:v.rarity))),t.slotKey&&(t.mainStatKey=i(null==v?void 0:v.mainStatKey,I.yh[t.slotKey])),t.mainStatKey&&(t.substats=[0,1,2,3].map((e=>v&&v.substats[e].key!==t.mainStatKey?v.substats[e]:{key:"",value:0}))),w({type:"update",artifact:t})}),[v,bt,w]),St=(0,yt.useCallback)(((t,e)=>{w({type:"substat",index:t,substat:e})}),[w]),kt=!Zt.length,{rarity:Ct=5,level:Kt=0,slotKey:Rt="flower"}=null!=v?v:{},{currentEfficiency:Dt=0,maxEfficiency:Wt=0}=J?Lt.Z.getArtifactEfficiency(J,Ee):{},Mt=(0,yt.useCallback)((e=>{t||!G&&!v||window.confirm(Z(me||(me=Xe`editor.clearPrompt`)))?(m(!1),f.clearQueue(),vt()):null==e||e.preventDefault()}),[Z,t,f,v,G,m,vt]),Ht=(0,tt.Z)(),zt=(0,et.Z)(Ht.breakpoints.up("md")),Tt=v?I.fR.find((t=>v.mainStatKey.includes(t))):void 0,Vt=v?null!=Tt?Tt:"success":"primary",Yt=(0,yt.useCallback)((t=>wt({setKey:t})),[wt]),Qt=(0,yt.useCallback)((t=>""===t||!(!$||"circlet"===Rt||"PrayersForDestiny"!==t&&"PrayersForIllumination"!==t&&"PrayersForWisdom"!==t&&"PrayersToSpringtime"!==t)),[$,Rt]);return(0,yt.useEffect)((()=>{"new"===t&&(m(!0),w({type:"reset"}));const e=t&&p&&y.arts.get(t);e&&(m(!0),w({type:"overwrite",artifact:(0,l.I8)(e)}))}),[t,y,p]),(0,yt.useEffect)((()=>{if(!k||P)return;const t=f.shiftProcessed();if(!t)return;const{artifact:e}=t,n=(0,r.Z)(t,ye);X(n),w({type:"overwrite",artifact:e})}),[f,k,P]),(0,yt.useEffect)((()=>{const t=t=>{var e;return F(null==(e=t.clipboardData)?void 0:e.files)};return n&&window.addEventListener("paste",t),()=>{n&&window.removeEventListener("paste",t)}}),[F,n]),(0,yt.useEffect)((()=>(f.callback=B,()=>{f.callback=()=>{}})),[f]),(0,O.tZ)(Gt.Z,{open:g,onClose:Mt,children:(0,O.BX)(a.s8,{children:[(0,O.tZ)(ue,{modalShow:x,hide:()=>S(!1)}),(0,O.tZ)(nt.Z,{title:(0,O.tZ)(gt.cC,{t:Z,i18nKey:"editor.title",children:"Artifact Editor"}),action:(0,O.tZ)(Et.Z,{disabled:!!G,onClick:Mt})}),(0,O.BX)(rt.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,O.BX)(it.ZP,{container:!0,spacing:1,columns:{xs:1,md:2},children:[(0,O.BX)(it.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[(0,O.BX)(at.Z,{sx:{display:"flex",gap:1},children:[(0,O.tZ)(pt.Z,{disabled:o,size:"small",artSetKey:null!=(d=null==v?void 0:v.setKey)?d:"",setArtSetKey:Yt,sx:{flexGrow:1},label:null!=v&&v.setKey?"":Z("editor.unknownSetName"),getOptionDisabled:({key:t})=>Qt(t)}),(0,O.tZ)(mt.Z,{rarity:v?Ct:void 0,onChange:t=>wt({rarity:t}),filter:t=>{var e;return!(null==bt||null==(e=bt.rarity)||null==e.includes||!e.includes(t))},disabled:!bt})]}),(0,O.BX)(at.Z,{component:"div",display:"flex",children:[(0,O.tZ)(At,{id:"filled-basic",label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:Kt,disabled:!bt,placeholder:"0~"+4*Ct,onChange:t=>wt({level:t})}),(0,O.BX)(lt.Z,{children:[(0,O.tZ)(st.Z,{onClick:()=>wt({level:Kt-1}),disabled:!bt||0===Kt,children:"-"}),Ct?[...Array(Ct+1).keys()].map((t=>4*t)).map((t=>(0,O.tZ)(st.Z,{onClick:()=>wt({level:t}),disabled:!bt||Kt===t,children:t},t))):null,(0,O.tZ)(st.Z,{onClick:()=>wt({level:Kt+1}),disabled:!bt||Kt===4*Ct,children:"+"})]})]}),(0,O.BX)(at.Z,{component:"div",display:"flex",children:[(0,O.tZ)(Bt,{disabled:$||!bt||(null==v||null==(u=v.setKey)?void 0:u.startsWith("Prayer")),slotKey:Rt,onChange:t=>wt({slotKey:t})}),(0,O.tZ)(a.s8,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:(0,O.tZ)(yt.Suspense,{fallback:(0,O.tZ)(ot.Z,{width:"60%"}),children:(0,O.tZ)(ct.Z,{color:"text.secondary",children:v&&null!=bt&&bt.getSlotName(v.slotKey)?(0,O.BX)("span",{children:[(0,O.tZ)(It.Z,{size:2,src:(0,M.Hp)(v.setKey,v.slotKey)}),null==bt?void 0:bt.getSlotName(v.slotKey)]}):Z(pe||(pe=Xe`editor.unknownPieceName`))})})})]}),(0,O.BX)(at.Z,{component:"div",display:"flex",gap:1,children:[(0,O.tZ)(xt.Z,{startIcon:null!=v&&v.mainStatKey?(0,O.tZ)(Ot.C,{statKey:v.mainStatKey}):void 0,title:(0,O.tZ)("b",{children:v?(0,O.tZ)(Pt.w0,{statKey:v.mainStatKey}):Z(be||(be=Xe`mainStat`))}),disabled:!bt,color:Vt,children:I.yh[Rt].map((t=>(0,O.tZ)(dt.Z,{selected:(null==v?void 0:v.mainStatKey)===t,disabled:(null==v?void 0:v.mainStatKey)===t,onClick:()=>wt({mainStatKey:t}),children:(0,O.tZ)(Pt.Rl,{statKey:t})},t)))}),(0,O.tZ)(a.s8,{bgt:"light",sx:{p:1,flexGrow:1},children:(0,O.tZ)(ct.Z,{color:"text.secondary",children:v?(0,L.R1)(v.mainStatKey,Ct,Kt):Z(ve||(ve=Xe`mainStat`))})}),(0,O.tZ)(st.Z,{disabled:!v,onClick:()=>wt({lock:!(null!=v&&v.lock)}),color:null!=v&&v.lock?"success":"primary",children:null!=v&&v.lock?(0,O.tZ)(Q.Z,{}):(0,O.tZ)(q.Z,{})})]}),(0,O.tZ)(Xt.W,{location:null!=(h=null==v?void 0:v.location)?h:"",setLocation:t=>wt({location:t}),autoCompleteProps:{disabled:!v}}),(0,O.tZ)(jt,{valid:kt,efficiency:Dt,t:Z}),Dt!==Wt&&(0,O.tZ)(jt,{max:!0,valid:kt,efficiency:Wt,t:Z}),n&&(0,O.tZ)(a.s8,{bgt:"light",children:(0,O.tZ)(rt.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:(0,O.BX)(yt.Suspense,{fallback:(0,O.tZ)(ot.Z,{width:"100%",height:"100"}),children:[(0,O.BX)(it.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,O.tZ)(it.ZP,{item:!0,flexGrow:1,children:(0,O.BX)("label",{htmlFor:"contained-button-file",children:[(0,O.tZ)(De,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:N}),(0,O.tZ)(st.Z,{component:"span",startIcon:(0,O.tZ)(H.Z,{}),children:"Upload Screenshot (or Ctrl-V)"})]})}),Nt.dG&&D&&(0,O.tZ)(it.ZP,{item:!0,children:(0,O.tZ)(Ie,{imgs:D})}),(0,O.tZ)(it.ZP,{item:!0,children:(0,O.tZ)(st.Z,{color:"info",sx:{px:2,minWidth:0},onClick:()=>S(!0),children:(0,O.tZ)(Y.Z,{})})})]}),R&&(0,O.tZ)(at.Z,{display:"flex",justifyContent:"center",children:(0,O.tZ)(at.Z,{component:"img",src:R,width:"100%",maxWidth:350,height:"auto",alt:E||"Screenshot to parse for artifact values"})}),!!G&&(0,O.tZ)(ut.Z,{variant:"buffer",value:100*k/G,valueBuffer:100*(k+K)/G}),!!G&&(0,O.tZ)(a.s8,{sx:{pl:2},children:(0,O.BX)(at.Z,{display:"flex",alignItems:"center",children:[!!K&&(0,O.tZ)(ht.Z,{size:"1em"}),(0,O.tZ)(ct.Z,{sx:{flexGrow:1,ml:1},children:(0,O.BX)("span",{children:["Screenshots in file-queue:",(0,O.tZ)("b",{children:G})]})}),(0,O.tZ)(st.Z,{size:"small",color:"error",onClick:U,children:"Clear file-queue"})]})})]})})})]}),(0,O.BX)(it.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[[0,1,2,3].map((t=>(0,O.tZ)(le,{index:t,artifact:J,setSubstat:St},t))),A&&(0,O.tZ)(a.s8,{bgt:"light",children:(0,O.BX)(rt.Z,{children:[(0,O.tZ)("div",{children:A.slotKey}),(0,O.tZ)("div",{children:A.mainStatKey}),(0,O.tZ)("div",{children:A.mainStatVal}),(0,O.tZ)("div",{children:A.rarity}),(0,O.tZ)("div",{children:A.level}),(0,O.tZ)("div",{children:A.lock}),(0,O.tZ)("div",{children:A.substats}),(0,O.tZ)("div",{children:A.setKey}),(0,O.tZ)("div",{children:A.location})]})})]})]}),_&&(0,O.BX)(it.ZP,{container:!0,sx:{justifyContent:"space-around"},spacing:1,children:[(0,O.tZ)(it.ZP,{item:!0,xs:12,md:5.5,lg:4,children:(0,O.BX)(a.s8,{bgt:"light",children:[(0,O.tZ)(ct.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:Z("edit"!==W?"duplicate"===W?we||(we=Xe`editor.dupArt`):xe||(xe=Xe`editor.upArt`):Se||(Se=Xe`editor.beforeEdit`))}),(0,O.tZ)(_t.Z,{artifactObj:_})]})}),zt&&(0,O.tZ)(it.ZP,{item:!0,md:1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,O.tZ)(a.s8,{bgt:"light",sx:{display:"flex"},children:(0,O.tZ)(j.Z,{sx:{fontSize:40}})})}),(0,O.tZ)(it.ZP,{item:!0,xs:12,md:5.5,lg:4,children:(0,O.BX)(a.s8,{bgt:"light",children:[(0,O.tZ)(ct.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:Z(ke||(ke=Xe`editor.preview`))}),(0,O.tZ)(_t.Z,{artifactObj:J})]})})]}),!kt&&(0,O.tZ)(ft.Z,{variant:"filled",severity:"error",children:Zt.map(((t,e)=>(0,O.tZ)("div",{children:t},e)))}),(0,O.BX)(it.ZP,{container:!0,spacing:2,children:[(0,O.tZ)(it.ZP,{item:!0,children:"edit"===W?(0,O.tZ)(st.Z,{startIcon:(0,O.tZ)(z.Z,{}),onClick:()=>{v&&y.arts.set(_.id,v),s||(m(!1),e()),vt()},disabled:!v||!kt,color:"primary",children:Z(Ce||(Ce=Xe`editor.btnSave`))}):(0,O.tZ)(st.Z,{startIcon:(0,O.tZ)(z.Z,{}),onClick:()=>{y.arts.new(v),s||(m(!1),e()),vt()},disabled:!v||!kt,color:"duplicate"===W?"warning":"primary",children:Z(Ke||(Ke=Xe`editor.btnAdd`))})}),(0,O.tZ)(it.ZP,{item:!0,flexGrow:1,children:s&&(0,O.tZ)(st.Z,{startIcon:(0,O.tZ)(T.Z,{}),disabled:!v,onClick:()=>{window.confirm(Z(ge||(ge=Xe`editor.clearPrompt`)))&&vt()},color:"error",children:Z(Be||(Be=Xe`editor.btnClear`))})}),(0,O.tZ)(it.ZP,{item:!0,children:!1}),_&&"edit"!==W&&(0,O.tZ)(it.ZP,{item:!0,children:(0,O.tZ)(st.Z,{startIcon:(0,O.tZ)(V.Z,{}),onClick:()=>{v&&y.arts.set(_.id,v),s?vt():m(!1)},disabled:!v||!kt,color:"success",children:Z(Pe||(Pe=Xe`editor.btnUpdate`))})})]})]})]})})}function Ie({imgs:t}){const[e,n]=(0,yt.useState)(!1);return(0,O.BX)(O.HY,{children:[(0,O.tZ)(st.Z,{color:"warning",onClick:()=>n(!0),children:"DEBUG"}),(0,O.tZ)(Gt.Z,{open:e,onClose:()=>n(!1),children:(0,O.tZ)(a.s8,{children:(0,O.tZ)(rt.Z,{children:(0,O.tZ)(Zt.Z,{spacing:1,children:Object.entries(t).map((([t,e])=>(0,O.BX)(at.Z,{children:[(0,O.tZ)(ct.Z,{children:t}),(0,O.tZ)(at.Z,{component:"img",src:e,maxWidth:"100%"})]},t)))})})})})]})}}}]);