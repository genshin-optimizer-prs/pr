import{g as Kt,a as Wt,c as Ve,j as I,s as ne,P as gn,b as se,d as pt,l as ft,_ as x,r as g,u as Ut,e as qt,I as yn,C as xn,f as he,h as Gt,i as kn,k as Sn,m as It,n as Cn,o as ot,p as He,q as st,t as Fe,v as Mt,w as Yt,x as $n,y as ue,z as Ln,A as Pn,B as An,D as lt,E as Xt,R as Rn,F as In,G as Be,H as Ke,J as u,K as Mn,L as ht,M as Tn,N as Ce,O as vt,Q as _n,S as wn,T as B,U as Zt,V as jn,W as En,X as zn,Y as Nn,Z as On,$ as it,a0 as Tt,a1 as _t,a2 as Hn,a3 as ie,a4 as Fn,a5 as ce,a6 as Ie,a7 as Jt,a8 as Re,a9 as Dn,aa as Vn,ab as Qt,ac as Bn,ad as Kn,ae as Wn,af as wt,ag as en,ah as jt,ai as Un,aj as qn,ak as Pe,al as Gn,am as mt,an as Yn,ao as Xn,ap as Zn}from"./index-D-dR-sae.js";import{C as Jn,L as Qn,u as er,a as tr}from"./LocationAutocomplete-CgTdeRMM.js";const nr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},rr=nr;function ar(e){return Wt("MuiAlert",e)}const or=Kt("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Et=or,sr=Ve(I.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),lr=Ve(I.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ir=Ve(I.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),cr=Ve(I.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ur=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],dr=e=>{const{variant:t,color:n,severity:o,classes:s}=e,r={root:["root",`${t}${se(n||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Gt(r,ar,s)},pr=ne(gn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${se(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?pt:ft,o=e.palette.mode==="light"?ft:pt,s=t.color||t.severity;return x({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},s&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${s}Color`]:n(e.palette[s].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${s}StandardBg`]:o(e.palette[s].light,.9),[`& .${Et.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}},s&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${s}Color`]:n(e.palette[s].light,.6),border:`1px solid ${(e.vars||e).palette[s].light}`,[`& .${Et.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}},s&&t.variant==="filled"&&x({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${s}FilledColor`],backgroundColor:e.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[s].dark:e.palette[s].main,color:e.palette.getContrastText(e.palette[s].main)}))}),fr=ne("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),mr=ne("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),zt=ne("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Nt={success:I.jsx(sr,{fontSize:"inherit"}),warning:I.jsx(lr,{fontSize:"inherit"}),error:I.jsx(ir,{fontSize:"inherit"}),info:I.jsx(cr,{fontSize:"inherit"})},hr=g.forwardRef(function(t,n){var o,s,r,l,c,d;const v=Ut({props:t,name:"MuiAlert"}),{action:b,children:A,className:k,closeText:S="Close",color:_,components:C={},componentsProps:f={},icon:a,iconMapping:p=Nt,onClose:L,role:M="alert",severity:R="success",slotProps:m={},slots:K={},variant:G="standard"}=v,z=qt(v,ur),$=x({},v,{color:_,severity:R,variant:G}),N=dr($),U=(o=(s=K.closeButton)!=null?s:C.CloseButton)!=null?o:yn,J=(r=(l=K.closeIcon)!=null?l:C.CloseIcon)!=null?r:xn,O=(c=m.closeButton)!=null?c:f.closeButton,w=(d=m.closeIcon)!=null?d:f.closeIcon;return I.jsxs(pr,x({role:M,elevation:0,ownerState:$,className:he(N.root,k),ref:n},z,{children:[a!==!1?I.jsx(fr,{ownerState:$,className:N.icon,children:a||p[R]||Nt[R]}):null,I.jsx(mr,{ownerState:$,className:N.message,children:A}),b!=null?I.jsx(zt,{ownerState:$,className:N.action,children:b}):null,b==null&&L?I.jsx(zt,{ownerState:$,className:N.action,children:I.jsx(U,x({size:"small","aria-label":S,title:S,color:"inherit",onClick:L},O,{children:I.jsx(J,x({fontSize:"small"},w))}))}):null]}))}),vr=hr;function br(e,t,n=(o,s)=>o===s){return e.length===t.length&&e.every((o,s)=>n(o,t[s]))}const gr=2;function tn(e,t){return e-t}function Ae(e,t,n){return e==null?t:Math.min(Math.max(t,e),n)}function Ot(e,t){var n;const{index:o}=(n=e.reduce((s,r,l)=>{const c=Math.abs(t-r);return s===null||c<s.distance||c===s.distance?{distance:c,index:l}:s},null))!=null?n:{};return o}function Ee(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let o=0;o<n.changedTouches.length;o+=1){const s=n.changedTouches[o];if(s.identifier===t.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function De(e,t,n){return(e-t)*100/(n-t)}function yr(e,t,n){return(n-t)*e+t}function xr(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),o=n[0].split(".")[1];return(o?o.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function kr(e,t,n){const o=Math.round((e-n)/t)*t+n;return Number(o.toFixed(xr(t)))}function Ht({values:e,newValue:t,index:n}){const o=e.slice();return o[n]=t,o.sort(tn)}function ze({sliderRef:e,activeIndex:t,setActive:n}){var o,s;const r=He(e.current);if(!((o=e.current)!=null&&o.contains(r.activeElement))||Number(r==null||(s=r.activeElement)==null?void 0:s.getAttribute("data-index"))!==t){var l;(l=e.current)==null||l.querySelector(`[type="range"][data-index="${t}"]`).focus()}n&&n(t)}function Ne(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?br(e,t):!1}const Sr={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Cr=e=>e;let Oe;function ct(){return Oe===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Oe=CSS.supports("touch-action","none"):Oe=!0),Oe}function $r(e){const{"aria-labelledby":t,defaultValue:n,disabled:o=!1,disableSwap:s=!1,isRtl:r=!1,marks:l=!1,max:c=100,min:d=0,name:v,onChange:b,onChangeCommitted:A,orientation:k="horizontal",rootRef:S,scale:_=Cr,step:C=1,tabIndex:f,value:a}=e,p=g.useRef(),[L,M]=g.useState(-1),[R,m]=g.useState(-1),[K,G]=g.useState(!1),z=g.useRef(0),[$,N]=kn({controlled:a,default:n??d,name:"Slider"}),U=b&&((i,h,y)=>{const P=i.nativeEvent||i,V=new P.constructor(P.type,P);Object.defineProperty(V,"target",{writable:!0,value:{value:h,name:v}}),b(V,h,y)}),J=Array.isArray($);let O=J?$.slice().sort(tn):[$];O=O.map(i=>Ae(i,d,c));const w=l===!0&&C!==null?[...Array(Math.floor((c-d)/C)+1)].map((i,h)=>({value:d+C*h})):l||[],Q=w.map(i=>i.value),{isFocusVisibleRef:Me,onBlur:re,onFocus:ae,ref:We}=Sn(),[Te,ve]=g.useState(-1),Y=g.useRef(),_e=It(We,Y),$e=It(S,_e),we=i=>h=>{var y;const P=Number(h.currentTarget.getAttribute("data-index"));ae(h),Me.current===!0&&ve(P),m(P),i==null||(y=i.onFocus)==null||y.call(i,h)},Ue=i=>h=>{var y;re(h),Me.current===!1&&ve(-1),m(-1),i==null||(y=i.onBlur)==null||y.call(i,h)};Cn(()=>{if(o&&Y.current.contains(document.activeElement)){var i;(i=document.activeElement)==null||i.blur()}},[o]),o&&L!==-1&&M(-1),o&&Te!==-1&&ve(-1);const be=i=>h=>{var y;(y=i.onChange)==null||y.call(i,h);const P=Number(h.currentTarget.getAttribute("data-index")),V=O[P],X=Q.indexOf(V);let T=h.target.valueAsNumber;if(w&&C==null){const E=Q[Q.length-1];T>E?T=E:T<Q[0]?T=Q[0]:T=T<V?Q[X-1]:Q[X+1]}if(T=Ae(T,d,c),J){s&&(T=Ae(T,O[P-1]||-1/0,O[P+1]||1/0));const E=T;T=Ht({values:O,newValue:T,index:P});let F=P;s||(F=T.indexOf(E)),ze({sliderRef:Y,activeIndex:F})}N(T),ve(P),U&&!Ne(T,$)&&U(h,T,P),A&&A(h,T)},de=g.useRef();let ge=k;r&&k==="horizontal"&&(ge+="-reverse");const ye=({finger:i,move:h=!1})=>{const{current:y}=Y,{width:P,height:V,bottom:X,left:T}=y.getBoundingClientRect();let E;ge.indexOf("vertical")===0?E=(X-i.y)/V:E=(i.x-T)/P,ge.indexOf("-reverse")!==-1&&(E=1-E);let F;if(F=yr(E,d,c),C)F=kr(F,C,d);else{const Le=Ot(Q,F);F=Q[Le]}F=Ae(F,d,c);let oe=0;if(J){h?oe=de.current:oe=Ot(O,F),s&&(F=Ae(F,O[oe-1]||-1/0,O[oe+1]||1/0));const Le=F;F=Ht({values:O,newValue:F,index:oe}),s&&h||(oe=F.indexOf(Le),de.current=oe)}return{newValue:F,activeIndex:oe}},pe=ot(i=>{const h=Ee(i,p);if(!h)return;if(z.current+=1,i.type==="mousemove"&&i.buttons===0){ee(i);return}const{newValue:y,activeIndex:P}=ye({finger:h,move:!0});ze({sliderRef:Y,activeIndex:P,setActive:M}),N(y),!K&&z.current>gr&&G(!0),U&&!Ne(y,$)&&U(i,y,P)}),ee=ot(i=>{const h=Ee(i,p);if(G(!1),!h)return;const{newValue:y}=ye({finger:h,move:!0});M(-1),i.type==="touchend"&&m(-1),A&&A(i,y),p.current=void 0,j()}),H=ot(i=>{if(o)return;ct()||i.preventDefault();const h=i.changedTouches[0];h!=null&&(p.current=h.identifier);const y=Ee(i,p);if(y!==!1){const{newValue:V,activeIndex:X}=ye({finger:y});ze({sliderRef:Y,activeIndex:X,setActive:M}),N(V),U&&!Ne(V,$)&&U(i,V,X)}z.current=0;const P=He(Y.current);P.addEventListener("touchmove",pe),P.addEventListener("touchend",ee)}),j=g.useCallback(()=>{const i=He(Y.current);i.removeEventListener("mousemove",pe),i.removeEventListener("mouseup",ee),i.removeEventListener("touchmove",pe),i.removeEventListener("touchend",ee)},[ee,pe]);g.useEffect(()=>{const{current:i}=Y;return i.addEventListener("touchstart",H,{passive:ct()}),()=>{i.removeEventListener("touchstart",H,{passive:ct()}),j()}},[j,H]),g.useEffect(()=>{o&&j()},[o,j]);const xe=i=>h=>{var y;if((y=i.onMouseDown)==null||y.call(i,h),o||h.defaultPrevented||h.button!==0)return;h.preventDefault();const P=Ee(h,p);if(P!==!1){const{newValue:X,activeIndex:T}=ye({finger:P});ze({sliderRef:Y,activeIndex:T,setActive:M}),N(X),U&&!Ne(X,$)&&U(h,X,T)}z.current=0;const V=He(Y.current);V.addEventListener("mousemove",pe),V.addEventListener("mouseup",ee)},fe=De(J?O[0]:d,d,c),me=De(O[O.length-1],d,c)-fe,qe=(i={})=>{const h=st(i),y={onMouseDown:xe(h||{})},P=x({},h,y);return x({},i,{ref:$e},P)},q=i=>h=>{var y;(y=i.onMouseOver)==null||y.call(i,h);const P=Number(h.currentTarget.getAttribute("data-index"));m(P)},ke=i=>h=>{var y;(y=i.onMouseLeave)==null||y.call(i,h),m(-1)};return{active:L,axis:ge,axisProps:Sr,dragging:K,focusedThumbIndex:Te,getHiddenInputProps:(i={})=>{var h;const y=st(i),P={onChange:be(y||{}),onFocus:we(y||{}),onBlur:Ue(y||{})},V=x({},y,P);return x({tabIndex:f,"aria-labelledby":t,"aria-orientation":k,"aria-valuemax":_(c),"aria-valuemin":_(d),name:v,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(h=e.step)!=null?h:void 0,disabled:o},i,V,{style:x({},rr,{direction:r?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:qe,getThumbProps:(i={})=>{const h=st(i),y={onMouseOver:q(h||{}),onMouseLeave:ke(h||{})};return x({},i,h,y)},marks:w,open:R,range:J,rootRef:$e,trackLeap:me,trackOffset:fe,values:O,getThumbStyle:i=>({pointerEvents:L!==-1&&L!==i?"none":void 0})}}const Lr=e=>!e||!Fe(e);function Pr(e){return Wt("MuiSlider",e)}const te=Kt("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ar=e=>{const{open:t}=e;return{offset:he(t&&te.valueLabelOpen),circle:te.valueLabelCircle,label:te.valueLabelLabel}};function Rr(e){const{children:t,className:n,value:o}=e,s=Ar(e);return t?g.cloneElement(t,{className:he(t.props.className)},I.jsxs(g.Fragment,{children:[t.props.children,I.jsx("span",{className:he(s.offset,n),"aria-hidden":!0,children:I.jsx("span",{className:s.circle,children:I.jsx("span",{className:s.label,children:o})})})]})):null}const Ir=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Ft(e){return e}const Mr=ne("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${se(n.color)}`],n.size!=="medium"&&t[`size${se(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>x({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&x({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&x({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${te.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${te.dragging}`]:{[`& .${te.thumb}, & .${te.track}`]:{transition:"none"}}})),Tr=ne("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>x({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),_r=ne("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?ft(e.palette[t.color].main,.62):pt(e.palette[t.color].main,.5);return x({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})}),wr=ne("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${se(n.color)}`],n.size!=="medium"&&t[`thumbSize${se(n.size)}`]]}})(({theme:e,ownerState:t})=>x({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":x({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${te.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Mt(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${te.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Mt(e.palette[t.color].main,.16)}`},[`&.${te.disabled}`]:{"&:hover":{boxShadow:"none"}}})),jr=ne(Rr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>x({[`&.${te.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Er=ne("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Yt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e,ownerState:t,markActive:n})=>x({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),zr=ne("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Yt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:n})=>x({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary})),Nr=e=>{const{disabled:t,dragging:n,marked:o,orientation:s,track:r,classes:l,color:c,size:d}=e,v={root:["root",t&&"disabled",n&&"dragging",o&&"marked",s==="vertical"&&"vertical",r==="inverted"&&"trackInverted",r===!1&&"trackFalse",c&&`color${se(c)}`,d&&`size${se(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",d&&`thumbSize${se(d)}`,c&&`thumbColor${se(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Gt(v,Pr,l)},Or=({children:e})=>e,Hr=g.forwardRef(function(t,n){var o,s,r,l,c,d,v,b,A,k,S,_,C,f,a,p,L,M,R,m,K,G,z,$;const N=Ut({props:t,name:"MuiSlider"}),J=$n().direction==="rtl",{"aria-label":O,"aria-valuetext":w,"aria-labelledby":Q,component:Me="span",components:re={},componentsProps:ae={},color:We="primary",classes:Te,className:ve,disableSwap:Y=!1,disabled:_e=!1,getAriaLabel:$e,getAriaValueText:we,marks:Ue=!1,max:be=100,min:de=0,orientation:ge="horizontal",size:ye="medium",step:pe=1,scale:ee=Ft,slotProps:H,slots:j,track:xe="normal",valueLabelDisplay:fe="off",valueLabelFormat:me=Ft}=N,qe=qt(N,Ir),q=x({},N,{isRtl:J,max:be,min:de,classes:Te,disabled:_e,disableSwap:Y,orientation:ge,marks:Ue,color:We,size:ye,step:pe,scale:ee,track:xe,valueLabelDisplay:fe,valueLabelFormat:me}),{axisProps:ke,getRootProps:kt,getHiddenInputProps:St,getThumbProps:Ct,open:i,active:h,axis:y,focusedThumbIndex:P,range:V,dragging:X,marks:T,values:E,trackOffset:F,trackLeap:oe,getThumbStyle:Le}=$r(x({},q,{rootRef:n}));q.marked=T.length>0&&T.some(D=>D.label),q.dragging=X,q.focusedThumbIndex=P;const Z=Nr(q),Ge=(o=(s=j==null?void 0:j.root)!=null?s:re.Root)!=null?o:Mr,$t=(r=(l=j==null?void 0:j.rail)!=null?l:re.Rail)!=null?r:Tr,Lt=(c=(d=j==null?void 0:j.track)!=null?d:re.Track)!=null?c:_r,Pt=(v=(b=j==null?void 0:j.thumb)!=null?b:re.Thumb)!=null?v:wr,At=(A=(k=j==null?void 0:j.valueLabel)!=null?k:re.ValueLabel)!=null?A:jr,Ye=(S=(_=j==null?void 0:j.mark)!=null?_:re.Mark)!=null?S:Er,Xe=(C=(f=j==null?void 0:j.markLabel)!=null?f:re.MarkLabel)!=null?C:zr,Rt=(a=(p=j==null?void 0:j.input)!=null?p:re.Input)!=null?a:"input",Ze=(L=H==null?void 0:H.root)!=null?L:ae.root,cn=(M=H==null?void 0:H.rail)!=null?M:ae.rail,Je=(R=H==null?void 0:H.track)!=null?R:ae.track,Qe=(m=H==null?void 0:H.thumb)!=null?m:ae.thumb,et=(K=H==null?void 0:H.valueLabel)!=null?K:ae.valueLabel,un=(G=H==null?void 0:H.mark)!=null?G:ae.mark,dn=(z=H==null?void 0:H.markLabel)!=null?z:ae.markLabel,pn=($=H==null?void 0:H.input)!=null?$:ae.input,fn=ue({elementType:Ge,getSlotProps:kt,externalSlotProps:Ze,externalForwardedProps:qe,additionalProps:x({},Lr(Ge)&&{as:Me}),ownerState:x({},q,Ze==null?void 0:Ze.ownerState),className:[Z.root,ve]}),mn=ue({elementType:$t,externalSlotProps:cn,ownerState:q,className:Z.rail}),hn=ue({elementType:Lt,externalSlotProps:Je,additionalProps:{style:x({},ke[y].offset(F),ke[y].leap(oe))},ownerState:x({},q,Je==null?void 0:Je.ownerState),className:Z.track}),tt=ue({elementType:Pt,getSlotProps:Ct,externalSlotProps:Qe,ownerState:x({},q,Qe==null?void 0:Qe.ownerState),className:Z.thumb}),vn=ue({elementType:At,externalSlotProps:et,ownerState:x({},q,et==null?void 0:et.ownerState),className:Z.valueLabel}),nt=ue({elementType:Ye,externalSlotProps:un,ownerState:q,className:Z.mark}),rt=ue({elementType:Xe,externalSlotProps:dn,ownerState:q,className:Z.markLabel}),bn=ue({elementType:Rt,getSlotProps:St,externalSlotProps:pn,ownerState:q});return I.jsxs(Ge,x({},fn,{children:[I.jsx($t,x({},mn)),I.jsx(Lt,x({},hn)),T.filter(D=>D.value>=de&&D.value<=be).map((D,W)=>{const at=De(D.value,de,be),je=ke[y].offset(at);let le;return xe===!1?le=E.indexOf(D.value)!==-1:le=xe==="normal"&&(V?D.value>=E[0]&&D.value<=E[E.length-1]:D.value<=E[0])||xe==="inverted"&&(V?D.value<=E[0]||D.value>=E[E.length-1]:D.value>=E[0]),I.jsxs(g.Fragment,{children:[I.jsx(Ye,x({"data-index":W},nt,!Fe(Ye)&&{markActive:le},{style:x({},je,nt.style),className:he(nt.className,le&&Z.markActive)})),D.label!=null?I.jsx(Xe,x({"aria-hidden":!0,"data-index":W},rt,!Fe(Xe)&&{markLabelActive:le},{style:x({},je,rt.style),className:he(Z.markLabel,rt.className,le&&Z.markLabelActive),children:D.label})):null]},W)}),E.map((D,W)=>{const at=De(D,de,be),je=ke[y].offset(at),le=fe==="off"?Or:At;return I.jsx(le,x({},!Fe(le)&&{valueLabelFormat:me,valueLabelDisplay:fe,value:typeof me=="function"?me(ee(D),W):me,index:W,open:i===W||h===W||fe==="on",disabled:_e},vn,{children:I.jsx(Pt,x({"data-index":W},tt,{className:he(Z.thumb,tt.className,h===W&&Z.active,P===W&&Z.focusVisible),style:x({},je,Le(W),tt.style),children:I.jsx(Rt,x({"data-index":W,"aria-label":$e?$e(W):O,"aria-valuenow":ee(D),"aria-labelledby":Q,"aria-valuetext":we?we(ee(D),W):w,value:E[W]},bn))}))}),W)})]}))}),Fr=Hr;var Dr={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Vr=Ln(Dr);var Br=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Dt(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Vr[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var o=e.indexOf("-->");return{type:"comment",comment:o!==-1?e.slice(4,o):""}}for(var s=new RegExp(Br),r=null;(r=s.exec(e))!==null;)if(r[0].trim())if(r[1]){var l=r[1].trim(),c=[l,""];l.indexOf("=")>-1&&(c=l.split("=")),t.attrs[c[0]]=c[1],s.lastIndex--}else r[2]&&(t.attrs[r[2]]=r[3].trim().substring(1,r[3].length-1));return t}var Kr=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Wr=/^\s*$/,Ur=Object.create(null);function nn(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var o=[];for(var s in n)o.push(s+'="'+n[s]+'"');return o.length?" "+o.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(nn,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var qr={parse:function(e,t){t||(t={}),t.components||(t.components=Ur);var n,o=[],s=[],r=-1,l=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");o.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(Kr,function(d,v){if(l){if(d!=="</"+n.name+">")return;l=!1}var b,A=d.charAt(1)!=="/",k=d.startsWith("<!--"),S=v+d.length,_=e.charAt(S);if(k){var C=Dt(d);return r<0?(o.push(C),o):((b=s[r]).children.push(C),o)}if(A&&(r++,(n=Dt(d)).type==="tag"&&t.components[n.name]&&(n.type="component",l=!0),n.voidElement||l||!_||_==="<"||n.children.push({type:"text",content:e.slice(S,e.indexOf("<",S))}),r===0&&o.push(n),(b=s[r-1])&&b.children.push(n),s[r]=n),(!A||n.voidElement)&&(r>-1&&(n.voidElement||n.name===d.slice(2,-1))&&(r--,n=r===-1?o:s[r]),!l&&_!=="<"&&_)){b=r===-1?o:s[r].children;var f=e.indexOf("<",S),a=e.slice(S,f===-1?void 0:f);Wr.test(a)&&(a=" "),(f>-1&&r+b.length>=0||a!==" ")&&b.push({type:"text",content:a})}}),o},stringify:function(e){return e.reduce(function(t,n){return t+nn("",n)},"")}};function ut(e,t){if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function dt(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?Se(t):t}function Gr(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(t=>g.isValidElement(t))}function Se(e){return Array.isArray(e)?e:[e]}function Yr(e,t){const n={...t};return n.props=Object.assign(e.props,t.props),n}function rn(e,t){if(!e)return"";let n="";const o=Se(e),s=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return o.forEach((r,l)=>{if(typeof r=="string")n+=`${r}`;else if(g.isValidElement(r)){const c=Object.keys(r.props).length,d=s.indexOf(r.type)>-1,v=r.props.children;if(!v&&d&&c===0)n+=`<${r.type}/>`;else if(!v&&(!d||c!==0))n+=`<${l}></${l}>`;else if(r.props.i18nIsDynamicList)n+=`<${l}></${l}>`;else if(d&&c===1&&typeof v=="string")n+=`<${r.type}>${v}</${r.type}>`;else{const b=rn(v,t);n+=`<${l}>${b}</${l}>`}}else if(r===null)lt("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof r=="object"){const{format:c,...d}=r,v=Object.keys(d);if(v.length===1){const b=c?`${v[0]}, ${c}`:v[0];n+=`{{${b}}}`}else lt("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",r)}else lt("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",r)}),n}function Xr(e,t,n,o,s,r){if(t==="")return[];const l=o.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(l.map(f=>`<${f}`).join("|")).test(t);if(!e&&!c&&!r)return[t];const d={};function v(f){Se(f).forEach(p=>{typeof p!="string"&&(ut(p)?v(dt(p)):typeof p=="object"&&!g.isValidElement(p)&&Object.assign(d,p))})}v(e);const b=qr.parse(`<0>${t}</0>`),A={...d,...s};function k(f,a,p){const L=dt(f),M=_(L,a.children,p);return Gr(L)&&M.length===0||f.props&&f.props.i18nIsDynamicList?L:M}function S(f,a,p,L,M){f.dummy?(f.children=a,p.push(g.cloneElement(f,{key:L},M?void 0:a))):p.push(...g.Children.map([f],R=>{const m={...R.props};return delete m.i18nIsDynamicList,Rn.createElement(R.type,x({},m,{key:L,ref:R.ref},M?{}:{children:a}))}))}function _(f,a,p){const L=Se(f);return Se(a).reduce((R,m,K)=>{const G=m.children&&m.children[0]&&m.children[0].content&&n.services.interpolator.interpolate(m.children[0].content,A,n.language);if(m.type==="tag"){let z=L[parseInt(m.name,10)];p.length===1&&!z&&(z=p[0][m.name]),z||(z={});const $=Object.keys(m.attrs).length!==0?Yr({props:m.attrs},z):z,N=g.isValidElement($),U=N&&ut(m,!0)&&!m.voidElement,J=c&&typeof $=="object"&&$.dummy&&!N,O=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,m.name);if(typeof $=="string"){const w=n.services.interpolator.interpolate($,A,n.language);R.push(w)}else if(ut($)||U){const w=k($,m,p);S($,w,R,K)}else if(J){const w=_(L,m.children,p);S($,w,R,K)}else if(Number.isNaN(parseFloat(m.name)))if(O){const w=k($,m,p);S($,w,R,K,m.voidElement)}else if(o.transSupportBasicHtmlNodes&&l.indexOf(m.name)>-1)if(m.voidElement)R.push(g.createElement(m.name,{key:`${m.name}-${K}`}));else{const w=_(L,m.children,p);R.push(g.createElement(m.name,{key:`${m.name}-${K}`},w))}else if(m.voidElement)R.push(`<${m.name} />`);else{const w=_(L,m.children,p);R.push(`<${m.name}>${w}</${m.name}>`)}else if(typeof $=="object"&&!N){const w=m.children[0]?G:null;w&&R.push(w)}else S($,G,R,K,m.children.length!==1||!G)}else if(m.type==="text"){const z=o.transWrapTextNodes,$=r?o.unescape(n.services.interpolator.interpolate(m.content,A,n.language)):n.services.interpolator.interpolate(m.content,A,n.language);z?R.push(g.createElement(z,{key:`${m.name}-${K}`},$)):R.push($)}return R},[])}const C=_([{dummy:!0,children:e||[]}],b,Se(e||[]));return dt(C[0])}function Zr(e){let{children:t,count:n,parent:o,i18nKey:s,context:r,tOptions:l={},values:c,defaults:d,components:v,ns:b,i18n:A,t:k,shouldUnescape:S,..._}=e;const C=A||Xt();if(!C)return Pn("You will need to pass in an i18next instance by using i18nextReactModule"),t;const f=k||C.t.bind(C)||(U=>U);r&&(l.context=r);const a={...An(),...C.options&&C.options.react};let p=b||f.ns||C.options&&C.options.defaultNS;p=typeof p=="string"?[p]:p||["translation"];const L=rn(t,a),M=d||L||a.transEmptyNodeValue||s,{hashTransKey:R}=a,m=s||(R?R(L||M):L||M);C.options&&C.options.interpolation&&C.options.interpolation.defaultVariables&&(c=c&&Object.keys(c).length>0?{...c,...C.options.interpolation.defaultVariables}:{...C.options.interpolation.defaultVariables});const K=c?l.interpolation:{interpolation:{...l.interpolation,prefix:"#$?",suffix:"?$#"}},G={...l,count:n,...c,...K,defaultValue:M,ns:p},z=m?f(m,G):M,$=Xr(v||t,z,C,a,G,S),N=o!==void 0?o:a.defaultTransParent;return N?g.createElement(N,_,$):$}function Jr(e){let{children:t,count:n,parent:o,i18nKey:s,context:r,tOptions:l={},values:c,defaults:d,components:v,ns:b,i18n:A,t:k,shouldUnescape:S,..._}=e;const{i18n:C,defaultNS:f}=g.useContext(In)||{},a=A||C||Xt(),p=k||a&&a.t.bind(a);return Zr({children:t,count:n,parent:o,i18nKey:s,context:r,tOptions:l,values:c,defaults:d,components:v,ns:b||p&&p.ns||f||a&&a.options&&a.options.defaultNS,i18n:a,t:k,shouldUnescape:S,..._})}var bt={},Qr=Ke;Object.defineProperty(bt,"__esModule",{value:!0});var an=bt.default=void 0,ea=Qr(Be()),ta=I,na=(0,ea.default)((0,ta.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");an=bt.default=na;const Vt=({stars:e=1,colored:t=!1,inline:n=!1})=>u(Mn,{color:t?"warning":void 0,children:[...Array(e).keys()].map((o,s)=>u(an,{fontSize:n?"inherit":void 0,sx:n?{verticalAlign:"text-top"}:void 0},s))});var gt={},ra=Ke;Object.defineProperty(gt,"__esModule",{value:!0});var on=gt.default=void 0,aa=ra(Be()),oa=I,sa=(0,aa.default)((0,oa.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");on=gt.default=sa;var yt={},la=Ke;Object.defineProperty(yt,"__esModule",{value:!0});var sn=yt.default=void 0,ia=la(Be()),ca=I,ua=(0,ia.default)((0,ca.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");sn=yt.default=ua;var xt={},da=Ke;Object.defineProperty(xt,"__esModule",{value:!0});var ln=xt.default=void 0,pa=da(Be()),fa=I,ma=(0,pa.default)((0,fa.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");ln=xt.default=ma;function ha({rarity:e,onRarityChange:t,filter:n,...o}){const{t:s}=ht("relic");return u(vt,{...o,title:e?u(Vt,{stars:e,inline:!0}):s`editor.rarity`,color:e?"success":"primary",children:Tn.map(r=>u(Ce,{disabled:!n(r),onClick:()=>t(r),children:u(Vt,{stars:r,inline:!0})},r))})}function va({index:e,relic:t,setSubstat:n}){const{t:o}=ht("relic"),{mainStatKey:s="",rarity:r=5}=t??{},{key:l="",value:c=0,rolls:d=[],efficiency:v=0}=(t==null?void 0:t.substats[e])??{},b=d.length;let A="",k=[],S=0;if(t){const f=t.rarity,{numUpgrades:a,high:p}=Dn[f];S=a+p-3-b,k=l?_n(l,f):[]}const _=7-k.length;S<0&&(A=A||o("editor.substat.error.noOverRoll",{value:S+b}));const C=g.useMemo(()=>l?[{value:0},...wn(r,l).map(f=>({value:f}))]:[{value:0}],[l,r]);return B(Re,{bgt:"light",children:[u(ie,{sx:{display:"flex"},children:B(Zt,{size:"small",sx:{width:"100%",display:"flex"},children:[B(vt,{title:l?u("p",{children:l}):o("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:l?"success":"primary",sx:{whiteSpace:"nowrap"},children:[l&&u(Ce,{onClick:()=>n(e,{key:"",value:0}),children:o`editor.substat.noSubstat`}),jn.filter(f=>s!==f).map(f=>B(Ce,{selected:l===f,disabled:l===f,onClick:()=>n(e,{key:f,value:0}),children:[u(En,{}),u(zn,{children:f})]},f))]}),u(Nn,{sx:{flexBasis:30,flexGrow:1},children:u(On,{float:it(l)==="%",placeholder:o`editor.substat.selectSub`,value:l?Tt(_t(c,l),l):void 0,onChange:f=>{let a=f??0;it(l)==="%"&&(a=a/100),n(e,{key:l,value:a})},disabled:!l,error:!!A,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!k.length&&u(Hn,{children:o`editor.substat.nextRolls`})]})}),u(ie,{px:2,children:u(ba,{value:Tt(_t(c,l),l),marks:C,setValue:f=>{let a=f??0;it(l)==="%"&&(a=a/100),n(e,{key:l,value:a})},disabled:!l})}),u(ie,{sx:{px:1,pb:1},children:A?u(Fn,{color:"error",children:o`ui:error`}):B(ce,{container:!0,children:[u(ce,{item:!0,flexGrow:1,children:!!d.length&&[...d].sort().map((f,a)=>u(Ie,{component:"span",color:`roll${Jt(_+k.indexOf(f),1,6)}.main`,sx:{ml:1},children:f},`${a}.${f}`))}),u(ce,{item:!0,xs:"auto",flexShrink:1,children:u(Ie,{children:B(Jr,{t:o,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",v]})})})]})})]})}function ba({value:e,setValue:t,marks:n,disabled:o=!1}){var l,c;const[s,r]=g.useState(e);return g.useEffect(()=>r(e),[e]),u(Fr,{value:s,step:.1,disabled:o,min:((l=n[1])==null?void 0:l.value)??0,max:((c=n[n.length-1])==null?void 0:c.value)??0,onChange:(d,v)=>r(v),onChangeCommitted:(d,v)=>t(v),valueLabelDisplay:"auto"})}function ga(e,t){const o=(()=>{switch(t.type){case"reset":return;case"substat":{const{index:s,substat:r}=t,l=[...e.substats],c=r.key?l.findIndex(d=>d.key===r.key):-1;if(c===-1||c===s)l[s]={...r};else{const d=l[s];l[s]={...l[c]},l[c]={...d}}return{...e,substats:l}}case"overwrite":return t.relic;case"update":return{...e,...t.relic}}})();return o&&Vn(o,!0)}const Bt={rarity:[5,4,3,2],setEffects:{}};function ya({relicIdToEdit:e="new"}){const{t}=ht("relic"),{database:n}=Qt(),[o,s]=Bn();g.useEffect(()=>n.relics.followAny(s),[n,s]),g.useEffect(()=>{e==="new"&&l({type:"reset"});const a=e&&o&&n.relics.get(e);a&&l({type:"overwrite",relic:Kn(a)})},[e,n,o]);const[r,l]=g.useReducer(ga,void 0),{relic:c,errors:d}=g.useMemo(()=>r?Wn(r,e):{relic:void 0,errors:[]},[r,e]),{rarity:v=5,level:b=0,slotKey:A="head"}=r??{},k=r?Bt:void 0,S=g.useCallback(a=>{const p=a.setKey?Bt:k;function L(M,R,m){return M&&R.includes(M)?M:m??R[0]}a.setKey&&(a.rarity=L(r==null?void 0:r.rarity,p.rarity,Math.max(...p.rarity)),a.slotKey=L(r==null?void 0:r.slotKey,["hand","head"])),a.rarity&&(a.level=(r==null?void 0:r.level)??0),a.level&&(a.level=Jt(a.level,0,3*(a.rarity??r.rarity))),a.slotKey&&(a.mainStatKey=L(r==null?void 0:r.mainStatKey,wt[a.slotKey])),a.mainStatKey&&(a.substats=[0,1,2,3].map(M=>r&&r.substats[M].key!==a.mainStatKey?r.substats[M]:{key:"",value:0})),l({type:"update",relic:a})},[r,k,l]),_=g.useCallback(()=>{l({type:"reset"})},[]),C=g.useCallback((a,p)=>l({type:"substat",index:a,substat:p}),[]),f=!d.length;return g.useEffect(()=>{e==="new"&&l({type:"reset"})},[e]),u(g.Suspense,{fallback:!1,children:B(Re,{bgt:"dark",children:[u(Jn,{title:"Relic Editor"}),B(en,{sx:{display:"flex",flexDirection:"column",gap:1},children:[B(ce,{container:!0,spacing:1,columns:{xs:1,md:2},children:[B(ce,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[B(ie,{sx:{display:"flex",gap:1},children:[u(jt,{value:(r==null?void 0:r.setKey)||"",sx:{flexGrow:1},onChange:a=>S({setKey:a.target.value}),children:Un.map(a=>u(Ce,{value:a,children:a},a))}),u(ha,{rarity:r?v:void 0,onRarityChange:a=>S({rarity:a}),filter:a=>{var p,L;return!!((L=(p=k==null?void 0:k.rarity)==null?void 0:p.includes)!=null&&L.call(p,a))},disabled:!k})]}),B(ie,{component:"div",display:"flex",children:[u(qn,{label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:b,disabled:!k,onChange:a=>{const p=parseInt(a.target.value)||0;S({level:p})}}),B(Zt,{children:[u(Pe,{onClick:()=>S({level:b-1}),disabled:!k||b===0,children:"-"}),v?[...Array(v+1).keys()].map(a=>3*a).map(a=>u(Pe,{onClick:()=>S({level:a}),disabled:!k||b===a,children:a},a)):null,u(Pe,{onClick:()=>S({level:b+1}),disabled:!k||b===v*3,children:"+"})]})]}),B(ie,{component:"div",display:"flex",children:[u(jt,{label:"Slot",value:A,onChange:a=>S({slotKey:a.target.value}),disabled:!k,children:Gn.map(a=>u(Ce,{value:a,children:a},a))}),u(Re,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:u(g.Suspense,{fallback:u(mt,{width:"60%"}),children:u(Ie,{color:"text.secondary",children:A})})})]}),B(ie,{component:"div",display:"flex",gap:1,children:[u(vt,{title:u("b",{children:(r==null?void 0:r.mainStatKey)??"Main Stat"}),disabled:!k,color:r?"success":"primary",children:wt[A].map(a=>u(Ce,{selected:(r==null?void 0:r.mainStatKey)===a,disabled:(r==null?void 0:r.mainStatKey)===a,onClick:()=>S({mainStatKey:a}),children:a},a))}),u(Re,{bgt:"light",sx:{p:1,flexGrow:1},children:u(Ie,{color:"text.secondary",children:r?Yn(v,r.mainStatKey,b):t`mainStat`})}),u(Pe,{onClick:()=>S({lock:!(r!=null&&r.lock)}),color:r!=null&&r.lock?"success":"primary",disabled:!r,children:r!=null&&r.lock?u(sn,{}):u(ln,{})})]}),u(Qn,{locKey:(c==null?void 0:c.location)??"",setLocKey:a=>S({location:a})})]}),u(ce,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[0,1,2,3].map(a=>u(va,{index:a,relic:c,setSubstat:C},a))})]}),!f&&u(vr,{variant:"filled",severity:"error",children:d.map((a,p)=>u("div",{children:a},p))}),u(ce,{children:u(Pe,{startIcon:u(on,{}),onClick:()=>{n.relics.new(r),_()},disabled:!r||!f,color:"primary",children:t`editor.btnAdd`})})]})]})})}const xa={xs:1,sm:2,md:3,lg:3,xl:4},ka={xs:10,sm:12,md:24,lg:24,xl:24};function Sa(){const{database:e}=Qt(),[t,n]=g.useState(e.relics.values.length);g.useEffect(()=>e.relics.followAny((b,A)=>["new","remove".includes(A)]&&n(e.relics.values.length)),[e]);const o=g.useMemo(()=>e.relics.values.map(k=>k.id),[e.relics.values]),s=er(),r=o.length!==t?`${o.length}/${t}`:t,{numShow:l,setTriggerElement:c}=tr(ka[s],o.length),d=g.useMemo(()=>o.slice(0,l),[o,l]),v={numShowing:d.length,totalShowing:r};return B(Zn,{children:[u(Re,{bgt:"dark",children:u(en,{children:u(ie,{pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:B(Ie,{color:"text.secondary",children:["Showing ",u("b",{children:v.numShowing})," out of"," ",v.totalShowing," Items"]})})})}),B(g.Suspense,{fallback:u(mt,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:[u(ce,{container:!0,spacing:1,columns:xa,children:d.map(b=>u(ce,{item:!0,xs:1,children:u(Xn,{relic:e.relics.get(b)})},b))}),o.length!==d.length&&u(mt,{ref:b=>{b&&c(b)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})}function La(){return B(ie,{display:"flex",flexDirection:"column",gap:1,my:1,children:[u(ya,{}),u(Sa,{})]})}export{La as default};
