"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[327],{65304:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Ae});var r=n(93827),i=n(31981),a=n(12761);function l(t,e=10){return o(t,e)}function s(t,e=10){return o(t,-e)}function o(t,e=10){const{r:n,g:r,b:i,a:l}=t;return{r:(0,a.re)(n+e,0,255),g:(0,a.re)(r+e,0,255),b:(0,a.re)(i+e,0,255),a:l}}function c(t,e,n){return(0,a.uh)(t.r,e.r,n.r)&&(0,a.uh)(t.g,e.g,n.g)&&(0,a.uh)(t.b,e.b,n.b)}function d(t,e,n,r,i){return t.getContext("2d",{willReadFrequently:!0}).getImageData(e,n,r,i)}function u(t,e,n){return e===n?(console.warn(`trying to crop with y1:${e} y2:${n}. Crop aborted.`),d(t,0,0,t.width,t.height)):d(t,0,e,t.width,n-e)}const h=t=>new Promise((e=>{const n=new Image;n.onload=({target:t})=>e(function(t){const e=document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!0});return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)}(t)),n.src=t}));function f(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e}function Z(t,e,n,r=!0){const i=t.width,a=t.height,l=t.getContext("2d");return l.fillStyle=`rgba(${n.r},${n.g},${n.b},${n.a?n.a/255:1})`,r?l.fillRect(e,0,1,a):l.fillRect(0,e,i,1),t}function g(t,e,n,r=!0){const i=t.getContext("2d");return i?(i.fillStyle=`rgba(${n.r},${n.g},${n.b},${n.a?n.a/255:1})`,e.forEach(((t,e)=>r?i.fillRect(e,0,1,t):i.fillRect(0,e,t,1))),t):t}function m(t,e,n,r="color"){const i=Uint8ClampedArray.from(t.data),a="bw"===r,l="invert"===r;for(let s=0;s<i.length;s+=4){const t=i[s],r=i[s+1],o=i[s+2];c({r:t,g:r,b:o},e,n)?a?i[s]=i[s+1]=i[s+2]=0:l&&(i[s]=255-t,i[s+1]=255-r,i[s+2]=255-o):i[s]=i[s+1]=i[s+2]=255}return new ImageData(i,t.width,t.height)}function y(t,e,n,r=!0){const i=t.height,a=t.width,l=t.data;return Array.from({length:r?a:i},((t,s)=>{let o=0;for(let d=0;d<(r?i:a);d++){const t=r?b(s,d,a):b(d,s,a),[i,u,h]=[l[t],l[t+1],l[t+2]];c({r:i,g:u,b:h},e,n)&&o++}return o}))}function p(t,e,n,r=!0){const i=t.height,l=t.width,s=t.data;return Array.from({length:r?l:i},((t,o)=>{let c=0,d=0;for(let u=0;u<(r?i:l);u++){const t=r?b(o,u,l):b(u,o,l),[i,h,f]=[s[t],s[t+1],s[t+2]];(0,a.uh)(i,e.r,n.r)&&(0,a.uh)(h,e.g,n.g)&&(0,a.uh)(f,e.b,n.b)?d++:(d>c&&(c=d),d=0)}return d>c&&(c=d),c}))}function b(t,e,n){return e*(4*n)+4*t}function v(t,e=.7,n=3){const r=Math.max(...t)*e,i=t.length;let a=-n;for(let s=0;s<i;s++){const e=t[s]>r;if(e){if(e&&a<0)a=s;else if(e&&s-a>n)break}else a=-n}a<0&&(a=0);let l=i-1+n;for(let s=i-1;s>=0;s--){const e=t[s]>r;if(e){if(e&&l>i-1)l=s;else if(e&&l-s>n)break}else l=i-1+n}return l>i-1&&(l=i-1),[a,l]}const w={r:145,g:81,b:40},x={r:188,g:104,b:50},S={r:235,g:228,b:216},k={r:255,g:231,b:186},C={r:93,g:178,b:87},K={r:255,g:137,b:117},B={r:255,g:204,b:50},P={r:131,g:131,b:130},X={r:74,g:81,b:102};var E=n(72718),R=n(52538),D=n(74155),I=n(20417);const A={hp:"HP",hp_:"HP",atk:"ATK",atk_:"ATK",def:"DEF",def_:"DEF",eleMas:"Elemental Mastery",enerRech_:"Energy Recharge",critRate_:"Crit Rate",critDMG_:"Crit DMG",heal_:"Healing Bonus"};Object.entries({physical:"Physical",anemo:"Anemo",geo:"Geo",electro:"Electro",hydro:"Hydro",pyro:"Pyro",cryo:"Cryo",dendro:"Dendro"}).forEach((([t,e])=>{A[`${t}_dmg_`]=`${e} DMG Bonus`}));const G={flower:"Flower of Life",plume:"Plume of Death",sands:"Sands of Eon",goblet:"Goblet of Eonothem",circlet:"Circlet of Logos"};var U=n(52903);function L(t,e,n,r,l,s,o,c=!1){const d={lock:b(c,"Lock",(t=>t?"Locked":"Unlocked"))};o&&(d.location=b(o,"Location",(t=>t)));const u=e.size?[...e]:["EmblemOfSeveredFate"];let h=-1,f=[{setKey:"EmblemOfSeveredFate",rarity:5,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:null!=o?o:"",lock:c}];const Z=(0,a.K8)(i.$W,(n=>{let i=0;if(e.size){i+=[...e].reduce(((t,e)=>t+(E.G2.art.data[e].rarities.includes(n)?1:0)),0)/e.size}if(t.has(n)&&i++,r.length){i+=r.reduce(((t,e)=>t+((0,D.UW)(e.key,e.value,n).length?1:0)),0)/r.length*2}return i}));for(const k of i.Ex)for(const t of i.yh[k]){const r=(0,a.bf)(t),i="%"===r?1:0,d="%"===r?.1:1,g=(n.has(k)?1:0)+(l.has(t)?1:0),m=s.filter((e=>"%"!==e.unit||"%"===(0,a.bf)(t))).map((t=>t.mainStatValue));for(const[n,a]of Object.entries(Z)){const r=parseInt(n),l=u.filter((t=>E.G2.art.data[t].rarities.includes(r))),s=g+a;if(!(s+2<h)){for(const n of m){const a=(0,D.HD)(r,t),u=Math.max(0,a.findIndex((t=>t+d>=n))),Z=s+(a[u].toFixed(i)===n.toFixed(i)?1:0);for(const n of l){const i=Z+(e.has(n)?1:0);i>=h&&(i>h&&(f=[]),h=i,f.push({setKey:n,rarity:r,level:u,slotKey:k,mainStatKey:t,substats:[],location:null!=o?o:"",lock:c}))}}if(s>=h){const n=0;for(const i of l){const a=s+(e.has(i)?1:0);a>h&&(f=[]),h=a,f.push({setKey:i,rarity:r,level:n,slotKey:k,mainStatKey:t,substats:[],location:null!=o?o:"",lock:c})}}}}}const g={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},m=f[0],y=(0,D.Bv)(m.mainStatKey,m.rarity,m.level);m.substats=r.filter(((t,e)=>t.key!==m.mainStatKey&&r.slice(0,e).every((e=>e.key!==t.key))));for(let i=m.substats.length;i<4;i++)m.substats.push({key:"",value:0});for(const i of f)g.setKey.add(i.setKey),g.rarity.add(i.rarity),g.level.add(i.level),g.slotKey.add(i.slotKey),g.mainStatKey.add(i.mainStatKey);function p(t,e,n){return(0,U.BX)(U.HY,{children:["Unknown ",e," : Set to"," ",(0,U.tZ)(I._w,{color:"error",children:n(t)})]})}function b(t,e,n){return(0,U.BX)(U.HY,{children:["Detected ",e," ",(0,U.tZ)(I._w,{color:"success",children:n(t)})]})}function v(t,e,n){return(0,U.BX)(U.HY,{children:["Inferred ",e," ",(0,U.tZ)(I._w,{color:"warning",children:n(t)})]})}function w(t,e,n,r){const i=new Set([...g[t]].filter((t=>e.has(t)))),a=m[t];i.size>1?d[t]=function(t,e,n,r){return(0,U.BX)(U.HY,{children:["Ambiguous ",n," ",(0,U.tZ)(I._w,{color:"error",children:r(t)})," : May also be"," ",e.filter((e=>e!==t)).map(((t,e)=>(0,U.BX)(U.HY,{children:[(0,U.tZ)("b",{children:e>0?"/":""}),(0,U.tZ)(I._w,{color:"warning",children:r(t)})]})))]})}(a,[...e],n,r):1===i.size?d[t]=b(a,n,r):g[t].size>1?d[t]=p(a,n,r):d[t]=v(a,n,r)}w("setKey",e,"Set",(t=>(0,U.tZ)(R.C3,{setKey:t}))),w("rarity",t,"Rarity",(t=>(0,U.BX)(U.HY,{children:[t," ",1!==t?"Stars":"Star"]}))),w("slotKey",n,"Slot",(t=>(0,U.tZ)(R.cN,{slotKey:t}))),w("mainStatKey",l,"Main Stat",(t=>(0,U.tZ)("span",{children:A[t]}))),d.substats=(0,U.tZ)(U.HY,{children:m.substats.filter((t=>""!==t.key)).map(((t,e)=>(0,U.tZ)("div",{children:b(t,"Sub Stat",(t=>(0,U.BX)(U.HY,{children:[A[t.key],"+",(0,D.Jj)(t.value,(0,a.bf)(t.key)),(0,a.bf)(t.key)]})))},e)))});const x=t=>(0,U.BX)(U.HY,{children:[(0,D.Jj)(t,(0,a.bf)(m.mainStatKey)),(0,a.bf)(m.mainStatKey)]}),S="%"===(0,a.bf)(m.mainStatKey)?1:0;return s.find((t=>t.mainStatValue.toFixed(S)===y.toFixed(S)))?l.has(m.mainStatKey)?(d.level=b(m.level,"Level",(t=>"+"+t)),d.mainStatVal=b(y,"Main Stat value",x)):(d.level=v(m.level,"Level",(t=>"+"+t)),d.mainStatVal=v(y,"Main Stat value",x)):(d.level=p(m.level,"Level",(t=>"+"+t)),d.mainStatVal=p(y,"Main Stat value",x)),[m,d]}function F(t){const e=Math.min(...t.map((([,t])=>t))),n=t.filter((([,t])=>t===e)).map((([t])=>t));return new Set(n)}async function $(t,e,n=!1){const{f:r,fName:o}=t,c=await(b=r,new Promise((t=>{const e=new FileReader;e.onloadend=({target:e})=>t(e.result),e.readAsDataURL(b)})));var b;const E=await h(c),R=n?{}:void 0,D=function(t,e){const n=p(t,s(S),l(S)),[r,i]=v(n),a=d(f(t),r,0,i-r,t.height);if(e){const a=f(t);g(a,n,{r:255,g:0,b:0,a:100}),Z(a,r,{r:0,g:255,b:0,a:150}),Z(a,i,{r:0,g:0,b:255,a:150}),e.fullAnalysis=a.toDataURL()}return a}(E,R),I=f(D),U=p(D,s(w,20),l(x,20),!1),[$,O]=v(U),N=p(D,s(S),l(S),!1),[_,M]=v(N,.8,2),W=p(E,s(k),l(k),!1),H=W.some((t=>t>.5*D.width)),[j,z]=v(W),T=u(I,$,H?z:M),V=H?u(I,j,z):void 0,Y=u(I,O,_);if(R){const t=f(D);g(t,U,{r:0,g:150,b:150,a:100},!1),g(t,N,{r:150,g:0,b:0,a:100},!1),g(t,W,{r:0,g:0,b:100,a:100},!1),Z(t,$,{r:0,g:255,b:0,a:200},!1),Z(t,H?z:M,{r:0,g:0,b:255,a:200},!1),Z(t,_,{r:255,g:0,b:200,a:200},!1),R.artifactCardAnalysis=t.toDataURL()}R&&(R.headerCropped=f(Y).toDataURL());const Q=u(I,_,M),q=y(Q,s(C),l(C),!1),[J,tt]=v(q,.2);if(R){const t=f(Q);g(t,q,{r:100,g:0,b:0,a:100},!1),Z(t,J,{r:0,g:255,b:0,a:200},!1),Z(t,tt,{r:0,g:0,b:255,a:200},!1),R.whiteCardAnalysis=t.toDataURL()}const et=tt-J,nt=u(f(Q),J-et,tt+et),rt=u(f(Q),0,J),it=y(Q,s(K),l(K)),at=it.filter((t=>t>5)).length>5;if(R){const t=f(rt);g(t,it,{r:0,g:100,b:0,a:100}),R.substatsCardCropped=t.toDataURL()}const lt=m(Y,{r:140,g:140,b:140},{r:255,g:255,b:255},"bw"),st=m(nt,{r:30,g:100,b:30},{r:200,g:255,b:200},"bw"),ot=V&&m(V,s(X),l(P),"bw");R&&(R.bwHeader=f(lt).toDataURL(),R.bwGreenText=f(st).toDataURL(),ot&&(R.bwEquipped=f(ot).toDataURL()));const[ct,dt,ut,ht]=await Promise.all([e(lt,{rectangle:{top:0,left:0,width:Math.floor(.7*lt.width),height:lt.height}}),e(rt),e(st),ot&&e(ot)]),ft=function(t,e){const n=p(t,s(B),l(B),!1),[r,i]=v(n,.3),o=d(f(t),0,r,t.width,i-r),c=p(o,s(B),l(B));if(e){const t=f(o);g(t,c,{r:100,g:0,b:0,a:100}),e.rarity=t.toDataURL()}const u=.5*Math.max(...c);let h=0,Z=!1;for(let a=0;a<c.length;a++)c[a]>u?Z||(h++,Z=!0):Z&&(Z=!1);return(0,a.re)(h,1,5)}(Y,R),[Zt,gt]=L(new Set([ft]),function(t){const e=[];for(const n of t)for(const t of i.Gt)e.push([t,(0,a.UX)(n.replace(/\W/g,""),t)]);return F(e)}(ut),function(t){const e=[];for(const n of t)for(const t of i.Ex)e.push([t,(0,a.UX)(n.replace(/\W/g,""),G[t].replace(/\W/g,""))]);return F(e)}(ct),function(t){const e=[];for(let n of t)n=n.replace(/^[\W]+/,"").replace(/\n/,""),i._m.forEach((t=>{const r=A[t],i=("%"===(0,a.bf)(t)?new RegExp(r+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(r+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(n);i&&e.push({key:t,value:parseFloat(i[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}));return e.slice(0,4)}(dt),function(t){const e=[];for(const l of t)for(const t of i.rW){var n,r;const i=null==(n=A[t])?void 0:n.toLowerCase();i.length<=3?l.toLowerCase().includes(null!=i?i:"")&&e.push([t,0]):e.push([t,(0,a.UX)(l.replace(/\W/g,""),(null!=(r=A[t])?r:"").replace(/\W/g,""))])}return F(e)}(ct),function(t){const e=[];for(const n of t){let t=/(\d+[,|\\.]+\d)%/,r=t.exec(n);r&&e.push({mainStatValue:parseFloat(r[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),t=/(\d+[,|\\.]\d{3}|\d{2,3})/,r=t.exec(n),r&&e.push({mainStatValue:parseInt(r[1].replace(/[,|\\.]+/g,""))})}return e}(ct),ht?function(t){const e=[];for(let r of t){if(!r)continue;const t=r.indexOf(":");if(-1!==t&&(r=r.slice(t+1)),r)for(const n of i.vp)e.push([n,(0,a.UX)(r.replace(/\W/g,""),n)])}const[n]=e.reduce(((t,e)=>{const[,n]=t,[,r]=e;return r<n?e:t}),["Traveler",8]);return n}(ht):"",at);return{fileName:o,imageURL:f(T).toDataURL(),artifact:Zt,texts:gt,debugImgs:R}}class ScanningQueue{constructor(t,e=!1){this.debug=void 0,this.textsFromImage=void 0,this.processed=[],this.outstanding=[],this.scanning=[],this.callback=()=>{},this.textsFromImage=t,this.debug=e}addFiles(t){this.outstanding.push(...t),this.processQueue()}processQueue(){const t=Math.min(16-this.processed.length-this.scanning.length,3-this.scanning.length,this.outstanding.length);t&&this.outstanding.splice(0,t).map((t=>{const e=$(t,this.textsFromImage,this.debug);this.scanning.push(e),e.then((t=>{const n=this.scanning.indexOf(e);-1!==n&&(this.scanning.splice(n,1),this.processed.push(t),this.processQueue())}))})),this.callCB()}callCB(){this.callback({processedNum:this.processed.length,outstandingNum:this.outstanding.length,scanningNum:this.scanning.length})}shiftProcessed(){const t=this.processed.shift();return t&&this.processQueue(),t}clearQueue(){this.processed=[],this.outstanding=[],this.scanning=[],this.callCB()}}var O=n(37181),N=n(75927),_=n(93994),M=n(72550),W=n(67651),H=n(73673),j=n(92252),z=n(32510),T=n(85219),V=n(16549),Y=n(65992),Q=n(47746),q=n(86432),J=n(42523),tt=n(7671),et=n(41075),nt=n(67550),rt=n(38553),it=n(83249),at=n(79906),lt=n(62197),st=n(94380),ot=n(38162),ct=n(72841),dt=n(107),ut=n(33927),ht=n(2784),ft=n(21560),Zt=n(23485),gt=n(36674);let mt,yt=t=>t;const pt=["rarity","onChange","filter"];function bt(t){let{rarity:e,onChange:n,filter:i}=t,a=(0,r.Z)(t,pt);const{t:l}=(0,ft.$G)("artifact");return(0,U.tZ)(Zt.Z,Object.assign({},a,{title:e?(0,U.tZ)(gt.q,{stars:e,inline:!0}):l(mt||(mt=yt`editor.rarity`)),color:e?"success":"primary",children:[5,4,3].map((t=>(0,U.tZ)(st.Z,{disabled:!i(t),onClick:()=>n(t),children:(0,U.tZ)(gt.q,{stars:t,inline:!0})},t)))}))}var vt=n(47712),wt=n(83993),xt=n(82056),St=n(56961),kt=n(79199);let Ct,Kt=t=>t;const Bt=["slotKey","onChange","hasUnselect"];function Pt(t){let{slotKey:e="",onChange:n,hasUnselect:a=!1}=t,l=(0,r.Z)(t,Bt);const{t:s}=(0,ft.$G)(["artifact","ui"]);return(0,U.BX)(Zt.Z,Object.assign({title:s(e?`artifact:slotName:${e}`:"artifact:slot"),color:e?"success":"primary",startIcon:e?(0,U.tZ)(kt.Z,{slotKey:e}):void 0},l,{children:[a&&(0,U.BX)(st.Z,{selected:""===e,disabled:""===e,onClick:()=>n(""),children:[(0,U.tZ)(wt.Z,{children:(0,U.tZ)(z.Z,{})}),(0,U.tZ)(xt.Z,{children:s(Ct||(Ct=Kt`ui:unselect`))})]}),a&&(0,U.tZ)(St.Z,{}),i.Ex.map((t=>(0,U.BX)(st.Z,{selected:e===t,disabled:e===t,onClick:()=>n(t),children:[(0,U.tZ)(wt.Z,{children:(0,U.tZ)(kt.Z,{slotKey:t})}),(0,U.tZ)(xt.Z,{children:s(`artifact:slotName:${t}`)})]},t)))]}))}var Xt=n(6480),Et=n(23690),Rt=n(13780);const Dt=["value","onChange","disabled","float"];function It(t){let{value:e,onChange:n,disabled:i=!1,float:a=!1}=t,l=(0,r.Z)(t,Dt);const[s,o]=(0,ht.useState)(""),c=(0,ht.useCallback)((()=>{if(""===s)return n(0);const t=a?parseFloat:parseInt;n(t(s))}),[n,s,a]);return(0,ht.useEffect)((()=>{var t;return o(null!=(t=null==e?void 0:e.toString())?t:"")}),[e,o]),(0,U.tZ)(Rt.Z,Object.assign({value:s,"aria-label":"custom-input",type:"number",onChange:t=>o(t.target.value),onBlur:c,disabled:i,onKeyDown:t=>"Enter"===t.key&&c()},l))}var At=n(79410),Gt=n(69698),Ut=n(48289),Lt=n(69614),Ft=n(80639),$t=n(34156),Ot=n(39099),Nt=n(30706),_t=n(87833),Mt=n(12702),Wt=n(96580);function Ht({efficiency:t,max:e=!1,t:n,valid:r}){const i=e?"maxSubEff":"curSubEff";return(0,U.tZ)(_t.Z,{sx:{py:1,px:2},children:(0,U.BX)(et.ZP,{container:!0,spacing:1,children:[(0,U.tZ)(et.ZP,{item:!0,children:n(`editor.${i}`)}),(0,U.tZ)(et.ZP,{item:!0,flexGrow:1,children:(0,U.tZ)(Mt.Z,{title:(0,U.BX)("span",{children:[(0,U.tZ)(lt.Z,{variant:"h6",children:n(`editor.${i}`)}),(0,U.tZ)(lt.Z,{children:(0,U.tZ)(ft.cC,{t:n,i18nKey:`editor.${i}Desc`})})]})})}),(0,U.tZ)(et.ZP,{item:!0,xs:"auto",children:(0,U.tZ)(Wt.Z,{valid:r,max:900,value:r?t:"ERR"})})]})})}var jt=n(66510),zt=n(89977),Tt=n(12366),Vt=n(13900),Yt=n(25576);let Qt,qt,Jt,te,ee,ne,re,ie=t=>t;function ae({index:t,artifact:e,setSubstat:n}){var r;const{t:l}=(0,ft.$G)("artifact"),{mainStatKey:s="",rarity:o=5}=null!=e?e:{},{key:c="",value:d=0,rolls:u=[],efficiency:h=0}=null!=(r=null==e?void 0:e.substats[t])?r:{},f=u.reduce(((t,e)=>t+e),0),Z=Yt.ZP.unit(c),g=u.length;let m="",y=[],p=0;if(e){const t=e.rarity,{numUpgrades:n,high:r}=i.i0[t];p=n+r-3-g,y=c?(0,D.ME)(c,t):[]}const b=7-y.length;!g&&c&&d&&(m=m||l(Qt||(Qt=ie`editor.substat.error.noCalc`))),p<0&&(m=m||l("editor.substat.error.noOverRoll",{value:p+g}));const v=(0,ht.useMemo)((()=>c?[{value:0},...(0,D.K_)(o,c).map((t=>({value:t})))]:[{value:0}]),[c,o]);return(0,U.BX)(_t.Z,{children:[(0,U.tZ)(nt.Z,{sx:{display:"flex"},children:(0,U.BX)(rt.Z,{size:"small",sx:{width:"100%",display:"flex"},children:[(0,U.BX)(Zt.Z,{startIcon:c?(0,U.tZ)(Ot.C,{statKey:c}):void 0,title:c?(0,U.tZ)(Xt.w0,{statKey:c}):l("editor.substat.substatFormat",{value:t+1}),disabled:!e,color:c?"success":"primary",sx:{whiteSpace:"nowrap"},children:[c&&(0,U.tZ)(st.Z,{onClick:()=>n(t,{key:"",value:0}),children:l(qt||(qt=ie`editor.substat.noSubstat`))}),i._m.filter((t=>s!==t)).map((e=>(0,U.BX)(st.Z,{selected:c===e,disabled:c===e,onClick:()=>n(t,{key:e,value:0}),children:[(0,U.tZ)(wt.Z,{children:(0,U.tZ)(Ot.C,{statKey:e})}),(0,U.tZ)(xt.Z,{children:(0,U.tZ)(Xt.w0,{statKey:e})})]},e)))]}),(0,U.tZ)(zt.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,U.tZ)(zt.ZP,{float:"%"===Z,placeholder:l(Jt||(Jt=ie`editor.substat.selectSub`)),value:c?d:void 0,onChange:e=>n(t,{key:c,value:null!=e?e:0}),disabled:!c,error:!!m,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!y.length&&(0,U.tZ)(Vt.Z,{children:l(te||(te=ie`editor.substat.nextRolls`))}),y.map(((e,r)=>{var i,l;let s=(0,D.Jj)(f+e,Z);return s=null!=(i=null==(l=E.G2.art.subRollCorrection[o])||null==(l=l[c])?void 0:l[s])?i:s,(0,U.tZ)(it.Z,{color:`roll${(0,a.re)(b+r,1,6)}`,disabled:d&&!g||p<=0,onClick:()=>n(t,{key:c,value:parseFloat(s)}),children:s},r)}))]})}),(0,U.tZ)(nt.Z,{px:2,children:(0,U.tZ)(le,{value:d,marks:v,setValue:e=>{var r;return n(t,{key:c,value:null!=(r=e)?r:0})},disabled:!c})}),(0,U.tZ)(nt.Z,{sx:{px:1,pb:1},children:m?(0,U.tZ)(Tt.Z,{color:"error",children:l(ee||(ee=ie`ui:error`))}):(0,U.BX)(et.ZP,{container:!0,children:[(0,U.tZ)(et.ZP,{item:!0,children:(0,U.tZ)(Tt.Z,{color:0===g?"secondary":`roll${(0,a.re)(g,1,6)}`,children:g?l("editor.substat.RollCount",{count:g}):l(ne||(ne=ie`editor.substat.noRoll`))})}),(0,U.tZ)(et.ZP,{item:!0,flexGrow:1,children:!!u.length&&[...u].sort().map(((t,e)=>(0,U.tZ)(lt.Z,{component:"span",color:`roll${(0,a.re)(b+y.indexOf(t),1,6)}.main`,sx:{ml:1},children:(0,D.Jj)(t,Z)},`${e}.${t}`)))}),(0,U.tZ)(et.ZP,{item:!0,xs:"auto",flexShrink:1,children:(0,U.tZ)(lt.Z,{children:(0,U.BX)(ft.cC,{t:l,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",(0,U.tZ)(Wt.Z,{valid:!0,max:100*g,value:h||l(re||(re=ie`editor.substat.noStat`))})]})})})]})})]})}function le({value:t,setValue:e,marks:n,disabled:r=!1}){var i,a;const[l,s]=(0,ht.useState)(t);return(0,ht.useEffect)((()=>s(t)),[t]),(0,U.tZ)(jt.ZP,{value:l,step:null,disabled:r,marks:n,min:0,max:null!=(i=null==(a=n[n.length-1])?void 0:a.value)?i:0,onChange:(t,e)=>s(e),onChangeCommitted:(t,n)=>e(n),valueLabelDisplay:"auto"})}var se=n(24264);const oe=n.p+"scanned.7fcdf3986bbc6101.png",ce=n.p+"fullscreen.093bacd265118df9.png";function de({modalShow:t,hide:e}){return(0,U.tZ)(Gt.Z,{open:t,onClose:e,children:(0,U.BX)(se.Z,{children:[(0,U.tZ)(tt.Z,{sx:{py:1},children:(0,U.BX)(et.ZP,{container:!0,children:[(0,U.tZ)(et.ZP,{item:!0,flexGrow:1,children:(0,U.tZ)(lt.Z,{variant:"subtitle1",children:"How to Upload Screenshots for parsing"})}),(0,U.tZ)(et.ZP,{item:!0,children:(0,U.tZ)(Et.Z,{onClick:e})})]})}),(0,U.tZ)(St.Z,{}),(0,U.BX)(tt.Z,{children:[(0,U.BX)(dt.Z,{variant:"outlined",severity:"warning",children:["NOTE: Artifact Scanning currently only works for"," ",(0,U.tZ)("strong",{children:"ENGLISH"})," artifacts."]}),(0,U.BX)(et.ZP,{container:!0,spacing:1,mt:1,children:[(0,U.tZ)(et.ZP,{item:!0,xs:8,md:6,children:(0,U.tZ)(nt.Z,{component:"img",alt:"snippet of the screen to take",src:ce,width:"100%",height:"auto"})}),(0,U.BX)(et.ZP,{item:!0,xs:12,md:6,children:[(0,U.tZ)(lt.Z,{gutterBottom:!0,children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),(0,U.tZ)(lt.Z,{variant:"h5",children:"Where to snip the screenshot."}),(0,U.BX)(lt.Z,{gutterBottom:!0,children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer."," ",(0,U.tZ)("b",{children:"Only artifact from this screen can be scanned."})]}),(0,U.tZ)(lt.Z,{variant:"h6",children:"Single artifact"}),(0,U.BX)(lt.Z,{gutterBottom:!0,children:["To take a screenshot, in Windows, the shortcut is"," ",(0,U.tZ)("strong",{children:"Alt + Print Screen"}),". Once you selected the region, the image is automatically included in your clipboard."]}),(0,U.tZ)(lt.Z,{variant:"h6",children:"Multiple artifacts"}),(0,U.BX)(lt.Z,{gutterBottom:!0,children:["To take advantage of batch uploads, you can use a tool like"," ",(0,U.tZ)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," ","to create a macro to easily to screenshot multiple artifacts at once."]}),(0,U.tZ)(lt.Z,{variant:"h5",children:"What to include in the screenshot."}),(0,U.tZ)(lt.Z,{children:"The full genshin window, or at least a region that covers the artifact card."})]}),(0,U.BX)(et.ZP,{item:!0,xs:12,md:7,children:[(0,U.tZ)(lt.Z,{variant:"h5",children:"Adding Screenshot to Genshin Optimizer"}),(0,U.tZ)(lt.Z,{children:"At this point, you should have the artifact screenshot either saved to your harddrive, or in your clipboard."}),(0,U.tZ)(lt.Z,{gutterBottom:!0,children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),(0,U.BX)(lt.Z,{children:["For single screenshots from the snippets, just press"," ",(0,U.tZ)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),(0,U.BX)(lt.Z,{gutterBottom:!0,children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",(0,U.tZ)("b",{children:"Artifact Editor"}),"."]}),(0,U.tZ)(lt.Z,{variant:"h5",children:"Finishing the Artifact"}),(0,U.BX)(lt.Z,{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",(0,U.tZ)("strong",{children:"Add Artifact"})," to finish editing the artifact."]})]}),(0,U.tZ)(et.ZP,{item:!0,xs:8,md:5,children:(0,U.tZ)(nt.Z,{component:"img",alt:"main screen after importing stats",src:oe,width:"100%",height:"auto"})})]})]}),(0,U.tZ)(St.Z,{}),(0,U.tZ)(tt.Z,{sx:{py:1},children:(0,U.tZ)(Et.Z,{large:!0,onClick:e})})]})})}var ue=n(24370);const he=new a.eQ((async t=>{const e=(0,ue.createScheduler)(),n=Array(2).fill(0).map((async n=>{const r=await(0,ue.createWorker)(t,void 0,{errorHandler:console.error,langPath:"./assets"});e.addWorker(r)}));return await Promise.any(n),e}),((t,e)=>{e.then((t=>t.terminate()))}));async function fe(t,e){const n=f(t);return(await he.borrow("genshin_fast_09_04_21",(async t=>await(await t).addJob("recognize",n,e)))).data.lines.map((t=>t.text))}var Ze=n(50090),ge=n(11845);const me=["artifact"];let ye,pe,be,ve,we,xe,Se,ke,Ce,Ke,Be,Pe,Xe,Ee=t=>t;const Re=new Set(i._m);function De(t,e){const n=(()=>{switch(e.type){case"reset":return;case"substat":{const{index:n,substat:r}=e,i=r.key?t.substats.findIndex((t=>t.key===r.key)):-1;return-1===i||i===n?t.substats[n]=r:[t.substats[n],t.substats[i]]=[t.substats[i],t.substats[n]],Object.assign({},t)}case"overwrite":return e.artifact;case"update":return Object.assign({},t,e.artifact)}})();return n?(0,Ft.BG)(n,!0):n}const Ie=(0,Y.ZP)("input")({display:"none"});function Ae({artifactIdToEdit:t="",cancelEdit:e,allowUpload:n=!1,allowEmpty:l=!1,disableSet:s=!1,disableSlot:o=!1}){var c,d,u;const h=(0,ht.useRef)(new ScanningQueue(fe,!1)).current,{t:f}=(0,ft.$G)("artifact"),{database:Z}=(0,ht.useContext)($t.t),[g,m]=(0,ht.useState)(!1),[y,p]=(0,M.NW)();(0,ht.useEffect)((()=>Z.arts.followAny(p)),[Z,p]);const[b,v]=(0,ht.useReducer)(De,void 0),[w,x]=(0,ht.useState)(!1),[{processedNum:S,outstandingNum:k,scanningNum:C},K]=(0,ht.useState)({processedNum:0,outstandingNum:0,scanningNum:0}),[B,P]=(0,ht.useState)(void 0),{fileName:X,imageURL:E,debugImgs:R,texts:A}=null!=B?B:{},G=S+k+C,L=!["new",""].includes(t)&&!(null==b||!b.location)||o,F=(0,ht.useCallback)((t=>{t&&(m(!0),h.addFiles(Array.from(t).map((t=>({f:t,fName:t.name})))))}),[m,h]),$=(0,ht.useCallback)((()=>{h.clearQueue()}),[h]),Y=(0,ht.useCallback)((t=>{t.target&&(F(t.target.files),t.target.value="")}),[F]),{old:ut,oldType:gt}=(0,ht.useMemo)((()=>{var e;const n=y&&t&&Z.arts.get(t);if(n)return{old:n,oldType:"edit"};if(void 0===b)return{old:void 0,oldType:""};const{duplicated:r,upgraded:i}=y&&Z.arts.findDups(b);return{old:null!=(e=r[0])?e:i[0],oldType:0!==r.length?"duplicate":"upgrade"}}),[b,t,Z,y]),{artifact:mt,errors:yt}=(0,ht.useMemo)((()=>{if(!b)return{artifact:void 0,errors:[]};return(0,Ft.m1)(b,t)}),[b,t]),pt=b?(0,Ut.Sk)(b.setKey):void 0,wt=(0,ht.useCallback)((()=>{null==e||e(),v({type:"reset"}),P(void 0)}),[e,v]),xt=(0,ht.useCallback)((t=>{var e,n;const r=t.setKey?(0,Ut.Sk)(t.setKey):pt;function l(t,e,n){return t&&e.includes(t)?t:null!=n?n:e[0]}t.setKey&&(t.rarity=l(null==b?void 0:b.rarity,r.rarity,Math.max(...r.rarity)),t.slotKey=l(null==b?void 0:b.slotKey,r.slots)),t.rarity&&(t.level=null!=(e=null==b?void 0:b.level)?e:0),t.level&&(t.level=(0,a.re)(t.level,0,4*(null!=(n=t.rarity)?n:b.rarity))),t.slotKey&&(t.mainStatKey=l(null==b?void 0:b.mainStatKey,i.yh[t.slotKey])),t.mainStatKey&&(t.substats=[0,1,2,3].map((e=>b&&b.substats[e].key!==t.mainStatKey?b.substats[e]:{key:"",value:0}))),v({type:"update",artifact:t})}),[b,pt,v]),St=(0,ht.useCallback)(((t,e)=>{v({type:"substat",index:t,substat:e})}),[v]),kt=!yt.length,{rarity:Ct=5,level:Kt=0,slotKey:Bt="flower"}=null!=b?b:{},{currentEfficiency:Rt=0,maxEfficiency:Dt=0}=mt?Lt.Z.getArtifactEfficiency(mt,Re):{},_t=(0,ht.useCallback)((e=>{t||!G&&!b||window.confirm(f(pe||(pe=Ee`editor.clearPrompt`)))?(m(!1),h.clearQueue(),wt()):null==e||e.preventDefault()}),[f,t,h,b,G,m,wt]),Mt=(0,Q.Z)(),Wt=(0,q.Z)(Mt.breakpoints.up("md")),jt=b?i.fR.find((t=>b.mainStatKey.includes(t))):void 0,zt=b?null!=jt?jt:"success":"primary",Tt=(0,ht.useCallback)((t=>xt({setKey:t})),[xt]),Vt=(0,ht.useCallback)((t=>""===t||!(!L||"circlet"===Bt||"PrayersForDestiny"!==t&&"PrayersForIllumination"!==t&&"PrayersForWisdom"!==t&&"PrayersToSpringtime"!==t)),[L,Bt]);return(0,ht.useEffect)((()=>{"new"===t&&(m(!0),v({type:"reset"}));const e=t&&y&&Z.arts.get(t);e&&(m(!0),v({type:"overwrite",artifact:(0,a.I8)(e)}))}),[t,Z,y]),(0,ht.useEffect)((()=>{if(!S||B)return;const t=h.shiftProcessed();if(!t)return;const{artifact:e}=t,n=(0,r.Z)(t,me);P(n),v({type:"overwrite",artifact:e})}),[h,S,B]),(0,ht.useEffect)((()=>{const t=t=>{var e;return F(null==(e=t.clipboardData)?void 0:e.files)};return n&&window.addEventListener("paste",t),()=>{n&&window.removeEventListener("paste",t)}}),[F,n]),(0,ht.useEffect)((()=>(h.callback=K,()=>{h.callback=()=>{}})),[h]),(0,U.tZ)(Gt.Z,{open:g,onClose:_t,children:(0,U.BX)(I.s8,{children:[(0,U.tZ)(de,{modalShow:w,hide:()=>x(!1)}),(0,U.tZ)(J.Z,{title:(0,U.tZ)(ft.cC,{t:f,i18nKey:"editor.title",children:"Artifact Editor"}),action:(0,U.tZ)(Et.Z,{disabled:!!G,onClick:_t})}),(0,U.BX)(tt.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,U.BX)(et.ZP,{container:!0,spacing:1,columns:{xs:1,md:2},children:[(0,U.BX)(et.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[(0,U.BX)(nt.Z,{sx:{display:"flex",gap:1},children:[(0,U.tZ)(vt.Z,{disabled:s,size:"small",artSetKey:null!=(c=null==b?void 0:b.setKey)?c:"",setArtSetKey:Tt,sx:{flexGrow:1},label:null!=b&&b.setKey?"":f("editor.unknownSetName"),getOptionDisabled:({key:t})=>Vt(t)}),(0,U.tZ)(bt,{rarity:b?Ct:void 0,onChange:t=>xt({rarity:t}),filter:t=>{var e;return!(null==pt||null==(e=pt.rarity)||null==e.includes||!e.includes(t))},disabled:!pt})]}),(0,U.BX)(nt.Z,{component:"div",display:"flex",children:[(0,U.tZ)(It,{id:"filled-basic",label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:Kt,disabled:!pt,placeholder:"0~"+4*Ct,onChange:t=>xt({level:t})}),(0,U.BX)(rt.Z,{children:[(0,U.tZ)(it.Z,{onClick:()=>xt({level:Kt-1}),disabled:!pt||0===Kt,children:"-"}),Ct?[...Array(Ct+1).keys()].map((t=>4*t)).map((t=>(0,U.tZ)(it.Z,{onClick:()=>xt({level:t}),disabled:!pt||Kt===t,children:t},t))):null,(0,U.tZ)(it.Z,{onClick:()=>xt({level:Kt+1}),disabled:!pt||Kt===4*Ct,children:"+"})]})]}),(0,U.BX)(nt.Z,{component:"div",display:"flex",children:[(0,U.tZ)(Pt,{disabled:L||!pt||(null==b||null==(d=b.setKey)?void 0:d.startsWith("Prayer")),slotKey:Bt,onChange:t=>xt({slotKey:t})}),(0,U.tZ)(I.s8,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:(0,U.tZ)(ht.Suspense,{fallback:(0,U.tZ)(at.Z,{width:"60%"}),children:(0,U.tZ)(lt.Z,{color:"text.secondary",children:b&&null!=pt&&pt.getSlotName(b.slotKey)?(0,U.BX)("span",{children:[(0,U.tZ)(At.Z,{size:2,src:(0,O.Hp)(b.setKey,b.slotKey)}),null==pt?void 0:pt.getSlotName(b.slotKey)]}):f(be||(be=Ee`editor.unknownPieceName`))})})})]}),(0,U.BX)(nt.Z,{component:"div",display:"flex",gap:1,children:[(0,U.tZ)(Zt.Z,{startIcon:null!=b&&b.mainStatKey?(0,U.tZ)(Ot.C,{statKey:b.mainStatKey}):void 0,title:(0,U.tZ)("b",{children:b?(0,U.tZ)(Xt.w0,{statKey:b.mainStatKey}):f(ve||(ve=Ee`mainStat`))}),disabled:!pt,color:zt,children:i.yh[Bt].map((t=>(0,U.tZ)(st.Z,{selected:(null==b?void 0:b.mainStatKey)===t,disabled:(null==b?void 0:b.mainStatKey)===t,onClick:()=>xt({mainStatKey:t}),children:(0,U.tZ)(Xt.Rl,{statKey:t})},t)))}),(0,U.tZ)(I.s8,{bgt:"light",sx:{p:1,flexGrow:1},children:(0,U.tZ)(lt.Z,{color:"text.secondary",children:b?(0,D.R1)(b.mainStatKey,Ct,Kt):f(we||(we=Ee`mainStat`))})}),(0,U.tZ)(it.Z,{disabled:!b,onClick:()=>xt({lock:!(null!=b&&b.lock)}),color:null!=b&&b.lock?"success":"primary",children:null!=b&&b.lock?(0,U.tZ)(N.Z,{}):(0,U.tZ)(_.Z,{})})]}),(0,U.tZ)(Ze.W,{location:null!=(u=null==b?void 0:b.location)?u:"",setLocation:t=>xt({location:t}),autoCompleteProps:{disabled:!b}}),(0,U.tZ)(Ht,{valid:kt,efficiency:Rt,t:f}),Rt!==Dt&&(0,U.tZ)(Ht,{max:!0,valid:kt,efficiency:Dt,t:f}),n&&(0,U.tZ)(I.s8,{bgt:"light",children:(0,U.tZ)(tt.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:(0,U.BX)(ht.Suspense,{fallback:(0,U.tZ)(at.Z,{width:"100%",height:"100"}),children:[(0,U.BX)(et.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,U.tZ)(et.ZP,{item:!0,flexGrow:1,children:(0,U.BX)("label",{htmlFor:"contained-button-file",children:[(0,U.tZ)(Ie,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:Y}),(0,U.tZ)(it.Z,{component:"span",startIcon:(0,U.tZ)(W.Z,{}),children:"Upload Screenshot (or Ctrl-V)"})]})}),ge.dG&&R&&(0,U.tZ)(et.ZP,{item:!0,children:(0,U.tZ)(Ge,{imgs:R})}),(0,U.tZ)(et.ZP,{item:!0,children:(0,U.tZ)(it.Z,{color:"info",sx:{px:2,minWidth:0},onClick:()=>x(!0),children:(0,U.tZ)(V.Z,{})})})]}),E&&(0,U.tZ)(nt.Z,{display:"flex",justifyContent:"center",children:(0,U.tZ)(nt.Z,{component:"img",src:E,width:"100%",maxWidth:350,height:"auto",alt:X||"Screenshot to parse for artifact values"})}),!!G&&(0,U.tZ)(ot.Z,{variant:"buffer",value:100*S/G,valueBuffer:100*(S+C)/G}),!!G&&(0,U.tZ)(I.s8,{sx:{pl:2},children:(0,U.BX)(nt.Z,{display:"flex",alignItems:"center",children:[!!C&&(0,U.tZ)(ct.Z,{size:"1em"}),(0,U.tZ)(lt.Z,{sx:{flexGrow:1,ml:1},children:(0,U.BX)("span",{children:["Screenshots in file-queue:",(0,U.tZ)("b",{children:G})]})}),(0,U.tZ)(it.Z,{size:"small",color:"error",onClick:$,children:"Clear file-queue"})]})})]})})})]}),(0,U.BX)(et.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[[0,1,2,3].map((t=>(0,U.tZ)(ae,{index:t,artifact:mt,setSubstat:St},t))),A&&(0,U.tZ)(I.s8,{bgt:"light",children:(0,U.BX)(tt.Z,{children:[(0,U.tZ)("div",{children:A.slotKey}),(0,U.tZ)("div",{children:A.mainStatKey}),(0,U.tZ)("div",{children:A.mainStatVal}),(0,U.tZ)("div",{children:A.rarity}),(0,U.tZ)("div",{children:A.level}),(0,U.tZ)("div",{children:A.lock}),(0,U.tZ)("div",{children:A.substats}),(0,U.tZ)("div",{children:A.setKey}),(0,U.tZ)("div",{children:A.location})]})})]})]}),ut&&(0,U.BX)(et.ZP,{container:!0,sx:{justifyContent:"space-around"},spacing:1,children:[(0,U.tZ)(et.ZP,{item:!0,xs:12,md:5.5,lg:4,children:(0,U.BX)(I.s8,{bgt:"light",children:[(0,U.tZ)(lt.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:f("edit"!==gt?"duplicate"===gt?xe||(xe=Ee`editor.dupArt`):Se||(Se=Ee`editor.upArt`):ke||(ke=Ee`editor.beforeEdit`))}),(0,U.tZ)(Nt.Z,{artifactObj:ut})]})}),Wt&&(0,U.tZ)(et.ZP,{item:!0,md:1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,U.tZ)(I.s8,{bgt:"light",sx:{display:"flex"},children:(0,U.tZ)(H.Z,{sx:{fontSize:40}})})}),(0,U.tZ)(et.ZP,{item:!0,xs:12,md:5.5,lg:4,children:(0,U.BX)(I.s8,{bgt:"light",children:[(0,U.tZ)(lt.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:f(Ce||(Ce=Ee`editor.preview`))}),(0,U.tZ)(Nt.Z,{artifactObj:mt})]})})]}),!kt&&(0,U.tZ)(dt.Z,{variant:"filled",severity:"error",children:yt.map(((t,e)=>(0,U.tZ)("div",{children:t},e)))}),(0,U.BX)(et.ZP,{container:!0,spacing:2,children:[(0,U.tZ)(et.ZP,{item:!0,children:"edit"===gt?(0,U.tZ)(it.Z,{startIcon:(0,U.tZ)(j.Z,{}),onClick:()=>{b&&Z.arts.set(ut.id,b),l||(m(!1),e()),wt()},disabled:!b||!kt,color:"primary",children:f(Ke||(Ke=Ee`editor.btnSave`))}):(0,U.tZ)(it.Z,{startIcon:(0,U.tZ)(j.Z,{}),onClick:()=>{Z.arts.new(b),l||(m(!1),e()),wt()},disabled:!b||!kt,color:"duplicate"===gt?"warning":"primary",children:f(Be||(Be=Ee`editor.btnAdd`))})}),(0,U.tZ)(et.ZP,{item:!0,flexGrow:1,children:l&&(0,U.tZ)(it.Z,{startIcon:(0,U.tZ)(z.Z,{}),disabled:!b,onClick:()=>{window.confirm(f(ye||(ye=Ee`editor.clearPrompt`)))&&wt()},color:"error",children:f(Pe||(Pe=Ee`editor.btnClear`))})}),(0,U.tZ)(et.ZP,{item:!0,children:!1}),ut&&"edit"!==gt&&(0,U.tZ)(et.ZP,{item:!0,children:(0,U.tZ)(it.Z,{startIcon:(0,U.tZ)(T.Z,{}),onClick:()=>{b&&Z.arts.set(ut.id,b),l?wt():m(!1)},disabled:!b||!kt,color:"success",children:f(Xe||(Xe=Ee`editor.btnUpdate`))})})]})]})]})})}function Ge({imgs:t}){const[e,n]=(0,ht.useState)(!1);return(0,U.BX)(U.HY,{children:[(0,U.tZ)(it.Z,{color:"warning",onClick:()=>n(!0),children:"DEBUG"}),(0,U.tZ)(Gt.Z,{open:e,onClose:()=>n(!1),children:(0,U.tZ)(I.s8,{children:(0,U.tZ)(tt.Z,{children:(0,U.tZ)(ut.Z,{spacing:1,children:Object.entries(t).map((([t,e])=>(0,U.BX)(nt.Z,{children:[(0,U.tZ)(lt.Z,{children:t}),(0,U.tZ)(nt.Z,{component:"img",src:e,maxWidth:"100%"})]},t)))})})})})]})}}}]);