import{ck as jh,p as G,ar as d,o as $,bJ as u,f as v,bN as b,c_ as Fh,cM as Nh,h as Wh}from"./index-df8bab1c.js";import{x as Hh,p as e,_ as g,i as w,O as h,K as f,s as P,a4 as a,X as i,r as Yo,Q as Gh,Y as m,$ as p,N as t,a0 as _,M as c,P as l,a5 as y,k as te,J as S,a6 as Ke,I as Zo,a1 as ae,G as x,t as es,a3 as Ta,a7 as O,a8 as Kh}from"./index-b635fc20.js";import{I as Lh,C as Ie}from"./ColoredText-a5c20473.js";import{S as qh}from"./SqBadge-ae413050.js";const ns=class{constructor(n,k,W,M){this.passiveDescription=ra=>this.hasRefinement?this.tr(`passiveDescription.${ra}`):"",this.rarity=W.rarity,this.weaponType=W.weaponType,this.key=n,this.sheet=k,this.data=M}static trm(n){return g("weapon",n)[1]}static tr(n){return g("weapon",n)[0]}static getAllDataOfType(n){return v8[n]}get tr(){return ns.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=ns;s.getWeaponsOfType=(n,k)=>Object.fromEntries(Object.entries(n).filter(([W,M])=>M.weaponType===k));s.getLevelString=n=>jh(n.level,n.ascension);function o(n,k){const W=s.tr(n);return{title:W("passiveName"),icon:M=>G(Lh,{size:2,src:Hh(n,M.get(e.weapon.asc).value>=2)}),action:k&&G(qh,{color:"success",children:k}),description:M=>W(`passiveDescription.${M.get(e.weapon.refinement).value-1}`)}}function r(n,k,W={},M={}){const ra={base:{},premod:{},total:{},weapon:{key:w(n),type:w(k.weaponType)},display:{[`weapon:${n}`]:M}},{mainStat:se,subStat:H}=k,ia=[ra];if(se.type!=="atk"&&se.type!=="def"&&se.type!=="hp")throw new Error("Main stat type must be `atk`");const Ih=h(P(i(se.base,a(e.weapon.lvl,d.weapon.expCurve[se.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),f.info(se.type));if(ia.push({base:{[se.type]:e.weapon.main},weapon:{main:Ih}}),H){if(H.type==="atk"||H.type==="def"||H.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Ch=h(i(H.base,a(e.weapon.lvl,d.weapon.expCurve[H.curve])),f.info(H.type));ia.push({premod:{[H.type]:e.weapon.sub},weapon:{sub:Ch}})}return Yo([...ia,Gh(W,n)])}const Le="AlleyHunter",ts=d.weapon.data[Le],[,zh]=g("weapon",Le),Uh=[-1,.02,.025,.03,.035,.04],[Vh,as]=m(Le,"OppidanAmbush"),os=p(as,{...$(u(1,10),n=>i(a(e.weapon.refinement,Uh),n))},_),Jh=r(Le,ts,{premod:{all_dmg_:os}}),Qh={document:[{value:as,path:Vh,header:o(Le,t("conditional")),name:zh("condName"),states:Object.fromEntries(u(1,10).map(n=>[n,{name:t("seconds",{count:n}),fields:[{node:os}]}]))}]},Xh=new s(Le,Qh,ts,Jh),de="AmosBow",ss=d.weapon.data[de],[,Yh]=g("weapon",de),cs=[-1,.12,.15,.18,.21,.24],Zh=[-1,.08,.1,.12,.14,.16],[e1,Ra]=m(de,"StrongWilled"),ds=a(e.weapon.refinement,cs,f.info("normal_dmg_")),rs=a(e.weapon.refinement,cs,f.info("charged_dmg_")),is=a(e.weapon.refinement,Zh),ms=p(Ra,{...$(u(1,5),n=>i(is,n))},_,f.info("normal_dmg_")),ls=p(Ra,{...$(u(1,5),n=>i(is,n))},_,f.info("charged_dmg_")),n1=r(de,ss,{premod:{normal_dmg_:P(ds,ms),charged_dmg_:P(rs,ls)}}),t1={document:[{header:o(de,t("base")),fields:[{node:ds},{node:rs}]},{value:Ra,path:e1,header:o(de,t("stacks")),name:Yh("condName"),states:$(u(1,5),n=>({name:t("seconds",{count:n/10}),fields:[{node:ms},{node:ls}]}))}]},a1=new s(de,t1,ss,n1),re="AquaSimulacra",$s=d.weapon.data[re],[,o1]=g("weapon",re),s1=[-1,.16,.2,.24,.28,.32],c1=[-1,.2,.25,.3,.35,.4],[d1,ps]=m(re,"passive"),hs=a(e.weapon.refinement,s1),us=c(ps,"on",a(e.weapon.refinement,c1)),r1=r(re,$s,{premod:{hp_:hs,all_dmg_:us}}),i1={document:[{header:o(re,t("base")),fields:[{node:hs}]},{value:ps,path:d1,header:o(re,t("conditional")),name:o1("condName"),states:{on:{fields:[{node:us}]}}}]},m1=new s(re,i1,$s,r1),gn="BlackcliffWarbow",_s=d.weapon.data[gn],l1=[-1,.12,.15,.18,.21,.24],[$1,fs]=m(gn,"PressTheAdvantage"),gs=p(fs,{...$(u(1,3),n=>i(a(e.weapon.refinement,l1),n))},_),p1=r(gn,_s,{premod:{atk_:gs}}),h1={document:[{value:fs,path:$1,header:o(gn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(u(1,3).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:gs},{text:l("duration"),value:30,unit:"s"}]}]))}]},u1=new s(gn,h1,_s,p1),wn="CompoundBow",ws=d.weapon.data[wn],_1=[-1,.04,.05,.06,.07,.08],f1=[-1,.012,.015,.018,.021,.024],[g1,Ia]=m(wn,"InfusionArrow"),ks=p(Ia,{...$(u(1,4),n=>i(a(e.weapon.refinement,_1),n))},_),vs=p(Ia,{...$(u(1,4),n=>i(a(e.weapon.refinement,f1),n))},_),w1=r(wn,ws,{premod:{atk_:ks,atkSPD_:vs}}),k1={document:[{value:Ia,path:g1,header:o(wn,t("stacks")),name:t("hitOp.normalOrCharged"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:ks},{node:vs}]}]))}]},v1=new s(wn,k1,ws,w1),ie="ElegyForTheEnd",[,y1]=g("weapon",ie),ys=d.weapon.data[ie],P1=[-1,60,75,90,105,120],S1=[-1,100,125,150,175,200],b1=[-1,.2,.25,.3,.35,.4],[O1,Ca]=m(ie,"ThePartingRefrain"),Ps=a(e.weapon.refinement,P1,f.info("eleMas")),Ss=c(Ca,"on",a(e.weapon.refinement,S1,f.info("eleMas"))),bs=c(Ca,"on",a(e.weapon.refinement,b1)),B1=r(ie,ys,{premod:{eleMas:Ps},teamBuff:{premod:{atk_:bs,eleMas:Ss}}}),A1={document:[{header:o(ie,t("base")),fields:[{node:Ps}]},{value:Ca,path:O1,teamBuff:!0,header:o(ie,t("conditional")),name:y1("condName"),states:{on:{fields:[{node:Ss},{node:bs},{text:l("duration"),value:12,unit:"s"}]}}}]},E1=new s(ie,A1,ys,B1),kn="EndOfTheLine",Os=d.weapon.data[kn],x1=[-1,.8,1,1.2,1.4,1.6],Bs=c(e.weapon.key,kn,y(i(a(e.weapon.refinement,x1,{unit:"%"}),e.total.atk),"elemental")),M1=r(kn,Os,void 0,{dmg:Bs}),D1={document:[{header:o(kn,t("base")),fields:[{node:h(Bs,{name:t("dmg")})}]}]},T1=new s(kn,D1,Os,M1),qe="FadingTwilight",As=d.weapon.data[qe],[,qo]=g("weapon",qe),[R1,Es]=m(qe,"state"),xs={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Ms=p(Es,xs,_),I1=r(qe,As,{premod:{all_dmg_:Ms}}),C1={document:[{value:Es,path:R1,header:o(qe,t("conditional")),name:qo("condName"),states:Object.fromEntries(Object.keys(xs).map(n=>[n,{name:qo(`states.${n}`),fields:[{node:Ms}]}]))}]},j1=new s(qe,C1,As,I1),Rt="FavoniusWarbow",Ds=d.weapon.data[Rt],F1=r(Rt,Ds),N1={document:[{header:o(Rt),fields:[]}]},W1=new s(Rt,N1,Ds,F1),me="Hamayumi",Ts=d.weapon.data[me],[,H1]=g("weapon",me),Rs=[-1,.16,.2,.24,.28,.32],Is=[-1,.12,.15,.18,.21,.24],Cs=a(e.weapon.refinement,Rs,f.info("normal_dmg_")),js=a(e.weapon.refinement,Is,f.info("charged_dmg_")),[G1,ja]=m(me,"FullDraw"),Fs=c(ja,"on",a(e.weapon.refinement,Rs,f.info("normal_dmg_"))),Ns=c(ja,"on",a(e.weapon.refinement,Is,f.info("charged_dmg_"))),K1=r(me,Ts,{premod:{normal_dmg_:P(Cs,Fs),charged_dmg_:P(js,Ns)}}),L1={document:[{header:o(me,t("base")),fields:[{node:Cs},{node:js}]},{value:ja,path:G1,name:H1("condName"),header:o(me,t("conditional")),states:{on:{fields:[{node:Fs},{node:Ns}]}}}]},q1=new s(me,L1,Ts,K1),Fa="HuntersBow",Na=d.weapon.data[Fa],z1=r(Fa,Na),U1={...Na,document:[]},V1=new s(Fa,U1,Na,z1),Ce="HuntersPath",Ws=d.weapon.data[Ce],J1=[-1,.12,.15,.18,.21,.24],Hs=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,J1,{unit:"%"})])),Q1=[-1,1.6,2,2.4,2.8,3.2],[X1,Gs]=m(Ce,"passive"),Ks=c(Gs,"on",i(a(e.weapon.refinement,Q1,{unit:"%"}),e.total.eleMas)),Y1=r(Ce,Ws,{premod:{...Hs,charged_dmgInc:Ks}}),Z1={document:[{header:o(Ce,t("base")),fields:Object.values(Hs).map(n=>({node:n}))},{value:Gs,path:X1,header:o(Ce,t("conditional")),name:t("hitOp.charged"),states:{on:{fields:[{node:Ks},{text:l("duration"),value:10,unit:"s"},{text:t("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},eu=new s(Ce,Z1,Ws,Y1),vn="IbisPiercer",Ls=d.weapon.data[vn],qs=u(1,2),nu=[-1,40,50,60,70,80],[tu,zs]=m(vn,"passiveStacks"),Us=p(zs,$(qs,n=>i(a(e.weapon.refinement,nu),n)),_),au=r(vn,Ls,{premod:{eleMas:Us}}),ou={document:[{value:zs,path:tu,header:o(vn,t("stacks")),name:t("hitOp.charged"),states:Object.fromEntries(qs.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Us},{text:l("duration"),value:6,unit:"s"}]}]))}]},su=new s(vn,ou,Ls,au),le="KingsSquire",Vs=d.weapon.data[le],[cu,Js]=m(le,"passive"),du=[-1,60,80,100,120,140],Qs=c(Js,"on",a(e.weapon.refinement,du)),ru=[-1,1,1.2,1.4,1.6,1.8],Xs=c(e.weapon.key,le,y(i(a(e.weapon.refinement,ru,{unit:"%"}),e.total.atk),"elemental")),iu=r(le,Vs,{premod:{eleMas:Qs}},{dmg:Xs}),mu={document:[{header:o(le,t("base")),fields:[{node:h(Xs,{name:t("dmg")})}]},{value:Js,path:cu,header:o(le,t("conditional")),name:t("afterUse.skillOrBurst"),states:{on:{fields:[{node:Qs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},lu=new s(le,mu,Vs,iu),yn="Messenger",Ys=d.weapon.data[yn],$u=[-1,1,1.25,1.5,1.75,2],Zs=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,$u),e.total.atk),"elemental",{hit:{ele:w("physical")}})),pu=r(yn,Ys,void 0,{dmg:Zs}),hu={document:[{header:o(yn,t("base")),fields:[{node:h(Zs,{name:t("dmg")})}]}]},uu=new s(yn,hu,Ys,pu),$e="MitternachtsWaltz",ec=d.weapon.data[$e],_u=[-1,.2,.25,.3,.35,.4],fu=[-1,.2,.25,.3,.35,.4],[gu,nc]=m($e,"EvernightDuetSkill"),[wu,tc]=m($e,"EvernightDuetNormal"),ac=c(nc,"on",a(e.weapon.refinement,_u)),oc=c(tc,"on",a(e.weapon.refinement,fu)),ku=r($e,ec,{premod:{skill_dmg_:ac,normal_dmg_:oc}}),vu={document:[{value:tc,path:wu,header:o($e,t("conditional")),name:t("hitOp.skill"),states:{on:{fields:[{node:oc},{text:l("duration"),value:5,unit:"s"}]}}},{value:nc,path:gu,header:o($e,t("conditional")),name:t("hitOp.normal"),states:{on:{fields:[{node:ac},{text:l("duration"),value:5,unit:"s"}]}}}]},yu=new s($e,vu,ec,ku),ze="MouunsMoon",sc=d.weapon.data[ze],[,Pu]=g("weapon",ze),[Su,cc]=m(ze,"WatatsumiWavewalker"),dc=b(4,36).map(n=>n*10),bu=[-1,.0012,.0015,.0018,.0021,.0024],Ou=[-1,.4,.5,.6,.7,.8],rc=p(cc,Object.fromEntries(dc.map(n=>[n,te(i(a(e.weapon.refinement,bu,{unit:"%"}),n),a(e.weapon.refinement,Ou,{unit:"%"}))])),_),Bu=r(ze,sc,{premod:{burst_dmg_:rc}}),Au={document:[{value:cc,path:Su,header:o(ze,t("conditional")),name:Pu("party"),states:Object.fromEntries(dc.map(n=>[n,{name:n.toString(),fields:[{node:rc}]}]))}]},Eu=new s(ze,Au,sc,Bu),pe="PolarStar",ic=d.weapon.data[pe],[,xu]=g("weapon",pe),mc=[-1,.12,.15,.18,.21,.24],Mu=[-1,.1,.125,.15,.175,.2],Du=[-1,.2,.25,.3,.35,.4],Tu=[-1,.3,.375,.45,.528,.6],Ru=[-1,.48,.6,.72,.84,.96],[Iu,lc]=m(pe,"GoldenMajesty"),$c=a(e.weapon.refinement,mc),pc=a(e.weapon.refinement,mc),hc=p(lc,{1:a(e.weapon.refinement,Mu),2:a(e.weapon.refinement,Du),3:a(e.weapon.refinement,Tu),4:a(e.weapon.refinement,Ru)},_),Cu=r(pe,ic,{premod:{skill_dmg_:$c,burst_dmg_:pc,atk_:hc}}),ju={document:[{header:o(pe,t("base")),fields:[{node:$c},{node:pc}]},{value:lc,path:Iu,header:o(pe,t("stacks")),name:xu("condName"),states:$(u(1,4),n=>({name:t("stack",{count:n}),fields:[{node:hc}]}))}]},Fu=new s(pe,ju,ic,Cu),Pn="Predator",uc=d.weapon.data[Pn],Nu=S(.1),Wu=S(.1),[Hu,Wa]=m(Pn,"PressTheAdvantage"),_c=p(Wa,{...$(u(1,2),n=>i(Nu,n))},_),fc=p(Wa,{...$(u(1,2),n=>i(Wu,n))},_),Gu=c(e.activeCharKey,"Aloy",66),Ku=r(Pn,uc,{premod:{normal_dmg_:_c,charged_dmg_:fc,atk:Gu}}),Lu={document:[{value:Wa,path:Hu,header:o(Pn,t("stacks")),name:t("hitOp.cryo"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:_c},{node:fc},{text:l("duration"),value:6,unit:"s"}]}]))}]},qu=new s(Pn,Lu,uc,Ku),Sn="PrototypeCrescent",gc=d.weapon.data[Sn],zu=[-1,.36,.45,.54,.63,.72],[Uu,Ha]=m(Sn,"Unreturning"),wc=c(Ha,"on",a(e.weapon.refinement,zu)),kc=c(Ha,"on",S(.1)),Vu=r(Sn,gc,{premod:{atk_:wc,moveSPD_:kc}}),Ju={document:[{value:Ha,path:Uu,header:o(Sn,t("conditional")),name:t("hitOp.weakSpot"),states:{on:{fields:[{node:wc},{node:kc},{text:l("duration"),value:10,unit:"s"}]}}}]},Qu=new s(Sn,Ju,gc,Vu),Ue="RangeGauge",vc=d.weapon.data[Ue],[,Xu]=g("weapon",Ue),Yu=[-1,.03,.04,.05,.06,.07],Zu=[-1,.07,.085,.1,.115,.13],[e_,Ga]=m(Ue,"marksConsumed"),Ka=u(1,3),yc=p(Ga,$(Ka,n=>i(n,a(e.weapon.refinement,Yu,{unit:"%"}))),_),n_=p(Ga,$(Ka,n=>i(n,a(e.weapon.refinement,Zu,{unit:"%"}))),_),Pc=$(v.map(n=>`${n}_dmg_`),()=>({...n_})),t_=r(Ue,vc,{premod:{atk_:yc,...Pc}}),a_={document:[{value:Ga,path:e_,teamBuff:!0,header:o(Ue,t("stacks")),name:Xu("condName"),states:$(Ka,n=>({name:`${n}`,fields:[{node:yc},...Object.values(Pc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},o_=new s(Ue,a_,vc,t_),bn="RavenBow",Sc=d.weapon.data[bn],s_=[-1,.12,.15,.18,.21,.24],[c_,bc]=m(bn,"BaneOfFlameAndWater"),Oc=c(bc,"on",a(e.weapon.refinement,s_)),d_=r(bn,Sc,{premod:{all_dmg_:Oc}}),r_={document:[{value:bc,path:c_,name:t("enemyAffected.hydroOrPyro"),header:o(bn,t("conditional")),states:{on:{fields:[{node:Oc}]}}}]},i_=new s(bn,r_,Sc,d_),On="RecurveBow",Bc=d.weapon.data[On],m_=[-1,.08,.1,.12,.14,.16],Ac=c(e.weapon.key,On,Ke(i(e.total.hp,a(e.weapon.refinement,m_)))),l_=r(On,Bc,void 0,{healing:Ac}),$_={document:[{header:o(On,t("base")),fields:[{node:h(Ac,{name:l("healing"),variant:"heal"})}]}]},p_=new s(On,$_,Bc,l_),Bn="RoyalBow",Ec=d.weapon.data[Bn],h_=[-1,.08,.1,.12,.14,.16],[u_,xc]=m(Bn,"Focus"),Mc=p(xc,{...$(u(1,5),n=>i(a(e.weapon.refinement,h_),n))},_),__=r(Bn,Ec,{premod:{critRate_:Mc}}),f_={document:[{value:xc,path:u_,header:o(Bn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Mc}]}]))}]},g_=new s(Bn,f_,Ec,__),It="Rust",Dc=d.weapon.data[It],w_=[-1,.4,.5,.6,.7,.8],Tc=a(e.weapon.refinement,w_),Rc=w(-.1),k_=r(It,Dc,{premod:{normal_dmg_:Tc,charged_dmg_:Rc}}),v_={document:[{header:o(It,t("base")),fields:[{node:Tc},{node:Rc}]}]},y_=new s(It,v_,Dc,k_),Ct="SacrificialBow",Ic=d.weapon.data[Ct],P_=r(Ct,Ic),S_={document:[{header:o(Ct),fields:[]}]},b_=new s(Ct,S_,Ic,P_),he="ScionOfTheBlazingSun",Cc=d.weapon.data[he],[,zo]=g("weapon",he),O_=[-1,.6,.75,.9,1.05,1.2],B_=[-1,.28,.35,.42,.49,.56],A_=y(i(a(e.weapon.refinement,O_,{unit:"%"}),e.total.atk),"elemental"),[E_,jc]=m(he,"afterHit"),Fc=c(jc,"on",a(e.weapon.refinement,B_)),x_=r(he,Cc,{premod:{charged_dmg_:Fc}}),M_={document:[{header:o(he,t("dmg")),fields:[{node:h(A_,{name:zo("dmg")})}]},{header:o(he,t("conditional")),path:E_,value:jc,name:zo("condName"),states:{on:{fields:[{node:Fc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},D_=new s(he,M_,Cc,x_),La="SeasonedHuntersBow",qa=d.weapon.data[La],T_=r(La,qa),R_={...qa,document:[]},I_=new s(La,R_,qa,T_),jt="SharpshootersOath",Nc=d.weapon.data[jt],C_=[-1,.24,.3,.36,.42,.48],Wc=a(e.weapon.refinement,C_),j_=r(jt,Nc,{premod:{weakspotDMG_:Wc}}),F_={document:[{header:o(jt,t("base")),fields:[{node:Wc}]}]},N_=new s(jt,F_,Nc,j_),An="SkywardHarp",Hc=d.weapon.data[An],W_=[-1,.2,.25,.3,.35,.4],H_=S(1.25),Gc=a(e.weapon.refinement,W_),Kc=c(e.weapon.key,An,y(i(H_,e.total.atk),"elemental",{hit:{ele:w("physical")}})),G_=r(An,Hc,{premod:{critDMG_:Gc}},{dmg:Kc}),K_={document:[{header:o(An,t("base")),fields:[{node:Gc},{node:h(Kc,{name:t("dmg")})}]}]},L_=new s(An,K_,Hc,G_),Ve="Slingshot",Lc=d.weapon.data[Ve],[,Uo]=g("weapon",Ve),q_=[-1,.36,.42,.48,.54,.6],[z_,qc]=m(Ve,"Slingshot"),U_=["less","more"],za=p(qc,{less:a(e.weapon.refinement,q_,f.info("normal_dmg_")),more:S(-.1,f.info("normal_dmg_"))},_),zc={...za},V_=r(Ve,Lc,{premod:{normal_dmg_:za,charged_dmg_:zc}}),J_={document:[{value:qc,path:z_,header:o(Ve,t("conditional")),name:Uo("condName"),states:$(U_,n=>({name:Uo(n),fields:[{node:za},{node:zc}]}))}]},Q_=new s(Ve,J_,Lc,V_),En="SongOfStillness",Uc=d.weapon.data[En],X_=[-1,.16,.2,.24,.28,.32],[Y_,Vc]=m(En,"afterHeal"),Jc=c(Vc,"on",a(e.weapon.refinement,X_)),Z_=r(En,Uc,{premod:{all_dmg_:Jc}}),ef={document:[{header:o(En,t("conditional")),path:Y_,value:Vc,name:t("afterHeal"),states:{on:{fields:[{node:Jc},{text:l("duration"),value:8,unit:"s"}]}}}]},nf=new s(En,ef,Uc,Z_),fn="TheFirstGreatMagic",Qc=d.weapon.data[fn],tf=[-1,.16,.2,.24,.28,.32],ma=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],la=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Vo=p(e.charEle,x,_),$a=P(...v.map(n=>Zo(x[n],1,ae(n,e.charEle,x[n])))),Xc=a(e.weapon.refinement,tf),Yc=es(Vo,3,a(e.weapon.refinement,ma[2]),Ta(Vo,2,a(e.weapon.refinement,ma[1]),a(e.weapon.refinement,ma[0]))),ha=es($a,3,a(e.weapon.refinement,la[2]),Ta($a,2,a(e.weapon.refinement,la[1]),c($a,1,a(e.weapon.refinement,la[0])))),af=r(fn,Qc,{premod:{charged_dmg_:Xc,atk_:Yc,moveSPD_:ha}}),of={document:[{header:o(fn,t("base")),fields:[{node:Xc}]},{header:o(fn,t("stacks")),fields:[{node:Yc},{canShow:n=>n.get(ha).value>0,node:ha}]}]},sf=new s(fn,of,Qc,af),Ft="TheStringless",Zc=d.weapon.data[Ft],ed=[-1,.24,.3,.36,.42,.48],nd=a(e.weapon.refinement,ed),td=a(e.weapon.refinement,ed),cf=r(Ft,Zc,{premod:{skill_dmg_:nd,burst_dmg_:td}}),df={document:[{header:o(Ft,t("base")),fields:[{node:nd},{node:td}]}]},rf=new s(Ft,df,Zc,cf),xn="TheViridescentHunt",ad=d.weapon.data[xn],mf=[-1,.4,.5,.6,.7,.8],od=c(e.weapon.key,xn,y(i(a(e.weapon.refinement,mf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),lf=r(xn,ad,void 0,{dmg:od}),$f={document:[{header:o(xn,t("base")),fields:[{node:h(od,{name:t("dmg")})}]}]},pf=new s(xn,$f,ad,lf),ue="ThunderingPulse",sd=d.weapon.data[ue],[,hf]=g("weapon",ue),uf=[-1,.2,.25,.3,.35,.4],_f=[-1,.12,.15,.18,.21,.24],ff=[-1,.24,.3,.36,.42,.48],gf=[-1,.4,.5,.6,.7,.8],[wf,cd]=m(ue,"RuleByThunder"),dd=a(e.weapon.refinement,uf),rd=p(cd,{1:a(e.weapon.refinement,_f),2:a(e.weapon.refinement,ff),3:a(e.weapon.refinement,gf)},_),kf=r(ue,sd,{premod:{atk_:dd,normal_dmg_:rd}}),vf={document:[{header:o(ue,t("base")),fields:[{node:dd}]},{value:cd,path:wf,header:o(ue,t("stacks")),name:hf("condName"),states:$(u(1,3),n=>({name:t("stack",{count:n}),fields:[{node:rd}]}))}]},yf=new s(ue,vf,sd,kf),Mn="WindblumeOde",id=d.weapon.data[Mn],Pf=[-1,.16,.2,.24,.28,.32],[Sf,md]=m(Mn,"WindblumeWish"),ld=c(md,"on",a(e.weapon.refinement,Pf)),bf=r(Mn,id,{premod:{atk_:ld}}),Of={document:[{value:md,path:Sf,name:t("afterUse.skill"),header:o(Mn,t("conditional")),states:{on:{fields:[{node:ld},{text:l("duration"),value:6,unit:"s"}]}}}]},Bf=new s(Mn,Of,id,bf),Af={AlleyHunter:Xh,AmosBow:a1,AquaSimulacra:m1,BlackcliffWarbow:u1,CompoundBow:v1,ElegyForTheEnd:E1,FadingTwilight:j1,FavoniusWarbow:W1,Hamayumi:q1,HuntersBow:V1,HuntersPath:eu,IbisPiercer:su,KingsSquire:lu,Messenger:uu,MitternachtsWaltz:yu,MouunsMoon:Eu,PolarStar:Fu,Predator:qu,PrototypeCrescent:Qu,RangeGauge:o_,RavenBow:i_,RecurveBow:p_,RoyalBow:g_,Rust:y_,SacrificialBow:b_,ScionOfTheBlazingSun:D_,SeasonedHuntersBow:I_,SharpshootersOath:N_,SkywardHarp:L_,Slingshot:Q_,SongOfStillness:nf,TheFirstGreatMagic:sf,TheStringless:rf,TheViridescentHunt:pf,ThunderingPulse:yf,EndOfTheLine:T1,WindblumeOde:Bf},je="AThousandFloatingDreams",$d=d.weapon.data[je],Ef=[-1,32,40,48,56,64],xf=[-1,.1,.14,.18,.22,.26],Mf=[-1,40,42,44,46,48],pd=p(e.charEle,Object.fromEntries(v.map(n=>[n,h(P(x[n],-1),{asConst:!0})])),_),Df=P(...v.map(n=>x[n])),hd=i(pd,a(e.weapon.refinement,Ef)),ud=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,i(h(P(Df,-1,i(pd,-1)),{asConst:!0}),a(e.weapon.refinement,xf,{unit:"%"})))])),_d=c(e.weapon.key,je,a(e.weapon.refinement,Mf),{...f.info("eleMas"),isTeamBuff:!0}),Tf=ae(e.charKey,O.charKey,_d),Rf=r(je,$d,{premod:{eleMas:hd,...ud},teamBuff:{premod:{eleMas:Tf}}}),If={document:[{header:o(je,t("base")),fields:[{node:hd},...Object.values(ud).map(n=>({node:n}))]},{header:o(je,t("teamBuff")),teamBuff:!0,fields:[{node:_d}]}]},Cf=new s(je,If,$d,Rf),Ua="ApprenticesNotes",Va=d.weapon.data[Ua],jf=r(Ua,Va),Ff={...Va,document:[]},Nf=new s(Ua,Ff,Va,jf),Dn="BalladOfTheBoundlessBlue",fd=d.weapon.data[Dn],Wf=[-1,.08,.1,.12,.14,.16],Hf=[-1,.06,.075,.09,.105,.12],[Gf,Ja]=m(Dn,"hits"),Qa=u(1,3),gd=p(Ja,$(Qa,n=>i(n,a(e.weapon.refinement,Wf,{unit:"%"}))),_),wd=p(Ja,$(Qa,n=>i(n,a(e.weapon.refinement,Hf,{unit:"%"}))),_),Kf=r(Dn,fd,{premod:{normal_dmg_:gd,charged_dmg_:wd}}),Lf={document:[{value:Ja,path:Gf,teamBuff:!0,header:o(Dn,t("stacks")),name:t("hitOp.normalOrCharged"),states:$(Qa,n=>({name:t("hits",{count:n}),fields:[{node:gd},{node:wd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},qf=new s(Dn,Lf,fd,Kf),Tn="BlackcliffAgate",kd=d.weapon.data[Tn],[zf,vd]=m(Tn,"PressTheAdvantage"),yd=u(1,3),Uf=[-1,.12,.15,.18,.21,.24],Pd=i(p(vd,$(yd,n=>w(n)),0),a(e.weapon.refinement,Uf)),Vf=r(Tn,kd,{premod:{atk_:Pd}}),Jf={document:[{value:vd,path:zf,header:o(Tn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(yd.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Pd},{text:l("duration"),value:30,unit:"s"}]}]))}]},Qf=new s(Tn,Jf,kd,Vf),U="CashflowSupervision",Xa=d.weapon.data[U],Sd=Xa.refinementBonus.atk_;if(!Sd)throw new Error(`data_gen.refinementBonus.atk_ for ${U} was undefined`);const Xf=[-1,.16,.2,.24,.28,.32],Yf=[-1,.14,.175,.21,.245,.28],Zf=[-1,.08,.1,.12,.14,.16],bd=c(e.weapon.key,U,a(e.weapon.refinement,Sd)),[eg,Nt]=m(U,"hpChanges"),Ya=u(1,3),Od=p(Nt,$(Ya,n=>i(n,a(e.weapon.refinement,Xf,{unit:"%"}))),_),Bd=p(Nt,$(Ya,n=>i(n,a(e.weapon.refinement,Yf,{unit:"%"}))),_),Ad=c(Nt,"3",a(e.weapon.refinement,Zf)),ng=r(U,Xa,{premod:{atk_:bd,normal_dmg_:Od,charged_dmg_:Bd,atkSPD_:Ad}}),tg={document:[{header:o(U,t("base")),fields:[{node:bd}]},{value:Nt,path:eg,header:o(U,t("stacks")),name:t("hpChange"),states:$(Ya,n=>({name:t("times",{count:n}),fields:[{node:Od},{node:Bd},{node:Ad},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},ag=new s(U,tg,Xa,ng),Rn="CranesEchoingCall",Ed=d.weapon.data[Rn],og=[-1,.28,.41,.54,.67,.8],[sg,xd]=m(Rn,"passive"),Md=c(xd,"on",a(e.weapon.refinement,og,{unit:"%"})),cg=r(Rn,Ed,{teamBuff:{premod:{plunging_dmg_:Md}}}),dg={document:[{value:xd,path:sg,header:o(Rn,t("conditional")),name:t("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Md},{text:l("duration"),value:20,unit:"s"}]}}}]},rg=new s(Rn,dg,Ed,cg),_e="DodocoTales",Dd=d.weapon.data[_e],ig=[-1,.16,.2,.24,.28,.32],mg=[-1,.08,.1,.12,.14,.16],[lg,Td]=m(_e,"DodoventureNormal"),[$g,Rd]=m(_e,"DodoventureCharged"),Id=c("on",Td,a(e.weapon.refinement,ig)),Cd=c("on",Rd,a(e.weapon.refinement,mg)),pg=r(_e,Dd,{premod:{charged_dmg_:Id,atk_:Cd}}),hg={document:[{value:Td,path:lg,name:t("hitOp.normal"),header:o(_e,t("conditional")),states:{on:{fields:[{node:Id},{text:l("duration"),value:6,unit:"s"}]}}},{value:Rd,path:$g,name:t("hitOp.charged"),header:o(_e,t("conditional")),states:{on:{fields:[{node:Cd},{text:l("duration"),value:6,unit:"s"}]}}}]},ug=new s(_e,hg,Dd,pg),In="EmeraldOrb",jd=d.weapon.data[In],_g=[-1,.2,.25,.3,.35,.4],[fg,Fd]=m(In,"Rapids"),Nd=c("on",Fd,a(e.weapon.refinement,_g)),gg=r(In,jd,{premod:{atk_:Nd}}),wg={document:[{value:Fd,path:fg,name:t("elementalReaction.hydro"),header:o(In,t("conditional")),states:{on:{fields:[{node:Nd},{text:l("duration"),value:12,unit:"s"}]}}}]},kg=new s(In,wg,jd,gg),xe="EverlastingMoonglow",Za=d.weapon.data[xe],vg=[-1,.01,.015,.02,.025,.03],[,yg]=g("weapon",xe),ua=c(e.weapon.key,xe,i(a(e.weapon.refinement,vg,{unit:"%"}),e.premod.hp)),Wd=Za.refinementBonus.heal_;if(!Wd)throw new Error(`data_gen.refinementBonus.heal_ for ${xe} was undefined`);const Hd=a(e.weapon.refinement,Wd),Pg=r(xe,Za,{premod:{normal_dmgInc:ua,heal_:Hd}},{normal_dmgInc:ua}),Sg={document:[{header:o(xe,t("base")),fields:[{node:Hd},{text:yg("name"),node:ua}]}]},bg=new s(xe,Sg,Za,Pg),Cn="EyeOfPerception",Gd=d.weapon.data[Cn],Og=[-1,2.4,2.7,3,3.3,3.6],Kd=c(e.weapon.key,Cn,y(i(a(e.weapon.refinement,Og,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Bg=r(Cn,Gd,void 0,{dmg_:Kd}),Ag={document:[{header:o(Cn,t("base")),fields:[{node:h(Kd,{name:t("dmg")})}]}]},Eg=new s(Cn,Ag,Gd,Bg),Wt="FavoniusCodex",Ld=d.weapon.data[Wt],xg=r(Wt,Ld),Mg={document:[{header:o(Wt),fields:[]}]},Dg=new s(Wt,Mg,Ld,xg),C="FlowingPurity",qd=d.weapon.data[C],[,Tg]=g("weapon",C),Rg=[-1,.08,.1,.12,.14,.16],Ig=[-1,.02,.025,.03,.035,.04],Cg=[-1,.12,.15,.18,.21,.24],[jg,zd]=m(C,"afterSkill"),Fg=c(zd,"on",a(e.weapon.refinement,Rg)),eo=v.map(n=>`${n}_dmg_`),Ud=$(eo,n=>h({...Fg},f.info(n))),Ng=i(S(.24),e.total.hp),[Wg,Vd]=m(C,"bond"),Hg=c(e.weapon.key,C,c(Vd,"on",te(i(a(e.weapon.refinement,Ig,{unit:"%"}),i(Ng,S(1/1e3))),a(e.weapon.refinement,Cg,{unit:"%"})))),_a=$(eo,n=>h({...Hg},f.info(n))),Gg=r(C,qd,{premod:{...$(eo,n=>P(Ud[n],_a[n]))}},_a),Kg={document:[{header:o(C,t("conditional")),path:jg,value:zd,name:t("hitOp.skill"),states:{on:{fields:[...Object.values(Ud).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(C,t("conditional")),path:Wg,value:Vd,name:Tg("bondCondName"),states:{on:{fields:[...Object.values(_a).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"}]}}}]},Lg=new s(C,Kg,qd,Gg),K="Frostbearer",Jd=d.weapon.data[K],qg=[-1,.8,.95,1.1,1.25,1.4],zg=[-1,2,2.4,2.8,3.2,3.6],Qd=c(e.weapon.key,K,y(i(a(e.weapon.refinement,qg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Xd=c(e.weapon.key,K,y(i(a(e.weapon.refinement,zg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ug=r(K,Jd,void 0,{dmgAoe:Qd,dmgOnCryoOp:Xd}),Vg={document:[{header:o(K,t("base")),fields:[{node:h(Qd,{name:s.trm(K)("aoeDmg")})},{node:h(Xd,{name:s.trm(K)("cryoAffectedDmg")})}]}]},Jg=new s(K,Vg,Jd,Ug),Je="FruitOfFulfillment",Yd=d.weapon.data[Je],[,Qg]=g("weapon",Je),Xg=[-1,24,27,30,33,36],[Yg,no]=m(Je,"stacks"),to=b(1,5),Zd=p(no,Object.fromEntries(to.map(n=>[n,i(a(e.weapon.refinement,Xg),n)])),_),er=p(no,Object.fromEntries(to.map(n=>[n,i(S(-.05),n)])),_),Zg=r(Je,Yd,{premod:{eleMas:Zd,atk_:er}}),ew={document:[{teamBuff:!0,header:o(Je,t("stacks")),path:Yg,value:no,name:Qg("stackName"),states:Object.fromEntries(to.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Zd},{node:er}]}]))}]},nw=new s(Je,ew,Yd,Zg),jn="HakushinRing",nr=d.weapon.data[jn],tw=[-1,.1,.125,.15,.175,.2],[aw,oe]=m(jn,"SakuraSaiguu"),Me=a(e.weapon.refinement,tw),tr=c("anemo",oe,Me),ar=c("cryo",oe,Me),or=c("geo",oe,Me),sr=c("hydro",oe,Me),cr=c("pyro",oe,Me),dr=c("dendro",oe,Me),ow=c("anemo",O.charEle,tr),sw=c("cryo",O.charEle,ar),cw=c("geo",O.charEle,or),dw=c("hydro",O.charEle,sr),rw=c("pyro",O.charEle,cr),iw=c("dendro",O.charEle,dr),ce=ae(oe,void 0,Me),mw=c("electro",O.charEle,ce),lw=r(jn,nr,{teamBuff:{premod:{anemo_dmg_:ow,cryo_dmg_:sw,electro_dmg_:mw,geo_dmg_:cw,hydro_dmg_:dw,pyro_dmg_:rw,dendro_dmg_:iw}}}),$w={document:[{value:oe,path:aw,name:t("elementalReaction.electro"),teamBuff:!0,header:o(jn,t("conditional")),states:{anemo:{name:G(Ie,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:h(tr,{...f.info("anemo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:G(Ie,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:h(ar,{...f.info("cryo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:G(Ie,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:h(or,{...f.info("geo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:G(Ie,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:h(cr,{...f.info("pyro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:G(Ie,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:h(sr,{...f.info("hydro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:G(Ie,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:h(dr,{...f.info("dendro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},pw=new s(jn,$w,nr,lw),De="JadefallsSplendor",rr=d.weapon.data[De],[,hw]=g("weapon",De),[uw,ir]=m(De,"condPassive"),_w=[-1,.003,.005,.007,.009,.011],fw=[-1,.12,.2,.28,.36,.44],gw=c(e.weapon.key,De,c(ir,"on",te(a(e.weapon.refinement,fw,{unit:"%"}),i(a(e.weapon.refinement,_w,{unit:"%"}),e.total.hp,1/1e3)))),fa=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(n,e.charEle,gw)])),ww=r(De,rr,{premod:{...fa}},{...fa}),kw={document:[{header:o(De,t("conditional")),path:uw,value:ir,name:hw("condName"),states:{on:{fields:[...Object.values(fa).map(n=>({node:n})),{text:l("duration"),value:3,unit:"s"}]}}}]},vw=new s(De,kw,rr,ww),Fn="KagurasVerity",mr=d.weapon.data[Fn],[yw,ao]=m(Fn,"KaguraDance"),lr=b(1,3),$r=[-1,.12,.15,.18,.21,.24],pr=lr.map(n=>c(ao,n.toString(),a(e.weapon.refinement,$r.map(k=>k*n)),f.info("skill_dmg_"))),hr=Object.fromEntries(v.map(n=>[n,c(ao,"3",a(e.weapon.refinement,$r))])),Pw=r(Fn,mr,{premod:{skill_dmg_:P(...pr),...Object.fromEntries(v.map(n=>[`${n}_dmg_`,hr[n]]))}}),Sw={document:[{value:ao,path:yw,header:o(Fn,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(lr.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:pr[n-1]},...v.map(k=>({node:hr[k]}))]}]))}]},bw=new s(Fn,Sw,mr,Pw),Fe="LostPrayerToTheSacredWinds",ur=d.weapon.data[Fe],Ow=[-1,.08,.1,.12,.14,.16],[Bw,_r]=m(Fe,"BoundlessBlessing"),fr=S(.1),Aw=a(e.weapon.refinement,Ow,{unit:"%"}),gr=Object.fromEntries(v.map(n=>[n,p(_r,{...$(u(1,4),k=>i(Aw,k))},_)])),Ew=r(Fe,ur,{premod:{moveSPD_:fr,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,gr[n]]))}}),xw={document:[{header:o(Fe,t("base")),fields:[{node:fr}]},{value:_r,path:Bw,header:o(Fe,t("stacks")),name:t("timeOnField"),states:$(u(1,4),n=>({name:t("seconds",{count:n*4}),fields:v.map(k=>({node:gr[k]}))}))}]},Mw=new s(Fe,xw,ur,Ew),Nn="MagicGuide",wr=d.weapon.data[Nn],Dw=[-1,.12,.15,.18,.21,.24],[Tw,kr]=m(Nn,"BaneOfStormAndTide"),vr=c("on",kr,a(e.weapon.refinement,Dw)),Rw=r(Nn,wr,{premod:{all_dmg_:vr}}),Iw={document:[{value:kr,path:Tw,name:t("enemyAffected.hydroOrElectro"),header:o(Nn,t("conditional")),states:{on:{fields:[{node:vr}]}}}]},Cw=new s(Nn,Iw,wr,Rw),Wn="MappaMare",yr=d.weapon.data[Wn],[jw,Pr]=m(Wn,"InfusionScroll"),Fw=[-1,.08,.1,.12,.14,.16],Nw=a(e.weapon.refinement,Fw),Sr=Fh(v,n=>[`${n}_dmg_`,p(Pr,{...$(u(1,2),k=>i(Nw,k))},_)]),Ww=r(Wn,yr,{premod:Sr}),Hw={document:[{value:Pr,path:jw,header:o(Wn,t("stacks")),name:t("afterReaction"),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[...Object.values(Sr).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Gw=new s(Wn,Hw,yr,Ww),D="MemoryOfDust",br=d.weapon.data[D],[,Kw]=g("weapon",D),Lw=[-1,.2,.25,.3,.35,.4],qw=[-1,.04,.05,.06,.07,.08],[zw,Or]=m(D,"GoldenMajesty"),Br=a(e.weapon.refinement,Lw),[Uw,Ar]=m(D,"WithShield"),Vw=a(e.weapon.refinement,qw),Er=i(P(1,c(Ar,"protected",1)),p(Or,Object.fromEntries(b(1,5).map(n=>[n,i(Vw,n)])),_)),Jw=r(D,br,{premod:{shield_:Br,atk_:Er}}),Qw={document:[{header:o(D,t("base")),fields:[{node:Br}]},{value:Or,path:zw,header:o(D,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Er},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Ar,path:Uw,header:o(D,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Kw("atkEffInc"),value:100,unit:"%"}]}}}]},Xw=new s(D,Qw,br,Jw),Hn="OathswornEye",xr=d.weapon.data[Hn],Yw=[-1,.24,.3,.36,.42,.48],[Zw,Mr]=m(Hn,"faLight"),ek=a(e.weapon.refinement,Yw),Dr=c("skillBurst",Mr,ek),nk=r(Hn,xr,{premod:{enerRech_:Dr}}),tk={document:[{value:Mr,path:Zw,header:o(Hn,t("conditional")),name:t("afterUse.skill"),states:{skillBurst:{fields:[{node:Dr}]}}}]},ak=new s(Hn,tk,xr,nk),Gn="OtherworldlyStory",Tr=d.weapon.data[Gn],ok=[-1,.01,.0125,.015,.0175,.02],Rr=c(e.weapon.key,Gn,Ke(i(a(e.weapon.refinement,ok,{unit:"%"}),e.total.hp))),sk=r(Gn,Tr,void 0,{heal:Rr}),ck={document:[{header:o(Gn,t("base")),fields:[{node:h(Rr,{name:l("healing"),variant:"heal"})}]}]},dk=new s(Gn,ck,Tr,sk),oo="PocketGrimoire",Ir=d.weapon.data[oo],rk=r(oo,Ir),ik={document:[]},mk=new s(oo,ik,Ir,rk),Qe="PrototypeAmber",Cr=d.weapon.data[Qe],[lk,$k]=m(Qe,"Gliding"),pk=[-1,.04,.045,.05,.055,.06],jr=c(e.weapon.key,Qe,Ke(i(a(e.weapon.refinement,pk,{unit:"%"}),e.total.hp))),hk=r(Qe,Cr,void 0,{heal:jr}),uk={document:[{value:$k,path:lk,name:t("afterUse.burst"),header:o(Qe,t("conditional")),states:{on:{fields:[{node:h(jr,{name:l("healing"),variant:"heal"})}]}}}]},_k=new s(Qe,uk,Cr,hk),fe="QuantumCatalyst",Fr=d.weapon.data[fe],fk=[-1,.18,.225,.27,.315,.36],gk=[-1,.06,.075,.09,.105,.12],wk=[-1,10,12,14,16,18],Nr=u(1,5),[kk,Wr]=m(fe,"stacks"),Hr=a(e.weapon.refinement,fk),Bt=c(e.weapon.key,fe,i(a(e.weapon.refinement,gk,{unit:"%"}),e.total.eleMas)),ga={...Bt},Gr=p(Wr,$(Nr,n=>i(a(e.weapon.refinement,wk),n)),_),vk=r(fe,Fr,{premod:{enerRech_:Hr,normal_dmgInc:Bt,charged_dmgInc:ga,eleMas:Gr}},{normal_dmgInc:Bt,charged_dmgInc:ga}),yk={document:[{header:o(fe,t("base")),fields:[{node:Hr},{node:Bt},{node:ga}]},{value:Wr,path:kk,teamBuff:!0,header:o(fe,t("stacks")),name:t("elementalReaction.electro"),states:$(Nr,n=>({name:t("stack",{count:n}),fields:[{node:Gr},{text:l("duration"),value:12,unit:"s"}]}))}]},Pk=new s(fe,yk,Fr,vk),Kn="RoyalGrimoire",Kr=d.weapon.data[Kn],[Sk,Lr]=m(Kn,"stack"),bk=[-1,.08,.1,.12,.14,.16],qr=p(Lr,$(u(1,5),n=>i(a(e.weapon.refinement,bk,{unit:"%"}),n)),_),Ok=r(Kn,Kr,{premod:{critRate_:qr}}),Bk={document:[{value:Lr,path:Sk,header:o(Kn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:qr}]}]))}]},Ak=new s(Kn,Bk,Kr,Ok),Ht="SacrificialFragments",zr=d.weapon.data[Ht],Ek=r(Ht,zr),xk={document:[{header:o(Ht),fields:[]}]},Mk=new s(Ht,xk,zr,Ek),Xe="SacrificialJade",Ur=d.weapon.data[Xe],[,Dk]=g("weapon",Xe),Tk=[-1,.32,.4,.48,.56,.64],Rk=[-1,40,50,60,70,80],[Ik,so]=m(Xe,"offField"),Vr=c(so,"on",a(e.weapon.refinement,Tk)),Jr=c(so,"on",a(e.weapon.refinement,Rk)),Ck=r(Xe,Ur,{premod:{eleMas:Jr,hp_:Vr}}),jk={document:[{teamBuff:!0,header:o(Xe,t("conditional")),path:Ik,value:so,name:Dk("condOffField"),states:{on:{fields:[{node:Vr},{node:Jr}]}}}]},Fk=new s(Xe,jk,Ur,Ck),Ln="SkywardAtlas",Qr=d.weapon.data[Ln],Nk=[-1,.12,.15,.18,.21,.24],Xr=Object.fromEntries(v.map(n=>[n,a(e.weapon.refinement,Nk)])),Wk=[-1,1.6,2,2.4,2.8,3.2],Yr=c(e.weapon.key,Ln,y(i(a(e.weapon.refinement,Wk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Hk=r(Ln,Qr,{premod:{...Object.fromEntries(v.map(n=>[`${n}_dmg_`,Xr[n]]))}},{dmg:Yr}),Gk={document:[{header:o(Ln,t("base")),fields:[...v.map(n=>({node:Xr[n]})),{node:h(Yr,{name:t("dmg")})}]}]},Kk=new s(Ln,Gk,Qr,Hk),ge="SolarPearl",Zr=d.weapon.data[ge],Lk=[-1,.2,.25,.3,.35,.4],[qk,ei]=m(ge,"solarShineNormal"),[zk,ni]=m(ge,"solarShineSkillBurst"),ti=a(e.weapon.refinement,Lk),co=c("normal",ei,ti),ai={...co},oi=c("skillBurst",ni,ti),Uk=r(ge,Zr,{premod:{skill_dmg_:co,burst_dmg_:ai,normal_dmg_:oi}}),Vk={document:[{value:ei,path:qk,header:o(ge,t("conditional")),name:t("hitOp.normal"),states:{normal:{fields:[{node:co},{node:ai}]}}},{value:ni,path:zk,header:o(ge,t("conditional")),name:t("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:oi}]}}}]},Jk=new s(ge,Vk,Zr,Uk),Ye="TheWidsith",si=d.weapon.data[Ye],[Qk,pa]=g("weapon",Ye),Xk=[-1,.6,.75,.9,1.05,1.2],Yk=[-1,.48,.6,.72,.84,.96],Zk=[-1,240,300,360,420,480],[e2,Gt]=m(Ye,"Debut"),ci=c("recitative",Gt,a(e.weapon.refinement,Xk)),di=Object.fromEntries(v.map(n=>[n,c("aria",Gt,a(e.weapon.refinement,Yk))])),ri=c("interlude",Gt,a(e.weapon.refinement,Zk)),n2=r(Ye,si,{premod:{atk_:ci,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,di[n]])),eleMas:ri}}),t2={document:[{value:Gt,path:e2,teamBuff:!0,header:o(Ye,t("conditional")),name:Qk("passiveName"),states:{aria:{name:pa("aria"),fields:[...v.map(n=>({node:di[n]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:pa("interlude"),fields:[{node:ri},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:pa("recitative"),fields:[{node:ci},{text:l("duration"),value:10,unit:"s"}]}}}]},a2=new s(Ye,t2,si,n2),Ze="ThrillingTalesOfDragonSlayers",ii=d.weapon.data[Ze],[,o2]=g("weapon",Ze),s2=[-1,.24,.3,.36,.42,.48],[c2,mi]=m(Ze,"Heritage"),li=c("on",mi,a(e.weapon.refinement,s2)),d2=ae(e.activeCharKey,e.charKey,c(e.activeCharKey,O.charKey,li)),r2=r(Ze,ii,{teamBuff:{premod:{atk_:d2}}}),i2={document:[{value:mi,path:c2,name:o2("condName"),teamBuff:!0,header:o(Ze,t("conditional")),states:{on:{fields:[{node:h(li,f.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},m2=new s(Ze,i2,ii,r2),V="TomeOfTheEternalFlow",ro=d.weapon.data[V],$i=ro.refinementBonus.hp_;if(!$i)throw new Error(`data_gen.refinementBonus.hp_ for ${V} was undefined`);const l2=[-1,.14,.18,.22,.26,.3],pi=c(e.weapon.key,V,a(e.weapon.refinement,$i)),[$2,hi]=m(V,"hpChanges"),ui=u(1,3),_i=p(hi,$(ui,n=>i(n,a(e.weapon.refinement,l2,{unit:"%"}))),_),p2=r(V,ro,{premod:{hp_:pi,charged_dmg_:_i}}),h2={document:[{header:o(V,t("base")),fields:[{node:pi}]},{value:hi,path:$2,header:o(V,t("stacks")),name:t("hpChange"),states:$(ui,n=>({name:t("times",{count:n}),fields:[{node:_i},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},u2=new s(V,h2,ro,p2),B="TulaytullahsRemembrance",fi=d.weapon.data[B],_2=[-1,.1,.125,.15,.175,.2],f2=[-1,.048,.06,.072,.084,.096],gi=b(1,12),g2=[-1,.096,.12,.144,.168,.192],wi=b(1,5),w2=[-1,.48,.6,.72,.84,.96],ki=c(e.weapon.key,B,a(e.weapon.refinement,_2)),[k2,vi]=m(B,"timePassive"),v2=c(e.weapon.key,B,p(vi,Object.fromEntries(gi.map(n=>[n,i(n,a(e.weapon.refinement,f2,{unit:"%"}))])),_,f.info("normal_dmg_"))),[y2,yi]=m(B,"hitPassive"),P2=c(e.weapon.key,B,p(yi,Object.fromEntries(wi.map(n=>[n,i(n,a(e.weapon.refinement,g2,{unit:"%"}))])),_,f.info("normal_dmg_"))),Pi=te(a(e.weapon.refinement,w2,{unit:"%"}),P(v2,P2)),S2=r(B,fi,{premod:{atkSPD_:ki,normal_dmg_:Pi}}),b2={document:[{header:o(B,t("base")),fields:[{node:ki}]},{header:o(B,t("conditional")),fields:[{node:Pi}]},{value:vi,path:k2,header:o(B,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(gi.map(n=>[n,{name:t("seconds",{count:n}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:yi,path:y2,header:o(B,t("stacks")),name:t("hitOp.normal"),states:Object.fromEntries(wi.map(n=>[n,{name:t("stack",{count:n}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},O2=new s(B,b2,fi,S2),qn="TwinNephrite",Si=d.weapon.data[qn],bi=[-1,.12,.14,.16,.18,.2],[B2,io]=m(qn,"GuerillaTactics"),Oi=c("on",io,a(e.weapon.refinement,bi)),Bi=c("on",io,a(e.weapon.refinement,bi)),A2=r(qn,Si,{premod:{atk_:Oi,moveSPD_:Bi}}),E2={document:[{value:io,path:B2,name:t("afterDefeatEnemy"),header:o(qn,t("conditional")),states:{on:{fields:[{node:Oi},{node:Bi},{text:l("duration"),value:15,unit:"s"}]}}}]},x2=new s(qn,E2,Si,A2),we="WanderingEvenstar",Ai=d.weapon.data[we],M2=[-1,.24,.3,.36,.42,.48],At=c(e.weapon.key,we,i(a(e.weapon.refinement,M2,{unit:"%"}),e.premod.eleMas)),mo=c(e.weapon.key,we,i(S(.3),At)),D2=ae(e.activeCharKey,e.charKey,mo),T2=r(we,Ai,{total:{atk:At},teamBuff:{total:{atk:D2}}},{selfAtk:At,teamAtkDisp:mo}),R2={document:[{header:o(we,t("base")),fields:[{node:At}]},{header:o(we,t("teamBuff")),teamBuff:!0,fields:[{node:h(mo,{...f.info("atk"),isTeamBuff:!0})}]}]},I2=new s(we,R2,Ai,T2),zn="WineAndSong",Ei=d.weapon.data[zn],C2=[-1,.2,.25,.3,.35,.4],[j2,xi]=m(zn,"EverChanging"),Mi=c("on",xi,a(e.weapon.refinement,C2)),F2=r(zn,Ei,{premod:{atk_:Mi}}),N2={document:[{value:xi,path:j2,name:t("afterSprint"),header:o(zn,t("conditional")),states:{on:{fields:[{node:Mi},{text:l("duration"),value:5,unit:"s"}]}}}]},W2=new s(zn,N2,Ei,F2),H2={ApprenticesNotes:Nf,AThousandFloatingDreams:Cf,BalladOfTheBoundlessBlue:qf,BlackcliffAgate:Qf,CashflowSupervision:ag,CranesEchoingCall:rg,DodocoTales:ug,EmeraldOrb:kg,EverlastingMoonglow:bg,EyeOfPerception:Eg,FavoniusCodex:Dg,FlowingPurity:Lg,Frostbearer:Jg,FruitOfFulfillment:nw,HakushinRing:pw,JadefallsSplendor:vw,KagurasVerity:bw,LostPrayerToTheSacredWinds:Mw,MagicGuide:Cw,MappaMare:Gw,MemoryOfDust:Xw,OathswornEye:ak,OtherworldlyStory:dk,PocketGrimoire:mk,PrototypeAmber:_k,QuantumCatalyst:Pk,RoyalGrimoire:Ak,SacrificialFragments:Mk,SacrificialJade:Fk,SkywardAtlas:Kk,SolarPearl:Jk,TheWidsith:a2,ThrillingTalesOfDragonSlayers:m2,TomeOfTheEternalFlow:u2,TulaytullahsRemembrance:O2,TwinNephrite:x2,WanderingEvenstar:I2,WineAndSong:W2},en="Akuoumaru",Di=d.weapon.data[en],[,G2]=g("weapon",en),[K2,Ti]=m(en,"WatatsumiWavewalker"),Ri=b(4,36).map(n=>n*10),L2=[-1,.0012,.0015,.0018,.0021,.0024],q2=[-1,.4,.5,.6,.7,.8],Ii=p(Ti,Object.fromEntries(Ri.map(n=>[n,te(i(a(e.weapon.refinement,L2,{unit:"%"}),n),a(e.weapon.refinement,q2,{unit:"%"}))])),_),z2=r(en,Di,{premod:{burst_dmg_:Ii}}),U2={document:[{value:Ti,path:K2,header:o(en,t("stacks")),name:G2("party"),states:Object.fromEntries(Ri.map(n=>[n,{name:n.toString(),fields:[{node:Ii}]}]))}]},V2=new s(en,U2,Di,z2),A="BeaconOfTheReedSea",Ci=d.weapon.data[A],J2=[-1,.2,.25,.3,.35,.4],[Q2,ji]=m(A,"afterSkill"),Fi=c(e.weapon.key,A,c(ji,"on",a(e.weapon.refinement,J2,{...f.info("atk_")}))),X2=[-1,.2,.25,.3,.35,.4],[Y2,Ni]=m(A,"afterDmg"),Wi=c(e.weapon.key,A,c(Ni,"on",a(e.weapon.refinement,X2,{...f.info("atk_")}))),Z2=[-1,.32,.4,.48,.56,.64],[ev,Hi]=m(A,"noShield"),Gi=c(e.weapon.key,A,c(Hi,"on",a(e.weapon.refinement,Z2,{...f.info("hp_")}))),nv=r(A,Ci,{premod:{atk_:P(Fi,Wi),hp_:Gi}},{}),tv={document:[{header:o(A,t("conditional")),path:Q2,value:ji,name:t("hitOp.skill"),states:{on:{fields:[{node:Fi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,t("conditional")),path:Y2,value:Ni,name:t("takeDmg"),states:{on:{fields:[{node:Wi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,t("conditional")),path:ev,value:Hi,name:t("notProtectedByShield"),states:{on:{fields:[{node:Gi}]}}}]},av=new s(A,tv,Ci,nv),Un="BlackcliffSlasher",Ki=d.weapon.data[Un],[ov,Li]=m(Un,"PressTheAdvantage"),qi=u(1,3),sv=[-1,.12,.15,.18,.21,.24],zi=i(p(Li,$(qi,n=>w(n)),0),a(e.weapon.refinement,sv)),cv=r(Un,Ki,{premod:{atk_:zi}}),dv={document:[{value:Li,path:ov,header:o(Un,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(qi.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zi},{text:l("duration"),value:30,unit:"s"}]}]))}]},rv=new s(Un,dv,Ki,cv),Vn="BloodtaintedGreatsword",Ui=d.weapon.data[Vn],iv=[-1,.12,.15,.18,.21,.24],[mv,Vi]=m(Vn,"BaneOfFireAndThunder"),Ji=c("on",Vi,a(e.weapon.refinement,iv)),lv=r(Vn,Ui,{premod:{all_dmg_:Ji}}),$v={document:[{value:Vi,path:mv,name:t("enemyAffected.pyroOrElectro"),header:o(Vn,t("conditional")),states:{on:{fields:[{node:Ji}]}}}]},pv=new s(Vn,$v,Ui,lv),Kt="DebateClub",Qi=d.weapon.data[Kt],hv=[-1,.6,.75,.9,1.05,1.2],uv=y(i(a(e.weapon.refinement,hv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}}),_v=r(Kt,Qi),fv={document:[{header:o(Kt,t("base")),fields:[{node:h(uv,{name:t("dmg")})}]}]},gv=new s(Kt,fv,Qi,_v),Lt="FavoniusGreatsword",Xi=d.weapon.data[Lt],wv=r(Lt,Xi),kv={document:[{header:o(Lt),fields:[]}]},vv=new s(Lt,kv,Xi,wv),nn="FerrousShadow",Yi=d.weapon.data[nn],[,Jo]=g("weapon",nn),yv=[-1,.3,.35,.4,.45,.5],[Pv,Zi]=m(nn,"Unbending"),em=c("on",Zi,a(e.weapon.refinement,yv)),Sv=r(nn,Yi,{premod:{charged_dmg_:em}}),bv={document:[{value:Zi,path:Pv,name:Jo("condName"),header:o(nn,t("conditional")),states:{on:{fields:[{node:em},{text:Jo("resistance")}]}}}]},Ov=new s(nn,bv,Yi,Sv),tn="ForestRegalia",nm=d.weapon.data[tn],[,Bv]=g("weapon",tn),[Av,tm]=m(tn,"passive"),Ev=[-1,60,75,90,105,120],am=c(tm,"on",a(e.weapon.refinement,Ev)),xv=c(e.activeCharKey,O.charKey,am),Mv=r(tn,nm,{teamBuff:{premod:{eleMas:xv}}}),Dv={document:[{value:tm,path:Av,teamBuff:!0,header:o(tn,t("conditional")),name:Bv("condName"),states:{on:{fields:[{node:h(am,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Tv=new s(tn,Dv,nm,Mv),qt="KatsuragikiriNagamasa",om=d.weapon.data[qt],Rv=[-1,.06,.075,.09,.105,.12],sm=a(e.weapon.refinement,Rv),Iv=r(qt,om,{premod:{skill_dmg_:sm}}),Cv={document:[{header:o(qt,t("base")),fields:[{node:sm}]}]},jv=new s(qt,Cv,om,Iv),zt="LithicBlade",cm=d.weapon.data[zt],Fv=[-1,.07,.08,.09,.1,.11],Nv=[-1,.03,.04,.05,.06,.07],dm=i(a(e.weapon.refinement,Fv,{unit:"%"}),x.liyue),rm=i(a(e.weapon.refinement,Nv,{unit:"%"}),x.liyue),Wv=r(zt,cm,{premod:{atk_:dm,critRate_:rm}}),Hv={document:[{header:o(zt,t("stacks")),fields:[{node:dm},{node:rm}]}]},Gv=new s(zt,Hv,cm,Wv),Ne="LuxuriousSeaLord",im=d.weapon.data[Ne],Kv=[-1,.12,.15,.18,.21,.24],Lv=[-1,1,1.25,1.5,1.75,2],mm=a(e.weapon.refinement,Kv),lm=c(e.weapon.key,Ne,y(i(a(e.weapon.refinement,Lv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),qv=r(Ne,im,{premod:{burst_dmg_:mm}},{dmg:lm}),zv={document:[{header:o(Ne,t("base")),fields:[{node:mm}]},{header:o(Ne,t("conditional")),fields:[{node:h(lm,{name:t("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Uv=new s(Ne,zv,im,qv),an="MailedFlower",$m=d.weapon.data[an],[,Vv]=g("weapon",an),Jv=[-1,.12,.15,.18,.21,.24],Qv=[-1,48,60,72,84,96],[Xv,lo]=m(an,"passive"),pm=c(lo,"on",a(e.weapon.refinement,Jv,{unit:"%"})),hm=c(lo,"on",a(e.weapon.refinement,Qv)),Yv=r(an,$m,{premod:{atk_:pm,eleMas:hm}}),Zv={document:[{value:lo,path:Xv,name:Vv("condName"),header:o(an,t("conditional")),states:{on:{fields:[{node:pm},{node:hm},{text:l("duration"),value:8,unit:"s"}]}}}]},ey=new s(an,Zv,$m,Yv),ke="MakhairaAquamarine",um=d.weapon.data[ke],ny=[-1,.24,.3,.36,.42,.48],Et=c(e.weapon.key,ke,i(a(e.weapon.refinement,ny,{unit:"%"}),e.premod.eleMas)),$o=c(e.weapon.key,ke,i(S(.3),Et)),ty=ae(e.activeCharKey,e.charKey,$o),ay=r(ke,um,{total:{atk:Et},teamBuff:{total:{atk:ty}}},{selfAtk:Et,teamAtkDisp:$o}),oy={document:[{header:o(ke,t("base")),fields:[{node:Et}]},{header:o(ke,t("teamBuff")),teamBuff:!0,fields:[{node:h($o,{...f.info("atk"),isTeamBuff:!0})}]}]},sy=new s(ke,oy,um,ay),po="OldMercsPal",_m=d.weapon.data[po],cy=r(po,_m),dy={document:[]},ry=new s(po,dy,_m,cy),on="PortablePowerSaw",fm=d.weapon.data[on],[,iy]=g("weapon",on),my=[-1,40,50,60,70,80],[ly,gm]=m(on,"symbolsConsumed"),wm=u(1,3),km=p(gm,$(wm,n=>i(n,a(e.weapon.refinement,my,{unit:"%"}))),_),$y=r(on,fm,{premod:{eleMas:km}}),py={document:[{value:gm,path:ly,teamBuff:!0,header:o(on,t("stacks")),name:iy("condName"),states:$(wm,n=>({name:`${n}`,fields:[{node:km},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},hy=new s(on,py,fm,$y),Jn="PrototypeArchaic",vm=d.weapon.data[Jn],uy=[-1,2.4,3,3.6,4.2,4.8],ym=c(e.weapon.key,Jn,y(i(a(e.weapon.refinement,uy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),_y=r(Jn,vm,void 0,{dmg:ym}),fy={document:[{header:o(Jn,t("base")),fields:[{node:h(ym,{name:t("dmg")})}]}]},gy=new s(Jn,fy,vm,_y),Qn="Rainslasher",Pm=d.weapon.data[Qn],wy=[-1,.2,.24,.28,.32,.36],[ky,Sm]=m(Qn,"BaneOfStormAndTide"),bm=c("on",Sm,a(e.weapon.refinement,wy)),vy=r(Qn,Pm,{premod:{all_dmg_:bm}}),yy={document:[{value:Sm,path:ky,name:t("enemyAffected.hydroOrElectro"),header:o(Qn,t("conditional")),states:{on:{fields:[{node:bm}]}}}]},Py=new s(Qn,yy,Pm,vy),sn="RedhornStonethresher",Om=d.weapon.data[sn],Sy=[-1,.28,.35,.42,.49,.56],by=[-1,.4,.5,.6,.7,.8],Oy=[-1,.4,.5,.6,.7,.8],Bm=a(e.weapon.refinement,Sy),wa=c(e.weapon.key,sn,i(a(e.weapon.refinement,by,{unit:"%"}),e.premod.def)),ka=c(e.weapon.key,sn,i(a(e.weapon.refinement,Oy,{unit:"%"}),e.premod.def)),By=r(sn,Om,{premod:{def_:Bm,normal_dmgInc:wa,charged_dmgInc:ka}},{normal_dmgInc:wa,charged_dmgInc:ka}),Ay={document:[{header:o(sn,t("base")),fields:[{node:Bm},{node:wa},{node:ka}]}]},Ey=new s(sn,Ay,Om,By),Xn="RoyalGreatsword",Am=d.weapon.data[Xn],[xy,Em]=m(Xn,"stack"),My=[-1,.08,.1,.12,.14,.16],xm=p(Em,$(u(1,5),n=>i(a(e.weapon.refinement,My,{unit:"%"}),n)),_),Dy=r(Xn,Am,{premod:{critRate_:xm}}),Ty={document:[{value:Em,path:xy,name:t("stacks"),header:o(Xn,t("stacks")),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xm}]}]))}]},Ry=new s(Xn,Ty,Am,Dy),Ut="SacrificialGreatsword",Mm=d.weapon.data[Ut],Iy=r(Ut,Mm),Cy={document:[{header:o(Ut),fields:[]}]},jy=new s(Ut,Cy,Mm,Iy),cn="SerpentSpine",Dm=d.weapon.data[cn],[,Fy]=g("weapon",cn),Ny=[-1,.06,.07,.08,.09,.1],Wy=[-1,3,2.7,2.4,2.2,2],[Hy,Tm]=m(cn,"Wavesplitter"),Gy=a(e.weapon.refinement,Ny,{unit:"%"}),Rm=p(Tm,{...$(u(1,5),n=>i(Gy,n))},_),Ky=r(cn,Dm,{premod:{all_dmg_:Rm}}),Ly={document:[{value:Tm,path:Hy,header:o(cn,t("stacks")),name:t("activeCharField"),states:{...$(u(1,5),n=>({name:t("seconds",{count:n*4}),fields:[{node:Rm},{text:Fy("takeMoreDmg"),value:k=>Wy[k.get(e.weapon.refinement).value]*n,unit:"%"}]}))}}]},qy=new s(cn,Ly,Dm,Ky),Yn="SkyriderGreatsword",Im=d.weapon.data[Yn],[zy,Cm]=m(Yn,"stack"),Uy=[-1,.06,.07,.08,.09,.1],jm=p(Cm,$(u(1,4),n=>i(a(e.weapon.refinement,Uy,{unit:"%"}),n)),_),Vy=r(Yn,Im,{premod:{atk_:jm}}),Jy={document:[{value:Cm,path:zy,name:t("hitOp.normalOrCharged"),header:o(Yn,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:jm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Qy=new s(Yn,Jy,Im,Vy),Zn="SkywardPride",Fm=d.weapon.data[Zn],Xy=[-1,.08,.1,.12,.14,.16],Yy=[-1,.8,1,1.2,1.4,1.6],Nm=a(e.weapon.refinement,Xy),Wm=c(e.weapon.key,Zn,y(i(a(e.weapon.refinement,Yy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Zy=r(Zn,Fm,{premod:{all_dmg_:Nm}},{dmg:Wm}),eP={document:[{header:o(Zn,t("base")),fields:[{node:Nm},{node:h(Wm,{name:t("dmg")})}]}]},nP=new s(Zn,eP,Fm,Zy),L="SnowTombedStarsilver",Hm=d.weapon.data[L],tP=[-1,.8,.95,1.1,1.25,1.4],aP=[-1,2,2.4,2.8,3.2,3.6],Gm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,tP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Km=c(e.weapon.key,L,y(i(a(e.weapon.refinement,aP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),oP=r(L,Hm,void 0,{dmgAoe:Gm,dmgOnCryoOp:Km}),sP={document:[{header:o(L,t("base")),fields:[{node:h(Gm,{name:s.trm(L)("aoeDmg")})},{node:h(Km,{name:s.trm(L)("cryoAffectedDmg")})}]}]},cP=new s(L,sP,Hm,oP),ve="SongOfBrokenPines",Lm=d.weapon.data[ve],[,dP]=g("weapon",ve),rP=[-1,.16,.2,.24,.28,.32],iP=[-1,.2,.25,.3,.35,.4],mP=[-1,.12,.15,.18,.21,.24],[lP,ho]=m(ve,"RebelsBannerHymn"),qm=a(e.weapon.refinement,rP,{unit:"%"}),zm=c("on",ho,a(e.weapon.refinement,iP,f.info("atk_"))),Um=c("on",ho,a(e.weapon.refinement,mP)),$P=r(ve,Lm,{premod:{atk_:qm},teamBuff:{premod:{atk_:zm,atkSPD_:Um}}}),pP={document:[{header:o(ve,t("base")),fields:[{node:qm}]},{value:ho,path:lP,teamBuff:!0,header:o(ve,t("conditional")),name:dP("name"),states:{on:{fields:[{node:zm},{node:Um},{text:l("duration"),value:12,unit:"s"}]}}}]},hP=new s(ve,pP,Lm,$P),J="TalkingStick",Vm=d.weapon.data[J],[,Qo]=g("weapon",J),uP=[-1,.16,.2,.24,.28,.32],_P=[-1,.12,.15,.18,.21,.24],[fP,Jm]=m(J,"affectedPyro"),Qm=c(Jm,"on",a(e.weapon.refinement,uP)),[gP,Xm]=m(J,"affectedOther"),wP=c(Xm,"on",a(e.weapon.refinement,_P)),Ym=$(v.map(n=>`${n}_dmg_`),()=>({...wP})),kP=r(J,Vm,{premod:{atk_:Qm,...Ym}}),vP={document:[{value:Jm,path:fP,header:o(J,t("conditional")),name:Qo("condName.atk_"),states:{on:{fields:[{node:Qm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Xm,path:gP,header:o(J,t("conditional")),name:Qo("condName.dmg_"),states:{on:{fields:[...Object.values(Ym).map(n=>({node:n})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},yP=new s(J,vP,Vm,kP),Q="TheBell",Zm=d.weapon.data[Q],PP=[-1,.2,.23,.26,.29,.32],SP=[-1,.12,.15,.18,.21,.24],[bP,el]=m(Q,"RebelliousGuardian"),nl=c(e.weapon.key,Q,c(el,"on",Kh(i(a(e.weapon.refinement,PP,{unit:"%"}),e.total.hp)))),[OP,tl]=m(Q,"WithShield"),al=c(tl,"protected",a(e.weapon.refinement,SP,{unit:"%"})),BP=r(Q,Zm,{premod:{all_dmg_:al}},{shield:nl}),AP={document:[{value:el,path:bP,header:o(Q,t("conditional")),name:t("takeDmg"),states:{on:{fields:[{node:h(nl,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:tl,path:OP,header:o(Q,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{node:al}]}}}]},EP=new s(Q,AP,Zm,BP),T="TheUnforged",ol=d.weapon.data[T],[,xP]=g("weapon",T),MP=[-1,.2,.25,.3,.35,.4],DP=[-1,.04,.05,.06,.07,.08],[TP,sl]=m(T,"GoldenMajesty"),cl=a(e.weapon.refinement,MP),[RP,dl]=m(T,"WithShield"),IP=a(e.weapon.refinement,DP),rl=i(P(1,c(dl,"protected",1)),p(sl,Object.fromEntries(b(1,5).map(n=>[n,i(IP,n)])),_)),CP=r(T,ol,{premod:{shield_:cl,atk_:rl}}),jP={document:[{header:o(T,t("base")),fields:[{node:cl}]},{value:sl,path:TP,header:o(T,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:rl},{text:l("duration"),value:8,unit:"s"}]}]))},{value:dl,path:RP,header:o(T,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:xP("atkEffInc"),value:100,unit:"%"}]}}}]},FP=new s(T,jP,ol,CP),et="TidalShadow",il=d.weapon.data[et],NP=[-1,.24,.3,.36,.42,.48],[WP,ml]=m(et,"afterHeal"),ll=c(ml,"on",a(e.weapon.refinement,NP)),HP=r(et,il,{premod:{atk_:ll}}),GP={document:[{header:o(et,t("conditional")),path:WP,value:ml,name:t("afterHeal"),states:{on:{fields:[{node:ll},{text:l("duration"),value:8,unit:"s"}]}}}]},KP=new s(et,GP,il,HP),j="UltimateOverlordsMegaMagicSword",uo=d.weapon.data[j],[,LP]=g("weapon",j),$l=uo.refinementBonus.atk_;if(!$l)throw new Error(`data_gen.refinementBonus.atk_ for ${j} was undefined`);const qP=[-1,.01,.0125,.015,.0175,.02],pl=c(e.weapon.key,j,a(e.weapon.refinement,$l),f.info("atk_")),[zP,hl]=m(j,"melusines"),ul=u(1,12),_l=p(hl,$(ul,n=>i(n,a(e.weapon.refinement,qP,{unit:"%"}))),_,f.info("atk_")),UP=r(j,uo,{premod:{atk_:P(pl,_l)}}),VP={document:[{header:o(j,t("base")),fields:[{node:pl}]},{value:hl,path:zP,header:o(j,t("stacks")),name:LP("condName"),states:$(ul,n=>({name:`${n}`,fields:[{node:_l}]}))}]},JP=new s(j,VP,uo,UP),F="Verdict",_o=d.weapon.data[F],[,QP]=g("weapon",F),fl=_o.refinementBonus.atk_;if(!fl)throw new Error(`data_gen.refinementBonus.atk_ for ${F} was undefined`);const XP=[-1,.18,.225,.27,.315,.36],gl=c(e.weapon.key,F,a(e.weapon.refinement,fl)),[YP,wl]=m(F,"seals"),kl=u(1,2),vl=p(wl,$(kl,n=>i(n,a(e.weapon.refinement,XP,{unit:"%"}))),_),ZP=r(F,_o,{premod:{atk_:gl,skill_dmg_:vl}}),eS={document:[{header:o(F,t("base")),fields:[{node:gl}]},{value:wl,path:YP,header:o(F,t("stacks")),name:QP("condName"),states:$(kl,n=>({name:`${n}`,fields:[{node:vl}]}))}]},nS=new s(F,eS,_o,ZP),fo="WasterGreatsword",go=d.weapon.data[fo],tS=r(fo,go),aS={...go,document:[]},oS=new s(fo,aS,go,tS),dn="WhiteIronGreatsword",yl=d.weapon.data[dn],sS=[-1,.08,.1,.12,.14,.16],[cS,Pl]=m(dn,"CullTheWeak"),Sl=c(e.weapon.key,dn,c(Pl,"on",Ke(i(a(e.weapon.refinement,sS,{unit:"%"}),e.total.hp)))),dS=r(dn,yl,void 0,{heal:Sl}),rS={document:[{value:Pl,path:cS,name:t("afterDefeatEnemy"),header:o(dn,t("conditional")),states:{on:{fields:[{node:h(Sl,{name:l("healing"),variant:"heal"})}]}}}]},iS=new s(dn,rS,yl,dS),nt="Whiteblind",bl=d.weapon.data[nt],[mS,wo]=m(nt,"stack"),Ol=[-1,.06,.075,.09,.105,.12],Bl=p(wo,$(u(1,4),n=>i(a(e.weapon.refinement,Ol,{unit:"%"}),n)),_),Al=p(wo,$(u(1,4),n=>i(a(e.weapon.refinement,Ol,{unit:"%"}),n)),_),lS=r(nt,bl,{premod:{atk_:Bl,def_:Al}}),$S={document:[{value:wo,path:mS,name:t("hitOp.normalOrCharged"),header:o(nt,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Bl},{node:Al},{text:l("duration"),value:6,unit:"s"}]}]))}]},pS=new s(nt,$S,bl,lS),We="WolfsGravestone",El=d.weapon.data[We],hS=[-1,.2,.25,.3,.35,.4],uS=[-1,.4,.5,.6,.7,.8],[_S,xl]=m(We,"WolfishTracker"),Ml=a(e.weapon.refinement,hS),Dl=c("on",xl,a(e.weapon.refinement,uS,f.info("atk_"))),fS=r(We,El,{premod:{atk_:Ml},teamBuff:{premod:{atk_:Dl}}}),gS={document:[{header:o(We,t("base")),fields:[{node:Ml}]},{value:xl,path:_S,teamBuff:!0,header:o(We,t("conditional")),name:t("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Dl},{text:l("duration"),value:12,unit:"s"}]}}}]},wS=new s(We,gS,El,fS),kS={Akuoumaru:V2,BeaconOfTheReedSea:av,BlackcliffSlasher:rv,BloodtaintedGreatsword:pv,DebateClub:gv,FavoniusGreatsword:vv,FerrousShadow:Ov,ForestRegalia:Tv,KatsuragikiriNagamasa:jv,LithicBlade:Gv,LuxuriousSeaLord:Uv,MailedFlower:ey,MakhairaAquamarine:sy,OldMercsPal:ry,PortablePowerSaw:hy,PrototypeArchaic:gy,Rainslasher:Py,RedhornStonethresher:Ey,RoyalGreatsword:Ry,SacrificialGreatsword:jy,SerpentSpine:qy,SkyriderGreatsword:Qy,SkywardPride:nP,SnowTombedStarsilver:cP,SongOfBrokenPines:hP,TalkingStick:yP,TheBell:EP,TheUnforged:FP,TidalShadow:KP,UltimateOverlordsMegaMagicSword:JP,Verdict:nS,WasterGreatsword:oS,Whiteblind:pS,WhiteIronGreatsword:iS,WolfsGravestone:wS},Vt="BalladOfTheFjords",Tl=d.weapon.data[Vt],vS=[-1,120,150,180,210,240],va=Zo(x.ele,3,a(e.weapon.refinement,vS)),yS=r(Vt,Tl,{premod:{eleMas:va}}),PS={document:[{header:o(Vt,t("talents.passive")),canShow:ae(va,0,1),fields:[{node:va}]}]},SS=new s(Vt,PS,Tl,yS),ko="BeginnersProtector",vo=d.weapon.data[ko],bS=r(ko,vo),OS={...vo,document:[]},BS=new s(ko,OS,vo,bS),rn="BlackTassel",Rl=d.weapon.data[rn],[,AS]=g("weapon",rn),ES=[-1,.4,.5,.6,.7,.8],[xS,Il]=m(rn,"PressTheAdvantage"),Cl=c("on",Il,a(e.weapon.refinement,ES)),MS=r(rn,Rl,{premod:{all_dmg_:Cl}}),DS={document:[{value:Il,path:xS,header:o(rn,t("conditional")),name:AS("condName"),states:{on:{fields:[{node:Cl}]}}}]},TS=new s(rn,DS,Rl,MS),tt="BlackcliffPole",jl=d.weapon.data[tt],[RS,Fl]=m(tt,"PressTheAdvantage"),Nl=u(1,3),IS=[-1,.12,.15,.18,.21,.24],Wl=i(p(Fl,$(Nl,n=>w(n)),0),a(e.weapon.refinement,IS)),CS=r(tt,jl,{premod:{atk_:Wl}}),jS={document:[{value:Fl,path:RS,teamBuff:!0,header:o(tt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Nl.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Wl},{text:l("duration"),value:30,unit:"s"}]}]))}]},FS=new s(tt,jS,jl,CS),ye="CalamityQueller",Hl=d.weapon.data[ye],[,ya]=g("weapon",ye),[NS,Gl]=m(ye,"stack"),WS=[-1,.12,.15,.18,.21,.24],HS=[-1,.032,.04,.048,.056,.064],Kl=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,WS)])),Ll=i(Ta(e.charKey,e.activeCharKey,w(1,{name:ya("active")}),w(2,{name:ya("inactive")})),p(Gl,$(u(1,6),n=>w(n,{name:t("stacks")})),0),a(e.weapon.refinement,HS)),GS=r(ye,Hl,{premod:{...Kl,atk_:Ll}}),KS={document:[{header:o(ye,t("base")),fields:Object.values(Kl).map(n=>({node:n}))},{value:Gl,path:NS,teamBuff:!0,header:o(ye,t("stacks")),name:ya("effectName"),states:Object.fromEntries(u(1,6).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ll}]}]))}]},LS=new s(ye,KS,Hl,GS),at="CrescentPike",ql=d.weapon.data[at],qS=[-1,.2,.25,.3,.35,.4],zl=c(e.weapon.key,at,y(i(e.total.atk,a(e.weapon.refinement,qS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),zS=r(at,ql,void 0,{hit:zl}),US={document:[{header:o(at,t("talents.passive")),fields:[{node:h(zl,{name:t("dmg")})}]}]},VS=new s(at,US,ql,zS),mn="Deathmatch",Ul=d.weapon.data[mn],[,JS]=g("weapon",mn),[QS,yo]=m(mn,"stack"),Vl=[-1,.16,.2,.24,.28,.32],XS=[-1,.24,.3,.36,.42,.48],Pa=p(yo,{oneOrNone:a(e.weapon.refinement,XS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Vl,{unit:"%"})},_),Sa=c(yo,"moreThanOne",a(e.weapon.refinement,Vl,{unit:"%"})),YS=r(mn,Ul,{premod:{atk_:Pa,def_:Sa}}),ZS={document:[{value:yo,path:QS,teamBuff:!0,header:o(mn,t("conditional")),name:JS("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:Pa},{node:Sa}]},moreThanOne:{name:"≥2",fields:[{node:Pa},{node:Sa}]}}}]},e4=new s(mn,ZS,Ul,YS),Jt="DialoguesOfTheDesertSages",Jl=d.weapon.data[Jt],n4=r(Jt,Jl),t4={document:[{header:o(Jt),fields:[]}]},a4=new s(Jt,t4,Jl,n4),ot="DragonsBane",Ql=d.weapon.data[ot],o4=[-1,.2,.24,.28,.32,.36],[s4,Xl]=m(ot,"BaneOfFlameAndWater"),Yl=c("on",Xl,a(e.weapon.refinement,o4)),c4=r(ot,Ql,{premod:{all_dmg_:Yl}}),d4={document:[{value:Xl,path:s4,header:o(ot,t("conditional")),name:t("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Yl}]}}}]},r4=new s(ot,d4,Ql,c4),q="DragonspineSpear",Zl=d.weapon.data[q],i4=[-1,.8,.95,1.1,1.25,1.4],m4=[-1,2,2.4,2.8,3.2,3.6],e0=c(e.weapon.key,q,y(i(a(e.weapon.refinement,i4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),n0=c(e.weapon.key,q,y(i(a(e.weapon.refinement,m4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),l4=r(q,Zl,void 0,{dmgAoe:e0,dmgOnCryoOp:n0}),$4={document:[{header:o(q,t("base")),fields:[{node:h(e0,{name:s.trm(q)("aoeDmg")})},{node:h(n0,{name:s.trm(q)("cryoAffectedDmg")})}]}]},p4=new s(q,$4,Zl,l4),Pe="EngulfingLightning",t0=d.weapon.data[Pe],h4=[-1,.28,.35,.42,.49,.56],u4=[-1,.8,.9,1,1.1,1.2],ba=c(e.weapon.key,Pe,te(i(a(e.weapon.refinement,h4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,u4))),_4=[-1,.3,.35,.4,.45,.5,.55],[f4,a0]=m(Pe,"TimelessDream"),o0=c("on",a0,a(e.weapon.refinement,_4)),g4=r(Pe,t0,{premod:{atk_:ba,enerRech_:o0}},{atk_:ba}),w4={document:[{header:o(Pe,t("base")),fields:[{node:ba}]},{teamBuff:!0,value:a0,path:f4,header:o(Pe,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:o0},{text:l("duration"),value:12,unit:"s"}]}}}]},k4=new s(Pe,w4,t0,g4),Qt="FavoniusLance",s0=d.weapon.data[Qt],v4=r(Qt,s0),y4={document:[{header:o(Qt),fields:[]}]},P4=new s(Qt,y4,s0,v4),st="Halberd",c0=d.weapon.data[st],S4=[-1,1.6,2,2.4,2.8,3.2],d0=c(e.weapon.key,st,y(i(a(e.weapon.refinement,S4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),b4=r(st,c0,void 0,{dmg:d0}),O4={document:[{header:o(st,t("base")),fields:[{node:h(d0,{name:t("dmg")})}]}]},B4=new s(st,O4,c0,b4),Po="IronPoint",So=d.weapon.data[Po],A4=r(Po,So),E4={...So,document:[]},x4=new s(Po,E4,So,A4),Xt="KitainCrossSpear",r0=d.weapon.data[Xt],M4=[-1,.06,.075,.09,.105,.12],i0=a(e.weapon.refinement,M4),D4=r(Xt,r0,{premod:{skill_dmg_:i0}}),T4={document:[{header:o(Xt,t("base")),fields:[{node:i0}]}]},R4=new s(Xt,T4,r0,D4),Yt="LithicSpear",m0=d.weapon.data[Yt],I4=[-1,.07,.08,.09,.1,.11],C4=[-1,.03,.04,.05,.06,.07],l0=i(a(e.weapon.refinement,I4,{unit:"%"}),x.liyue),$0=i(a(e.weapon.refinement,C4,{unit:"%"}),x.liyue),j4=r(Yt,m0,{premod:{atk_:l0,critRate_:$0}}),F4={document:[{header:o(Yt,t("stacks")),fields:[{node:l0},{node:$0}]}]},N4=new s(Yt,F4,m0,j4),ct="MissiveWindspear",p0=d.weapon.data[ct],[W4,bo]=m(ct,"passive"),H4=[-1,.12,.15,.18,.21,.24],G4=[-1,48,60,72,84,96],h0=c(bo,"on",a(e.weapon.refinement,H4,{unit:"%"})),u0=c(bo,"on",a(e.weapon.refinement,G4)),K4=r(ct,p0,{premod:{atk_:h0,eleMas:u0}}),L4={document:[{value:bo,path:W4,teamBuff:!0,header:o(ct,t("conditional")),name:t("afterReaction"),states:{on:{fields:[{node:h0},{node:u0},{text:l("duration"),value:10,unit:"s"}]}}}]},q4=new s(ct,L4,p0,K4),ln="Moonpiercer",_0=d.weapon.data[ln],[,z4]=g("weapon",ln),[U4,f0]=m(ln,"passive"),V4=[-1,.16,.2,.24,.28,.32],g0=c(f0,"on",a(e.weapon.refinement,V4,{unit:"%"})),J4=c(e.activeCharKey,O.charKey,g0),Q4=r(ln,_0,{teamBuff:{premod:{atk_:J4}}}),X4={document:[{value:f0,path:U4,teamBuff:!0,header:o(ln,t("conditional")),name:z4("condName"),states:{on:{fields:[{node:h(g0,f.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Y4=new s(ln,X4,_0,Q4),dt="PrimordialJadeWingedSpear",w0=d.weapon.data[dt],[Z4,Oo]=m(dt,"stack"),e5=[-1,.032,.039,.046,.053,.06],n5=[-1,.12,.15,.18,.21,.24],k0=p(Oo,$(u(1,7),n=>i(a(e.weapon.refinement,e5,{unit:"%"}),n)),_),v0=c(Oo,"7",a(e.weapon.refinement,n5,{unit:"%"})),t5=r(dt,w0,{premod:{atk_:k0,all_dmg_:v0}}),a5={document:[{value:Oo,path:Z4,teamBuff:!0,header:o(dt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,7).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:k0},{node:v0}]}]))}]},o5=new s(dt,a5,w0,t5),$n="ProspectorsDrill",y0=d.weapon.data[$n],[,s5]=g("weapon",$n),c5=[-1,.03,.04,.05,.06,.07],d5=[-1,.07,.085,.1,.115,.13],[r5,Bo]=m($n,"marksConsumed"),Ao=u(1,3),P0=p(Bo,$(Ao,n=>i(n,a(e.weapon.refinement,c5,{unit:"%"}))),_),i5=p(Bo,$(Ao,n=>i(n,a(e.weapon.refinement,d5,{unit:"%"}))),_),S0=$(v.map(n=>`${n}_dmg_`),()=>({...i5})),m5=r($n,y0,{premod:{atk_:P0,...S0}}),l5={document:[{value:Bo,path:r5,teamBuff:!0,header:o($n,t("stacks")),name:s5("condName"),states:$(Ao,n=>({name:`${n}`,fields:[{node:P0},...Object.values(S0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},$5=new s($n,l5,y0,m5),rt="PrototypeStarglitter",b0=d.weapon.data[rt],[p5,Eo]=m(rt,"stack"),O0=[-1,.08,.1,.12,.14,.16],B0=p(Eo,$(u(1,2),n=>i(a(e.weapon.refinement,O0,{unit:"%"}),n)),_),A0=p(Eo,$(u(1,2),n=>i(a(e.weapon.refinement,O0,{unit:"%"}),n)),_),h5=r(rt,b0,{premod:{normal_dmg_:B0,charged_dmg_:A0}}),u5={document:[{value:Eo,path:p5,header:o(rt,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:B0},{node:A0}]}]))}]},_5=new s(rt,u5,b0,h5),Zt="RightfulReward",E0=d.weapon.data[Zt],f5=r(Zt,E0),g5={document:[{header:o(Zt),fields:[]}]},w5=new s(Zt,g5,E0,f5),it="RoyalSpear",x0=d.weapon.data[it],[k5,M0]=m(it,"stack"),v5=[-1,.08,.1,.12,.14,.16],D0=p(M0,$(u(1,5),n=>i(a(e.weapon.refinement,v5,{unit:"%"}),n)),_),y5=r(it,x0,{premod:{critRate_:D0}}),P5={document:[{value:M0,path:k5,teamBuff:!0,header:o(it,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:D0}]}]))}]},S5=new s(it,P5,x0,y5),mt="SkywardSpine",T0=d.weapon.data[mt],b5=[-1,.08,.1,.12,.14,.16],O5=[-1,.4,.55,.7,.85,1],R0=S(.12),I0=a(e.weapon.refinement,b5),C0=c(e.weapon.key,mt,y(i(a(e.weapon.refinement,O5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),B5=r(mt,T0,{premod:{critRate_:I0,atkSPD_:R0}},{dmg:C0}),A5={document:[{header:o(mt,t("base")),fields:[{node:I0},{node:R0},{node:h(C0,{name:t("dmg")})}]}]},E5=new s(mt,A5,T0,B5),Se="StaffOfHoma",j0=d.weapon.data[Se],x5=[-1,.2,.25,.3,.35,.4],M5=[-1,.008,.01,.012,.014,.016],D5=[-1,.01,.012,.014,.016,.018],F0=a(e.weapon.refinement,x5,{unit:"%"}),[T5,N0]=m(Se,"RecklessCinnabar"),W0=i(a(e.weapon.refinement,M5,{unit:"%"}),e.premod.hp),Oa=c(e.weapon.key,Se,c("on",N0,i(a(e.weapon.refinement,D5,{unit:"%"}),e.premod.hp),f.info("atk"))),R5=r(Se,j0,{premod:{hp_:F0},total:{atk:P(W0,Oa)}},{atk2_:Oa}),I5={document:[{header:o(Se,t("base")),fields:[{node:F0},{node:h(W0,f.info("atk"))}]},{value:N0,path:T5,teamBuff:!0,header:o(Se),name:t("lessPercentHP",{percent:50}),states:{on:{fields:[{node:h(Oa,f.info("atk"))}]}}}]},C5=new s(Se,I5,j0,R5),X="StaffOfTheScarletSands",H0=d.weapon.data[X],[j5,G0]=m(X,"stacks"),F5=[-1,.52,.65,.78,.91,1.04],N5=[-1,.28,.35,.42,.49,.56],K0=b(1,3),L0=c(e.weapon.key,X,i(a(e.weapon.refinement,F5,{unit:"%"}),e.premod.eleMas),f.info("atk")),q0=p(G0,Object.fromEntries(K0.map(n=>[n,i(n,a(e.weapon.refinement,N5,{unit:"%"}),e.premod.eleMas)])),_,f.info("atk")),Xo=c(e.weapon.key,X,P(L0,q0)),W5=r(X,H0,{total:{atk:Xo}},{atk:Xo}),H5={document:[{header:o(X,t("base")),fields:[{node:L0}]},{value:G0,path:j5,header:o(X,t("stacks")),name:t("hitOp.skill"),states:Object.fromEntries(K0.map(n=>[n,{name:t("hits",{count:n}),fields:[{node:q0},{text:l("duration"),value:10,unit:"s"}]}]))}]},G5=new s(X,H5,H0,W5),ea="TheCatch",z0=d.weapon.data[ea],K5=[-1,.16,.2,.24,.28,.32],L5=[-1,.06,.075,.09,.105,.12],U0=a(e.weapon.refinement,K5),V0=a(e.weapon.refinement,L5),q5=r(ea,z0,{premod:{burst_dmg_:U0,burst_critRate_:V0}}),z5={document:[{header:o(ea,t("base")),fields:[{node:U0},{node:V0}]}]},U5=new s(ea,z5,z0,q5),R="VortexVanquisher",J0=d.weapon.data[R],[,V5]=g("weapon",R),J5=[-1,.2,.25,.3,.35,.4],Q5=[-1,.04,.05,.06,.07,.08],[X5,Q0]=m(R,"GoldenMajesty"),X0=a(e.weapon.refinement,J5),[Y5,Y0]=m(R,"WithShield"),Z5=a(e.weapon.refinement,Q5),Z0=i(P(1,c(Y0,"protected",1)),p(Q0,Object.fromEntries(b(1,5).map(n=>[n,i(Z5,n)])),_)),eb=r(R,J0,{premod:{shield_:X0,atk_:Z0}}),nb={document:[{header:o(R,t("base")),fields:[{node:X0}]},{value:Q0,path:X5,teamBuff:!0,header:o(R,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Z0},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Y0,path:Y5,header:o(R,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:V5("atkEffInc"),value:100,unit:"%"}]}}}]},tb=new s(R,nb,J0,eb),pn="WavebreakersFin",e$=d.weapon.data[pn],[,ab]=g("weapon",pn),[ob,n$]=m(pn,"WatatsumiWavewalker"),t$=b(4,36).map(n=>n*10),sb=[-1,.0012,.0015,.0018,.0021,.0024],cb=[-1,.4,.5,.6,.7,.8],a$=p(n$,Object.fromEntries(t$.map(n=>[n,te(i(a(e.weapon.refinement,sb,{unit:"%"}),n),a(e.weapon.refinement,cb,{unit:"%"}))])),_),db=r(pn,e$,{premod:{burst_dmg_:a$}}),rb={document:[{value:n$,path:ob,header:o(pn),name:ab("party"),states:Object.fromEntries(t$.map(n=>[n,{name:n.toString(),fields:[{node:a$}]}]))}]},ib=new s(pn,rb,e$,db),na="WhiteTassel",o$=d.weapon.data[na],mb=[-1,.24,.3,.36,.42,.48],s$=a(e.weapon.refinement,mb),lb=r(na,o$,{premod:{normal_dmg_:s$}}),$b={document:[{header:o(na,t("base")),fields:[{node:s$}]}]},pb=new s(na,$b,o$,lb),hb={BalladOfTheFjords:SS,BeginnersProtector:BS,BlackcliffPole:FS,BlackTassel:TS,CalamityQueller:LS,CrescentPike:VS,Deathmatch:e4,DialoguesOfTheDesertSages:a4,DragonsBane:r4,DragonspineSpear:p4,EngulfingLightning:k4,FavoniusLance:P4,Halberd:B4,IronPoint:x4,KitainCrossSpear:R4,LithicSpear:N4,MissiveWindspear:q4,Moonpiercer:Y4,PrimordialJadeWingedSpear:o5,ProspectorsDrill:$5,PrototypeStarglitter:_5,RightfulReward:w5,RoyalSpear:S5,SkywardSpine:E5,StaffOfHoma:C5,StaffOfTheScarletSands:G5,TheCatch:U5,VortexVanquisher:tb,WavebreakersFin:ib,WhiteTassel:pb},ta="AmenomaKageuchi",c$=d.weapon.data[ta],ub=r(ta,c$),_b={document:[{header:o(ta),fields:[]}]},fb=new s(ta,_b,c$,ub),Y="AquilaFavonia",xo=d.weapon.data[Y],gb=[-1,2,2.3,2.6,2.9,3.2],wb=[-1,1,1.15,1.3,1.45,1.6],d$=xo.refinementBonus.atk_;if(!d$)throw new Error(`data_gen.refinementBonus.atk_ for ${Y} was undefined`);const r$=a(e.weapon.refinement,d$),i$=c(e.weapon.key,Y,i(a(e.weapon.refinement,wb,{unit:"%"}),e.premod.atk)),m$=c(e.weapon.key,Y,y(i(a(e.weapon.refinement,gb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),kb=r(Y,xo,{premod:{atk_:r$}},{heal:i$,dmg:m$}),vb={document:[{header:o(Y,t("base")),fields:[{node:r$}]},{header:o(Y,t("base")),fields:[{node:h(i$,{name:l("healing"),variant:"heal"})},{node:h(m$,{name:t("dmg")})}]}]},yb=new s(Y,vb,xo,kb),lt="BlackcliffLongsword",l$=d.weapon.data[lt],[Pb,$$]=m(lt,"PressTheAdvantage"),p$=u(1,3),Sb=[-1,.12,.15,.18,.21,.24],h$=i(p($$,$(p$,n=>w(n)),0),a(e.weapon.refinement,Sb)),bb=r(lt,l$,{premod:{atk_:h$}}),Ob={document:[{value:$$,path:Pb,header:o(lt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(p$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:h$},{text:l("duration"),value:30,unit:"s"}]}]))}]},Bb=new s(lt,Ob,l$,bb),Te="CinnabarSpindle",u$=d.weapon.data[Te],[,Ab]=g("weapon",Te),Eb=[-1,.4,.5,.6,.7,.8],[xb,_$]=m(Te,"SpotlessHeart"),Ba=c(e.weapon.key,Te,c("on",_$,i(a(e.weapon.refinement,Eb,{unit:"%"}),e.premod.def))),Mb=r(Te,u$,{premod:{skill_dmgInc:Ba}},{skill_dmgInc:Ba}),Db={document:[{value:_$,path:xb,header:o(Te,t("conditional")),name:Ab("name"),states:{on:{fields:[{node:Ba}]}}}]},Tb=new s(Te,Db,u$,Mb),$t="CoolSteel",f$=d.weapon.data[$t],Rb=[-1,.12,.15,.18,.21,.24],[Ib,g$]=m($t,"BaneOfWaterAndIce"),w$=c("on",g$,a(e.weapon.refinement,Rb)),Cb=r($t,f$,{premod:{all_dmg_:w$}}),jb={document:[{value:g$,path:Ib,name:t("enemyAffected.hydroOrCryo"),header:o($t,t("conditional")),states:{on:{fields:[{node:w$}]}}}]},Fb=new s($t,jb,f$,Cb),pt="DarkIronSword",k$=d.weapon.data[pt],Nb=[-1,.2,.25,.3,.35,.5],[Wb,v$]=m(pt,"Overloaded"),y$=c("on",v$,a(e.weapon.refinement,Nb,{unit:"%"})),Hb=r(pt,k$,{premod:{atk_:y$}}),Gb={document:[{value:v$,path:Wb,name:t("elementalReaction.electro"),header:o(pt,t("conditional")),states:{on:{fields:[{node:y$},{text:l("duration"),value:12,unit:"s"}]}}}]},Kb=new s(pt,Gb,k$,Hb),Mo="DullBlade",Do=d.weapon.data[Mo],Lb=r(Mo,Do),qb={...Do,document:[]},zb=new s(Mo,qb,Do,Lb),aa="FavoniusSword",P$=d.weapon.data[aa],Ub=r(aa,P$),Vb={document:[{header:o(aa),fields:[]}]},Jb=new s(aa,Vb,P$,Ub),oa="FesteringDesire",S$=d.weapon.data[oa],Qb=[-1,.16,.2,.24,.28,.32],Xb=[-1,.06,.075,.09,.105,.12],b$=a(e.weapon.refinement,Qb,{unit:"%"}),O$=a(e.weapon.refinement,Xb,{unit:"%"}),Yb=r(oa,S$,{premod:{skill_dmg_:b$,skill_critRate_:O$}}),Zb={document:[{header:o(oa,t("base")),fields:[{node:b$},{node:O$}]}]},e3=new s(oa,Zb,S$,Yb),ht="FilletBlade",B$=d.weapon.data[ht],n3=[-1,2.4,2.8,3.2,3.6,4],t3=[-1,15,14,13,12,11],A$=c(e.weapon.key,ht,y(i(a(e.weapon.refinement,n3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),a3=r(ht,B$,void 0,{dmg_:A$}),o3={document:[{header:o(ht,t("base")),fields:[{node:h(A$,{name:t("dmg")})},{text:l("cd"),value:n=>t3[n.get(e.weapon.refinement).value],unit:"s"}]}]},s3=new s(ht,o3,B$,a3),N="FinaleOfTheDeep",E$=d.weapon.data[N],[,c3]=g("weapon",N),d3=[-1,.12,.15,.18,.21,.24],r3=[-1,.024,.03,.036,.042,.048],i3=[-1,150,187.5,225,262.5,300],[m3,x$]=m(N,"afterSkill"),M$=c(x$,"on",a(e.weapon.refinement,d3)),l3=i(S(.25),e.total.hp),[$3,D$]=m(N,"bond"),Aa=c(e.weapon.key,N,c(D$,"on",te(i(l3,a(e.weapon.refinement,r3,{unit:"%"})),a(e.weapon.refinement,i3,{unit:"%"})))),p3=r(N,E$,{premod:{atk_:M$,atk:Aa}},{bond_atk:Aa}),h3={document:[{header:o(N,t("conditional")),path:m3,value:x$,name:t("hitOp.skill"),states:{on:{fields:[{node:M$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(N,t("conditional")),path:$3,value:D$,name:c3("bondCondName"),states:{on:{fields:[{node:Aa},{text:l("duration"),value:15,unit:"s"}]}}}]},u3=new s(N,h3,E$,p3),He="FleuveCendreFerryman",T$=d.weapon.data[He],_3=[-1,.08,.1,.12,.14,.16],f3=[-1,.16,.2,.24,.28,.32],R$=a(e.weapon.refinement,_3),[g3,I$]=m(He,"afterSkill"),C$=c(I$,"on",a(e.weapon.refinement,f3)),w3=r(He,T$,{premod:{skill_critRate_:R$,enerRech_:C$}}),k3={document:[{header:o(He,t("base")),fields:[{node:R$}]},{header:o(He,t("conditional")),value:I$,path:g3,name:t("afterUse.skill"),states:{on:{fields:[{node:C$},{text:l("duration"),value:5,unit:"s"}]}}}]},v3=new s(He,k3,T$,w3),Z="FreedomSworn",To=d.weapon.data[Z],[,y3]=g("weapon",Z),[P3,Ro]=m(Z,"MillennialMovement"),S3=[-1,.16,.2,.24,.28,.32],b3=[-1,.2,.25,.3,.35,.4],j$=To.refinementBonus.dmg_;if(!j$)throw new Error(`data_gen.refinementBonus.dmg_ for ${Z} was undefined`);const F$=a(e.weapon.refinement,j$),N$=c("on",Ro,a(e.weapon.refinement,b3)),sa=c("on",Ro,a(e.weapon.refinement,S3)),W$={...sa},H$={...sa},O3=r(Z,To,{premod:{all_dmg_:F$},teamBuff:{premod:{atk_:N$,normal_dmg_:sa,charged_dmg_:W$,plunging_dmg_:H$}}}),B3={document:[{header:o(Z,t("base")),fields:[{node:F$}]},{value:Ro,path:P3,teamBuff:!0,header:o(Z,t("conditional")),name:y3("sigilsConsumed"),states:{on:{fields:[{node:N$},{node:sa},{node:W$},{node:H$},{text:l("duration"),value:12,unit:"s"}]}}}]},A3=new s(Z,B3,To,O3),be="HaranGeppakuFutsu",G$=d.weapon.data[be],[,E3]=g("weapon",be),x3=[-1,.12,.15,.18,.21,.24],M3=[-1,.2,.25,.3,.35,.4],[D3,K$]=m(be,"HonedFlow"),L$=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,x3,f.info(`${n}_dmg_`))])),q$=p(K$,$(u(1,2),n=>i(n,a(e.weapon.refinement,M3))),_),T3=r(be,G$,{premod:{...L$,normal_dmg_:q$}}),R3={document:[{header:o(be,t("base")),fields:[...v.map(n=>({node:L$[`${n}_dmg_`]}))]},{value:K$,path:D3,name:E3("consumed"),header:o(be,t("conditional")),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[{node:q$}]}))}]},I3=new s(be,R3,G$,T3),ut="HarbingerOfDawn",z$=d.weapon.data[ut],[C3,U$]=m(ut,"SkyPiercingMight"),j3=[-1,.14,.175,.21,.245,.28],V$=c("on",U$,a(e.weapon.refinement,j3)),F3=r(ut,z$,{premod:{critRate_:V$}}),N3={document:[{value:U$,path:C3,header:o(ut,t("conditional")),name:t("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:V$}]}}}]},W3=new s(ut,N3,z$,F3),_t="IronSting",J$=d.weapon.data[_t],[H3,Q$]=m(_t,"InfusionStinger"),X$=u(1,2),G3=[-1,.06,.075,.09,.105,.12],Y$=i(p(Q$,$(X$,n=>w(n)),_),a(e.weapon.refinement,G3)),K3=r(_t,J$,{premod:{all_dmg_:Y$}}),L3={document:[{value:Q$,path:H3,header:o(_t,t("stacks")),name:t("hitOp.ele"),states:Object.fromEntries(X$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Y$},{text:l("duration"),value:6,unit:"s"}]}]))}]},q3=new s(_t,L3,J$,K3),Oe="KagotsurubeIsshin",Z$=d.weapon.data[Oe],[z3,ep]=m(Oe,"passive"),np=c(ep,"on",S(.15)),tp=c(e.weapon.key,Oe,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),U3=r(Oe,Z$,{premod:{atk_:np}},{dmg:tp}),V3={document:[{header:o(Oe,t("base")),fields:[{node:h(tp,{name:t("dmg")})}]},{header:o(Oe,t("conditional")),value:ep,path:z3,name:t("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:np},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},J3=new s(Oe,V3,Z$,U3),E="KeyOfKhajNisut",ap=d.weapon.data[E],Q3=[-1,.0012,.0015,.0018,.0021,.0024],X3=[-1,.002,.0025,.003,.0035,.004],op=b(1,3),Y3=[-1,.2,.25,.3,.35,.4],sp=c(e.weapon.key,E,a(e.weapon.refinement,Y3,{unit:"%"})),[Z3,xt]=m(E,"afterSkill"),Ea=c(e.weapon.key,E,p(xt,Object.fromEntries(op.map(n=>[n,i(n,a(e.weapon.refinement,Q3,{unit:"%",fixed:2}),e.total.hp)])),_)),xa=c(e.weapon.key,E,c(xt,"3",i(a(e.weapon.refinement,X3,{unit:"%",fixed:2}),e.total.hp))),eO=r(E,ap,{premod:{hp_:sp},total:{eleMas:Ea},teamBuff:{total:{eleMas:xa}}},{selfEleMas:Ea,teamEleMas:xa}),nO={document:[{header:o(E,t("base")),fields:[{node:sp}]},{header:o(E,t("stacks")),teamBuff:!0,path:Z3,value:xt,name:t("hitOp.skill"),states:Object.fromEntries(op.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,t("teamBuff")),canShow:c(xt,"3",1),teamBuff:!0,fields:[{node:xa},{text:l("duration"),value:20,unit:"s"}]}]},tO=new s(E,nO,ap,eO),ee="LightOfFoliarIncision",cp=d.weapon.data[ee],aO=[-1,.04,.05,.06,.07,.08],dp=c(e.weapon.key,ee,a(e.weapon.refinement,aO)),[oO,rp]=m(ee,"afterNormalEle"),sO=[-1,1.2,1.5,1.8,2.1,2.4],Mt=c(e.weapon.key,ee,c(rp,"on",i(a(e.weapon.refinement,sO,{unit:"%"}),e.total.eleMas))),Ma={...Mt},cO=r(ee,cp,{premod:{normal_dmgInc:Mt,skill_dmgInc:Ma,critRate_:dp}},{normal_dmgInc:Mt,skill_dmgInc:Ma}),dO={document:[{header:o(ee,t("base")),fields:[{node:dp}]},{header:o(ee,t("conditional")),path:oO,value:rp,name:t("hitOp.normalEle"),states:{on:{fields:[{node:Mt},{node:Ma},{text:t("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},rO=new s(ee,dO,cp,cO),ft="LionsRoar",ip=d.weapon.data[ft],[iO,mp]=m(ft,"BaneOfFireAndThunder"),mO=[-1,.2,.24,.28,.32,.36],lp=c("on",mp,a(e.weapon.refinement,mO)),lO=r(ft,ip,{premod:{all_dmg_:lp}}),$O={document:[{value:mp,path:iO,header:o(ft,t("conditional")),name:t("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:lp}]}}}]},pO=new s(ft,$O,ip,lO),Be="MistsplitterReforged",$p=d.weapon.data[Be],[,hO]=g("weapon",Be),pp=["1","2","3"],uO=[-1,.12,.15,.18,.21,.24],_O={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[fO,hp]=m(Be,"MistsplittersEmblem"),up=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,uO,f.info(`${n}_dmg_`))])),_p=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,p(hp,$(pp,k=>a(e.weapon.refinement,_O[k])),_,f.info(`${n}_dmg_`)))])),gO=Object.fromEntries(v.map(n=>[`${n}_dmg_`,P(up[`${n}_dmg_`],_p[`${n}_dmg_`])])),wO=r(Be,$p,{premod:{...gO}}),kO={document:[{header:o(Be,t("base")),fields:v.map(n=>({node:up[`${n}_dmg_`]}))},{value:hp,path:fO,name:hO("emblem"),teamBuff:!0,header:o(Be,t("stacks")),states:Object.fromEntries(pp.map(n=>[n,{name:t("stack",{count:parseInt(n)}),fields:v.map(k=>({node:_p[`${k}_dmg_`]}))}]))}]},vO=new s(Be,kO,$p,wO),gt="PrimordialJadeCutter",fp=d.weapon.data[gt],yO=[-1,.2,.25,.3,.35,.4],PO=[-1,.012,.015,.018,.021,.024],gp=a(e.weapon.refinement,yO),Da=c(e.weapon.key,gt,i(a(e.weapon.refinement,PO,{unit:"%"}),e.premod.hp)),SO=r(gt,fp,{premod:{hp_:gp},total:{atk:Da}},{atk:Da}),bO={document:[{header:o(gt,t("base")),fields:[{node:gp},{node:Da}]}]},OO=new s(gt,bO,fp,SO),wt="PrototypeRancour",wp=d.weapon.data[wt],[BO,Io]=m(wt,"stack"),kp=[-1,.04,.05,.06,.07,.08],vp=p(Io,$(u(1,4),n=>i(a(e.weapon.refinement,kp,{unit:"%"}),n)),_),yp=p(Io,$(u(1,4),n=>i(a(e.weapon.refinement,kp,{unit:"%"}),n)),_),AO=r(wt,wp,{premod:{atk_:vp,def_:yp}}),EO={document:[{value:Io,path:BO,header:o(wt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:vp},{node:yp},{text:l("duration"),value:6,unit:"s"}]}]))}]},xO=new s(wt,EO,wp,AO),kt="RoyalLongsword",Pp=d.weapon.data[kt],[MO,Sp]=m(kt,"stack"),DO=[-1,.08,.1,.12,.14,.16],bp=p(Sp,$(u(1,5),n=>i(a(e.weapon.refinement,DO,{unit:"%"}),n)),_),TO=r(kt,Pp,{premod:{critRate_:bp}}),RO={document:[{value:Sp,path:MO,header:o(kt,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:bp}]}]))}]},IO=new s(kt,RO,Pp,TO),ca="SacrificialSword",Op=d.weapon.data[ca],CO=r(ca,Op),jO={document:[{header:o(ca),fields:[]}]},FO=new s(ca,jO,Op,CO),hn="SapwoodBlade",Bp=d.weapon.data[hn],[,NO]=g("weapon",hn),[WO,Ap]=m(hn,"passive"),HO=[-1,60,75,90,105,120],Ep=c(Ap,"on",a(e.weapon.refinement,HO)),GO=c(e.activeCharKey,O.charKey,Ep),KO=r(hn,Bp,{teamBuff:{premod:{eleMas:GO}}}),LO={document:[{value:Ap,path:WO,teamBuff:!0,header:o(hn,t("conditional")),name:NO("condName"),states:{on:{fields:[{node:h(Ep,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},qO=new s(hn,LO,Bp,KO),Co="SilverSword",jo=d.weapon.data[Co],zO=r(Co,jo),UO={...jo,document:[]},VO=new s(Co,UO,jo,zO),vt="SkyriderSword",xp=d.weapon.data[vt],[JO,Fo]=m(vt,"Determination"),Mp=[-1,.12,.15,.18,.21,.24],Dp=c(Fo,"on",a(e.weapon.refinement,Mp,{unit:"%"})),Tp=c(Fo,"on",a(e.weapon.refinement,Mp,{unit:"%"})),QO=r(vt,xp,{premod:{atk_:Dp,moveSPD_:Tp}}),XO={document:[{value:Fo,path:JO,header:o(vt,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Dp},{node:Tp},{text:l("duration"),value:15,unit:"s"}]}}}]},YO=new s(vt,XO,xp,QO),ne="SkywardBlade",No=d.weapon.data[ne],[ZO,da]=m(ne,"SkyPiercingMight"),e6=[-1,.2,.25,.3,.35,.4],Rp=c("on",da,S(.1)),Ip=c("on",da,S(.1)),Cp=c(e.weapon.key,ne,c("on",da,y(i(a(e.weapon.refinement,e6,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),jp=No.refinementBonus.critRate_;if(!jp)throw new Error(`data_gen.refinementBonus.critRate_ for ${ne} was undefined`);const Fp=a(e.weapon.refinement,jp),n6=r(ne,No,{premod:{critRate_:Fp,moveSPD_:Rp,atkSPD_:Ip}},{dmg:Cp}),t6={document:[{header:o(ne,t("base")),fields:[{node:Fp}]},{value:da,path:ZO,header:o(ne,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Rp},{node:Ip},{node:h(Cp,{name:t("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},a6=new s(ne,t6,No,n6),Ae="SplendorOfTranquilWaters",Np=d.weapon.data[Ae],o6=[-1,.08,.1,.12,.14,.16],s6=[-1,.14,.175,.21,.245,.28],[c6,Wp]=m(Ae,"selfHpChange"),Hp=u(1,3),Gp=p(Wp,$(Hp,n=>i(n,a(e.weapon.refinement,o6,{unit:"%"}))),_),[d6,Kp]=m(Ae,"teamHpChange"),Lp=u(1,2),qp=p(Kp,$(Lp,n=>i(n,a(e.weapon.refinement,s6,{unit:"%"}))),_),r6=r(Ae,Np,{premod:{hp_:qp,skill_dmg_:Gp}}),i6={document:[{value:Wp,path:c6,header:o(Ae,t("stacks")),name:t("hpChange"),states:$(Hp,n=>({name:t("times",{count:n}),fields:[{node:Gp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Kp,path:d6,header:o(Ae,t("stacks")),name:t("otherHpChange"),states:$(Lp,n=>({name:t("times",{count:n}),fields:[{node:qp},{text:l("duration"),value:6,unit:"s"}]}))}]},m6=new s(Ae,i6,Np,r6),I="SummitShaper",zp=d.weapon.data[I],[,l6]=g("weapon",I),[$6,Up]=m(I,"GoldenMajesty"),[p6,Vp]=m(I,"WithShield"),h6=[-1,.2,.25,.3,.35,.4],u6=[-1,.04,.05,.06,.07,.08],Jp=a(e.weapon.refinement,h6),_6=a(e.weapon.refinement,u6),Qp=i(P(1,c(Vp,"protected",1)),p(Up,Object.fromEntries(b(1,5).map(n=>[n,i(_6,n)])),_)),f6=r(I,zp,{premod:{shield_:Jp,atk_:Qp}}),g6={document:[{header:o(I,t("base")),fields:[{node:Jp}]},{value:Up,path:$6,header:o(I,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Qp},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Vp,path:p6,header:o(I,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:l6("atkEffInc"),value:100,unit:"%"}]}}}]},w6=new s(I,g6,zp,f6),yt="SwordOfDescension",Xp=d.weapon.data[yt],Yp=p(e.charKey,$(Nh,n=>w(66)),_),Zp=c(e.weapon.key,yt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),k6=r(yt,Xp,{premod:{atk:Yp}},{dmg_:Zp}),v6={document:[{header:o(yt,t("base")),fields:[{node:Yp},{node:h(Zp,{name:t("dmg")})}]}]},y6=new s(yt,v6,Xp,k6),Pt="SwordOfNarzissenkreuz",eh=d.weapon.data[Pt],P6=[-1,1.6,2,2.4,2.8,3.2],nh=c(e.weapon.key,Pt,y(i(a(e.weapon.refinement,P6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),S6=r(Pt,eh,void 0,{dmg:nh}),b6={document:[{header:o(Pt,t("dmg")),fields:[{node:h(nh,{name:t("dmg")})}]}]},O6=new s(Pt,b6,eh,S6),un="TheAlleyFlash",th=d.weapon.data[un],[,B6]=g("weapon",un),[A6,ah]=m(un,"ItinerantHero"),E6=[-1,.12,.15,.18,.21,.24],oh=c(ah,"on",a(e.weapon.refinement,E6,{unit:"%"})),x6=r(un,th,{premod:{all_dmg_:oh}}),M6={document:[{value:ah,path:A6,header:o(un,t("conditional")),name:B6("condName"),states:{on:{fields:[{node:oh}]}}}]},D6=new s(un,M6,th,x6),St="TheBlackSword",sh=d.weapon.data[St],ch=[-1,.2,.25,.3,.35,.4],T6=[-1,.6,.7,.8,.9,1],dh=a(e.weapon.refinement,ch),rh=a(e.weapon.refinement,ch),ih=c(e.weapon.key,St,Ke(i(a(e.weapon.refinement,T6,{unit:"%"}),e.total.atk))),R6=r(St,sh,{premod:{normal_dmg_:dh,charged_dmg_:rh}},{heal:ih}),I6={document:[{header:o(St,t("base")),fields:[{node:dh},{node:rh},{node:h(ih,{name:l("healing"),variant:"heal"})}]}]},C6=new s(St,I6,sh,R6),_n="TheDockhandsAssistant",mh=d.weapon.data[_n],[,j6]=g("weapon",_n),F6=[-1,40,50,60,70,80],[N6,lh]=m(_n,"symbolsConsumed"),$h=u(1,3),ph=p(lh,$($h,n=>i(n,a(e.weapon.refinement,F6,{unit:"%"}))),_),W6=r(_n,mh,{premod:{eleMas:ph}}),H6={document:[{value:lh,path:N6,teamBuff:!0,header:o(_n,t("stacks")),name:j6("condName"),states:$($h,n=>({name:`${n}`,fields:[{node:ph},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},G6=new s(_n,H6,mh,W6),bt="TheFlute",hh=d.weapon.data[bt],uh=c(e.weapon.key,bt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),K6=r(bt,hh,void 0,{dmg_:uh}),L6={document:[{header:o(bt,t("base")),fields:[{node:h(uh,{name:t("dmg")})}]}]},q6=new s(bt,L6,hh,K6),Re="ToukabouShigure",_h=d.weapon.data[Re],[,z6]=g("weapon",Re),[U6,fh]=m(Re,"passive"),V6=[-1,.16,.2,.24,.28,.32],gh=c(e.weapon.key,Re,c(fh,"on",a(e.weapon.refinement,V6,{unit:"%"}))),J6=r(Re,_h,{premod:{all_dmg_:gh}}),Q6={document:[{value:fh,path:U6,header:o(Re,t("stacks")),name:z6("condName"),states:{on:{fields:[{node:gh},{text:l("duration"),value:10,unit:"s"}]}}}]},X6=new s(Re,Q6,_h,J6),Ot="TravelersHandySword",wh=d.weapon.data[Ot],Y6=[-1,.01,.0125,.015,.0175,.02],kh=c(e.weapon.key,Ot,Ke(i(a(e.weapon.refinement,Y6,{unit:"%"}),e.total.hp))),Z6=r(Ot,wh,void 0,{heal:kh}),e8={document:[{header:o(Ot,t("base")),fields:[{node:h(kh,{name:l("healing"),variant:"heal"})}]}]},n8=new s(Ot,e8,wh,Z6),Ge="UrakuMisugiri",vh=d.weapon.data[Ge],t8=[-1,.16,.2,.24,.28,.32],a8=[-1,.24,.3,.36,.42,.48],o8=[-1,.2,.25,.3,.35,.4],Wo=a(e.weapon.refinement,t8),Ho=a(e.weapon.refinement,a8),[s8,Go]=m(Ge,"teamGeo"),yh=1,Ph=c(Go,"on",i(S(yh),Wo)),Sh=c(Go,"on",i(S(yh),Ho)),bh=a(e.weapon.refinement,o8),c8=r(Ge,vh,{premod:{normal_dmg_:P(Wo,Ph),skill_dmg_:P(Ho,Sh),def_:bh}}),d8={document:[{header:o(Ge,t("base")),fields:[{node:bh},{node:h(Wo,f.info("normal_dmg_"))},{node:h(Ho,f.info("skill_dmg_"))}]},{value:Go,path:s8,header:o(Ge,t("conditional")),name:t("teamHitOp.geo"),states:{on:{fields:[{node:h(Ph,f.info("normal_dmg_"))},{node:h(Sh,f.info("skill_dmg_"))},{text:l("duration"),value:15,unit:"s"}]}}}]},r8=new s(Ge,d8,vh,c8),z="WolfFang",Oh=d.weapon.data[z],i8=[-1,.16,.2,.24,.28,.32],Bh=[-1,.02,.025,.03,.035,.04],Dt=u(1,4),Ko=a(e.weapon.refinement,i8),Ah={...Ko},[m8,Eh]=m(z,"skillStacks"),xh=i(a(e.weapon.refinement,Bh),p(Eh,$(Dt,n=>w(n)),_)),[l8,Mh]=m(z,"burstStacks"),Dh=i(a(e.weapon.refinement,Bh),p(Mh,$(Dt,n=>w(n)),_)),$8=r(z,Oh,{premod:{skill_dmg_:Ko,burst_dmg_:Ah,skill_critRate_:xh,burst_critRate_:Dh}}),p8={document:[{header:o(z,t("base")),fields:[{node:Ko},{node:Ah}]},{header:o(z,t("conditional")),value:Eh,path:m8,name:t("hitOp.skill"),states:$(Dt,n=>({name:t("stack",{count:n}),fields:[{node:xh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(z,t("conditional")),value:Mh,path:l8,name:t("hitOp.burst"),states:$(Dt,n=>({name:t("stack",{count:n}),fields:[{node:Dh},{text:l("duration"),value:10,unit:"s"}]}))}]},h8=new s(z,p8,Oh,$8),Ee="XiphosMoonlight",Th=d.weapon.data[Ee],u8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Tt=c(e.weapon.key,Ee,i(a(e.weapon.refinement,u8,{unit:"%",fixed:3}),e.premod.eleMas)),Lo=c(e.weapon.key,Ee,i(S(.3),Tt)),_8=ae(e.charKey,O.charKey,Lo),f8=r(Ee,Th,{total:{enerRech_:Tt},teamBuff:{total:{enerRech_:_8}}},{selfEnerRech_:Tt,teamEnerRech_disp:Lo}),g8={document:[{header:o(Ee,t("base")),fields:[{node:Tt}]},{header:o(Ee,t("teamBuff")),teamBuff:!0,fields:[{node:h(Lo,{...f.info("enerRech_"),isTeamBuff:!0})}]}]},w8=new s(Ee,g8,Th,f8),k8={AmenomaKageuchi:fb,AquilaFavonia:yb,BlackcliffLongsword:Bb,CinnabarSpindle:Tb,CoolSteel:Fb,DarkIronSword:Kb,DullBlade:zb,FavoniusSword:Jb,FesteringDesire:e3,FilletBlade:s3,FinaleOfTheDeep:u3,FleuveCendreFerryman:v3,FreedomSworn:A3,HaranGeppakuFutsu:I3,HarbingerOfDawn:W3,IronSting:q3,KagotsurubeIsshin:J3,KeyOfKhajNisut:tO,LightOfFoliarIncision:rO,LionsRoar:pO,MistsplitterReforged:vO,PrimordialJadeCutter:OO,PrototypeRancour:xO,RoyalLongsword:IO,SacrificialSword:FO,SapwoodBlade:qO,SilverSword:VO,SkyriderSword:YO,SkywardBlade:a6,SplendorOfTranquilWaters:m6,SummitShaper:w6,SwordOfDescension:y6,SwordOfNarzissenkreuz:O6,TheAlleyFlash:D6,TheBlackSword:C6,TheDockhandsAssistant:G6,TheFlute:q6,ToukabouShigure:X6,TravelersHandySword:n8,UrakuMisugiri:r8,WolfFang:h8,XiphosMoonlight:w8},Rh={...k8,...kS,...hb,...Af,...H2},v8=Object.fromEntries(Wh.map(n=>[n,Yo(Object.values(Rh).filter(k=>k.weaponType===n).map(k=>({display:k.data.display})))]));function O8(n){return Rh[n]}export{s as W,O8 as g};
