import{e as vv,p as H,f as ye,E as OL,X as zi,dD as ML,aj as KL,u as FL,dE as a,dF as i,bT as e,k as NL,bM as jL,I as Wb,a1 as Lb,c1 as wu,dG as r_,dH as n,dI as m,dd as d,dJ as sa,a7 as Ba,bA as P,dK as v,dL as y,c3 as b,dM as xu,dN as j,bE as da,dO as M,o as _,dP as GL,bC as p,dQ as Qs,d7 as WL,ax as cP,ci as LL,cq as zL,dR as UL,dS as VL,dT as qL,cV as P1,dU as zb,dV as Js,dW as u,dX as JL,dY as QL,d5 as By,cv as XL,aB as g,dZ as E,d_ as ss,bZ as Gc,d$ as YL,e0 as pm,c7 as ZL,b_ as ez,bD as d_,by as Gi,e1 as tz,d8 as rP,n as Fr,ac as az,bI as pl,cS as Ay,cU as Iy,cT as w1,cR as Ry,e2 as Hy,e3 as Tp,cQ as Pp,cD as nz,cl as sz,h as lz}from"./index-aa1c97fb.js";import{i as oz}from"./index-c5efcb38.js";function iz({iconProps:t}){const[o,w]=vv.useState(0);return vv.useEffect(()=>{const D=setInterval(()=>w(K=>K+1),1e3);return()=>clearInterval(D)},[]),H(OL,{ele:ye[o%ye.length],iconProps:t})}const l=(t,o)=>H(zi,{ns:"sheet",key18:t,values:o}),s=t=>H(zi,{ns:"sheet_gen",key18:t}),Wc=t=>ML(["conditional",...t]);function r(t,o){const w=[t,o],D=Wc(w);return[w,D]}function O(t,o){const w=t==="char"&&o==="Somnia"||t==="weapon"&&o==="QuantumCatalyst";return[D=>H(zi,{ns:w?`${t}_${o}`:`${t}_${o}_gen`,key18:D}),(D,K)=>H(zi,{ns:`${t}_${o}`,key18:D,values:K})]}function Ub(t,o){return H(cz,{cKey:t,chg:o})}function cz({cKey:t,chg:o}){const{silly:w}=vv.useContext(KL),{i18n:D}=FL("sillyWisher_charNames");return w&&D.exists(`sillyWisher_charNames:${t}`)?H(zi,{ns:"sillyWisher_charNames",key18:t}):o("name")}function kl(t,o,w){return[a(o,{...w,isTeamBuff:!0}),i(e.activeCharKey,t,o)]}class z{constructor(o,w,D){this.getSlotName=K=>this.tr(`pieces.${K}.name`),this.getSlotDesc=K=>this.tr(`pieces.${K}.desc`),this.setEffectDesc=K=>this.tr(`setEffects.${K}`),this.setEffectDocument=K=>{var $;return($=this.sheet.setEffects[K])==null?void 0:$.document},this.hasEnough=(K,$)=>($.get(e.artSet[this.key]).value??0)>=K,this.sheet=w,this.key=o,this.data=D}get tr(){return z.tr(this.key)}get name(){return this.tr("setName")}get setName(){return this.tr("setName")}get nameRaw(){return this.sheet.name}get rarity(){return this.sheet.rarity}get slots(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return[...NL]}}get setEffects(){return this.sheet.setEffects}static trm(o){return w=>H(zi,{ns:`artifact_${o}`,key18:w})}static tr(o){return w=>H(zi,{ns:`artifact_${o}_gen`,key18:w})}static get(o){return x0[o]}}const q=t=>{const o=w=>H(zi,{ns:`artifact_${t}_gen`,key18:w});return w=>({title:o("setName"),icon:H(Wb,{size:2,src:jL(t)}),action:H(Lb,{color:"success",children:l(`${w}set`)}),description:o(`setEffects.${w}`)})};function J(t,o={},w={}){return wu([r_(o,t),{display:{[`artifact:${t}`]:w}}])}const Vb="Adventurer",Ey=q(Vb),dP=n(e.artSet.Adventurer,2,1e3),mP=n(e.artSet.Adventurer,4,m(d(.3),e.total.hp)),rz=J(Vb,{premod:{hp:dP}},{heal:mP}),dz={name:"Adventurer",rarity:[3],setEffects:{2:{document:[{header:Ey(2),fields:[{node:dP}]}]},4:{document:[{header:Ey(4),fields:[{node:a(mP,{name:s("healing"),variant:"heal"})}]}]}}},mz=new z(Vb,dz,rz),qg="ArchaicPetra",Oy=q(qg),[,uz]=O("artifact",qg),uP=n(e.artSet.ArchaicPetra,2,d(.15)),[gz,gP]=r(qg,"element"),hP=Object.fromEntries(sa.map(t=>[`${t}_dmg_`,n(e.artSet.ArchaicPetra,4,i(t,gP,d(.35)))])),hz=J(qg,{premod:{geo_dmg_:uP},teamBuff:{premod:hP}}),pz={name:"Archaic Petra",rarity:[4,5],setEffects:{2:{document:[{header:Oy(2),fields:[{node:uP}]}]},4:{document:[{header:Oy(4),path:gz,value:gP,teamBuff:!0,name:uz("condName"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:hP[`${t}_dmg_`]},{text:s("duration"),value:10,unit:"s"}]}]))}]}}},kz=new z(qg,pz,hz),m_="Berserker",My=q(m_),pP={path:"critRate_"},kP=n(e.artSet.Berserker,2,d(.12),pP),[fz,fP]=r(m_,"hp"),_P=n(e.artSet.Berserker,4,i("70",fP,d(.24)),pP),_z=J(m_,{premod:{critRate_:P(kP,_P)}}),vz={name:"Berserker",rarity:[3,4],setEffects:{2:{document:[{header:My(2),fields:[{node:kP}]}]},4:{document:[{header:My(4),path:fz,value:fP,teamBuff:!0,name:l("lessPercentHP",{percent:70}),states:{70:{fields:[{node:_P}]}}}]}}},bz=new z(m_,vz,_z),Jg="BlizzardStrayer",Ky=q(Jg),[,x1]=O("artifact",Jg),[$z,vP]=r(Jg,"state"),bP=n(e.artSet.BlizzardStrayer,2,d(.15)),bv=n(e.artSet.BlizzardStrayer,4,v(vP,{cryo:d(.2),frozen:d(.4)},y)),yz=J(Jg,{premod:{cryo_dmg_:bP},total:{critRate_:bv}}),Tz={name:"Blizzard Strayer",rarity:[4,5],setEffects:{2:{document:[{header:Ky(2),fields:[{node:bP}]}]},4:{document:[{header:Ky(4),value:vP,path:$z,name:x1("condName"),states:{cryo:{name:x1("condCryo"),fields:[{node:bv}]},frozen:{name:x1("condFrozen"),fields:[{node:bv}]}}}]}}},Pz=new z(Jg,Tz,yz),u_="BloodstainedChivalry",Fy=q(u_),$P=n(e.artSet.BloodstainedChivalry,2,d(.25)),[wz,qb]=r(u_,"defeat"),yP=n(e.artSet.BloodstainedChivalry,4,i("hit",qb,d(.5))),TP=n(e.artSet.BloodstainedChivalry,4,i("hit",qb,d(1))),xz=J(u_,{premod:{physical_dmg_:$P,charged_dmg_:yP,staminaChargedDec_:TP}}),Dz={name:"Bloodstained Chivalry",rarity:[4,5],setEffects:{2:{document:[{header:Fy(2),fields:[{node:$P}]}]},4:{document:[{header:Fy(4),path:wz,value:qb,name:l("afterDefeatEnemy",{percent:70}),states:{hit:{fields:[{node:yP},{node:TP},{text:s("duration"),value:10,unit:"s"}]}}}]}}},Sz=new z(u_,Dz,xz),g_="BraveHeart",Ny=q(g_),PP=n(e.artSet.BraveHeart,2,d(.18)),[Cz,wP]=r(g_,"hp"),xP=n(e.artSet.BraveHeart,4,i("50",wP,d(.3))),Bz=J(g_,{premod:{atk_:PP,all_dmg_:xP}}),Az={name:"Brave Heart",rarity:[3,4],setEffects:{2:{document:[{header:Ny(2),fields:[{node:PP}]}]},4:{document:[{header:Ny(4),path:Cz,value:wP,name:l("enemyGreaterPercentHP",{percent:50}),states:{50:{fields:[{node:xP}]}}}]}}},Iz=new z(g_,Az,Bz),h_="CrimsonWitchOfFlames",D1=q(h_),[Rz,DP]=r(h_,"stack"),SP={path:"pyro_dmg_"},CP=n(e.artSet.CrimsonWitchOfFlames,2,d(.15),SP),p_=n(e.artSet.CrimsonWitchOfFlames,4,d(.4)),BP={...p_},AP={...p_},Jb=n(e.artSet.CrimsonWitchOfFlames,4,d(.15)),IP={...Jb},RP=b(1,3),HP=n(e.artSet.CrimsonWitchOfFlames,4,v(DP,Object.fromEntries(RP.map(t=>[t,d(.15*t/2)])),y),SP),Hz=J(h_,{premod:{pyro_dmg_:P(CP,HP),overloaded_dmg_:p_,burning_dmg_:BP,vaporize_dmg_:Jb,melt_dmg_:IP,burgeon_dmg_:AP}}),Ez={name:"Crimson Witch of Flames",rarity:[4,5],setEffects:{2:{document:[{header:D1(2),fields:[{node:CP}]}]},4:{document:[{header:D1(4),fields:[{node:p_},{node:BP},{node:AP},{node:Jb},{node:IP}]},{header:D1(4),value:DP,path:Rz,name:l("afterUse.skill"),states:Object.fromEntries(RP.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:HP},{text:s("duration"),value:10,unit:"s"}]}]))}]}}},Oz=new z(h_,Ez,Hz),k_="DeepwoodMemories",jy=q(k_),EP=n(e.artSet.DeepwoodMemories,2,.15),[Mz,OP]=r(k_,"set4"),MP=n(e.artSet.DeepwoodMemories,4,i(OP,"on",-.3)),Kz=J(k_,{premod:{dendro_dmg_:EP},teamBuff:{premod:{dendro_enemyRes_:MP}}}),Fz={name:"Deepwood memories",rarity:[4,5],setEffects:{2:{document:[{header:jy(2),fields:[{node:EP}]}]},4:{document:[{header:jy(4),path:Mz,value:OP,teamBuff:!0,name:l("hitOp.skillOrBurst"),states:{on:{fields:[{node:MP},{text:s("duration"),value:8,unit:"s"}]}}}]}}},Nz=new z(k_,Fz,Kz),Qb="DefendersWill",Gy=q(Qb),KP=n(e.artSet.DefendersWill,2,d(.3)),FP=xu(ye,t=>[`${t}_res_`,n(e.artSet.DefendersWill,4,n(j[t],1,d(.3)))]),jz=J(Qb,{premod:{def_:KP,...FP}}),Gz={name:"Defender's Will",rarity:[3,4],setEffects:{2:{document:[{header:Gy(2),fields:[{node:KP}]}]},4:{document:[{header:Gy(4),fields:Object.values(FP).map(t=>({node:t}))}]}}},Wz=new z(Qb,Gz,jz),f_="DesertPavilionChronicle",Wy=q(f_),NP=n(e.artSet.DesertPavilionChronicle,2,.15),[Lz,Xb]=r(f_,"set4"),jP=n(e.artSet.DesertPavilionChronicle,4,i(Xb,"on",d(.1))),__=n(e.artSet.DesertPavilionChronicle,4,i(Xb,"on",d(.4))),GP={...__},WP={...__},zz=J(f_,{premod:{anemo_dmg_:NP,atkSPD_:jP,normal_dmg_:__,charged_dmg_:GP,plunging_dmg_:WP}}),Uz={name:"Desert Pavilion Chronicle",rarity:[4,5],setEffects:{2:{document:[{header:Wy(2),fields:[{node:NP}]}]},4:{document:[{header:Wy(4),path:Lz,value:Xb,teamBuff:!0,name:l("hitOp.charged"),states:{on:{fields:[{node:jP},{node:__},{node:GP},{node:WP},{text:s("duration"),value:15,unit:"s"}]}}}]}}},Vz=new z(f_,Uz,zz),Qg="EchoesOfAnOffering",Ly=q(Qg),[,S1]=O("artifact",Qg),LP=n(e.artSet.EchoesOfAnOffering,2,d(.18)),[qz,zP]=r(Qg,"mode"),$v=n(e.artSet.EchoesOfAnOffering,4,m(v(zP,{on:d(.7),avg:d(.7*.50204)},y),e.total.atk)),Jz=J(Qg,{premod:{atk_:LP,normal_dmgInc:$v}}),Qz={name:"Echoes of an Offering",rarity:[4,5],setEffects:{2:{document:[{header:Ly(2),fields:[{node:LP}]}]},4:{document:[{header:Ly(4),value:zP,path:qz,name:S1("mode"),states:{on:{name:S1("always"),fields:[{node:$v}]},avg:{name:S1("avg"),fields:[{node:$v}]}}}]}}},Xz=new z(Qg,Qz,Jz),Yb="EmblemOfSeveredFate",zy=q(Yb),UP=n(e.artSet.EmblemOfSeveredFate,2,d(.2)),yv=n(e.artSet.EmblemOfSeveredFate,4,da(d(.75),m(d(.25),e.premod.enerRech_))),Yz=J(Yb,{premod:{enerRech_:UP,burst_dmg_:yv}},{burstBonus:yv}),Zz={name:"Emblem of Severed Fate",rarity:[4,5],setEffects:{2:{document:[{header:zy(2),fields:[{node:UP}]}]},4:{document:[{header:zy(4),fields:[{node:yv}]}]}}},eU=new z(Yb,Zz,Yz),Xg="FlowerOfParadiseLost",[,tU]=O("artifact",Xg),C1=q(Xg),VP=n(e.artSet.FlowerOfParadiseLost,2,80),v_=n(e.artSet.FlowerOfParadiseLost,4,d(.4),{path:"bloom_dmg_"}),qP={...v_,info:{path:"hyperbloom_dmg_"}},JP={...v_,info:{path:"burgeon_dmg_"}},[aU,QP]=r(Xg,"stacks"),XP=b(1,4),b_=n(e.artSet.FlowerOfParadiseLost,4,v(QP,Object.fromEntries(XP.map(t=>[t,m(t,d(.1))])),y,{path:"bloom_dmg_"})),YP={...b_,info:{path:"hyperbloom_dmg_"}},ZP={...b_,info:{path:"burgeon_dmg_"}},nU=J(Xg,{premod:{eleMas:VP,bloom_dmg_:P(v_,b_),hyperbloom_dmg_:P(qP,YP),burgeon_dmg_:P(JP,ZP)}}),sU={name:"Flower of Paradise Lost",rarity:[4,5],setEffects:{2:{document:[{header:C1(2),fields:[{node:VP}]}]},4:{document:[{header:C1(4),fields:[{node:v_},{node:qP},{node:JP}]},{header:C1(4),path:aU,value:QP,name:tU("condName"),states:Object.fromEntries(XP.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:b_},{node:YP},{node:ZP},{text:s("duration"),value:10,unit:"s"}]}]))}]}}},lU=new z(Xg,sU,nU),Zb="Gambler",Uy=q(Zb),ew=n(e.artSet.Gambler,2,d(.2)),oU=J(Zb,{premod:{skill_dmg_:ew}}),iU={name:"Gambler",rarity:[3,4],setEffects:{2:{document:[{header:Uy(2),fields:[{node:ew}]}]},4:{document:[{header:Uy(4),fields:[]}]}}},cU=new z(Zb,iU,oU),km="GildedDreams",wp=q(km),[,Vy]=O("artifact",km),tw=n(e.artSet.GildedDreams,2,80,{path:"eleMas"}),[rU,e0]=r(km,"passive"),qy=v(e.charEle,j,GL),dU=n(qy,2,P(qy,-1)),mU=P(...ye.map(t=>n(j[t],1,M(t,e.charEle,j[t])))),[uU,aw]=r(km,"overrideOther"),fk=b(0,3),Jy=v(aw,_(fk,t=>p(t)),-1),[gU,nw]=r(km,"overrideSame"),Qy=v(nw,_(fk,t=>p(t)),-1),sw=n(e.artSet.GildedDreams,4,i(e0,"on",m(d(.14),Qs(Qy,-1,dU,Qy)))),lw=n(e.artSet.GildedDreams,4,i(e0,"on",m(50,Qs(Jy,-1,mU,Jy)),{path:"eleMas"})),hU=J(km,{premod:{eleMas:P(tw,lw),atk_:sw}}),pU={name:"Gilded Dreams",rarity:[4,5],setEffects:{2:{document:[{header:wp(2),fields:[{node:tw}]}]},4:{document:[{header:wp(4),teamBuff:!0,path:rU,value:e0,name:l("afterReaction"),states:{on:{fields:[{node:sw},{node:lw},{text:s("duration"),value:8,unit:"s"},{text:s("cd"),value:8,unit:"s"}]}}},{header:wp(4),teamBuff:!0,path:gU,value:nw,name:Vy("overrideSameCond"),states:_(fk,t=>({name:l("members",{count:t}),fields:[]}))},{header:wp(4),teamBuff:!0,path:uU,value:aw,name:Vy("overrideOtherCond"),states:_(fk,t=>({name:l("members",{count:t}),fields:[]}))}]}}},kU=new z(km,pU,hU),t0="GladiatorsFinale",Xy=q(t0),ow=n(e.artSet.GladiatorsFinale,2,d(.18)),iw=n(e.artSet.GladiatorsFinale,4,v(e.weaponType,{sword:d(.35),polearm:d(.35),claymore:d(.35)},y)),fU=J(t0,{premod:{atk_:ow,normal_dmg_:iw}}),_U={name:"Gladiator's Finale",rarity:[4,5],setEffects:{2:{document:[{header:Xy(2),fields:[{node:ow}]}]},4:{document:[{header:Xy(4),fields:[{node:iw}]}]}}},vU=new z(t0,_U,fU),$_="GoldenTroupe",B1=q($_),cw=n(e.artSet.GoldenTroupe,2,.2,{path:"skill_dmg_"}),rw=n(e.artSet.GoldenTroupe,4,.25,{path:"skill_dmg_"}),[bU,dw]=r($_,"set4"),mw=n(e.artSet.GoldenTroupe,4,i(dw,"on",.25,{path:"skill_dmg_"})),$U=J($_,{premod:{skill_dmg_:P(cw,rw,mw)}}),yU={name:"Golden Troupe",rarity:[4,5],setEffects:{2:{document:[{header:B1(2),fields:[{node:cw}]}]},4:{document:[{header:B1(4),fields:[{node:rw}]},{header:B1(4),path:bU,value:dw,name:l("charOffField"),states:{on:{fields:[{node:mw}]}}}]}}},TU=new z($_,yU,$U),y_="HeartOfDepth",Yy=q(y_),uw=n(e.artSet.HeartOfDepth,2,d(.15)),[PU,gw]=r(y_,"skill"),a0=n(e.artSet.HeartOfDepth,4,i("cast",gw,d(.3))),hw={...a0},wU=J(y_,{premod:{hydro_dmg_:uw,normal_dmg_:a0,charged_dmg_:hw}}),xU={name:"Heart of Depth",rarity:[4,5],setEffects:{2:{document:[{header:Yy(2),fields:[{node:uw}]}]},4:{document:[{header:Yy(4),path:PU,value:gw,name:l("afterUse.skill"),states:{cast:{fields:[{node:a0},{node:hw},{text:s("duration"),value:15,unit:"s"}]}}}]}}},DU=new z(y_,xU,wU),Yg="HuskOfOpulentDreams",Zy=q(Yg),[,SU]=O("artifact",Yg),[CU,n0]=r(Yg,"stack"),pw={path:"def_"},kw=n(e.artSet.HuskOfOpulentDreams,2,d(.3),pw),s0=b(1,4),fw=n(e.artSet.HuskOfOpulentDreams,4,v(n0,Object.fromEntries(s0.map(t=>[t,d(.06*t)])),y),pw),_w=n(e.artSet.HuskOfOpulentDreams,4,v(n0,Object.fromEntries(s0.map(t=>[t,d(.06*t)])),y)),BU=J(Yg,{premod:{def_:P(kw,fw),geo_dmg_:_w}}),AU={name:"Husk of Opulent Dreams",rarity:[4,5],setEffects:{2:{document:[{header:Zy(2),fields:[{node:kw}]}]},4:{document:[{header:Zy(4),value:n0,path:CU,teamBuff:!0,name:SU("condName"),states:Object.fromEntries(s0.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:fw},{node:_w}]}]))}]}}},IU=new z(Yg,AU,BU),T_="Instructor",e4=q(T_),[RU,vw]=r(T_,"set4"),bw=n(e.artSet.Instructor,2,80),$w=n(e.artSet.Instructor,4,i("on",vw,120)),HU=J(T_,{premod:{eleMas:bw},teamBuff:{premod:{eleMas:$w}}}),EU={name:"Instructor",rarity:[3,4],setEffects:{2:{document:[{header:e4(2),fields:[{node:bw}]}]},4:{document:[{header:e4(4),teamBuff:!0,value:vw,path:RU,name:l("afterReaction"),states:{on:{fields:[{node:$w},{text:s("duration"),value:8,unit:"s"}]}}}]}}},OU=new z(T_,EU,HU),P_="Lavawalker",t4=q(P_),[MU,yw]=r(P_,"state"),Tw=n(e.artSet.Lavawalker,2,d(.4)),Pw=n(e.artSet.Lavawalker,4,i("on",yw,d(.35))),KU=J(P_,{premod:{pyro_res_:Tw,all_dmg_:Pw}}),FU={name:"Lavawalker",rarity:[4,5],setEffects:{2:{document:[{header:t4(2),fields:[{node:Tw}]}]},4:{document:[{header:t4(4),value:yw,path:MU,name:l("enemyAffected.burningOrPyro"),states:{on:{fields:[{node:Pw}]}}}]}}},NU=new z(P_,FU,KU),l0="LuckyDog",a4=q(l0),ww=n(e.artSet.LuckyDog,2,100),xw=n(e.artSet.LuckyDog,4,300),jU=J(l0,{premod:{def:ww}},{heal:xw}),GU={name:"Lucky Dog",rarity:[3],setEffects:{2:{document:[{header:a4(2),fields:[{node:ww}]}]},4:{document:[{header:a4(4),fields:[{node:a(xw,{name:s("healing"),variant:"heal"})}]}]}}},WU=new z(l0,GU,jU),w_="MaidenBeloved",n4=q(w_),[LU,Dw]=r(w_,"state"),Sw=n(e.artSet.MaidenBeloved,2,d(.15)),Cw=n(e.artSet.MaidenBeloved,4,i("on",Dw,d(.2))),zU=J(w_,{premod:{heal_:Sw},teamBuff:{premod:{incHeal_:Cw}}}),UU={name:"Maiden Beloved",rarity:[4,5],setEffects:{2:{document:[{header:n4(2),fields:[{node:Sw}]}]},4:{document:[{header:n4(4),teamBuff:!0,value:Dw,path:LU,name:l("afterUse.skillOrBurst"),states:{on:{fields:[{node:Cw},{text:s("duration"),value:10,unit:"s"}]}}}]}}},VU=new z(w_,UU,zU),x_="MarechausseeHunter",s4=q(x_),o0=n(e.artSet.MarechausseeHunter,2,.15),Bw={...o0},[qU,Aw]=r(x_,"set4"),Iw=b(1,3),Rw=n(e.artSet.MarechausseeHunter,4,v(Aw,_(Iw,t=>p(t*.12)),y)),JU=J(x_,{premod:{normal_dmg_:o0,charged_dmg_:Bw,critRate_:Rw}}),QU={name:"Marechaussee Hunter",rarity:[4,5],setEffects:{2:{document:[{header:s4(2),fields:[{node:o0},{node:Bw}]}]},4:{document:[{header:s4(4),path:qU,value:Aw,name:l("hpChange"),states:_(Iw,t=>({name:l("stack",{count:t}),fields:[{node:Rw},{text:s("duration"),value:5,unit:"s"}]}))}]}}},XU=new z(x_,QU,JU),D_="MartialArtist",l4=q(D_),[YU,i0]=r(D_,"state"),Hw=n(e.artSet.MartialArtist,2,d(.15),{path:"normal_dmg_"}),Ew=n(e.artSet.MartialArtist,2,d(.15),{path:"charged_dmg_"}),Ow=n(e.artSet.MartialArtist,4,i("on",i0,d(.25),{path:"normal_dmg_"})),Mw=n(e.artSet.MartialArtist,4,i("on",i0,d(.25),{path:"charged_dmg_"})),ZU=J(D_,{premod:{normal_dmg_:P(Hw,Ow),charged_dmg_:P(Ew,Mw)}}),eV={name:"Martial Artist",rarity:[3,4],setEffects:{2:{document:[{header:l4(2),fields:[{node:Hw},{node:Ew}]}]},4:{document:[{header:l4(4),value:i0,path:YU,name:l("afterUse.skill"),states:{on:{fields:[{node:Ow},{node:Mw},{text:s("duration"),value:8,unit:"s"}]}}}]}}},tV=new z(D_,eV,ZU),Zg="NighttimeWhispersInTheEchoingWoods",A1=q(Zg),Kw=n(e.artSet.NighttimeWhispersInTheEchoingWoods,2,.18),[aV,_k]=r(Zg,"afterSkill"),Fw=n(e.artSet.NighttimeWhispersInTheEchoingWoods,4,i(_k,"on",.2,{path:"geo_dmg_"})),[nV,Nw]=r(Zg,"crystallize"),jw=n(e.artSet.NighttimeWhispersInTheEchoingWoods,4,i(_k,"on",i(Nw,"on",.2*1.5,{path:"geo_dmg_"}))),sV=J(Zg,{premod:{atk_:Kw,geo_dmg_:P(Fw,jw)}}),lV={name:"Nighttime Whispers In The Echoing Woods",rarity:[4,5],setEffects:{2:{document:[{header:A1(2),fields:[{node:Kw}]}]},4:{document:[{header:A1(4),value:_k,path:aV,name:l("hitOp.skill"),states:{on:{fields:[{node:Fw}]}}},{header:A1(4),value:Nw,path:nV,canShow:i(_k,"on",1),name:l("protectedByShieldCrystal"),states:{on:{fields:[{node:jw}]}}}]}}},oV=new z(Zg,lV,sV),S_="NoblesseOblige",o4=q(S_),Gw=n(e.artSet.NoblesseOblige,2,d(.2)),[iV,Ww]=r(S_,"set4"),Lw=n(e.artSet.NoblesseOblige,4,i(Ww,"on",d(.2))),cV=J(S_,{premod:{burst_dmg_:Gw},teamBuff:{premod:{atk_:Lw}}}),rV={name:"Noblesse Oblige",rarity:[4,5],setEffects:{2:{document:[{header:o4(2),fields:[{node:Gw}]}]},4:{document:[{header:o4(4),teamBuff:!0,value:Ww,path:iV,name:l("afterUse.burst"),states:{on:{fields:[{node:Lw},{text:s("duration"),value:12,unit:"s"}]}}}]}}},dV=new z(S_,rV,cV),eh="NymphsDream",i4=q(eh),[,mV]=O("artifact",eh),zw=n(e.artSet.NymphsDream,2,.15,{path:"hydro_dmg_"}),[uV,c0]=r(eh,"set4"),r0=b(1,3),gV=[.07,.16,.25],hV=[.04,.09,.15],Uw=n(e.artSet.NymphsDream,4,v(c0,_(r0,t=>p(gV[t-1])),y)),Vw=n(e.artSet.NymphsDream,4,v(c0,_(r0,t=>p(hV[t-1])),y),{path:"hydro_dmg_"}),pV=J(eh,{premod:{hydro_dmg_:P(zw,Vw),atk_:Uw}}),kV={name:"Nymph's Dream",rarity:[4,5],setEffects:{2:{document:[{header:i4(2),fields:[{node:zw}]}]},4:{document:[{header:i4(4),path:uV,value:c0,teamBuff:!0,name:mV("condName"),states:_(r0,t=>({name:l("stack",{count:t}),fields:[{node:Uw},{node:Vw},{text:s("duration"),value:8,unit:"s"}]}))}]}}},fV=new z(eh,kV,pV),C_="OceanHuedClam",c4=q(C_),qw=n(e.artSet.OceanHuedClam,2,d(.15)),Jw=n(e.artSet.OceanHuedClam,4,m(m(d(.9),3e4),e.enemy.physical_resMulti_)),_V=J(C_,{premod:{heal_:qw}},{heal:Jw}),vV={name:"Ocean-Hued Clam",rarity:[4,5],setEffects:{2:{document:[{header:c4(2),fields:[{node:qw}]}]},4:{document:[{header:c4(4),fields:[{node:a(Jw,{name:z.trm(C_)("condName"),variant:"physical"})}]}]}}},bV=new z(C_,vV,_V),B_="PaleFlame",r4=q(B_),[$V,d0]=r(B_,"stacks"),Qw={path:"physical_dmg_"},Xw=n(e.artSet.PaleFlame,2,d(.25),Qw),m0=b(1,2),Yw=n(e.artSet.PaleFlame,4,v(d0,Object.fromEntries(m0.map(t=>[t,d(.09*t)])),y)),Zw=n(e.artSet.PaleFlame,4,v(d0,Object.fromEntries(m0.map(t=>[t,i(t,2,d(.25))])),y),Qw),yV=J(B_,{premod:{physical_dmg_:P(Xw,Zw),atk_:Yw}}),TV={name:"Pale Flame",rarity:[4,5],setEffects:{2:{document:[{header:r4(2),fields:[{node:Xw}]}]},4:{document:[{header:r4(4),value:d0,path:$V,teamBuff:!0,name:l("hitOp.skill"),states:Object.fromEntries(m0.map(t=>[t,{name:t.toString(),fields:[{node:Yw},{node:Zw},{text:s("duration"),value:7,unit:"s"}]}]))}]}}},PV=new z(B_,TV,yV),u0="PrayersForDestiny",wV=q(u0),xV=J(u0),DV={name:"Prayers for Destiny",rarity:[3,4],setEffects:{1:{document:[{header:wV(1),fields:[]}]}}},SV=new z(u0,DV,xV),g0="PrayersForIllumination",CV=q(g0),BV=J(g0),AV={name:"Prayers for Illumination",rarity:[3,4],setEffects:{1:{document:[{header:CV(1),fields:[]}]}}},IV=new z(g0,AV,BV),h0="PrayersForWisdom",RV=q(h0),HV=J(h0),EV={name:"Prayers for Wisdom",rarity:[3,4],setEffects:{1:{document:[{header:RV(1),fields:[]}]}}},OV=new z(h0,EV,HV),p0="PrayersToSpringtime",MV=q(p0),KV=J(p0),FV={name:"Prayers to Springtime",rarity:[3,4],setEffects:{1:{document:[{header:MV(1),fields:[]}]}}},NV=new z(p0,FV,KV),k0="ResolutionOfSojourner",d4=q(k0),ex=n(e.artSet.ResolutionOfSojourner,2,d(.18)),tx=n(e.artSet.ResolutionOfSojourner,4,d(.3)),jV=J(k0,{premod:{atk_:ex,charged_critRate_:tx}}),GV={name:"Resolution of Sojourner",rarity:[3,4],setEffects:{2:{document:[{header:d4(2),fields:[{node:ex}]}]},4:{document:[{header:d4(4),fields:[{node:tx}]}]}}},WV=new z(k0,GV,jV),A_="RetracingBolide",m4=q(A_),[LV,f0]=r(A_,"state"),ax=n(e.artSet.RetracingBolide,2,d(.35)),nx=n(e.artSet.RetracingBolide,4,i("on",f0,d(.4))),sx=n(e.artSet.RetracingBolide,4,i("on",f0,d(.4))),zV=J(A_,{premod:{shield_:ax,normal_dmg_:nx,charged_dmg_:sx}}),UV={name:"Retracing Bolide",rarity:[4,5],setEffects:{2:{document:[{header:m4(2),fields:[{node:ax}]}]},4:{document:[{header:m4(4),value:f0,path:LV,name:l("protectedByShield"),states:{on:{fields:[{node:nx},{node:sx}]}}}]}}},VV=new z(A_,UV,zV),_0="Scholar",u4=q(_0),lx=n(e.artSet.Scholar,2,d(.2)),qV=J(_0,{premod:{enerRech_:lx}}),JV={name:"Scholar",rarity:[3,4],setEffects:{2:{document:[{header:u4(2),fields:[{node:lx}]}]},4:{document:[{header:u4(4),fields:[]}]}}},QV=new z(_0,JV,qV),th="ShimenawasReminiscence",g4=q(th),[,XV]=O("artifact",th),[YV,ox]=r(th,"usedEnergy"),ix=n(e.artSet.ShimenawasReminiscence,2,d(.18)),I_=n(e.artSet.ShimenawasReminiscence,4,i("used",ox,d(.5))),cx={...I_},rx={...I_},ZV=J(th,{premod:{atk_:ix,normal_dmg_:I_,charged_dmg_:cx,plunging_dmg_:rx}}),eq={name:"Shimenawa's Reminiscence",rarity:[4,5],setEffects:{2:{document:[{header:g4(2),fields:[{node:ix}]}]},4:{document:[{header:g4(4),value:ox,path:YV,name:XV("afterUseEnergy"),states:{used:{fields:[{node:I_},{node:cx},{node:rx},{text:s("duration"),value:10,unit:"s"}]}}}]}}},tq=new z(th,eq,ZV),ah="SongOfDaysPast",h4=q(ah),[,aq]=O("artifact",ah),dx=n(e.artSet.SongOfDaysPast,2,.15),mx=b(1e3,15e3,1e3),[nq,ux]=r(ah,"healing"),nh=n(e.artSet.SongOfDaysPast,4,v(ux,_(mx,t=>p(t*.08)),y)),gx={...nh},hx={...nh},px={...nh},kx={...nh},fx={...nh},sq=J(ah,{premod:{heal_:dx},teamBuff:{premod:{normal_dmgInc:gx,charged_dmgInc:hx,plunging_dmgInc:px,skill_dmgInc:kx,burst_dmgInc:fx}}}),lq={name:"Song of Days Past",rarity:[4,5],setEffects:{2:{document:[{header:h4(2),fields:[{node:dx}]}]},4:{document:[{header:h4(4),value:ux,path:nq,name:aq("condName"),teamBuff:!0,states:_(mx,t=>({name:`${t}`,fields:[{node:gx},{node:hx},{node:px},{node:kx},{node:fx},{text:l("triggerQuota"),value:5},{text:s("duration"),value:10,unit:"s"}]}))}]}}},oq=new z(ah,lq,sq),R_="TenacityOfTheMillelith",p4=q(R_),_x=n(e.artSet.TenacityOfTheMillelith,2,d(.2)),[iq,v0]=r(R_,"skill"),vx=n(e.artSet.TenacityOfTheMillelith,4,i("cast",v0,d(.2))),bx=n(e.artSet.TenacityOfTheMillelith,4,i("cast",v0,d(.3))),cq=J(R_,{premod:{hp_:_x},teamBuff:{premod:{atk_:vx,shield_:bx}}}),rq={name:"Tenacity of the Millelith",rarity:[4,5],setEffects:{2:{document:[{header:p4(2),fields:[{node:_x}]}]},4:{document:[{header:p4(4),teamBuff:!0,path:iq,value:v0,name:l("hitOp.skill"),states:{cast:{fields:[{node:vx},{node:bx},{text:s("duration"),value:3,unit:"s"}]}}}]}}},dq=new z(R_,rq,cq),b0="TheExile",k4=q(b0),$x=n(e.artSet.TheExile,2,d(.2)),mq=J(b0,{premod:{enerRech_:$x}}),uq={name:"The Exile",rarity:[3,4],setEffects:{2:{document:[{header:k4(2),fields:[{node:$x}]}]},4:{document:[{header:k4(4),fields:[]}]}}},gq=new z(b0,uq,mq),$0="ThunderingFury",f4=q($0),yx=n(e.artSet.ThunderingFury,2,d(.15)),sh=n(e.artSet.ThunderingFury,4,d(.4)),Tx={...sh},Px={...sh},wx={...sh},xx=n(e.artSet.ThunderingFury,4,d(.2)),hq=J($0,{premod:{electro_dmg_:yx,overloaded_dmg_:sh,electrocharged_dmg_:Tx,superconduct_dmg_:Px,hyperbloom_dmg_:wx,aggravate_dmg_:xx}}),pq={name:"Thundering Fury",rarity:[4,5],setEffects:{2:{document:[{header:f4(2),fields:[{node:yx}]}]},4:{document:[{header:f4(4),fields:[{node:sh},{node:Tx},{node:Px},{node:wx},{node:xx}]}]}}},kq=new z($0,pq,hq),H_="Thundersoother",_4=q(H_),[fq,Dx]=r(H_,"state"),Sx=n(e.artSet.Thundersoother,2,d(.4)),Cx=n(e.artSet.Thundersoother,4,i("on",Dx,d(.35))),_q=J(H_,{premod:{electro_res_:Sx,all_dmg_:Cx}}),vq={name:"Thundersoother",rarity:[4,5],setEffects:{2:{document:[{header:_4(2),fields:[{node:Sx}]}]},4:{document:[{header:_4(4),value:Dx,path:fq,name:l("enemyAffected.electro"),states:{on:{fields:[{node:Cx}]}}}]}}},bq=new z(H_,vq,_q),lh="TinyMiracle",v4=q(lh),[,$q]=O("artifact",lh),[yq,Bx]=r(lh,"element"),Ax=Object.fromEntries(ye.map(t=>[t,n(e.artSet.TinyMiracle,2,d(.2),{path:`${t}_res_`})])),Ix=Object.fromEntries(ye.map(t=>[t,n(e.artSet.TinyMiracle,4,i(Bx,t,d(.3)),{path:`${t}_res_`})])),Tq=J(lh,{premod:Object.fromEntries(ye.map(t=>[`${t}_res_`,P(Ax[t],Ix[t])]))}),Pq={name:"Tiny Miracle",rarity:[3,4],setEffects:{2:{document:[{header:v4(2),fields:Object.values(Ax).map(t=>({node:t}))}]},4:{document:[{header:v4(4),path:yq,value:Bx,teamBuff:!0,name:$q("condName"),states:Object.fromEntries(ye.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[...Object.values(Ix).map(o=>({node:o})),{text:s("duration"),value:10,unit:"s"}]}]))}]}}},wq=new z(lh,Pq,Tq),y0="TravelingDoctor",b4=q(y0),Rx=n(e.artSet.TravelingDoctor,2,d(.2)),Hx=n(e.artSet.TravelingDoctor,4,m(d(.2),e.total.hp)),xq=J(y0,{premod:{incHeal_:Rx}},{heal:Hx}),Dq={name:"Traveling Doctor",rarity:[3],setEffects:{2:{document:[{header:b4(2),fields:[{node:Rx}]}]},4:{document:[{header:b4(4),fields:[{node:a(Hx,{name:s("healing"),variant:"heal"})}]}]}}},Sq=new z(y0,Dq,xq),oh="VermillionHereafter",I1=q(oh),Ex=n(e.artSet.VermillionHereafter,2,d(.18),{path:"atk_"}),[Cq,vk]=r(oh,"afterBurst"),Ox=n(e.artSet.VermillionHereafter,4,i(vk,"on",d(.08)),{path:"atk_"}),[Bq,Mx]=r(oh,"stacks"),Kx=n(e.artSet.VermillionHereafter,4,i(vk,"on",v(Mx,Object.fromEntries(b(1,4).map(t=>[t,d(.1*t)])),y),{path:"atk_"})),Aq=J(oh,{premod:{atk_:P(Ex,Ox,Kx)}}),Iq={name:"Vermillion Hereafter",rarity:[4,5],setEffects:{2:{document:[{header:I1(2),fields:[{node:Ex}]}]},4:{document:[{header:I1(4),value:vk,path:Cq,teamBuff:!0,name:l("afterUse.burst"),states:{on:{fields:[{node:Ox}]}}},{header:I1(4),value:Mx,path:Bq,teamBuff:!0,name:l("stacks"),canShow:i(vk,"on",1),states:Object.fromEntries(b(1,4).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:Kx}]}]))}]}}},Rq=new z(oh,Iq,Aq),E_="ViridescentVenerer",R1=q(E_),Fx=n(e.artSet.ViridescentVenerer,2,d(.15)),Nx=n(e.artSet.ViridescentVenerer,4,d(.6)),jx=_(sa,t=>[E_,`swirl${t}`]),Gx=_(sa,t=>Wc(jx[t])),Wx=xu(sa,t=>[`${t}_enemyRes_`,n(e.artSet.ViridescentVenerer,4,i(t,Gx[t],d(-.4)))]),Hq=J(E_,{premod:{anemo_dmg_:Fx,swirl_dmg_:Nx},teamBuff:{premod:{...Wx}}}),Eq={name:"Viridescent Venerer",rarity:[4,5],setEffects:{2:{document:[{header:R1(2),fields:[{node:Fx}]}]},4:{document:[{header:R1(4),fields:[{node:Nx}]},{header:R1(4),teamBuff:!0,states:Object.fromEntries(sa.map(t=>[t,{value:Gx[t],path:jx[t],name:l(`swirlReaction.${t}`),fields:[{node:Wx[`${t}_enemyRes_`]},{text:l(`effectDuration.${t}`),value:10,unit:"s"}]}]))}]}}},Oq=new z(E_,Eq,Hq),O_="VourukashasGlow",H1=q(O_),Lx=n(e.artSet.VourukashasGlow,2,.2),zx=n(e.artSet.VourukashasGlow,4,.1,{path:"skill_dmg_"}),Ux=n(e.artSet.VourukashasGlow,4,.1,{path:"burst_dmg_"}),[Mq,T0]=r(O_,"set4"),P0=b(1,5),Vx=n(e.artSet.VourukashasGlow,4,v(T0,_(P0,t=>p(t*.08)),y),{path:"skill_dmg_"}),qx=n(e.artSet.VourukashasGlow,4,v(T0,_(P0,t=>p(t*.08)),y),{path:"burst_dmg_"}),Kq=J(O_,{premod:{hp_:Lx,skill_dmg_:P(zx,Vx),burst_dmg_:P(Ux,qx)}}),Fq={name:"Vourukasha's Glow",rarity:[4,5],setEffects:{2:{document:[{header:H1(2),fields:[{node:Lx}]}]},4:{document:[{header:H1(4),fields:[{node:zx},{node:Ux}]},{header:H1(4),path:Mq,value:T0,name:l("takeDmg"),states:_(P0,t=>({name:l("stack",{count:t}),fields:[{node:Vx},{node:qx},{text:s("duration"),value:5,unit:"s"}]}))}]}}},Nq=new z(O_,Fq,Kq),w0="WanderersTroupe",$4=q(w0),Jx=n(e.artSet.WanderersTroupe,2,80),Qx=n(e.artSet.WanderersTroupe,4,v(e.weaponType,{catalyst:d(.35),bow:d(.35)},y)),jq=J(w0,{premod:{eleMas:Jx,charged_dmg_:Qx}}),Gq={name:"Wanderer's Troupe",rarity:[4,5],setEffects:{2:{document:[{header:$4(2),fields:[{node:Jx}]}]},4:{document:[{header:$4(4),fields:[{node:Qx}]}]}}},Wq=new z(w0,Gq,jq),x0={Adventurer:mz,ArchaicPetra:kz,Berserker:bz,BlizzardStrayer:Pz,BloodstainedChivalry:Sz,BraveHeart:Iz,CrimsonWitchOfFlames:Oz,DeepwoodMemories:Nz,DefendersWill:Wz,DesertPavilionChronicle:Vz,EchoesOfAnOffering:Xz,EmblemOfSeveredFate:eU,FlowerOfParadiseLost:lU,Gambler:cU,GildedDreams:kU,GladiatorsFinale:vU,GoldenTroupe:TU,HeartOfDepth:DU,HuskOfOpulentDreams:IU,Instructor:OU,Lavawalker:NU,LuckyDog:WU,MaidenBeloved:VU,MarechausseeHunter:XU,MartialArtist:tV,NighttimeWhispersInTheEchoingWoods:oV,NoblesseOblige:dV,NymphsDream:fV,OceanHuedClam:bV,PaleFlame:PV,PrayersForDestiny:SV,PrayersForIllumination:IV,PrayersForWisdom:OV,PrayersToSpringtime:NV,ResolutionOfSojourner:WV,RetracingBolide:VV,Scholar:QV,ShimenawasReminiscence:tq,SongOfDaysPast:oq,TenacityOfTheMillelith:dq,TheExile:gq,ThunderingFury:kq,Thundersoother:bq,TinyMiracle:wq,TravelingDoctor:Sq,VermillionHereafter:Rq,ViridescentVenerer:Oq,VourukashasGlow:Nq,WanderersTroupe:Wq};function Xx(t){return x0[t]}const Lq=Object.fromEntries(WL.map(t=>[t,[]]));cP.forEach(t=>{const o=Xx(t),w=Math.max(...o.rarity);Lq[w].push(t)});const Zye=wu(Object.values(x0).map(t=>t.data));function e4e(t){const o={};return cP.forEach(w=>{const D=Xx(w),K=Object.keys(D.setEffects).map($=>parseInt($)).filter($=>D.hasEnough($,t));K.length&&(o[w]=K)}),o}class I{constructor(o,w){this.isMelee=()=>{const D=this.sheet.weaponTypeKey;return D==="sword"||D==="polearm"||D==="claymore"},this.getTalentOfKey=D=>this.talent[D],this.sheet=o,this.data=w}get name(){return this.sheet.name}get rarity(){return this.sheet.rarity}get elementKey(){return this.sheet.elementKey}get weaponTypeKey(){return this.sheet.weaponTypeKey}get constellationName(){return this.sheet.constellationName}get isTraveler(){return"talents"in this.sheet}get talent(){return this.sheet.talent}}I.get=()=>null;I.getLevelString=(t,o)=>`${t}/${LL[o]}`;const y4={passive1:n(e.asc,1,1),passive2:n(e.asc,4,1),constellation1:n(e.constellation,1,1),constellation2:n(e.constellation,2,1),constellation3:n(e.constellation,3,1),constellation4:n(e.constellation,4,1),constellation5:n(e.constellation,5,1),constellation6:n(e.constellation,6,1)},B=(t,o)=>{const[w,D]=O("char",t),K=$=>$==="auto"?oz.weaponTypes[o]:zL(Uq(t),$,"F");return{chg:w,ch:D,talentTem:($,S)=>zq($,w,K($),S),headerTem:($,S)=>Vq($,w,K($),S),fieldsTem:($,S)=>qq($,S),condTem:($,S)=>Jq($,S,w,K($)),name:Ub(t,w)}},zq=(t,o,w,D)=>({name:o(`${t}.name`),img:w,sections:[...t!=="auto"?[{text:o(`${t}.description`)}]:[],...D||[]]}),Yx=(t,o,w)=>({title:o(`${t}.name`),icon:H(Wb,{size:2,src:w}),action:H(Lb,{color:"success",children:l(`talents.${t}`)}),description:o(`${t}.description`)});function Uq(t){return UL.includes(t)||VL.includes(t)?t.slice(0,-1):t}const Vq=(t,o,w,D)=>({...D,header:Yx(t,o,w),canShow:D0(t,D.canShow)}),qq=(t,o)=>({...o,canShow:D0(t,o.canShow)}),Jq=(t,o,w,D)=>({...o,header:{...Yx(t,w,D),...o.header},canShow:D0(t,o.canShow)});function D0(t,o){if(!y4[t])return o;let w,D;return["passive1","passive2"].includes(t)?(w=e.asc,D=+t.slice(-1)==1?1:4):(w=e.constellation,D=+t.slice(-1)),o?n(w,D,o||1):y4[t]}const Qq=_(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],t=>e.total[t]),Xq=qL(v(e.hit.move,{skill:e.charEle,burst:e.charEle},void 0),v(e.weaponType,{sword:P1,claymore:P1,polearm:P1,catalyst:e.charEle},void 0),"physical");function M_(t){switch(t){case"normal":case"charged":case"plunging_collision":case"plunging_impact":return"auto";case"skill":return"skill";case"burst":return"burst"}}function C(t,o,w={}){var D;return zb(e.hit.dmg,wu([{hit:{base:t,move:p(o),ele:(D=w==null?void 0:w.hit)!=null&&D.ele?void 0:Xq}},w]))}function Ng(t,o){const w=m(t,P(Js,e.total.shield_));return o?zb(w,o):w}function jn(t,o){const w=e.total.healInc,D=m(P(t,w),P(Js,e.total.heal_,e.total.incHeal_));return o?zb(D,o):D}function c(t,o,w,D={},K){const $=M_(w);return C(m(u(e.total[`${$}Index`],o,{unit:"%"}),e.total[t],...K?[a(K,{unit:"%"})]:[]),w,D)}function Wi(t,o,w,D={},K){const $=M_(w);return C(P(...t.map((S,x)=>m(u(e.total[`${$}Index`],o[x],{unit:"%"}),e.total[S],...K?[a(K,{unit:"%"})]:[]))),w,D)}const Yq=["dmg","low","high"];function R(t,o,w={},D){const K=Object.fromEntries(Object.entries(o).map(([$,S])=>[$,c(t,S,$==="dmg"?"plunging_collision":"plunging_impact",w,D)]));return JL(K,Yq),K}function jg(t,o,w,D){return Ng(P(m(o,e.total[t]),w),D)}function Es(t,o,w,D){return jn(P(m(o,e.total[t]),w),D)}function bs(t,o,w,D,K,$){const S=M_(D),x=e.total[`${S}Index`];return Ng(P(m(u(x,o,{unit:"%"}),e.total[t],...$?[$]:[]),u(x,w)),K)}function Vn(t,o){return a(m(d(t==="geo"?1.5:2.5),o),{variant:t})}function an(t,o,w,D,K,$){const S=M_(D),x=e.total[`${S}Index`];return jn(P(m(u(x,o,{unit:"%"}),e.total[t],...$?[$]:[]),m(u(x,w),...$?[$]:[])),K)}function A(t,o,w,D,K,$={}){function S(N,T){return m(N,u(e.lvl,g.char.expCurve[T]))}K.basic={...Qq};const x={charKey:p(t),base:{},weaponType:p(D.weaponType),premod:{},display:K};o&&(x.charEle=p(o),x.teamBuff={tally:{[o]:p(1)}},x.display.basic[`${o}_dmg_`]=e.total[`${o}_dmg_`],x.display.reaction=QL[o]),w&&By(x,["teamBuff","tally",w],p(1)),By(x,["teamBuff","tally","maxEleMas"],e.premod.eleMas),D.weaponType!=="catalyst"&&(x.display.basic||(x.display.basic={}),x.display.basic.physical_dmg_=e.total.physical_dmg_);let pe;for(const N of[...XL,"def"]){const T=[],qn=D.lvlCurves.find(Qn=>Qn.key===N);qn&&T.push(S(qn.base,qn.curve));const Jn=D.ascensionBonus[N];if(Jn&&T.push(u(e.asc,Jn)),!T.length)continue;const Gn=a(T.length===1?T[0]:P(...T),{path:N,prefix:"char",asConst:!0});if(N.endsWith("_dmg_")&&(Gn.info.variant=N.slice(0,-5)),N==="atk"||N==="def"||N==="hp")x.base[N]=Gn;else{if(pe)throw new Error("Duplicated Char Special");pe=!0,x.special=Gn,x.premod[N]=e.special}}return wu([x,r_($)])}const Vi="Albedo",Zx="geo",bk=g.char.data[Vi],os=g.char.skillParam[Vi],ft=B(Vi,bk.weaponType);let Po=0,xp=0,Dp=0;const Cn={normal:{hitArr:[os.auto[Po++],os.auto[Po++],os.auto[Po++],os.auto[Po++],os.auto[Po++]]},charged:{dmg1:os.auto[Po++],dmg2:os.auto[Po++],stamina:os.auto[Po++][0]},plunging:{dmg:os.auto[Po++],low:os.auto[Po++],high:os.auto[Po++]},skill:{skillDmg:os.skill[xp++],blossomDmg:os.skill[xp++],duration:os.skill[xp++][0],cd:os.skill[xp++][0],blossomCd:2},burst:{burstDmg:os.burst[Dp++],blossomDmg:os.burst[Dp++],blossomAmt:7,cd:os.burst[Dp++][0],enerCost:os.burst[Dp++][0]},passive1:{blossomDmgInc:.25,hpThresh:50},passive2:{eleMasInc:os.passive2[0][0],duration:os.passive2[1][0]},constellation1:{blossomEner:os.constellation1[0]},constellation2:{blossomDmgInc:.3,maxStacks:4,stackDuration:30},constellation4:{plunging_dmg_:.3},constellation6:{bonus_dmg_:.17}},[Zq,eD]=r(Vi,"burstUsed"),tD=i(eD,"burstUsed",n(e.asc,4,Cn.passive2.eleMasInc)),[eJ,aD]=r(Vi,"p1EnemyHp"),nD=n(e.asc,1,i(aD,"belowHp",Cn.passive1.blossomDmgInc)),[tJ,sD]=r(Vi,"c2Stacks"),lD=n(e.constellation,2,m(v(sD,Object.fromEntries(b(1,Cn.constellation2.maxStacks).map(t=>[t,m(t,Cn.constellation2.blossomDmgInc)])),y),e.total.def)),[aJ,$k]=r(Vi,"skillInField"),oD=n(e.constellation,4,i($k,"skillInField",Cn.constellation4.plunging_dmg_)),nJ=i(e.activeCharKey,E.charKey,oD),[sJ,iD]=r(Vi,"c6Crystallize"),cD=n(e.constellation,6,i($k,"skillInField",i(iD,"c6Crystallize",Cn.constellation6.bonus_dmg_))),lJ=i(e.activeCharKey,E.charKey,cD),Vo={normal:Object.fromEntries(Cn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Cn.charged.dmg1,"charged"),dmg2:c("atk",Cn.charged.dmg2,"charged")},plunging:R("atk",Cn.plunging),skill:{dmg:c("atk",Cn.skill.skillDmg,"skill"),blossom:c("def",Cn.skill.blossomDmg,"skill",{total:{skill_dmg_:nD}})},burst:{dmg:c("atk",Cn.burst.burstDmg,"burst"),blossom:c("atk",Cn.burst.blossomDmg,"burst")}},rD=n(e.constellation,3,3),dD=n(e.constellation,5,3),oJ=A(Vi,Zx,"mondstadt",bk,Vo,{teamBuff:{premod:{eleMas:tD,plunging_dmg_:nJ,all_dmg_:lJ}},premod:{skillBoost:rD,burstBoost:dD,burst_dmgInc:lD}}),iJ={key:Vi,name:ft.name,rarity:bk.rarity,elementKey:Zx,weaponTypeKey:bk.weaponType,gender:"M",constellationName:ft.chg("constellationName"),title:ft.chg("title"),talent:{auto:ft.talentTem("auto",[{text:ft.chg("auto.fields.normal")},{fields:Cn.normal.hitArr.map((t,o)=>({node:a(Vo.normal[o],{name:ft.chg(`auto.skillParams.${o}`)})}))},{text:ft.chg("auto.fields.charged")},{fields:[{node:a(Vo.charged.dmg1,{name:ft.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(Vo.charged.dmg2,{name:ft.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:ft.chg("auto.skillParams.6"),value:Cn.charged.stamina}]},{text:ft.chg("auto.fields.plunging")},{fields:[{node:a(Vo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Vo.plunging.low,{name:s("plunging.low")})},{node:a(Vo.plunging.high,{name:s("plunging.high")})}]}]),skill:ft.talentTem("skill",[{fields:[{node:a(Vo.skill.dmg,{name:ft.chg("skill.skillParams.0")})},{node:a(Vo.skill.blossom,{name:ft.chg("skill.skillParams.1")})},{text:ft.ch("blossomCD"),value:Cn.skill.blossomCd,unit:"s"},{text:ft.chg("skill.skillParams.2"),value:Cn.skill.duration,unit:"s"},{text:s("cd"),value:Cn.skill.cd,unit:"s"}]},ft.condTem("passive1",{value:aD,path:eJ,name:l("enemyLessPercentHP",{percent:Cn.passive1.hpThresh}),states:{belowHp:{fields:[{node:a(nD,{name:ft.ch("blossomDmg_"),unit:"%"})}]}}}),ft.headerTem("constellation1",{fields:[{text:ft.ch("enerPerBlossom"),value:Cn.constellation1.blossomEner,fixed:1}]}),ft.condTem("constellation4",{value:$k,path:aJ,name:l("activeCharField"),teamBuff:!0,states:{skillInField:{fields:[{node:a(oD,{path:"plunging_dmg_"})}]}}}),ft.condTem("constellation6",{value:iD,path:sJ,name:l("protectedByShieldCrystal"),canShow:i($k,"skillInField",1),teamBuff:!0,states:{c6Crystallize:{fields:[{node:a(cD,{path:"all_dmg_"})}]}}})]),burst:ft.talentTem("burst",[{fields:[{node:a(Vo.burst.dmg,{name:ft.chg("burst.skillParams.0")})},{node:a(Vo.burst.blossom,{name:ft.chg("burst.skillParams.1"),multi:Cn.burst.blossomAmt})},{text:s("cd"),value:Cn.burst.cd,unit:"s"},{text:s("energyCost"),value:Cn.burst.enerCost}]},ft.condTem("passive2",{value:eD,path:Zq,name:l("afterUse.burst"),teamBuff:!0,states:{burstUsed:{fields:[{node:tD},{text:s("duration"),value:Cn.passive2.duration,unit:"s"}]}}}),ft.condTem("constellation2",{value:sD,path:tJ,name:ft.ch("c2Stacks"),states:Object.fromEntries(b(1,Cn.constellation2.maxStacks).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:lD}]}]))})]),passive1:ft.talentTem("passive1"),passive2:ft.talentTem("passive2"),passive3:ft.talentTem("passive3"),constellation1:ft.talentTem("constellation1"),constellation2:ft.talentTem("constellation2"),constellation3:ft.talentTem("constellation3",[{fields:[{node:rD}]}]),constellation4:ft.talentTem("constellation4"),constellation5:ft.talentTem("constellation5",[{fields:[{node:dD}]}]),constellation6:ft.talentTem("constellation6")}},cJ=new I(iJ,oJ),qi="Alhaitham",yk="dendro",Tk=g.char.data[qi],je=g.char.skillParam[qi],nt=B(qi,Tk.weaponType);let di=-1,cd=-1,er=-1;const gn={normal:{hitArr:[je.auto[++di],je.auto[++di],je.auto[++di],je.auto[di+=2],je.auto[++di]]},charged:{dmg:je.auto[++di],stamina:je.auto[di+=2][0]},plunging:{dmg:je.auto[++di],low:je.auto[++di],high:je.auto[++di]},skill:{rushDmgAtk:je.skill[++cd],rushDmgEm:je.skill[++cd],atkInterval:je.skill[++cd][0],mirrorDmgAtk:je.skill[++cd],mirrorDmgEm:je.skill[++cd],mirrorRemovalInterval:je.skill[cd+=5][0],cd:je.skill[++cd][0]},burst:{instanceDmgAtk:je.burst[++er],instanceDmgEm:je.burst[++er],attackInstances:[je.burst[++er][0],je.burst[++er][0],je.burst[++er][0],je.burst[++er][0]],cd:je.burst[++er][0],enerCost:je.burst[++er][0]},passive1:{cd:je.passive1[0][0]},passive2:{dmgInc:je.passive2[0][0],maxDmgInc:je.passive2[1][0]},constellation1:{cdReduction:je.constellation1[0],cd:je.constellation1[1]},constellation2:{eleMas:je.constellation2[0],duration:je.constellation2[1],numStacks:je.constellation2[2]},constellation4:{eleMas:je.constellation4[0],eleMasDuration:je.constellation4[1],dendro_dmg_:je.constellation4[2],dendroDuration:je.constellation4[3]},constellation6:{critRate_:je.constellation6[0],critDMG_:je.constellation6[1],duration:je.constellation6[2]}},Pk=n(e.asc,4,da(m(d(gn.passive2.dmgInc),e.total.eleMas),d(gn.passive2.maxDmgInc))),Tv={...Pk},[rJ,mD]=r(qi,"withMirrors"),dJ=ss(mD,"on",p(yk)),uD=b(1,gn.constellation2.numStacks),[mJ,gD]=r(qi,"debateStacks"),hD=n(e.constellation,2,v(gD,_(uD,t=>m(t,gn.constellation2.eleMas)),y)),S0=b(0,3),[uJ,wk]=r(qi,"mirrorsConsumed"),pD=a(n(e.constellation,4,v(wk,_(S0,t=>m(t,gn.constellation4.eleMas)),y)),{path:"eleMas",isTeamBuff:!0}),gJ=M(e.activeCharKey,qi,pD),kD=n(e.constellation,4,Qs(e.constellation,6,M(wk,void 0,m(3,d(gn.constellation4.dendro_dmg_))),v(wk,_(S0,t=>m(3-t,d(gn.constellation4.dendro_dmg_))),y))),[hJ,C0]=r(qi,"excessMirror"),fD=n(e.constellation,6,i(C0,"on",gn.constellation6.critRate_)),_D=n(e.constellation,6,i(C0,"on",gn.constellation6.critDMG_)),Bc={normal:Object.fromEntries(gn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",gn.charged.dmg,"charged")},plunging:R("atk",gn.plunging),skill:{rushDmg:Wi(["atk","eleMas"],[gn.skill.rushDmgAtk,gn.skill.rushDmgEm],"skill"),mirrorDmg1:Wi(["atk","eleMas"],[gn.skill.mirrorDmgAtk,gn.skill.mirrorDmgEm],"skill",{premod:{skill_dmg_:Pk}})},burst:{instanceDmg:Wi(["atk","eleMas"],[gn.burst.instanceDmgAtk,gn.burst.instanceDmgEm],"burst",{premod:{burst_dmg_:Tv}})},passive2:{a4SkillDmgBonus:Pk,a4BurstDmgBonus:Tv}},vD=n(e.constellation,3,3),bD=n(e.constellation,5,3),pJ=A(qi,yk,"sumeru",Tk,Bc,{teamBuff:{premod:{eleMas:gJ}},premod:{skillBoost:vD,burstBoost:bD,dendro_dmg_:kD,eleMas:hD,critRate_:fD,critDMG_:_D},infusion:{nonOverridableSelf:dJ}}),kJ={key:qi,name:nt.name,rarity:Tk.rarity,elementKey:yk,weaponTypeKey:Tk.weaponType,gender:"M",constellationName:nt.chg("constellationName"),title:nt.chg("title"),talent:{auto:nt.talentTem("auto",[{text:nt.chg("auto.fields.normal")},{fields:gn.normal.hitArr.map((t,o)=>({node:a(Bc.normal[o],{name:nt.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:nt.chg("auto.fields.charged")},{fields:[{node:a(Bc.charged.dmg,{name:nt.chg("auto.skillParams.5"),multi:2})},{text:nt.chg("auto.skillParams.6"),value:gn.charged.stamina}]},{text:nt.chg("auto.fields.plunging")},{fields:[{node:a(Bc.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Bc.plunging.low,{name:s("plunging.low")})},{node:a(Bc.plunging.high,{name:s("plunging.high")})}]}]),skill:nt.talentTem("skill",[{fields:[{node:a(Bc.skill.rushDmg,{name:nt.chg("skill.skillParams.0")})},{text:nt.chg("skill.skillParams.1"),value:gn.skill.atkInterval,unit:"s",fixed:1},{node:a(Bc.skill.mirrorDmg1,{name:nt.ch("projectionDmg")})},{text:nt.chg("skill.skillParams.5"),value:gn.skill.mirrorRemovalInterval,unit:"s"},{text:s("cd"),value:gn.skill.cd,unit:"s"}]},nt.condTem("skill",{path:rJ,value:mD,name:nt.ch("withMirrors"),states:{on:{fields:[{text:l("infusion.dendro"),variant:yk}]}}}),nt.headerTem("passive2",{fields:[{node:a(Pk,{name:nt.ch("projectionAttack_dmg_"),unit:"%"})}]})]),burst:nt.talentTem("burst",[{fields:[{node:a(Bc.burst.instanceDmg,{name:nt.chg("burst.skillParams.0")})},...gn.burst.attackInstances.map((t,o)=>({text:nt.chg(`burst.skillParams.${o+1}`),value:t})),{text:s("cd"),value:gn.burst.cd,unit:"s"},{text:s("energyCost"),value:gn.burst.enerCost}]},nt.headerTem("passive2",{fields:[{node:a(Tv,{path:"burst_dmg_"})}]}),nt.condTem("constellation4",{path:uJ,value:wk,teamBuff:!0,name:nt.ch("mirrorsConsumed"),states:_(S0,t=>({name:`${t}`,fields:[{node:pD},{node:kD},{text:s("duration"),value:gn.constellation4.eleMasDuration,unit:"s"}]}))})]),passive1:nt.talentTem("passive1"),passive2:nt.talentTem("passive2"),passive3:nt.talentTem("passive3"),constellation1:nt.talentTem("constellation1"),constellation2:nt.talentTem("constellation2",[nt.condTem("constellation2",{path:mJ,value:gD,name:nt.ch("debateStacks"),teamBuff:!0,states:_(uD,t=>({name:l("stack",{count:t}),fields:[{node:hD}]}))})]),constellation3:nt.talentTem("constellation3",[{fields:[{node:vD}]}]),constellation4:nt.talentTem("constellation4"),constellation5:nt.talentTem("constellation5",[{fields:[{node:bD}]}]),constellation6:nt.talentTem("constellation6",[nt.condTem("constellation6",{path:hJ,value:C0,name:nt.ch("excessMirror"),states:{on:{fields:[{node:fD},{node:_D},{text:s("duration"),value:gn.constellation6.duration,unit:"s"}]}}})])}},fJ=new I(kJ,pJ),Ji="Aloy",B0="cryo",xk=g.char.data[Ji],Pn=g.char.skillParam[Ji],st=B(Ji,xk.weaponType);let mi=0,ui=0,E1=0,T4=0,_J=0;const hs={normal:{hitArr:[Pn.auto[mi++],Pn.auto[mi++],Pn.auto[mi++],Pn.auto[mi++],Pn.auto[mi++]]},charged:{aimed:Pn.auto[mi++],aimedCharged:Pn.auto[mi++]},plunging:{dmg:Pn.auto[mi++],low:Pn.auto[mi++],high:Pn.auto[mi++]},skill:{freezeBombDmg:Pn.skill[ui++],chillWaterBomblets:Pn.skill[ui++],atkDecrease:Pn.skill[ui++],atkDecreaseDuration:Pn.skill[ui++][0],coilNormalDmgBonus1:Pn.skill[ui++],coilNormalDmgBonus2:Pn.skill[ui++],coilNormalDmgBonus3:Pn.skill[ui++],rushingNormalDmgBonus:Pn.skill[ui++],rushingDuration:Pn.skill[ui++][0],cd:Pn.skill[ui++][0]},burst:{dmg:Pn.burst[E1++],cd:Pn.burst[E1++][0],enerCost:Pn.burst[E1++][0]},passive1:{atkInc:.16,teamAtkInc:Pn.passive1[T4++][0],duration:Pn.passive1[T4++][0]},passive2:{cryoDmgBonus:Pn.passive2[_J++][0]}},[vJ,Dk]=r(Ji,"coil"),Pv=v(Dk,{coil1:u(e.total.skillIndex,hs.skill.coilNormalDmgBonus1,{unit:"%"}),coil2:u(e.total.skillIndex,hs.skill.coilNormalDmgBonus2,{unit:"%"}),coil3:u(e.total.skillIndex,hs.skill.coilNormalDmgBonus3,{unit:"%"}),rush:u(e.total.skillIndex,hs.skill.rushingNormalDmgBonus,{unit:"%"})},y),[bJ,A0]=r(Ji,"A1"),$D=n(e.asc,1,i(A0,"on",i(e.activeCharKey,Ji,d(hs.passive1.atkInc)))),yD=n(e.asc,1,i(A0,"on",M(e.activeCharKey,Ji,d(hs.passive1.teamAtkInc)))),[$J,TD]=r(Ji,"A4"),PD=n(e.asc,4,v(TD,Object.fromEntries(b(1,10).map(t=>[t,d(hs.passive2.cryoDmgBonus*t)])),y)),Ri={normal:Object.fromEntries(hs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal",{hit:{ele:Qs("rush",Dk,B0,"physical")}})])),charged:{aimed:c("atk",hs.charged.aimed,"charged"),aimedCharged:c("atk",hs.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}})},plunging:R("atk",hs.plunging),skill:{freezeBombDmg:c("atk",hs.skill.freezeBombDmg,"skill"),chillWaterBomblets:c("atk",hs.skill.chillWaterBomblets,"skill")},burst:{dmg:c("atk",hs.burst.dmg,"burst")}},yJ=A(Ji,B0,void 0,xk,Ri,{premod:{normal_dmg_:Pv,atk_:$D,cryo_dmg_:PD},teamBuff:{premod:{atk_:yD}}}),TJ={key:Ji,name:st.name,rarity:xk.rarity,elementKey:B0,weaponTypeKey:xk.weaponType,gender:"F",constellationName:st.chg("constellationName"),title:st.chg("title"),talent:{auto:st.talentTem("auto",[{text:st.chg("auto.fields.normal")},{fields:hs.normal.hitArr.map((t,o)=>({node:a(Ri.normal[o],{name:st.chg(`auto.skillParams.${o+(o===0?0:-1)}`),textSuffix:o===0?"(1)":o===1?"(2)":""})}))},{text:st.chg("auto.fields.charged")},{fields:[{node:a(Ri.charged.aimed,{name:st.chg("auto.skillParams.4")})},{node:a(Ri.charged.aimedCharged,{name:st.chg("auto.skillParams.5")})}]},{text:st.chg("auto.fields.plunging")},{fields:[{node:a(Ri.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ri.plunging.low,{name:s("plunging.low")})},{node:a(Ri.plunging.high,{name:s("plunging.high")})}]}]),skill:st.talentTem("skill",[{fields:[{node:a(Ri.skill.freezeBombDmg,{name:st.chg("skill.skillParams.0")})},{node:a(Ri.skill.chillWaterBomblets,{name:st.chg("skill.skillParams.1")})},{node:a(u(e.total.skillIndex,hs.skill.atkDecrease),{name:st.chg("skill.skillParams.2"),unit:"%"})},{text:st.chg("skill.skillParams.3"),value:`${hs.skill.atkDecreaseDuration}`,unit:"s"},{text:st.chg("skill.skillParams.7"),value:`${hs.skill.cd}`,unit:"s"}]},st.condTem("skill",{value:Dk,path:vJ,name:st.ch("skill.coil"),states:{...Object.fromEntries(b(1,3).map(t=>[`coil${t}`,{name:l("stack",{count:t}),fields:[{node:Pv}]}])),rush:{name:st.ch("skill.rush"),fields:[{node:Pv},{text:st.ch("normCryoInfus")},{text:st.chg("skill.skillParams.6"),value:hs.skill.rushingDuration,unit:"s"}]}}})]),burst:st.talentTem("burst",[{fields:[{node:a(Ri.burst.dmg,{name:st.chg("burst.skillParams.0")})},{text:st.chg("burst.skillParams.1"),value:hs.burst.cd,unit:"s"},{text:st.chg("burst.skillParams.2"),value:hs.burst.enerCost}]}]),passive1:st.talentTem("passive1",[st.condTem("passive1",{value:A0,path:bJ,teamBuff:!0,name:st.ch("a1CondName"),states:{on:{fields:[{node:a(yD,{path:"atk_"})},{node:a($D,{path:"atk_"})},{text:s("duration"),value:hs.passive1.duration,unit:"s"}]}}})]),passive2:st.talentTem("passive2",[st.condTem("passive2",{value:TD,path:$J,canShow:i("rush",Dk,1),name:st.ch("skill.rushState"),states:Object.fromEntries(b(1,10).map(t=>[t,{name:l("seconds",{count:t}),fields:[{node:PD}]}]))})]),passive3:st.talentTem("passive3"),constellation1:st.talentTem("constellation1"),constellation2:st.talentTem("constellation2"),constellation3:st.talentTem("constellation3"),constellation4:st.talentTem("constellation4"),constellation5:st.talentTem("constellation5"),constellation6:st.talentTem("constellation6")}},PJ=new I(TJ,yJ),fm="Amber",wD="pyro",wJ="mondstadt",Sk=g.char.data[fm],nn=g.char.skillParam[fm],Te=B(fm,Sk.weaponType);let gi=0,Sp=0,sg=0,P4=0,w4=0;const Za={normal:{hitArr:[nn.auto[gi++],nn.auto[gi++],nn.auto[gi++],nn.auto[gi++],nn.auto[gi++]]},charged:{aimed:nn.auto[gi++],aimedCharged:nn.auto[gi++]},plunging:{dmg:nn.auto[gi++],low:nn.auto[gi++],high:nn.auto[gi++]},skill:{inheritedHp:nn.skill[Sp++],dmg:nn.skill[Sp++],unknown:nn.skill[Sp++],cd:nn.skill[Sp++][0]},burst:{dmgPerWave:nn.burst[sg++],cd:nn.burst[sg++][0],enerCost:nn.burst[sg++][0],rainDmg:nn.burst[sg++],duration:nn.burst[sg++][0]},passive1:{critRateInc:nn.passive1[P4++][0],aoeInc:nn.passive1[P4++][0]},passive2:{atkInc:nn.passive2[w4++][0],duration:nn.passive2[w4++][0]},constellation1:{secArrowDmg:nn.constellation1[0]},constellation2:{manualDetionationDmg:nn.constellation2[0]},constellation6:{moveSpdInc:nn.constellation6[0],atkInc:nn.constellation6[1],duration:nn.constellation6[2]}},xD=n(e.asc,1,d(Za.passive1.critRateInc)),[xJ,DD]=r(fm,"A4"),SD=n(e.asc,4,i("on",DD,d(Za.passive2.atkInc))),[DJ,I0]=r(fm,"C6"),CD=n(e.constellation,6,i("on",I0,d(Za.constellation6.moveSpdInc))),BD=n(e.constellation,6,i("on",I0,d(Za.constellation6.atkInc))),bl={normal:Object.fromEntries(Za.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",Za.charged.aimed,"charged"),aimedCharged:c("atk",Za.charged.aimedCharged,"charged",{hit:{ele:p("pyro")}})},plunging:R("atk",Za.plunging),skill:{inheritedHp:m(u(e.total.skillIndex,Za.skill.inheritedHp),e.total.hp),dmg:c("atk",Za.skill.dmg,"skill")},burst:{rainDmg:c("atk",Za.burst.rainDmg,"burst"),dmgPerWave:c("atk",Za.burst.dmgPerWave,"burst")},constellation1:{secondAimed:n(e.constellation,1,m(d(Za.constellation1.secArrowDmg),c("atk",Za.charged.aimed,"charged"))),secondAimedCharged:n(e.constellation,1,m(c("atk",Za.charged.aimedCharged,"charged",{hit:{ele:p("pyro")}}),d(Za.constellation1.secArrowDmg)))},constellation2:{manualDetonationDmg:n(e.constellation,2,c("atk",Za.skill.dmg,"skill",{premod:{skill_dmg_:d(Za.constellation2.manualDetionationDmg)}}))}},AD=n(e.constellation,3,3),ID=n(e.constellation,5,3),SJ=A(fm,wD,wJ,Sk,bl,{premod:{skillBoost:ID,burstBoost:AD,atk_:SD,burst_critRate_:xD},teamBuff:{premod:{moveSPD_:CD,atk_:BD}}}),CJ={key:fm,name:Te.name,rarity:Sk.rarity,elementKey:wD,weaponTypeKey:Sk.weaponType,gender:"F",constellationName:Te.chg("constellationName"),title:Te.chg("title"),talent:{auto:Te.talentTem("auto",[{text:Te.chg("auto.fields.normal")},{fields:Za.normal.hitArr.map((t,o)=>({node:a(bl.normal[o],{name:Te.chg(`auto.skillParams.${o}`)})}))},{text:Te.chg("auto.fields.charged")},{fields:[{node:a(bl.charged.aimed,{name:Te.chg("auto.skillParams.5")})},{node:a(bl.charged.aimedCharged,{name:Te.chg("auto.skillParams.6")})}]},Te.headerTem("constellation1",{fields:[{node:a(bl.constellation1.secondAimed,{name:Te.chg("auto.skillParams.5"),textSuffix:Te.ch("secondArrow")})},{node:a(bl.constellation1.secondAimedCharged,{name:Te.chg("auto.skillParams.6"),textSuffix:Te.ch("secondArrow")})}]}),{text:Te.chg("auto.fields.plunging")},{fields:[{node:a(bl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(bl.plunging.low,{name:s("plunging.low")})},{node:a(bl.plunging.high,{name:s("plunging.high")})}]}]),skill:Te.talentTem("skill",[{fields:[{node:a(bl.skill.inheritedHp,{name:Te.chg("skill.skillParams.0"),variant:"heal"})},{node:a(bl.skill.dmg,{name:Te.chg("skill.skillParams.1")})},{node:a(bl.constellation2.manualDetonationDmg,{name:Te.ch("manualDetonationDmg")})},{text:Te.chg("skill.skillParams.2"),value:t=>t.get(e.constellation).value>=4?Za.skill.cd-Za.skill.cd*.2:Za.skill.cd,unit:"s"},{canShow:t=>t.get(e.constellation).value>=4,text:l("charges"),value:2}]}]),burst:Te.talentTem("burst",[{fields:[{node:a(bl.burst.dmgPerWave,{name:Te.chg("burst.skillParams.0")})},{node:a(bl.burst.rainDmg,{name:Te.chg("burst.skillParams.1")})},{text:Te.chg("burst.skillParams.2"),value:Za.burst.duration,unit:"s"},{text:Te.chg("burst.skillParams.3"),value:Za.burst.cd,unit:"s"},{text:Te.chg("burst.skillParams.4"),value:`${Za.burst.enerCost}`}]},Te.condTem("constellation6",{value:I0,path:DJ,name:Te.ch("c6CondName"),teamBuff:!0,states:{on:{fields:[{node:BD},{node:CD},{text:s("duration"),value:Za.passive2.duration,unit:"s"}]}}})]),passive1:Te.talentTem("passive1",[Te.fieldsTem("passive1",{fields:[{text:Te.ch("critRateBonus"),value:Za.passive1.critRateInc*100,unit:"%"},{text:Te.ch("aoeRangeBonus"),value:Za.passive1.aoeInc*100,unit:"%"},{node:xD}]})]),passive2:Te.talentTem("passive2",[Te.condTem("passive2",{value:DD,path:xJ,name:l("hitOp.weakSpot"),states:{on:{fields:[{node:SD},{text:s("duration"),value:Za.passive2.duration,unit:"s"}]}}})]),passive3:Te.talentTem("passive3"),constellation1:Te.talentTem("constellation1"),constellation2:Te.talentTem("constellation2"),constellation3:Te.talentTem("constellation3",[{fields:[{node:AD}]}]),constellation4:Te.talentTem("constellation4",[Te.fieldsTem("constellation4",{fields:[{text:l("addlCharges"),value:1}]})]),constellation5:Te.talentTem("constellation5",[{fields:[{node:ID}]}]),constellation6:Te.talentTem("constellation6")}},BJ=new I(CJ,SJ),Nr="AratakiItto",AJ="geo",Ck=g.char.data[Nr],ma=g.char.skillParam[Nr],ke=B(Nr,Ck.weaponType),La={normal:{hitArr:[ma.auto[0],ma.auto[1],ma.auto[2],ma.auto[3]]},charged:{sSlash:ma.auto[4],akSlash:ma.auto[5],akFinal:ma.auto[6],stam:ma.auto[7][0]},plunging:{dmg:ma.auto[8],low:ma.auto[9],high:ma.auto[10]},ss:{duration:ma.auto[11][0]},skill:{dmg:ma.skill[0],hp:ma.skill[1],duration:ma.skill[2][0],ss_cd:ma.skill[3][0],cd:ma.skill[4][0]},burst:{atkSpd:ma.burst[0][0],defConv:ma.burst[1],resDec:ma.burst[2][0],duration:ma.burst[3][0],cd:ma.burst[4][0],cost:ma.burst[5][0]},passive1:{maxStacks:3,atkSPD_:.1},passive2:{def_:ma.passive2[0][0]},constellation1:{initialStacks:ma.constellation1[0],timedStacks:ma.constellation1[1]},constellation2:{burstCdRed:ma.constellation2[0],energyRegen:ma.constellation2[1]},constellation4:{def_:ma.constellation4[0],atk_:ma.constellation4[1],duration:ma.constellation4[2]},constellation6:{charged_critDMG_:ma.constellation6[0]}},[IJ,Ad]=r(Nr,"burst"),[RJ,RD]=r(Nr,"passive1"),[HJ,R0]=r(Nr,"constellation4"),EJ=m(u(e.total.skillIndex,La.skill.hp,{path:"hp_"}),e.total.hp),H0=i(Ad,"on",m(u(e.total.burstIndex,La.burst.defConv,{path:"def_"}),e.total.def)),HD=i(Ad,"on",La.burst.atkSpd,{path:"atkSPD_"}),ED=Object.fromEntries(Gc.map(t=>[`${t}_res_`,i(Ad,"on",-La.burst.resDec)])),OJ=ss(Ad,"on","geo"),wv=n(e.asc,4,m(d(La.passive2.def_),e.premod.def)),OD=n(e.asc,4,v(RD,Object.fromEntries(b(1,La.passive1.maxStacks).map(t=>[t,p(La.passive1.atkSPD_*t)])),0,{path:"atkSPD_"})),MJ=m(da(j.geo,3),La.constellation2.burstCdRed),KJ=m(da(j.geo,3),La.constellation2.energyRegen),MD=i(R0,"on",n(e.constellation,4,La.constellation4.atk_)),KD=i(R0,"on",n(e.constellation,4,La.constellation4.def_)),xv=n(e.constellation,6,La.constellation6.charged_critDMG_),Hi={normal:Object.fromEntries(La.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{sSlash:c("atk",La.charged.sSlash,"charged"),akSlash:c("atk",La.charged.akSlash,"charged",{premod:{charged_dmgInc:wv}}),akFinal:c("atk",La.charged.akFinal,"charged",{premod:{charged_dmgInc:wv}})},plunging:R("atk",La.plunging),skill:{dmg:c("atk",La.skill.dmg,"skill"),hp:EJ},burst:{defConv:H0}},FD=n(e.constellation,3,3),ND=n(e.constellation,5,3),FJ=A(Nr,AJ,"inazuma",Ck,Hi,{teamBuff:{premod:{atk_:MD,def_:KD}},premod:{skillBoost:FD,burstBoost:ND,charged_critDMG_:xv,atk:H0,atkSPD_:P(HD,OD),...ED},infusion:{nonOverridableSelf:OJ}}),NJ={key:Nr,name:ke.name,rarity:Ck.rarity,elementKey:"geo",weaponTypeKey:Ck.weaponType,gender:"M",constellationName:ke.chg("constellationName"),title:ke.chg("title"),talent:{auto:ke.talentTem("auto",[{text:ke.chg("auto.fields.normal")},{fields:La.normal.hitArr.map((t,o)=>({node:a(Hi.normal[o],{name:ke.chg(`auto.skillParams.${o}`)})}))},{text:ke.chg("auto.fields.charged")},{fields:[{node:a(Hi.charged.akSlash,{name:ke.chg("auto.skillParams.4")})},{node:a(Hi.charged.akFinal,{name:ke.chg("auto.skillParams.5")})},{text:ke.chg("auto.skillParams.6"),value:La.ss.duration,unit:"s"},{node:a(Hi.charged.sSlash,{name:ke.chg("auto.skillParams.7")})},{text:ke.chg("auto.skillParams.8"),value:La.charged.stam}]},ke.condTem("passive1",{name:ke.ch("a1.name"),value:RD,path:RJ,states:Object.fromEntries(b(1,La.passive1.maxStacks).map(t=>[t,{name:l("stack_one",{count:t}),fields:[{node:OD}]}]))}),ke.headerTem("passive2",{fields:[{node:a(wv,{name:ke.ch("a4:dmgInc")})}]}),ke.headerTem("constellation6",{fields:[{node:xv}]}),{text:ke.chg("auto.fields.plunging")},{fields:[{node:a(Hi.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Hi.plunging.low,{name:s("plunging.low")})},{node:a(Hi.plunging.high,{name:s("plunging.high")})}]}]),skill:ke.talentTem("skill",[{fields:[{node:a(Hi.skill.dmg,{name:ke.chg("skill.skillParams.0")})},{node:a(Hi.skill.hp,{name:ke.chg("skill.skillParams.1"),variant:"heal"})},{text:ke.chg("skill.skillParams.2"),value:La.skill.duration,unit:"s"},{text:ke.chg("skill.skillParams.3"),value:La.skill.cd,unit:"s"}]}]),burst:ke.talentTem("burst",[{fields:[{text:ke.chg("burst.skillParams.3"),value:La.burst.cd,unit:"s"},{text:ke.chg("burst.skillParams.4"),value:La.burst.cost}]},ke.condTem("burst",{name:l("afterUse.burst"),value:Ad,path:IJ,states:{on:{fields:[{text:l("infusion.geo"),variant:"geo"},{node:HD},...Object.values(ED).map(t=>({node:t})),{node:H0},{text:ke.chg("burst.skillParams.2"),value:La.burst.duration,unit:"s"}]}}}),ke.headerTem("constellation1",{fields:[{text:ke.ch("c1.initialGain"),value:La.constellation1.initialStacks},{text:ke.ch("c1.timedGain"),value:La.constellation1.timedStacks}],canShow:i(Ad,"on",1)}),ke.headerTem("constellation2",{fields:[{text:l("burstCDRed"),value:t=>t.get(MJ).value,unit:"s",fixed:1},{text:s("energyRegen"),value:t=>t.get(KJ).value}],canShow:i(Ad,"on",1)}),ke.condTem("constellation4",{name:ke.ch("c4.name"),teamBuff:!0,value:R0,path:HJ,states:{on:{fields:[{node:MD},{node:KD},{text:s("duration"),value:La.constellation4.duration,unit:"s"}]}}})]),passive1:ke.talentTem("passive1"),passive2:ke.talentTem("passive2"),passive3:ke.talentTem("passive3"),constellation1:ke.talentTem("constellation1"),constellation2:ke.talentTem("constellation2"),constellation3:ke.talentTem("constellation3",[{fields:[{node:FD}]}]),constellation4:ke.talentTem("constellation4"),constellation5:ke.talentTem("constellation5",[{fields:[{node:ND}]}]),constellation6:ke.talentTem("constellation6",[{fields:[{node:xv}]}])}},jJ=new I(NJ,FJ),jr="Baizhu",E0="dendro",Bk=g.char.data[jr],Be=g.char.skillParam[jr],_t=B(jr,Bk.weaponType);let lc=-1,Cp=0,hi=0;var QT,XT;const at={normal:{hitArr:[Be.auto[++lc],Be.auto[++lc],Be.auto[++lc],Be.auto[++lc]]},charged:{dmg:Be.auto[++lc],stamina:Be.auto[++lc][0]},plunging:{dmg:Be.auto[++lc],low:Be.auto[++lc],high:Be.auto[++lc]},skill:{dmg:Be.skill[Cp++],healHp:Be.skill[Cp++],healBase:Be.skill[Cp++],cd:Be.skill[Cp++][0]},burst:{shieldHp:Be.burst[hi++],shieldBase:Be.burst[hi++],shieldDuration:Be.burst[hi++][0],shieldInterval:Be.burst[hi++][0],healHp:Be.burst[hi++],healBase:Be.burst[hi++],veinDmg:Be.burst[hi++],duration:Be.burst[hi++][0],cd:Be.burst[hi++][0],energyCost:Be.burst[hi++][0]},passive1:{hpThresh_:Be.passive1[0][0],heal_:Be.passive1[1][0],dendro_dmg_:Be.passive1[2][0]},passive2:{duration:Be.passive2[0][0],burningBloom_dmg_:Be.passive2[1][0],aggSpread_dmg_:Be.passive2[2][0],maxHp:Be.passive2[3][0]},passive3:{heal:((XT=(QT=Be==null?void 0:Be.passive3)==null?void 0:QT[0])==null?void 0:XT[0])??0},constellation2:{atkAmount:Be.constellation2[0],dmg:Be.constellation2[1],heal:Be.constellation2[2],cd:Be.constellation2[3]},constellation4:{eleMas:Be.constellation4[0],duration:Be.constellation4[1]},constellation6:{healChance:Be.constellation6[0],vein_dmgInc:Be.constellation6[1]}},[GJ,O0]=r(jr,"a1HpStatus"),jD=n(e.asc,1,i(O0,"below",at.passive1.heal_)),GD=n(e.asc,1,i(O0,"above",at.passive1.dendro_dmg_)),[WJ,M0]=r(jr,"a4AfterHeal"),Bp=n(e.asc,4,i(M0,"on",da(at.passive2.maxHp/1e3*at.passive2.burningBloom_dmg_,m(d(at.passive2.burningBloom_dmg_),e.total.hp,1/1e3)))),x4=n(e.asc,4,i(M0,"on",da(at.passive2.maxHp/1e3*at.passive2.aggSpread_dmg_,m(d(at.passive2.aggSpread_dmg_),e.total.hp,1/1e3)))),[LJ,WD]=r(jr,"c4AfterBurst"),LD=n(e.constellation,4,i(WD,"on",at.constellation4.eleMas)),D4=bs("hp",at.burst.shieldHp,at.burst.shieldBase,"burst"),Bs={normal:Object.fromEntries(at.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",at.charged.dmg,"charged")},plunging:R("atk",at.plunging),skill:{dmg:c("atk",at.skill.dmg,"skill"),heal:an("hp",at.skill.healHp,at.skill.healBase,"skill")},burst:{shield:D4,shield_dendro:Vn("dendro",D4),heal:an("hp",at.burst.healHp,at.burst.healBase,"burst"),dmg:c("atk",at.burst.veinDmg,"burst")},passive2:{burning_dmg_:Bp,bloom_dmg_:{...Bp},hyperbloom_dmg_:{...Bp},burgeon_dmg_:{...Bp},aggravate_dmg_:x4,spread_dmg_:{...x4}},passive3:{heal:jn(m(d(at.passive3.heal),e.total.hp))},constellation2:{dmg:n(e.constellation,2,C(m(d(at.constellation2.dmg),e.total.atk),"skill",{hit:{ele:p(E0)}})),heal:n(e.constellation,2,Es("hp",m(u(e.total.skillIndex,at.skill.healHp,{unit:"%"}),d(at.constellation2.heal)),m(u(e.total.skillIndex,at.skill.healBase),d(at.constellation2.heal))))},constellation6:{vein_dmgInc:n(e.constellation,6,m(d(at.constellation6.vein_dmgInc),e.total.hp))}},zD=n(e.constellation,3,3),UD=n(e.constellation,5,3),zJ=A(jr,E0,"liyue",Bk,Bs,{premod:{skillBoost:UD,burstBoost:zD,heal_:jD,dendro_dmg_:GD,burst_dmgInc:Bs.constellation6.vein_dmgInc},teamBuff:{premod:{eleMas:LD,...Bs.passive2}}}),UJ={key:jr,name:_t.name,rarity:Bk.rarity,elementKey:E0,weaponTypeKey:Bk.weaponType,gender:"M",constellationName:_t.chg("constellationName"),title:_t.chg("title"),talent:{auto:_t.talentTem("auto",[{text:_t.chg("auto.fields.normal")},{fields:at.normal.hitArr.map((t,o)=>({node:a(Bs.normal[o],{name:_t.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:_t.chg("auto.fields.charged")},{fields:[{node:a(Bs.charged.dmg,{name:_t.chg("auto.skillParams.4")})},{text:_t.chg("auto.skillParams.5"),value:at.charged.stamina}]},{text:_t.chg("auto.fields.plunging")},{fields:[{node:a(Bs.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Bs.plunging.low,{name:s("plunging.low")})},{node:a(Bs.plunging.high,{name:s("plunging.high")})}]}]),skill:_t.talentTem("skill",[{fields:[{node:a(Bs.skill.dmg,{name:_t.chg("skill.skillParams.0")})},{node:a(Bs.skill.heal,{name:_t.chg("skill.skillParams.1")})},{text:s("cd"),value:at.skill.cd,unit:"s"},{canShow:t=>t.get(e.constellation).value>=1,text:l("charges"),value:2}]}]),burst:_t.talentTem("burst",[{fields:[{node:a(Bs.burst.shield,{name:_t.chg("burst.skillParams.0")})},{node:a(Bs.burst.shield_dendro,{name:_t.ch("seamlessDendro")})},{text:_t.chg("burst.skillParams.1"),value:at.burst.shieldDuration,unit:"s",fixed:1},{node:a(Bs.burst.heal,{name:_t.chg("burst.skillParams.2")})},{node:a(Bs.burst.dmg,{name:_t.chg("burst.skillParams.3")})},{text:_t.chg("burst.skillParams.4"),value:at.burst.duration,unit:"s"},{text:s("cd"),value:at.burst.cd,unit:"s"},{text:s("energyCost"),value:at.burst.energyCost}]},_t.condTem("passive2",{path:WJ,value:M0,teamBuff:!0,name:_t.ch("a4Cond"),states:{on:{fields:[...Object.values(Bs.passive2).map(t=>({node:t})),{text:s("duration"),value:at.passive2.duration,unit:"s"}]}}}),_t.condTem("constellation4",{path:LJ,value:WD,teamBuff:!0,name:l("afterUse.burst"),states:{on:{fields:[{node:LD},{text:s("duration"),value:at.constellation4.duration,unit:"s"}]}}}),_t.headerTem("constellation6",{fields:[{node:Bs.constellation6.vein_dmgInc}]})]),passive1:_t.talentTem("passive1",[_t.condTem("passive1",{path:GJ,value:O0,name:l("activeChar"),states:{below:{name:l("lessPercentHP",{percent:at.passive1.hpThresh_*100}),fields:[{node:jD}]},above:{name:l("greaterEqPercentHP",{percent:at.passive1.hpThresh_*100}),fields:[{node:GD}]}}})]),passive2:_t.talentTem("passive2"),passive3:_t.talentTem("passive3",[{fields:[{node:a(Bs.passive3.heal,{name:s("healing")})}]}]),constellation1:_t.talentTem("constellation1",[_t.fieldsTem("constellation1",{fields:[{text:l("addlCharges"),value:1}]})]),constellation2:_t.talentTem("constellation2",[{fields:[{node:a(Bs.constellation2.dmg,{name:_t.ch("c2Dmg")})},{node:a(Bs.constellation2.heal,{name:_t.ch("c2Heal")})},{canShow:t=>t.get(e.constellation).value>=2,text:s("cd"),value:at.constellation2.cd,unit:"s"}]}]),constellation3:_t.talentTem("constellation3",[{fields:[{node:zD}]}]),constellation4:_t.talentTem("constellation4"),constellation5:_t.talentTem("constellation5",[{fields:[{node:UD}]}]),constellation6:_t.talentTem("constellation6")}},VJ=new I(UJ,zJ),_m="Barbara",VD="hydro",Ak=g.char.data[_m],Xn=g.char.skillParam[_m],la=B(_m,Ak.weaponType);let oc=0,rd=0,Ap=0;const us={normal:{hitArr:[Xn.auto[oc++],Xn.auto[oc++],Xn.auto[oc++],Xn.auto[oc++]]},charged:{dmg:Xn.auto[oc++],stamina:Xn.auto[oc++][0]},plunging:{dmg:Xn.auto[oc++],low:Xn.auto[oc++],high:Xn.auto[oc++]},skill:{cregen_hp_:Xn.skill[rd++],cregen_hp:Xn.skill[rd++],regen_hp_:Xn.skill[rd++],regen_hp:Xn.skill[rd++],dmg:Xn.skill[rd++],duration:Xn.skill[rd++][0],cd:Xn.skill[rd++][0]},burst:{hp_:Xn.burst[Ap++],hp:Xn.burst[Ap++],cd:Xn.burst[Ap++][0],enerCost:Xn.burst[Ap++][0]},passive1:{stam:-Xn.passive1[0][0]},passive2:{ext:Xn.passive2[0][0],maxExt:Xn.passive2[0][1]},constellation2:{cdDec:.15,hydro_dmg_:.15}},qD=n(e.constellation,3,3),JD=n(e.constellation,5,3),[qJ,K0]=r(_m,"skill"),JJ=n(e.asc,1,i(K0,"on",i(e.activeCharKey,E.charKey,us.passive1.stam))),QJ=n(e.asc,1,i(K0,"on",us.passive1.stam)),[XJ,F0]=r(_m,"c2"),YJ=n(e.constellation,2,i(F0,"on",i(e.activeCharKey,E.charKey,us.constellation2.hydro_dmg_))),ZJ=n(e.constellation,2,i(F0,"on",us.constellation2.hydro_dmg_)),Ei={normal:Object.fromEntries(us.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",us.charged.dmg,"charged")},plunging:R("atk",us.plunging),skill:{regen:an("hp",us.skill.regen_hp_,us.skill.regen_hp,"skill"),cregen:an("hp",us.skill.cregen_hp_,us.skill.cregen_hp,"skill"),dmg:c("atk",us.skill.dmg,"skill")},burst:{regen:an("hp",us.burst.hp_,us.burst.hp,"burst")}},eQ=A(_m,VD,"mondstadt",Ak,Ei,{premod:{skillBoost:JD,burstBoost:qD},teamBuff:{premod:{staminaDec_:JJ,hydro_dmg_:YJ}}}),tQ={key:_m,name:la.name,rarity:Ak.rarity,elementKey:VD,weaponTypeKey:Ak.weaponType,gender:"F",constellationName:la.chg("constellationName"),title:la.chg("title"),talent:{auto:la.talentTem("auto",[{text:la.chg("auto.fields.normal")},{fields:us.normal.hitArr.map((t,o)=>({node:a(Ei.normal[o],{name:la.chg(`auto.skillParams.${o}`)})}))},{text:la.chg("auto.fields.charged")},{fields:[{node:a(Ei.charged.dmg,{name:la.chg("auto.skillParams.4")})},{text:la.chg("auto.skillParams.5"),value:us.charged.stamina}]},{text:la.chg("auto.fields.plunging")},{fields:[{node:a(Ei.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ei.plunging.low,{name:s("plunging.low")})},{node:a(Ei.plunging.high,{name:s("plunging.high")})}]}]),skill:la.talentTem("skill",[{fields:[{node:a(Ei.skill.regen,{name:la.chg("skill.skillParams.0")})},{node:a(Ei.skill.cregen,{name:la.chg("skill.skillParams.1")})},{node:a(Ei.skill.dmg,{name:la.chg("skill.skillParams.2")})},{text:la.chg("skill.skillParams.3"),value:us.skill.duration,unit:"s"},{text:la.chg("skill.skillParams.4"),value:t=>t.get(e.constellation).value>=2?`${us.skill.cd}s - ${us.constellation2.cdDec*100}%`:`${us.skill.cd}s`}]}]),burst:la.talentTem("burst",[{fields:[{node:a(Ei.burst.regen,{name:la.chg("burst.skillParams.0")})},{text:la.chg("burst.skillParams.1"),value:us.burst.cd},{text:la.chg("burst.skillParams.2"),value:us.burst.enerCost}]}]),passive1:la.talentTem("passive1",[la.condTem("passive1",{teamBuff:!0,value:K0,path:qJ,name:la.ch("passive1.cond"),states:{on:{fields:[{node:a(QJ,{path:"staminaDec_"})}]}}})]),passive2:la.talentTem("passive2"),passive3:la.talentTem("passive3"),constellation1:la.talentTem("constellation1"),constellation2:la.talentTem("constellation2",[la.condTem("constellation2",{teamBuff:!0,value:F0,path:XJ,name:la.ch("constellation2.cond"),states:{on:{fields:[{node:a(ZJ,{path:"hydro_dmg_"})}]}}})]),constellation3:la.talentTem("constellation3",[{fields:[{node:qD}]}]),constellation4:la.talentTem("constellation4"),constellation5:la.talentTem("constellation5",[{fields:[{node:JD}]}]),constellation6:la.talentTem("constellation6")}},aQ=new I(tQ,eQ),vm="Beidou",N0="electro",Ik=g.char.data[vm],Aa=g.char.skillParam[vm],Ae=B(vm,Ik.weaponType);let ql=0,lg=0,Gm=0;const Tn={normal:{hitArr:[Aa.auto[ql++],Aa.auto[ql++],Aa.auto[ql++],Aa.auto[ql++],Aa.auto[ql++]]},charged:{spinningDmg:Aa.auto[ql++],finalDmg:Aa.auto[ql++],stamina:Aa.auto[ql++][0],duration:Aa.auto[ql++][0]},plunging:{dmg:Aa.auto[ql++],low:Aa.auto[ql++],high:Aa.auto[ql++]},skill:{shieldHp_:Aa.skill[lg++],shieldFlat:Aa.skill[lg++],dmgBase:Aa.skill[lg++],onHitDmgBonus:Aa.skill[lg++],cd:Aa.skill[lg++][0]},burst:{burstDmg:Aa.burst[Gm++],lightningDmg:Aa.burst[Gm++],damageReduction:Aa.burst[Gm++],duration:Aa.burst[Gm++][0],cd:Aa.burst[Gm++][0],energyCost:Aa.burst[Gm++][0]},ascension4:{normalDmg_:Aa.passive2[0][0],chargeDmg_:Aa.passive2[0][0],attackSpeed:Aa.passive2[0][0]},constellation1:{shieldHp_:Aa.constellation1[0]},constellation4:{skillDmg:Aa.constellation4[0],duration:Aa.constellation4[1]},constellation6:{electroResShred_:-1*Aa.constellation6[0]}},[nQ,Rk]=r(vm,"burst"),[sQ,K_]=r(vm,"Ascension4"),QD=n(e.constellation,3,3),XD=n(e.constellation,5,3),lQ=Tn.skill.dmgBase.map((t,o)=>t+Tn.skill.onHitDmgBonus[o]),oQ=Tn.skill.dmgBase.map((t,o)=>t+2*Tn.skill.onHitDmgBonus[o]),YD=i(Rk,"on",u(e.total.burstIndex,Tn.burst.damageReduction)),ZD=n(e.constellation,6,i(Rk,"on",d(Tn.constellation6.electroResShred_))),e3=n(e.asc,4,i(K_,"on",d(Tn.ascension4.normalDmg_))),t3=n(e.asc,4,i(K_,"on",d(Tn.ascension4.chargeDmg_))),a3=n(e.asc,4,i(K_,"on",d(Tn.ascension4.attackSpeed))),S4=bs("hp",Tn.skill.shieldHp_,Tn.skill.shieldFlat,"skill"),C4=jg("hp",d(Tn.constellation1.shieldHp_),0),zs={normal:Object.fromEntries(Tn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",Tn.charged.spinningDmg,"charged"),finalDmg:c("atk",Tn.charged.finalDmg,"charged")},plunging:R("atk",Tn.plunging),skill:{shield:S4,electroShield:Vn("electro",S4),baseDmg:c("atk",Tn.skill.dmgBase,"skill"),dmgOneHit:c("atk",lQ,"skill"),dmgTwoHits:c("atk",oQ,"skill")},burst:{burstDmg:c("atk",Tn.burst.burstDmg,"burst"),lightningDmg:c("atk",Tn.burst.lightningDmg,"burst")},constellation1:{shield:n(e.constellation,1,C4),electroShield:n(e.constellation,1,Vn("electro",C4))},constellation4:{skillDmg:n(e.constellation,4,C(m(e.total.atk,d(Tn.constellation4.skillDmg)),"elemental",{hit:{ele:p(N0)}}))}},iQ=A(vm,N0,"liyue",Ik,zs,{premod:{skillBoost:QD,burstBoost:XD,normal_dmg_:e3,charged_dmg_:t3,atkSPD_:a3},teamBuff:{premod:{electro_enemyRes_:ZD,dmgRed_:a(YD,{path:"dmgRed_"})}}}),cQ={key:vm,name:Ae.name,rarity:Ik.rarity,elementKey:N0,weaponTypeKey:Ik.weaponType,gender:"F",constellationName:Ae.chg("constellationName"),title:Ae.chg("title"),talent:{auto:Ae.talentTem("auto",[{text:Ae.chg("auto.fields.normal")},{fields:Tn.normal.hitArr.map((t,o)=>({node:a(zs.normal[o],{name:Ae.chg(`auto.skillParams.${o}`)})}))},{text:Ae.chg("auto.fields.charged")},{fields:[{node:a(zs.charged.spinningDmg,{name:Ae.chg("auto.skillParams.5")})},{node:a(zs.charged.finalDmg,{name:Ae.chg("auto.skillParams.6")})},{text:Ae.chg("auto.skillParams.7"),value:Tn.charged.stamina,unit:"/s"},{text:Ae.chg("auto.skillParams.8"),value:Tn.charged.duration,unit:"s"}]},{text:Ae.chg("auto.fields.plunging")},{fields:[{node:a(zs.plunging.dmg,{name:s("plunging.dmg")})},{node:a(zs.plunging.low,{name:s("plunging.low")})},{node:a(zs.plunging.high,{name:s("plunging.high")})}]}]),skill:Ae.talentTem("skill",[{fields:[{node:a(zs.skill.shield,{name:l("dmgAbsorption.none")})},{node:a(zs.skill.electroShield,{name:l("dmgAbsorption.electro")})},{node:a(zs.skill.baseDmg,{name:Ae.chg("skill.skillParams.1")})},{node:a(zs.skill.dmgOneHit,{name:Ae.ch("skillOneHit")})},{node:a(zs.skill.dmgTwoHits,{name:Ae.ch("skillTwoHit")})},{text:Ae.chg("skill.skillParams.3"),value:Tn.skill.cd,unit:"s"}]},Ae.condTem("passive2",{teamBuff:!1,value:K_,path:sQ,name:Ae.ch("tidecallerMaxDmg"),states:{on:{fields:[{node:e3},{node:t3},{node:a3},{text:s("duration"),value:10,unit:"s"},{text:Ae.ch("a4charge")}]}}})]),burst:Ae.talentTem("burst",[{fields:[{node:a(zs.burst.burstDmg,{name:Ae.chg("burst.skillParams.0")})},{node:a(zs.burst.lightningDmg,{name:Ae.chg("burst.skillParams.1")})},{text:Ae.chg("burst.skillParams.3"),value:Tn.burst.duration,unit:"s"},{text:Ae.chg("burst.skillParams.4"),value:Tn.burst.cd,unit:"s"},{text:Ae.chg("burst.skillParams.5"),value:Tn.burst.energyCost}]},Ae.condTem("burst",{teamBuff:!0,value:Rk,path:nQ,name:Ae.ch("duringBurst"),states:{on:{fields:[{node:YD}]}}}),Ae.headerTem("constellation6",{teamBuff:!0,canShow:i(Rk,"on",1),fields:[{node:ZD}]})]),passive1:Ae.talentTem("passive1"),passive2:Ae.talentTem("passive2"),passive3:Ae.talentTem("passive3"),constellation1:Ae.talentTem("constellation1",[Ae.fieldsTem("constellation1",{fields:[{node:a(zs.constellation1.shield,{name:l("dmgAbsorption.none")})},{node:a(zs.constellation1.electroShield,{name:l("dmgAbsorption.electro")})}]})]),constellation2:Ae.talentTem("constellation2"),constellation3:Ae.talentTem("constellation3",[{fields:[{node:QD}]}]),constellation4:Ae.talentTem("constellation4",[Ae.fieldsTem("constellation4",{fields:[{node:a(zs.constellation4.skillDmg,{name:Ae.ch("c4dmg")})}]})]),constellation5:Ae.talentTem("constellation5",[{fields:[{node:XD}]}]),constellation6:Ae.talentTem("constellation6")}},rQ=new I(cQ,iQ),bm="Bennett",j0="pyro",Hk=g.char.data[bm],ua=g.char.skillParam[bm],re=B(bm,Hk.weaponType);let wo=0,ic=0,dd=0;const _a={normal:{hitArr:[ua.auto[wo++],ua.auto[wo++],ua.auto[wo++],ua.auto[wo++],ua.auto[wo++]]},charged:{dmg1:ua.auto[wo++],dmg2:ua.auto[wo++],stamina:ua.auto[wo++][0]},plunging:{dmg:ua.auto[wo++],low:ua.auto[wo++],high:ua.auto[wo++]},skill:{press:ua.skill[ic++],hold1_1:ua.skill[ic++],hold1_2:ua.skill[ic++],hold2_1:ua.skill[ic++],hold2_2:ua.skill[ic++],explosion:ua.skill[ic++],cd_press:ua.skill[ic++][0],cd_hold1:ua.skill[ic++][0],cd_hold2:ua.skill[ic++][0]},burst:{dmg:ua.burst[dd++],regen_:ua.burst[dd++],regenFlat:ua.burst[dd++],atkBonus:ua.burst[dd++],duration:ua.burst[dd++][0],cd:ua.burst[dd++][0],enerCost:ua.burst[dd++][0]},passive1:{cd_red:.2},passive2:{cd_red:.5},constellation1:{atk_inc:ua.constellation1[0]},constellation2:{hp_thresh:ua.constellation2[0],er_inc:ua.constellation2[1]},constellation4:{dmg:ua.constellation4[0]},constellation6:{pyro_dmg:ua.constellation6[0]}},dQ=u(e.total.burstIndex,_a.burst.atkBonus,{unit:"%"}),mQ=n(e.constellation,1,d(_a.constellation1.atk_inc)),uQ=m(P(dQ,mQ),e.base.atk),[gQ,Rg]=r(bm,"activeInArea"),F_=i("activeInArea",Rg,i(e.activeCharKey,E.charKey,1)),n3=a(uQ,{path:"atk"}),s3=i(F_,1,n3),hQ=n(e.asc,1,_a.passive1.cd_red),l3=n(e.asc,4,i(F_,1,_a.passive2.cd_red)),pQ=n(e.constellation,6,v(E.weaponType,{sword:p(1),claymore:p(1),polearm:p(1)},p(0))),kQ=i(F_,1,n(e.constellation,6,_a.constellation6.pyro_dmg)),fQ=ss(pQ,1,ss(F_,1,j0)),[_Q,o3]=r(bm,"underHP"),i3=n(e.constellation,2,i("underHP",o3,_a.constellation2.er_inc)),al={normal:Object.fromEntries(_a.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",_a.charged.dmg1,"charged"),dmg2:c("atk",_a.charged.dmg2,"charged")},plunging:R("atk",_a.plunging),skill:{press:c("atk",_a.skill.press,"skill"),hold1_1:c("atk",_a.skill.hold1_1,"skill"),hold1_2:c("atk",_a.skill.hold1_2,"skill"),hold2_1:c("atk",_a.skill.hold2_1,"skill"),hold2_2:c("atk",_a.skill.hold2_2,"skill"),explosion:c("atk",_a.skill.explosion,"skill")},burst:{dmg:c("atk",_a.burst.dmg,"burst"),regen:an("hp",_a.burst.regen_,_a.burst.regenFlat,"burst"),atkInc:s3},constellation4:{dmg:n(e.constellation,4,m(c("atk",_a.skill.hold1_2,"skill"),_a.constellation4.dmg))}},c3=n(e.constellation,3,3),r3=n(e.constellation,5,3),vQ=A(bm,j0,"mondstadt",Hk,al,{teamBuff:{premod:{pyro_dmg_:kQ},total:{atk:s3},infusion:{team:fQ}},premod:{skillBoost:c3,burstBoost:r3,enerRech_:i3}}),bQ={key:bm,name:re.name,rarity:Hk.rarity,elementKey:j0,weaponTypeKey:Hk.weaponType,gender:"M",constellationName:re.chg("constellationName"),title:re.chg("title"),talent:{auto:re.talentTem("auto",[{text:re.chg("auto.fields.normal")},{fields:_a.normal.hitArr.map((t,o)=>({node:a(al.normal[o],{name:re.chg(`auto.skillParams.${o}`)})}))},{text:re.chg("auto.fields.charged")},{fields:[{node:a(al.charged.dmg1,{name:re.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(al.charged.dmg2,{name:re.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:re.chg("auto.skillParams.6"),value:_a.charged.stamina}]},{text:re.chg("auto.fields.plunging")},{fields:[{node:a(al.plunging.dmg,{name:s("plunging.dmg")})},{node:a(al.plunging.low,{name:s("plunging.low")})},{node:a(al.plunging.high,{name:s("plunging.high")})}]}]),skill:re.talentTem("skill",[{fields:[{node:a(al.skill.press,{name:re.chg("skill.skillParams.0")})},{text:s("press.cd"),unit:"s",value:t=>O1(t,_a.skill.cd_press)},{node:a(al.skill.hold1_1,{name:re.chg("skill.skillParams.1"),textSuffix:"(1)"})},{node:a(al.skill.hold1_2,{name:re.chg("skill.skillParams.1"),textSuffix:"(2)"})},{text:re.ch("skill.lvl1CD"),unit:"s",value:t=>O1(t,_a.skill.cd_hold1)},{node:a(al.skill.hold2_1,{name:re.chg("skill.skillParams.2"),textSuffix:"(1)"})},{node:a(al.skill.hold2_2,{name:re.chg("skill.skillParams.2"),textSuffix:"(2)"})},{node:a(al.skill.explosion,{name:re.chg("skill.skillParams.3")})},{text:re.ch("skill.lvl2CD"),unit:"s",value:t=>O1(t,_a.skill.cd_hold2)}]},re.headerTem("passive1",{fields:[{node:a(hQ,{path:"skillCDRed_"})}]})]),burst:re.talentTem("burst",[{fields:[{node:a(al.burst.dmg,{name:re.chg("burst.skillParams.0")})},{node:a(al.burst.regen,{name:re.chg("burst.skillParams.1")})},{text:re.chg("burst.skillParams.3"),value:_a.burst.duration,unit:"s"},{text:re.chg("burst.skillParams.4"),value:_a.burst.cd,unit:"s"},{text:re.chg("burst.skillParams.5"),value:_a.burst.enerCost}]},re.condTem("burst",{value:Rg,path:gQ,name:l("activeCharField"),teamBuff:!0,states:{activeInArea:{fields:[{node:n3}]}}}),re.headerTem("passive2",{fields:[{node:a(l3,{path:"skillCDRed_"})}],canShow:i(Rg,"activeInArea",1)}),re.headerTem("constellation1",{fields:[{text:l("bonusScaling.atkInc"),value:l("bonusScaling.value",{value:_a.constellation1.atk_inc*100}),unit:s("stat.base.atk")}],canShow:i(Rg,"activeInArea",1)}),re.headerTem("constellation6",{fields:[{node:p(_a.constellation6.pyro_dmg,{path:"pyro_dmg_"})},{text:re.ch("c6PyroInfusion")}],canShow:i(Rg,"activeInArea",1),teamBuff:!0})]),passive1:re.talentTem("passive1"),passive2:re.talentTem("passive2"),passive3:re.talentTem("passive3"),constellation1:re.talentTem("constellation1"),constellation2:re.talentTem("constellation2",[re.condTem("constellation2",{value:o3,path:_Q,name:l("lessPercentHP",{percent:_a.constellation2.hp_thresh*100}),states:{underHP:{fields:[{node:i3}]}}})]),constellation3:re.talentTem("constellation3",[{fields:[{node:c3}]}]),constellation4:re.talentTem("constellation4",[re.fieldsTem("constellation4",{fields:[{node:a(al.constellation4.dmg,{name:re.ch("c4DMG")})}]})]),constellation5:re.talentTem("constellation5",[{fields:[{node:r3}]}]),constellation6:re.talentTem("constellation6")}},$Q=new I(bQ,vQ);function O1(t,o){let w=1,D=o+"s";return t.get(e.asc).value>=1&&(w=.8),w*=1-t.get(l3).value,w!==1&&(D+=" - "+(100-w*100)+"% = "+o*w),D}const Sr="Candace",d3="hydro",Ek=g.char.data[Sr],Va=g.char.skillParam[Sr],At=B(Sr,Ek.weaponType);let pi=0,Wm=0,md=0;const ja={normal:{hitArr:[Va.auto[pi++],Va.auto[pi++],Va.auto[pi++],Va.auto[pi++],Va.auto[pi++]]},charged:{dmg:Va.auto[pi++],stamina:Va.auto[pi++][0]},plunging:{dmg:Va.auto[pi++],low:Va.auto[pi++],high:Va.auto[pi++]},skill:{shield_hp_:Va.skill[Wm++],shield_base:Va.skill[Wm++],basic_dmg:Va.skill[Wm++],charged_dmg:Va.skill[Wm++],pressCd:Va.skill[Wm++][0],holdCd:Va.skill[Wm++][0]},burst:{skill_dmg:Va.burst[md++],duration:Va.burst[md++][0],dmg_bonus_:Va.burst[md++][0],wave_dmg:Va.burst[md++],num_waves:Va.burst[md++][0],cd:Va.burst[md++][0],cost:Va.burst[md++][0]},passive2:{normalEle_dmg_:Va.passive2[0][0]},constellation1:{durationInc:Va.constellation1[0]},constellation2:{hp_:Va.constellation2[0],duration:Va.constellation2[1]},constellation6:{dmg:Va.constellation6[0],cd:Va.constellation6[1]}},[yQ,mu]=r(Sr,"afterBurst"),m3=i(mu,"on",d(ja.burst.dmg_bonus_),{path:"normalEle_dmg_"}),TQ=ss(mu,"on",v(E.weaponType,{sword:p("hydro"),claymore:p("hydro"),polearm:p("hydro")},p(""))),G0=a(n(e.asc,4,i(mu,"on",m(d(ja.passive2.normalEle_dmg_),e.total.hp,1/1e3))),{path:"normalEle_dmg_"}),[B4,Dv]=r(Sr,"c2AfterSkillHit"),Sv=n(e.constellation,2,i(Dv,"on",d(ja.constellation2.hp_))),El={normal:Object.fromEntries(ja.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",ja.charged.dmg,"charged")},plunging:R("atk",ja.plunging),skill:{shield:bs("hp",ja.skill.shield_hp_,ja.skill.shield_base,"skill"),hydroShield:Vn("hydro",bs("hp",ja.skill.shield_hp_,ja.skill.shield_base,"skill")),basicDmg:c("hp",ja.skill.basic_dmg,"skill"),chargedDmg:c("hp",ja.skill.charged_dmg,"skill")},burst:{skillDmg:c("hp",ja.burst.skill_dmg,"burst"),waveDmg:c("hp",ja.burst.wave_dmg,"burst")},passive2:{normalEle_dmg_:G0},constellation6:{dmg:n(e.constellation,6,C(m(d(ja.constellation6.dmg),e.total.hp),"burst"))}},u3=n(e.constellation,3,3),g3=n(e.constellation,5,3),PQ=A(Sr,d3,"sumeru",Ek,El,{premod:{burstBoost:u3,skillBoost:g3,hp_:Sv},teamBuff:{premod:{normalEle_dmg_:P(m3,G0)},infusion:{team:TQ}}}),wQ={key:Sr,name:At.name,rarity:Ek.rarity,elementKey:d3,weaponTypeKey:Ek.weaponType,gender:"F",constellationName:At.chg("constellationName"),title:At.chg("title"),talent:{auto:At.talentTem("auto",[{text:At.chg("auto.fields.normal")},{fields:ja.normal.hitArr.map((t,o)=>({node:a(El.normal[o],{name:At.chg(`auto.skillParams.${o+(o<3?0:-1)}`),textSuffix:o===2||o===3?`(${o-1})`:""})}))},{text:At.chg("auto.fields.charged")},{fields:[{node:a(El.charged.dmg,{name:At.chg("auto.skillParams.4")})},{text:At.chg("auto.skillParams.5"),value:ja.charged.stamina}]},{text:At.chg("auto.fields.plunging")},{fields:[{node:a(El.plunging.dmg,{name:s("plunging.dmg")})},{node:a(El.plunging.low,{name:s("plunging.low")})},{node:a(El.plunging.high,{name:s("plunging.high")})}]}]),skill:At.talentTem("skill",[{fields:[{node:a(El.skill.shield,{name:At.chg("skill.skillParams.0")})},{node:a(El.skill.hydroShield,{name:l("dmgAbsorption.hydro")})},{node:a(El.skill.basicDmg,{name:At.chg("skill.skillParams.1")})},{node:a(El.skill.chargedDmg,{name:At.chg("skill.skillParams.2")})},{text:At.chg("skill.skillParams.3"),value:ja.skill.pressCd,unit:"s"},{text:At.chg("skill.skillParams.4"),value:t=>t.get(e.constellation).value>=4?ja.skill.pressCd:ja.skill.holdCd,unit:"s"}]},At.condTem("constellation2",{path:B4,value:Dv,name:l("hitOp.skill"),states:{on:{fields:[{node:Sv},{text:s("duration"),value:ja.constellation2.duration,unit:"s"}]}}})]),burst:At.talentTem("burst",[{fields:[{node:a(El.burst.skillDmg,{name:At.chg("burst.skillParams.0")})},{node:a(El.burst.waveDmg,{name:At.chg("burst.skillParams.3")})},{text:At.chg("burst.skillParams.4"),value:ja.burst.num_waves},{text:s("cd"),value:ja.burst.cd,unit:"s"},{text:s("energyCost"),value:ja.burst.cost}]},At.condTem("burst",{path:yQ,value:mu,teamBuff:!0,name:l("afterUse.burst"),states:{on:{fields:[{node:m3},{text:At.ch("hydroInfusion")},{text:s("duration"),value:t=>t.get(e.constellation).value>=1?`${ja.burst.duration}s + ${ja.constellation1.durationInc}s = ${ja.burst.duration+ja.constellation1.durationInc}`:ja.burst.duration,unit:"s"}]}}}),At.headerTem("passive2",{teamBuff:!0,canShow:i(mu,"on",1),fields:[{node:G0}]}),At.headerTem("constellation6",{fields:[{node:a(El.constellation6.dmg,{name:At.chg("burst.skillParams.3")})}]}),At.condTem("constellation2",{path:B4,value:Dv,name:l("hitOp.skill"),teamBuff:!0,canShow:M(e.activeCharKey,Sr,n(e.asc,4,i(mu,"on",1))),states:{on:{fields:[{node:Sv},{text:s("duration"),value:ja.constellation2.duration,unit:"s"}]}}})]),passive1:At.talentTem("passive1"),passive2:At.talentTem("passive2"),passive3:At.talentTem("passive3"),constellation1:At.talentTem("constellation1"),constellation2:At.talentTem("constellation2"),constellation3:At.talentTem("constellation3",[{fields:[{node:u3}]}]),constellation4:At.talentTem("constellation4"),constellation5:At.talentTem("constellation5",[{fields:[{node:g3}]}]),constellation6:At.talentTem("constellation6")}},xQ=new I(wQ,PQ),$m="Charlotte",Id=g.char.data[$m],Q=g.char.skillParam[$m],de=B($m,Id.weaponType);let tr=0,ki=0,cc=0;const Ct={normal:{hitArr:[Q.auto[tr++],Q.auto[tr++],Q.auto[tr++]]},charged:{dmg:Q.auto[tr++],stam:Q.auto[tr++][0],thornDmg:Q.auto[8],thornInterval:Q.auto[9][0]},plunging:{dmg:Q.auto[tr++],low:Q.auto[tr++],high:Q.auto[tr++]},skill:{photoPressDmg:Q.skill[ki++],photoHoldDmg:Q.skill[ki++],snapMarkDmg:Q.skill[ki++],snapMarkInterval:Q.skill[ki++][0],snapMarkDuration:Q.skill[ki++][0],focusMarkDmg:Q.skill[ki++],focusMarkInterval:Q.skill[ki++][0],focusMarkDuration:Q.skill[ki++][0],cd:Q.skill[ki++][0],finisherCd:Q.skill[ki++][0]},burst:{castHealBase:Q.burst[cc++],castHealFlat:Q.burst[cc++],skillDmg:Q.burst[cc++],kameraHealBase:Q.burst[cc++],kameraHealFlat:Q.burst[cc++],kameraDmg:Q.burst[cc++],duration:Q.burst[cc++][0],cd:Q.burst[cc++][0],enerCost:Q.burst[cc++][0]},passive1:{cdReduction:Q.passive1[0][0],triggers:Q.passive1[1][0],cd:Q.passive1[2][0]},passive2:{heal_:Q.passive2[0][0],cryo_dmg_:Q.passive2[1][0]},constellation1:{healInterval:Q.constellation1[0],heal:Q.constellation1[1],duration:Q.constellation1[2]},constellation2:{atk1:Q.constellation2[0],atk2:Q.constellation2[1],atk3:Q.constellation2[2],duration:Q.constellation2[3]},constellation4:{dmg_:Q.constellation4[0],energyRegen:Q.constellation4[1],cd:Q.constellation4[2],triggers:Q.constellation4[3]},constellation6:{dmg:Q.constellation6[0],heal:Q.constellation6[1],cd:Q.constellation6[2]}},h3=a(P(j.fontaine,-1),{asConst:!0}),p3=n(e.asc,4,m(h3,d(Ct.passive2.heal_))),k3=a(P(...Object.entries(j).filter(([t])=>YL.includes(t)&&t!=="fontaine").map(([t,o])=>o)),{asConst:!0}),f3=n(e.asc,4,m(k3,d(Ct.passive2.cryo_dmg_))),_3=b(1,3),[DQ,v3]=r($m,"c2Hit"),b3=n(e.constellation,2,v(v3,_(_3,t=>d(Ct.constellation2[`atk${t}`])),y)),[SQ,$3]=r($m,"c4Marked"),y3=n(e.constellation,4,i($3,"on",Ct.constellation4.dmg_)),Ms={normal:{...Object.fromEntries(Ct.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{dmg:c("atk",Ct.charged.dmg,"charged"),thornDmg:c("atk",Ct.charged.thornDmg,"normal")},plunging:R("atk",Ct.plunging),skill:{photoPressDmg:c("atk",Ct.skill.photoPressDmg,"skill"),photoHoldDmg:c("atk",Ct.skill.photoHoldDmg,"skill"),snapMarkDmg:c("atk",Ct.skill.snapMarkDmg,"skill"),focusMarkDmg:c("atk",Ct.skill.focusMarkDmg,"skill")},burst:{castHeal:an("atk",Ct.burst.castHealBase,Ct.burst.castHealFlat,"burst"),skillDmg:c("atk",Ct.burst.skillDmg,"burst"),kameraHeal:an("atk",Ct.burst.kameraHealBase,Ct.burst.kameraHealFlat,"burst"),kameraDmg:c("atk",Ct.burst.kameraDmg,"burst")},constellation1:{heal:n(e.constellation,1,Es("atk",Ct.constellation1.heal,0))},constellation6:{dmg:n(e.constellation,6,C(m(d(Ct.constellation6.dmg),e.total.atk),"burst",{hit:{ele:p("cryo")}})),heal:n(e.constellation,6,Es("atk",d(Ct.constellation6.heal),0))}},T3=n(e.constellation,3,3),P3=n(e.constellation,5,3),CQ=A($m,Id.ele,Id.region,Id,Ms,{premod:{skillBoost:P3,burstBoost:T3,heal_:p3,cryo_dmg_:f3,atk_:b3,burst_dmg_:y3}}),BQ={key:$m,name:de.name,rarity:Id.rarity,elementKey:Id.ele,weaponTypeKey:Id.weaponType,gender:"F",constellationName:de.chg("constellationName"),title:de.chg("title"),talent:{auto:de.talentTem("auto",[{text:de.chg("auto.fields.normal")},{fields:Ct.normal.hitArr.map((t,o)=>({node:a(Ms.normal[o],{name:de.chg(`auto.skillParams.${o}`)})}))},{text:de.chg("auto.fields.charged")},{fields:[{node:a(Ms.charged.dmg,{name:de.chg("auto.skillParams.3")})},{text:de.chg("auto.skillParams.4"),value:Ct.charged.stam}]},{text:de.chg("auto.fields.plunging")},{fields:[{node:a(Ms.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ms.plunging.low,{name:s("plunging.low")})},{node:a(Ms.plunging.high,{name:s("plunging.high")})}]},{text:de.chg("auto.fields.arkhe")},{fields:[{node:a(Ms.charged.thornDmg,{name:de.chg("auto.skillParams.7")})},{text:de.chg("auto.skillParams.8"),value:Ct.charged.thornInterval,unit:"s"}]}]),skill:de.talentTem("skill",[{fields:[{node:a(Ms.skill.photoPressDmg,{name:de.chg("skill.skillParams.0")})},{node:a(Ms.skill.photoHoldDmg,{name:de.chg("skill.skillParams.1")})},{node:a(Ms.skill.snapMarkDmg,{name:de.chg("skill.skillParams.2")})},{text:de.chg("skill.skillParams.3"),value:Ct.skill.snapMarkInterval,unit:"s",fixed:1},{text:de.chg("skill.skillParams.4"),value:Ct.skill.snapMarkDuration,unit:"s"},{node:a(Ms.skill.focusMarkDmg,{name:de.chg("skill.skillParams.5")})},{text:de.chg("skill.skillParams.6"),value:Ct.skill.focusMarkInterval,unit:"s",fixed:1},{text:de.chg("skill.skillParams.7"),value:Ct.skill.focusMarkDuration,unit:"s"},{text:s("cd"),value:Ct.skill.cd,unit:"s"},{text:de.chg("skill.skillParams.9"),value:Ct.skill.finisherCd,unit:"s"}]},de.condTem("constellation2",{value:v3,path:DQ,name:de.ch("c2Cond"),states:_(_3,t=>({name:l("opponents",{count:t}),fields:[{node:b3},{text:s("duration"),value:Ct.constellation2.duration,unit:"s"}]}))}),de.condTem("constellation4",{value:$3,path:SQ,name:de.ch("c4Cond"),states:{on:{fields:[{node:y3}]}}})]),burst:de.talentTem("burst",[{fields:[{node:a(Ms.burst.castHeal,{name:de.chg("burst.skillParams.0")})},{node:a(Ms.burst.skillDmg,{name:de.chg("burst.skillParams.1")})},{node:a(Ms.burst.kameraHeal,{name:de.chg("burst.skillParams.2")})},{node:a(Ms.burst.kameraDmg,{name:de.chg("burst.skillParams.3")})},{text:de.chg("burst.skillParams.4"),value:Ct.burst.duration,unit:"s"},{text:s("cd"),value:Ct.burst.cd,unit:"s"},{text:s("energyCost"),value:Ct.burst.enerCost}]},de.headerTem("constellation1",{fields:[{node:a(Ms.constellation1.heal,{name:s("healing")})},{text:l("interval"),value:Ct.constellation1.healInterval,unit:"s"},{text:s("duration"),value:Ct.constellation1.duration,unit:"s"}]})]),passive1:de.talentTem("passive1"),passive2:de.talentTem("passive2",[{fields:[{canShow:t=>t.get(h3).value>0,node:p3},{canShow:t=>t.get(k3).value>0,node:f3}]}]),passive3:de.talentTem("passive3"),constellation1:de.talentTem("constellation1"),constellation2:de.talentTem("constellation2"),constellation3:de.talentTem("constellation3",[{fields:[{node:T3}]}]),constellation4:de.talentTem("constellation4"),constellation5:de.talentTem("constellation5",[{fields:[{node:P3}]}]),constellation6:de.talentTem("constellation6",[de.fieldsTem("constellation6",{fields:[{node:a(Ms.constellation6.dmg,{name:l("dmg")})},{node:a(Ms.constellation6.heal,{name:s("healing")})},{text:s("cd"),value:Ct.constellation6.cd,unit:"s"}]})])}},AQ=new I(BQ,CQ),Gr="Chevreuse",Rd=g.char.data[Gr],vt=g.char.skillParam[Gr],Ve=B(Gr,Rd.weaponType);let fi=0,rc=0,Ip=0;const en={normal:{hitArr:[vt.auto[fi++],vt.auto[fi++],vt.auto[fi++],vt.auto[fi++],vt.auto[fi++]]},charged:{dmg:vt.auto[fi++],stam:vt.auto[fi++][0]},plunging:{dmg:vt.auto[fi++],low:vt.auto[fi++],high:vt.auto[fi++]},skill:{pressDmg:vt.skill[rc++],holdDmg:vt.skill[rc++],ballDmg:vt.skill[rc++],duration:vt.skill[rc++][0],healBase:vt.skill[rc++],healFlat:vt.skill[rc++],bladeDmg:vt.skill[rc++],bladeInterval:vt.skill[rc++][0],cd:vt.skill[rc++][0]},burst:{grenadeDmg:vt.burst[Ip++],shellDmg:vt.burst[Ip++],cd:vt.burst[Ip++][0],enerCost:vt.burst[Ip++][0]},passive1:{pyroElectro_enemyRes_:vt.passive1[0][0],duration:vt.passive1[1][0]},passive2:{atk_:vt.passive2[0][0],duration:vt.passive2[1][0],max_atk_:vt.passive2[2][0]},constellation1:{energyRegen:vt.constellation1[0],cd:vt.constellation1[1]},constellation2:{dmg:vt.constellation2[0],cd:vt.constellation2[1]},constellation6:{triggerLength:vt.constellation6[0],heal:vt.constellation6[1],pyroElectro_dmg_:vt.constellation6[2],duration:vt.constellation6[3],maxStacks:vt.constellation6[4]}},Cv=n(j.electro,1,i(j.ele,2,1)),[IQ,w3]=r(Gr,"a1AfterOverload"),W0=n(e.asc,1,i(Cv,1,i(w3,"on",-en.passive1.pyroElectro_enemyRes_))),x3={...W0},[RQ,D3]=r(Gr,"a4AfterBall"),L0=n(e.asc,4,i(D3,"on",i(P(i(E.charEle,"pyro",1),i(E.charEle,"electro",1)),1,da(m(d(en.passive2.atk_),a({...e.premod.hp},{pivot:!0}),1/1e3),d(en.passive2.max_atk_))))),S3=b(1,en.constellation6.maxStacks),[HQ,C3]=r(Gr,"c6AfterHealStacks"),z0=n(e.constellation,6,v(C3,_(S3,t=>d(t*en.constellation6.pyroElectro_dmg_)),y)),B3={...z0},ml={normal:{...Object.fromEntries(en.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{dmg:c("atk",en.charged.dmg,"charged")},plunging:R("atk",en.plunging),skill:{pressDmg:c("atk",en.skill.pressDmg,"skill"),holdDmg:c("atk",en.skill.holdDmg,"skill"),ballDmg:c("atk",en.skill.ballDmg,"skill"),heal:an("hp",en.skill.healBase,en.skill.healFlat,"skill"),bladeDmg:c("atk",en.skill.bladeDmg,"skill")},burst:{grenadeDmg:c("atk",en.burst.grenadeDmg,"burst"),shellDmg:c("atk",en.burst.shellDmg,"burst")},passive2:{a4AfterBall_atk_:L0},constellation2:{dmg:n(e.constellation,2,C(m(d(en.constellation2.dmg),e.total.atk),"skill",{hit:{ele:p("pyro")}}))},constellation6:{heal:n(e.constellation,6,Es("hp",en.constellation6.heal,0))}},A3=n(e.constellation,3,3),I3=n(e.constellation,5,3),EQ=A(Gr,Rd.ele,Rd.region,Rd,ml,{premod:{skillBoost:A3,burstBoost:I3},teamBuff:{premod:{pyro_enemyRes_:W0,electro_enemyRes_:x3,pyro_dmg_:z0,electro_dmg_:B3,atk_:L0}}}),OQ={key:Gr,name:Ve.name,rarity:Rd.rarity,elementKey:Rd.ele,weaponTypeKey:Rd.weaponType,gender:"F",constellationName:Ve.chg("constellationName"),title:Ve.chg("title"),talent:{auto:Ve.talentTem("auto",[{text:Ve.chg("auto.fields.normal")},{fields:en.normal.hitArr.map((t,o)=>({node:a(ml.normal[o],{name:Ve.chg(`auto.skillParams.${o>2?o-1:o}`),textSuffix:o===2||o===3?`(${o-1})`:void 0})}))},{text:Ve.chg("auto.fields.charged")},{fields:[{node:a(ml.charged.dmg,{name:Ve.chg("auto.skillParams.4")})},{text:Ve.chg("auto.skillParams.5"),value:en.charged.stam}]},{text:Ve.chg("auto.fields.plunging")},{fields:[{node:a(ml.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ml.plunging.low,{name:s("plunging.low")})},{node:a(ml.plunging.high,{name:s("plunging.high")})}]}]),skill:Ve.talentTem("skill",[{fields:[{node:a(ml.skill.pressDmg,{name:Ve.chg("skill.skillParams.0")})},{node:a(ml.skill.holdDmg,{name:Ve.chg("skill.skillParams.1")})},{node:a(ml.skill.ballDmg,{name:Ve.chg("skill.skillParams.2")})},{node:a(ml.skill.heal,{name:Ve.chg("skill.skillParams.3")})},{text:Ve.chg("skill.skillParams.4"),value:en.skill.duration,unit:"s"},{node:a(ml.skill.bladeDmg,{name:Ve.chg("skill.skillParams.5")})},{text:Ve.chg("skill.skillParams.6"),value:en.skill.bladeInterval,unit:"s"},{text:s("cd"),value:en.skill.cd,unit:"s"}]},Ve.condTem("passive2",{value:D3,path:RQ,teamBuff:!0,name:Ve.ch("a4CondName"),states:{on:{fields:[{node:L0},{text:s("duration"),value:en.passive2.duration,unit:"s"}]}}}),Ve.condTem("constellation6",{value:C3,path:HQ,teamBuff:!0,name:Ve.ch("c6CondName"),states:_(S3,t=>({name:l("stack",{count:t}),fields:[{node:z0},{node:B3},{text:s("duration"),value:en.constellation6.duration,unit:"s"}]}))})]),burst:Ve.talentTem("burst",[{fields:[{node:a(ml.burst.grenadeDmg,{name:Ve.chg("burst.skillParams.0")})},{node:a(ml.burst.shellDmg,{name:Ve.chg("burst.skillParams.1")})},{text:s("cd"),value:en.burst.cd,unit:"s"},{text:s("energyCost"),value:en.burst.enerCost}]}]),passive1:Ve.talentTem("passive1",[Ve.fieldsTem("passive1",{teamBuff:!0,canShow:M(Cv,1,1),fields:[{text:Ve.ch("notPyroElectroTeam")}]}),Ve.condTem("passive1",{value:w3,path:IQ,teamBuff:!0,canShow:Cv,name:l("reactionOp.overload"),states:{on:{fields:[{node:W0},{node:x3},{text:s("duration"),value:en.passive1.duration,unit:"s"}]}}})]),passive2:Ve.talentTem("passive2"),passive3:Ve.talentTem("passive3"),constellation1:Ve.talentTem("constellation1"),constellation2:Ve.talentTem("constellation2",[Ve.fieldsTem("constellation2",{fields:[{node:a(ml.constellation2.dmg,{name:l("dmg")})},{text:s("cd"),value:en.constellation2.cd,unit:"s"}]})]),constellation3:Ve.talentTem("constellation3",[{fields:[{node:A3}]}]),constellation4:Ve.talentTem("constellation4"),constellation5:Ve.talentTem("constellation5",[{fields:[{node:I3}]}]),constellation6:Ve.talentTem("constellation6",[Ve.fieldsTem("constellation6",{fields:[{node:a(ml.constellation6.heal,{name:s("healing")})}]})])}},MQ=new I(OQ,EQ),ym="Chiori",Hd=g.char.data[ym],lt=g.char.skillParam[ym],ba=B(ym,Hd.weaponType);let dc=-1,ud=0,Rp=0;const vs={normal:{hitArr:[lt.auto[++dc],lt.auto[++dc],lt.auto[++dc],lt.auto[dc+=2]]},charged:{dmg:lt.auto[++dc],stam:lt.auto[dc+=2][0]},plunging:{dmg:lt.auto[++dc],low:lt.auto[++dc],high:lt.auto[++dc]},skill:{turretDmg_atk:lt.skill[ud++],turretDmg_def:lt.skill[ud++],turretDuration:lt.skill[ud++][0],turretInterval:lt.skill[ud++][0],sweepDmg_atk:lt.skill[ud++],sweepDmg_def:lt.skill[ud++],cd:lt.skill[ud++][0]},burst:{bloomDmg_atk:lt.burst[Rp++],bloomDmg_def:lt.burst[Rp++],cd:lt.burst[Rp++][0],enerCost:lt.burst[Rp++][0]},passive1:{dollDmg:lt.passive1[0][0],momentDuration:lt.passive1[1][0],dollInterval:lt.passive1[2][0],dollTriggers:lt.passive1[3][0],infusionDuration:lt.passive1[4][0]},passive2:{geo_dmg_:lt.passive2[0][0],duration:lt.passive2[1][0]},constellation1:{aoeIncrease:lt.constellation1[0]},constellation2:{interval:lt.constellation2[0],duration:lt.constellation2[1],dmg:lt.constellation2[2],dollDuration:lt.constellation2[3]},constellation4:{duration:lt.constellation4[0],dollDuration:lt.constellation4[1],maxDolls:lt.constellation4[2],cd:lt.constellation4[4]},constellation6:{cdReduction:lt.constellation6[0],auto_dmgInc_def:lt.constellation6[1]}},[KQ,R3]=r(ym,"a1Infusion"),FQ=pm(e.asc,1,ss(R3,"on",p("geo"))),[NQ,H3]=r(ym,"a4Construct"),E3=n(e.asc,4,i(H3,"on",vs.passive2.geo_dmg_)),U0=n(e.constellation,6,m(d(vs.constellation6.auto_dmgInc_def),e.total.def));function A4(t){return Wi(["atk","def"],[vs.skill.sweepDmg_atk,vs.skill.sweepDmg_def],"skill",void 0,t)}function I4(t){return Wi(["atk","def"],[vs.skill.turretDmg_atk,vs.skill.turretDmg_def],"skill",void 0,t)}const qo={normal:{...Object.fromEntries(vs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{dmg:c("atk",vs.charged.dmg,"charged")},plunging:R("atk",vs.plunging),skill:{turretDmg:I4(),sweepDmg:A4()},burst:{bloomDmg:Wi(["atk","def"],[vs.burst.bloomDmg_atk,vs.burst.bloomDmg_def],"burst")},passive1:{dollDmg:n(e.asc,1,A4(d(vs.passive1.dollDmg)))},constellation2:{dollDmg:n(e.constellation,2,I4(d(vs.passive1.dollDmg*vs.constellation2.dmg)))},constellation6:{c6_normal_dmgInc:U0}},O3=n(e.constellation,3,3),M3=n(e.constellation,5,3),jQ=A(ym,Hd.ele,Hd.region,Hd,qo,{premod:{skillBoost:O3,burstBoost:M3,normal_dmgInc:U0,geo_dmg_:E3},infusion:{overridableSelf:FQ}}),GQ={key:ym,name:ba.name,rarity:Hd.rarity,elementKey:Hd.ele,weaponTypeKey:Hd.weaponType,gender:"F",constellationName:ba.chg("constellationName"),title:ba.chg("title"),talent:{auto:ba.talentTem("auto",[{text:ba.chg("auto.fields.normal")},{fields:vs.normal.hitArr.map((t,o)=>({node:a(qo.normal[o],{name:ba.chg(`auto.skillParams.${o}`)})}))},{text:ba.chg("auto.fields.charged")},{fields:[{node:a(qo.charged.dmg,{name:ba.chg("auto.skillParams.4")})},{text:ba.chg("auto.skillParams.5"),value:vs.charged.stam}]},{text:ba.chg("auto.fields.plunging")},{fields:[{node:a(qo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(qo.plunging.low,{name:s("plunging.low")})},{node:a(qo.plunging.high,{name:s("plunging.high")})}]},ba.headerTem("constellation6",{fields:[{node:U0}]})]),skill:ba.talentTem("skill",[{fields:[{node:a(qo.skill.turretDmg,{name:ba.chg("skill.skillParams.0")})},{text:ba.chg("skill.skillParams.1"),value:vs.skill.turretDuration,unit:"s"},{text:ba.chg("skill.skillParams.2"),value:vs.skill.turretInterval,unit:"s",fixed:1},{node:a(qo.skill.sweepDmg,{name:ba.chg("skill.skillParams.3")})},{text:s("cd"),value:vs.skill.cd,unit:"s"}]}]),burst:ba.talentTem("burst",[{fields:[{node:a(qo.burst.bloomDmg,{name:ba.chg("burst.skillParams.0")})},{text:s("cd"),value:vs.burst.cd,unit:"s"},{text:s("energyCost"),value:vs.burst.enerCost}]}]),passive1:ba.talentTem("passive1",[{fields:[{node:a(qo.passive1.dollDmg,{name:l("dmg")})}]},ba.condTem("passive1",{value:R3,path:KQ,name:ba.ch("a1Cond"),states:{on:{fields:[{text:H(Ba,{color:"geo",children:l("infusion.geo")})}]}}})]),passive2:ba.talentTem("passive2",[ba.condTem("passive2",{value:H3,path:NQ,name:ba.ch("a4Cond"),states:{on:{fields:[{node:E3}]}}})]),passive3:ba.talentTem("passive3"),constellation1:ba.talentTem("constellation1"),constellation2:ba.talentTem("constellation2",[{fields:[{node:a(qo.constellation2.dollDmg,{name:l("dmg")})}]}]),constellation3:ba.talentTem("constellation3",[{fields:[{node:O3}]}]),constellation4:ba.talentTem("constellation4"),constellation5:ba.talentTem("constellation5",[{fields:[{node:M3}]}]),constellation6:ba.talentTem("constellation6")}},WQ=new I(GQ,jQ),Wr="Chongyun",N_="cryo",Ok=g.char.data[Wr],hn=g.char.skillParam[Wr],Pe=B(Wr,Ok.weaponType);let Hp=0,M1=0,LQ=0,K1=0;const rl={normal:{hitArr:[hn.auto[0],hn.auto[1],hn.auto[2],hn.auto[3]]},charged:{spin_dmg:hn.auto[4],final_dmg:hn.auto[5],stamina:hn.auto[6][0],duration:hn.auto[7][0]},plunging:{dmg:hn.auto[8],low:hn.auto[9],high:hn.auto[10]},skill:{dmg:hn.skill[Hp++],infusionDuration:hn.skill[Hp++],cd:hn.skill[Hp++][0],fieldDuration:hn.skill[Hp++][0]},burst:{dmg:hn.burst[M1++],cd:hn.burst[M1++][0],enerCost:hn.burst[M1++][0]},passive1:{atk_spd:hn.passive1[LQ++][0]},passive2:{dmg:hn.passive2[K1++][0],res:hn.passive2[K1++][0],duration:hn.passive2[K1++][0]},constellation1:{dmg:hn.constellation1[0]},constellation2:{cdr:hn.constellation2[0]},constellation4:{energy_regen:hn.constellation4[0],cd:hn.constellation4[1]},constellation6:{burst_dmg_:hn.constellation6[0]}},[zQ,K3]=r(Wr,"asc4"),[UQ,Bv]=r(Wr,"skill"),[VQ,F3]=r(Wr,"c6"),R4=c("atk",rl.skill.dmg,"skill"),Jo={normal:Object.fromEntries(rl.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",rl.charged.spin_dmg,"charged"),finalDmg:c("atk",rl.charged.final_dmg,"charged")},plunging:R("atk",rl.plunging),skill:{dmg:R4},burst:{dmg:c("atk",rl.burst.dmg,"burst")},passive2:{dmg:n(e.asc,4,R4)},constellation1:{dmg:n(e.constellation,1,C(m(d(rl.constellation1.dmg),e.total.atk),"elemental",{hit:{ele:p(N_)}}))}},N3=n(e.asc,4,i(K3,"hit",-.1)),j3=i("activeInArea",Bv,i(e.activeCharKey,E.charKey,1)),G3=n(e.asc,1,d(.08)),qQ=i(j3,1,G3),JQ=v(E.weaponType,{sword:p(1),claymore:p(1),polearm:p(1)},p(0)),QQ=ss(JQ,1,ss(j3,1,N_)),W3=n(e.constellation,6,i(F3,"on",rl.constellation6.burst_dmg_)),L3=n(e.constellation,3,3),z3=n(e.constellation,5,3),XQ=A(Wr,N_,"liyue",Ok,Jo,{premod:{skillBoost:z3,burstBoost:L3,burst_dmg_:W3},teamBuff:{premod:{cryo_enemyRes_:N3,atkSPD_:qQ},infusion:{team:QQ}}}),YQ={key:Wr,name:Pe.name,rarity:Ok.rarity,elementKey:"cryo",weaponTypeKey:Ok.weaponType,gender:"M",constellationName:Pe.chg("constellationName"),title:Pe.chg("title"),talent:{auto:Pe.talentTem("auto",[{text:Pe.chg("auto.fields.normal")},{fields:rl.normal.hitArr.map((t,o)=>({node:a(Jo.normal[o],{name:Pe.chg(`auto.skillParams.${o}`)})}))},{text:Pe.chg("auto.fields.charged")},{fields:[{node:a(Jo.charged.spinningDmg,{name:Pe.chg("auto.skillParams.4")})},{node:a(Jo.charged.finalDmg,{name:Pe.chg("auto.skillParams.5")})},{text:Pe.chg("auto.skillParams.6"),value:rl.charged.stamina,unit:"/s"},{text:Pe.chg("auto.skillParams.7"),value:rl.charged.duration,unit:"s"}]},{text:Pe.chg("auto.fields.plunging")},{fields:[{node:a(Jo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Jo.plunging.low,{name:s("plunging.low")})},{node:a(Jo.plunging.high,{name:s("plunging.high")})}]}]),skill:Pe.talentTem("skill",[{fields:[{node:a(Jo.skill.dmg,{name:Pe.chg("skill.skillParams.0")})},{text:Pe.chg("skill.skillParams.2"),value:rl.skill.fieldDuration,unit:"s"},{text:Pe.chg("skill.skillParams.3"),value:rl.skill.cd,unit:"s"}]},Pe.condTem("skill",{teamBuff:!0,value:Bv,path:UQ,name:l("activeCharField"),states:{activeInArea:{fields:[{text:Pe.ch("infusion"),variant:N_},{text:Pe.chg("skill.skillParams.1"),value:t=>t.get(u(e.total.skillIndex,rl.skill.infusionDuration)).value,unit:"s",fixed:1}]}}}),Pe.headerTem("passive1",{teamBuff:!0,canShow:i(Bv,"activeInArea",1),fields:[{node:a(G3,{path:"atkSPD_"})}]})]),burst:Pe.talentTem("burst",[{fields:[{node:a(Jo.burst.dmg,{name:Pe.chg("burst.skillParams.0")})},{text:Pe.chg("burst.skillParams.1"),value:rl.burst.cd,unit:"s"},{text:Pe.chg("burst.skillParams.2"),value:rl.burst.enerCost},{text:Pe.ch("blades"),value:t=>t.get(e.constellation).value<6?3:4}]}]),passive1:Pe.talentTem("passive1"),passive2:Pe.talentTem("passive2",[Pe.fieldsTem("passive2",{fields:[{node:a(Jo.passive2.dmg,{name:Pe.ch("passive2")})}]}),Pe.condTem("passive2",{teamBuff:!0,value:K3,path:zQ,name:Pe.ch("asc4Cond"),states:{hit:{fields:[{node:N3}]}}})]),passive3:Pe.talentTem("passive3"),constellation1:Pe.talentTem("constellation1",[Pe.fieldsTem("constellation1",{fields:[{node:a(Jo.constellation1.dmg,{name:Pe.ch("constellation1")})}]})]),constellation2:Pe.talentTem("constellation2"),constellation3:Pe.talentTem("constellation3",[{fields:[{node:L3}]}]),constellation4:Pe.talentTem("constellation4"),constellation5:Pe.talentTem("constellation5",[{fields:[{node:z3}]}]),constellation6:Pe.talentTem("constellation6",[Pe.condTem("constellation6",{value:F3,path:VQ,name:Pe.ch("constellation6"),states:{on:{fields:[{node:W3}]}}})])}},ZQ=new I(YQ,XQ),Lr="Collei",Og="dendro",eX="sumeru",Mk=g.char.data[Lr],sn=g.char.skillParam[Lr],$a=B(Lr,Mk.weaponType);let mc=0,H4=0,og=0,F1=0,E4=0;const js={normal:{hitArr:[sn.auto[mc++],sn.auto[mc++],sn.auto[mc++],sn.auto[mc++]]},charged:{aimed:sn.auto[mc++],aimedCharged:sn.auto[mc++]},plunging:{dmg:sn.auto[mc++],low:sn.auto[mc++],high:sn.auto[mc++]},skill:{dmg:sn.skill[H4++],cd:sn.skill[H4++][0]},burst:{explosionDmg:sn.burst[og++],leapDmg:sn.burst[og++],duration:sn.burst[og++][0],cd:sn.burst[og++][0],enerCost:sn.burst[og++][0]},passive1:{unknown:sn.passive1[F1++][0],sproutDmg:sn.passive1[F1++][0],duration:sn.passive1[F1++][0]},passive2:{durationInc:sn.passive2[E4++][0],maxExtension:sn.passive2[E4++][0]},constellation1:{enerRech_:sn.constellation1[0]},constellation2:{duration:sn.constellation2[0],sproutDmg:sn.constellation2[1],durationInc:sn.constellation2[2]},constellation4:{eleMas:sn.constellation4[0],duration:sn.constellation4[1]},constellation6:{anbarDmg:sn.constellation6[0]}},[tX,U3]=r(Lr,"afterBurst"),V3=n(e.constellation,4,i(U3,"on",js.constellation4.eleMas)),aX=M(E.charKey,Lr,V3),[nX,q3]=r(Lr,"offField"),J3=n(e.constellation,1,i(q3,"on",js.constellation1.enerRech_)),no={normal:Object.fromEntries(js.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",js.charged.aimed,"charged"),aimedCharged:c("atk",js.charged.aimedCharged,"charged",{hit:{ele:p(Og)}})},plunging:R("atk",js.plunging),skill:{dmg:c("atk",js.skill.dmg,"skill")},burst:{explosionDmg:c("atk",js.burst.explosionDmg,"burst"),leapDmg:c("atk",js.burst.leapDmg,"burst")},passive1:{dmg:n(e.asc,1,C(m(d(js.passive1.sproutDmg),e.total.atk),"skill",{hit:{ele:p(Og)}}))},constellation6:{dmg:n(e.constellation,6,C(m(d(js.constellation6.anbarDmg),e.total.atk),"elemental",{hit:{ele:p(Og)}}))}},Q3=n(e.constellation,3,3),X3=n(e.constellation,5,3),sX=A(Lr,Og,eX,Mk,no,{premod:{burstBoost:X3,skillBoost:Q3,enerRech_:J3},teamBuff:{premod:{eleMas:aX}}}),lX={key:Lr,name:$a.name,rarity:Mk.rarity,elementKey:Og,weaponTypeKey:Mk.weaponType,gender:"F",constellationName:$a.chg("constellationName"),title:$a.chg("title"),talent:{auto:$a.talentTem("auto",[{text:$a.chg("auto.fields.normal")},{fields:js.normal.hitArr.map((t,o)=>({node:a(no.normal[o],{name:$a.chg(`auto.skillParams.${o}`)})}))},{text:$a.chg("auto.fields.charged")},{fields:[{node:a(no.charged.aimed,{name:$a.chg("auto.skillParams.4")})},{node:a(no.charged.aimedCharged,{name:$a.chg("auto.skillParams.5")})}]},{text:$a.chg("auto.fields.plunging")},{fields:[{node:a(no.plunging.dmg,{name:s("plunging.dmg")})},{node:a(no.plunging.low,{name:s("plunging.low")})},{node:a(no.plunging.high,{name:s("plunging.high")})}]}]),skill:$a.talentTem("skill",[{fields:[{node:a(no.skill.dmg,{name:$a.chg("skill.skillParams.0")})},{text:$a.chg("skill.skillParams.1"),value:js.skill.cd,unit:"s"}]},$a.headerTem("passive1",{fields:[{node:a(no.passive1.dmg,{name:$a.ch("sproutDmg")})},{text:s("duration"),value:js.passive1.duration,unit:"s"}]})]),burst:$a.talentTem("burst",[{fields:[{node:a(no.burst.explosionDmg,{name:$a.chg("burst.skillParams.0")})},{node:a(no.burst.leapDmg,{name:$a.chg("burst.skillParams.1")})},{text:s("duration"),value:js.burst.duration,unit:"s"},{text:s("cd"),value:js.burst.cd,unit:"s"},{text:s("energyCost"),value:js.burst.enerCost}]},$a.condTem("constellation4",{path:tX,value:U3,teamBuff:!0,name:l("afterUse.burst"),canShow:M(E.charKey,e.activeCharKey,1),states:{on:{fields:[{node:a(V3,{path:"eleMas"})},{text:s("duration"),value:js.constellation4.duration,unit:"s"}]}}})]),passive1:$a.talentTem("passive1"),passive2:$a.talentTem("passive2"),passive3:$a.talentTem("passive3"),constellation1:$a.talentTem("constellation1",[$a.condTem("constellation1",{value:q3,path:nX,name:l("charOffField"),states:{on:{fields:[{node:J3}]}}})]),constellation2:$a.talentTem("constellation2"),constellation3:$a.talentTem("constellation3",[{fields:[{node:Q3}]}]),constellation4:$a.talentTem("constellation4"),constellation5:$a.talentTem("constellation5",[{fields:[{node:X3}]}]),constellation6:$a.talentTem("constellation6",[$a.fieldsTem("constellation6",{fields:[{node:a(no.constellation6.dmg,{name:$a.ch("miniAnbarDmg")})}]})])}},oX=new I(lX,sX),zr="Cyno",_r="electro",Kk=g.char.data[zr],Ge=g.char.skillParam[zr],fe=B(zr,Kk.weaponType);let ig=0,_i=5,O4=0,M4=0;const Bn={normal:{hitArr:[Ge.auto[0],Ge.auto[1],Ge.auto[2],Ge.auto[4]]},charged:{dmg:Ge.auto[5],stamina:Ge.auto[6][0]},plunging:{dmg:Ge.auto[7],low:Ge.auto[8],high:Ge.auto[9]},skill:{skillDmg:Ge.skill[ig++],riteDmg:Ge.skill[ig++],durationBonus:Ge.skill[ig++][0],cd:Ge.skill[ig++][0],cdRite:Ge.skill[ig++][0]},burst:{normal:{hitArr:[Ge.burst[0],Ge.burst[1],Ge.burst[2],Ge.burst[3],Ge.burst[_i++]]},charged:{dmg:Ge.burst[_i++],stamina:Ge.burst[_i++][0]},plunging:{dmg:Ge.burst[_i++],low:Ge.burst[_i++],high:Ge.burst[_i++]},eleMas:Ge.burst[_i++][0],duration:Ge.burst[_i++][0],cd:Ge.burst[_i++][0],enerCost:Ge.burst[_i++][0]},passive1:{skill_dmg_:Ge.passive1[O4++][0],boltDmg:Ge.passive1[O4++][0]},passive2:{burst_normal_dmgInc_:Ge.passive2[M4++][0],bolt_dmgInc_:Ge.passive2[M4++][0]},constellation1:{normal_atkSpd_:Ge.constellation1[0],duration:Ge.constellation1[1]},constellation2:{electro_dmg_:Ge.constellation2[0],duration:Ge.constellation2[1],maxStacks:Ge.constellation2[2],cd:Ge.constellation2[3]},constellation4:{energyRestore:Ge.constellation4[0],charges:Ge.constellation4[1]}},[iX,Y3]=r(zr,"afterBurst"),Z3=i(Y3,"on",Bn.burst.eleMas),[cX,eS]=r(zr,"a1Judication"),Av=n(e.asc,1,i(eS,"on",Bn.passive1.skill_dmg_)),K4=n(e.asc,4,m(d(Bn.passive2.burst_normal_dmgInc_),e.total.eleMas)),F4=n(e.asc,4,m(d(Bn.passive2.bolt_dmgInc_),e.total.eleMas)),tS=b(1,Bn.constellation2.maxStacks),[rX,aS]=r(zr,"c2NormHitStacks"),nS=n(e.constellation,2,v(aS,Object.fromEntries(tS.map(t=>[t,m(d(Bn.constellation2.electro_dmg_),t)])),y)),nl={normal:Object.fromEntries(Bn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",Bn.charged.dmg,"charged")},plunging:R("atk",Bn.plunging),skill:{skillDmg:c("atk",Bn.skill.skillDmg,"skill",{premod:{skill_dmg_:Av}}),riteDmg:c("atk",Bn.skill.riteDmg,"skill",{premod:{skill_dmg_:Av}})},burst:{...Object.fromEntries(Bn.burst.normal.hitArr.map((t,o)=>[`normal_${o}`,C(m(u(e.total.burstIndex,t,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p(_r)},premod:{normal_dmgInc:K4}})])),charged:C(m(u(e.total.burstIndex,Bn.burst.charged.dmg,{unit:"%"}),e.total.atk),"charged",{hit:{ele:p(_r)}}),...Object.fromEntries(Object.entries(Bn.burst.plunging).map(([t,o])=>[`plunging_${t}`,C(m(u(e.total.burstIndex,o,{unit:"%"}),e.total.atk),t==="dmg"?"plunging_collision":"plunging_impact",{hit:{ele:p(_r)}})]))},passive1:{boltDmg:n(e.asc,1,C(m(Bn.passive1.boltDmg,e.total.atk),"skill",{hit:{ele:p(_r)},premod:{skill_dmgInc:F4}}))},passive2:{burstNormalDmgInc:K4,boltDmgInc:F4}},sS=n(e.constellation,3,3),lS=n(e.constellation,5,3),dX=A(zr,_r,"sumeru",Kk,nl,{premod:{burstBoost:sS,skillBoost:lS,eleMas:Z3,electro_dmg_:nS}}),mX={key:zr,name:fe.name,rarity:Kk.rarity,elementKey:_r,weaponTypeKey:Kk.weaponType,gender:"M",constellationName:fe.chg("constellationName"),title:fe.chg("title"),talent:{auto:fe.talentTem("auto",[{text:fe.chg("auto.fields.normal")},{fields:Bn.normal.hitArr.map((t,o)=>({node:a(nl.normal[o],{name:fe.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:fe.chg("auto.fields.charged")},{fields:[{node:a(nl.charged.dmg,{name:fe.chg("auto.skillParams.4")})},{text:fe.chg("auto.skillParams.5"),value:Bn.charged.stamina}]},{text:fe.chg("auto.fields.plunging")},{fields:[{node:a(nl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(nl.plunging.low,{name:s("plunging.low")})},{node:a(nl.plunging.high,{name:s("plunging.high")})}]}]),skill:fe.talentTem("skill",[{fields:[{node:a(nl.skill.skillDmg,{name:fe.chg("skill.skillParams.0")})},{node:a(nl.skill.riteDmg,{name:fe.chg("skill.skillParams.1")})},{text:fe.chg("skill.skillParams.2"),value:Bn.skill.durationBonus,unit:"s"},{text:s("cd"),value:Bn.skill.cd,unit:"s",fixed:1},{text:fe.chg("skill.skillParams.4"),value:Bn.skill.cdRite,unit:"s"}]},fe.headerTem("passive1",{fields:[{node:a(nl.passive1.boltDmg,{name:fe.ch("p1Dmg")})}]}),fe.condTem("passive1",{path:cX,value:eS,name:fe.ch("judication"),states:{on:{fields:[{node:a(Av,{name:fe.ch("a1soulfarer_dmg_"),unit:"%"})}]}}}),fe.headerTem("passive2",{canShow:M(nl.passive2.boltDmgInc,0,1),fields:[{node:a(nl.passive2.boltDmgInc,{name:fe.ch("boltDmgInc")})}]})]),burst:fe.talentTem("burst",[{fields:[...Bn.burst.normal.hitArr.map((t,o)=>({node:a(nl.burst[`normal_${o}`],{name:fe.chg(`burst.skillParams.${o}`),multi:o===3?2:void 0})})),{node:a(nl.burst.charged,{name:fe.chg("burst.skillParams.5")})},{text:fe.chg("burst.skillParams.6"),value:Bn.burst.charged.stamina},...Object.entries(Bn.burst.plunging).map(([t])=>({node:a(nl.burst[`plunging_${t}`],{name:s(`plunging.${t}`)})})),{text:fe.chg("burst.skillParams.10"),value:Bn.burst.duration,unit:"s"},{text:fe.chg("burst.skillParams.11"),value:Bn.burst.cd,unit:"s"},{text:fe.chg("burst.skillParams.12"),value:Bn.burst.enerCost}]},fe.condTem("burst",{path:iX,value:Y3,name:fe.ch("duringBurst"),states:{on:{fields:[{node:Z3},{text:l(`infusion.${_r}`),variant:_r},{text:l("incInterRes")},{text:l("immuneToElectroCharged")}]}}}),fe.headerTem("passive2",{canShow:M(nl.passive2.burstNormalDmgInc,0,1),fields:[{node:a(nl.passive2.burstNormalDmgInc,{name:fe.ch("burstNormalDmgInc")})}]})]),passive1:fe.talentTem("passive1"),passive2:fe.talentTem("passive2"),passive3:fe.talentTem("passive3"),constellation1:fe.talentTem("constellation1"),constellation2:fe.talentTem("constellation2",[fe.condTem("constellation2",{path:rX,value:aS,name:l("hitOp.normal"),states:Object.fromEntries(tS.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:nS}]}]))})]),constellation3:fe.talentTem("constellation3",[{fields:[{node:sS}]}]),constellation4:fe.talentTem("constellation4"),constellation5:fe.talentTem("constellation5",[{fields:[{node:lS}]}]),constellation6:fe.talentTem("constellation6")}},uX=new I(mX,dX),Tm="Dehya",oS="pyro",Fk=g.char.data[Tm],le=g.char.skillParam[Tm],_e=B(Tm,Fk.weaponType);let xo=0,ar=0,gd=0;const pa={normal:{hitArr:[le.auto[xo++],le.auto[xo++],le.auto[xo++],le.auto[xo++]]},charged:{spin:le.auto[xo++],final:le.auto[xo++],stamina:le.auto[xo++][0],duration:le.auto[xo++][0]},plunging:{dmg:le.auto[xo++],low:le.auto[xo++],high:le.auto[xo++]},skill:{indomitableDmg:le.skill[ar++],rangingDmg:le.skill[ar++],fieldDmgAtk:le.skill[ar++],fieldDmgHp:le.skill[ar++],mitigation:le.skill[ar++],redmaneMax:le.skill[ar++][0],fieldDuration:le.skill[ar++][0],cd:le.skill[ar++][0]},burst:{fistDmgAtk:le.burst[gd++],fistDmgHp:le.burst[gd++],driveDmgAtk:le.burst[gd++],driveDmgHp:le.burst[gd++],duration:le.burst[gd++][0],cd:le.burst[gd++][0],enerCost:le.burst[gd++][0]},passive2:{hpThreshold:le.passive2[0][0],initialHeal:le.passive2[1][0],dotHeal:le.passive2[2][0],dotInterval:le.passive2[3][0],duration:le.passive2[4][0],cd:le.passive2[5][0]},c1:{hp_:le.constellation1[0],skill_dmgInc:le.constellation1[1],burst_dmgInc:le.constellation1[2]},c2:{fieldDurationIncrease:le.constellation2[0],field_dmg_:le.constellation2[1]},c4:{energyRestore:le.constellation4[0],heal:le.constellation4[1],cd:le.constellation4[2]},c6:{burst_critRate_:le.constellation6[0],burst_critDMG_:le.constellation6[1],duration:le.constellation6[2],maxDuration:le.constellation6[3],maxBurst_critDMG_:le.constellation6[4]}},iS=n(e.constellation,1,pa.c1.hp_),V0=n(e.constellation,1,m(d(pa.c1.skill_dmgInc),e.total.hp)),q0=n(e.constellation,1,m(d(pa.c1.burst_dmgInc),e.total.hp)),[gX,cS]=r(Tm,"c2InField"),rS=n(e.constellation,2,i(cS,"on",pa.c2.field_dmg_)),dS=n(e.constellation,6,pa.c6.burst_critRate_),mS=b(1,4),[hX,uS]=r(Tm,"c6CritStacks"),gS=n(e.constellation,6,v(uS,_(mS,t=>m(t,d(pa.c6.burst_critDMG_))),y)),sl={normal:Object.fromEntries(pa.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spin:c("atk",pa.charged.spin,"charged"),final:c("atk",pa.charged.final,"charged")},plunging:R("atk",pa.plunging),skill:{indomitableDmg:c("atk",pa.skill.indomitableDmg,"skill"),rangingDmg:c("atk",pa.skill.rangingDmg,"skill"),fieldDmg:Wi(["atk","hp"],[pa.skill.fieldDmgAtk,pa.skill.fieldDmgHp],"skill",{premod:{skill_dmg_:rS}}),redmaneMax:m(d(pa.skill.redmaneMax),e.total.hp)},burst:{fistDmg:Wi(["atk","hp"],[pa.burst.fistDmgAtk,pa.burst.fistDmgHp],"burst"),driveDmg:Wi(["atk","hp"],[pa.burst.driveDmgAtk,pa.burst.driveDmgHp],"burst")},passive2:{initialHeal:n(e.asc,4,jn(m(d(pa.passive2.initialHeal),e.total.hp))),dotHeal:n(e.asc,4,jn(m(d(pa.passive2.dotHeal),e.total.hp)))},constellation1:{c1_skill_dmgInc:V0,c1_burst_dmgInc:q0},constellation4:{heal:n(e.constellation,4,jn(m(d(pa.c4.heal),e.total.hp)))}},hS=n(e.constellation,3,3),pS=n(e.constellation,5,3),pX=A(Tm,oS,"sumeru",Fk,sl,{premod:{burstBoost:hS,skillBoost:pS,hp_:iS,skill_dmgInc:V0,burst_dmgInc:q0,burst_critRate_:dS,burst_critDMG_:gS}}),kX={key:Tm,name:_e.name,rarity:Fk.rarity,elementKey:oS,weaponTypeKey:Fk.weaponType,gender:"F",constellationName:_e.chg("constellationName"),title:_e.chg("title"),talent:{auto:_e.talentTem("auto",[{text:_e.chg("auto.fields.normal")},{fields:pa.normal.hitArr.map((t,o)=>({node:a(sl.normal[o],{name:_e.chg(`auto.skillParams.${o}`)})}))},{text:_e.chg("auto.fields.charged")},{fields:[{node:a(sl.charged.spin,{name:_e.chg("auto.skillParams.4")})},{node:a(sl.charged.final,{name:_e.chg("auto.skillParams.5")})},{text:_e.chg("auto.skillParams.6"),value:`${pa.charged.stamina}/s`}]},{text:_e.chg("auto.fields.plunging")},{fields:[{node:a(sl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(sl.plunging.low,{name:s("plunging.low")})},{node:a(sl.plunging.high,{name:s("plunging.high")})}]}]),skill:_e.talentTem("skill",[{fields:[{node:a(sl.skill.indomitableDmg,{name:_e.chg("skill.skillParams.0")})},{node:a(sl.skill.rangingDmg,{name:_e.chg("skill.skillParams.1")})},{node:a(sl.skill.fieldDmg,{name:_e.chg("skill.skillParams.2")})},{node:a(u(e.total.skillIndex,pa.skill.mitigation),{name:_e.chg("skill.skillParams.3"),unit:"%"})},{node:a(sl.skill.redmaneMax,{name:_e.chg("skill.skillParams.4")})},{text:_e.chg("skill.skillParams.5"),value:pa.skill.fieldDuration,unit:"s"},{text:s("cd"),value:pa.skill.cd,unit:"s"}]},_e.headerTem("constellation1",{fields:[{node:V0}]}),_e.condTem("constellation2",{path:gX,value:cS,name:_e.ch("inFieldAndTakeDmg"),states:{on:{fields:[{node:a(rS,{name:_e.ch("field_dmg_"),unit:"%"})}]}}})]),burst:_e.talentTem("burst",[{fields:[{node:a(sl.burst.fistDmg,{name:_e.chg("burst.skillParams.0")})},{node:a(sl.burst.driveDmg,{name:_e.chg("burst.skillParams.1")})},{text:s("duration"),value:pa.burst.duration,unit:"s"},{text:s("cd"),value:pa.burst.cd,unit:"s"},{text:s("energyCost"),value:pa.burst.enerCost}]},_e.headerTem("constellation1",{fields:[{node:q0}]}),_e.headerTem("constellation4",{fields:[{node:a(sl.constellation4.heal,{name:s("hpRegenPerHit")})},{text:l("enerRegenPerHit"),value:pa.c4.energyRestore},{text:s("cd"),value:pa.c4.cd,unit:"s",fixed:1}]}),_e.headerTem("constellation6",{fields:[{node:dS}]}),_e.condTem("constellation6",{path:hX,value:uS,name:_e.ch("critHitDuringBurst"),states:_(mS,t=>({name:l("hits",{count:t}),fields:[{node:gS}]}))})]),passive1:_e.talentTem("passive1"),passive2:_e.talentTem("passive2",[_e.fieldsTem("passive2",{fields:[{node:a(sl.passive2.initialHeal,{name:_e.ch("initialHeal")})},{node:a(sl.passive2.dotHeal,{name:_e.ch("dotHeal"),multi:5})}]})]),passive3:_e.talentTem("passive3"),constellation1:_e.talentTem("constellation1",[_e.fieldsTem("constellation1",{fields:[{node:iS}]})]),constellation2:_e.talentTem("constellation2"),constellation3:_e.talentTem("constellation3",[{fields:[{node:hS}]}]),constellation4:_e.talentTem("constellation4"),constellation5:_e.talentTem("constellation5",[{fields:[{node:pS}]}]),constellation6:_e.talentTem("constellation6")}},fX=new I(kX,pX),Lc="Diluc",kS="pyro",Nk=g.char.data[Lc],Kt=g.char.skillParam[Lc],ot=B(Lc,Nk.weaponType);let Do=0,Ep=0,Lm=0,N4=0,j4=0,cg=0,N1=0;const Mt={normal:{hitArr:[Kt.auto[Do++],Kt.auto[Do++],Kt.auto[Do++],Kt.auto[Do++]]},charged:{spinningDmg:Kt.auto[Do++],finalDmg:Kt.auto[Do++],stamina:Kt.auto[Do++][0],duration:Kt.auto[Do++][0]},plunging:{dmg:Kt.auto[Do++],low:Kt.auto[Do++],high:Kt.auto[Do++]},skill:{firstHit:Kt.skill[Ep++],secondHit:Kt.skill[Ep++],thridHit:Kt.skill[Ep++],cd:Kt.skill[Ep++][0]},burst:{slashDmg:Kt.burst[Lm++],dotDmg:Kt.burst[Lm++],explosionDmg:Kt.burst[Lm++],cd:Kt.burst[Lm++][0],duration:Kt.burst[Lm++][0],cost:Kt.burst[Lm++][0]},passive1:{stamReduction:Kt.passive1[N4++][0],duration:Kt.passive1[N4++][0]},passive2:{durationInc:Kt.passive2[j4++][0],pyroInc:Kt.passive2[j4++][0]},constellation1:{dmgInc:Kt.constellation1[0],hpThresh_:.5},constellation2:{atkInc:Kt.constellation2[cg++],atkSpdInc:Kt.constellation2[cg++],duration:Kt.constellation2[cg++],maxStack:Kt.constellation2[cg++],cd:Kt.constellation2[cg++]},constellation4:{dmgInc:Kt.constellation4[0]},constellation6:{duration:Kt.constellation6[N1++],dmgInc:Kt.constellation6[N1++],atkSpdInc:Kt.constellation6[N1++]}},[_X,J0]=r(Lc,"Burst"),[vX,fS]=r(Lc,"DilucC1"),[bX,Q0]=r(Lc,"DilucC2"),[$X,X0]=r(Lc,"DilucC6"),yX=ss(J0,"on","pyro"),_S=n(e.asc,4,i(J0,"on",Mt.passive2.pyroInc)),vS=n(e.constellation,1,i(fS,"on",Mt.constellation1.dmgInc)),bS=n(e.constellation,2,v(Q0,Object.fromEntries(b(1,Mt.constellation2.maxStack).map(t=>[t,p(Mt.constellation2.atkInc*t)])),0,{path:"atk_"})),$S=n(e.constellation,2,v(Q0,Object.fromEntries(b(1,Mt.constellation2.maxStack).map(t=>[t,p(Mt.constellation2.atkSpdInc*t)])),0,{path:"atkSPD_"})),yS=n(e.constellation,6,i(X0,"on",Mt.constellation6.dmgInc)),TS=n(e.constellation,6,i(X0,"on",Mt.constellation6.atkSpdInc),{path:"atkSPD_"}),G4={premod:{skill_dmg_:p(Mt.constellation4.dmgInc)},hit:{ele:p("pyro")}},ul={normal:Object.fromEntries(Mt.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",Mt.charged.spinningDmg,"charged"),finalDmg:c("atk",Mt.charged.finalDmg,"charged")},plunging:R("atk",Mt.plunging),skill:{firstHit:c("atk",Mt.skill.firstHit,"skill"),secondHit:c("atk",Mt.skill.secondHit,"skill"),thirdHit:c("atk",Mt.skill.thridHit,"skill")},burst:{slashDmg:c("atk",Mt.burst.slashDmg,"burst"),dotDmg:c("atk",Mt.burst.dotDmg,"burst"),explosionDmg:c("atk",Mt.burst.explosionDmg,"burst")},constellation4:{secondHitBoost:n(e.constellation,4,c("atk",Mt.skill.secondHit,"skill",G4)),thirdHitBoost:n(e.constellation,4,c("atk",Mt.skill.thridHit,"skill",G4))}},PS=n(e.constellation,3,3),wS=n(e.constellation,5,3),TX=A(Lc,kS,"mondstadt",Nk,ul,{premod:{skillBoost:PS,burstBoost:wS,pyro_dmg_:_S,atk_:bS,atkSPD_:P(TS,$S),all_dmg_:vS,normal_dmg_:yS},infusion:{nonOverridableSelf:yX}}),PX={key:Lc,name:ot.name,rarity:Nk.rarity,elementKey:kS,weaponTypeKey:Nk.weaponType,gender:"M",constellationName:ot.chg("constellationName"),title:ot.chg("title"),talent:{auto:ot.talentTem("auto",[{text:ot.chg("auto.fields.normal")},{fields:Mt.normal.hitArr.map((t,o)=>({node:a(ul.normal[o],{name:ot.chg(`auto.skillParams.${o}`)})}))},{text:ot.chg("auto.fields.charged")},{fields:[{node:a(ul.charged.spinningDmg,{name:ot.chg("auto.skillParams.4")})},{node:a(ul.charged.finalDmg,{name:ot.chg("auto.skillParams.5")})},{text:ot.chg("auto.skillParams.6"),value:t=>t.get(e.asc).value>=1?`${Mt.charged.stamina}/s - ${Mt.passive1.stamReduction*100}%`:`${Mt.charged.stamina}/s`},{text:ot.chg("auto.skillParams.7"),value:t=>t.get(e.asc).value>=1?`${Mt.charged.duration}s + ${Mt.passive1.duration}`:Mt.charged.duration,unit:"s"}]},{text:ot.chg("auto.fields.plunging")},{fields:[{node:a(ul.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ul.plunging.low,{name:s("plunging.low")})},{node:a(ul.plunging.high,{name:s("plunging.high")})}]}]),skill:ot.talentTem("skill",[{fields:[{node:a(ul.skill.firstHit,{name:ot.chg("skill.skillParams.0")})},{node:a(ul.skill.secondHit,{name:ot.chg("skill.skillParams.1")})},{node:a(ul.skill.thirdHit,{name:ot.chg("skill.skillParams.2")})},{node:a(ul.constellation4.secondHitBoost,{name:ot.ch("skillB.0")})},{node:a(ul.constellation4.thirdHitBoost,{name:ot.ch("skillB.1")})},{text:ot.chg("burst.skillParams.3"),value:Mt.skill.cd}]},ot.condTem("constellation6",{value:X0,path:$X,name:l("afterUse.skill"),states:{on:{fields:[{node:yS},{node:TS}]}}})]),burst:ot.talentTem("burst",[{fields:[{node:a(ul.burst.slashDmg,{name:ot.chg("burst.skillParams.0")})},{node:a(ul.burst.dotDmg,{name:ot.chg("burst.skillParams.1")})},{node:a(ul.burst.explosionDmg,{name:ot.chg("burst.skillParams.2")})},{text:ot.chg("burst.skillParams.3"),value:Mt.burst.cd,unit:"s"},{text:ot.chg("burst.skillParams.5"),value:Mt.burst.cost}]},ot.condTem("burst",{name:l("afterUse.burst"),value:J0,path:_X,states:{on:{fields:[{text:l("infusion.pyro"),variant:"pyro"},{node:_S},{text:s("duration"),value:t=>t.get(e.asc).value>=4?`${Mt.burst.duration} + ${Mt.passive2.durationInc}`:Mt.burst.duration,unit:"s"}]}}})]),passive1:ot.talentTem("passive1"),passive2:ot.talentTem("passive2"),passive3:ot.talentTem("passive3"),constellation1:ot.talentTem("constellation1",[ot.condTem("constellation1",{value:fS,path:vX,name:l("enemyGreaterPercentHP",{percent:Mt.constellation1.hpThresh_*100}),canShow:n(e.constellation,1,1),states:{on:{fields:[{node:vS}]}}})]),constellation2:ot.talentTem("constellation2",[ot.condTem("constellation2",{value:Q0,path:bX,name:l("hitOp.self"),states:Object.fromEntries(b(1,Mt.constellation2.maxStack).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:bS},{node:$S}]}]))})]),constellation3:ot.talentTem("constellation3",[{fields:[{node:PS}]}]),constellation4:ot.talentTem("constellation4"),constellation5:ot.talentTem("constellation5",[{fields:[{node:wS}]}]),constellation6:ot.talentTem("constellation6")}},wX=new I(PX,TX),Pm="Diona",du="cryo",jk=g.char.data[Pm],Yt=g.char.skillParam[Pm],ve=B(Pm,jk.weaponType);let vi=0,zm=0,hd=0,W4=0,L4=0;const Ua={normal:{hitArr:[Yt.auto[vi++],Yt.auto[vi++],Yt.auto[vi++],Yt.auto[vi++],Yt.auto[vi++]]},charged:{aimed:Yt.auto[vi++],aimedCharged:Yt.auto[vi++]},plunging:{dmg:Yt.auto[vi++],low:Yt.auto[vi++],high:Yt.auto[vi++]},skill:{icyPawDmg:Yt.skill[zm++],shieldHp_:Yt.skill[zm++],shieldFlat:Yt.skill[zm++],cdPress:Yt.skill[zm++][0],cdHold:Yt.skill[zm++][0],duration:Yt.skill[zm++]},burst:{skillDmg:Yt.burst[hd++],fieldDmg:Yt.burst[hd++],healHp_:Yt.burst[hd++],healBase:Yt.burst[hd++],cd:Yt.burst[hd++][0],enerCost:Yt.burst[hd++][0],duration:Yt.burst[hd++][0]},passive1:{moveSpeed_:Yt.passive1[W4++][0],stamRed_:Yt.passive1[W4++][0]},passive2:{atkRed_:Yt.passive1[L4++][0],duration:Yt.passive1[L4++][0]},constellation1:{energyRegen:Yt.constellation1[0]},constellation2:{icyPawDmg_:Yt.constellation2[0],icyPawShield_:Yt.constellation2[1],coopShield_:Yt.constellation2[2],coopShieldDuration_:Yt.constellation2[3]},constellation6:{healingBonus_:Yt.constellation6[0],emBonus:Yt.constellation6[1]}},[xX,Y0]=r(Pm,"Constellation6"),[DX,Z0]=r(Pm,"Ascension1"),xS=n(e.constellation,3,3),DS=n(e.constellation,5,3),SS=n(e.constellation,2,d(Ua.constellation2.icyPawDmg_)),SX=d(1.75),CS=P(d(1),n(e.constellation,2,d(Ua.constellation2.icyPawShield_))),Iv=m(CS,bs("hp",Ua.skill.shieldHp_,Ua.skill.shieldFlat,"skill")),Rv=m(CS,SX,bs("hp",Ua.skill.shieldHp_,Ua.skill.shieldFlat,"skill")),z4=m(d(Ua.constellation2.coopShield_),Iv),U4=m(d(Ua.constellation2.coopShield_),Rv),Ss={normal:Object.fromEntries(Ua.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",Ua.charged.aimed,"charged"),aimedCharged:c("atk",Ua.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}})},plunging:R("atk",Ua.plunging),skill:{pressShield:Iv,pressCryoShield:Vn(du,Iv),holdShield:Rv,holdCryoShield:Vn(du,Rv),skillDmg:c("atk",Ua.skill.icyPawDmg,"skill",{})},burst:{skillDmg:c("atk",Ua.burst.skillDmg,"burst"),fieldDmg:c("atk",Ua.burst.fieldDmg,"burst"),healDot:an("hp",Ua.burst.healHp_,Ua.burst.healBase,"burst")},constellation2:{pressShield:n(e.constellation,2,z4),pressCryoShield:n(e.constellation,2,Vn(du,z4)),holdShield:n(e.constellation,2,U4),holdCryoShield:n(e.constellation,2,Vn(du,U4))}},BS=n(e.asc,1,i(Z0,"on",d(Ua.passive1.moveSpeed_))),AS=n(e.asc,1,i(Z0,"on",d(Ua.passive1.stamRed_))),IS=n(e.constellation,6,i(Y0,"lower",d(Ua.constellation6.healingBonus_))),CX=i(e.activeCharKey,E.charKey,IS),RS=n(e.constellation,6,i(Y0,"higher",Ua.constellation6.emBonus)),BX=i(e.activeCharKey,E.charKey,RS),AX=A(Pm,du,"mondstadt",jk,Ss,{premod:{skillBoost:DS,burstBoost:xS,skill_dmg_:SS},teamBuff:{premod:{staminaDec_:AS,moveSPD_:BS,eleMas:BX,incHeal_:CX}}}),IX={key:Pm,name:ve.name,rarity:jk.rarity,elementKey:du,weaponTypeKey:jk.weaponType,gender:"F",constellationName:ve.chg("constellationName"),title:ve.chg("title"),talent:{auto:ve.talentTem("auto",[{text:ve.chg("auto.fields.normal")},{fields:Ua.normal.hitArr.map((t,o)=>({node:a(Ss.normal[o],{name:ve.chg(`auto.skillParams.${o}`)})}))},{text:ve.chg("auto.fields.charged")},{fields:[{node:a(Ss.charged.aimed,{name:ve.chg("auto.skillParams.5")})},{node:a(Ss.charged.aimedCharged,{name:ve.chg("auto.skillParams.6")})}]},{text:ve.chg("auto.fields.plunging")},{fields:[{node:a(Ss.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ss.plunging.low,{name:s("plunging.low")})},{node:a(Ss.plunging.high,{name:s("plunging.high")})}]}]),skill:ve.talentTem("skill",[{fields:[{node:a(Ss.skill.skillDmg,{name:ve.chg("skill.skillParams.0")})},{node:a(Ss.skill.pressShield,{name:ve.ch("pressShield")})},{node:a(Ss.skill.pressCryoShield,{name:ve.ch("pressCryoShield")})},{node:a(Ss.skill.holdShield,{name:ve.ch("holdShield")})},{node:a(Ss.skill.holdCryoShield,{name:ve.ch("holdCryoShield")})},{text:ve.ch("skillDuration"),value:t=>Ua.skill.duration[t.get(e.total.skillIndex).value],unit:"s",fixed:1},{text:ve.chg("skill.skillParams.3"),value:Ua.skill.cdPress,unit:"s"},{text:ve.chg("skill.skillParams.4"),value:Ua.skill.cdHold,unit:"s"}]},ve.condTem("passive1",{teamBuff:!0,value:Z0,path:DX,name:ve.ch("a1shielded"),states:{on:{fields:[{node:BS},{node:AS}]}}}),ve.headerTem("constellation2",{fields:[{node:SS},{text:l("dmgAbsorption.increase"),value:Ua.constellation2.icyPawShield_*100,unit:"%"}]})]),burst:ve.talentTem("burst",[{fields:[{node:a(Ss.burst.skillDmg,{name:ve.chg("burst.skillParams.0")})},{node:a(Ss.burst.fieldDmg,{name:ve.chg("burst.skillParams.1")})},{node:a(Ss.burst.healDot,{name:ve.chg("burst.skillParams.2")})},{text:ve.chg("burst.skillParams.3"),value:Ua.burst.duration,unit:"s"},{text:ve.chg("burst.skillParams.4"),value:Ua.burst.cd},{text:ve.chg("burst.skillParams.5"),value:Ua.burst.enerCost}]},ve.condTem("constellation6",{teamBuff:!0,value:Y0,path:xX,name:l("activeCharField"),states:{lower:{name:l("lessEqPercentHP",{percent:50}),fields:[{node:a(IS,{path:"incHeal_"})}]},higher:{name:l("greaterPercentHP",{percent:50}),fields:[{node:a(RS,{path:"eleMas"})}]}}})]),passive1:ve.talentTem("passive1"),passive2:ve.talentTem("passive2"),passive3:ve.talentTem("passive3"),constellation1:ve.talentTem("constellation1"),constellation2:ve.talentTem("constellation2",[{fields:[{node:a(Ss.constellation2.pressShield,{name:ve.ch("pressShield")})},{node:a(Ss.constellation2.pressCryoShield,{name:ve.ch("pressCryoShield")})},{node:a(Ss.constellation2.holdShield,{name:ve.ch("holdShield")})},{node:a(Ss.constellation2.holdCryoShield,{name:ve.ch("holdCryoShield")})},{text:s("duration"),value:Ua.constellation2.coopShieldDuration_,unit:"s"}]}]),constellation3:ve.talentTem("constellation3",[{fields:[{node:xS}]}]),constellation4:ve.talentTem("constellation4"),constellation5:ve.talentTem("constellation5",[{fields:[{node:DS}]}]),constellation6:ve.talentTem("constellation6")}},RX=new I(IX,AX),Ur="Dori",uu="electro",HX="sumeru",Gk=g.char.data[Ur],Ia=g.char.skillParam[Ur],Jt=B(Ur,Gk.weaponType);let So=0,j1=0,pd=0;const Sn={normal:{hitArr:[Ia.auto[So++],Ia.auto[So++],Ia.auto[So++],Ia.auto[So++]]},charged:{spinningDmg:Ia.auto[So++],finalDmg:Ia.auto[So++],stamina:Ia.auto[So++][0],duration:Ia.auto[So++][0]},plunging:{dmg:Ia.auto[So++],low:Ia.auto[So++],high:Ia.auto[So++]},skill:{shotDmg:Ia.skill[j1++],roundDmg:Ia.skill[j1++],numRounds:2,cd:Ia.skill[j1++][0]},burst:{connectorDmg:Ia.burst[pd++],healMult:Ia.burst[pd++],healBase:Ia.burst[pd++],energyRegen:Ia.burst[pd++],duration:Ia.burst[pd++][0],cd:Ia.burst[pd++][0],enerCost:Ia.burst[pd++][0]},passive1:{cdRed:Ia.passive1[0][0],cd:Ia.passive1[1][0]},passive2:{energyRegen:Ia.passive2[0][0],maxEnergyRegen:Ia.passive2[1][0]},constellation1:{addlRounds:1},constellation2:{toopDmg:Ia.constellation2[0]},constellation4:{hpThresh:50,energyThresh:50,incHeal_:Ia.constellation4[0],enerRech_:Ia.constellation4[1]},constellation6:{infusionDuration:Ia.constellation6[0],heal_:Ia.constellation6[1],cd:.1}},[EX,HS]=r(Ur,"c4BelowHp"),[OX,ES]=r(Ur,"c4BelowEner"),OS=n(e.constellation,4,i(HS,"belowHp",Sn.constellation4.incHeal_)),MX=i(e.activeCharKey,E.charKey,OS),MS=n(e.constellation,4,i(ES,"belowEner",Sn.constellation4.enerRech_)),KX=i(e.activeCharKey,E.charKey,MS),[FX,e$]=r(Ur,"c6AfterSkill"),NX=pm(e.constellation,6,ss(e$,"on",uu)),$l={normal:Object.fromEntries(Sn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",Sn.charged.spinningDmg,"charged"),finalDmg:c("atk",Sn.charged.finalDmg,"charged")},plunging:R("atk",Sn.plunging),skill:{shotDmg:c("atk",Sn.skill.shotDmg,"skill"),roundDmg:c("atk",Sn.skill.roundDmg,"skill")},burst:{connectorDmg:c("atk",Sn.burst.connectorDmg,"burst"),heal:an("hp",Sn.burst.healMult,Sn.burst.healBase,"burst")},passive2:{energyRegen:n(e.asc,4,da(m(p(Sn.passive2.energyRegen),e.total.enerRech_),p(Sn.passive2.maxEnergyRegen)))},constellation2:{dmg:n(e.constellation,2,C(m(u(e.total.skillIndex,Sn.skill.shotDmg,{unit:"%"}),a(d(Sn.constellation2.toopDmg),{name:Jt.ch("c2MultiplierKey_")}),e.total.atk),"elemental",{hit:{ele:p(uu)}}))},constellation6:{heal:n(e.constellation,6,i(e$,"on",jn(m(d(Sn.constellation6.heal_),e.total.hp))))}},KS=n(e.constellation,3,3),FS=n(e.constellation,5,3),jX=A(Ur,uu,HX,Gk,$l,{premod:{skillBoost:FS,burstBoost:KS},infusion:{overridableSelf:NX},teamBuff:{premod:{incHeal_:MX,enerRech_:KX}}}),GX={key:Ur,name:Jt.name,rarity:Gk.rarity,elementKey:uu,weaponTypeKey:Gk.weaponType,gender:"F",constellationName:Jt.chg("constellationName"),title:Jt.chg("title"),talent:{auto:Jt.talentTem("auto",[{text:Jt.chg("auto.fields.normal")},{fields:Sn.normal.hitArr.map((t,o)=>({node:a($l.normal[o],{name:Jt.chg(`auto.skillParams.${o>1?o-1:o}`),textSuffix:o>=1&&o<3?`(${o})`:void 0})}))},{text:Jt.chg("auto.fields.charged")},{fields:[{node:a($l.charged.spinningDmg,{name:Jt.chg("auto.skillParams.3")})},{node:a($l.charged.finalDmg,{name:Jt.chg("auto.skillParams.4")})},{text:Jt.chg("auto.skillParams.5"),value:Sn.charged.stamina,unit:"/s"},{text:Jt.chg("auto.skillParams.6"),value:Sn.charged.duration,unit:"s"}]},{text:Jt.chg("auto.fields.plunging")},{fields:[{node:a($l.plunging.dmg,{name:s("plunging.dmg")})},{node:a($l.plunging.low,{name:s("plunging.low")})},{node:a($l.plunging.high,{name:s("plunging.high")})}]}]),skill:Jt.talentTem("skill",[{fields:[{node:a($l.skill.shotDmg,{name:Jt.chg("skill.skillParams.0")})},{node:a($l.skill.roundDmg,{name:Jt.chg("skill.skillParams.1")})},{text:s("cd"),value:Sn.skill.cd,unit:"s"}]},Jt.headerTem("passive2",{fields:[{node:a($l.passive2.energyRegen,{name:s("energyRegen")})}]}),Jt.condTem("constellation6",{path:FX,value:e$,name:l("afterUse.skill"),states:{on:{fields:[{text:H(Ba,{color:uu,children:l(`infusion.${uu}`)})},{text:s("duration"),value:Sn.constellation6.infusionDuration,unit:"s"},{node:a($l.constellation6.heal,{name:s("hpRegenPerHit"),variant:"heal"})},{text:s("cd"),value:Sn.constellation6.cd,unit:"s",fixed:1}]}}})]),burst:Jt.talentTem("burst",[{fields:[{node:a($l.burst.connectorDmg,{name:Jt.chg("burst.skillParams.0")})},{node:a($l.burst.heal,{name:Jt.chg("burst.skillParams.1"),variant:"heal"})},{text:s("energyRegen"),value:t=>t.get(u(e.total.burstIndex,Sn.burst.energyRegen)).value,fixed:1},{text:s("duration"),value:Sn.burst.duration,unit:"s"},{text:s("cd"),value:Sn.burst.cd,unit:"s"},{text:s("energyCost"),value:Sn.burst.enerCost}]},Jt.headerTem("constellation2",{fields:[{node:a($l.constellation2.dmg,{name:Jt.ch("c2DmgKey")})}]}),Jt.condTem("constellation4",{teamBuff:!0,states:{belowHp:{path:EX,value:HS,name:Jt.ch("c4ConnectedBelowHp"),fields:[{node:a(OS,{path:"incHeal_"})}]},belowEner:{path:OX,value:ES,name:Jt.ch("c4ConnectedBelowEner"),fields:[{node:a(MS,{path:"enerRech_"})}]}}})]),passive1:Jt.talentTem("passive1"),passive2:Jt.talentTem("passive2"),passive3:Jt.talentTem("passive3"),constellation1:Jt.talentTem("constellation1"),constellation2:Jt.talentTem("constellation2"),constellation3:Jt.talentTem("constellation3",[{fields:[{node:KS}]}]),constellation4:Jt.talentTem("constellation4"),constellation5:Jt.talentTem("constellation5",[{fields:[{node:FS}]}]),constellation6:Jt.talentTem("constellation6")}},WX=new I(GX,jX),Qi="Eula",Wk=g.char.data[Qi],Zt=g.char.skillParam[Qi],W=B(Qi,Wk.weaponType);let Jl=0,Bl=0,Um=0,LX=0;const _n={normal:{hitArr:[Zt.auto[Jl++],Zt.auto[Jl++],Zt.auto[Jl++],Zt.auto[Jl++],Zt.auto[Jl++]]},charged:{spinningDmg:Zt.auto[Jl++],finalDmg:Zt.auto[Jl++],stamina:Zt.auto[Jl++][0],duration:Zt.auto[Jl++][0]},plunging:{dmg:Zt.auto[Jl++],low:Zt.auto[Jl++],high:Zt.auto[Jl++]},skill:{press:Zt.skill[Bl++],hold:Zt.skill[Bl++],icewhirl:Zt.skill[Bl++],physResDec:Zt.skill[Bl++],cryoResDec:Zt.skill[Bl++],resDecDuration:Zt.skill[Bl++][0],pressCd:Zt.skill[Bl++][0],holdCd:Zt.skill[Bl++][0],defBonus:Zt.skill[Bl++][0],unknown:Zt.skill[Bl++][0],physResDecNegative:Zt.skill[Bl++],cryoResDecNegative:Zt.skill[Bl++],grimheartDuration:Zt.skill[Bl++][0]},burst:{dmg:Zt.burst[Um++],lightfallDmg:Zt.burst[Um++],dmgPerStack:Zt.burst[Um++],maxStack:Zt.burst[Um++][0],cd:Zt.burst[Um++][0],enerCost:Zt.burst[Um++][0]},passive1:{percentage:Zt.passive1[LX++][0]},constellation1:{physInc:Zt.constellation1[0]},constellation4:{dmgInc:Zt.constellation4[0]}},[zX,NS]=r(Qi,"Grimheart"),[UX,t$]=r(Qi,"grimheartConsumed"),[VX,jS]=r(Qi,"LightfallSword"),[qX,GS]=r(Qi,"LightfallSwordC4"),[JX,WS]=r(Qi,"TidalIllusion"),LS=b(1,30),zS=m(a(u(e.total.burstIndex,_n.burst.dmgPerStack),{name:W.ch("burstC.bonusScaling"),unit:"%",variant:"physical"}),a(v(jS,_(LS,t=>p(t)),y),{name:W.ch("burstC.name")})),Hv=v(NS,{stack1:d(_n.skill.defBonus),stack2:d(2*_n.skill.defBonus)},y),US=i("on",t$,u(e.total.skillIndex,_n.skill.cryoResDecNegative)),VS=i("on",t$,u(e.total.skillIndex,_n.skill.physResDecNegative)),qS=n(e.constellation,1,i("on",WS,d(_n.constellation1.physInc))),JS=a(n(e.constellation,4,i(GS,"on",p(_n.constellation4.dmgInc))),{name:W.ch("c4C.dmgBonus")}),V4={premod:{burst_dmg_:JS},hit:{ele:p("physical")}},Ol={normal:Object.fromEntries(_n.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",_n.charged.spinningDmg,"charged"),finalDmg:c("atk",_n.charged.finalDmg,"charged")},plunging:R("atk",_n.plunging),skill:{press:c("atk",_n.skill.press,"skill"),hold:c("atk",_n.skill.hold,"skill"),icewhirl:c("atk",_n.skill.icewhirl,"skill")},burst:{dmg:c("atk",_n.burst.dmg,"burst"),lightFallSwordNew:C(m(P(u(e.total.burstIndex,_n.burst.lightfallDmg,{unit:"%"}),zS),e.total.atk),"burst",V4)},passive1:{shatteredLightfallSword:n(e.asc,1,m(c("atk",_n.burst.lightfallDmg,"burst",V4,d(_n.passive1.percentage))))}},QS=n(e.constellation,3,3),XS=n(e.constellation,5,3),QX=A(Qi,"cryo","mondstadt",Wk,Ol,{premod:{skillBoost:XS,burstBoost:QS,def_:Hv,cryo_enemyRes_:US,physical_enemyRes_:VS,physical_dmg_:qS}}),XX={key:Qi,name:W.name,rarity:Wk.rarity,elementKey:"cryo",weaponTypeKey:Wk.weaponType,gender:"F",constellationName:W.chg("constellationName"),title:W.chg("title"),talent:{auto:W.talentTem("auto",[{text:W.chg("auto.fields.normal")},{fields:_n.normal.hitArr.map((t,o)=>({node:a(Ol.normal[o],{name:W.chg(`auto.skillParams.${o}`),multi:o===2||o===4?2:void 0})}))},{text:W.chg("auto.fields.charged")},{fields:[{node:a(Ol.charged.spinningDmg,{name:W.chg("auto.skillParams.5")})},{node:a(Ol.charged.finalDmg,{name:W.chg("auto.skillParams.6")})},{text:W.chg("auto.skillParams.7"),value:_n.charged.stamina,unit:"/s"},{text:W.chg("auto.skillParams.8"),value:_n.charged.duration,unit:"s"}]},{text:W.chg("auto.fields.plunging")},{fields:[{node:a(Ol.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ol.plunging.low,{name:s("plunging.low")})},{node:a(Ol.plunging.high,{name:s("plunging.high")})}]}]),skill:W.talentTem("skill",[{fields:[{node:a(Ol.skill.press,{name:W.chg("skill.skillParams.0")})},{node:a(Ol.skill.hold,{name:W.chg("skill.skillParams.1")})},{node:a(Ol.skill.icewhirl,{name:W.chg("skill.skillParams.2")})},{text:W.chg("skill.skillParams.8"),value:`${_n.skill.pressCd}`,unit:"s"},{text:s("hold.cd"),value:`${_n.skill.holdCd}`,unit:"s"},{text:W.chg("burst.skillParams.3"),value:2}]},W.condTem("skill",{value:NS,path:zX,name:W.chg("skill.description.6"),states:{stack1:{name:l("stack",{count:1}),fields:[{node:Hv},{text:l("incInterRes")},{text:W.chg("skill.skillParams.4"),value:_n.skill.grimheartDuration,unit:"s"}]},stack2:{name:l("stack",{count:2}),fields:[{node:Hv},{text:l("incInterRes")},{text:W.chg("skill.skillParams.4"),value:_n.skill.grimheartDuration,unit:"s"}]}}}),W.condTem("skill",{value:t$,path:UX,teamBuff:!0,name:W.ch("c1C.name"),states:{on:{fields:[{node:US},{node:VS},{text:s("duration"),value:7,unit:"s"}]}}})]),burst:W.talentTem("burst",[{fields:[{node:a(Ol.burst.dmg,{name:W.chg("burst.skillParams.0")})},{node:a(Ol.burst.lightFallSwordNew,{name:W.ch("burstC.dmg")})},{text:s("duration"),value:7,unit:"s"},{text:W.chg("burst.skillParams.4"),value:`${_n.burst.cd}`,unit:"s"},{text:W.chg("burst.skillParams.5"),value:`${_n.burst.enerCost}`}]},W.condTem("burst",{value:jS,path:VX,name:W.ch("burstC.name"),states:{..._(LS,t=>({name:l("stack",{count:t}),fields:[{node:a(zS,{name:W.ch("burstC.bonusScaling"),unit:"%",variant:"physical"})}]}))}}),W.condTem("constellation4",{value:GS,path:qX,name:l("enemyLessPercentHP",{percent:50}),states:{on:{fields:[{node:a(JS,{name:W.ch("c4C.dmgBonus"),unit:"%",variant:"physical"})}]}}}),W.headerTem("constellation6",{fields:[{text:W.ch("burstC.start5")},{text:W.ch("burstC.addStacks")}]})]),passive1:W.talentTem("passive1",[W.fieldsTem("passive1",{fields:[{node:a(Ol.passive1.shatteredLightfallSword,{name:W.ch("passive1")})}]})]),passive2:W.talentTem("passive2"),passive3:W.talentTem("passive3"),constellation1:W.talentTem("constellation1",[W.condTem("constellation1",{value:WS,path:JX,name:W.ch("c1C.name"),states:{on:{fields:[{node:qS},{text:s("duration"),value:W.ch("c1C.durationStack")}]}}})]),constellation2:W.talentTem("constellation2"),constellation3:W.talentTem("constellation3",[{fields:[{node:QS}]}]),constellation4:W.talentTem("constellation4"),constellation5:W.talentTem("constellation5",[{fields:[{node:XS}]}]),constellation6:W.talentTem("constellation6")}},YX=new I(XX,QX),Ui="Faruzan",a$="anemo",ZX="sumeru",Lk=g.char.data[Ui],pn=g.char.skillParam[Ui],qe=B(Ui,Lk.weaponType);let uc=0,Op=0,nr=0,eY=0,q4=0;const Hn={normal:{hitArr:[pn.auto[uc++],pn.auto[uc++],pn.auto[uc++],pn.auto[uc++]]},charged:{aimed:pn.auto[uc++],aimedCharged:pn.auto[uc++]},plunging:{dmg:pn.auto[uc++],low:pn.auto[uc++],high:pn.auto[uc++]},skill:{skill_dmg:pn.skill[Op++],vortex_dmg:pn.skill[Op++],galeDuration:pn.skill[Op++][0],cd:pn.skill[Op++][0]},burst:{dmg:pn.burst[nr++],anemo_dmg_:pn.burst[nr++],giftDuration:pn.burst[nr++][0],anemo_enemyRes_:-pn.burst[nr++][0],riftDuration:pn.burst[nr++][0],polyDuration:pn.burst[nr++][0],cd:pn.burst[nr++][0],enerCost:pn.burst[nr++][0]},passive1:{chargeShotDec_:pn.passive1[eY++][0]},passive2:{gift_dmgInc:pn.passive2[q4++][0],cd:pn.passive2[q4++][0]},constellation2:{durationInc:pn.constellation2[0]},constellation6:{anemo_critDMG_:pn.constellation6[0],duration:pn.constellation6[0]}},[tY,gu]=r(Ui,"burstBenefit"),YS=i(gu,"on",u(e.total.burstIndex,Hn.burst.anemo_dmg_)),[aY,ZS]=r(Ui,"burstHit"),e6=i(ZS,"on",Hn.burst.anemo_enemyRes_),[nY,t6]=r(Ui,"a4Active"),[sY,a6]=r(Ui,"c6Crit"),n6=n(e.constellation,6,i(gu,"on",i(a6,"on",Hn.constellation6.anemo_critDMG_))),fo={normal:Object.fromEntries(Hn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",Hn.charged.aimed,"charged"),aimedCharged:c("atk",Hn.charged.aimedCharged,"charged",{hit:{ele:p(a$)}})},plunging:Object.fromEntries(Object.entries(Hn.plunging).map(([t,o])=>[t,c("atk",o,t==="dmg"?"plunging_collision":"plunging_impact")])),skill:{skillDmg:c("atk",Hn.skill.skill_dmg,"skill"),vortexDmg:c("atk",Hn.skill.vortex_dmg,"skill")},burst:{dmg:c("atk",Hn.burst.dmg,"burst")},passive2:{anemo_dmgInc:n(e.asc,4,i(gu,"on",i(t6,"on",m(d(Hn.passive2.gift_dmgInc),e.base.atk))))}},s6=n(e.constellation,3,3),l6=n(e.constellation,5,3),lY=A(Ui,a$,ZX,Lk,fo,{premod:{burstBoost:l6,skillBoost:s6},teamBuff:{premod:{anemo_dmgInc:fo.passive2.anemo_dmgInc,anemo_dmg_:YS,anemo_enemyRes_:e6,anemo_critDMG_:n6}}}),oY={key:Ui,name:qe.name,rarity:Lk.rarity,elementKey:a$,weaponTypeKey:Lk.weaponType,gender:"F",constellationName:qe.chg("constellationName"),title:qe.chg("title"),talent:{auto:qe.talentTem("auto",[{text:qe.chg("auto.fields.normal")},{fields:Hn.normal.hitArr.map((t,o)=>({node:a(fo.normal[o],{name:qe.chg(`auto.skillParams.${o}`)})}))},{text:qe.chg("auto.fields.charged")},{fields:[{node:a(fo.charged.aimed,{name:qe.chg("auto.skillParams.4")})},{node:a(fo.charged.aimedCharged,{name:qe.chg("auto.skillParams.5")})}]},{text:qe.chg("auto.fields.plunging")},{fields:[{node:a(fo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(fo.plunging.low,{name:s("plunging.low")})},{node:a(fo.plunging.high,{name:s("plunging.high")})}]}]),skill:qe.talentTem("skill",[{fields:[{node:a(fo.skill.skillDmg,{name:qe.chg("skill.skillParams.0")})},{node:a(fo.skill.vortexDmg,{name:qe.chg("skill.skillParams.1")})},{text:qe.chg("skill.skillParams.2"),value:Hn.skill.galeDuration,unit:"s"},{text:s("cd"),value:Hn.skill.cd,unit:"s"}]}]),burst:qe.talentTem("burst",[{fields:[{node:a(fo.burst.dmg,{name:qe.chg("burst.skillParams.0")})},{text:qe.chg("burst.skillParams.5"),value:t=>t.get(e.constellation).value>=2?`${Hn.burst.polyDuration}s + ${Hn.constellation2.durationInc}s = ${Hn.burst.polyDuration+Hn.constellation2.durationInc}`:Hn.burst.polyDuration,unit:"s"},{text:s("cd"),value:Hn.burst.cd,unit:"s"},{text:s("energyCost"),value:Hn.burst.enerCost}]},qe.condTem("burst",{teamBuff:!0,path:tY,value:gu,name:qe.ch("giftCondName"),states:{on:{fields:[{node:YS},{text:qe.chg("burst.skillParams.2"),value:Hn.burst.giftDuration,unit:"s"}]}}}),qe.condTem("burst",{teamBuff:!0,path:aY,value:ZS,name:qe.ch("baleCondName"),states:{on:{fields:[{node:e6},{text:qe.chg("burst.skillParams.4"),value:Hn.burst.riftDuration,unit:"s"}]}}}),qe.condTem("passive2",{canShow:i(gu,"on",1),teamBuff:!0,path:nY,value:t6,name:qe.ch("a4CondName"),states:{on:{fields:[{node:fo.passive2.anemo_dmgInc},{text:s("cd"),value:Hn.passive2.cd,unit:"s",fixed:1}]}}}),qe.headerTem("constellation2",{fields:[{text:qe.ch("c2DurationInc"),value:Hn.constellation2.durationInc,unit:"s"}]}),qe.condTem("constellation6",{teamBuff:!0,canShow:i(gu,"on",1),path:sY,value:a6,name:qe.ch("giftCondName"),states:{on:{fields:[{node:n6},{canShow:t=>t.get(e.activeCharKey).value===Ui,text:qe.ch("c6Arrow")}]}}})]),passive1:qe.talentTem("passive1"),passive2:qe.talentTem("passive2"),passive3:qe.talentTem("passive3"),constellation1:qe.talentTem("constellation1"),constellation2:qe.talentTem("constellation2"),constellation3:qe.talentTem("constellation3",[{fields:[{node:s6}]}]),constellation4:qe.talentTem("constellation4"),constellation5:qe.talentTem("constellation5",[{fields:[{node:l6}]}]),constellation6:qe.talentTem("constellation6")}},iY=new I(oY,lY),ih="Fischl",o6="electro",cY="mondstadt",zk=g.char.data[ih],In=g.char.skillParam[ih],Je=B(ih,zk.weaponType);let bi=0,Mp=0,G1=0,rY=0,dY=0;const rs={normal:{hitArr:[In.auto[bi++],In.auto[bi++],In.auto[bi++],In.auto[bi++],In.auto[bi++]]},charged:{aimed:In.auto[bi++],aimedCharged:In.auto[bi++]},plunging:{dmg:In.auto[bi++],low:In.auto[bi++],high:In.auto[bi++]},skill:{ozDmg:In.skill[Mp++],summonDmg:In.skill[Mp++],duration:In.skill[Mp++][0],cd:In.skill[Mp++][0]},burst:{dmg:In.burst[G1++],cd:In.burst[G1++][0],enerCost:In.burst[G1++][0]},passive1:{dmg:In.passive1[rY++][0]},passive2:{dmg:In.passive2[dY++][0]},constellation1:{dmg:In.constellation1[0]},constellation2:{dmg:In.constellation2[0]},constellation4:{dmg:In.constellation4[0],regen:In.constellation4[1]},constellation6:{dmg:In.constellation6[0],duration:In.constellation6[1]}},ll={normal:Object.fromEntries(rs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",rs.charged.aimed,"charged"),aimedCharged:c("atk",rs.charged.aimedCharged,"charged",{hit:{ele:p("electro")}})},plunging:R("atk",rs.plunging),skill:{ozDmg:c("atk",rs.skill.ozDmg,"skill"),summonDmg:C(m(a(P(u(e.total.skillIndex,rs.skill.summonDmg,{unit:"%"}),n(e.constellation,2,d(rs.constellation2.dmg))),{asConst:!0,unit:"%"}),e.total.atk),"skill",{hit:{ele:p("electro")}})},burst:{dmg:c("atk",rs.burst.dmg,"burst")},passive1:{aimedChargedOz:n(e.asc,1,m(d(rs.passive1.dmg),c("atk",rs.charged.aimedCharged,"charged",{hit:{ele:p("electro")}})))},passive2:{dmg:n(e.asc,4,C(m(e.total.atk,d(rs.passive2.dmg)),"skill",{hit:{ele:p("electro")}}))},constellation1:{dmg:n(e.constellation,1,C(m(e.total.atk,d(rs.constellation1.dmg)),"normal",{hit:{ele:p("physical")}}))},constellation4:{burstAdditionalDmg:n(e.constellation,4,C(m(e.total.atk,d(rs.constellation4.dmg)),"burst",{hit:{ele:p("electro")}})),burstRegen:n(e.constellation,4,jn(m(e.total.hp,d(rs.constellation4.regen))))},constellation6:{ozActiveCharDmg:n(e.constellation,6,C(m(e.total.atk,d(rs.constellation6.dmg)),"skill",{hit:{ele:p("electro")}}))}},i6=n(e.constellation,3,3),c6=n(e.constellation,5,3),mY=A(ih,o6,cY,zk,ll,{premod:{skillBoost:i6,burstBoost:c6}}),uY={key:ih,name:Je.name,rarity:zk.rarity,elementKey:o6,weaponTypeKey:zk.weaponType,gender:"F",constellationName:Je.chg("constellationName"),title:Je.chg("title"),talent:{auto:Je.talentTem("auto",[{text:Je.chg("auto.fields.normal")},{fields:rs.normal.hitArr.map((t,o)=>({node:a(ll.normal[o],{name:Je.chg(`auto.skillParams.${o}`)})}))},{text:Je.chg("auto.fields.charged")},{fields:[{node:a(ll.charged.aimed,{name:Je.chg("auto.skillParams.5")})},{node:a(ll.charged.aimedCharged,{name:Je.chg("auto.skillParams.6")})}]},Je.headerTem("passive1",{fields:[{node:a(ll.passive1.aimedChargedOz,{name:Je.ch("a1Name")})}]}),{text:Je.chg("auto.fields.plunging")},{fields:[{node:a(ll.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ll.plunging.low,{name:s("plunging.low")})},{node:a(ll.plunging.high,{name:s("plunging.high")})}]}]),skill:Je.talentTem("skill",[{fields:[{node:a(ll.skill.ozDmg,{name:Je.chg("skill.skillParams.0")})},{node:a(ll.skill.summonDmg,{name:Je.chg("skill.skillParams.1")})},{text:Je.chg("skill.skillParams.2"),value:t=>t.get(e.constellation).value>=6?rs.skill.duration+rs.constellation6.duration:rs.skill.duration,unit:"s"},{text:Je.chg("skill.skillParams.3"),value:rs.skill.cd,unit:"s"}]},Je.headerTem("passive2",{fields:[{node:a(ll.passive2.dmg,{name:Je.ch("a2Name")})}]}),Je.headerTem("constellation2",{canShow:n(e.constellation,2,1),fields:[{text:l("aoeInc"),value:50,unit:"%"}]}),Je.headerTem("constellation6",{fields:[{node:a(ll.constellation6.ozActiveCharDmg,{name:Je.ch("c6OzDmg")})}]})]),burst:Je.talentTem("burst",[{fields:[{node:a(ll.burst.dmg,{name:Je.chg("burst.skillParams.0")})},{text:Je.chg("burst.skillParams.1"),value:`${rs.burst.cd}`,unit:"s"},{text:Je.chg("burst.skillParams.2"),value:`${rs.burst.enerCost}`}]},Je.headerTem("constellation4",{fields:[{node:a(ll.constellation4.burstAdditionalDmg,{name:Je.ch("c4AoeDmg")})},{node:a(ll.constellation4.burstRegen,{name:s("healing")})}]})]),passive1:Je.talentTem("passive1"),passive2:Je.talentTem("passive2"),passive3:Je.talentTem("passive3"),constellation1:Je.talentTem("constellation1",[Je.fieldsTem("constellation1",{fields:[{node:a(ll.constellation1.dmg,{name:Je.ch("c1Name")})}]})]),constellation2:Je.talentTem("constellation2"),constellation3:Je.talentTem("constellation3",[{fields:[{node:i6}]}]),constellation4:Je.talentTem("constellation4"),constellation5:Je.talentTem("constellation5",[{fields:[{node:c6}]}]),constellation6:Je.talentTem("constellation6")}},gY=new I(uY,mY),Vr="Freminet",Ed=g.char.data[Vr],we=g.char.skillParam[Vr],ge=B(Vr,Ed.weaponType);let Co=0,Al=0,Kp=0;const Qt={normal:{hitArr:[we.auto[Co++],we.auto[Co++],we.auto[Co++],we.auto[Co++]]},charged:{spin_dmg:we.auto[Co++],final_dmg:we.auto[Co++],stamina:we.auto[Co++][0],duration:we.auto[Co++][0]},plunging:{dmg:we.auto[Co++],low:we.auto[Co++],high:we.auto[Co++]},skill:{thrustDmg:we.skill[Al++],thornDmg:we.skill[Al++],frostDmg:we.skill[Al++],level0Dmg:we.skill[Al++],level1CryoDmg:we.skill[Al++],level1PhysDmg:we.skill[Al++],level2CryoDmg:we.skill[Al++],level2PhysDmg:we.skill[Al++],level3CryoDmg:we.skill[Al++],level3PhysDmg:we.skill[Al++],level4Dmg:we.skill[Al++],cd:we.skill[Al++][0],thornInterval:we.skill[Al++][0]},burst:{skillDmg:we.burst[Kp++],duration:we.burst[Kp++][0],cd:we.burst[Kp++][0],enerCost:we.burst[Kp++][0]},passive1:{cdDecrease:we.passive1[0][0]},passive2:{pressure_dmg_:we.passive2[0][0],duration:we.passive2[1][0]},constellation1:{pressure_critRate_:we.constellation1[0]},constellation2:{energyGen:we.constellation2[0],level4EnergyGen:we.constellation2[1]},constellation4:{atk_:we.constellation4[0],duration:we.constellation4[1],maxStacks:we.constellation4[2],cd:we.constellation4[3]},constellation6:{critDMG_:we.constellation6[0],duration:we.constellation6[1],maxStacks:we.constellation6[2],cd:we.constellation6[3]}},[hY,Ev]=r(Vr,"stalk"),r6=Qs(Ev,"on",a(d(2),{name:ge.ch("frost_dmgMult_")}),Js),[pY,d6]=r(Vr,"a4AfterShatter"),m6=n(e.asc,4,i(d6,"on",Qt.passive2.pressure_dmg_)),u6=n(e.constellation,1,Qt.constellation1.pressure_critRate_),[J4,Uk]=r(Vr,"c4C6Stacks"),Vk=b(1,Qt.constellation6.maxStacks),g6=n(e.constellation,4,v(Uk,_(Vk,t=>m(Qt.constellation4.atk_,Math.min(Qt.constellation4.maxStacks,t))),y)),h6=n(e.constellation,6,v(Uk,_(Vk,t=>m(Qt.constellation6.critDMG_,t)),y)),Hg={premod:{skill_dmg_:m6,skill_critRate_:u6}},Fp={...Hg,hit:{ele:p("physical")}},Cs={normal:Object.fromEntries(Qt.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",Qt.charged.spin_dmg,"charged"),finalDmg:c("atk",Qt.charged.final_dmg,"charged")},plunging:R("atk",Qt.plunging),skill:{thrustDmg:c("atk",Qt.skill.thrustDmg,"skill"),frostDmg:c("atk",Qt.skill.frostDmg,"skill",void 0,r6),level0Dmg:c("atk",Qt.skill.level0Dmg,"skill",Hg),level1CryoDmg:c("atk",Qt.skill.level1CryoDmg,"skill",Hg),level1PhysDmg:c("atk",Qt.skill.level1PhysDmg,"skill",Fp),level2CryoDmg:c("atk",Qt.skill.level2CryoDmg,"skill",Hg),level2PhysDmg:c("atk",Qt.skill.level2PhysDmg,"skill",Fp),level3CryoDmg:c("atk",Qt.skill.level3CryoDmg,"skill",Hg),level3PhysDmg:c("atk",Qt.skill.level3PhysDmg,"skill",Fp),level4Dmg:c("atk",Qt.skill.level4Dmg,"skill",Fp),thornDmg:c("atk",Qt.skill.thornDmg,"skill")},burst:{dmg:c("atk",Qt.burst.skillDmg,"burst")}},p6=n(e.constellation,3,3),k6=n(e.constellation,5,3),kY=A(Vr,Ed.ele,Ed.region,Ed,Cs,{premod:{skillBoost:k6,autoBoost:p6,atk_:g6,critDMG_:h6}}),fY={key:Vr,name:ge.name,rarity:Ed.rarity,elementKey:Ed.ele,weaponTypeKey:Ed.weaponType,gender:"M",constellationName:ge.chg("constellationName"),title:ge.chg("title"),talent:{auto:ge.talentTem("auto",[{text:ge.chg("auto.fields.normal")},{fields:Qt.normal.hitArr.map((t,o)=>({node:a(Cs.normal[o],{name:ge.chg(`auto.skillParams.${o}`)})}))},{text:ge.chg("auto.fields.charged")},{fields:[{node:a(Cs.charged.spinningDmg,{name:ge.chg("auto.skillParams.4")})},{node:a(Cs.charged.finalDmg,{name:ge.chg("auto.skillParams.5")})},{text:ge.chg("auto.skillParams.6"),value:Qt.charged.stamina,unit:"/s"},{text:ge.chg("auto.skillParams.7"),value:Qt.charged.duration,unit:"s"}]},{text:ge.chg("auto.fields.plunging")},{fields:[{node:a(Cs.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Cs.plunging.low,{name:s("plunging.low")})},{node:a(Cs.plunging.high,{name:s("plunging.high")})}]}]),skill:ge.talentTem("skill",[{fields:[{node:a(Cs.skill.thrustDmg,{name:ge.chg("skill.skillParams.0")})},{node:a(Cs.skill.frostDmg,{name:ge.chg("skill.skillParams.1")})},{node:a(Cs.skill.level0Dmg,{name:ge.chg("skill.skillParams.2")})},{node:a(Cs.skill.level1CryoDmg,{name:ge.chg("skill.skillParams.3")})},{node:a(Cs.skill.level1PhysDmg,{name:ge.chg("skill.skillParams.3")})},{node:a(Cs.skill.level2CryoDmg,{name:ge.chg("skill.skillParams.4")})},{node:a(Cs.skill.level2PhysDmg,{name:ge.chg("skill.skillParams.4")})},{node:a(Cs.skill.level3CryoDmg,{name:ge.chg("skill.skillParams.5")})},{node:a(Cs.skill.level3PhysDmg,{name:ge.chg("skill.skillParams.5")})},{node:a(Cs.skill.level4Dmg,{name:ge.chg("skill.skillParams.6")})},{node:a(Cs.skill.thornDmg,{name:ge.chg("skill.skillParams.7")})},{text:ge.chg("skill.skillParams.8"),value:Qt.skill.thornInterval,unit:"s"},{text:s("cd"),value:t=>t.get(Ev).value==="on"?`${Qt.skill.cd}s - 70% = ${Qt.skill.cd*.3}`:Qt.skill.cd,unit:"s"}]},ge.condTem("passive2",{value:d6,path:pY,name:l("elementalReaction.shatter"),states:{on:{fields:[{node:a(m6,{name:ge.ch("pressure_dmg_"),unit:"%"})},{text:s("duration"),value:Qt.passive2.duration,unit:"s"}]}}}),ge.headerTem("constellation1",{fields:[{node:a(u6,{name:ge.ch("pressure_critRate_"),unit:"%",icon:H(ez,{statKey:"critRate_",iconProps:{fontSize:"inherit",color:ZL.getVariant("critRate_")}})})}]})]),burst:ge.talentTem("burst",[{fields:[{node:a(Cs.burst.dmg,{name:ge.chg("burst.skillParams.0")})},{text:s("duration"),value:Qt.burst.duration,unit:"s"},{text:s("cd"),value:Qt.burst.cd,unit:"s"},{text:s("energyCost"),value:Qt.burst.enerCost}]},ge.condTem("burst",{value:Ev,path:hY,name:l("afterUse.burst"),states:{on:{fields:[{text:l("skillCDRed"),value:70,unit:"%"},{node:r6}]}}})]),passive1:ge.talentTem("passive1"),passive2:ge.talentTem("passive2"),passive3:ge.talentTem("passive3"),constellation1:ge.talentTem("constellation1"),constellation2:ge.talentTem("constellation2"),constellation3:ge.talentTem("constellation3",[{fields:[{node:p6}]}]),constellation4:ge.talentTem("constellation4",[ge.condTem("constellation4",{value:Uk,path:J4,name:l("elementalReaction.cryo"),states:_(Vk,t=>({name:l("stack",{count:t}),fields:[{node:g6},{text:s("duration"),value:Qt.constellation4.duration,unit:"s"}]}))})]),constellation5:ge.talentTem("constellation5",[{fields:[{node:k6}]}]),constellation6:ge.talentTem("constellation6",[ge.condTem("constellation6",{value:Uk,path:J4,name:l("elementalReaction.cryo"),states:_(Vk,t=>({name:l("stack",{count:t}),fields:[{node:h6},{text:s("duration"),value:Qt.constellation4.duration,unit:"s"}]}))})])}},_Y=new I(fY,kY),Xi="Furina",$r=g.char.data[Xi],G=g.char.skillParam[Xi],L=B(Xi,$r.weaponType);let gc=0,Bo=0,sr=0;const Z={normal:{hitArr:[G.auto[gc++],G.auto[gc++],G.auto[gc++],G.auto[gc++]],bladeThornDmg:G.auto[9],bladeThornInterval:G.auto[10][0]},charged:{dmg:G.auto[gc++],stam:G.auto[gc++][0]},plunging:{dmg:G.auto[gc++],low:G.auto[gc++],high:G.auto[gc++]},skill:{bubbleDmg:G.skill[Bo++],duration:G.skill[Bo++][0],usherDmg:G.skill[Bo++],chevalDmg:G.skill[Bo++],crabDmg:G.skill[Bo++],usherHp:G.skill[Bo++][0],chevalHp:G.skill[Bo++][0],crabHp:G.skill[Bo++][0],streamsHealBase:G.skill[Bo++],streamsHealFlat:G.skill[Bo++],cd:G.skill[Bo++][0]},burst:{skillDmg:G.burst[sr++],duration:G.burst[sr++][0],fanfarePerHp:G.burst[sr++][0],maxFanfare:G.burst[sr++][0],dmgIncRatio:G.burst[sr++],heal_ratio:G.burst[sr++],cd:G.burst[sr++][0],enerCost:G.burst[sr++][0]},passive1:{duration:G.passive1[0][0],interval:G.passive1[1][0],heal:G.passive1[2][0]},passive2:{member_dmg_:G.passive2[0][0],max_member_dmg_:G.passive2[1][0],interval_dec_:G.passive2[2][0],max_interval_dec_:G.passive2[3][0]},constellation1:{bonusFanfare:G.constellation1[0],fanfareLimitInc:G.constellation1[1]},constellation2:{idk:G.constellation2[0],hp_:G.constellation2[1],stacks:G.constellation2[2],fanfare_gain_:G.constellation2[3],max_hp_:G.constellation2[4]},constellation4:{energyRegen:G.constellation4[0],cd:G.constellation4[1]},constellation6:{duration:G.constellation6[0],auto_dmgInc:G.constellation6[1],ousiaCd:G.constellation6[2],ousiaHeal:G.constellation6[3],ousiaDuration:G.constellation6[4],pneumaHpCost:G.constellation6[5],pneumaAuto_dmgInc:G.constellation6[6],triggers:G.constellation6[7]}},[vY,f6]=r(Xi,"skillHpConsumeStacks"),_6=b(1,4),hk=v(f6,_(_6,t=>d(1+.1*t)),Js),[bY,v6]=r(Xi,"burstFanfare"),$Y=b(50,Z.burst.maxFanfare,50),b6=b(50,Z.burst.maxFanfare+Z.constellation1.fanfareLimitInc,50),$6=v(v6,_(b6,t=>t>450?n(e.constellation,1,t):p(t)),y),y6=m($6,u(e.total.burstIndex,Z.burst.dmgIncRatio,{unit:"%",fixed:2})),T6=m($6,u(e.total.burstIndex,Z.burst.heal_ratio,{unit:"%",fixed:2})),P6=n(e.asc,4,da(m(d(Z.passive2.member_dmg_),e.total.hp,d(1/1e3)),d(Z.passive2.max_member_dmg_))),yY=n(e.asc,4,d_(m(d(-Z.passive2.interval_dec_),e.total.hp,d(1/1e3)),d(-Z.passive2.max_interval_dec_))),W1={premod:{skill_dmg_:P6}},[TY,w6]=r(Xi,"c2Overstack"),x6=b(50,Z.constellation2.stacks,50),D6=n(e.constellation,2,v(w6,_(x6,t=>m(t,d(Z.constellation2.hp_,{fixed:2}))),y)),[PY,Gg]=r(Xi,"c6"),[wY,S6]=r(Xi,"c6Pneuma"),xY=pm(e.constellation,6,ss(Gg,"on","hydro")),n$=n(e.constellation,6,i(Gg,"on",m(d(Z.constellation6.auto_dmgInc),e.total.hp))),s$=a({...n$},{path:"normal_dmgInc"}),l$=a({...n$},{path:"charged_dmgInc"}),o$=a({...n$},{path:"plunging_dmgInc"}),i$=n(e.constellation,6,i(Gg,"on",i(S6,"on",m(d(Z.constellation6.pneumaAuto_dmgInc),e.total.hp)))),C6=a({...i$},{path:"normal_dmgInc"}),B6=a({...i$},{path:"charged_dmgInc"}),A6=a({...i$},{path:"plunging_dmgInc"}),ol={normal:{...Object.fromEntries(Z.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),thornBladeDmg:c("atk",Z.normal.bladeThornDmg,"normal",{hit:{ele:p($r.ele)}})},charged:{dmg:c("atk",Z.charged.dmg,"charged")},plunging:R("atk",Z.plunging),skill:{bubbleDmg:c("hp",Z.skill.bubbleDmg,"skill"),usherDmg:c("hp",Z.skill.usherDmg,"skill",W1,hk),chevalDmg:c("hp",Z.skill.chevalDmg,"skill",W1,hk),crabDmg:c("hp",Z.skill.crabDmg,"skill",W1,hk),streamsHeal:an("hp",Z.skill.streamsHealBase,Z.skill.streamsHealFlat,"skill")},burst:{skillDmg:c("hp",Z.burst.skillDmg,"burst")},passive1:{heal:n(e.asc,1,Es("hp",d(Z.passive1.heal),0))},passive2:{member_dmg_:P6},constellation6:{c6_normal_dmgInc:s$,c6_charged_dmgInc:l$,c6_plunging_dmgInc:o$,heal:n(e.constellation,6,Es("hp",d(Z.constellation6.ousiaHeal),0))}},I6=n(e.constellation,3,3),R6=n(e.constellation,5,3),DY=A(Xi,$r.ele,$r.region,$r,ol,{premod:{skillBoost:R6,burstBoost:I6,hp_:D6,normal_dmgInc:P(s$,C6),charged_dmgInc:P(l$,B6),plunging_dmgInc:o$,plunging_impact_dmgInc:A6},infusion:{nonOverridableSelf:xY},teamBuff:{premod:{all_dmg_:y6,incHeal_:T6}}}),SY={key:Xi,name:L.name,rarity:$r.rarity,elementKey:$r.ele,weaponTypeKey:$r.weaponType,gender:"F",constellationName:L.chg("constellationName"),title:L.chg("title"),talent:{auto:L.talentTem("auto",[{text:L.chg("auto.fields.normal")},{fields:Z.normal.hitArr.map((t,o)=>({node:a(ol.normal[o],{name:L.chg(`auto.skillParams.${o}`)})}))},{text:L.chg("auto.fields.charged")},{fields:[{node:a(ol.charged.dmg,{name:L.chg("auto.skillParams.4")})},{text:L.chg("auto.skillParams.5"),value:Z.charged.stam}]},{text:L.chg("auto.fields.arkhe")},{fields:[{node:a(ol.normal.thornBladeDmg,{name:L.chg("auto.skillParams.8")})},{text:L.chg("auto.skillParams.9"),value:Z.normal.bladeThornInterval,unit:"s"}]},{text:L.chg("auto.fields.plunging")},{fields:[{node:a(ol.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ol.plunging.low,{name:s("plunging.low")})},{node:a(ol.plunging.high,{name:s("plunging.high")})}]},L.condTem("constellation6",{value:Gg,path:PY,name:l("afterUse.skill"),states:{on:{fields:[{text:H(Ba,{color:"hydro",children:l("infusion.hydro")})},{node:s$},{node:l$},{node:o$}]}}}),L.condTem("constellation6",{canShow:i(Gg,"on",1),path:wY,value:S6,name:L.ch("c6Pneuma"),states:{on:{fields:[{node:C6},{node:B6},{node:A6}]}}}),L.headerTem("constellation6",{fields:[{node:a(ol.constellation6.heal,{name:L.ch("c6Healing")})},{text:l("interval"),value:Z.constellation6.ousiaCd,unit:"s"},{text:s("duration"),value:Z.constellation6.ousiaDuration,unit:"s"}]})]),skill:L.talentTem("skill",[{fields:[{node:a(ol.skill.bubbleDmg,{name:L.chg("skill.skillParams.0")})},{text:s("duration"),value:Z.skill.duration,unit:"s"},{node:a(ol.skill.usherDmg,{name:L.chg("skill.skillParams.2")})},{node:a(ol.skill.chevalDmg,{name:L.chg("skill.skillParams.3")})},{node:a(ol.skill.crabDmg,{name:L.chg("skill.skillParams.4")})},{text:L.chg("skill.skillParams.5"),value:Z.skill.usherHp*100,unit:l("percentMaxHP"),fixed:1},{text:L.chg("skill.skillParams.6"),value:Z.skill.chevalHp*100,unit:l("percentMaxHP"),fixed:1},{text:L.chg("skill.skillParams.7"),value:Z.skill.crabHp*100,unit:l("percentMaxHP"),fixed:1},{node:a(ol.skill.streamsHeal,{name:L.chg("skill.skillParams.8")})},{text:s("cd"),value:Z.skill.cd,unit:"s"}]},L.condTem("skill",{value:f6,path:vY,name:L.ch("numOffer"),states:_(_6,t=>({name:l("members",{count:t}),fields:[{node:a(hk,{name:L.ch("memberMult_")})}]}))}),L.headerTem("passive2",{fields:[{node:a(ol.passive2.member_dmg_,{name:L.ch("a4MemberDmg"),unit:"%"})},{node:a(yY,{name:L.ch("a4HealInterval"),unit:"%"})}]})]),burst:L.talentTem("burst",[{fields:[{node:a(ol.burst.skillDmg,{name:L.chg("burst.skillParams.0")})},{text:s("duration"),value:Z.burst.duration,unit:"s"},{text:L.chg("burst.skillParams.2"),value:t=>t.get(e.constellation).value>=1?`${Z.burst.maxFanfare} + ${Z.constellation1.fanfareLimitInc} = ${Z.burst.maxFanfare+Z.constellation1.fanfareLimitInc}`:Z.burst.maxFanfare},{text:s("cd"),value:Z.burst.cd,unit:"s"},{text:s("energyCost"),value:Z.burst.enerCost}]},L.condTem("burst",{value:v6,path:bY,name:L.ch("fanfarePoints"),teamBuff:!0,states:t=>_(t.get(e.constellation).value>=1?b6:$Y,o=>({name:`${o}`,fields:[{node:y6},{node:T6}]}))}),L.headerTem("constellation1",{fields:[{text:L.ch("c1Inc"),value:Z.constellation1.fanfareLimitInc},{text:L.ch("c1Bonus"),value:Z.constellation1.bonusFanfare}]}),L.condTem("constellation2",{value:w6,path:TY,name:L.ch("c2Points"),teamBuff:!0,states:_(x6,t=>({name:`${t}`,fields:[{node:D6}]}))})]),passive1:L.talentTem("passive1",[{fields:[{node:a(ol.passive1.heal,{name:s("contHealing")})},{text:l("interval"),value:Z.passive1.interval,unit:"s"},{text:s("duration"),value:Z.passive1.duration,unit:"s"}]}]),passive2:L.talentTem("passive2"),passive3:L.talentTem("passive3"),constellation1:L.talentTem("constellation1"),constellation2:L.talentTem("constellation2"),constellation3:L.talentTem("constellation3",[{fields:[{node:I6}]}]),constellation4:L.talentTem("constellation4"),constellation5:L.talentTem("constellation5",[{fields:[{node:R6}]}]),constellation6:L.talentTem("constellation6")}},CY=new I(SY,DY),wm="Gaming",Od=g.char.data[wm],Ra=g.char.skillParam[wm],It=B(wm,Od.weaponType);let Ao=0,L1=0,rg=0;const Mn={normal:{hitArr:[Ra.auto[Ao++],Ra.auto[Ao++],Ra.auto[Ao++],Ra.auto[Ao++]]},charged:{cyclicDmg:Ra.auto[Ao++],finalDmg:Ra.auto[Ao++],stam:Ra.auto[Ao++][0],duration:Ra.auto[Ao++][0]},plunging:{dmg:Ra.auto[Ao++],low:Ra.auto[Ao++],high:Ra.auto[Ao++]},skill:{cloudstriderDmg:Ra.skill[L1++],hpCost:Ra.skill[L1++][0],cd:Ra.skill[L1++][0]},burst:{smashDmg:Ra.burst[rg++],heal:Ra.burst[rg++][0],duration:Ra.burst[rg++][0],cd:Ra.burst[rg++][0],enerCost:Ra.burst[rg++][0]},passive1:{duration:Ra.passive1[0][0],heal:Ra.passive1[1][0]},passive2:{threshold:Ra.passive2[0][0],heal_:Ra.passive2[1][0],cloudstrider_dmg_:Ra.passive2[2][0]},constellation1:{heal:Ra.constellation1[0]},constellation2:{atk_:Ra.constellation2[0],duration:Ra.constellation2[1]},constellation4:{energyRegen:Ra.constellation4[0]},constellation6:{skill_critRate_:Ra.constellation6[0],skill_critDMG_:Ra.constellation6[1]}},BY=m(d(Mn.skill.hpCost),e.total.hp),[AY,c$]=r(wm,"a4HpState"),H6=n(e.asc,4,i(c$,"below",Mn.passive2.heal_)),E6=n(e.asc,4,i(c$,"above",Mn.passive2.cloudstrider_dmg_)),[IY,O6]=r(wm,"c2Overheal"),M6=n(e.constellation,2,i(O6,"on",Mn.constellation2.atk_)),K6=n(e.constellation,6,Mn.constellation6.skill_critRate_),F6=n(e.constellation,6,Mn.constellation6.skill_critDMG_),so={normal:{...Object.fromEntries(Mn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{cyclicDmg:c("atk",Mn.charged.cyclicDmg,"charged"),finalDmg:c("atk",Mn.charged.finalDmg,"charged")},plunging:R("atk",Mn.plunging),skill:{cloudstriderDmg:C(m(u(e.total.skillIndex,Mn.skill.cloudstriderDmg,{unit:"%"}),e.total.atk),"plunging_impact",{hit:{ele:p("pyro")},premod:{plunging_dmg_:E6,plunging_critRate_:K6,plunging_critDMG_:F6}})},burst:{smashDmg:c("atk",Mn.burst.smashDmg,"burst"),heal:Es("hp",d(Mn.burst.heal),0)},passive1:{heal:n(e.asc,1,Es("hp",d(Mn.passive1.heal),0))},constellation1:{heal:n(e.constellation,1,Es("hp",d(Mn.constellation1.heal),0))}},N6=n(e.constellation,3,3),j6=n(e.constellation,5,3),RY=A(wm,Od.ele,Od.region,Od,so,{premod:{skillBoost:N6,burstBoost:j6,heal_:H6,atk_:M6}}),HY={key:wm,name:It.name,rarity:Od.rarity,elementKey:Od.ele,weaponTypeKey:Od.weaponType,gender:"M",constellationName:It.chg("constellationName"),title:It.chg("title"),talent:{auto:It.talentTem("auto",[{text:It.chg("auto.fields.normal")},{fields:Mn.normal.hitArr.map((t,o)=>({node:a(so.normal[o],{name:It.chg(`auto.skillParams.${o}`)})}))},{text:It.chg("auto.fields.charged")},{fields:[{node:a(so.charged.cyclicDmg,{name:It.chg("auto.skillParams.4")})},{node:a(so.charged.finalDmg,{name:It.chg("auto.skillParams.5")})},{text:It.chg("auto.skillParams.6"),value:Mn.charged.stam,unit:"/s"},{text:It.chg("auto.skillParams.7"),value:Mn.charged.duration,unit:"s"}]},{text:It.chg("auto.fields.plunging")},{fields:[{node:a(so.plunging.dmg,{name:s("plunging.dmg")})},{node:a(so.plunging.low,{name:s("plunging.low")})},{node:a(so.plunging.high,{name:s("plunging.high")})}]}]),skill:It.talentTem("skill",[{fields:[{node:a(so.skill.cloudstriderDmg,{name:It.chg("skill.skillParams.0")})},{node:a(BY,{name:It.chg("skill.skillParams.1")})},{text:s("cd"),value:Mn.skill.cd,unit:"s"}]},It.headerTem("constellation6",{fields:[{node:a(K6,{name:It.ch("cloudstrider_critRate_"),unit:"%"})},{node:a(F6,{name:It.ch("cloudstrider_critDMG_"),unit:"%"})}]})]),burst:It.talentTem("burst",[{fields:[{node:a(so.burst.smashDmg,{name:It.chg("burst.skillParams.0")})},{node:a(so.burst.heal,{name:It.chg("burst.skillParams.1")})},{text:It.chg("burst.skillParams.2"),value:Mn.burst.duration,unit:"s"},{text:s("cd"),value:Mn.burst.cd,unit:"s"},{text:s("energyCost"),value:Mn.burst.enerCost}]}]),passive1:It.talentTem("passive1",[It.fieldsTem("passive1",{fields:[{node:a(so.passive1.heal,{name:s("healing")})}]})]),passive2:It.talentTem("passive2",[It.condTem("passive2",{value:c$,path:AY,name:l("percentCurrentHP"),states:{below:{name:l("lessPercentHP",{percent:Mn.passive2.threshold*100}),fields:[{node:H6}]},above:{name:l("greaterEqPercentHP",{percent:Mn.passive2.threshold*100}),fields:[{node:a(E6,{name:It.ch("cloudstrider_dmg_"),unit:"%"})}]}}})]),passive3:It.talentTem("passive3"),constellation1:It.talentTem("constellation1",[It.fieldsTem("constellation1",{fields:[{node:a(so.constellation1.heal,{name:s("healing")})}]})]),constellation2:It.talentTem("constellation2",[It.condTem("constellation2",{path:IY,value:O6,name:l("afterOverflow"),states:{on:{fields:[{node:M6},{text:s("duration"),value:Mn.constellation2.duration,unit:"s"}]}}})]),constellation3:It.talentTem("constellation3",[{fields:[{node:N6}]}]),constellation4:It.talentTem("constellation4"),constellation5:It.talentTem("constellation5",[{fields:[{node:j6}]}]),constellation6:It.talentTem("constellation6")}},EY=new I(HY,RY),zc="Ganyu",G6="cryo",OY="liyue",qk=g.char.data[zc],kn=g.char.skillParam[zc],We=B(zc,qk.weaponType);let Il=0,Np=0,jp=0,Q4=0,MY=0;const ds={normal:{hitArr:[kn.auto[Il++],kn.auto[Il++],kn.auto[Il++],kn.auto[Il++],kn.auto[Il++],kn.auto[Il++]]},charged:{aimed:kn.auto[Il++],aimedCharged:kn.auto[Il++],frostflake:kn.auto[Il++],frostflakeBloom:kn.auto[Il++]},plunging:{dmg:kn.auto[Il++],low:kn.auto[Il++],high:kn.auto[Il++]},skill:{inheritedHp:kn.skill[Np++],dmg:kn.skill[Np++],duration:kn.skill[Np++][0],cd:kn.skill[Np++][0]},burst:{dmg:kn.burst[jp++],duration:kn.burst[jp++][0],cd:kn.burst[jp++][0],enerCost:kn.burst[jp++][0]},passive1:{duration:kn.passive1[Q4++][0],critRateInc:kn.passive1[Q4++][0]},passive2:{cryoDmgBonus:kn.passive2[MY++][0]},constellation1:{opCryoRes:kn.constellation1[0],duration:kn.constellation1[1],enerRegen:kn.constellation1[2]}},[KY,Ov]=r(zc,"A1"),[FY,W6]=r(zc,"A4"),[NY,L6]=r(zc,"C1"),[jY,z6]=r(zc,"C4"),U6=n(e.constellation,1,i("on",L6,d(ds.constellation1.opCryoRes))),V6=n(e.asc,4,i("on",W6,d(ds.passive2.cryoDmgBonus))),GY=i(e.activeCharKey,E.charKey,V6),q6=n(e.constellation,4,v(z6,Object.fromEntries(b(1,5).map(t=>[t,d(.05*t)])),y)),lo={normal:Object.fromEntries(ds.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",ds.charged.aimed,"charged"),aimedCharged:c("atk",ds.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}}),frostflake:c("atk",ds.charged.frostflake,"charged",{premod:{critRate_:n(e.asc,1,i(Ov,"on",d(ds.passive1.critRateInc)))},hit:{ele:p("cryo")}}),frostflakeBloom:c("atk",ds.charged.frostflakeBloom,"charged",{premod:{critRate_:n(e.asc,1,i(Ov,"on",d(ds.passive1.critRateInc)))},hit:{ele:p("cryo")}})},plunging:R("atk",ds.plunging),skill:{inheritedHp:m(u(e.total.skillIndex,ds.skill.inheritedHp),e.total.hp),dmg:c("atk",ds.skill.dmg,"skill")},burst:{dmg:c("atk",ds.burst.dmg,"burst")}},J6=n(e.constellation,3,3),Q6=n(e.constellation,5,3),WY=A(zc,G6,OY,qk,lo,{premod:{skillBoost:Q6,burstBoost:J6},teamBuff:{premod:{cryo_dmg_:GY,all_dmg_:q6,cryo_enemyRes_:U6}}}),LY={key:zc,name:We.name,rarity:qk.rarity,elementKey:G6,weaponTypeKey:qk.weaponType,gender:"F",constellationName:We.chg("constellationName"),title:We.chg("title"),talent:{auto:We.talentTem("auto",[{text:We.chg("auto.fields.normal")},{fields:ds.normal.hitArr.map((t,o)=>({node:a(lo.normal[o],{name:We.chg(`auto.skillParams.${o}`)})}))},{text:We.chg("auto.fields.charged")},{fields:[{node:a(lo.charged.aimed,{name:We.chg("auto.skillParams.6")})},{node:a(lo.charged.aimedCharged,{name:We.chg("auto.skillParams.7")})},{node:a(lo.charged.frostflake,{name:We.chg("auto.skillParams.8")})},{node:a(lo.charged.frostflakeBloom,{name:We.chg("auto.skillParams.9")})}]},We.condTem("passive1",{value:Ov,path:KY,name:We.ch("a1.condName"),states:{on:{fields:[{text:We.ch("a1.critRateInc"),value:ds.passive1.critRateInc*100,unit:"%"},{text:s("duration"),value:`${ds.passive1.duration}s`}]}}}),We.condTem("constellation1",{value:L6,path:NY,name:We.ch("c1.condName"),teamBuff:!0,states:{on:{fields:[{node:U6},{text:s("duration"),value:`${ds.constellation1.duration}s`}]}}}),{text:We.chg("auto.fields.plunging")},{fields:[{node:a(lo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(lo.plunging.low,{name:s("plunging.low")})},{node:a(lo.plunging.high,{name:s("plunging.high")})}]}]),skill:We.talentTem("skill",[{fields:[{node:a(lo.skill.inheritedHp,{name:We.chg("skill.skillParams.0"),variant:"heal"})},{node:a(lo.skill.dmg,{name:We.chg("skill.skillParams.1")})},{text:We.chg("skill.skillParams.2"),value:`${ds.skill.duration}s`},{text:We.chg("skill.skillParams.3"),value:`${ds.skill.cd}s`},{canShow:t=>t.get(e.constellation).value>=2,text:l("charges"),value:2}]}]),burst:We.talentTem("burst",[{fields:[{node:a(lo.burst.dmg,{name:We.chg("burst.skillParams.0")})},{text:We.chg("burst.skillParams.1"),value:`${ds.burst.duration}s`},{text:We.chg("burst.skillParams.2"),value:`${ds.burst.cd}s`},{text:We.chg("burst.skillParams.3"),value:`${ds.burst.enerCost}`}]},We.condTem("passive2",{value:W6,path:FY,teamBuff:!0,name:l("activeCharField"),states:{on:{fields:[{node:a(V6,{path:"cryo_dmg_"})}]}}}),We.condTem("constellation4",{value:z6,path:jY,teamBuff:!0,name:l("opponentsField"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("seconds",{count:(t-1)*3}),fields:[{node:q6},{text:We.ch("c4.lingerDuration"),value:3,unit:"s"}]}]))})]),passive1:We.talentTem("passive1"),passive2:We.talentTem("passive2"),passive3:We.talentTem("passive3"),constellation1:We.talentTem("constellation1"),constellation2:We.talentTem("constellation2",[We.fieldsTem("constellation2",{fields:[{text:l("addlCharges"),value:1}]})]),constellation3:We.talentTem("constellation3",[{fields:[{node:J6}]}]),constellation4:We.talentTem("constellation4"),constellation5:We.talentTem("constellation5",[{fields:[{node:Q6}]}]),constellation6:We.talentTem("constellation6")}},zY=new I(LY,WY),qr="Gorou",r$="geo",Jk=g.char.data[qr],qa=g.char.skillParam[qr],Ha=B(qr,Jk.weaponType);let hc=0,dg=0,mg=0;const as={normal:{hitArr:[qa.auto[hc++],qa.auto[hc++],qa.auto[hc++],qa.auto[hc++]]},charged:{aimed:qa.auto[hc++],fully:qa.auto[hc++]},plunging:{dmg:qa.auto[hc++],low:qa.auto[hc++],high:qa.auto[hc++]},skill:{dmg:qa.skill[dg++],defInc:qa.skill[dg++],geo_dmg_:qa.skill[dg++][0],duration:qa.skill[dg++][0],cd:qa.skill[dg++][0]},burst:{dmg_def:qa.burst[mg++],crystalDmg_def:qa.burst[mg++],crystalHits:6,duration:qa.burst[mg++][0],cd:qa.burst[mg++][0],enerCost:qa.burst[mg++][0]},passive1:{def_:qa.passive1[0][0],duration:qa.passive1[1][0]},passive2:{skill_dmgInc:qa.passive2[0][0],burst_dmgInc:qa.passive2[1][0]},constellation4:{heal_def_:qa.constellation4[0]},constellation6:{geo_critDMG_:[qa.constellation6[0],qa.constellation6[1],qa.constellation6[2],qa.constellation6[2]],duration:qa.constellation6[3]}},[UY,d$]=r(qr,"inField"),X6=i(d$,"inField",n(j.geo,1,u(e.total.skillIndex,as.skill.defInc))),VY=i(e.activeCharKey,E.charKey,X6),Y6=i(d$,"inField",n(j.geo,3,as.skill.geo_dmg_)),qY=i(e.activeCharKey,E.charKey,Y6),[JY,Z6]=r(qr,"afterBurst"),eC=n(e.asc,1,i(Z6,"afterBurst",as.passive1.def_)),tC=n(e.asc,4,m(e.total.def,as.passive2.skill_dmgInc)),aC=n(e.asc,4,m(e.total.def,as.passive2.burst_dmgInc)),[QY,nC]=r(qr,"afterSkillBurst"),sC=n(e.constellation,6,i(nC,"afterSkillBurst",u(P(j.geo,-1),as.constellation6.geo_critDMG_))),Qo={normal:Object.fromEntries(as.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",as.charged.aimed,"charged"),fully:c("atk",as.charged.fully,"charged",{hit:{ele:p(r$)}})},plunging:R("atk",as.plunging),skill:{dmg:c("atk",as.skill.dmg,"skill")},burst:{dmg:c("def",as.burst.dmg_def,"burst"),crystalCollapse:c("def",as.burst.crystalDmg_def,"burst")},constellation4:{heal:n(e.constellation,4,Es("def",as.constellation4.heal_def_,0))}},lC=n(e.constellation,3,3),oC=n(e.constellation,5,3),XY=A(qr,r$,"inazuma",Jk,Qo,{teamBuff:{premod:{def:VY,geo_dmg_:qY,def_:eC,geo_critDMG_:sC}},premod:{burstBoost:oC,skillBoost:lC,skill_dmgInc:tC,burst_dmgInc:aC}}),YY={key:qr,name:Ha.name,rarity:Jk.rarity,elementKey:r$,weaponTypeKey:Jk.weaponType,gender:"M",constellationName:Ha.chg("constellationName"),title:Ha.chg("title"),talent:{auto:Ha.talentTem("auto",[{text:Ha.chg("auto.fields.normal")},{fields:as.normal.hitArr.map((t,o)=>({node:a(Qo.normal[o],{name:Ha.chg(`auto.skillParams.${o}`)})}))},{text:Ha.chg("auto.fields.charged")},{fields:[{node:a(Qo.charged.aimed,{name:Ha.chg("auto.skillParams.4")})},{node:a(Qo.charged.fully,{name:Ha.chg("auto.skillParams.5")})}]},{text:Ha.chg("auto.fields.plunging")},{fields:[{node:a(Qo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Qo.plunging.low,{name:s("plunging.low")})},{node:a(Qo.plunging.high,{name:s("plunging.high")})}]}]),skill:Ha.talentTem("skill",[{fields:[{node:a(Qo.skill.dmg,{name:Ha.chg("skill.skillParams.0")})},{text:s("duration"),value:as.skill.duration,unit:"s"},{text:s("cd"),value:as.skill.cd,unit:"s"}]},Ha.condTem("skill",{value:d$,path:UY,name:l("activeCharField"),teamBuff:!0,states:{inField:{fields:[{node:a(X6,{path:"def"})},{canShow:t=>t.get(j.geo).value>=2,text:l("incInterRes")},{node:a(Y6,{path:"geo_dmg_"})}]}}}),Ha.headerTem("passive2",{fields:[{node:tC}]}),Ha.headerTem("constellation4",{fields:[{node:a(Qo.constellation4.heal,{name:s("healing")})}]})]),burst:Ha.talentTem("burst",[{fields:[{node:a(Qo.burst.dmg,{name:Ha.chg("burst.skillParams.0")})},{node:a(Qo.burst.crystalCollapse,{name:Ha.chg("burst.skillParams.1"),multi:as.burst.crystalHits})},{text:s("duration"),value:as.burst.duration,unit:"s"},{text:s("cd"),value:as.burst.cd,unit:"s"},{text:s("energyCost"),value:as.burst.enerCost}]},Ha.condTem("passive1",{value:Z6,path:JY,name:l("afterUse.burst"),teamBuff:!0,states:{afterBurst:{fields:[{node:eC},{text:s("duration"),value:as.passive1.duration,unit:"s"}]}}}),Ha.headerTem("passive2",{fields:[{node:aC}]})]),passive1:Ha.talentTem("passive1"),passive2:Ha.talentTem("passive2"),passive3:Ha.talentTem("passive3"),constellation1:Ha.talentTem("constellation1"),constellation2:Ha.talentTem("constellation2"),constellation3:Ha.talentTem("constellation3",[{fields:[{node:lC}]}]),constellation4:Ha.talentTem("constellation4"),constellation5:Ha.talentTem("constellation5",[{fields:[{node:oC}]}]),constellation6:Ha.talentTem("constellation6",[Ha.condTem("constellation6",{value:nC,path:QY,name:l("afterUse.skillOrBurst"),teamBuff:!0,states:{afterSkillBurst:{fields:[{node:sC},{text:s("duration"),value:as.constellation6.duration,unit:"s"}]}}})])}},ZY=new I(YY,XY),$o="HuTao",m$="pyro",Qk=g.char.data[$o],bt=g.char.skillParam[$o],me=B($o,Qk.weaponType);let Ql=0,kd=0,fd=0,X4=0,Y4=0;const un={normal:{hitArr:[bt.auto[Ql++],bt.auto[Ql++],bt.auto[Ql++],bt.auto[Ql++],bt.auto[Ql++],bt.auto[Ql++],bt.auto[Ql++]]},charged:{dmg:bt.auto[Ql++],stamina:bt.auto[Ql++][0]},plunging:{dmg:bt.auto[Ql++],low:bt.auto[Ql++],high:bt.auto[Ql++]},skill:{activationCost:bt.skill[kd++][0],atkInc:bt.skill[kd++],dmg:bt.skill[kd++],bloodBlossomDuration:bt.skill[kd++][0],duration:bt.skill[kd++][0],cd:bt.skill[kd++][0],maxAtkInc:bt.skill[kd++][0]},burst:{dmg:bt.burst[fd++],lowHpDmg:bt.burst[fd++],regen:bt.burst[fd++],lowHpRegen:bt.burst[fd++],cd:bt.burst[fd++][0],enerCost:bt.burst[fd++][0],minHp:bt.burst[fd++][0]},passive1:{critRateInc:bt.passive1[X4++][0],duration:bt.passive1[X4++][0]},passive2:{minHp:bt.passive2[Y4++][0],pyroDmgInc:bt.passive2[Y4++][0]},constellation2:{bloodBlossomDmgInc:bt.constellation2[0]},constellation4:{critRateInc:bt.constellation4[0],duration:bt.constellation4[1]},constellation6:{minHp:bt.constellation6[0],duration:bt.constellation6[1],elePhysResInc:bt.constellation6[2],critRateInc:bt.constellation6[3]}},[eZ,u$]=r($o,"GuideToAfterlifeVoyage"),g$=i("on",u$,da(m(u(e.total.skillIndex,un.skill.atkInc),e.premod.hp),m(d(un.skill.maxAtkInc),e.base.atk))),tZ=ss("on",u$,m$),[aZ,iC]=r($o,"FlutterBy"),cC=n(e.asc,1,i("on",iC,d(un.passive1.critRateInc),{path:"critRate_",isTeamBuff:!0})),nZ=M($o,E.charKey,cC,{path:"critRate_",isTeamBuff:!0}),[sZ,rC]=r($o,"SanguineRouge"),dC=n(e.asc,4,i("on",rC,d(un.passive2.pyroDmgInc))),[lZ,mC]=r($o,"GardenOfEternalRest"),uC=n(e.constellation,4,i("on",mC,d(un.constellation4.critRateInc),{path:"critRate_",isTeamBuff:!0})),oZ=M($o,E.charKey,uC,{path:"critRate_",isTeamBuff:!0}),[iZ,h$]=r($o,"ButterflysEmbrace"),gC=n(e.constellation,6,i("on",h$,d(un.constellation6.critRateInc))),hC=Object.fromEntries(Gc.map(t=>[t,n(e.constellation,6,i("on",h$,d(un.constellation6.elePhysResInc)))])),Gl={normal:Object.fromEntries(un.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",un.charged.dmg,"charged")},plunging:R("atk",un.plunging),skill:{dmg:c("atk",un.skill.dmg,"skill"),atk:g$},burst:{dmg:c("atk",un.burst.dmg,"burst"),lowHpDmg:c("atk",un.burst.lowHpDmg,"burst"),regen:jn(m(e.total.hp,u(e.total.burstIndex,un.burst.regen,{unit:"%"}))),lowHpRegen:jn(m(e.total.hp,u(e.total.burstIndex,un.burst.lowHpRegen,{unit:"%"})))},constellation2:{skill_dmgInc:n(e.constellation,2,m(e.total.hp,d(un.constellation2.bloodBlossomDmgInc)))}},pC=n(e.constellation,3,3),kC=n(e.constellation,5,3),cZ=A($o,m$,"liyue",Qk,Gl,{premod:{skillBoost:pC,burstBoost:kC,pyro_dmg_:dC,...Object.fromEntries(Gc.map(t=>[`${t}_res_`,hC[t]])),critRate_:gC,skill_dmgInc:Gl.constellation2.skill_dmgInc},total:{atk:g$},teamBuff:{premod:{critRate_:P(nZ,oZ)}},infusion:{nonOverridableSelf:tZ}}),rZ={key:$o,name:me.name,rarity:Qk.rarity,elementKey:m$,weaponTypeKey:Qk.weaponType,gender:"F",constellationName:me.chg("constellationName"),title:me.chg("title"),talent:{auto:me.talentTem("auto",[{text:me.chg("auto.fields.normal")},{fields:un.normal.hitArr.map((t,o)=>({node:a(Gl.normal[o],{name:me.chg(`auto.skillParams.${o+(o<5?0:-1)}`),textSuffix:o===4?"(1)":o===5?"(2)":""})}))},{text:me.chg("auto.fields.charged")},{fields:[{node:a(Gl.charged.dmg,{name:me.chg("auto.skillParams.6")})},{text:me.chg("auto.skillParams.7"),value:un.charged.stamina}]},{text:me.chg("auto.fields.plunging")},{fields:[{node:a(Gl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Gl.plunging.low,{name:s("plunging.low")})},{node:a(Gl.plunging.high,{name:s("plunging.high")})}]}]),skill:me.talentTem("skill",[{fields:[{node:a(Gl.skill.dmg,{name:me.chg("skill.skillParams.2")})},{text:me.chg("skill.skillParams.3"),value:un.skill.bloodBlossomDuration,unit:"s"},{text:me.chg("skill.skillParams.5"),value:un.skill.cd,unit:"s"}]},me.condTem("skill",{value:u$,path:eZ,name:me.ch("paramita.enter"),states:{on:{fields:[{text:me.chg("skill.skillParams.0"),value:un.skill.activationCost*100,unit:l("percentCurrentHP")},{node:g$},{text:l("infusion.pyro"),variant:"pyro"},{text:l("incInterRes")},{text:me.chg("skill.skillParams.4"),value:un.skill.duration,unit:"s"}]}}}),me.headerTem("constellation2",{fields:[{node:Gl.constellation2.skill_dmgInc}]})]),burst:me.talentTem("burst",[{fields:[{node:a(Gl.burst.dmg,{name:me.chg("burst.skillParams.0")})},{node:a(Gl.burst.lowHpDmg,{name:me.chg("burst.skillParams.1")})},{node:a(Gl.burst.regen,{name:me.chg("burst.skillParams.2")})},{node:a(Gl.burst.lowHpRegen,{name:me.chg("burst.skillParams.3")})},{text:me.chg("burst.skillParams.4"),value:un.burst.cd,unit:"s"},{text:me.chg("burst.skillParams.5"),value:un.burst.enerCost}]},me.headerTem("constellation2",{fields:[{text:me.ch("constellation2.applyBloodBlossom")}]})]),passive1:me.talentTem("passive1",[me.condTem("passive1",{value:iC,path:aZ,teamBuff:!0,name:me.ch("paramita.end"),states:{on:{fields:[{node:cC},{text:s("duration"),value:un.passive1.duration,unit:"s"}]}}})]),passive2:me.talentTem("passive2",[me.condTem("passive2",{value:rC,path:sZ,name:l("lessEqPercentHP",{percent:un.passive2.minHp*100}),states:{on:{fields:[{node:dC}]}}})]),passive3:me.talentTem("passive3"),constellation1:me.talentTem("constellation1"),constellation2:me.talentTem("constellation2"),constellation3:me.talentTem("constellation3",[{fields:[{node:pC}]}]),constellation4:me.talentTem("constellation4",[me.condTem("constellation4",{value:mC,path:lZ,teamBuff:!0,name:me.ch("constellation4.condName"),states:{on:{fields:[{node:uC},{text:s("duration"),value:un.constellation4.duration,unit:"s"}]}}})]),constellation5:me.talentTem("constellation5",[{fields:[{node:kC}]}]),constellation6:me.talentTem("constellation6",[me.condTem("constellation6",{value:h$,path:iZ,name:me.ch("constellation6.condName"),states:{on:{fields:[...Gc.map(t=>({node:hC[t]})),{node:gC},{text:l("incInterRes")},{text:s("duration"),value:un.constellation6.duration,unit:"s"},{text:s("cd"),value:60,unit:"s"}]}}})])}},dZ=new I(rZ,cZ),Uc="Jean",fC="anemo",mZ="mondstadt",Xk=g.char.data[Uc],ya=g.char.skillParam[Uc],Qe=B(Uc,Xk.weaponType);let $i=0,Gp=0,lr=0,Z4=0,uZ=0;const Nn={normal:{hitArr:[ya.auto[$i++],ya.auto[$i++],ya.auto[$i++],ya.auto[$i++],ya.auto[$i++]]},charged:{dmg:ya.auto[$i++],stamina:ya.auto[$i++][0]},plunging:{dmg:ya.auto[$i++],low:ya.auto[$i++],high:ya.auto[$i++]},skill:{dmg:ya.skill[Gp++],stamina:ya.skill[Gp++][0],duration:ya.skill[Gp++][0],cd:ya.skill[Gp++][0]},burst:{dmg:ya.burst[lr++],enterExitDmg:ya.burst[lr++],burstActivationAtkModifier:ya.burst[lr++],burstActionFlatModifier:ya.burst[lr++],burstRegenAtkModifier:ya.burst[lr++],burstRegenFlatModifier:ya.burst[lr++],cd:ya.burst[lr++][0],enerCost:ya.burst[lr++][0]},passive1:{chance:ya.passive1[Z4++][0],atkPercentage:ya.passive1[Z4++][0]},passive2:{energyRegen:ya.passive2[uZ++][0]},constellation1:{increaseDmg:ya.constellation1[0]},constellation2:{moveSpd:ya.constellation2[0],atkSpd:ya.constellation2[1],duration:ya.constellation2[2]},constellation4:{anemoRes:ya.constellation4[0]},constellation6:{dmgReduction:ya.constellation6[0]}},gZ=an("atk",Nn.burst.burstActivationAtkModifier,Nn.burst.burstActionFlatModifier,"burst"),hZ=an("atk",Nn.burst.burstRegenAtkModifier,Nn.burst.burstRegenFlatModifier,"burst"),pZ=n(e.asc,1,jn(m(d(Nn.passive1.atkPercentage),e.total.atk))),[kZ,_C]=r(Uc,"c1"),vC=n(e.constellation,1,i(_C,"on",Nn.constellation1.increaseDmg)),[fZ,p$]=r(Uc,"c2"),bC=n(e.constellation,2,i(p$,"on",d(Nn.constellation2.atkSpd))),$C=n(e.constellation,2,i(p$,"on",d(Nn.constellation2.moveSpd))),[_Z,yC]=r(Uc,"c4"),TC=n(e.constellation,4,i(yC,"on",d(-Math.abs(Nn.constellation4.anemoRes)))),[vZ,PC]=r(Uc,"c6"),wC=n(e.constellation,6,i(PC,"on",d(Nn.constellation6.dmgReduction))),bZ=i(e.activeCharKey,E.charKey,wC),oo={normal:Object.fromEntries(Nn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",Nn.charged.dmg,"charged")},plunging:R("atk",Nn.plunging),skill:{dmg:c("atk",Nn.skill.dmg,"skill")},burst:{dmg:c("atk",Nn.burst.dmg,"burst"),enterExitDmg:c("atk",Nn.burst.enterExitDmg,"burst"),regen:gZ,contRegen:hZ},passive1:{a1Regen:pZ}},xC=n(e.constellation,3,3),DC=n(e.constellation,5,3),$Z=A(Uc,fC,mZ,Xk,oo,{premod:{skillBoost:DC,burstBoost:xC,skill_dmg_:vC},teamBuff:{premod:{atkSPD_:bC,moveSPD_:$C,anemo_enemyRes_:TC,dmgRed_:bZ}}}),yZ={key:Uc,name:Qe.name,rarity:Xk.rarity,elementKey:fC,weaponTypeKey:Xk.weaponType,gender:"F",constellationName:Qe.chg("constellationName"),title:Qe.chg("title"),talent:{auto:Qe.talentTem("auto",[{text:Qe.chg("auto.fields.normal")},{fields:Nn.normal.hitArr.map((t,o)=>({node:a(oo.normal[o],{name:Qe.chg(`auto.skillParams.${o}`)})}))},{text:Qe.chg("auto.fields.charged")},{fields:[{node:a(oo.charged.dmg,{name:Qe.chg("auto.skillParams.5")})},{text:Qe.chg("auto.skillParams.6"),value:Nn.charged.stamina}]},{text:Qe.chg("auto.fields.plunging")},{fields:[{node:a(oo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(oo.plunging.low,{name:s("plunging.low")})},{node:a(oo.plunging.high,{name:s("plunging.high")})}]}]),skill:Qe.talentTem("skill",[{fields:[{node:a(oo.skill.dmg,{name:Qe.chg("skill.skillParams.0")})},{text:Qe.chg("skill.skillParams.1"),value:`${Nn.skill.stamina}`,unit:"/s"},{text:Qe.chg("skill.skillParams.2"),value:`${Nn.skill.duration}`,unit:"s"},{text:Qe.chg("skill.skillParams.3"),value:`${Nn.skill.cd}`,unit:"s"}]},Qe.condTem("constellation1",{value:_C,path:kZ,name:Qe.ch("c1CondName"),states:{on:{fields:[{text:Qe.ch("c1PullSpeed")},{node:vC}]}}})]),burst:Qe.talentTem("burst",[{fields:[{node:a(oo.burst.dmg,{name:Qe.chg("burst.skillParams.0")})},{node:a(oo.burst.enterExitDmg,{name:Qe.chg("burst.skillParams.1")})},{node:a(oo.burst.regen,{name:Qe.chg("burst.skillParams.2")})},{node:a(oo.burst.contRegen,{name:Qe.chg("burst.skillParams.3")})},{text:s("duration"),value:11,unit:"s"},{text:Qe.chg("burst.skillParams.4"),value:`${Nn.burst.cd}`,unit:"s"},{text:Qe.chg("burst.skillParams.5"),value:`${Nn.burst.enerCost}`}]},Qe.condTem("constellation4",{value:yC,path:_Z,teamBuff:!0,name:l("opponentsField"),states:{on:{fields:[{node:TC}]}}}),Qe.condTem("constellation6",{value:PC,path:vZ,teamBuff:!0,name:l("activeCharField"),states:{on:{fields:[{node:a(wC,{path:"dmgRed_"})}]}}})]),passive1:Qe.talentTem("passive1",[Qe.fieldsTem("passive1",{fields:[{node:a(oo.passive1.a1Regen,{name:s("healing")})}]})]),passive2:Qe.talentTem("passive2",[Qe.fieldsTem("passive2",{fields:[{text:s("energyRegen"),value:Nn.passive2.energyRegen}]})]),passive3:Qe.talentTem("passive3"),constellation1:Qe.talentTem("constellation1"),constellation2:Qe.talentTem("constellation2",[Qe.condTem("constellation2",{value:p$,path:fZ,teamBuff:!0,name:l("getElementalOrbParticle"),states:{on:{fields:[{node:bC},{node:$C},{text:s("duration"),value:Nn.constellation2.duration,unit:"s"}]}}})]),constellation3:Qe.talentTem("constellation3",[{fields:[{node:xC}]}]),constellation4:Qe.talentTem("constellation4"),constellation5:Qe.talentTem("constellation5",[{fields:[{node:DC}]}]),constellation6:Qe.talentTem("constellation6")}},TZ=new I(yZ,$Z),Sl="KaedeharaKazuha",z1="anemo",Yk=g.char.data[Sl],ln=g.char.skillParam[Sl],oe=B(Sl,Yk.weaponType);let Xl=0,Wp=0,Vm=0,PZ=0,eT=0;const Wa={normal:{hitArr:[ln.auto[Xl++],ln.auto[Xl++],ln.auto[Xl++],ln.auto[Xl++],ln.auto[Xl++],ln.auto[Xl++]]},charged:{dmg1:ln.auto[Xl++],dmg2:ln.auto[Xl++],stamina:ln.auto[Xl++][0]},plunging:{dmg:ln.auto[Xl++],low:ln.auto[Xl++],high:ln.auto[Xl++]},skill:{press:ln.skill[Wp++],cd:ln.skill[Wp++][0],hold:ln.skill[Wp++],cdHold:ln.skill[Wp++][0]},burst:{dmg:ln.burst[Vm++],dot:ln.burst[Vm++],add:ln.burst[Vm++],duration:ln.burst[Vm++][0],cd:ln.burst[Vm++][0],enerCost:ln.burst[Vm++][0]},passive1:{absorbAdd:ln.passive1[PZ++][0]},passive2:{elemas_dmg_:ln.passive2[eT++][0],duration:ln.passive2[eT++][0]},constellation2:{elemas:ln.constellation2[0]},constellation6:{auto_:ln.constellation6[0],duration:ln.constellation6[1]}},[wZ,Mv]=r(Sl,"burstAbsorption"),[xZ,Kv]=r(Sl,"skillAbsorption"),SC=Object.fromEntries(sa.map(t=>[t,[Sl,`swirl${t}`]])),Fv=Object.fromEntries(sa.map(t=>[t,Wc(SC[t])])),k$=Object.fromEntries(sa.map(t=>[`${t}_dmg_`,n(e.asc,4,i(t,Fv[t],m(d(Wa.passive2.elemas_dmg_,{fixed:2}),e.premod.eleMas)))])),[tT,Nv]=r(Sl,"c2"),jv=n(e.constellation,2,i("c2",Nv,Wa.constellation2.elemas)),[DZ,CC]=r(Sl,"c2p"),BC=n(e.constellation,2,i("c2p",CC,Wa.constellation2.elemas)),SZ=i(e.activeCharKey,E.charKey,M(E.charKey,Sl,BC)),[CZ,f$]=r(Sl,"c6"),AC=pm(e.constellation,6,ss("c6",f$,"anemo")),_$=n(e.constellation,6,i("c6",f$,m(d(Wa.constellation6.auto_),e.premod.eleMas))),v$={..._$},b$={..._$},$$={..._$},IC=d(.2),il={normal:Object.fromEntries(Wa.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Wa.charged.dmg1,"charged"),dmg2:c("atk",Wa.charged.dmg2,"charged")},plunging:R("atk",Wa.plunging),skill:{press:c("atk",Wa.skill.press,"skill"),hold:c("atk",Wa.skill.hold,"skill"),pdmg:c("atk",Wa.plunging.dmg,"plunging_collision",{hit:{ele:p("anemo")}}),plow:c("atk",Wa.plunging.low,"plunging_impact",{hit:{ele:p("anemo")}}),phigh:c("atk",Wa.plunging.high,"plunging_impact",{hit:{ele:p("anemo")}})},burst:{dmg:c("atk",Wa.burst.dmg,"burst"),dot:c("atk",Wa.burst.dot,"burst"),absorb:M(Mv,void 0,c("atk",Wa.burst.add,"burst",{hit:{ele:Mv}}))},passive1:{absorb:n(e.asc,1,M(Kv,void 0,C(m(e.total.atk,Wa.passive1.absorbAdd),"plunging_impact",{hit:{ele:Kv}})))},passive2:k$,constellation6:{normal_dmg_:v$,charged_dmg_:b$,plunging_dmg_:$$}},RC=n(e.constellation,3,3),HC=n(e.constellation,5,3),BZ=A(Sl,"anemo","inazuma",Yk,il,{teamBuff:{premod:{staminaSprintDec_:IC,eleMas:SZ},total:{...k$}},infusion:{overridableSelf:AC},total:{normal_dmg_:v$,charged_dmg_:b$,plunging_dmg_:$$},premod:{skillBoost:RC,burstBoost:HC,eleMas:jv}}),AZ={key:Sl,name:oe.name,rarity:Yk.rarity,elementKey:z1,weaponTypeKey:Yk.weaponType,gender:"M",constellationName:oe.chg("constellationName"),title:oe.chg("title"),talent:{auto:oe.talentTem("auto",[{text:oe.chg("auto.fields.normal")},{fields:Wa.normal.hitArr.map((t,o)=>({node:a(il.normal[o],{name:oe.chg(`auto.skillParams.${o+(o<3?0:-1)}`),textSuffix:o===2?"(1)":o===3?"(2)":"",multi:o===5?3:void 0})}))},{text:oe.chg("auto.fields.charged")},{fields:[{node:a(il.charged.dmg1,{name:oe.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(il.charged.dmg2,{name:oe.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:oe.chg("auto.skillParams.6"),value:Wa.charged.stamina}]},{text:oe.chg("auto.fields.plunging")},{fields:[{node:a(il.plunging.dmg,{name:s("plunging.dmg")})},{node:a(il.plunging.low,{name:s("plunging.low")})},{node:a(il.plunging.high,{name:s("plunging.high")})}]}]),skill:oe.talentTem("skill",[{fields:[{node:a(il.skill.press,{name:oe.chg("skill.skillParams.0")})},{text:oe.chg("skill.skillParams.1"),value:t=>t.get(e.constellation).value>=1?`${Wa.skill.cd} - 10% = ${Wa.skill.cd*(1-.1)}`:`${Wa.skill.cd}`,unit:"s"},{node:a(il.skill.hold,{name:oe.chg("skill.skillParams.2")})},{text:s("hold.cd"),value:t=>t.get(e.constellation).value>=1?`${Wa.skill.cdHold} - 10% = ${Wa.skill.cdHold*(1-.1)}`:`${Wa.skill.cdHold}`,unit:"s"}]},oe.fieldsTem("skill",{fields:[{node:a(il.skill.pdmg,{name:s("plunging.dmg")})},{node:a(il.skill.plow,{name:s("plunging.low")})},{node:a(il.skill.phigh,{name:s("plunging.high")})}]}),oe.condTem("passive1",{value:Kv,path:xZ,name:l("eleAbsor"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:a(il.passive1.absorb,{name:s("addEleDMG")})}]}]))}),oe.headerTem("constellation1",{fields:[{node:a(n(e.constellation,1,d(.1)),{path:"skillCDRed_"})},{text:oe.ch("c1")}]})]),burst:oe.talentTem("burst",[{fields:[{node:a(il.burst.dmg,{name:oe.chg("burst.skillParams.0")})},{node:a(il.burst.dot,{name:oe.chg("burst.skillParams.1")})},{text:oe.chg("burst.skillParams.3"),value:Wa.burst.duration,unit:"s"},{text:oe.chg("burst.skillParams.4"),value:Wa.burst.cd,unit:"s"},{text:oe.chg("burst.skillParams.5"),value:Wa.burst.enerCost}]},oe.condTem("burst",{value:Mv,path:wZ,name:l("eleAbsor"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:a(il.burst.absorb,{name:oe.chg("burst.skillParams.2")})}]}]))}),oe.condTem("constellation2",{value:Nv,path:tT,name:oe.ch("c2"),states:{c2:{fields:[{node:jv}]}}}),oe.condTem("constellation2",{canShow:M(e.activeCharKey,Sl,1),value:CC,path:DZ,teamBuff:!0,name:l("activeCharField"),states:{c2p:{fields:[{node:a(BC,{path:"eleMas",isTeamBuff:!0})}]}}})]),passive1:oe.talentTem("passive1"),passive2:oe.talentTem("passive2",[oe.condTem("passive2",{teamBuff:!0,states:Object.fromEntries(sa.map(t=>[t,{value:Fv[t],path:SC[t],name:l(`swirlReaction.${t}`),fields:[{node:k$[`${t}_dmg_`]},{text:l(`effectDuration.${t}`),value:Wa.passive2.duration,unit:"s"}]}]))}),oe.condTem("constellation2",{value:Nv,path:tT,teamBuff:!0,canShow:M(e.activeCharKey,Sl,n(e.asc,4,P(...Object.values(Fv).map(t=>M(t,void 0,1))))),name:oe.ch("c2"),states:{c2:{fields:[{node:jv}]}}})]),passive3:oe.talentTem("passive3",[oe.headerTem("passive3",{teamBuff:!0,fields:[{node:IC}]})]),constellation1:oe.talentTem("constellation1"),constellation2:oe.talentTem("constellation2"),constellation3:oe.talentTem("constellation3",[{fields:[{node:RC}]}]),constellation4:oe.talentTem("constellation4"),constellation5:oe.talentTem("constellation5",[{fields:[{node:HC}]}]),constellation6:oe.talentTem("constellation6",[oe.condTem("constellation6",{value:f$,path:CZ,name:oe.ch("c6.after"),states:{c6:{fields:[{canShow:t=>t.get(AC).value===z1,text:H(Ba,{color:z1,children:l("infusion.anemo")})},{node:v$},{node:b$},{node:$$},{text:s("duration"),value:Wa.constellation6.duration,unit:"s"}]}}})])}},IZ=new I(AZ,BZ),Du="Kaeya",EC="cryo",RZ="mondstadt",Zk=g.char.data[Du],Ls=g.char.skillParam[Du],Ft=B(Du,Zk.weaponType);let Io=0,aT=0,Lp=0;const Rs={normal:{hitArr:[Ls.auto[Io++],Ls.auto[Io++],Ls.auto[Io++],Ls.auto[Io++],Ls.auto[Io++]]},charged:{dmg1:Ls.auto[Io++],dmg2:Ls.auto[Io++],stamina:Ls.auto[Io++][0]},plunging:{dmg:Ls.auto[Io++],low:Ls.auto[Io++],high:Ls.auto[Io++]},skill:{dmg:Ls.skill[aT++],cd:Ls.skill[aT++][0]},burst:{dmg:Ls.burst[Lp++],cd:Ls.burst[Lp++][0],duration:Ls.burst[Lp++][0],enerCost:Ls.burst[Lp++][0]},passive2:{healAtk_:.15},constellation1:{critRate_:.15},constellation4:{shieldHp_:.3,duration:20,cooldown:60}},io={normal:Object.fromEntries(Rs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Rs.charged.dmg1,"charged"),dmg2:c("atk",Rs.charged.dmg2,"charged")},plunging:R("atk",Rs.plunging),skill:{dmg:c("atk",Rs.skill.dmg,"skill")},burst:{dmg:c("atk",Rs.burst.dmg,"burst")},passive1:{heal:n(e.asc,1,Es("atk",d(Rs.passive2.healAtk_),0))},constellation4:{shield:n(e.constellation,4,jg("hp",d(Rs.constellation4.shieldHp_),0)),cryoShield:n(e.constellation,4,Vn("cryo",jg("hp",d(Rs.constellation4.shieldHp_),0)))}},OC=n(e.constellation,3,3),MC=n(e.constellation,5,3),[HZ,y$]=r(Du,"CryoC1"),KC=n(e.constellation,1,i(y$,"on",Rs.constellation1.critRate_)),FC=n(e.constellation,1,i(y$,"on",Rs.constellation1.critRate_)),EZ=A(Du,EC,RZ,Zk,io,{premod:{skillBoost:OC,burstBoost:MC,normal_critRate_:KC,charged_critRate_:FC}}),OZ={key:Du,name:Ft.name,rarity:Zk.rarity,elementKey:EC,weaponTypeKey:Zk.weaponType,gender:"M",constellationName:Ft.chg("constellationName"),title:Ft.chg("title"),talent:{auto:Ft.talentTem("auto",[{text:Ft.chg("auto.fields.normal")},{fields:Rs.normal.hitArr.map((t,o)=>({node:a(io.normal[o],{name:Ft.chg(`auto.skillParams.${o}`)})}))},{text:Ft.chg("auto.fields.charged")},{fields:[{node:a(io.charged.dmg1,{name:Ft.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(io.charged.dmg2,{name:Ft.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:Ft.chg("auto.skillParams.7"),value:Rs.charged.stamina}]},{text:Ft.chg("auto.fields.plunging")},{fields:[{node:a(io.plunging.dmg,{name:s("plunging.dmg")})},{node:a(io.plunging.low,{name:s("plunging.low")})},{node:a(io.plunging.high,{name:s("plunging.high")})}]}]),skill:Ft.talentTem("skill",[{fields:[{node:a(io.skill.dmg,{name:Ft.chg("skill.skillParams.0")})},{text:Ft.chg("skill.skillParams.1"),value:Rs.skill.cd,unit:"s"}]}]),burst:Ft.talentTem("burst",[{fields:[{node:a(io.burst.dmg,{name:Ft.chg("burst.skillParams.0")})},{canShow:t=>t.get(e.constellation).value<2,text:Ft.chg("burst.skillParams.2"),value:Rs.burst.duration,unit:"s"},{canShow:t=>t.get(e.constellation).value>=2,text:Ft.chg("burst.skillParams.2"),value:Ft.ch("c2burstDuration")},{text:Ft.chg("burst.skillParams.1"),value:Rs.burst.cd,unit:"s"},{text:Ft.chg("burst.skillParams.3"),value:Rs.burst.enerCost}]}]),passive1:Ft.talentTem("passive1",[Ft.headerTem("passive1",{fields:[{node:a(io.passive1.heal,{name:s("healing")})}]})]),passive2:Ft.talentTem("passive2"),passive3:Ft.talentTem("passive3"),constellation1:Ft.talentTem("constellation1",[Ft.condTem("constellation1",{value:y$,path:HZ,name:l("enemyAffected.cryo"),states:{on:{fields:[{node:KC},{node:FC}]}}})]),constellation2:Ft.talentTem("constellation2"),constellation3:Ft.talentTem("constellation3",[{fields:[{node:OC}]}]),constellation4:Ft.talentTem("constellation4",[Ft.fieldsTem("constellation4",{fields:[{node:a(io.constellation4.shield,{name:l("dmgAbsorption.none")})},{node:a(io.constellation4.cryoShield,{name:l("dmgAbsorption.cryo")})},{text:Ft.chg("burst.skillParams.2"),value:Rs.constellation4.duration,unit:"s"},{text:Ft.chg("burst.skillParams.1"),value:Rs.constellation4.cooldown,unit:"s"}]})]),constellation5:Ft.talentTem("constellation5",[{fields:[{node:MC}]}]),constellation6:Ft.talentTem("constellation6")}},MZ=new I(OZ,EZ),Yi="KamisatoAyaka",ef="cryo",tf=g.char.data[Yi],Rt=g.char.skillParam[Yi],$t=B(Yi,tf.weaponType);let yi=0,nT=0,ug=0,U1=0,sT=0,V1=0;var YT,ZT,eP,tP,aP,nP;const dn={normal:{hitArr:[Rt.auto[yi++],Rt.auto[yi++],Rt.auto[yi++],Rt.auto[yi++],Rt.auto[yi++]]},charged:{dmg1:Rt.auto[yi++],stamina:Rt.auto[yi++][0]},plunging:{dmg:Rt.auto[yi++],low:Rt.auto[yi++],high:Rt.auto[yi++]},skill:{press:Rt.skill[nT++],cd:Rt.skill[nT++][0]},burst:{cutDmg:Rt.burst[ug++],bloomDmg:Rt.burst[ug++],duration:Rt.burst[ug++][0],cd:Rt.burst[ug++][0],enerCost:Rt.burst[ug++][0]},sprint:{active_stam:(ZT=(YT=Rt==null?void 0:Rt.sprint)==null?void 0:YT[U1++])==null?void 0:ZT[0],drain_stam:(tP=(eP=Rt==null?void 0:Rt.sprint)==null?void 0:eP[U1++])==null?void 0:tP[0],duration:(nP=(aP=Rt==null?void 0:Rt.sprint)==null?void 0:aP[U1++])==null?void 0:nP[0]},passive1:{dmg_bonus:Rt.passive1[sT++][0],duration:Rt.passive1[sT++][0]},passive2:{stamina:Rt.passive2[V1++][0],cryo:Rt.passive2[V1++][0],duration:Rt.passive2[V1++][0]},constellation2:{snowflake:Rt.constellation2[0]},constellation4:{def_red:Rt.constellation4[0],duration:Rt.constellation4[1]},constellation6:{cd:Rt.constellation6[0],charged_bonus:Rt.constellation6[1]}},[KZ,NC]=r(Yi,"afterSprint"),jC=ss("afterSprint",NC,ef),[FZ,T$]=r(Yi,"afterSkillA1"),GC=n(e.asc,1,i("afterSkill",T$,d(dn.passive1.dmg_bonus))),WC=n(e.asc,1,i("afterSkill",T$,d(dn.passive1.dmg_bonus),{path:"charged_dmg_"})),[NZ,LC]=r(Yi,"afterApplySprint"),zC=n(e.asc,4,i("afterApplySprint",LC,d(dn.passive2.cryo))),[jZ,UC]=r(Yi,"afterBurst"),VC=n(e.constellation,4,i("c4",UC,dn.constellation4.def_red)),[GZ,qC]=r(Yi,"C6"),JC=n(e.constellation,6,i("c6",qC,dn.constellation6.charged_bonus),{path:"charged_dmg_"}),Xo={normal:Object.fromEntries(dn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",dn.charged.dmg1,"charged")},plunging:R("atk",dn.plunging),skill:{press:c("atk",dn.skill.press,"skill")},burst:{cutting:c("atk",dn.burst.cutDmg,"burst"),bloom:c("atk",dn.burst.bloomDmg,"burst")},constellation2:{dmg:n(e.constellation,2,c("atk",dn.burst.cutDmg,"burst",void 0,d(dn.constellation2.snowflake))),bloom:n(e.constellation,2,c("atk",dn.burst.bloomDmg,"burst",void 0,d(dn.constellation2.snowflake)))}},QC=n(e.constellation,3,3),XC=n(e.constellation,5,3),WZ=A(Yi,ef,"inazuma",tf,Xo,{teamBuff:{premod:{enemyDefRed_:VC}},infusion:{overridableSelf:jC},premod:{skillBoost:XC,burstBoost:QC,normal_dmg_:GC,charged_dmg_:P(WC,JC),cryo_dmg_:zC}}),LZ={key:Yi,name:$t.name,rarity:tf.rarity,elementKey:ef,weaponTypeKey:tf.weaponType,gender:"F",constellationName:$t.chg("constellationName"),title:$t.chg("title"),talent:{auto:$t.talentTem("auto",[{text:$t.chg("auto.fields.normal")},{fields:dn.normal.hitArr.map((t,o)=>({node:a(Xo.normal[o],{name:$t.chg(`auto.skillParams.${o}`),multi:o===3?3:void 0})}))},{text:$t.chg("auto.fields.charged")},{fields:[{node:a(Xo.charged.dmg1,{name:$t.chg("auto.skillParams.5"),multi:3})},{text:$t.chg("auto.skillParams.6"),value:dn.charged.stamina}]},{text:$t.chg("auto.fields.plunging")},{fields:[{node:a(Xo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Xo.plunging.low,{name:s("plunging.low")})},{node:a(Xo.plunging.high,{name:s("plunging.high")})}]}]),skill:$t.talentTem("skill",[{fields:[{node:a(Xo.skill.press,{name:$t.chg("skill.skillParams.0")})},{text:$t.chg("skill.skillParams.1"),value:dn.skill.cd,unit:"s"}]},$t.condTem("passive1",{value:T$,path:FZ,name:l("afterUse.skill"),states:{afterSkill:{fields:[{node:GC},{node:WC},{text:s("duration"),value:dn.passive1.duration,unit:"s"}]}}})]),burst:$t.talentTem("burst",[{fields:[{node:a(Xo.burst.cutting,{name:$t.chg("burst.skillParams.0"),multi:19})},{node:a(Xo.burst.bloom,{name:$t.chg("burst.skillParams.1")})},{text:s("duration"),value:dn.burst.duration,unit:"s"},{text:s("cd"),value:dn.burst.cd,unit:"s"},{text:s("energyCost"),value:dn.burst.enerCost}]},$t.headerTem("constellation2",{fields:[{node:a(Xo.constellation2.dmg,{name:$t.chg("burst.skillParams.0"),multi:38})},{node:a(Xo.constellation2.bloom,{name:$t.chg("burst.skillParams.1"),multi:2})}]}),$t.condTem("constellation4",{teamBuff:!0,value:UC,path:jZ,name:$t.ch("dmgBySnowflake"),states:{c4:{fields:[{node:VC},{text:s("duration"),value:"6s"}]}}})]),sprint:$t.talentTem("sprint",[{fields:[{text:l("activationStam"),value:dn.sprint.active_stam},{text:l("stamDrain"),value:dn.sprint.drain_stam,unit:"/s"}]},$t.condTem("sprint",{value:NC,path:KZ,name:l("afterSprint"),states:{afterSprint:{fields:[{canShow:t=>t.get(jC).value===ef,text:H(Ba,{color:"cryo",children:l("infusion.cryo")})},{text:s("duration"),value:dn.sprint.duration,unit:"s"}]}}}),$t.condTem("passive2",{value:LC,path:NZ,name:$t.ch("afterSprintCryo"),states:{afterApplySprint:{fields:[{text:l("stamRestored"),value:dn.passive2.stamina},{node:zC},{text:s("duration"),value:dn.passive2.duration,unit:"s"}]}}})]),passive1:$t.talentTem("passive1"),passive2:$t.talentTem("passive2"),passive3:$t.talentTem("passive3"),constellation1:$t.talentTem("constellation1"),constellation2:$t.talentTem("constellation2"),constellation3:$t.talentTem("constellation3",[{fields:[{node:QC}]}]),constellation4:$t.talentTem("constellation4"),constellation5:$t.talentTem("constellation5",[{fields:[{node:XC}]}]),constellation6:$t.talentTem("constellation6",[$t.condTem("constellation6",{value:qC,path:GZ,name:$t.ch("c6Active"),states:{c6:{fields:[{node:JC},{text:s("cd"),value:dn.constellation6.cd,unit:"s"}]}}})])}},zZ=new I(LZ,WZ),Vc="KamisatoAyato",j_="hydro",af=g.char.data[Vc],ea=g.char.skillParam[Vc],Xe=B(Vc,af.weaponType);let Ti=0,or=0,gg=0;const ca={normal:{hitArr:[ea.auto[Ti++],ea.auto[Ti++],ea.auto[Ti++],ea.auto[Ti++],ea.auto[Ti++]]},charged:{dmg:ea.auto[Ti++],stamina:ea.auto[Ti++][0]},plunging:{dmg:ea.auto[Ti++],low:ea.auto[Ti++],high:ea.auto[Ti++]},skill:{dmgArr:[ea.skill[or++],ea.skill[or++],ea.skill[or++]],stateDuration:ea.skill[or++][0],stackHpDmgInc:ea.skill[or++],maxStacks:4,illusionDmg:ea.skill[or++],illusionDuration:ea.skill[or++][0],cd:ea.skill[or++][0]},burst:{dmg:ea.burst[gg++],normal_dmg_:ea.burst[gg++],duration:ea.burst[gg++][0],cd:ea.burst[gg++][0],enerCost:ea.burst[gg++][0]},passive1:{stacksGained:ea.passive1[0][0]},passive2:{enerThres_:ea.passive2[0][0],cd:ea.passive2[1][0],energyRestore:ea.passive2[2][0]},constellation1:{oppHpThres_:ea.constellation1[0],shunDmg_:ea.constellation1[1]},constellation2:{extraStacks:ea.constellation2[0],stackThresh:3,hp_:ea.constellation2[1]},constellation4:{atkSPD:ea.constellation4[0],duration:ea.constellation4[1]},constellation6:{extraStrikes:2,dmg:ea.constellation6[0]}},[UZ,P$]=r(Vc,"skillStacks"),YC=v(P$,Object.fromEntries(b(1,5).map(t=>[t,t===5?n(e.constellation,2,m(t,u(e.total.skillIndex,ca.skill.stackHpDmgInc,{unit:"%"}),e.total.hp)):m(t,u(e.total.skillIndex,ca.skill.stackHpDmgInc,{unit:"%"}),e.total.hp)])),y),[VZ,ZC]=r(Vc,"burstInArea"),eB=i(ZC,"on",u(e.total.burstIndex,ca.burst.normal_dmg_)),qZ=i(e.activeCharKey,E.charKey,eB),[JZ,tB]=r(Vc,"c1OppHp"),w$=n(e.constellation,1,i(tB,"on",ca.constellation1.shunDmg_)),Gv=n(e.constellation,2,v(P$,Object.fromEntries(b(ca.constellation2.stackThresh,5).map(t=>[t,d(ca.constellation2.hp_)])),y)),[QZ,aB]=r(Vc,"c4AfterBurst"),nB=n(e.constellation,4,i(aB,"on",ca.constellation4.atkSPD)),XZ={hit:{ele:p(j_)},premod:{normal_dmgInc:YC,normal_dmg_:w$}},Oi={normal:Object.fromEntries(ca.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",ca.charged.dmg,"charged")},plunging:R("atk",ca.plunging),skill:{...Object.fromEntries(ca.skill.dmgArr.map((t,o)=>[`dmg${o}`,C(m(u(e.total.skillIndex,t,{unit:"%"}),e.total.atk),"normal",XZ)])),illusionDmg:c("atk",ca.skill.illusionDmg,"skill")},burst:{dmg:c("atk",ca.burst.dmg,"burst")},constellation6:{dmg:n(e.constellation,6,C(m(d(ca.constellation6.dmg),e.total.atk),"normal",{hit:{ele:p(j_)},premod:{normal_dmg_:w$}}))}},sB=n(e.constellation,3,3),lB=n(e.constellation,5,3),YZ=A(Vc,j_,"inazuma",af,Oi,{teamBuff:{premod:{normal_dmg_:qZ,atkSPD_:nB}},premod:{skillBoost:sB,burstBoost:lB,hp_:Gv}}),ZZ={key:Vc,name:Xe.name,rarity:af.rarity,elementKey:j_,weaponTypeKey:af.weaponType,gender:"M",constellationName:Xe.chg("constellationName"),title:Xe.chg("title"),talent:{auto:Xe.talentTem("auto",[{text:Xe.chg("auto.fields.normal")},{fields:ca.normal.hitArr.map((t,o)=>({node:a(Oi.normal[o],{name:Xe.chg(`auto.skillParams.${o}`),multi:o===3?2:void 0})}))},{text:Xe.chg("auto.fields.charged")},{fields:[{node:a(Oi.charged.dmg,{name:Xe.chg("auto.skillParams.5")})},{text:Xe.chg("auto.skillParams.6"),value:ca.charged.stamina}]},{text:Xe.chg("auto.fields.plunging")},{fields:[{node:a(Oi.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Oi.plunging.low,{name:s("plunging.low")})},{node:a(Oi.plunging.high,{name:s("plunging.high")})}]}]),skill:Xe.talentTem("skill",[{fields:[...ca.skill.dmgArr.map((t,o)=>({node:a(Oi.skill[`dmg${o}`],{name:Xe.chg(`skill.skillParams.${o}`)})})),{node:a(Oi.skill.illusionDmg,{name:Xe.chg("skill.skillParams.5")})},{text:Xe.chg("skill.skillParams.6"),value:ca.skill.illusionDuration,unit:"s"},{text:s("cd"),value:ca.skill.cd,unit:"s"}]},Xe.headerTem("constellation6",{fields:[{node:a(Oi.constellation6.dmg,{name:Xe.ch("c6.dmg"),multi:ca.constellation6.extraStrikes})}]}),Xe.condTem("skill",{value:P$,path:UZ,name:Xe.ch("skill.namisenStacks"),states:t=>Object.fromEntries(b(1,t.get(e.constellation).value>=2?5:4).map(o=>[o,{name:l("stack",{count:o}),fields:[{node:a(YC,{name:Xe.ch("skill.shun_dmgInc")})},{text:l("maxStacks"),value:w=>w.get(e.constellation).value>=2?ca.skill.maxStacks+ca.constellation2.extraStacks:ca.skill.maxStacks}]}]))}),Xe.condTem("constellation1",{value:tB,path:JZ,name:l("enemyLessEqPercentHP",{percent:ca.constellation1.oppHpThres_*100}),states:{on:{fields:[{node:a(w$,{name:Xe.ch("c1.shun_dmg_"),unit:"%"})}]}}}),Xe.headerTem("passive1",{fields:[{text:Xe.ch("passive1.afterUse"),value:ca.passive1.stacksGained},{text:Xe.ch("passive1.afterExplode"),value:t=>t.get(e.constellation).value>=2?ca.skill.maxStacks+ca.constellation2.extraStacks:ca.skill.maxStacks}]}),Xe.headerTem("constellation2",{fields:[{text:Xe.ch("c2.addlStacks"),value:ca.constellation2.extraStacks},{canShow:t=>t.get(Gv).value!==0,node:Gv}]})]),burst:Xe.talentTem("burst",[{fields:[{node:a(Oi.burst.dmg,{name:Xe.chg("burst.skillParams.0")})},{text:s("duration"),value:ca.burst.duration,unit:"s"},{text:s("cd"),value:ca.burst.cd,unit:"s"},{text:s("energyCost"),value:ca.burst.enerCost}]},Xe.condTem("burst",{value:ZC,path:VZ,name:l("activeCharField"),teamBuff:!0,states:{on:{fields:[{node:a(eB,{path:"normal_dmg_"})}]}}}),Xe.condTem("constellation4",{value:aB,path:QZ,name:l("afterUse.burst"),teamBuff:!0,states:{on:{fields:[{node:nB},{text:s("duration"),value:ca.constellation4.duration,unit:"s"}]}}})]),passive1:Xe.talentTem("passive1"),passive2:Xe.talentTem("passive2"),passive3:Xe.talentTem("passive3"),constellation1:Xe.talentTem("constellation1"),constellation2:Xe.talentTem("constellation2"),constellation3:Xe.talentTem("constellation3",[{fields:[{node:sB}]}]),constellation4:Xe.talentTem("constellation4"),constellation5:Xe.talentTem("constellation5",[{fields:[{node:lB}]}]),constellation6:Xe.talentTem("constellation6")}},eee=new I(ZZ,YZ),Mc="Kaveh",G_="dendro",nf=g.char.data[Mc],Ja=g.char.skillParam[Mc],Ta=B(Mc,nf.weaponType);let Ro=0,lT=0,hg=0;const Un={normal:{hitArr:[Ja.auto[Ro++],Ja.auto[Ro++],Ja.auto[Ro++],Ja.auto[Ro++]]},charged:{spin:Ja.auto[Ro++],final:Ja.auto[Ro++],stamina:Ja.auto[Ro++][0],duration:Ja.auto[Ro++][0]},plunging:{dmg:Ja.auto[Ro++],low:Ja.auto[Ro++],high:Ja.auto[Ro++]},skill:{dmg:Ja.skill[lT++],cd:Ja.skill[lT++][0]},burst:{dmg:Ja.burst[hg++],duration:Ja.burst[hg++][0],bloom_dmg_:Ja.burst[hg++],cd:Ja.burst[hg++][0],enerCost:Ja.burst[hg++][0]},passive1:{cd:Ja.passive1[0][0],heal_eleMas:Ja.passive1[1][0]},passive2:{maxStacks:Ja.passive2[0][0],eleMas:Ja.passive2[1][0]},c1:{duration:Ja.constellation1[0],dendro_res_:Ja.constellation1[1],incHeal_:Ja.constellation1[2]},c2:{atkSPD_:Ja.constellation2[0]},c4:{bloom_dmg_:Ja.constellation4[0]},c6:{dmg_:Ja.constellation6[0],cd:Ja.constellation6[1]}},[tee,Md]=r(Mc,"afterBurst"),aee=ss(Md,"on",p(G_)),oB=i(Md,"on",u(e.total.burstIndex,Un.burst.bloom_dmg_)),[nee,iB]=r(Mc,"a4Stacks"),cB=b(1,Un.passive2.maxStacks),rB=n(e.asc,4,i(Md,"on",v(iB,_(cB,t=>m(t,Un.passive2.eleMas)),y))),[see,x$]=r(Mc,"c1AfterSkill"),dB=n(e.constellation,1,i(x$,"on",d(Un.c1.dendro_res_))),mB=n(e.constellation,1,i(x$,"on",d(Un.c1.incHeal_))),uB=n(e.constellation,2,i(Md,"on",Un.c2.atkSPD_)),gB=n(e.constellation,4,Un.c4.bloom_dmg_),Yo={normal:Object.fromEntries(Un.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spin:c("atk",Un.charged.spin,"charged"),final:c("atk",Un.charged.final,"charged")},plunging:R("atk",Un.plunging),skill:{dmg:c("atk",Un.skill.dmg,"skill")},burst:{dmg:c("atk",Un.burst.dmg,"burst")},passive1:{heal:n(e.asc,1,jn(m(d(Un.passive1.heal_eleMas),e.total.eleMas)))},constellation6:{dmg:n(e.constellation,6,C(m(d(Un.c6.dmg_),e.total.atk),"elemental",{hit:{ele:p(G_)}}))}},hB=n(e.constellation,3,3),pB=n(e.constellation,5,3),lee=A(Mc,G_,"sumeru",nf,Yo,{premod:{burstBoost:hB,skillBoost:pB,eleMas:rB,dendro_res_:dB,incHeal_:mB,atkSPD_:uB,bloom_dmg_:gB},teamBuff:{premod:{bloom_dmg_:oB}},infusion:{nonOverridableSelf:aee}}),oee={key:Mc,name:Ta.name,rarity:nf.rarity,elementKey:G_,weaponTypeKey:nf.weaponType,gender:"M",constellationName:Ta.chg("constellationName"),title:Ta.chg("title"),talent:{auto:Ta.talentTem("auto",[{text:Ta.chg("auto.fields.normal")},{fields:Un.normal.hitArr.map((t,o)=>({node:a(Yo.normal[o],{name:Ta.chg(`auto.skillParams.${o}`)})}))},{text:Ta.chg("auto.fields.charged")},{fields:[{node:a(Yo.charged.spin,{name:Ta.chg("auto.skillParams.4")})},{node:a(Yo.charged.final,{name:Ta.chg("auto.skillParams.5")})},{text:Ta.chg("auto.skillParams.6"),value:`${Un.charged.stamina}/s`}]},{text:Ta.chg("auto.fields.plunging")},{fields:[{node:a(Yo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Yo.plunging.low,{name:s("plunging.low")})},{node:a(Yo.plunging.high,{name:s("plunging.high")})}]}]),skill:Ta.talentTem("skill",[{fields:[{node:a(Yo.skill.dmg,{name:Ta.chg("skill.skillParams.0")})},{text:s("cd"),value:Un.skill.cd,unit:"s"}]},Ta.condTem("constellation1",{value:x$,path:see,name:l("hitOp.skill"),states:{on:{fields:[{node:dB},{node:mB},{text:s("duration"),value:Un.c1.duration,unit:"s"}]}}})]),burst:Ta.talentTem("burst",[{fields:[{node:a(Yo.burst.dmg,{name:Ta.chg("burst.skillParams.0")})},{text:s("duration"),value:Un.burst.duration,unit:"s"},{text:s("cd"),value:Un.burst.cd,unit:"s"},{text:s("energyCost"),value:Un.burst.enerCost}]},Ta.condTem("burst",{path:tee,value:Md,teamBuff:!0,name:l("afterUse.burst"),states:{on:{fields:[{text:H(Ba,{color:"dendro",children:l("infusion.dendro")}),canShow:t=>t.get(e.activeCharKey).value===Mc},{node:oB}]}}}),Ta.condTem("passive2",{path:nee,value:iB,canShow:i(Md,"on",1),teamBuff:!0,name:l("hitOp.normalChargedOrPlunging"),states:_(cB,t=>({name:l("stack",{count:t}),fields:[{node:rB}]}))}),Ta.headerTem("constellation2",{canShow:i(Md,"on",1),fields:[{node:uB}]})]),passive1:Ta.talentTem("passive1",[Ta.fieldsTem("passive1",{fields:[{node:a(Yo.passive1.heal,{name:s("healing")})},{text:s("cd"),value:Un.passive1.cd,unit:"s",fixed:1}]})]),passive2:Ta.talentTem("passive2"),passive3:Ta.talentTem("passive3"),constellation1:Ta.talentTem("constellation1"),constellation2:Ta.talentTem("constellation2"),constellation3:Ta.talentTem("constellation3",[{fields:[{node:hB}]}]),constellation4:Ta.talentTem("constellation4",[{fields:[{node:gB}]}]),constellation5:Ta.talentTem("constellation5",[{fields:[{node:pB}]}]),constellation6:Ta.talentTem("constellation6",[Ta.fieldsTem("constellation6",{fields:[{node:a(Yo.constellation6.dmg,{name:Ta.ch("c6Dmg")})},{text:s("cd"),value:Un.c6.cd,unit:"s"}]})])}},iee=new I(oee,lee),qc="Keqing",Wg="electro",sf=g.char.data[qc],Ea=g.char.skillParam[qc],Nt=B(qc,sf.weaponType);let Yl=0,zp=0,pg=0,q1=0;const Ps={normal:{hitArr:[Ea.auto[Yl++],Ea.auto[Yl++],Ea.auto[Yl++],Ea.auto[Yl++],Ea.auto[Yl++],Ea.auto[Yl++]]},charged:{dmg1:Ea.auto[Yl++],dmg2:Ea.auto[Yl++],stamina:Ea.auto[Yl++][0]},plunging:{dmg:Ea.auto[Yl++],low:Ea.auto[Yl++],high:Ea.auto[Yl++]},skill:{stiletto:Ea.skill[zp++],slash:Ea.skill[zp++],thunderclap:Ea.skill[zp++],cd:Ea.skill[zp++][0]},burst:{initial:Ea.burst[pg++],slash:Ea.burst[pg++],final:Ea.burst[pg++],cd:Ea.burst[pg++][0],cost:Ea.burst[pg++][0]},passive1:{duration:Ea.passive1[0][0]},passive2:{critInc_:Ea.passive2[q1++][0],enerRechInc_:Ea.passive2[q1++][0],duration:Ea.passive2[q1++][0]},constellation1:{dmg:Ea.constellation1[0]},constellation4:{duration:Ea.constellation4[0],atkInc:Ea.constellation4[1]},constellation6:{electroInc:Ea.constellation6[0],duration:Ea.constellation6[1]}},yl={normal:Object.fromEntries(Ps.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Ps.charged.dmg1,"charged"),dmg2:c("atk",Ps.charged.dmg2,"charged")},plunging:R("atk",Ps.plunging),skill:{stiletto:c("atk",Ps.skill.stiletto,"skill"),slash:c("atk",Ps.skill.slash,"skill"),thunderclap:c("atk",Ps.skill.thunderclap,"skill")},burst:{initial:c("atk",Ps.burst.initial,"burst"),slash:c("atk",Ps.burst.slash,"burst"),final:c("atk",Ps.burst.final,"burst")},constellation1:{dmg:n(e.constellation,1,C(m(e.total.atk,Ps.constellation1.dmg),"elemental",{hit:{ele:p(Wg)}}))}},kB=n(e.constellation,3,3),fB=n(e.constellation,5,3),[cee,_B]=r(qc,"afterRecast"),vB=pm(e.asc,1,ss("afterRecast",_B,Wg)),[ree,bB]=r(qc,"afterBurst"),D$=n(e.asc,4,i("afterBurst",bB,d(Ps.passive2.critInc_))),$B={...D$},[dee,yB]=r(qc,"afterReact"),TB=n(e.constellation,4,i("afterReact",yB,d(Ps.constellation4.atkInc))),[mee,PB]=r(qc,"c6Stack"),wB=n(e.constellation,6,m(v(PB,_(b(1,4),t=>p(t)),p(0)),Ps.constellation6.electroInc)),uee=A(qc,Wg,"liyue",sf,yl,{infusion:{overridableSelf:vB},premod:{skillBoost:fB,burstBoost:kB,critRate_:D$,enerRech_:$B,atk_:TB,electro_dmg_:wB}}),gee={key:qc,name:Nt.name,rarity:sf.rarity,elementKey:Wg,weaponTypeKey:sf.weaponType,gender:"F",constellationName:Nt.chg("constellationName"),title:Nt.chg("title"),talent:{auto:Nt.talentTem("auto",[{text:Nt.chg("auto.fields.normal")},{fields:Ps.normal.hitArr.map((t,o)=>({node:a(yl.normal[o],{name:Nt.chg(`auto.skillParams.${o+(o<4?0:-1)}`),textSuffix:o===3?"(1)":o===4?"(2)":""})}))},{text:Nt.chg("auto.fields.charged")},{fields:[{node:a(yl.charged.dmg1,{name:Nt.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(yl.charged.dmg2,{name:Nt.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:Nt.chg("auto.skillParams.6"),value:Ps.charged.stamina}]},{text:Nt.chg("auto.fields.plunging")},{fields:[{node:a(yl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(yl.plunging.low,{name:s("plunging.low")})},{node:a(yl.plunging.high,{name:s("plunging.high")})}]}]),skill:Nt.talentTem("skill",[{fields:[{node:a(yl.skill.stiletto,{name:Nt.chg("skill.skillParams.0")})},{node:a(yl.skill.slash,{name:Nt.chg("skill.skillParams.1")})},{node:a(yl.skill.thunderclap,{name:Nt.chg("skill.skillParams.2")})},{text:s("cd"),value:Ps.skill.cd,unit:"s",fixed:1}]},Nt.headerTem("constellation1",{fields:[{node:a(yl.constellation1.dmg,{name:Nt.ch("c1DMG")})}]}),Nt.condTem("passive1",{value:_B,path:cee,name:Nt.ch("recast"),states:{afterRecast:{fields:[{canShow:t=>t.get(vB).value===Wg,text:H(Ba,{color:"electro",children:l("infusion.electro")})},{text:s("duration"),value:Ps.passive1.duration,unit:"s"}]}}})]),burst:Nt.talentTem("burst",[{fields:[{node:a(yl.burst.initial,{name:Nt.chg("burst.skillParams.0")})},{node:a(yl.burst.slash,{name:Nt.chg("burst.skillParams.1"),multi:8})},{node:a(yl.burst.final,{name:Nt.chg("burst.skillParams.2")})},{text:s("cd"),value:Ps.burst.cd,unit:"s"},{text:s("energyCost"),value:Ps.burst.cost}]},Nt.condTem("passive2",{value:bB,path:ree,name:l("afterUse.burst"),states:{afterBurst:{fields:[{node:D$},{node:$B}]}}})]),passive1:Nt.talentTem("passive1"),passive2:Nt.talentTem("passive2"),passive3:Nt.talentTem("passive3"),constellation1:Nt.talentTem("constellation1"),constellation2:Nt.talentTem("constellation2"),constellation3:Nt.talentTem("constellation3",[{fields:[{node:kB}]}]),constellation4:Nt.talentTem("constellation4",[Nt.condTem("constellation4",{value:yB,path:dee,name:l("elementalReaction.electro"),states:{afterReact:{fields:[{node:TB}]}}})]),constellation5:Nt.talentTem("constellation5",[{fields:[{node:fB}]}]),constellation6:Nt.talentTem("constellation6",[Nt.condTem("constellation6",{value:PB,path:mee,name:l("hitOp.normalChargedSkillBurst"),states:_(b(1,4),t=>({name:l("stack",{count:t}),fields:[{node:wB}]}))})])}},hee=new I(gee,uee),Su="Kirara",Cd="dendro",lf=g.char.data[Su],Ie=g.char.skillParam[Su],Re=B(Su,lf.weaponType);let Zl=0,Ho=0,kg=0;const Bt={normal:{hitArr:[Ie.auto[Zl++],Ie.auto[Zl++],Ie.auto[Zl++],Ie.auto[Zl++],Ie.auto[Zl++]]},charged:{dmg1:Ie.auto[Zl++],dmg2:Ie.auto[Zl++],dmg3:Ie.auto[Zl++],stamina:Ie.auto[Zl++][0]},plunging:{dmg:Ie.auto[Zl++],low:Ie.auto[Zl++],high:Ie.auto[Zl++]},skill:{tailDmg:Ie.skill[Ho++],shield_hp_:Ie.skill[Ho++],shield_base:Ie.skill[Ho++],maxShield_hp_:Ie.skill[Ho++],maxShield_base:Ie.skill[Ho++],shieldDuration:Ie.skill[Ho++][0],parcelDmg:Ie.skill[Ho++],parcelDuration:Ie.skill[Ho++][0],strikeDmg:Ie.skill[Ho++],cdMin:Ie.skill[Ho++][0],cdMax:Ie.skill[Ho++][0]},burst:{skillDmg:Ie.burst[kg++],explosionDmg:Ie.burst[kg++],duration:Ie.burst[kg++][0],cd:Ie.burst[kg++][0],cost:Ie.burst[kg++][0]},passive1:{shieldMult_:Ie.passive1[0][0],maxStacks:Ie.passive1[1][0],cd:Ie.passive1[2][0]},passive2:{skill_dmg_:Ie.passive2[0][0],burst_dmg_:Ie.passive2[1][0]},constellation1:{hpThresh:1/Ie.constellation1[0]},constellation2:{shieldMult_:Ie.constellation2[0],duration:Ie.constellation2[1],cd:Ie.constellation2[2]},constellation4:{dmg:Ie.constellation4[0],cd:Ie.constellation4[1]},constellation6:{all_dmg_:Ie.constellation6[0],duration:Ie.constellation6[1]}},oT=bs("hp",Bt.skill.shield_hp_,Bt.skill.shield_base,"skill"),Wv=bs("hp",Bt.skill.maxShield_hp_,Bt.skill.maxShield_base,"skill"),iT=bs("hp",Bt.skill.shield_hp_,Bt.skill.shield_base,"skill",void 0,d(Bt.passive1.shieldMult_)),cT=m(d(Bt.constellation2.shieldMult_),Wv),[pee,xB]=r(Su,"c6AfterSkillBurst"),DB=_(ye.map(t=>`${t}_dmg_`),t=>n(e.constellation,6,i(xB,"on",Bt.constellation6.all_dmg_))),Dn={normal:Object.fromEntries(Bt.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Bt.charged.dmg1,"charged"),dmg2:c("atk",Bt.charged.dmg2,"charged")},plunging:R("atk",Bt.plunging),skill:{tailDmg:c("atk",Bt.skill.tailDmg,"skill"),shield:oT,dendroShield:Vn("dendro",oT),maxShield:Wv,maxDendroShield:Vn("dendro",Wv),parcelDmg:c("atk",Bt.skill.parcelDmg,"skill"),strikeDmg:c("atk",Bt.skill.strikeDmg,"skill")},burst:{skillDmg:c("atk",Bt.burst.skillDmg,"burst"),explosionDmg:c("atk",Bt.burst.explosionDmg,"burst")},passive1:{shield:n(e.asc,1,iT),dendroShield:n(e.asc,1,Vn("dendro",iT))},passive2:{skill_dmg_:n(e.asc,4,m(d(Bt.passive2.skill_dmg_),e.total.hp,1/1e3)),burst_dmg_:n(e.asc,4,m(d(Bt.passive2.burst_dmg_),e.total.hp,1/1e3))},constellation1:{extraCardamom:n(e.constellation,1,Gi(e.total.hp,Bt.constellation1.hpThresh*4,4,Gi(e.total.hp,Bt.constellation1.hpThresh*3,3,Gi(e.total.hp,Bt.constellation1.hpThresh*2,2,Gi(e.total.hp,Bt.constellation1.hpThresh,1,0)))))},constellation2:{shield:n(e.constellation,2,cT),dendroShield:n(e.constellation,2,Vn("dendro",cT))},constellation4:{dmg:n(e.constellation,4,C(m(d(Bt.constellation4.dmg),e.total.atk),"burst",{hit:{ele:p(Cd)}}))}},SB=n(e.constellation,3,3),CB=n(e.constellation,5,3),kee=A(Su,Cd,"inazuma",lf,Dn,{premod:{skillBoost:SB,burstBoost:CB,skill_dmg_:Dn.passive2.skill_dmg_,burst_dmg_:Dn.passive2.burst_dmg_},teamBuff:{premod:DB}}),fee={key:Su,name:Re.name,rarity:lf.rarity,elementKey:Cd,weaponTypeKey:lf.weaponType,gender:"F",constellationName:Re.chg("constellationName"),title:Re.chg("title"),talent:{auto:Re.talentTem("auto",[{text:Re.chg("auto.fields.normal")},{fields:Bt.normal.hitArr.map((t,o)=>({node:a(Dn.normal[o],{name:Re.chg(`auto.skillParams.${o+(o<3?0:-1)}`),textSuffix:o===2||o===3?`(${o-1})`:""})}))},{text:Re.chg("auto.fields.charged")},{fields:[{node:a(Dn.charged.dmg1,{name:Re.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:a(Dn.charged.dmg2,{name:Re.chg("auto.skillParams.4"),textSuffix:"(2)",multi:2})},{text:Re.chg("auto.skillParams.5"),value:Bt.charged.stamina}]},{text:Re.chg("auto.fields.plunging")},{fields:[{node:a(Dn.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Dn.plunging.low,{name:s("plunging.low")})},{node:a(Dn.plunging.high,{name:s("plunging.high")})}]}]),skill:Re.talentTem("skill",[{fields:[{node:a(Dn.skill.tailDmg,{name:Re.chg("skill.skillParams.0")})},{node:a(Dn.skill.shield,{name:Re.chg("skill.skillParams.1")})},{node:a(Dn.skill.dendroShield,{name:l(`dmgAbsorption.${Cd}`)})},{node:a(Dn.skill.maxShield,{name:Re.chg("skill.skillParams.2")})},{node:a(Dn.skill.maxDendroShield,{name:l(`dmgAbsorption.max.${Cd}`)})},{text:Re.chg("skill.skillParams.3"),value:Bt.skill.shieldDuration,unit:"s"},{node:a(Dn.skill.parcelDmg,{name:Re.chg("skill.skillParams.4")})},{text:Re.chg("skill.skillParams.5"),value:Bt.skill.parcelDuration,unit:"s"},{node:a(Dn.skill.strikeDmg,{name:Re.chg("skill.skillParams.6")})},{text:s("cd"),value:`${Bt.skill.cdMin}s ~ ${Bt.skill.cdMax}`,unit:"s"}]},Re.headerTem("passive1",{fields:[{node:a(Dn.passive1.shield,{name:s("dmgAbsorption")})},{node:a(Dn.passive1.dendroShield,{name:l(`dmgAbsorption.${Cd}`)})}]}),Re.headerTem("passive2",{fields:[{node:Dn.passive2.skill_dmg_}]})]),burst:Re.talentTem("burst",[{fields:[{node:a(Dn.burst.skillDmg,{name:Re.chg("burst.skillParams.0")})},{node:a(Dn.burst.explosionDmg,{name:Re.chg("burst.skillParams.1")})},{text:Re.chg("burst.skillParams.2"),value:Bt.burst.duration,unit:"s"},{text:s("cd"),value:Bt.burst.cd,unit:"s"},{text:s("energyCost"),value:Bt.burst.cost}]},Re.headerTem("passive2",{fields:[{node:Dn.passive2.burst_dmg_}]}),Re.headerTem("constellation1",{fields:[{node:a(Dn.constellation1.extraCardamom,{name:Re.ch("extraCardamom")})}]})]),passive1:Re.talentTem("passive1"),passive2:Re.talentTem("passive2"),passive3:Re.talentTem("passive3"),constellation1:Re.talentTem("constellation1"),constellation2:Re.talentTem("constellation2",[Re.fieldsTem("constellation2",{fields:[{node:a(Dn.constellation2.shield,{name:s("dmgAbsorption")})},{node:a(Dn.constellation2.dendroShield,{name:l(`dmgAbsorption.${Cd}`)})},{text:s("duration"),value:Bt.constellation2.duration,unit:"s"},{text:s("cd"),value:Bt.constellation2.cd,unit:"s"}]})]),constellation3:Re.talentTem("constellation3",[{fields:[{node:SB}]}]),constellation4:Re.talentTem("constellation4",[Re.fieldsTem("constellation4",{fields:[{node:a(Dn.constellation4.dmg,{name:Re.ch("c4Dmg")})},{text:s("cd"),value:Bt.constellation4.cd,unit:"s"}]})]),constellation5:Re.talentTem("constellation5",[{fields:[{node:CB}]}]),constellation6:Re.talentTem("constellation6",[Re.condTem("constellation6",{value:xB,path:pee,teamBuff:!0,name:l("afterUse.skillOrBurst"),states:{on:{fields:Object.values(DB).map(t=>({node:t}))}}})])}},_ee=new I(fee,kee),Jr="Klee",BB="pyro",vee="mondstadt",of=g.char.data[Jr],xs=g.char.skillParam[Jr],it=B(Jr,of.weaponType);let ir=0,qm=0,fg=0;const Hs={normal:{hitArr:[xs.auto[ir++],xs.auto[ir++],xs.auto[ir++]]},charged:{dmg:xs.auto[ir++],stamina:xs.auto[ir++][0]},plunging:{dmg:xs.auto[ir++],low:xs.auto[ir++],high:xs.auto[ir++]},skill:{jumptyDumptyDmg1:xs.skill[qm++],jumptyDumptyDmg2:xs.skill[qm++],jumptyDumptyDmg3:xs.skill[qm++],mineDmg:xs.skill[qm++],mineDuration:xs.skill[qm++][0],cd:xs.skill[qm++][0]},burst:{dmg:xs.burst[fg++],cd:xs.burst[fg++][0],enerCost:xs.burst[fg++][0],unknown:xs.burst[fg++],duration:xs.burst[fg++][0]},passive1:{charged_dmg_:.5},constellation1:{dmg_:1.2},constellation2:{enemyDefRed_:.23},constellation4:{dmg:5.55},constellation6:{pyro_dmg_:.1}},[bee,AB]=r(Jr,"PoundingSurprise"),IB=n(e.asc,1,i("on",AB,d(Hs.passive1.charged_dmg_))),[$ee,RB]=r(Jr,"ExplosiveFrags"),HB=n(e.constellation,2,i("on",RB,d(Hs.constellation2.enemyDefRed_))),[yee,EB]=r(Jr,"BlazingDelight"),OB=n(e.constellation,6,i("on",EB,d(Hs.constellation6.pyro_dmg_))),Zo={normal:Object.fromEntries(Hs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",Hs.charged.dmg,"charged")},plunging:R("atk",Hs.plunging),skill:{jumptyDumptyDmg:c("atk",Hs.skill.jumptyDumptyDmg1,"skill"),mineDmg:c("atk",Hs.skill.mineDmg,"skill")},burst:{dmg:c("atk",Hs.burst.dmg,"burst")},constellation1:{chainedReactionsDmg:n(e.constellation,1,m(d(Hs.constellation1.dmg_),c("atk",Hs.burst.dmg,"burst")))},constellation4:{sparklyExplosionDmg:n(e.constellation,4,C(m(d(Hs.constellation4.dmg),e.total.atk),"elemental",{hit:{ele:p("pyro")}}))}},MB=n(e.constellation,3,3),KB=n(e.constellation,5,3),Tee=A(Jr,BB,vee,of,Zo,{premod:{skillBoost:MB,burstBoost:KB,charged_dmg_:IB},teamBuff:{premod:{pyro_dmg_:OB,enemyDefRed_:HB}}}),Pee={key:Jr,name:it.name,rarity:of.rarity,elementKey:BB,weaponTypeKey:of.weaponType,gender:"F",constellationName:it.chg("constellationName"),title:it.chg("title"),talent:{auto:it.talentTem("auto",[{text:it.chg("auto.fields.normal")},{fields:Hs.normal.hitArr.map((t,o)=>({node:a(Zo.normal[o],{name:it.chg(`auto.skillParams.${o}`)})}))},{text:it.chg("auto.fields.charged")},{fields:[{node:a(Zo.charged.dmg,{name:it.chg("auto.skillParams.3")})},{text:it.chg("auto.skillParams.4"),value:Hs.charged.stamina}]},{text:it.chg("auto.fields.plunging")},{fields:[{node:a(Zo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Zo.plunging.low,{name:s("plunging.low")})},{node:a(Zo.plunging.high,{name:s("plunging.high")})}]}]),skill:it.talentTem("skill",[{fields:[{node:a(Zo.skill.jumptyDumptyDmg,{name:it.chg("skill.skillParams.0")})},{node:a(Zo.skill.mineDmg,{name:it.chg("skill.skillParams.1")})},{text:it.chg("skill.skillParams.2"),value:`${Hs.skill.mineDuration}`,unit:"s"},{text:it.chg("skill.skillParams.3"),value:`${Hs.skill.cd}`,unit:"s"},{text:l("charges"),value:2}]}]),burst:it.talentTem("burst",[{fields:[{node:a(Zo.burst.dmg,{name:it.chg("burst.skillParams.0")})},{text:it.chg("burst.skillParams.1"),value:`${Hs.burst.duration}`,unit:"s"},{text:it.chg("burst.skillParams.2"),value:`${Hs.burst.cd}`,unit:"s"},{text:it.chg("burst.skillParams.3"),value:`${Hs.burst.enerCost}`}]}]),passive1:it.talentTem("passive1",[it.condTem("passive1",{value:AB,path:bee,name:it.ch("a1CondName"),states:{on:{fields:[{node:IB},{text:it.ch("a1CondName2")}]}}})]),passive2:it.talentTem("passive2"),passive3:it.talentTem("passive3"),constellation1:it.talentTem("constellation1",[it.fieldsTem("constellation1",{fields:[{node:a(Zo.constellation1.chainedReactionsDmg,{name:l("dmg")})}]})]),constellation2:it.talentTem("constellation2",[it.condTem("constellation2",{value:RB,path:$ee,teamBuff:!0,name:it.ch("c2CondName"),states:{on:{fields:[{node:HB},{text:s("duration"),value:10,unit:"s"}]}}})]),constellation3:it.talentTem("constellation3",[{fields:[{node:MB}]}]),constellation4:it.talentTem("constellation4",[it.fieldsTem("constellation4",{fields:[{node:a(Zo.constellation4.sparklyExplosionDmg,{name:l("dmg")})}]})]),constellation5:it.talentTem("constellation5",[{fields:[{node:KB}]}]),constellation6:it.talentTem("constellation6",[it.condTem("constellation6",{value:EB,path:yee,teamBuff:!0,name:it.ch("c6CondName"),states:{on:{fields:[{node:OB},{text:s("duration"),value:25,unit:"s"}]}}})])}},wee=new I(Pee,Tee),xm="KujouSara",cf=g.char.data[xm],is=g.char.skillParam[xm],ta=B(xm,cf.weaponType);let Pi=0,Up=0,Vp=0,rT=0;const Vs={normal:{hitArr:[is.auto[Pi++],is.auto[Pi++],is.auto[Pi++],is.auto[Pi++],is.auto[Pi++]]},charged:{aimed:is.auto[Pi++],fullyAimed:is.auto[Pi++]},plunging:{dmg:is.auto[Pi++],low:is.auto[Pi++],high:is.auto[Pi++]},skill:{dmg:is.skill[Up++],atkBonus:is.skill[Up++],duration:is.skill[Up++][0],cd:is.skill[Up++][0]},burst:{titanBreakerDmg:is.burst[Vp++],stormClusterDmg:is.burst[Vp++],cd:is.burst[Vp++][0],enerCost:is.burst[Vp++][0]},passive2:{energyGen:is.passive2[rT++][0],er:is.passive2[rT++][0]},constellation2:{crowfeatherDmg:is.constellation2[0]},constellation6:{atkInc:is.constellation6[0]}},[xee,Mg]=r(xm,"TenguJuuraiAmbush"),Dee=u(e.total.skillIndex,Vs.skill.atkBonus.map(t=>t),{unit:"%"}),FB=i("TenguJuuraiAmbush",Mg,m(e.base.atk,Dee),{path:"atk",isTeamBuff:!0}),NB=i(e.activeCharKey,E.charKey,FB),[See,jB]=r(xm,"c6"),GB=n(e.constellation,6,i(Mg,"TenguJuuraiAmbush",i("c6",jB,d(Vs.constellation6.atkInc)))),co={normal:Object.fromEntries(Vs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",Vs.charged.aimed,"charged"),fullyAimed:c("atk",Vs.charged.fullyAimed,"charged",{hit:{ele:p("electro")}})},plunging:R("atk",Vs.plunging),skill:{dmg:c("atk",Vs.skill.dmg,"skill"),skillTenguAmbush_:NB},burst:{titanbreaker:c("atk",Vs.burst.titanBreakerDmg,"burst"),stormcluster:c("atk",Vs.burst.stormClusterDmg,"burst")},passive2:{energyRegen:a(n(e.asc,4,m(e.total.enerRech_,Vs.passive2.energyGen)),{name:s("energyRegen"),fixed:2})},constellation2:{dmg:n(e.constellation,2,m(c("atk",Vs.skill.dmg,"skill"),d(Vs.constellation2.crowfeatherDmg)))}},WB=n(e.constellation,3,3),LB=n(e.constellation,5,3),Cee=A(xm,"electro","inazuma",cf,co,{premod:{skillBoost:LB,burstBoost:WB},teamBuff:{premod:{electro_critDMG_:GB},total:{atk:NB}}}),Bee={key:xm,name:ta.name,rarity:cf.rarity,elementKey:"electro",weaponTypeKey:cf.weaponType,gender:"F",constellationName:ta.chg("constellationName"),title:ta.chg("title"),talent:{auto:ta.talentTem("auto",[{text:ta.chg("auto.fields.normal")},{fields:Vs.normal.hitArr.map((t,o)=>({node:a(co.normal[o],{name:ta.chg(`auto.skillParams.${o}`)})}))},{text:ta.chg("auto.fields.charged")},{fields:[{node:a(co.charged.aimed,{name:ta.chg("auto.skillParams.5")})},{node:a(co.charged.fullyAimed,{name:ta.chg("auto.skillParams.6")})}]},{text:ta.chg("auto.fields.plunging")},{fields:[{node:a(co.plunging.dmg,{name:s("plunging.dmg")})},{node:a(co.plunging.low,{name:s("plunging.low")})},{node:a(co.plunging.high,{name:s("plunging.high")})}]}]),skill:ta.talentTem("skill",[{fields:[{node:a(co.skill.dmg,{name:ta.chg("skill.skillParams.0")})},{text:ta.chg("skill.skillParams.3"),value:Vs.skill.cd,unit:"s"}]},ta.condTem("skill",{value:Mg,path:xee,name:ta.ch("skill.ambush"),teamBuff:!0,states:{TenguJuuraiAmbush:{fields:[{node:FB},{text:ta.chg("skill.skillParams.2"),value:Vs.skill.duration,unit:"s"}]}}}),ta.headerTem("passive2",{canShow:i(Mg,"TenguJuuraiAmbush",1),fields:[{node:co.passive2.energyRegen}]}),ta.condTem("constellation6",{value:jB,path:See,teamBuff:!0,canShow:i(Mg,"TenguJuuraiAmbush",1),name:ta.ch("c6.electroCritDmg"),states:{c6:{fields:[{node:GB}]}}})]),burst:ta.talentTem("burst",[{fields:[{node:a(co.burst.titanbreaker,{name:ta.chg("burst.skillParams.0")})},{node:a(co.burst.stormcluster,{name:ta.chg("burst.skillParams.1")})},{text:ta.chg("burst.skillParams.2"),value:Vs.burst.cd,unit:"s"},{text:ta.chg("burst.skillParams.3"),value:Vs.burst.enerCost}]}]),passive1:ta.talentTem("passive1"),passive2:ta.talentTem("passive2"),passive3:ta.talentTem("passive3"),constellation1:ta.talentTem("constellation1"),constellation2:ta.talentTem("constellation2",[ta.fieldsTem("constellation2",{fields:[{node:a(co.constellation2.dmg,{name:l("dmg")})}]})]),constellation3:ta.talentTem("constellation3",[{fields:[{node:WB}]}]),constellation4:ta.talentTem("constellation4"),constellation5:ta.talentTem("constellation5",[{fields:[{node:LB}]}]),constellation6:ta.talentTem("constellation6")}},Aee=new I(Bee,Cee),Dm="KukiShinobu",S$="electro",rf=g.char.data[Dm],jt=g.char.skillParam[Dm],Ht=B(Dm,rf.weaponType);let wi=0,_d=0,vd=0,dT=0,mT=0;const Ue={normal:{hitArr:[jt.auto[wi++],jt.auto[wi++],jt.auto[wi++],jt.auto[wi++]]},charged:{dmg1:jt.auto[wi++],dmg2:jt.auto[wi++],stamina:jt.auto[wi++][0]},plunging:{dmg:jt.auto[wi++],low:jt.auto[wi++],high:jt.auto[wi++]},skill:{pressDmg:jt.skill[_d++],ringHealHP_:jt.skill[_d++],ringHealFlat:jt.skill[_d++],ringDmg:jt.skill[_d++],cost:jt.skill[_d++][0],duration:jt.skill[_d++][0],cd:jt.skill[_d++][0]},burst:{singleDmg:jt.burst[vd++],maxDmgBase:jt.burst[vd++],maxDmgExtend:jt.burst[vd++],durationBase:jt.burst[vd++][0],durationExtend:jt.burst[vd++][0],cd:jt.burst[vd++][0],cost:jt.burst[vd++][0]},passive1:{hpThresh_:jt.passive1[dT++][0],heal_:jt.passive1[dT++][0]},passive2:{emSkillHeal_:jt.passive2[mT++][0],emSkillDmg_:jt.passive2[mT++][0]},constellation1:{aoeInc:.5},constellation2:{skillDurInc:jt.constellation2[0]},constellation4:{markDmg:jt.constellation4[0],cd:jt.constellation4[1]},constellation6:{hpThresh_:jt.constellation6[0],duration:jt.constellation6[1],em:jt.constellation6[2],cd:jt.constellation6[3]}},[uT,pk]=r(Dm,"underHP"),zB=n(e.asc,1,i(pk,"on",Ue.passive1.heal_)),Lv=n(e.asc,4,m(d(Ue.passive2.emSkillHeal_),e.total.eleMas)),C$=n(e.asc,4,m(d(Ue.passive2.emSkillDmg_),e.total.eleMas)),[Iee,UB]=r(Dm,"c6Trigger"),VB=n(e.constellation,6,i(UB,"on",Ue.constellation6.em)),ro={normal:Object.fromEntries(Ue.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Ue.charged.dmg1,"charged"),dmg2:c("atk",Ue.charged.dmg2,"charged")},plunging:R("atk",Ue.plunging),skill:{pressDmg:c("atk",Ue.skill.pressDmg,"skill"),ringHeal:an("hp",Ue.skill.ringHealHP_,Ue.skill.ringHealFlat,"skill",{premod:{healInc:Lv}}),ringDmg:c("atk",Ue.skill.ringDmg,"skill")},burst:{singleDmg:c("hp",Ue.burst.singleDmg,"burst")},passive2:{a4Skill_dmgInc:C$,a4Skill_healInc:Lv},constellation4:{markDmg:n(e.constellation,4,C(m(d(Ue.constellation4.markDmg),e.total.hp),"skill",{hit:{ele:p(S$)}}))}},qB=n(e.constellation,3,3),JB=n(e.constellation,5,3),Ree=A(Dm,S$,"inazuma",rf,ro,{premod:{skillBoost:qB,burstBoost:JB,heal_:zB,skill_dmgInc:C$,eleMas:VB}}),Hee={key:Dm,name:Ht.name,rarity:rf.rarity,elementKey:S$,weaponTypeKey:rf.weaponType,gender:"F",constellationName:Ht.chg("constellationName"),title:Ht.chg("title"),talent:{auto:Ht.talentTem("auto",[{text:Ht.chg("auto.fields.normal")},{fields:Ue.normal.hitArr.map((t,o)=>({node:a(ro.normal[o],{name:Ht.chg(`auto.skillParams.${o}`)})}))},{text:Ht.chg("auto.fields.charged")},{fields:[{node:a(ro.charged.dmg1,{name:Ht.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:a(ro.charged.dmg2,{name:Ht.chg("auto.skillParams.4"),textSuffix:"(2)"})},{text:Ht.chg("auto.skillParams.5"),value:Ue.charged.stamina}]},{text:Ht.chg("auto.fields.plunging")},{fields:[{node:a(ro.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ro.plunging.low,{name:s("plunging.low")})},{node:a(ro.plunging.high,{name:s("plunging.high")})}]}]),skill:Ht.talentTem("skill",[{fields:[{node:a(ro.skill.pressDmg,{name:Ht.chg("skill.skillParams.0")})},{node:a(ro.skill.ringHeal,{name:Ht.chg("skill.skillParams.1")})},{node:a(ro.skill.ringDmg,{name:Ht.chg("skill.skillParams.2")})},{text:Ht.chg("skill.skillParams.3"),value:Ue.skill.cost*100,unit:l("percentCurrentHP")},{text:s("duration"),value:t=>t.get(e.constellation).value>=2?`${Ue.skill.duration}s + ${Ue.constellation2.skillDurInc}s = ${Ue.skill.duration+Ue.constellation2.skillDurInc}`:Ue.skill.duration,unit:"s"},{text:s("cd"),value:Ue.skill.cd,unit:"s"}]},Ht.headerTem("passive2",{fields:[{node:a(Lv,{name:Ht.ch("a4.heal"),variant:"heal"})},{node:C$}]}),Ht.headerTem("constellation2",{fields:[{text:l("durationInc"),value:Ue.constellation2.skillDurInc,unit:"s"}]}),Ht.headerTem("constellation4",{fields:[{node:a(ro.constellation4.markDmg,{name:Ht.ch("c4.dmg")})},{text:s("cd"),value:Ue.constellation4.cd,unit:"s"}]})]),burst:Ht.talentTem("burst",[{fields:[{node:a(ro.burst.singleDmg,{name:Ht.chg("burst.skillParams.0")})},{text:s("duration"),value:t=>t.get(pk).value==="on"?`${Ue.burst.durationBase}s + ${Ue.burst.durationExtend-Ue.burst.durationBase}s = ${Ue.burst.durationExtend}`:Ue.burst.durationBase,unit:"s"},{text:s("cd"),value:Ue.burst.cd,unit:"s"},{text:s("energyCost"),value:Ue.burst.cost}]},Ht.condTem("burst",{name:l("lessEqPercentHP",{percent:Ue.passive1.hpThresh_*100}),value:pk,path:uT,states:{on:{fields:[{text:l("durationInc"),value:Ue.burst.durationExtend-Ue.burst.durationBase,fixed:1,unit:"s"}]}}}),Ht.headerTem("constellation1",{fields:[{text:l("aoeInc"),value:Ue.constellation1.aoeInc*100,unit:"%"}]})]),passive1:Ht.talentTem("passive1",[Ht.condTem("passive1",{name:l("lessEqPercentHP",{percent:Ue.passive1.hpThresh_*100}),value:pk,path:uT,states:{on:{fields:[{node:zB}]}}})]),passive2:Ht.talentTem("passive2"),passive3:Ht.talentTem("passive3"),constellation1:Ht.talentTem("constellation1"),constellation2:Ht.talentTem("constellation2"),constellation3:Ht.talentTem("constellation3",[{fields:[{node:qB}]}]),constellation4:Ht.talentTem("constellation4"),constellation5:Ht.talentTem("constellation5",[{fields:[{node:JB}]}]),constellation6:Ht.talentTem("constellation6",[Ht.condTem("constellation6",{value:UB,path:Iee,name:l("lessPercentHP",{percent:Ue.constellation6.hpThresh_*100}),states:{on:{fields:[{node:VB},{text:s("duration"),value:Ue.constellation6.duration,unit:"s"},{text:s("cd"),value:Ue.constellation6.cd,unit:"s"}]}}})])}},Eee=new I(Hee,Ree),Sm="Layla",ru="cryo",df=g.char.data[Sm],Qa=g.char.skillParam[Sm],St=B(Sm,df.weaponType);let pc=0,Jm=0,qp=0;const $n={normal:{hitArr:[Qa.auto[pc++],Qa.auto[pc++],Qa.auto[pc++]]},charged:{dmg1:Qa.auto[pc++],dmg2:Qa.auto[pc++],stamina:Qa.auto[pc++][0]},plunging:{dmg:Qa.auto[pc++],low:Qa.auto[pc++],high:Qa.auto[pc++]},skill:{skillDmg:Qa.skill[Jm++],starDmg:Qa.skill[Jm++],shieldHp_:Qa.skill[Jm++],shieldBase:Qa.skill[Jm++],shieldDuration:Qa.skill[Jm++][0],cd:Qa.skill[Jm++][0]},burst:{slugDmg:Qa.burst[qp++],duration:Qa.burst[qp++][0],cd:Qa.burst[qp++][0],energyCost:Qa.burst[qp++][0]},passive1:{shield_:Qa.passive1[0][0],maxStacks:4},passive2:{starHpDmgInc:Qa.passive2[0][0]},constellation1:{shield_:Qa.constellation1[0],partyShield_:Qa.constellation1[1],duration:Qa.constellation1[2]},constellation4:{normalChargedDmgInc:Qa.constellation4[0],effectDuration:Qa.constellation4[1],removeAfter:Qa.constellation4[2]},constellation6:{starIntervalDec_:Qa.constellation6[0],starSlugDmg_:Qa.constellation6[1]}},[Oee,QB]=r(Sm,"a1Stacks"),XB=b(1,$n.passive1.maxStacks),YB=n(e.asc,1,v(QB,Object.fromEntries(XB.map(t=>[t,m(t,$n.passive1.shield_)])),y),{path:"shield_",isTeamBuff:!0}),Mee=i(e.activeCharKey,E.charKey,YB),ZB=a(n(e.asc,4,m(d($n.passive2.starHpDmgInc),e.total.hp)),{name:St.ch("starDmgInc")}),[Kee,eA]=r(Sm,"c4Active"),B$=n(e.constellation,4,i(eA,"on",m(d($n.constellation4.normalChargedDmgInc),e.total.hp))),tA={...B$},A$=n(e.constellation,6,d($n.constellation6.starSlugDmg_)),aA={...A$},zv=m(P(Js,a(n(e.constellation,1,$n.constellation1.shield_),{name:St.ch("c1ShieldBonusKey_"),unit:"%"})),bs("hp",$n.skill.shieldHp_,$n.skill.shieldBase,"skill")),gT=Vn("cryo",zv),Tl={normal:Object.fromEntries($n.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",$n.charged.dmg1,"charged"),dmg2:c("atk",$n.charged.dmg2,"charged")},plunging:R("atk",$n.plunging),skill:{skillDmg:c("atk",$n.skill.skillDmg,"skill"),starDmg:c("atk",$n.skill.starDmg,"skill",{premod:{skill_dmgInc:ZB,skill_dmg_:A$}}),skillShield:zv,skillCryoShield:gT},burst:{slugDmg:c("hp",$n.burst.slugDmg,"burst",{premod:{burst_dmg_:aA}})},constellation1:{partyShield:n(e.constellation,1,m(d($n.constellation1.partyShield_),zv)),partyCryoShield:n(e.constellation,1,m(d($n.constellation1.partyShield_),gT))}},nA=n(e.constellation,3,3),sA=n(e.constellation,5,3),Fee=A(Sm,ru,"sumeru",df,Tl,{premod:{skillBoost:nA,burstBoost:sA},teamBuff:{premod:{shield_:Mee,normal_dmgInc:B$,charged_dmgInc:tA}}}),Nee={key:Sm,name:St.name,rarity:df.rarity,elementKey:ru,weaponTypeKey:df.weaponType,gender:"F",constellationName:St.chg("constellationName"),title:St.chg("title"),talent:{auto:St.talentTem("auto",[{text:St.chg("auto.fields.normal")},{fields:$n.normal.hitArr.map((t,o)=>({node:a(Tl.normal[o],{name:St.chg(`auto.skillParams.${o}`)})}))},{text:St.chg("auto.fields.charged")},{fields:[{node:a(Tl.charged.dmg1,{name:St.chg("auto.skillParams.3"),textSuffix:"(1)"})},{node:a(Tl.charged.dmg2,{name:St.chg("auto.skillParams.3"),textSuffix:"(2)"})},{text:St.chg("auto.skillParams.4"),value:$n.charged.stamina}]},{text:St.chg("auto.fields.plunging")},{fields:[{node:a(Tl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Tl.plunging.low,{name:s("plunging.low")})},{node:a(Tl.plunging.high,{name:s("plunging.high")})}]}]),skill:St.talentTem("skill",[{fields:[{node:a(Tl.skill.skillDmg,{name:St.chg("skill.skillParams.0")})},{node:a(Tl.skill.starDmg,{name:St.chg("skill.skillParams.1")})},{node:a(Tl.skill.skillShield,{name:s("dmgAbsorption")})},{node:a(Tl.skill.skillCryoShield,{name:l(`dmgAbsorption.${ru}`),variant:ru})},{text:s("duration"),value:$n.skill.shieldDuration,unit:"s"},{text:s("cd"),value:$n.skill.cd,unit:"s"}]},St.condTem("passive1",{teamBuff:!0,path:Oee,value:QB,name:l("stacks"),states:Object.fromEntries(XB.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:YB}]}]))}),St.headerTem("passive2",{fields:[{node:ZB}]}),St.headerTem("constellation1",{fields:[{text:l("dmgAbsorption.increase"),value:$n.constellation1.shield_*100,unit:"%"}]}),St.condTem("constellation4",{teamBuff:!0,value:eA,path:Kee,name:St.ch("c4CondKey"),states:{on:{fields:[{node:B$},{node:tA},{text:s("duration"),value:$n.constellation4.effectDuration,unit:"s"}]}}}),St.headerTem("constellation6",{fields:[{node:a(A$,{name:St.ch("starDmg_")})},{text:St.ch("starInterval_"),value:-$n.constellation6.starIntervalDec_*100,unit:"%"}]})]),burst:St.talentTem("burst",[{fields:[{node:a(Tl.burst.slugDmg,{name:St.chg("burst.skillParams.0")})},{text:s("duration"),value:$n.burst.duration,unit:"s"},{text:s("cd"),value:$n.burst.cd,unit:"s"},{text:s("energyCost"),value:$n.burst.energyCost}]},St.headerTem("constellation6",{fields:[{node:a(aA,{name:St.ch("slugDmg_")})}]})]),passive1:St.talentTem("passive1"),passive2:St.talentTem("passive2"),constellation1:St.talentTem("constellation1",[St.fieldsTem("constellation1",{fields:[{node:a(Tl.constellation1.partyShield,{name:s("dmgAbsorption")})},{node:a(Tl.constellation1.partyCryoShield,{name:l(`dmgAbsorption.${ru}`),variant:ru})}]})]),constellation2:St.talentTem("constellation2"),constellation3:St.talentTem("constellation3",[{fields:[{node:nA}]}]),constellation4:St.talentTem("constellation4"),constellation5:St.talentTem("constellation5",[{fields:[{node:sA}]}]),constellation6:St.talentTem("constellation6")}},jee=new I(Nee,Fee),Cm="Lisa",lA="electro",mf=g.char.data[Cm],Yn=g.char.skillParam[Cm],Pa=B(Cm,mf.weaponType);let kc=0,bd=0,Jp=0,hT=0;const Is={normal:{hitArr:[Yn.auto[kc++],Yn.auto[kc++],Yn.auto[kc++],Yn.auto[kc++]]},charged:{dmg:Yn.auto[kc++],stamina:Yn.auto[kc++][0]},plunging:{dmg:Yn.auto[kc++],low:Yn.auto[kc++],high:Yn.auto[kc++]},skill:{stack0:Yn.skill[bd++],stack1:Yn.skill[bd++],stack2:Yn.skill[bd++],stack3:Yn.skill[bd++],holdCD:Yn.skill[bd++][0],press:Yn.skill[bd++],pressCD:Yn.skill[bd++][0]},burst:{summon:.1,tick:Yn.burst[Jp++],duration:Yn.burst[Jp++][0],cd:Yn.burst[Jp++][0],cost:Yn.burst[Jp++][0]},passive1:{unknown:Yn.passive1[0][0]},passive2:{defShred:Yn.passive2[hT++][0],duration:Yn.passive2[hT++][0]}},[Gee,oA]=r(Cm,"LisaA4"),[Wee,iA]=r(Cm,"LisaC2"),cA=n(e.asc,1,i(oA,"on",Is.passive2.defShred)),rA=n(e.constellation,2,i(iA,"on",p(.25))),Mi={normal:Object.fromEntries(Is.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",Is.charged.dmg,"charged")},plunging:R("atk",Is.plunging),skill:{stack0:c("atk",Is.skill.stack0,"skill"),stack1:c("atk",Is.skill.stack1,"skill"),stack2:c("atk",Is.skill.stack2,"skill"),stack3:c("atk",Is.skill.stack3,"skill"),press:c("atk",Is.skill.press,"skill")},burst:{summon:C(m(d(Is.burst.summon),e.total.atk),"burst"),tick:c("atk",Is.burst.tick,"burst")}},dA=n(e.constellation,3,3),mA=n(e.constellation,5,3),Lee=A(Cm,lA,"mondstadt",mf,Mi,{premod:{burstBoost:dA,skillBoost:mA,def_:rA},teamBuff:{premod:{enemyDefRed_:cA}}}),zee={key:Cm,name:Pa.name,rarity:mf.rarity,elementKey:lA,weaponTypeKey:mf.weaponType,gender:"F",constellationName:Pa.chg("constellationName"),title:Pa.chg("title"),talent:{auto:Pa.talentTem("auto",[{text:Pa.chg("auto.fields.normal")},{fields:Is.normal.hitArr.map((t,o)=>({node:a(Mi.normal[o],{name:Pa.chg(`auto.skillParams.${o}`)})}))},{text:Pa.chg("auto.fields.charged")},{fields:[{node:a(Mi.charged.dmg,{name:Pa.chg("auto.skillParams.4")})},{text:Pa.chg("auto.skillParams.5"),value:Is.charged.stamina}]},{text:Pa.chg("auto.fields.plunging")},{fields:[{node:a(Mi.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Mi.plunging.low,{name:s("plunging.low")})},{node:a(Mi.plunging.high,{name:s("plunging.high")})}]}]),skill:Pa.talentTem("skill",[{fields:[{node:a(Mi.skill.press,{name:Pa.chg("skill.skillParams.0")})},...b(0,3).map(t=>({node:a(Mi.skill[`stack${t}`],{name:Pa.chg(`skill.skillParams.${2+t}`)})})),{text:s("press.cd"),value:Is.skill.pressCD,unit:"s"},{text:s("hold.cd"),value:Is.skill.holdCD,unit:"s"}]}]),burst:Pa.talentTem("burst",[{fields:[{node:a(Mi.burst.summon,{name:s("skillDMG")})},{node:a(Mi.burst.tick,{name:Pa.chg("burst.skillParams.0")})},{text:Pa.chg("burst.skillParams.1"),value:Is.burst.duration,unit:"s"},{text:Pa.chg("burst.skillParams.2"),value:Is.burst.cd,unit:"s"},{text:Pa.chg("burst.skillParams.3"),value:Is.burst.cost}]}]),passive1:Pa.talentTem("passive1"),passive2:Pa.talentTem("passive2",[Pa.condTem("passive2",{name:Pa.ch("a4C"),value:oA,path:Gee,teamBuff:!0,states:{on:{fields:[{node:cA},{text:s("duration"),value:Is.passive2.duration,unit:"s"}]}}})]),passive3:Pa.talentTem("passive3"),constellation1:Pa.talentTem("constellation1"),constellation2:Pa.talentTem("constellation2",[Pa.condTem("constellation2",{value:iA,path:Wee,name:Pa.ch("c2C"),states:{on:{fields:[{node:rA},{text:l("incInterRes")}]}}})]),constellation3:Pa.talentTem("constellation3",[{fields:[{node:dA}]}]),constellation4:Pa.talentTem("constellation4"),constellation5:Pa.talentTem("constellation5",[{fields:[{node:mA}]}]),constellation6:Pa.talentTem("constellation6")}},Uee=new I(zee,Lee),Qr="Lynette",Kd=g.char.data[Qr],oa=g.char.skillParam[Qr],ct=B(Qr,Kd.weaponType);let Eo=0,cr=0,Qm=0;const es={normal:{hitArr:[oa.auto[Eo++],oa.auto[Eo++],oa.auto[Eo++],oa.auto[Eo++],oa.auto[Eo++]]},charged:{dmg1:oa.auto[Eo++],dmg2:oa.auto[Eo++],stam:oa.auto[Eo++][0]},plunging:{dmg:oa.auto[Eo++],low:oa.auto[Eo++],high:oa.auto[Eo++]},skill:{thrustDmg:oa.skill[cr++],thrustDmgAgain:oa.skill[cr++],bladeDmg:oa.skill[cr++],hpRegen:oa.skill[cr++][0],hpCost:oa.skill[cr++][0],cd:oa.skill[cr++][0],bladeInterval:oa.skill[cr++][0],holdMaxDuration:oa.skill[cr++][0]},burst:{skillDmg:oa.burst[Qm++],boxDmg:oa.burst[Qm++],shotDmg:oa.burst[Qm++],boxDuration:oa.burst[Qm++][0],cd:oa.burst[Qm++][0],enerCost:oa.burst[Qm++][0]},passive1:{duration:oa.passive1[0][0],atk_:[0,oa.passive1[1][0],oa.passive1[2][0],oa.passive1[3][0],oa.passive1[4][0]]},passive2:{burst_dmg_:oa.passive2[0][0]},constellation6:{anemo_dmg_:oa.constellation6[0],duration:oa.constellation6[1]}},[Vee,Lg]=r(Qr,"burstAbsorb"),[qee,uA]=r(Qr,"a1AfterBurst"),gA=n(e.asc,1,i(uA,"on",u(j.ele,[...es.passive1.atk_]))),hA=n(e.asc,4,M(Lg,void 0,es.passive2.burst_dmg_)),[Jee,I$]=r(Qr,"c6AfterThrust"),Qee=pm(e.constellation,6,ss(I$,"on","anemo")),pA=n(e.constellation,6,i(I$,"on",es.constellation6.anemo_dmg_)),Pl={normal:Object.fromEntries(es.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",es.charged.dmg1,"charged"),dmg2:c("atk",es.charged.dmg2,"charged")},plunging:R("atk",es.plunging),skill:{thrustDmg:c("atk",es.skill.thrustDmg,"skill"),bladeDmg:c("atk",es.skill.bladeDmg,"skill"),hpRegen:Es("hp",d(es.skill.hpRegen),0),hpCost:m(d(es.skill.hpCost),e.total.hp)},burst:{dmg:c("atk",es.burst.skillDmg,"burst"),boxDmg:c("atk",es.burst.boxDmg,"burst"),shotDmg:M(Lg,void 0,c("atk",es.burst.shotDmg,"burst",{hit:{ele:Lg}}))}},kA=n(e.constellation,3,3),fA=n(e.constellation,5,3),Xee=A(Qr,Kd.ele,Kd.region,Kd,Pl,{teamBuff:{premod:{atk_:gA}},premod:{skillBoost:fA,burstBoost:kA,burst_dmg_:hA,anemo_dmg_:pA},infusion:{overridableSelf:Qee}}),Yee={key:Qr,name:ct.name,rarity:Kd.rarity,elementKey:Kd.ele,weaponTypeKey:Kd.weaponType,gender:"F",constellationName:ct.chg("constellationName"),title:ct.chg("title"),talent:{auto:ct.talentTem("auto",[{text:ct.chg("auto.fields.normal")},{fields:es.normal.hitArr.map((t,o)=>({node:a(Pl.normal[o],{name:ct.chg(`auto.skillParams.${o>2?o-1:o}`),textSuffix:o===2||o===3?`(${o-1})`:void 0})}))},{text:ct.chg("auto.fields.charged")},{fields:[{node:a(Pl.charged.dmg1,{name:ct.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:a(Pl.charged.dmg2,{name:ct.chg("auto.skillParams.4"),textSuffix:"(2)"})},{text:ct.chg("auto.skillParams.5"),value:es.charged.stam}]},{text:ct.chg("auto.fields.plunging")},{fields:[{node:a(Pl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Pl.plunging.low,{name:s("plunging.low")})},{node:a(Pl.plunging.high,{name:s("plunging.high")})}]}]),skill:ct.talentTem("skill",[{fields:[{node:a(Pl.skill.thrustDmg,{name:ct.chg("skill.skillParams.0")})},{node:a(Pl.skill.bladeDmg,{name:ct.chg("skill.skillParams.1")})},{text:ct.chg("skill.skillParams.2"),value:es.skill.bladeInterval,unit:"s"},{node:a(Pl.skill.hpRegen,{name:ct.chg("skill.skillParams.3")})},{node:a(Pl.skill.hpCost,{name:ct.chg("skill.skillParams.4")})},{text:ct.chg("skill.skillParams.5"),value:es.skill.holdMaxDuration,fixed:1,unit:"s"},{text:s("cd"),value:es.skill.cd,unit:"s"},{canShow:t=>t.get(e.constellation).value>=4,text:l("charges"),value:2}]},ct.condTem("constellation6",{value:I$,path:Jee,name:ct.ch("c6CondName"),states:{on:{fields:[{text:H(Ba,{color:"anemo",children:l("infusion.anemo")})},{node:pA},{text:s("duration"),value:6,unit:"s"}]}}})]),burst:ct.talentTem("burst",[{fields:[{node:a(Pl.burst.dmg,{name:ct.chg("burst.skillParams.0")})},{node:a(Pl.burst.boxDmg,{name:ct.chg("burst.skillParams.1")})},{text:ct.chg("burst.skillParams.3"),value:es.burst.boxDuration,unit:"s"},{text:s("cd"),value:es.burst.cd,unit:"s"},{text:s("energyCost"),value:es.burst.enerCost}]},ct.condTem("burst",{value:Lg,path:Vee,name:l("eleAbsor"),states:_(sa,t=>({name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:a(Pl.burst.shotDmg,{name:ct.chg("burst.skillParams.2")})}]}))}),ct.condTem("passive1",{value:uA,path:qee,teamBuff:!0,name:l("afterUse.burst"),states:{on:{fields:[{node:gA},{text:s("duration"),value:es.passive1.duration,unit:"s"}]}}}),ct.headerTem("passive2",{canShow:M(Lg,void 0,1),fields:[{node:hA}]})]),passive1:ct.talentTem("passive1"),passive2:ct.talentTem("passive2"),passive3:ct.talentTem("passive3"),constellation1:ct.talentTem("constellation1"),constellation2:ct.talentTem("constellation2"),constellation3:ct.talentTem("constellation3",[{fields:[{node:kA}]}]),constellation4:ct.talentTem("constellation4",[ct.headerTem("constellation4",{fields:[{text:l("addlCharges"),value:1}]})]),constellation5:ct.talentTem("constellation5",[{fields:[{node:fA}]}]),constellation6:ct.talentTem("constellation6")}},Zee=new I(Yee,Xee),Zi="Lyney",yr=g.char.data[Zi],Gt=g.char.skillParam[Zi],ie=B(Zi,yr.weaponType);let Zs=0,Qp=0,_g=0;const Ga={normal:{hitArr:[Gt.auto[Zs++],Gt.auto[Zs++],Gt.auto[++Zs],Gt.auto[++Zs]]},plunging:{dmg:Gt.auto[++Zs],low:Gt.auto[++Zs],high:Gt.auto[++Zs]},charged:{aimed:Gt.auto[++Zs],fullyAimed:Gt.auto[++Zs],propDmg:Gt.auto[++Zs],hpCost:Gt.auto[++Zs],hatHp:Gt.auto[++Zs],hatDuration:Gt.auto[++Zs][0],pyrotechnicDmg:Gt.auto[++Zs],thornDmg:Gt.auto[++Zs],thornInterval:Gt.auto[++Zs][0]},skill:{dmg:Gt.skill[Qp++],dmgInc:Gt.skill[Qp++],hpRegen:Gt.skill[Qp++],cd:Gt.skill[Qp++][0]},burst:{skillDmg:Gt.burst[_g++],fireworkDmg:Gt.burst[_g++],duration:Gt.burst[_g++][0],cd:Gt.burst[_g++][0],enerCost:Gt.burst[_g++][0]},passive1:{energy:Gt.passive1[0][0],propAddlDmg:Gt.passive1[1][0]},passive2:{dmg_:Gt.passive2[0][0],extraDmg_:Gt.passive2[1][0]},constellation2:{critDmg_:Gt.constellation2[0],stackCd:Gt.constellation2[1],maxStacks:Gt.constellation2[2]},constellation4:{enemy_pyro_res_:Gt.constellation4[0],duration:Gt.constellation4[1]},constellation6:{dmg:Gt.constellation6[0]}},[ete,_A]=r(Zi,"propStacks"),vA=b(1,5),bA=a(v(_A,_(vA,t=>p(t)),p(0)),{name:ie.ch("propStacks")}),$A=m(bA,u(e.total.skillIndex,Ga.skill.dmgInc,{unit:"%"}),e.total.atk),[tte,yA]=r(Zi,"a1DrainHp"),R$=n(e.asc,1,i(yA,"on",m(d(Ga.passive1.propAddlDmg),e.total.atk))),[ate,TA]=r(Zi,"a4AffectedByPyro"),nte=a(da(2,P(j.pyro,-1)),{asConst:!0}),PA=n(e.asc,4,i(TA,"on",P(d(Ga.passive2.dmg_),m(d(Ga.passive2.extraDmg_),nte)))),[ste,wA]=r(Zi,"c2Stacks"),xA=b(1,Ga.constellation2.maxStacks),DA=n(e.constellation,2,m(d(Ga.constellation2.critDmg_),v(wA,_(xA,t=>p(t)),y))),[lte,SA]=r(Zi,"c4Hit"),CA=n(e.constellation,4,i(SA,"on",-Ga.constellation4.enemy_pyro_res_)),Eg={hit:{ele:p(yr.ele)}},ote={premod:{charged_dmgInc:R$},...Eg},Ks={normal:Object.fromEntries(Ga.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",Ga.charged.aimed,"charged"),fullyAimed:c("atk",Ga.charged.fullyAimed,"charged",Eg),prop:c("atk",Ga.charged.propDmg,"charged",Eg),hpCost:m(u(e.total.autoIndex,Ga.charged.hpCost,{unit:"%"}),e.total.hp),hatHp:m(u(e.total.autoIndex,Ga.charged.hatHp,{unit:"%"}),e.total.hp),pyrotechnic:c("atk",Ga.charged.pyrotechnicDmg,"charged",ote),spiritbreath:c("atk",Ga.charged.thornDmg,"charged",Eg)},plunging:R("atk",Ga.plunging),skill:{dmg:c("atk",Ga.skill.dmg,"skill"),skillDmgInc:$A,hpRegen:an("hp",Ga.skill.hpRegen,new Array(15).fill(0),"skill",void 0,bA)},burst:{dmg:c("atk",Ga.burst.skillDmg,"burst"),fireworkDmg:c("atk",Ga.burst.fireworkDmg,"burst")},passive1:{hatDmgInc:R$},constellation6:{dmg:n(e.constellation,6,c("atk",Ga.charged.pyrotechnicDmg,"charged",Eg,d(Ga.constellation6.dmg)))}},BA=n(e.constellation,3,3),AA=n(e.constellation,5,3),ite=A(Zi,yr.ele,yr.region,yr,Ks,{premod:{burstBoost:AA,autoBoost:BA,critDMG_:DA,all_dmg_:PA,skill_dmgInc:$A},teamBuff:{premod:{pyro_enemyRes_:CA}}}),cte={key:Zi,name:ie.name,rarity:yr.rarity,elementKey:yr.ele,weaponTypeKey:yr.weaponType,gender:"M",constellationName:ie.chg("constellationName"),title:ie.chg("title"),talent:{auto:ie.talentTem("auto",[{text:ie.chg("auto.fields.normal")},{fields:Ga.normal.hitArr.map((t,o)=>({node:a(Ks.normal[o],{name:ie.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:ie.chg("auto.fields.plunging")},{fields:[{node:a(Ks.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ks.plunging.low,{name:s("plunging.low")})},{node:a(Ks.plunging.high,{name:s("plunging.high")})}]},{text:ie.chg("auto.fields.charged")},{fields:[{node:a(Ks.charged.aimed,{name:ie.chg("auto.skillParams.6")})},{node:a(Ks.charged.fullyAimed,{name:ie.chg("auto.skillParams.7")})},{node:a(Ks.charged.prop,{name:ie.chg("auto.skillParams.8")})},{node:a(Ks.charged.hpCost,{name:ie.chg("auto.skillParams.9")})}]},ie.headerTem("constellation6",{fields:[{node:a(Ks.constellation6.dmg,{name:ie.ch("c6Dmg")})}]}),{text:ie.chg("auto.fields.grinMalkin")},{fields:[{node:a(Ks.charged.hatHp,{name:ie.chg("auto.skillParams.10")})},{text:ie.chg("auto.skillParams.11"),value:Ga.charged.hatDuration,unit:"s"},{node:a(Ks.charged.pyrotechnic,{name:ie.chg("auto.skillParams.12")})}]},ie.condTem("passive1",{value:yA,path:tte,name:ie.ch("a1CondName"),states:{on:{fields:[{node:a(R$,{name:ie.ch("hatDmgInc")})},{text:s("energyRegen"),value:3}]}}}),{text:ie.chg("auto.fields.arkhe")},{fields:[{node:a(Ks.charged.spiritbreath,{name:ie.chg("auto.skillParams.13")})},{text:ie.chg("auto.skillParams.14"),value:Ga.charged.thornInterval,unit:"s"}]}]),skill:ie.talentTem("skill",[{fields:[{node:a(Ks.skill.dmg,{name:ie.chg("skill.skillParams.0")})},{text:s("cd"),value:Ga.skill.cd,unit:"s"}]},ie.condTem("skill",{value:_A,path:ete,name:ie.ch("propStacksUsed"),states:_(vA,t=>({name:l("stack",{count:t}),fields:[{node:Ks.skill.skillDmgInc},{node:a(Ks.skill.hpRegen,{name:ie.chg("skill.skillParams.2")})}]}))})]),burst:ie.talentTem("burst",[{fields:[{node:a(Ks.burst.dmg,{name:ie.chg("burst.skillParams.0")})},{node:a(Ks.burst.fireworkDmg,{name:ie.chg("burst.skillParams.1")})},{text:s("duration"),value:Ga.burst.duration,unit:"s"},{text:s("cd"),value:Ga.burst.cd,unit:"s"},{text:s("energyCost"),value:Ga.burst.enerCost}]}]),passive1:ie.talentTem("passive1"),passive2:ie.talentTem("passive2",[ie.condTem("passive2",{value:TA,path:ate,name:l("enemyAffected.pyro"),states:{on:{fields:[{node:PA}]}}})]),passive3:ie.talentTem("passive3"),constellation1:ie.talentTem("constellation1"),constellation2:ie.talentTem("constellation2",[ie.condTem("constellation2",{path:ste,value:wA,name:l("timeOnField"),states:_(xA,t=>({name:l("seconds",{count:t*2}),fields:[{node:DA}]}))})]),constellation3:ie.talentTem("constellation3",[{fields:[{node:BA}]}]),constellation4:ie.talentTem("constellation4",[ie.condTem("constellation4",{value:SA,path:lte,name:l("hitOp.charged"),states:{on:{fields:[{node:CA},{text:s("duration"),value:Ga.constellation4.duration,unit:"s"}]}}})]),constellation5:ie.talentTem("constellation5",[{fields:[{node:AA}]}]),constellation6:ie.talentTem("constellation6")}},rte=new I(cte,ite),Xr="Mika",IA="cryo",uf=g.char.data[Xr],Oa=g.char.skillParam[Xr],Et=B(Xr,uf.weaponType);let xi=-1,Xm=0,rr=0;const En={normal:{hitArr:[Oa.auto[++xi],Oa.auto[++xi],Oa.auto[++xi],Oa.auto[++xi],Oa.auto[xi+=2]]},charged:{dmg:Oa.auto[++xi],stamina:Oa.auto[++xi][0]},plunging:{dmg:Oa.auto[++xi],low:Oa.auto[++xi],high:Oa.auto[++xi]},skill:{arrowDmg:Oa.skill[Xm++],flareDmg:Oa.skill[Xm++],shardDmg:Oa.skill[Xm++],atkSPD_:Oa.skill[Xm++],soulwindDuration:Oa.skill[Xm++][0],cd:Oa.skill[Xm++][0]},burst:{castHealBase:Oa.burst[rr++],castHealHp:Oa.burst[rr++],plumeHealBase:Oa.burst[rr++],plumeHealHp:Oa.burst[rr++],plumeInterval:Oa.burst[rr++][0],plumeDuration:Oa.burst[rr++][0],cd:Oa.burst[rr++][0],energyCost:Oa.burst[rr++][0]},passive1:{physical_dmg_:Oa.passive1[0][0],maxStacks:Oa.passive1[1][0]},constellation4:{energyRegen:Oa.constellation4[0],energyRegenProcs:Oa.constellation4[1]},constellation6:{physical_critDMG_:Oa.constellation6[0],extraStacks:Oa.constellation6[1]}},[dte,Bd]=r(Xr,"inSoulwind"),kk=i(Bd,"on",u(e.total.skillIndex,En.skill.atkSPD_,{path:"atkSPD_",isTeamBuff:!0})),mte=i(e.activeCharKey,E.charKey,kk),[ute,RA]=r(Xr,"a1DetectorStacks"),gte=b(1,4),HA=n(e.asc,1,i(Bd,"on",v(RA,_(gte,t=>t===4?n(e.constellation,6,m(t,d(En.passive1.physical_dmg_))):m(t,d(En.passive1.physical_dmg_))),y,{path:"physical_dmg_",isTeamBuff:!0}))),hte=i(e.activeCharKey,E.charKey,HA),[pte,EA]=r(Xr,"c6Crit"),OA=n(e.constellation,6,i(Bd,"on",i(EA,"on",En.constellation6.physical_critDMG_,{path:"physical_critDMG_",isTeamBuff:!0}))),kte=i(e.activeCharKey,E.charKey,OA),ei={normal:Object.fromEntries(En.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",En.charged.dmg,"charged")},plunging:R("atk",En.plunging),skill:{arrowDmg:c("atk",En.skill.arrowDmg,"skill"),flareDmg:c("atk",En.skill.flareDmg,"skill"),shardDmg:c("atk",En.skill.shardDmg,"skill")},burst:{castHeal:an("hp",En.burst.castHealHp,En.burst.castHealBase,"burst"),plumeHeal:an("hp",En.burst.plumeHealHp,En.burst.plumeHealBase,"burst")}},MA=n(e.constellation,3,3),KA=n(e.constellation,5,3),fte=A(Xr,IA,"mondstadt",uf,ei,{premod:{burstBoost:MA,skillBoost:KA},teamBuff:{premod:{atkSPD_:mte,physical_dmg_:hte,physical_critDMG_:kte}}}),_te={key:Xr,name:Et.name,rarity:uf.rarity,elementKey:IA,weaponTypeKey:uf.weaponType,gender:"M",constellationName:Et.chg("constellationName"),title:Et.chg("title"),talent:{auto:Et.talentTem("auto",[{text:Et.chg("auto.fields.normal")},{fields:En.normal.hitArr.map((t,o)=>({node:a(ei.normal[o],{name:Et.chg(`auto.skillParams.${o}`),multi:o===3?2:void 0})}))},{text:Et.chg("auto.fields.charged")},{fields:[{node:a(ei.charged.dmg,{name:Et.chg("auto.skillParams.5")})},{text:Et.chg("auto.skillParams.6"),value:En.charged.stamina}]},{text:Et.chg("auto.fields.plunging")},{fields:[{node:a(ei.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ei.plunging.low,{name:s("plunging.low")})},{node:a(ei.plunging.high,{name:s("plunging.high")})}]}]),skill:Et.talentTem("skill",[{fields:[{node:a(ei.skill.arrowDmg,{name:Et.chg("skill.skillParams.0")})},{node:a(ei.skill.flareDmg,{name:Et.chg("skill.skillParams.1")})},{node:a(ei.skill.shardDmg,{name:Et.chg("skill.skillParams.2")})},{text:Et.chg("skill.skillParams.4"),value:En.skill.soulwindDuration,unit:"s"},{text:s("cd"),value:En.skill.cd,unit:"s"}]},Et.condTem("skill",{path:dte,value:Bd,teamBuff:!0,name:Et.ch("inSoulwind"),states:{on:{fields:[{node:kk}]}}}),Et.condTem("passive1",{path:ute,value:RA,teamBuff:!0,canShow:i(Bd,"on",1),name:Et.ch("numDetectorStacks"),states:t=>_(b(1,t.get(e.constellation).value>=6?4:3),o=>({name:l("stack",{count:o}),fields:[{node:HA}]}))}),Et.condTem("constellation6",{teamBuff:!0,canShow:i(Bd,"on",1),path:pte,value:EA,name:Et.ch("inSoulwind"),states:{on:{fields:[{node:OA}]}}}),Et.headerTem("constellation6",{fields:[{text:Et.ch("incDetectorStacks"),value:En.constellation6.extraStacks}]})]),burst:Et.talentTem("burst",[{fields:[{node:a(ei.burst.castHeal,{name:Et.chg("burst.skillParams.0")})},{node:a(ei.burst.plumeHeal,{name:Et.chg("burst.skillParams.1")})},{text:Et.chg("burst.skillParams.2"),value:t=>t.get(e.constellation).value>=1&&t.get(Bd).value==="on"&&t.get(e.activeCharKey).value===t.get(E.charKey).value?`${En.burst.plumeInterval}s - ${t.get(kk).value*100}% = ${(En.burst.plumeInterval*(1-t.get(kk).value)).toFixed(2)}`:En.burst.plumeInterval,unit:"s",fixed:1},{text:Et.chg("burst.skillParams.3"),value:En.burst.plumeDuration,unit:"s"},{text:s("cd"),value:En.burst.cd,unit:"s"},{text:s("energyCost"),value:En.burst.energyCost}]}]),passive1:Et.talentTem("passive1"),passive2:Et.talentTem("passive2"),constellation1:Et.talentTem("constellation1"),constellation2:Et.talentTem("constellation2"),constellation3:Et.talentTem("constellation3",[{fields:[{node:MA}]}]),constellation4:Et.talentTem("constellation4"),constellation5:Et.talentTem("constellation5",[{fields:[{node:KA}]}]),constellation6:Et.talentTem("constellation6")}},vte=new I(_te,fte),Yr="Mona",FA="hydro",gf=g.char.data[Yr],He=g.char.skillParam[Yr],rt=B(Yr,gf.weaponType);let fc=0,J1=0,$d=0,pT=0,Q1=0,kT=0;var sP,lP,oP,iP;const mn={normal:{hitArr:[He.auto[fc++],He.auto[fc++],He.auto[fc++],He.auto[fc++]]},charged:{dmg:He.auto[fc++],stamina:He.auto[fc++][0]},plunging:{dmg:He.auto[fc++],low:He.auto[fc++],high:He.auto[fc++]},skill:{dot:He.skill[J1++],dmg:He.skill[J1++],cd:He.skill[J1++][0]},burst:{bubbleDuration:He.burst[$d++][0],dmg:He.burst[$d++],dmgBonusNeg:He.burst[$d++],omenDuration:He.burst[$d++],cd:He.burst[$d++][0],enerCost:He.burst[$d++][0],dmgBonus:He.burst[$d++]},sprint:{active_stam:(lP=(sP=He==null?void 0:He.sprint)==null?void 0:sP[pT++])==null?void 0:lP[0],drain_stam:(iP=(oP=He==null?void 0:He.sprint)==null?void 0:oP[pT++])==null?void 0:iP[0]},passive1:{torrentDuration:He.passive1[Q1++][0],phantomDuration:He.passive1[Q1++][0],percentage:He.passive1[Q1++][0]},passive2:{unknown:He.passive2[kT++][0],percentage:He.passive2[kT++][0]},constellation1:{electroChargeDmgInc:He.constellation1[0],vaporizeDmgInc:He.constellation1[1],hydroSwirlDmgInc:He.constellation1[2],frozenExtension:He.constellation1[3],unknown:He.constellation1[4],duration:He.constellation1[5]},constellation4:{critRateInc:Math.abs(He.constellation4[0])},constellation6:{unknown:He.constellation6[0],dmgBonus:He.constellation6[1],maxDmgBonus:He.constellation6[2],duration:He.constellation6[3]}},[bte,hf]=r(Yr,"Omen"),NA=i("on",hf,u(e.total.burstIndex,mn.burst.dmgBonus,{unit:"%"})),[$te,W_]=r(Yr,"ProphecyOfSubmersion"),jA=n(e.constellation,1,i("on",W_,d(mn.constellation1.electroChargeDmgInc))),GA=n(e.constellation,1,i("on",W_,d(mn.constellation1.hydroSwirlDmgInc))),WA=n(e.constellation,1,i("on",W_,d(mn.constellation1.vaporizeDmgInc))),LA=n(e.constellation,4,i(hf,"on",d(mn.constellation4.critRateInc))),[yte,zA]=r(Yr,"RhetoricsOfCalamitas"),UA=n(e.constellation,6,v(zA,_(b(1,3),t=>d(t*mn.constellation6.dmgBonus)),0)),_o={normal:Object.fromEntries(mn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",mn.charged.dmg,"charged")},plunging:R("atk",mn.plunging),skill:{dot:c("atk",mn.skill.dot,"skill"),dmg:c("atk",mn.skill.dmg,"skill")},burst:{dmg:c("atk",mn.burst.dmg,"burst")},passive1:{dmg:n(e.asc,1,m(c("atk",mn.skill.dmg,"skill"),d(mn.passive1.percentage)))},passive2:{hydro_dmg_:n(e.asc,4,m(e.premod.enerRech_,d(mn.passive2.percentage)))}},VA=n(e.constellation,3,3),qA=n(e.constellation,5,3),Tte=A(Yr,FA,"mondstadt",gf,_o,{premod:{skillBoost:qA,burstBoost:VA,charged_dmg_:UA,hydro_dmg_:_o.passive2.hydro_dmg_},teamBuff:{premod:{all_dmg_:NA,electrocharged_dmg_:jA,swirl_dmg_:GA,vaporize_dmg_:WA,critRate_:LA}}}),Pte={key:Yr,name:rt.name,rarity:gf.rarity,elementKey:FA,weaponTypeKey:gf.weaponType,gender:"F",constellationName:rt.chg("constellationName"),title:rt.chg("title"),talent:{auto:rt.talentTem("auto",[{text:rt.chg("auto.fields.normal")},{fields:mn.normal.hitArr.map((t,o)=>({node:a(_o.normal[o],{name:rt.chg(`auto.skillParams.${o}`)})}))},{text:rt.chg("auto.fields.charged")},{fields:[{node:a(_o.charged.dmg,{name:rt.chg("auto.skillParams.4")})},{text:rt.chg("auto.skillParams.5"),value:mn.charged.stamina}]},{text:rt.chg("auto.fields.plunging")},{fields:[{node:a(_o.plunging.dmg,{name:s("plunging.dmg")})},{node:a(_o.plunging.low,{name:s("plunging.low")})},{node:a(_o.plunging.high,{name:s("plunging.high")})}]}]),skill:rt.talentTem("skill",[{fields:[{node:a(_o.skill.dot,{name:rt.chg("skill.skillParams.0")})},{node:a(_o.skill.dmg,{name:rt.chg("skill.skillParams.1")})},{text:rt.chg("skill.skillParams.2"),value:mn.skill.cd,unit:"s"}]}]),burst:rt.talentTem("burst",[{fields:[{text:rt.chg("burst.skillParams.0"),value:mn.burst.bubbleDuration,unit:"s"},{node:a(_o.burst.dmg,{name:rt.chg("burst.skillParams.1")})},{text:s("cd"),value:mn.burst.cd,unit:"s"},{text:s("energyCost"),value:mn.burst.enerCost}]},rt.condTem("burst",{value:hf,path:bte,teamBuff:!0,name:rt.ch("omen"),states:{on:{fields:[{node:NA},{text:s("duration"),value:t=>mn.burst.omenDuration[t.get(e.total.burstIndex).value],unit:"s"}]}}}),rt.headerTem("constellation4",{canShow:i(hf,"on",1),teamBuff:!0,fields:[{node:LA}]})]),sprint:rt.talentTem("sprint",[{fields:[{text:l("activationStam"),value:mn.sprint.active_stam},{text:l("stamDrain"),value:mn.sprint.drain_stam,unit:"/s"}]}]),passive1:rt.talentTem("passive1",[rt.fieldsTem("passive1",{fields:[{node:a(_o.passive1.dmg,{name:rt.chg("skill.skillParams.1")})},{text:s("duration"),value:mn.passive1.phantomDuration,unit:"s"}]})]),passive2:rt.talentTem("passive2",[rt.fieldsTem("passive2",{fields:[{node:_o.passive2.hydro_dmg_}]})]),passive3:rt.talentTem("passive3"),constellation1:rt.talentTem("constellation1",[rt.condTem("constellation1",{value:W_,path:$te,teamBuff:!0,name:rt.ch("hitOp.affectedByOmen"),states:{on:{fields:[{node:jA},{node:GA},{node:WA},{text:rt.ch("frozenDuration"),value:mn.constellation1.frozenExtension*100,unit:"%"},{text:s("duration"),value:mn.constellation1.duration,unit:"s"}]}}})]),constellation2:rt.talentTem("constellation2"),constellation3:rt.talentTem("constellation3",[{fields:[{node:VA}]}]),constellation4:rt.talentTem("constellation4"),constellation5:rt.talentTem("constellation5",[{fields:[{node:qA}]}]),constellation6:rt.talentTem("constellation6",[rt.condTem("constellation6",{value:zA,path:yte,name:rt.ch("uponSprint"),states:Object.fromEntries(b(1,3).map(t=>[t,{name:l("seconds",{count:t}),fields:[{node:UA},{text:s("duration"),value:mn.constellation6.duration,unit:"s"}]}]))})])}},wte=new I(Pte,Tte),Ul="Nahida",JA="dendro",pf=g.char.data[Ul],Ee=g.char.skillParam[Ul],X=B(Ul,pf.weaponType);let _c=0,dr=0,vc=0;const Ce={normal:{hitArr:[Ee.auto[_c++],Ee.auto[_c++],Ee.auto[_c++],Ee.auto[_c++]]},charged:{dmg:Ee.auto[_c++],stamina:Ee.auto[_c++][0]},plunging:{dmg:Ee.auto[_c++],low:Ee.auto[_c++],high:Ee.auto[_c++]},skill:{pressDmg:Ee.skill[dr++],holdDmg:Ee.skill[dr++],karmaAtkDmg:Ee.skill[dr++],karmaEleMasDmg:Ee.skill[dr++],triggerInterval:Ee.skill[dr++][0],duration:Ee.skill[dr++][0],pressCd:Ee.skill[dr++][0],holdCd:Ee.skill[dr++][0]},burst:{dmg_1:Ee.burst[vc++],dmg_2:Ee.burst[vc++],intervalDec_1:Ee.burst[vc++],intervalDec_2:Ee.burst[vc++],durationInc1:Ee.burst[vc++],durationInc2:Ee.burst[vc++],duration:Ee.burst[vc++][0],cd:Ee.burst[vc++][0],energyCost:Ee.burst[vc++][0]},passive1:{eleMas_:Ee.passive1[0][0],maxEleMas:Ee.passive1[1][0]},passive2:{eleMas_min:Ee.passive2[0][0],eleMas_maxCounted:Ee.passive2[1][0],eleMas_dmg_:Ee.passive2[2][0],eleMas_critRate_:Ee.passive2[3][0]},constellation2:{critRate_:Ee.constellation2[0],critDMG_:1,defDec_:Ee.constellation2[1],duration:Ee.constellation2[2]},constellation4:{eleMas:[...Ee.constellation4]},constellation6:{atkDmg:Ee.constellation6[0],eleMasDmg:Ee.constellation6[1],cd:Ee.constellation6[2],duration:Ee.constellation6[3],triggers:Ee.constellation6[4]}},[xte,Fd]=r(Ul,"partyInBurst"),kf=P(j.pyro,n(e.constellation,1,1)),QA=i(Fd,"on",n(kf,1,Qs(kf,1,u(e.total.burstIndex,Ce.burst.dmg_1),u(e.total.burstIndex,Ce.burst.dmg_2))),{unit:"%"}),ff=P(j.electro,n(e.constellation,1,1)),X1=i(Fd,"on",n(ff,1,Qs(ff,1,u(e.total.burstIndex,Ce.burst.intervalDec_1),u(e.total.burstIndex,Ce.burst.intervalDec_2))),{unit:"%"}),Uv=P(j.hydro,n(e.constellation,1,1)),Y1=i(Fd,"on",n(Uv,1,Qs(Uv,1,u(e.total.burstIndex,Ce.burst.durationInc1),u(e.total.burstIndex,Ce.burst.durationInc2))),{unit:"%"}),[Dte,Vv]=r(Ul,"condA1ActiveInBurst"),XA=n(e.asc,1,i(Vv,"on",n(P(i(Fd,"on",1),M(e.activeCharKey,Ul,1)),1,da(m(d(Ce.passive1.eleMas_),j.maxEleMas),Ce.passive1.maxEleMas))),{path:"eleMas",isTeamBuff:!0}),Ste=i(e.activeCharKey,E.charKey,XA),YA=a(n(e.asc,4,da(m(d(Ce.passive2.eleMas_dmg_),d_(P(e.total.eleMas,-Ce.passive2.eleMas_min),0)),d(Ce.passive2.eleMas_dmg_*Ce.passive2.eleMas_maxCounted))),{unit:"%"}),ZA=a(n(e.asc,4,da(m(d(Ce.passive2.eleMas_critRate_),d_(P(e.total.eleMas,-Ce.passive2.eleMas_min),0)),d(Ce.passive2.eleMas_critRate_*Ce.passive2.eleMas_maxCounted))),{unit:"%"}),fT={premod:{skill_dmg_:P(YA,QA),skill_critRate_:ZA}},[Cte,H$]=r(Ul,"c2Bloom"),ch=n(e.constellation,2,i(H$,"on",d(Ce.constellation2.critRate_))),e5={...ch},t5={...ch},a5={...ch},rh=n(e.constellation,2,i(H$,"on",d(Ce.constellation2.critDMG_))),n5={...rh},s5={...rh},l5={...rh},[Bte,o5]=r(Ul,"c2QSA"),i5=n(e.constellation,2,i(o5,"on",d(Ce.constellation2.defDec_))),[_T,qv]=r(Ul,"c4Count"),Jv=b(1,4),Qv=n(e.constellation,4,v(qv,Object.fromEntries(Jv.map(t=>[t,u(p(t-1),[...Ce.constellation4.eleMas])])),y)),mo={normal:Object.fromEntries(Ce.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",Ce.charged.dmg,"charged")},plunging:R("atk",Ce.plunging),skill:{pressDmg:c("atk",Ce.skill.pressDmg,"skill"),holdDmg:c("atk",Ce.skill.holdDmg,"skill"),karmaDmg:Wi(["atk","eleMas"],[Ce.skill.karmaAtkDmg,Ce.skill.karmaEleMasDmg],"skill",fT)},passive2:{a4Karma_dmg_:YA,a4Karma_critRate_:ZA},constellation6:{dmg:n(e.constellation,6,C(P(m(d(Ce.constellation6.atkDmg),e.total.atk),m(d(Ce.constellation6.eleMasDmg),e.total.eleMas)),"skill",fT))}},c5=n(e.constellation,3,3),r5=n(e.constellation,5,3),Ate=A(Ul,JA,"sumeru",pf,mo,{premod:{skillBoost:c5,burstBoost:r5,eleMas:Qv},teamBuff:{premod:{burning_critRate_:ch,bloom_critRate_:e5,hyperbloom_critRate_:t5,burgeon_critRate_:a5,burning_critDMG_:rh,bloom_critDMG_:n5,hyperbloom_critDMG_:s5,burgeon_critDMG_:l5,enemyDefRed_:i5},total:{eleMas:Ste}}}),Ite={key:Ul,name:X.name,rarity:pf.rarity,elementKey:JA,weaponTypeKey:pf.weaponType,gender:"F",constellationName:X.chg("constellationName"),title:X.chg("title"),talent:{auto:X.talentTem("auto",[{text:X.chg("auto.fields.normal")},{fields:Ce.normal.hitArr.map((t,o)=>({node:a(mo.normal[o],{name:X.chg(`auto.skillParams.${o}`)})}))},{text:X.chg("auto.fields.charged")},{fields:[{node:a(mo.charged.dmg,{name:X.chg("auto.skillParams.4")})},{text:X.chg("auto.skillParams.5"),value:Ce.charged.stamina}]},{text:X.chg("auto.fields.plunging")},{fields:[{node:a(mo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(mo.plunging.low,{name:s("plunging.low")})},{node:a(mo.plunging.high,{name:s("plunging.high")})}]}]),skill:X.talentTem("skill",[{fields:[{node:a(mo.skill.pressDmg,{name:X.chg("skill.skillParams.0")})},{node:a(mo.skill.holdDmg,{name:X.chg("skill.skillParams.1")})},{node:a(mo.skill.karmaDmg,{name:X.chg("skill.skillParams.2")})},{text:X.chg("skill.skillParams.3"),value:t=>{const o=+t.get(X1).value.toFixed(2);return o!==0?`${Ce.skill.triggerInterval}s - ${o}s = ${Ce.skill.triggerInterval-o}`:Ce.skill.triggerInterval},unit:"s",fixed:1},{text:X.chg("skill.skillParams.4"),value:Ce.skill.duration,unit:"s"},{text:s("press.cd"),value:Ce.skill.pressCd,unit:"s"},{text:s("hold.cd"),value:Ce.skill.holdCd,unit:"s"}]},X.headerTem("burst",{canShow:i(Fd,"on",P(kf,ff)),fields:[{node:a(QA,{name:X.ch("karmaDmg_")})},{text:X.ch("karmaIntervalDec"),canShow:t=>t.get(X1).value>0,value:t=>t.get(X1).value,unit:"s",fixed:2}]}),X.headerTem("passive2",{fields:[{node:a(mo.passive2.a4Karma_dmg_,{name:X.ch("karmaDmg_")})},{node:a(mo.passive2.a4Karma_critRate_,{name:X.ch("karmaCritRate_")})}]}),X.condTem("constellation2",{teamBuff:!0,path:Cte,value:H$,name:X.ch("c2.bloomCondName"),states:{on:{fields:[{node:ch},{node:rh},{node:e5},{node:n5},{node:t5},{node:s5},{node:a5},{node:l5}]}}}),X.condTem("constellation2",{teamBuff:!0,path:Bte,value:o5,name:X.ch("c2.qasCondName"),states:{on:{fields:[{node:i5}]}}}),X.condTem("constellation4",{teamBuff:!0,path:_T,value:qv,name:X.ch("c4CondName"),states:Object.fromEntries(Jv.map(t=>[t,{name:l("opponents",{count:t}),fields:[{node:Qv}]}]))}),X.headerTem("constellation6",{fields:[{node:a(mo.constellation6.dmg,{name:X.ch("c6KarmicDmg")})}]})]),burst:X.talentTem("burst",[{fields:[{text:s("duration"),value:t=>{const o=+t.get(Y1).value.toFixed(2);return o!==0?`${Ce.burst.duration}s + ${o}s = ${Ce.burst.duration+o}`:Ce.burst.duration},unit:"s"},{text:s("cd"),value:Ce.burst.cd,unit:"s",fixed:1},{text:s("energyCost"),value:Ce.burst.energyCost}]},X.condTem("burst",{path:xte,value:Fd,name:X.ch("partyInBurst"),states:{on:{fields:[{canShow:t=>t.get(P(kf,ff,Uv)).value<1,text:X.ch("noBurstEffect")},{canShow:t=>t.get(Y1).value!==0,text:l("durationInc"),value:t=>t.get(Y1).value,unit:"s",fixed:2}]}}}),X.condTem("passive1",{canShow:P(i(Fd,"on",1),M(e.activeCharKey,Ul,1)),teamBuff:!0,path:Dte,value:Vv,name:l("activeCharField"),states:{on:{fields:[{node:XA}]}}}),X.headerTem("constellation1",{fields:[{text:X.ch("c1Key"),value:1}]}),X.condTem("constellation4",{canShow:M(e.activeCharKey,Ul,i(Vv,"on",1)),teamBuff:!0,path:_T,value:qv,name:X.ch("c4CondName"),states:Object.fromEntries(Jv.map(t=>[t,{name:l("opponents",{count:t}),fields:[{node:Qv}]}]))})]),passive1:X.talentTem("passive1"),passive2:X.talentTem("passive2"),passive3:X.talentTem("passive3"),constellation1:X.talentTem("constellation1"),constellation2:X.talentTem("constellation2"),constellation3:X.talentTem("constellation3",[{fields:[{node:c5}]}]),constellation4:X.talentTem("constellation4"),constellation5:X.talentTem("constellation5",[{fields:[{node:r5}]}]),constellation6:X.talentTem("constellation6")}},Rte=new I(Ite,Ate),Jc="Navia",Nd=g.char.data[Jc],wa=g.char.skillParam[Jc],$e=B(Jc,Nd.weaponType);let Oo=0,Ym=0,vg=0;const Kn={normal:{hitArr:[wa.auto[Oo++],wa.auto[Oo++],wa.auto[Oo++],wa.auto[Oo++]]},charged:{cyclicDmg:wa.auto[Oo++],finalDmg:wa.auto[Oo++],stam:wa.auto[Oo++][0],duration:wa.auto[Oo++][0]},plunging:{dmg:wa.auto[Oo++],low:wa.auto[Oo++],high:wa.auto[Oo++]},skill:{baseShardDmg:wa.skill[Ym++],addlCharge_dmg_:wa.skill[Ym++][0],shrapnelDuration:wa.skill[Ym++][0],cd:wa.skill[Ym++][0],bladeDmg:wa.skill[Ym++],bladeInterval:wa.skill[Ym++][0]},burst:{skillDmg:wa.burst[vg++],supportDmg:wa.burst[vg++],duration:wa.burst[vg++][0],cd:wa.burst[vg++][0],enerCost:wa.burst[vg++][0]},passive1:{auto_dmg_:wa.passive1[0][0],duration:wa.passive1[1][0]},passive2:{atk_:wa.passive2[0][0]},constellation1:{energyRegen:wa.constellation1[0],cdReduction:wa.constellation1[1]},constellation2:{critRate_:wa.constellation2[0]},constellation4:{geo_enemyRes_:wa.constellation4[0],duration:wa.constellation4[1]},constellation6:{shot_critDMG_:wa.constellation6[0]}},L_=b(1,6),[Hte,ku]=r(Jc,"skillCharges"),Xv=v(ku,{1:p(7),2:p(9),3:p(11),4:p(11),5:p(11),6:p(11)},p(5)),Ete=b(1,11),Ote={1:0,2:.05,3:.1,4:.15,5:.2,6:.36,7:.4,8:.6,9:.66,10:.9,11:1},[Mte,d5]=r(Jc,"shotsHit"),m5=v(d5,_(Ete,t=>n(Xv,t,d(Ote[t]))),y),Yv=v(ku,_(L_,t=>t>3?p((t-3)*Kn.skill.addlCharge_dmg_):y),y),[Kte,E$]=r(Jc,"a1AfterSkill"),Fte=pm(e.asc,1,ss(E$,"on",p("geo"))),O$=n(e.asc,1,i(E$,"on",Kn.passive1.auto_dmg_)),u5={...O$},g5={...O$},h5={...O$},Nte=["pyro","electro","cryo","hydro"],vT=P(...Nte.map(t=>j[t])),p5=n(e.asc,4,Gi(vT,2,Kn.passive2.atk_*2,n(vT,1,Kn.passive2.atk_))),k5=n(e.constellation,2,v(ku,_(L_,t=>d(Math.min(t,3)*Kn.constellation2.critRate_)),y)),[jte,f5]=r(Jc,"c4AfterBurstHit"),_5=n(e.constellation,4,i(f5,"on",-Kn.constellation4.geo_enemyRes_)),Zv=n(e.constellation,6,v(ku,_(L_,t=>t>3?d((t-3)*Kn.constellation6.shot_critDMG_):y),y)),ti={normal:{...Object.fromEntries(Kn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{cyclicDmg:c("atk",Kn.charged.cyclicDmg,"charged"),finalDmg:c("atk",Kn.charged.finalDmg,"charged")},plunging:R("atk",Kn.plunging),skill:{totalShardDmg:c("atk",Kn.skill.baseShardDmg,"skill",{premod:{skill_critRate_:k5,skill_critDMG_:Zv}},a(P(m5,Js),{name:$e.ch("shot_mult_"),asConst:!0,unit:"%"})),bladeDmg:c("atk",Kn.skill.bladeDmg,"skill")},burst:{skillDmg:c("atk",Kn.burst.skillDmg,"burst"),supportDmg:c("atk",Kn.burst.supportDmg,"burst")}},v5=n(e.constellation,3,3),b5=n(e.constellation,5,3),Gte=A(Jc,Nd.ele,Nd.region,Nd,ti,{premod:{skillBoost:v5,burstBoost:b5,normal_dmg_:u5,charged_dmg_:g5,plunging_dmg_:h5,atk_:p5,skill_dmg_:Yv},infusion:{nonOverridableSelf:Fte},teamBuff:{premod:{geo_enemyRes_:_5}}}),Wte={key:Jc,name:$e.name,rarity:Nd.rarity,elementKey:Nd.ele,weaponTypeKey:Nd.weaponType,gender:"F",constellationName:$e.chg("constellationName"),title:$e.chg("title"),talent:{auto:$e.talentTem("auto",[{text:$e.chg("auto.fields.normal")},{fields:Kn.normal.hitArr.map((t,o)=>({node:a(ti.normal[o],{name:$e.chg(`auto.skillParams.${o}`)})}))},{text:$e.chg("auto.fields.charged")},{fields:[{node:a(ti.charged.cyclicDmg,{name:$e.chg("auto.skillParams.4")})},{node:a(ti.charged.finalDmg,{name:$e.chg("auto.skillParams.5")})},{text:$e.chg("auto.skillParams.6"),value:Kn.charged.stam,unit:"/s"},{text:$e.chg("auto.skillParams.7"),value:Kn.charged.duration,unit:"s"}]},{text:$e.chg("auto.fields.plunging")},{fields:[{node:a(ti.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ti.plunging.low,{name:s("plunging.low")})},{node:a(ti.plunging.high,{name:s("plunging.high")})}]},$e.condTem("passive1",{value:E$,path:Kte,name:l("afterUse.skill"),states:{on:{fields:[{text:H(Ba,{color:"geo",children:l("infusion.geo")})},{node:u5},{node:g5},{node:h5},{text:s("duration"),value:Kn.passive1.duration,unit:"s"}]}}})]),skill:$e.talentTem("skill",[{fields:[{node:a(ti.skill.totalShardDmg,{name:$e.ch("skillTotalShardDmg")})},{text:$e.chg("skill.skillParams.1"),value:Kn.skill.shrapnelDuration,unit:"s"},{node:a(ti.skill.bladeDmg,{name:$e.chg("skill.skillParams.2")})},{text:$e.chg("skill.skillParams.3"),value:Kn.skill.bladeInterval,unit:"s"},{text:s("cd"),value:Kn.skill.cd,unit:"s"}]},$e.condTem("skill",{value:ku,path:Hte,name:$e.ch("chargesCond"),states:_(L_,t=>({name:`${t}`,fields:[{node:a(Xv,{name:$e.ch("shotsFired")})},{canShow:o=>o.get(Yv).value>0,node:Yv}]}))}),$e.condTem("skill",{value:d5,path:Mte,name:$e.ch("shotsHitCond"),states:t=>_(b(1,t.get(Xv).value),o=>({name:`${o}`,fields:[{node:a(m5,{name:$e.ch("shot_mult_"),unit:"%"})}]}))}),$e.headerTem("constellation2",{canShow:M(ku,void 0,1),fields:[{node:a(k5,{name:$e.ch("shot_critRate_"),unit:"%"})}]}),$e.headerTem("constellation6",{canShow:M(Zv,y,1),fields:[{node:a(Zv,{name:$e.ch("shot_critDMG_"),unit:"%"})}]})]),burst:$e.talentTem("burst",[{fields:[{node:a(ti.burst.skillDmg,{name:$e.chg("burst.skillParams.0")})},{node:a(ti.burst.supportDmg,{name:$e.chg("burst.skillParams.1")})},{text:$e.chg("burst.skillParams.2"),value:Kn.burst.duration,unit:"s"},{text:s("cd"),value:Kn.burst.cd,unit:"s"},{text:s("energyCost"),value:Kn.burst.enerCost}]}]),passive1:$e.talentTem("passive1"),passive2:$e.talentTem("passive2",[{fields:[{node:p5}]}]),passive3:$e.talentTem("passive3"),constellation1:$e.talentTem("constellation1"),constellation2:$e.talentTem("constellation2"),constellation3:$e.talentTem("constellation3",[{fields:[{node:v5}]}]),constellation4:$e.talentTem("constellation4",[$e.condTem("constellation4",{value:f5,path:jte,name:l("hitOp.burst"),teamBuff:!0,states:{on:{fields:[{node:_5}]}}})]),constellation5:$e.talentTem("constellation5",[{fields:[{node:b5}]}]),constellation6:$e.talentTem("constellation6")}},Lte=new I(Wte,Gte),Bm="Neuvillette",jd=g.char.data[Bm],xa=g.char.skillParam[Bm],Ye=B(Bm,jd.weaponType);let Rl=0,bg=0,Xp=0;const ts={normal:{hitArr:[xa.auto[Rl++],xa.auto[Rl++],xa.auto[Rl++]]},charged:{dmg:xa.auto[Rl++],judgmentDmg:xa.auto[Rl++],stam:xa.auto[Rl++][0],hpRestore:xa.auto[Rl++][0],hpCost:xa.auto[Rl++][0],hpCostInterval:xa.auto[Rl++][0],hpThresh:xa.auto[Rl++][0]},plunging:{dmg:xa.auto[Rl++],low:xa.auto[Rl++],high:xa.auto[Rl++]},skill:{skillDmg:xa.skill[bg++],thornDmg:xa.skill[bg++],dropletDuration:xa.skill[bg++][0],cd:xa.skill[bg++][0],thornInterval:xa.skill[bg++][0]},burst:{skillDmg:xa.burst[Xp++],waterfallDmg:xa.burst[Xp++],cd:xa.burst[Xp++][0],enerCost:xa.burst[Xp++][0]},passive1:{dmg_:[0,xa.passive1[0][0],xa.passive1[1][0],xa.passive1[2][0]],duration:xa.passive1[3][0]},passive2:{hpThresh:xa.passive2[0][0],idk:xa.passive2[1][0],hydro_dmg_:xa.passive2[2][0]/100,maxHydro_dmg_:.3},constellation2:{charged_critDMG_:xa.constellation2[0]},constellation6:{current_dmg_:xa.constellation6[0]}},[zte,_f]=r(Bm,"a1Stacks"),M$=b(1,ts.passive1.dmg_.length-1),eb=Gi(e.asc,1,v(_f,_(M$,t=>d(1+ts.passive1.dmg_[t])),Js),Js),$5=b(1,50),[Ute,y5]=r(Bm,"a4Hp"),T5=n(e.asc,4,v(y5,_($5,t=>d(t*ts.passive2.hydro_dmg_)),y)),tb=n(e.constellation,2,v(_f,_(M$,t=>d(t*ts.constellation2.charged_critDMG_)),y)),wl={normal:Object.fromEntries(ts.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",ts.charged.dmg,"charged"),judgmentDmg:c("hp",ts.charged.judgmentDmg,"charged",{premod:{charged_critDMG_:tb}},eb),hpRestore:Es("hp",ts.charged.hpRestore,0),hpLoss:m(d(ts.charged.hpCost),e.total.hp)},plunging:R("atk",ts.plunging),skill:{skillDmg:c("hp",ts.skill.skillDmg,"skill"),thornDmg:c("atk",ts.skill.thornDmg,"skill")},burst:{skillDmg:c("hp",ts.burst.skillDmg,"burst"),waterfallDmg:c("hp",ts.burst.waterfallDmg,"burst")},constellation6:{currentDmg:n(e.constellation,6,C(m(d(ts.constellation6.current_dmg_),e.total.hp,eb),"charged",{premod:{charged_critDMG_:tb}}))}},P5=n(e.constellation,3,3),w5=n(e.constellation,5,3),Vte=A(Bm,jd.ele,jd.region,jd,wl,{premod:{burstBoost:w5,autoBoost:P5,hydro_dmg_:T5}}),qte={key:Bm,name:Ye.name,rarity:jd.rarity,elementKey:jd.ele,weaponTypeKey:jd.weaponType,gender:"M",constellationName:Ye.chg("constellationName"),title:Ye.chg("title"),talent:{auto:Ye.talentTem("auto",[{text:Ye.chg("auto.fields.normal")},{fields:ts.normal.hitArr.map((t,o)=>({node:a(wl.normal[o],{name:Ye.chg(`auto.skillParams.${o}`)})}))},{text:Ye.chg("auto.fields.chargedLegal")},{text:Ye.chg("auto.fields.charged")},{fields:[{node:a(wl.charged.dmg,{name:Ye.chg("auto.skillParams.3")})},{text:Ye.chg("auto.skillParams.4"),value:ts.charged.stam}]},{text:Ye.chg("auto.fields.chargedJudgment")},{fields:[{node:a(wl.charged.judgmentDmg,{name:Ye.chg("auto.skillParams.5")})},{node:a(wl.charged.hpRestore,{name:Ye.chg("auto.skillParams.6")})},{node:a(wl.charged.hpLoss,{name:Ye.chg("auto.skillParams.7")})}]},Ye.condTem("passive1",{value:_f,path:zte,name:Ye.ch("a1Cond"),states:_(M$,t=>({name:l("stack",{count:t}),fields:[{node:a(eb,{name:Ye.ch("judgmentSpecialMult_")})},{text:s("duration"),value:ts.passive1.duration,unit:"s"}]}))}),Ye.headerTem("constellation2",{canShow:n(e.asc,1,M(_f,void 0,1)),fields:[{node:a(tb,{name:Ye.ch("judgment_critDMG_")})}]}),{text:Ye.chg("auto.fields.plunging")},{fields:[{node:a(wl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(wl.plunging.low,{name:s("plunging.low")})},{node:a(wl.plunging.high,{name:s("plunging.high")})}]}]),skill:Ye.talentTem("skill",[{fields:[{node:a(wl.skill.skillDmg,{name:Ye.chg("skill.skillParams.0")})},{node:a(wl.skill.thornDmg,{name:Ye.chg("skill.skillParams.1")})},{text:Ye.chg("skill.skillParams.2"),value:ts.skill.thornInterval,unit:"s"},{text:Ye.chg("skill.skillParams.3"),value:ts.skill.dropletDuration,unit:"s"},{text:s("cd"),value:ts.skill.cd,unit:"s"}]}]),burst:Ye.talentTem("burst",[{fields:[{node:a(wl.burst.skillDmg,{name:Ye.chg("burst.skillParams.0")})},{node:a(wl.burst.waterfallDmg,{name:Ye.chg("burst.skillParams.1")})},{text:s("cd"),value:ts.burst.cd,unit:"s"},{text:s("energyCost"),value:ts.burst.enerCost}]}]),passive1:Ye.talentTem("passive1"),passive2:Ye.talentTem("passive2",[Ye.condTem("passive2",{value:y5,path:Ute,name:l("percentCurrentHP"),states:_($5,t=>({name:`${t+30}%`,fields:[{node:T5}]}))})]),passive3:Ye.talentTem("passive3"),constellation1:Ye.talentTem("constellation1"),constellation2:Ye.talentTem("constellation2"),constellation3:Ye.talentTem("constellation3",[{fields:[{node:P5}]}]),constellation4:Ye.talentTem("constellation4"),constellation5:Ye.talentTem("constellation5",[{fields:[{node:w5}]}]),constellation6:Ye.talentTem("constellation6",[{fields:[{node:a(wl.constellation6.currentDmg,{name:Ye.ch("currentDmg"),multi:2})}]}])}},Jte=new I(qte,Vte),ec="Nilou",x5="hydro",vf=g.char.data[ec],xe=g.char.skillParam[ec],se=B(ec,vf.weaponType);let bc=0,Mo=0,Yp=0;const Se={normal:{hitArr:[xe.auto[bc++],xe.auto[bc++],xe.auto[bc++]]},charged:{hit1:xe.auto[bc++],hit2:xe.auto[bc++],stamina:xe.auto[bc++][0]},plunging:{dmg:xe.auto[bc++],low:xe.auto[bc++],high:xe.auto[bc++]},skill:{skillDmg:xe.skill[Mo++],whirl1Dmg:xe.skill[Mo++],whirl2Dmg:xe.skill[Mo++],illusionDmg:xe.skill[Mo++],wheelDmg:xe.skill[Mo++],dance1Dmg:xe.skill[Mo++],dance2Dmg:xe.skill[Mo++],tranquilityAuraDuration:xe.skill[Mo++][0],cd:xe.skill[Mo++][0],lunarPrayerDuration:xe.skill[Mo++][0],pirouetteDuration:xe.skill[Mo++][0]},burst:{skillDmg:xe.burst[Yp++],aeonDmg:xe.burst[Yp++],cd:xe.burst[Yp++][0],cost:xe.burst[Yp++][0]},passive1:{bountyDuration:xe.passive1[0][0],eleMas:xe.passive1[1][0],buffDuration:xe.passive1[2][0]},passive2:{dmg_:xe.passive2[0][0],minHp:-xe.passive2[1][0],maxDmg_:xe.passive2[2][0]},constellation1:{illusion_dmg_:xe.constellation1[0],durationInc:xe.constellation1[1]},constellation2:{hydro_enemyRes_:-xe.constellation2[0],dendro_enemyRes_:-xe.constellation2[1],duration:xe.constellation2[2]},constellation4:{energyRegen:xe.constellation4[0],burst_dmg_:xe.constellation4[1],duration:xe.constellation4[2]},constellation6:{critRate_:xe.constellation6[0],critDmg_:xe.constellation6[1],maxCritRate_:xe.constellation6[2],maxCritDmg_:xe.constellation6[3]}},[Qte,D5]=r(ec,"a1AfterSkill"),[Xte,S5]=r(ec,"a1AfterHit"),ab=n(j.dendro,1,i(j.ele,2,1)),Gd=n(e.asc,1,i(ab,1,i(D5,"on",1))),C5=i(Gd,1,i(S5,"on",Se.passive1.eleMas)),K$=n(e.asc,4,i(Gd,1,da(m(d(Se.passive2.dmg_),m(d_(P(e.total.hp,Se.passive2.minHp),0),1/1e3)),d(Se.passive2.maxDmg_)))),Yte=n(e.constellation,1,a(d(Se.constellation1.illusion_dmg_),{name:se.ch("c1.illusion_dmg_")})),[Zte,B5]=r(ec,"c2Hydro"),[eae,A5]=r(ec,"c2Dendro"),I5=n(e.constellation,2,i(Gd,1,i(B5,"hydro",d(Se.constellation2.hydro_enemyRes_)))),R5=n(e.constellation,2,i(Gd,1,i(A5,"dendro",d(Se.constellation2.dendro_enemyRes_)))),[tae,H5]=r(ec,"c4AfterPirHit"),E5=n(e.constellation,4,i(H5,"on",d(Se.constellation4.burst_dmg_))),F$=n(e.constellation,6,da(m(d(Se.constellation6.critRate_),e.total.hp,1/1e3),d(Se.constellation6.maxCritRate_))),N$=n(e.constellation,6,da(m(d(Se.constellation6.critDmg_),e.total.hp,1/1e3),d(Se.constellation6.maxCritDmg_))),cl={normal:Object.fromEntries(Se.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Se.charged.hit1,"charged"),dmg2:c("atk",Se.charged.hit2,"charged")},plunging:R("atk",Se.plunging),skill:{skillDmg:c("hp",Se.skill.skillDmg,"skill"),dance1Dmg:c("hp",Se.skill.dance1Dmg,"skill"),dance2Dmg:c("hp",Se.skill.dance2Dmg,"skill"),whirl1Dmg:c("hp",Se.skill.whirl1Dmg,"skill"),whirl2Dmg:c("hp",Se.skill.whirl2Dmg,"skill"),moonDmg:c("hp",Se.skill.illusionDmg,"skill",{premod:{skill_dmg_:Yte}}),wheelDmg:c("hp",Se.skill.wheelDmg,"skill")},burst:{skillDmg:c("hp",Se.burst.skillDmg,"burst"),aeonDmg:c("hp",Se.burst.aeonDmg,"burst")},passive2:{bountifulBloom_dmg_:K$},constellation6:{c6_critRate_:F$,c6_critDMG_:N$}},O5=n(e.constellation,3,3),M5=n(e.constellation,5,3),aae=A(ec,x5,"sumeru",vf,cl,{teamBuff:{premod:{eleMas:C5,bloom_dmg_:K$,hydro_enemyRes_:I5,dendro_enemyRes_:R5}},premod:{skillBoost:M5,burstBoost:O5,burst_dmg_:E5,critRate_:F$,critDMG_:N$}}),nae={key:ec,name:se.name,rarity:vf.rarity,elementKey:x5,weaponTypeKey:vf.weaponType,gender:"F",constellationName:se.chg("constellationName"),title:se.chg("title"),talent:{auto:se.talentTem("auto",[{text:se.chg("auto.fields.normal")},{fields:Se.normal.hitArr.map((t,o)=>({node:a(cl.normal[o],{name:se.chg(`auto.skillParams.${o}`)})}))},{text:se.chg("auto.fields.charged")},{fields:[{node:a(cl.charged.dmg1,{name:se.chg("auto.skillParams.3")}),textSuffix:"(1)"},{node:a(cl.charged.dmg2,{name:se.chg("auto.skillParams.3")}),textSuffix:"(2)"},{text:se.chg("auto.skillParams.4"),value:Se.charged.stamina}]},{text:se.chg("auto.fields.plunging")},{fields:[{node:a(cl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(cl.plunging.low,{name:s("plunging.low")})},{node:a(cl.plunging.high,{name:s("plunging.high")})}]}]),skill:se.talentTem("skill",[{fields:[{node:a(cl.skill.skillDmg,{name:se.chg("skill.skillParams.0")})},{node:a(cl.skill.dance1Dmg,{name:se.ch("skill.dance1")})},{node:a(cl.skill.whirl1Dmg,{name:se.ch("skill.whirl1")})},{node:a(cl.skill.dance2Dmg,{name:se.ch("skill.dance2")})},{node:a(cl.skill.whirl2Dmg,{name:se.ch("skill.whirl2")})},{node:a(cl.skill.moonDmg,{name:se.ch("skill.illusion")})},{node:a(cl.skill.wheelDmg,{name:se.ch("skill.wheel")})},{text:se.chg("skill.skillParams.4"),value:Se.skill.pirouetteDuration,unit:"s"},{text:se.chg("skill.skillParams.5"),value:Se.skill.lunarPrayerDuration,unit:"s"},{text:se.chg("skill.skillParams.6"),value:t=>t.get(e.constellation).value>=1?`${Se.skill.tranquilityAuraDuration}s + ${Se.constellation1.durationInc}s = ${Se.skill.tranquilityAuraDuration+Se.constellation1.durationInc}`:Se.skill.tranquilityAuraDuration,unit:"s"},{text:s("cd"),value:Se.skill.cd,unit:"s"}]},se.condTem("constellation4",{path:tae,value:H5,name:se.ch("c4.condName"),states:{on:{fields:[{text:s("energyRegen"),value:Se.constellation4.energyRegen},{node:E5},{text:s("duration"),value:Se.constellation4.duration,unit:"s"}]}}})]),burst:se.talentTem("burst",[{fields:[{node:a(cl.burst.skillDmg,{name:se.chg("burst.skillParams.0")})},{node:a(cl.burst.aeonDmg,{name:se.chg("burst.skillParams.1")})},{text:s("cd"),value:Se.burst.cd,unit:"s"},{text:s("energyCost"),value:Se.burst.cost}]}]),passive1:se.talentTem("passive1",[se.fieldsTem("passive1",{teamBuff:!0,canShow:M(ab,1,1),fields:[{text:se.ch("passive1.notDendroHydroTeam")}]}),se.condTem("passive1",{path:Qte,value:D5,teamBuff:!0,canShow:ab,name:se.ch("passive1.underChaliceEffect"),states:{on:{fields:[{text:se.ch("passive1.bountifulCores")}]}}}),se.condTem("passive1",{path:Xte,value:S5,name:se.ch("passive1.condName"),teamBuff:!0,canShow:Gd,states:{on:{fields:[{node:C5},{text:s("duration"),value:Se.passive1.buffDuration,unit:"s"}]}}}),se.headerTem("passive2",{canShow:Gd,teamBuff:!0,fields:[{node:K$}]}),se.condTem("constellation2",{teamBuff:!0,canShow:Gd,states:{hydro:{path:Zte,value:B5,name:l("hitOp.hydro"),fields:[{node:I5},{text:s("effectDuration.hydro"),value:Se.constellation2.duration,unit:"s"}]},dendro:{path:eae,value:A5,name:l("hitOp.dendro"),fields:[{node:R5},{text:s("effectDuration.dendro"),value:Se.constellation2.duration,unit:"s"}]}}})]),passive2:se.talentTem("passive2"),passive3:se.talentTem("passive3"),constellation1:se.talentTem("constellation1"),constellation2:se.talentTem("constellation2"),constellation3:se.talentTem("constellation3",[{fields:[{node:O5}]}]),constellation4:se.talentTem("constellation4"),constellation5:se.talentTem("constellation5",[{fields:[{node:M5}]}]),constellation6:se.talentTem("constellation6",[{fields:[{node:F$},{node:N$}]}])}},sae=new I(nae,aae),Am="Ningguang",K5="geo",bf=g.char.data[Am],el=g.char.skillParam[Am],Le=B(Am,bf.weaponType);let yd=0,Zp=0,Z1=0,bT=0;const Wl={normal:{hitArr:[el.auto[yd++]]},charged:{dmg:el.auto[yd++],jadeDmg:el.auto[yd++],stamina:el.auto[yd++][0]},plunging:{dmg:el.auto[yd++],low:el.auto[yd++],high:el.auto[yd++]},skill:{screenHpMod:el.skill[Zp++],skillDmg:el.skill[Zp++],screenHp:el.skill[Zp++],cd:el.skill[Zp++][0]},burst:{dmgPerGem:el.burst[Z1++],cd:el.burst[Z1++][0],enerCost:el.burst[Z1++][0]},passive2:{geoDmgBonus_:el.passive2[bT++][0],duration:el.passive2[bT++][0]}},[lae,F5]=r(Am,"Ascension4"),[oae,N5]=r(Am,"Constellation4"),j5=n(e.asc,4,i(F5,"on",d(Wl.passive2.geoDmgBonus_))),G5=Object.fromEntries(ye.map(t=>[`${t}_res_`,n(e.constellation,4,i(N5,"on",d(.1)))])),Ki={normal:Object.fromEntries(Wl.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{baseDmg:c("atk",Wl.charged.dmg,"charged"),jadeDmg:c("atk",Wl.charged.jadeDmg,"charged")},plunging:R("atk",Wl.plunging),skill:{screenHp:m(u(e.total.skillIndex,Wl.skill.screenHp,{unit:"%"}),e.total.hp),dmg:c("atk",Wl.skill.skillDmg,"skill")},burst:{gemDmg:c("atk",Wl.burst.dmgPerGem,"burst")}},W5=n(e.constellation,3,3),L5=n(e.constellation,5,3),iae=A(Am,K5,"liyue",bf,Ki,{premod:{skillBoost:L5,burstBoost:W5},teamBuff:{premod:{geo_dmg_:j5,...G5}}}),cae={key:Am,name:Le.name,rarity:bf.rarity,elementKey:K5,weaponTypeKey:bf.weaponType,gender:"F",constellationName:Le.chg("constellationName"),title:Le.chg("title"),talent:{auto:Le.talentTem("auto",[{text:Le.chg("auto.fields.normal")},{fields:[{node:a(Ki.normal[0],{name:Le.chg("auto.skillParams.0")})}]},Le.headerTem("constellation1",{fields:[{text:Le.ch("aoeGems")}]}),{text:Le.chg("auto.fields.charged")},{fields:[{node:a(Ki.charged.baseDmg,{name:Le.chg("auto.skillParams.1")})},{node:a(Ki.charged.jadeDmg,{name:Le.chg("auto.skillParams.2")})},{text:Le.chg("auto.skillParams.3"),value:Wl.charged.stamina}]},Le.headerTem("passive1",{fields:[{text:Le.ch("starJadeStaminaCost")}]}),{text:Le.chg("auto.fields.plunging")},{fields:[{node:a(Ki.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ki.plunging.low,{name:s("plunging.low")})},{node:a(Ki.plunging.high,{name:s("plunging.high")})}]}]),skill:Le.talentTem("skill",[{fields:[{node:a(Ki.skill.screenHp,{name:Le.chg("skill.skillParams.0")})},{node:a(Ki.skill.dmg,{name:Le.chg("skill.skillParams.1")})},{text:Le.chg("skill.skillParams.2"),value:Wl.burst.cd,unit:"s"}]},Le.headerTem("constellation2",{fields:[{text:Le.ch("skillReset")}]}),Le.condTem("passive2",{teamBuff:!0,value:F5,path:lae,name:Le.ch("a4toggle"),states:{on:{fields:[{node:j5},{text:s("duration"),value:Wl.passive2.duration,unit:"s"}]}}}),Le.condTem("constellation4",{teamBuff:!0,value:N5,path:oae,name:Le.ch("c4toggle"),states:{on:{fields:Object.values(G5).map(t=>({node:t}))}}})]),burst:Le.talentTem("burst",[{fields:[{node:a(Ki.burst.gemDmg,{name:Le.chg("burst.skillParams.0")})},{text:Le.chg("burst.skillParams.1"),value:Wl.burst.cd,unit:"s"},{text:Le.chg("burst.skillParams.2"),value:Wl.burst.enerCost}]},Le.headerTem("constellation6",{fields:[{text:Le.ch("c6bonus"),value:7}]})]),passive1:Le.talentTem("passive1"),passive2:Le.talentTem("passive2"),passive3:Le.talentTem("passive3"),constellation1:Le.talentTem("constellation1"),constellation2:Le.talentTem("constellation2"),constellation3:Le.talentTem("constellation3",[{fields:[{node:W5}]}]),constellation4:Le.talentTem("constellation4"),constellation5:Le.talentTem("constellation5",[{fields:[{node:L5}]}]),constellation6:Le.talentTem("constellation6")}},rae=new I(cae,iae),Cu="Noelle",z5="geo",$f=g.char.data[Cu],aa=g.char.skillParam[Cu],V=B(Cu,$f.weaponType);let Ko=0,mr=0,Zm=0,ek=0;const za={normal:{hitArr:[aa.auto[Ko++],aa.auto[Ko++],aa.auto[Ko++],aa.auto[Ko++]]},charged:{spinningDmg:aa.auto[Ko++],finalDmg:aa.auto[Ko++],stamina:aa.auto[Ko++][0],duration:aa.auto[Ko++][0]},plunging:{dmg:aa.auto[Ko++],low:aa.auto[Ko++],high:aa.auto[Ko++]},skill:{shieldDef:aa.skill[mr++],healDef:aa.skill[mr++],healChance:aa.skill[mr++],shieldDuration:aa.skill[mr++][0],cd:aa.skill[mr++][0],skillDmg:aa.skill[mr++],shieldFlat:aa.skill[mr++],healFlat:aa.skill[mr++]},burst:{burstDmg:aa.burst[Zm++],skillDmg:aa.burst[Zm++],defToAtk:aa.burst[Zm++],duration:aa.burst[Zm++][0],cd:aa.burst[Zm++][0],enerCost:aa.burst[Zm++][0]},passive1:{hpThreshold:aa.passive1[ek++][0],shield:aa.passive1[ek++][0],duration:aa.passive1[ek++][0],cooldown:aa.passive1[ek++][0]},constellation1:{healingChance:aa.constellation1[0]},constellation2:{chargeStamina:aa.constellation2[0],chargeDmg_:aa.constellation2[1]},constellation4:{skillDmg:aa.constellation4[0]},constellation6:{burstAtkBonus:aa.constellation6[0]}},[dae,fu]=r(Cu,"SweepingTime"),mae=ss(fu,"on","geo"),j$=i("on",fu,m(e.total.def,P(u(e.total.burstIndex,za.burst.defToAtk,{unit:"%"}),n(e.constellation,6,d(za.constellation6.burstAtkBonus))))),U5=a(u(e.total.skillIndex,za.skill.healChance),{name:V.chg("skill.skillParams.3"),unit:"%"}),uae=a(i("on",fu,d(za.constellation1.healingChance)),{name:V.chg("skill.skillParams.3"),unit:"%"}),gae=M("on",fu,U5),V5=n(e.constellation,2,d(za.constellation2.chargeDmg_)),q5=n(e.constellation,2,d(-za.constellation2.chargeStamina)),J5=n(e.constellation,4,C(m(e.total.atk,d(za.constellation4.skillDmg)),"elemental",{hit:{ele:p(z5)}})),Ml={normal:Object.fromEntries(za.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",za.charged.spinningDmg,"charged"),finalDmg:c("atk",za.charged.finalDmg,"charged")},plunging:R("atk",za.plunging),skill:{dmg:c("def",za.skill.skillDmg,"skill"),shield:Vn("geo",bs("def",za.skill.shieldDef,za.skill.shieldFlat,"skill")),heal:an("def",za.skill.healDef,za.skill.healFlat,"skill")},burst:{defConv:j$,burstDmg:c("atk",za.burst.burstDmg,"burst"),skillDmg:c("atk",za.burst.skillDmg,"burst")},passive1:{devotionShield:n(e.asc,1,Vn("geo",jg("def",d(za.passive1.shield),0)))},constellation4:{dmg:J5}},Q5=n(e.constellation,3,3),X5=n(e.constellation,5,3),hae=A(Cu,z5,"mondstadt",$f,Ml,{premod:{skillBoost:Q5,burstBoost:X5,charged_dmg_:V5,atk:j$,staminaChargedDec_:q5},infusion:{nonOverridableSelf:mae}}),pae={key:Cu,name:V.name,rarity:$f.rarity,elementKey:"geo",weaponTypeKey:$f.weaponType,gender:"F",constellationName:V.chg("constellationName"),title:V.chg("title"),talent:{auto:V.talentTem("auto",[{text:V.chg("auto.fields.normal")},{fields:za.normal.hitArr.map((t,o)=>({node:a(Ml.normal[o],{name:V.chg(`auto.skillParams.${o}`)})}))},{text:V.chg("auto.fields.charged")},{fields:[{node:a(Ml.charged.spinningDmg,{name:V.chg("auto.skillParams.4")})},{node:a(Ml.charged.finalDmg,{name:V.chg("auto.skillParams.5")})},{text:V.chg("auto.skillParams.6"),value:za.charged.stamina,unit:"/s"},{text:V.chg("auto.skillParams.7"),value:za.charged.duration,unit:"s"}]},{text:V.chg("auto.fields.plunging")},{fields:[{node:a(Ml.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ml.plunging.low,{name:s("plunging.low")})},{node:a(Ml.plunging.high,{name:s("plunging.high")})}]}]),skill:V.talentTem("skill",[{fields:[{node:a(Ml.skill.dmg,{name:V.chg("skill.skillParams.0")})},{node:a(Ml.skill.shield,{name:V.chg("skill.skillParams.1")})},{node:a(Ml.skill.heal,{name:V.chg("skill.skillParams.2")})},{canShow:t=>t.get(e.constellation).value===0,node:U5},{canShow:t=>t.get(e.constellation).value>=1,node:gae},{canShow:t=>t.get(e.constellation).value>=1,node:uae},{text:V.chg("skill.skillParams.4"),value:za.skill.shieldDuration,unit:"s"},{canShow:t=>t.get(e.asc).value<4,text:V.chg("skill.skillParams.5"),value:za.skill.cd,unit:"s"},{canShow:t=>t.get(e.asc).value>=4,text:V.chg("skill.skillParams.5"),value:V.ch("p4cd")}]}]),burst:V.talentTem("burst",[{fields:[{node:a(Ml.burst.burstDmg,{name:V.chg("burst.skillParams.0")})},{node:a(Ml.burst.skillDmg,{name:V.chg("burst.skillParams.1")})},{canShow:t=>t.get(e.constellation).value<6,text:V.chg("burst.skillParams.3"),value:za.burst.duration,unit:"s"},{canShow:t=>t.get(e.constellation).value>=6,text:V.chg("burst.skillParams.3"),value:V.ch("c6duration")},{text:V.chg("burst.skillParams.4"),value:za.burst.cd},{text:V.chg("burst.skillParams.5"),value:za.burst.enerCost}]},V.condTem("burst",{name:V.chg("burst.name"),value:fu,path:dae,states:{on:{fields:[{text:l("infusion.geo"),variant:"geo"},{text:l("attackAoeInc")},{node:j$}]}}}),V.headerTem("constellation6",{canShow:i(fu,"on",1),fields:[{text:l("bonusScaling.atkInc"),value:l("bonusScaling.value",{value:za.constellation6.burstAtkBonus*100}),unit:s("stat.def")}]})]),passive1:V.talentTem("passive1",[V.fieldsTem("passive1",{fields:[{node:a(Ml.passive1.devotionShield,{name:V.chg("skill.skillParams.1")})},{text:V.chg("skill.skillParams.4"),value:za.passive1.duration,unit:"s"},{text:V.chg("skill.skillParams.5"),value:za.passive1.cooldown,unit:"s"}]})]),passive2:V.talentTem("passive2"),passive3:V.talentTem("passive3"),constellation1:V.talentTem("constellation1"),constellation2:V.talentTem("constellation2",[V.fieldsTem("constellation2",{fields:[{node:q5},{node:V5}]})]),constellation3:V.talentTem("constellation3",[{fields:[{node:Q5}]}]),constellation4:V.talentTem("constellation4",[V.fieldsTem("constellation4",{fields:[{node:a(J5,{name:V.ch("c4dmg")})}]})]),constellation5:V.talentTem("constellation5",[{fields:[{node:X5}]}]),constellation6:V.talentTem("constellation6")}},kae=new I(pae,hae),Im="Qiqi",Y5="cryo",yf=g.char.data[Im],Wn=g.char.skillParam[Im],Wt=B(Im,yf.weaponType);let Di=0,ur=0,eu=0;const As={normal:{hitArr:[Wn.auto[Di++],Wn.auto[Di++],Wn.auto[Di++],Wn.auto[Di++],Wn.auto[Di++]]},charged:{dmg:Wn.auto[Di++],stamina:Wn.auto[Di++][0]},plunging:{dmg:Wn.auto[Di++],low:Wn.auto[Di++],high:Wn.auto[Di++]},skill:{hitRegenPercent:Wn.skill[ur++],hitRegenFlat:Wn.skill[ur++],contRegenPercent:Wn.skill[ur++],contRegenFlat:Wn.skill[ur++],tickDmg:Wn.skill[ur++],duration:Wn.skill[ur++][0],cd:Wn.skill[ur++][0],castDmg:Wn.skill[ur++]},burst:{healPercent:Wn.burst[eu++],healFlat:Wn.burst[eu++],dmg:Wn.burst[eu++],duration:Wn.burst[eu++][0],cd:Wn.burst[eu++][0],cost:Wn.burst[eu++][0]}},[fae,Z5]=r(Im,"QiqiA1"),[_ae,G$]=r(Im,"QiqiC2"),eI=n(e.asc,1,i(Z5,"on",.2,{path:"incHeal_"})),vae=i(e.activeCharKey,E.charKey,eI),tI=i(G$,"on",n(e.constellation,2,.15)),aI=i(G$,"on",n(e.constellation,2,.15)),uo={normal:Object.fromEntries(As.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",As.charged.dmg,"charged")},plunging:R("atk",As.plunging),skill:{castDmg:c("atk",As.skill.castDmg,"skill"),tickDmg:c("atk",As.skill.tickDmg,"skill"),hitRegen:an("atk",As.skill.hitRegenPercent,As.skill.hitRegenFlat,"skill"),contRegen:an("atk",As.skill.contRegenPercent,As.skill.contRegenFlat,"skill")},burst:{dmg:c("atk",As.burst.dmg,"burst"),heal:an("atk",As.burst.healPercent,As.burst.healFlat,"burst")}},nI=n(e.constellation,3,3),sI=n(e.constellation,5,3),bae=A(Im,Y5,"liyue",yf,uo,{premod:{burstBoost:nI,skillBoost:sI,normal_dmg_:aI,charged_dmg_:tI},teamBuff:{premod:{incHeal_:vae}}}),$ae={key:Im,name:Wt.name,rarity:yf.rarity,elementKey:Y5,weaponTypeKey:yf.weaponType,gender:"F",constellationName:Wt.chg("constellationName"),title:Wt.chg("title"),talent:{auto:Wt.talentTem("auto",[{text:Wt.chg("auto.fields.normal")},{fields:As.normal.hitArr.map((t,o)=>({node:a(uo.normal[o],{name:Wt.chg(`auto.skillParams.${o}`),multi:o===2||o===3?2:void 0})}))},{text:Wt.chg("auto.fields.charged")},{fields:[{node:a(uo.charged.dmg,{name:Wt.chg("auto.skillParams.5"),multi:2})},{text:Wt.chg("auto.skillParams.6"),value:As.charged.stamina}]},{text:Wt.chg("auto.fields.plunging")},{fields:[{node:a(uo.plunging.dmg,{name:s("plunging.dmg")})},{node:a(uo.plunging.low,{name:s("plunging.low")})},{node:a(uo.plunging.high,{name:s("plunging.high")})}]}]),skill:Wt.talentTem("skill",[{fields:[{node:a(uo.skill.castDmg,{name:Wt.chg("skill.skillParams.0")})},{node:a(uo.skill.hitRegen,{name:Wt.chg("skill.skillParams.1")})},{node:a(uo.skill.contRegen,{name:Wt.chg("skill.skillParams.2")})},{node:a(uo.skill.tickDmg,{name:Wt.chg("skill.skillParams.3")})},{text:Wt.chg("skill.skillParams.4"),value:As.skill.duration,unit:"s"},{text:Wt.chg("skill.skillParams.5"),value:As.skill.cd,unit:"s"}]}]),burst:Wt.talentTem("burst",[{fields:[{node:a(uo.burst.dmg,{name:Wt.chg("burst.skillParams.0")})},{node:a(uo.burst.heal,{name:Wt.chg("burst.skillParams.1")})},{text:Wt.chg("burst.skillParams.2"),value:As.skill.duration,unit:"s"},{text:Wt.chg("burst.skillParams.3"),value:As.skill.cd,unit:"s"},{text:Wt.chg("burst.skillParams.4"),value:As.burst.cost}]}]),passive1:Wt.talentTem("passive1",[Wt.condTem("passive1",{teamBuff:!0,name:Wt.ch("a1C"),value:Z5,path:fae,states:{on:{fields:[{node:eI},{text:s("duration"),value:8,unit:"s"}]}}})]),passive2:Wt.talentTem("passive2"),passive3:Wt.talentTem("passive3"),constellation1:Wt.talentTem("constellation1"),constellation2:Wt.talentTem("constellation2",[Wt.condTem("constellation2",{value:G$,path:_ae,name:l("enemyAffected.cryo"),states:{on:{fields:[{node:aI},{node:tI}]}}})]),constellation3:Wt.talentTem("constellation3",[{fields:[{node:nI}]}]),constellation4:Wt.talentTem("constellation4"),constellation5:Wt.talentTem("constellation5",[{fields:[{node:sI}]}]),constellation6:Wt.talentTem("constellation6")}},yae=new I($ae,bae),ii="RaidenShogun",Tf=g.char.data[ii],De=g.char.skillParam[ii],F=B(ii,Tf.weaponType);let Fo=0,$g=0,ys=0,ev=0;const kt={normal:{hitArr:[De.auto[Fo++],De.auto[Fo++],De.auto[Fo++],De.auto[Fo++],De.auto[Fo++],De.auto[Fo++]]},charged:{dmg:De.auto[Fo++],stamina:De.auto[Fo++][0]},plunging:{dmg:De.auto[Fo++],low:De.auto[Fo++],high:De.auto[Fo++]},skill:{skillDmg:De.skill[$g++],coorDmg:De.skill[$g++],duration:De.skill[$g++][0],burstDmg_bonus:De.skill[$g++],cd:De.skill[$g++][0]},burst:{dmg:De.burst[ys++],resolveBonus1:De.burst[ys++],resolveBonus2:De.burst[ys++],resolveGained:De.burst[ys++],hit1:De.burst[ys++],hit2:De.burst[ys++],hit3:De.burst[ys++],hit41:De.burst[ys++],hit42:De.burst[ys++],hit5:De.burst[ys++],charged1:De.burst[ys++],charged2:De.burst[ys++],stam:De.burst[ys++][0],plunge:De.burst[ys++],plungeLow:De.burst[ys++],plungeHigh:De.burst[ys++],enerGen:De.burst[ys++],duration:De.burst[ys++][0],cd:De.burst[ys++][0],enerCost:De.burst[ys++][0]},passive2:{er:De.passive2[ev++][0],energyGen:De.passive2[ev++][0],electroDmg_bonus:De.passive2[ev++][0]},constellation2:{def_ignore:De.constellation2[0]},constellation4:{atk_bonus:De.constellation4[0],duration:De.constellation4[1]}},[Tae,lI]=r(ii,"skillEye"),W$=i("skillEye",lI,m(a(p(kt.burst.enerCost),{name:l("energy")}),u(e.total.skillIndex,kt.skill.burstDmg_bonus,{fixed:2,unit:"%"}))),[Pae,nb]=r(ii,"InBurst"),oI=n(e.constellation,2,i(nb,"on",kt.constellation2.def_ignore));function $T(t){return c("atk",t,"skill")}const iI=[40,50,60,70,80,90],[wae,cI]=r(ii,"skillEyeTeam"),rI=a(m(v(cI,_(iI,t=>a(p(t),{name:l("energy")})),0),u(e.total.skillIndex,kt.skill.burstDmg_bonus,{fixed:2,unit:"%"})),{path:"burst_dmg_",isTeamBuff:!0}),xae=M(ii,E.charKey,rI),dI=[10,20,30,40,50,60],[Dae,mI]=r(ii,"burstResolve"),uI=a(v(mI,_(dI,t=>p(t)),0),{name:F.ch("burst.resolves")}),gI=m(a(u(e.total.burstIndex,kt.burst.resolveBonus1),{name:F.ch("burst.resolveInitial_"),unit:"%"}),uI),hI=m(a(u(e.total.burstIndex,kt.burst.resolveBonus2),{name:F.ch("burst.resolveInfused_"),unit:"%"}),uI);function eo(t,o=!1){const w=o?gI:hI;return C(m(P(u(e.total.burstIndex,t,{unit:"%"}),w),e.total.atk),"burst",{hit:{ele:p("electro")}})}const yT=a(n(e.asc,4,m(P(e.total.enerRech_,d(-kt.passive2.er)),d(kt.passive2.energyGen),100)),{name:F.ch("a4.enerRest"),unit:"%"}),[Sae,pI]=r(ii,"c4"),kI=n(e.constellation,4,i("c4",pI,M(e.activeCharKey,E.charKey,kt.constellation4.atk_bonus))),Ln={normal:Object.fromEntries(kt.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",kt.charged.dmg,"charged")},plunging:R("atk",kt.plunging),skill:{dmg:$T(kt.skill.skillDmg),coorDmg:$T(kt.skill.coorDmg),skillEye_:W$},burst:{dmg:eo(kt.burst.dmg,!0),hit1:eo(kt.burst.hit1),hit2:eo(kt.burst.hit2),hit3:eo(kt.burst.hit3),hit41:eo(kt.burst.hit41),hit42:eo(kt.burst.hit42),hit5:eo(kt.burst.hit5),charged1:eo(kt.burst.charged1),charged2:eo(kt.burst.charged2),plunge:eo(kt.burst.plunge),plungeLow:eo(kt.burst.plungeLow),plungeHigh:eo(kt.burst.plungeHigh),energyGen:m(u(e.total.burstIndex,kt.burst.enerGen),P(Js,yT))},passive2:{passive2ElecDmgBonus:n(e.asc,4,m(P(e.premod.enerRech_,d(-kt.passive2.er)),d(kt.passive2.electroDmg_bonus),100)),energyRestore:yT}},fI=n(e.constellation,3,3),_I=n(e.constellation,5,3),Cae=A(ii,"electro","inazuma",Tf,Ln,{premod:{skillBoost:_I,burstBoost:fI,burst_dmg_:W$,electro_dmg_:Ln.passive2.passive2ElecDmgBonus},teamBuff:{premod:{atk_:kI,burst_dmg_:xae}},enemy:{defIgn:oI}}),Bae={key:ii,name:F.name,rarity:Tf.rarity,elementKey:"electro",weaponTypeKey:Tf.weaponType,gender:"F",constellationName:F.chg("constellationName"),title:F.chg("title"),talent:{auto:F.talentTem("auto",[{text:F.chg("auto.fields.normal")},{fields:kt.normal.hitArr.map((t,o)=>({node:a(Ln.normal[o],{name:F.chg(`auto.skillParams.${o+(o<4?0:-1)}`),textSuffix:o===3?"(1)":o===4?"(2)":""})}))},{text:F.chg("auto.fields.charged")},{fields:[{node:a(Ln.charged.dmg,{name:F.chg("auto.skillParams.5")})},{text:F.chg("auto.skillParams.6"),value:kt.charged.stamina}]},{text:F.chg("auto.fields.plunging")},{fields:[{node:a(Ln.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ln.plunging.low,{name:s("plunging.low")})},{node:a(Ln.plunging.high,{name:s("plunging.high")})}]}]),skill:F.talentTem("skill",[{fields:[{node:a(Ln.skill.dmg,{name:F.chg("skill.skillParams.0")})},{node:a(Ln.skill.coorDmg,{name:F.chg("skill.skillParams.1")})},{text:F.chg("skill.skillParams.2"),value:kt.skill.duration,unit:"s"},{text:F.chg("skill.skillParams.4"),value:kt.skill.cd,unit:"s"}]},F.condTem("skill",{value:lI,path:Tae,name:F.ch("skill.eye"),states:{skillEye:{fields:[{node:W$}]}}}),F.condTem("skill",{value:cI,path:wae,teamBuff:!0,name:F.ch("skill.partyCost"),states:Object.fromEntries(iI.map(t=>[t,{name:`${t}`,fields:[{node:rI}]}]))})]),burst:F.talentTem("burst",[{fields:[{node:a(Ln.burst.dmg,{name:F.ch("burst.burstDmg")})},{node:a(Ln.burst.hit1,{name:F.chg("burst.skillParams.3")})},{node:a(Ln.burst.hit2,{name:F.chg("burst.skillParams.4")})},{node:a(Ln.burst.hit3,{name:F.chg("burst.skillParams.5")})},{node:a(Ln.burst.hit41,{name:F.chg("burst.skillParams.6"),textSuffix:"(1)"})},{node:a(Ln.burst.hit42,{name:F.chg("burst.skillParams.6"),textSuffix:"(2)"})},{node:a(Ln.burst.hit5,{name:F.chg("burst.skillParams.7")})},{node:a(Ln.burst.charged1,{name:F.chg("burst.skillParams.8"),textSuffix:"(1)"})},{node:a(Ln.burst.charged2,{name:F.chg("burst.skillParams.8"),textSuffix:"(2)"})},{text:F.chg("burst.skillParams.9"),value:kt.burst.stam},{node:a(Ln.burst.plunge,{name:F.chg("burst.skillParams.10")})},{node:a(Ln.burst.plungeLow,{name:s("plunging.low")})},{node:a(Ln.burst.plungeHigh,{name:s("plunging.high")})},{node:a(Ln.burst.energyGen,{name:F.chg("burst.skillParams.12")})},{text:F.chg("burst.skillParams.13"),value:kt.burst.duration,unit:"s"},{text:F.chg("burst.skillParams.14"),value:kt.burst.cd,unit:"s"},{text:F.chg("burst.skillParams.15"),value:kt.burst.enerCost}]},F.condTem("burst",{value:mI,path:Dae,name:F.ch("burst.resolves"),states:Object.fromEntries(dI.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:a(gI,{name:F.ch("burst.resolveInitial_"),unit:"%"})},{node:a(hI,{name:F.ch("burst.resolveInfused_"),unit:"%"})}]}]))}),F.condTem("burst",{value:nb,path:Pae,name:F.ch("burst.active"),states:{on:{fields:[{text:l("infusion.electro"),variant:"electro"},{text:l("incInterRes")},{text:l("immuneToElectroCharged")}]}}}),F.headerTem("constellation2",{canShow:i(nb,"on",1),fields:[{node:oI}]})]),passive1:F.talentTem("passive1"),passive2:F.talentTem("passive2",[F.fieldsTem("passive2",{fields:[{node:Ln.passive2.energyRestore},{node:Ln.passive2.passive2ElecDmgBonus}]})]),passive3:F.talentTem("passive3"),constellation1:F.talentTem("constellation1"),constellation2:F.talentTem("constellation2"),constellation3:F.talentTem("constellation3",[{fields:[{node:fI}]}]),constellation4:F.talentTem("constellation4",[F.condTem("constellation4",{value:pI,path:Sae,teamBuff:!0,canShow:M(e.activeCharKey,E.charKey,1),name:F.ch("c4.expires"),states:{c4:{fields:[{node:kI},{text:F.chg("skill.skillParams.2"),value:kt.constellation4.duration,unit:"s"}]}}})]),constellation5:F.talentTem("constellation5",[{fields:[{node:_I}]}]),constellation6:F.talentTem("constellation6")}},Aae=new I(Bae,Cae),ci="Razor",L$="electro",Iae="mondstadt",Pf=g.char.data[ci],Rn=g.char.skillParam[ci],Y=B(ci,Pf.weaponType);let No=0,Td=0,Pd=0;const ce={normal:{hitArr:[Rn.auto[No++],Rn.auto[No++],Rn.auto[No++],Rn.auto[No++]]},charged:{spinningDmg:Rn.auto[No++],finalDmg:Rn.auto[No++],stamina:Rn.auto[No++][0],duration:Rn.auto[No++][0]},plunging:{dmg:Rn.auto[No++],low:Rn.auto[No++],high:Rn.auto[No++]},skill:{press:Rn.skill[Td++],hold:Rn.skill[Td++],erBonus:Rn.skill[Td++][0],enerRegen:Rn.skill[Td++][0],duration:Rn.skill[Td++][0],pressCd:Rn.skill[Td++][0],holdCd:Rn.skill[Td++][0]},burst:{dmg:Rn.burst[Pd++],companionDmg:Rn.burst[Pd++],atkSpdBonus:Rn.burst[Pd++],electroResBonus:Rn.burst[Pd++][0],duration:Rn.burst[Pd++][0],cd:Rn.burst[Pd++][0],enerCost:Rn.burst[Pd++][0]},passive1:{cdRed:.18},passive2:{enerThreshold:.5,erInc:.3},passive3:{sprintStaminaDec:.2},constellation1:{allDmgInc:.1,duration:8},constellation2:{hpThreshold:.3,critRateInc:.1},constellation4:{defDec:.15,duration:7},constellation6:{dmg:1,electroSigilGenerated:1,cd:10}},[Rae,vI]=r(ci,"ElectroSigil"),[Hae,z$]=r(ci,"TheWolfWithin"),[Eae,bI]=r(ci,"A4"),[Oae,$I]=r(ci,"C1"),[Mae,yI]=r(ci,"C2"),[Kae,TI]=r(ci,"C4"),PI=v(vI,_(b(1,3),t=>m(t,d(ce.skill.erBonus))),y,{path:"enerRech_"}),wI=i("on",z$,d(ce.burst.electroResBonus)),xI=i("on",z$,u(e.total.burstIndex,ce.burst.atkSpdBonus,{unit:"%"})),DI=n(e.asc,4,i("on",bI,d(ce.passive2.erInc,{path:"enerRech_"}))),SI=n(e.constellation,1,i("on",$I,d(ce.constellation1.allDmgInc))),CI=n(e.constellation,2,i("on",yI,d(ce.constellation2.critRateInc))),BI=n(e.constellation,4,i("on",TI,d(ce.constellation4.defDec))),gl={normal:Object.fromEntries(ce.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spinningDmg:c("atk",ce.charged.spinningDmg,"charged"),finalDmg:c("atk",ce.charged.finalDmg,"charged")},plunging:R("atk",ce.plunging),skill:{press:c("atk",ce.skill.press,"skill"),hold:c("atk",ce.skill.hold,"skill")},burst:{dmg:c("atk",ce.burst.dmg,"burst"),companionDmg1:C(m(m(u(e.total.autoIndex,ce.normal.hitArr[0]),u(e.total.burstIndex,ce.burst.companionDmg)),e.total.atk),"burst"),companionDmg2:C(m(m(u(e.total.autoIndex,ce.normal.hitArr[1]),u(e.total.burstIndex,ce.burst.companionDmg)),e.total.atk),"burst"),companionDmg3:C(m(m(u(e.total.autoIndex,ce.normal.hitArr[2]),u(e.total.burstIndex,ce.burst.companionDmg)),e.total.atk),"burst"),companionDmg4:C(m(m(u(e.total.autoIndex,ce.normal.hitArr[3]),u(e.total.burstIndex,ce.burst.companionDmg)),e.total.atk),"burst")},constellation6:{dmg:n(e.constellation,6,C(m(d(ce.constellation6.dmg),e.total.atk),"elemental",{hit:{ele:p(L$)}}))}},AI=n(e.constellation,3,3),II=n(e.constellation,5,3),Fae=A(ci,L$,Iae,Pf,gl,{premod:{skillBoost:II,burstBoost:AI,enerRech_:P(PI,DI),electro_res_:wI,atkSPD_:xI,all_dmg_:SI,critRate_:CI},teamBuff:{premod:{enemyDefRed_:BI}}}),Nae={key:ci,name:Y.name,rarity:Pf.rarity,elementKey:L$,weaponTypeKey:Pf.weaponType,gender:"M",constellationName:Y.chg("constellationName"),title:Y.chg("title"),talent:{auto:Y.talentTem("auto",[{text:Y.chg("auto.fields.normal")},{fields:ce.normal.hitArr.map((t,o)=>({node:a(gl.normal[o],{name:Y.chg(`auto.skillParams.${o}`)})}))},{text:Y.chg("auto.fields.charged")},{fields:[{node:a(gl.charged.spinningDmg,{name:Y.chg("auto.skillParams.4")})},{node:a(gl.charged.finalDmg,{name:Y.chg("auto.skillParams.5")})},{text:Y.chg("auto.skillParams.6"),value:ce.charged.stamina,unit:"/s"},{text:Y.chg("auto.skillParams.7"),value:ce.charged.duration,unit:"s"}]},{text:Y.chg("auto.fields.plunging")},{fields:[{node:a(gl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(gl.plunging.low,{name:s("plunging.low")})},{node:a(gl.plunging.high,{name:s("plunging.high")})}]}]),skill:Y.talentTem("skill",[{fields:[{node:a(gl.skill.press,{name:Y.chg("skill.skillParams.0")})},{text:Y.chg("skill.skillParams.5"),value:t=>t.get(e.asc).value>=1?ce.skill.pressCd-ce.skill.pressCd*ce.passive1.cdRed:ce.skill.pressCd,unit:"s"},{node:a(gl.skill.hold,{name:Y.chg("skill.skillParams.1")})},{text:Y.chg("skill.skillParams.6"),value:t=>t.get(e.asc).value>=1?ce.skill.holdCd-ce.skill.holdCd*ce.passive1.cdRed:ce.skill.holdCd,unit:"s"}]},Y.condTem("skill",{value:vI,path:Rae,name:Y.ch("electroSigil"),states:{..._(b(1,3),t=>({name:l("stack",{count:t}),fields:[{node:PI},{text:Y.chg("skill.skillParams.4"),value:ce.skill.duration,unit:"s"},{text:Y.ch("electroSigilAbsorbed"),value:ce.skill.enerRegen*t}]}))}})]),burst:Y.talentTem("burst",[{fields:[{node:a(gl.burst.dmg,{name:Y.chg("burst.skillParams.0")})},{node:a(gl.burst.companionDmg1,{name:Y.ch("soulCompanion.1")})},{node:a(gl.burst.companionDmg2,{name:Y.ch("soulCompanion.2")})},{node:a(gl.burst.companionDmg3,{name:Y.ch("soulCompanion.3")})},{node:a(gl.burst.companionDmg4,{name:Y.ch("soulCompanion.4")})},{text:Y.chg("burst.skillParams.5"),value:ce.burst.cd,unit:"s"},{text:Y.chg("burst.skillParams.6"),value:ce.burst.enerCost}]},Y.condTem("burst",{value:z$,path:Hae,name:Y.chg("burst.description.3"),states:{on:{fields:[{node:xI},{node:wI},{text:l("incInterRes")},{text:l("immuneToElectroCharged")},{text:Y.chg("burst.skillParams.4"),value:ce.burst.duration,unit:"s"}]}}})]),passive1:Y.talentTem("passive1"),passive2:Y.talentTem("passive2",[Y.condTem("passive2",{value:bI,path:Eae,name:l("lessPercentEnergy",{percent:ce.passive2.enerThreshold*100}),states:{on:{fields:[{node:DI}]}}})]),passive3:Y.talentTem("passive3"),constellation1:Y.talentTem("constellation1",[Y.condTem("constellation1",{value:$I,path:Oae,name:l("getElementalOrbParticle"),states:{on:{fields:[{node:SI},{text:s("duration"),value:ce.constellation1.duration,unit:"s"}]}}})]),constellation2:Y.talentTem("constellation2",[Y.condTem("constellation2",{value:yI,path:Mae,name:l("enemyLessPercentHP",{percent:ce.constellation2.hpThreshold*100}),states:{on:{fields:[{node:CI}]}}})]),constellation3:Y.talentTem("constellation3",[{fields:[{node:AI}]}]),constellation4:Y.talentTem("constellation4",[Y.condTem("constellation4",{value:TI,path:Kae,teamBuff:!0,name:Y.ch("opHitWithClawAndThunder"),states:{on:{fields:[{node:BI},{text:s("duration"),value:ce.constellation4.duration,unit:"s"}]}}})]),constellation5:Y.talentTem("constellation5",[{fields:[{node:II}]}]),constellation6:Y.talentTem("constellation6",[Y.fieldsTem("constellation6",{fields:[{node:a(gl.constellation6.dmg,{name:l("dmg")})},{text:Y.ch("electroSigilPerProc"),value:ce.constellation6.electroSigilGenerated},{text:l("cooldown"),value:ce.constellation6.cd,unit:"s"}]})])}},jae=new I(Nae,Fae),zl="Rosaria",RI="cryo",wf=g.char.data[zl],Ma=g.char.skillParam[zl],yt=B(zl,wf.weaponType);let jo=0,tv=0,tu=0,TT=0,av=0,nv=0,PT=0;const zn={normal:{hitArr:[Ma.auto[jo++],Ma.auto[jo++],Ma.auto[jo++],Ma.auto[jo++],Ma.auto[jo++],Ma.auto[jo++]]},charged:{dmg:Ma.auto[jo++],stamina:Ma.auto[jo++][0]},plunging:{dmg:Ma.auto[jo++],low:Ma.auto[jo++],high:Ma.auto[jo++]},skill:{hit1:Ma.skill[tv++],hit2:Ma.skill[tv++],cd:Ma.skill[tv++][0]},burst:{hit1:Ma.burst[tu++],hit2:Ma.burst[tu++],dotDmg:Ma.burst[tu++],duration:Ma.burst[tu++][0],cd:Ma.burst[tu++][0],cost:Ma.burst[tu++][0]},passive1:{crInc:Ma.passive1[TT++][0],duration:Ma.passive1[TT++][0]},passive2:{crBonus:Ma.passive2[av++][0],duration:Ma.passive2[av++][0],maxBonus:Ma.passive2[av++][0]},constellation1:{atkSpdInc:Ma.constellation1[nv++],dmgInc:Ma.constellation1[nv++],duration:Ma.constellation1[nv++]},constellation6:{physShred:Ma.constellation6[PT++],duration:Ma.constellation6[PT++]}},[wT,sb]=r(zl,"RosariaA1"),[Gae,lb]=r(zl,"RosariaA4"),[Wae,U$]=r(zl,"RosariaC1"),[Lae,HI]=r(zl,"DilucC6"),ob=n(e.asc,1,i(sb,"on",zn.passive1.crInc)),EI=a(n(e.asc,4,da(m(d(zn.passive2.crBonus),e.premod.critRate_),d(zn.passive2.maxBonus))),{path:"critRate_",isTeamBuff:!0}),OI=i(lb,"on",EI),zae=M(E.charKey,zl,OI),MI=n(e.constellation,1,i(U$,"on",zn.constellation1.atkSpdInc)),KI=n(e.constellation,1,i(U$,"on",zn.constellation1.dmgInc)),FI=n(e.constellation,6,i(HI,"on",-zn.constellation6.physShred)),go={normal:Object.fromEntries(zn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",zn.charged.dmg,"charged")},plunging:R("atk",zn.plunging),skill:{hit1:c("atk",zn.skill.hit1,"skill"),hit2:c("atk",zn.skill.hit2,"skill")},burst:{hit1:c("atk",zn.burst.hit1,"burst"),hit2:c("atk",zn.burst.hit2,"burst"),dotDmg:c("atk",zn.burst.dotDmg,"burst")},passive2:{nodeA4OptTarget:EI}},NI=n(e.constellation,3,3),jI=n(e.constellation,5,3),Uae=A(zl,RI,"mondstadt",wf,go,{premod:{skillBoost:NI,burstBoost:jI,critRate_:ob,atkSPD_:MI,normal_dmg_:KI},teamBuff:{premod:{physical_enemyRes_:FI},total:{critRate_:zae}}}),Vae={key:zl,name:yt.name,rarity:wf.rarity,elementKey:RI,weaponTypeKey:wf.weaponType,gender:"F",constellationName:yt.chg("constellationName"),title:yt.chg("title"),talent:{auto:yt.talentTem("auto",[{text:yt.chg("auto.fields.normal")},{fields:zn.normal.hitArr.map((t,o)=>({node:a(go.normal[o],{name:yt.chg(`auto.skillParams.${o+(o<5?0:-1)}`),textSuffix:o===4?"(1)":o===5?"(2)":"",multi:o===2?2:void 0})}))},{text:yt.chg("auto.fields.charged")},{fields:[{node:a(go.charged.dmg,{name:yt.chg("auto.skillParams.5")})},{text:yt.chg("auto.skillParams.6"),value:zn.charged.stamina}]},{text:yt.chg("auto.fields.plunging")},{fields:[{node:a(go.plunging.dmg,{name:s("plunging.dmg")})},{node:a(go.plunging.low,{name:s("plunging.low")})},{node:a(go.plunging.high,{name:s("plunging.high")})}]}]),skill:yt.talentTem("skill",[{fields:[{node:a(go.skill.hit1,{name:yt.chg("skill.skillParams.0"),textSuffix:"(1)"})},{node:a(go.skill.hit2,{name:yt.chg("skill.skillParams.0"),textSuffix:"(2)"})},{text:yt.chg("skill.skillParams.1"),value:zn.skill.cd,unit:"s"}]}]),burst:yt.talentTem("burst",[{fields:[{node:a(go.burst.hit1,{name:yt.chg("burst.skillParams.0"),textSuffix:"(1)"})},{node:a(go.burst.hit2,{name:yt.chg("burst.skillParams.0"),textSuffix:"(2)"})},{node:a(go.burst.dotDmg,{name:yt.chg("burst.skillParams.1")})},{text:yt.chg("burst.skillParams.3"),value:zn.burst.cd,unit:"s"},{text:yt.chg("burst.skillParams.4"),value:zn.burst.cost}]},yt.condTem("constellation6",{value:HI,path:Lae,name:l("hitOp.skill"),teamBuff:!0,states:{on:{fields:[{node:FI},{text:s("duration"),value:zn.constellation6.duration,unit:"s"}]}}})]),passive1:yt.talentTem("passive1",[yt.condTem("passive1",{name:yt.ch("a1"),value:sb,path:wT,states:{on:{fields:[{node:ob},{text:s("duration"),value:zn.passive1.duration,unit:"s"}]}}})]),passive2:yt.talentTem("passive2",[yt.condTem("passive2",{name:l("afterUse.burst"),value:lb,path:Gae,teamBuff:!0,canShow:M(e.activeCharKey,zl,1),states:{on:{fields:[{node:a(OI,{path:"critRate_",isTeamBuff:!0})},{text:s("duration"),value:zn.passive2.duration,unit:"s"}]}}}),yt.condTem("passive1",{path:wT,value:sb,name:yt.ch("a1"),teamBuff:!0,canShow:M(e.activeCharKey,zl,i(lb,"on",1)),states:{on:{fields:[{node:ob},{text:s("duration"),value:zn.passive1.duration,unit:"s"}]}}}),yt.fieldsTem("passive2",{canShow:i(e.activeCharKey,zl,1),fields:[{node:go.passive2.nodeA4OptTarget}]})]),passive3:yt.talentTem("passive3"),constellation1:yt.talentTem("constellation1",[yt.condTem("constellation1",{value:U$,path:Wae,name:l("hitOp.crit"),states:{on:{fields:[{node:KI},{node:MI},{text:s("duration"),value:zn.constellation1.duration,unit:"s"}]}}})]),constellation2:yt.talentTem("constellation2"),constellation3:yt.talentTem("constellation3",[{fields:[{node:NI}]}]),constellation4:yt.talentTem("constellation4"),constellation5:yt.talentTem("constellation5",[{fields:[{node:jI}]}]),constellation6:yt.talentTem("constellation6")}},qae=new I(Vae,Uae),Zr="SangonomiyaKokomi",V$="hydro",xf=g.char.data[Zr],Da=g.char.skillParam[Zr],Oe=B(Zr,xf.weaponType);let gr=0,yg=0,$c=0,sv=0;const tn={normal:{hitArr:[Da.auto[gr++],Da.auto[gr++],Da.auto[gr++]]},charged:{dmg:Da.auto[gr++],stamina:Da.auto[gr++][0]},plunging:{dmg:Da.auto[gr++],low:Da.auto[gr++],high:Da.auto[gr++]},skill:{heal_:Da.skill[yg++],heal:Da.skill[yg++],dmg:Da.skill[yg++],duration:Da.skill[yg++][0],cd:Da.skill[yg++][0]},burst:{dmg:Da.burst[$c++],heal_:Da.burst[$c++],heal:Da.burst[$c++],nBonus_:Da.burst[$c++],cBonus_:Da.burst[$c++],duration:Da.burst[$c++][0],cd:Da.burst[$c++][0],enerCost:Da.burst[$c++][0],sBonus_:Da.burst[$c++]},p:{heal_:.25,critRate_:-1},p2:{heal_ratio_:Da.passive2[0][0]},c1:{hp_:Da.constellation1[0]},c2:{s_heal_:Da.constellation2[1],nc_heal_:Da.constellation2[2]},c4:{atkSPD_:Da.constellation4[0],energy:Da.constellation4[1]},c6:{hp_:Da.constellation6[sv++],hydro_:Da.constellation6[sv++],duration:Da.constellation6[sv++]}},[Jae,hu]=r(Zr,"burst"),[Qae,q$]=r(Zr,"c2"),[Xae,GI]=r(Zr,"c6"),WI=i(hu,"on",m(P(u(e.total.burstIndex,tn.burst.nBonus_,{unit:"%"}),n(e.asc,4,m(d(tn.p2.heal_ratio_),e.premod.heal_))),e.premod.hp),{variant:"invalid"}),LI=i(hu,"on",m(P(u(e.total.burstIndex,tn.burst.cBonus_,{unit:"%"}),n(e.asc,4,m(d(tn.p2.heal_ratio_),e.premod.heal_))),e.premod.hp),{variant:"invalid"}),zI=i(hu,"on",m(u(e.total.burstIndex,tn.burst.sBonus_,{unit:"%"}),e.premod.hp)),UI=p(tn.p.heal_),VI=p(tn.p.critRate_),qI=n(e.constellation,2,i(q$,"on",m(d(tn.c2.s_heal_),e.total.hp))),JI=n(e.constellation,2,i(q$,"on",m(d(tn.c2.nc_heal_),e.total.hp))),QI=n(e.constellation,4,tn.c4.atkSPD_),XI=n(e.constellation,6,i(GI,"on",tn.c6.hydro_)),ai={normal:Object.fromEntries(tn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",tn.charged.dmg,"charged")},plunging:R("atk",tn.plunging),skill:{dmg:c("atk",tn.skill.dmg,"skill"),heal:an("hp",tn.skill.heal_,tn.skill.heal,"skill",{premod:{healInc:qI}})},burst:{dmg:c("hp",tn.burst.dmg,"burst"),heal:an("hp",tn.burst.heal_,tn.burst.heal,"burst",{premod:{healInc:JI}})},constellation1:{dmg:n(e.constellation,1,C(m(e.total.hp,d(tn.c1.hp_)),"elemental",{hit:{ele:p(V$)}}))}},YI=n(e.constellation,3,3),ZI=n(e.constellation,5,3),Yae=A(Zr,V$,"liyue",xf,ai,{premod:{skillBoost:ZI,burstBoost:YI,heal_:UI,critRate_:VI,atkSPD_:QI,hydro_dmg_:XI,normal_dmgInc:WI,charged_dmgInc:LI,skill_dmgInc:zI}}),Zae={key:Zr,name:Oe.name,rarity:xf.rarity,elementKey:V$,weaponTypeKey:xf.weaponType,gender:"F",constellationName:Oe.chg("constellationName"),title:Oe.chg("title"),talent:{auto:Oe.talentTem("auto",[{text:Oe.chg("auto.fields.normal")},{fields:tn.normal.hitArr.map((t,o)=>({node:a(ai.normal[o],{name:Oe.chg(`auto.skillParams.${o}`)})}))},{text:Oe.chg("auto.fields.charged")},{fields:[{node:a(ai.charged.dmg,{name:Oe.chg("auto.skillParams.3")})},{text:Oe.chg("auto.skillParams.4"),value:tn.charged.stamina}]},{text:Oe.chg("auto.fields.plunging")},{fields:[{node:a(ai.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ai.plunging.low,{name:s("plunging.low")})},{node:a(ai.plunging.high,{name:s("plunging.high")})}]}]),skill:Oe.talentTem("skill",[{fields:[{node:a(ai.skill.heal,{name:Oe.chg("skill.skillParams.0")})},{node:a(ai.skill.dmg,{name:Oe.chg("skill.skillParams.1")})},{text:Oe.chg("skill.skillParams.2"),value:tn.skill.duration,unit:"s"},{text:Oe.chg("skill.skillParams.3"),value:tn.skill.cd,unit:"s"}]}]),burst:Oe.talentTem("burst",[{fields:[{node:a(ai.burst.dmg,{name:Oe.chg("burst.skillParams.0")})},{node:a(ai.burst.heal,{name:Oe.chg("burst.skillParams.4"),variant:"heal"})},{text:Oe.chg("burst.skillParams.6"),value:tn.burst.cd,unit:"s"},{text:Oe.chg("burst.skillParams.7"),value:tn.burst.enerCost}]},Oe.condTem("burst",{value:hu,path:Jae,name:Oe.ch("burst"),states:{on:{fields:[{node:WI},{node:LI},{node:zI},{text:Oe.chg("burst.skillParams.5"),value:tn.burst.duration,unit:"s"}]}}}),Oe.headerTem("constellation4",{canShow:i(hu,"on",1),fields:[{node:QI},{text:l("enerRegenPerHit"),value:tn.c4.energy,fixed:1}]}),Oe.condTem("constellation6",{canShow:i(hu,"on",1),path:Xae,value:GI,name:Oe.ch("c6"),states:{on:{fields:[{node:XI}]}}})]),passive:Oe.talentTem("passive",[{fields:[{node:UI},{node:VI}]}]),passive1:Oe.talentTem("passive1"),passive2:Oe.talentTem("passive2"),passive3:Oe.talentTem("passive3"),constellation1:Oe.talentTem("constellation1",[Oe.fieldsTem("constellation1",{fields:[{node:a(ai.constellation1.dmg,{name:l("dmg")})}]})]),constellation2:Oe.talentTem("constellation2",[Oe.condTem("constellation2",{path:Qae,value:q$,name:Oe.ch("c2"),states:{on:{fields:[{node:a(qI,{name:Oe.ch("c2SkillHeal")})},{node:a(JI,{name:Oe.ch("c2BurstHeal")})}]}}})]),constellation3:Oe.talentTem("constellation3",[{fields:[{node:YI}]}]),constellation4:Oe.talentTem("constellation4"),constellation5:Oe.talentTem("constellation5",[{fields:[{node:ZI}]}]),constellation6:Oe.talentTem("constellation6")}},ene=new I(Zae,Yae),Rm="Sayu",tne="anemo",Df=g.char.data[Rm],ze=g.char.skillParam[Rm],ae=B(Rm,Df.weaponType);let hr=0,yc=0;const Xt={normal:{hitArr:[ze.auto[0],ze.auto[1],ze.auto[2],ze.auto[4]]},charged:{spin:ze.auto[5],final:ze.auto[6],stamina:ze.auto[7][0],duration:ze.auto[8][0]},plunging:{dmg:ze.auto[9],low:ze.auto[10],high:ze.auto[11]},skill:{wheelDmg:ze.skill[hr++],eleWheelDmg:ze.skill[hr++],kickPressDmg:ze.skill[hr++],kickHoldDmg:ze.skill[hr++],eleKickDmg:ze.skill[hr++],duration:ze.skill[hr++][0],cdMin:ze.skill[hr++][0],cdMax:ze.skill[hr++][0]},burst:{pressDmg:ze.burst[yc++],pressBaseHeal:ze.burst[yc++],pressAtkHeal:ze.burst[yc++],darumaDmg:ze.burst[yc++],darumaBaseHeal:ze.burst[yc++],darumaAtkHeal:ze.burst[yc++],darumaHits:7,duration:ze.burst[yc++][0],cd:ze.burst[yc++][0],enerCost:ze.burst[yc++][0]},passive1:{baseHeal:ze.passive1[0][0],emHeal:ze.passive1[1][0],cd:ze.passive1[2][0]},passive2:{nearHeal:ze.passive2[0][0]},constellation2:{dmgInc:ze.constellation2[0],maxStacks:ze.constellation2[1]},constellation4:{ener:ze.constellation4[0],cd:ze.constellation4[1]},constellation6:{darumaDmgInc:ze.constellation6[0],maxStacks:ze.constellation6[1]/ze.constellation6[0],darumaHealInc:ze.constellation6[2]}},[ane,ib]=r(Rm,"skillAbsorption"),[nne,eR]=r(Rm,"c2SkillStack"),tR=n(e.constellation,2,d(Xt.constellation2.dmgInc)),cb=n(e.constellation,2,v(eR,Object.fromEntries(b(1,Xt.constellation2.maxStacks).map(t=>[t,m(t,d(Xt.constellation2.dmgInc))])),y)),aR=n(e.constellation,6,m(da(e.total.eleMas,Xt.constellation6.maxStacks),Xt.constellation6.darumaDmgInc,e.total.atk)),nR=n(e.constellation,6,m(da(e.total.eleMas,Xt.constellation6.maxStacks),Xt.constellation6.darumaHealInc)),xT=jn(P(m(u(e.total.burstIndex,Xt.burst.darumaAtkHeal,{unit:"%"}),e.total.atk),u(e.total.burstIndex,Xt.burst.darumaBaseHeal),nR)),Fs={normal:Object.fromEntries(Xt.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spin:c("atk",Xt.charged.spin,"charged"),final:c("atk",Xt.charged.final,"charged")},plunging:R("atk",Xt.plunging),skill:{wheelDmg:c("atk",Xt.skill.wheelDmg,"skill"),kickPressDmg:c("atk",Xt.skill.kickPressDmg,"skill",{premod:{skill_dmg_:tR}}),kickHoldDmg:c("atk",Xt.skill.kickHoldDmg,"skill",{premod:{skill_dmg_:cb}}),eleWheelDmg:v(ib,Object.fromEntries(sa.map(t=>[t,c("atk",Xt.skill.eleWheelDmg,"skill",{hit:{ele:p(t)}})])),y),eleKickDmg:v(ib,Object.fromEntries(sa.map(t=>[t,c("atk",Xt.skill.eleKickDmg,"skill",{hit:{ele:p(t)},premod:{skill_dmg_:cb}})])),y)},burst:{pressDmg:c("atk",Xt.burst.pressDmg,"burst"),pressHeal:an("atk",Xt.burst.pressAtkHeal,Xt.burst.pressBaseHeal,"burst"),darumaDmg:c("atk",Xt.burst.darumaDmg,"burst",{premod:{burst_dmgInc:aR}}),darumaHeal:xT},passive1:{heal:n(e.asc,1,jn(P(Xt.passive1.baseHeal,m(Xt.passive1.emHeal,e.total.eleMas))))},passive2:{extraHeal:n(e.asc,4,m(xT,d(Xt.passive2.nearHeal)))}},sR=n(e.constellation,3,3),lR=n(e.constellation,5,3),sne=A(Rm,"anemo","inazuma",Df,Fs,{premod:{skillBoost:lR,burstBoost:sR}}),lne={key:Rm,name:ae.name,rarity:Df.rarity,elementKey:tne,weaponTypeKey:Df.weaponType,gender:"F",constellationName:ae.chg("constellationName"),title:ae.chg("title"),talent:{auto:ae.talentTem("auto",[{text:ae.chg("auto.fields.normal")},{fields:Xt.normal.hitArr.map((t,o)=>({node:a(Fs.normal[o],{name:ae.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:ae.chg("auto.fields.charged")},{fields:[{node:a(Fs.charged.spin,{name:ae.chg("auto.skillParams.4")})},{node:a(Fs.charged.final,{name:ae.chg("auto.skillParams.5")})},{text:ae.chg("auto.skillParams.6"),value:`${Xt.charged.stamina}/s`}]},{text:ae.chg("auto.fields.plunging")},{fields:[{node:a(Fs.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Fs.plunging.low,{name:s("plunging.low")})},{node:a(Fs.plunging.high,{name:s("plunging.high")})}]}]),skill:ae.talentTem("skill",[{fields:[{node:a(Fs.skill.wheelDmg,{name:ae.chg("skill.skillParams.0")})},{node:a(Fs.skill.kickPressDmg,{name:ae.chg("skill.skillParams.1")})},{node:a(Fs.skill.kickHoldDmg,{name:ae.chg("skill.skillParams.2")})},{text:ae.chg("skill.skillParams.5"),value:Xt.skill.duration,unit:"s"},{text:s("cd"),value:`${Xt.skill.cdMin}s ~ ${Xt.skill.cdMax}`,unit:"s"}]},ae.condTem("skill",{value:ib,path:ane,name:l("eleAbsor"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:a(Fs.skill.eleWheelDmg,{name:ae.chg("skill.skillParams.3")})},{node:a(Fs.skill.eleKickDmg,{name:ae.chg("skill.skillParams.4")})}]}]))}),ae.headerTem("constellation2",{fields:[{node:a(tR,{name:ae.ch("c2KickPressDmg_"),unit:"%"})}]}),ae.condTem("constellation2",{value:eR,path:nne,name:ae.ch("c2Cond"),states:Object.fromEntries(b(1,Xt.constellation2.maxStacks).map(t=>[t,{name:l("seconds",{count:t*.5}),fields:[{node:a(cb,{name:ae.ch("c2KickDmg_"),unit:"%"})}]}]))})]),burst:ae.talentTem("burst",[{fields:[{node:a(Fs.burst.pressDmg,{name:ae.chg("burst.skillParams.0")})},{node:a(Fs.burst.pressHeal,{name:ae.chg("burst.skillParams.1")})},{node:a(Fs.burst.darumaDmg,{name:ae.chg("burst.skillParams.2")})},{node:a(Fs.burst.darumaHeal,{name:ae.chg("burst.skillParams.3")})},{text:ae.ch("burstHits"),value:Xt.burst.darumaHits}]},ae.headerTem("passive2",{fields:[{node:a(Fs.passive2.extraHeal,{name:s("healing"),variant:"heal"})},{text:ae.ch("p2Aoe")}]}),ae.headerTem("constellation6",{fields:[{node:a(aR,{name:ae.ch("c6DarumaDmgInc"),variant:"anemo"})},{node:a(nR,{name:ae.ch("c6DarumaHealInc"),variant:"heal"})}]})]),passive1:ae.talentTem("passive1",[ae.fieldsTem("passive1",{fields:[{node:a(Fs.passive1.heal,{name:s("healing")})},{text:s("cd"),value:Xt.passive1.cd,unit:"s"}]})]),passive2:ae.talentTem("passive2"),passive3:ae.talentTem("passive3"),constellation1:ae.talentTem("constellation1"),constellation2:ae.talentTem("constellation2"),constellation3:ae.talentTem("constellation3",[{fields:[{node:sR}]}]),constellation4:ae.talentTem("constellation4",[ae.fieldsTem("constellation4",{fields:[{text:s("energyRegen"),value:Xt.constellation4.ener,fixed:1},{text:s("cd"),value:Xt.constellation4.cd,unit:"s"}]})]),constellation5:ae.talentTem("constellation5",[{fields:[{node:lR}]}]),constellation6:ae.talentTem("constellation6")}},one=new I(lne,sne),ri="Shenhe",oR="cryo",Sf=g.char.data[ri],Lt=g.char.skillParam[ri],be=B(ri,Sf.weaponType);let Tc=0,au=0,ine=0,tk=0;const ra={normal:{hitArr:[Lt.auto[0],Lt.auto[1],Lt.auto[2],Lt.auto[3],Lt.auto[5]]},charged:{dmg:Lt.auto[6],stamina:Lt.auto[7][0]},plunging:{dmg:Lt.auto[8],low:Lt.auto[9],high:Lt.auto[10]},skill:{press:Lt.skill[Tc++],hold:Lt.skill[Tc++],dmgAtk_:Lt.skill[Tc++],duration:Lt.skill[Tc++][0],durationHold:Lt.skill[Tc++][0],trigger:Lt.skill[Tc++][0],triggerHold:Lt.skill[Tc++][0],cd:Lt.skill[Tc++][0],cdHold:Lt.skill[Tc++][0]},burst:{dmg:Lt.burst[au++],res_:Lt.burst[au++],dot:Lt.burst[au++],duration:Lt.burst[au++][0],cd:Lt.burst[au++][0],enerCost:Lt.burst[au++][0]},passive1:{cryo_dmg_:Lt.passive1[ine++][0]},passive2:{press_dmg_:Lt.passive2[tk++][0],durationPress:Lt.passive2[tk++][0],hold_dmg_:Lt.passive2[tk++][0],durationHold:Lt.passive2[tk++][0]},constellation2:{durationInc:Lt.constellation2[0]},constellation4:{dmg_:Lt.constellation4[0],maxStacks:Lt.constellation4[1]},constellation6:{auto_:Lt.constellation6[0],duration:Lt.constellation6[1]}},[cne,iR]=r(ri,"quill"),J$=i("quill",iR,m(e.total.atk,u(e.total.skillIndex,ra.skill.dmgAtk_,{unit:"%"}))),[rne,cR]=r(ri,"burst"),rR=i("burst",cR,u(e.total.burstIndex,ra.burst.res_.map(t=>-t),{unit:"%"})),dR={...rR},mR={...rR},[dne,Q$]=r(ri,"asc1"),uR=n(e.asc,1,i(Q$,"field",ra.passive1.cryo_dmg_)),mne=i(e.activeCharKey,E.charKey,uR),[une,gR]=r(ri,"asc4"),hR=n(e.asc,4,i(gR,"press",ra.passive2.press_dmg_)),pR={...hR},kR={...hR},[gne,fR]=r(ri,"asc4Hold"),X$=n(e.asc,4,i(fR,"hold",ra.passive2.hold_dmg_)),_R={...X$},vR={...X$},bR={...X$},$R=n(e.constellation,2,i(Q$,"field",ra.passive1.cryo_dmg_)),hne=i(e.activeCharKey,E.charKey,$R),[pne,yR]=r(ri,"c4"),Cf=n(e.constellation,4,v(yR,_(b(1,ra.constellation4.maxStacks),t=>d(t*ra.constellation4.dmg_)),0)),Fi={normal:Object.fromEntries(ra.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",ra.charged.dmg,"charged")},plunging:R("atk",ra.plunging),skill:{press:c("atk",ra.skill.press,"skill",{hit:{dmgBonus:Cf}}),hold:c("atk",ra.skill.hold,"skill",{hit:{dmgBonus:Cf}}),quillDmg:J$},burst:{dmg:c("atk",ra.burst.dmg,"burst"),dot:c("atk",ra.burst.dot,"burst")}},TR=n(e.constellation,3,3),PR=n(e.constellation,5,3),kne=A(ri,oR,"liyue",Sf,Fi,{premod:{skillBoost:TR,burstBoost:PR,skill_dmg_:Cf},teamBuff:{premod:{cryo_dmgInc:J$,cryo_enemyRes_:dR,physical_enemyRes_:mR,cryo_dmg_:mne,skill_dmg_:pR,burst_dmg_:kR,normal_dmg_:_R,charged_dmg_:vR,plunging_dmg_:bR,cryo_critDMG_:hne}}}),fne={key:ri,name:be.name,rarity:Sf.rarity,elementKey:oR,weaponTypeKey:Sf.weaponType,gender:"F",constellationName:be.chg("constellationName"),title:be.chg("title"),talent:{auto:be.talentTem("auto",[{text:be.chg("auto.fields.normal")},{fields:ra.normal.hitArr.map((t,o)=>({node:a(Fi.normal[o],{name:be.chg(`auto.skillParams.${o}`),multi:o===3?2:void 0})}))},{text:be.chg("auto.fields.charged")},{fields:[{node:a(Fi.charged.dmg,{name:be.chg("auto.skillParams.5")})},{text:be.chg("auto.skillParams.6"),value:ra.charged.stamina}]},{text:be.chg("auto.fields.plunging")},{fields:[{node:a(Fi.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Fi.plunging.low,{name:s("plunging.low")})},{node:a(Fi.plunging.high,{name:s("plunging.high")})}]}]),skill:be.talentTem("skill",[{fields:[{node:a(Fi.skill.press,{name:be.chg("skill.skillParams.0")})},{text:be.ch("pressDuration"),value:ra.skill.duration,unit:"s"},{text:be.ch("pressQuota"),value:ra.skill.trigger},{text:s("press.cd"),value:ra.skill.cd,unit:"s"},{node:a(Fi.skill.hold,{name:be.chg("skill.skillParams.1")})},{text:be.ch("holdDuration"),value:ra.skill.durationHold,unit:"s"},{text:be.ch("holdQuota"),value:ra.skill.triggerHold},{text:s("hold.cd"),value:ra.skill.cdHold,unit:"s"},{canShow:t=>t.get(e.constellation).value>=1,text:l("charges"),value:2}]},be.condTem("skill",{teamBuff:!0,value:iR,path:cne,name:be.ch("quill"),states:{quill:{fields:[{node:J$}]}}}),be.condTem("passive2",{teamBuff:!0,states:{press:{value:gR,path:une,name:l("afterUse.skillPress"),fields:[{node:pR},{node:kR},{text:s("duration"),value:ra.passive2.durationPress,unit:"s"}]},hold:{value:fR,path:gne,name:l("afterUse.skillHold"),fields:[{node:_R},{node:vR},{node:bR},{text:s("duration"),value:ra.passive2.durationHold,unit:"s"}]}}}),be.condTem("constellation4",{value:yR,path:pne,name:be.ch("c4"),states:_(b(1,50).map(t=>t),t=>({name:l("stack",{count:t}),fields:[{node:Cf}]}))}),be.headerTem("constellation6",{fields:[{text:be.chg("constellation6.description")}],teamBuff:!0})]),burst:be.talentTem("burst",[{fields:[{node:a(Fi.burst.dmg,{name:be.chg("burst.skillParams.0")})},{node:a(Fi.burst.dot,{name:be.chg("burst.skillParams.2")})},{text:be.chg("burst.skillParams.3"),value:t=>t.get(e.constellation).value>=2?`${ra.burst.duration} + ${ra.constellation2.durationInc} = ${ra.burst.duration+ra.constellation2.durationInc}`:ra.burst.duration,unit:"s"},{text:be.chg("burst.skillParams.4"),value:ra.burst.cd,unit:"s"},{text:be.chg("burst.skillParams.5"),value:ra.burst.enerCost}]},be.condTem("burst",{teamBuff:!0,value:cR,path:rne,name:l("opponentsField"),states:{burst:{fields:[{node:dR},{node:mR}]}}}),be.condTem("passive1",{value:Q$,path:dne,teamBuff:!0,name:l("activeCharField"),states:{field:{fields:[{node:a(uR,{path:"cryo_dmg_"})}]}}}),be.headerTem("constellation2",{fields:[{text:l("durationInc"),value:ra.constellation2.durationInc,unit:"s"},{node:a($R,{path:"cryo_critDMG_"})}],teamBuff:!0})]),passive1:be.talentTem("passive1"),passive2:be.talentTem("passive2"),passive3:be.talentTem("passive3"),constellation1:be.talentTem("constellation1",[be.fieldsTem("constellation1",{fields:[{text:l("addlCharges"),value:1}]})]),constellation2:be.talentTem("constellation2"),constellation3:be.talentTem("constellation3",[{fields:[{node:TR}]}]),constellation4:be.talentTem("constellation4"),constellation5:be.talentTem("constellation5",[{fields:[{node:PR}]}]),constellation6:be.talentTem("constellation6")}},_ne=new I(fne,kne),Qc="ShikanoinHeizou",wR="anemo",Bf=g.char.data[Qc],Ka=g.char.skillParam[Qc],ia=B(Qc,Bf.weaponType);let to=0,Tg=0,ak=0,DT=0;const _s={normal:{hitArr:[Ka.auto[to++],Ka.auto[to++],Ka.auto[to++],Ka.auto[to++],Ka.auto[to++],Ka.auto[to++],Ka.auto[to++]]},charged:{dmg:Ka.auto[to++],stamina:Ka.auto[to++][0]},plunging:{dmg:Ka.auto[to++],low:Ka.auto[to++],high:Ka.auto[to++]},skill:{dmg:Ka.skill[Tg++],declension_dmg_:Ka.skill[Tg++],conviction_dmg_:Ka.skill[Tg++],cd:Ka.skill[Tg++][0],declension_duration:Ka.skill[Tg++][0]},burst:{slugger_dmg:Ka.burst[ak++],iris_dmg:Ka.burst[ak++],cd:Ka.burst[ak++][0],enerCost:Ka.burst[ak++][0]},passive2:{duration:Ka.passive2[DT++][0],eleMas:Ka.passive2[DT++][0]},passive3:{staminaSprintDec_:.25},constellation1:{duration:Ka.constellation1[0],atkSpd_:Ka.constellation1[1],cd:Ka.constellation1[2]},constellation4:{baseEnergy:Ka.constellation4[0],addlEnergy:Ka.constellation4[1]},constellation6:{hsCritRate_:Ka.constellation6[0],hsCritDmg_:Ka.constellation6[1]}},Y$=b(1,4),[vne,Wd]=r(Qc,"declensionStacks"),bne=a(v(Wd,Object.fromEntries(Y$.map(t=>[t,m(a(u(e.total.skillIndex,_s.skill.declension_dmg_),{name:l("bonusScaling.skill_"),unit:"%"}),a(p(t),{name:ia.ch("declensionStacks")}))])),y),{name:l("bonusScaling.skill_"),unit:"%"}),$ne=a(i(Wd,"4",u(e.total.skillIndex,_s.skill.conviction_dmg_,{unit:"%"})),{name:l("bonusScaling.skill_"),unit:"%"}),xR=P(bne,$ne),[yne,DR]=r(Qc,"skillHit"),SR=n(e.asc,4,i(DR,"on",_s.passive2.eleMas)),Tne=M(E.charKey,Qc,SR),[Pne,CR]=r(Qc,"takeField"),BR=n(e.constellation,1,i(CR,"on",d(_s.constellation1.atkSpd_))),AR=n(e.constellation,6,v(Wd,Object.fromEntries(Y$.map(t=>[t,m(d(_s.constellation6.hsCritRate_),a(p(t),{name:ia.ch("declensionStacks")}))])),y)),IR=n(e.constellation,6,i(Wd,"4",d(_s.constellation6.hsCritDmg_))),Ac={normal:Object.fromEntries(_s.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",_s.charged.dmg,"charged")},plunging:R("atk",_s.plunging),skill:{dmg:C(m(P(u(e.total.skillIndex,_s.skill.dmg,{unit:"%"}),xR),e.total.atk),"skill",{hit:{ele:p("anemo")}})},burst:{slugger_dmg:c("atk",_s.burst.slugger_dmg,"burst"),...Object.fromEntries(sa.map(t=>[`${t}_iris_dmg`,c("atk",_s.burst.iris_dmg,"burst",{hit:{ele:p(t)}})]))}},RR=n(e.constellation,3,3),HR=n(e.constellation,5,3),wne=A(Qc,wR,"inazuma",Bf,Ac,{premod:{skillBoost:RR,burstBoost:HR,atkSPD_:BR,skill_critRate_:AR,skill_critDMG_:IR},teamBuff:{premod:{eleMas:Tne}}}),xne={key:Qc,name:ia.name,rarity:Bf.rarity,elementKey:wR,weaponTypeKey:Bf.weaponType,gender:"M",constellationName:ia.chg("constellationName"),title:ia.chg("title"),talent:{auto:ia.talentTem("auto",[{text:ia.chg("auto.fields.normal")},{fields:_s.normal.hitArr.map((t,o)=>({node:a(Ac.normal[o],{name:ia.chg(`auto.skillParams.${o>2?o<6?3:4:o}`),textSuffix:o>2&&o<6?`(${o-2})`:void 0})}))},{text:ia.chg("auto.fields.charged")},{fields:[{node:a(Ac.charged.dmg,{name:ia.chg("auto.skillParams.5")})},{text:ia.chg("auto.skillParams.6"),value:_s.charged.stamina}]},{text:ia.chg("auto.fields.plunging")},{fields:[{node:a(Ac.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ac.plunging.low,{name:s("plunging.low")})},{node:a(Ac.plunging.high,{name:s("plunging.high")})}]}]),skill:ia.talentTem("skill",[{fields:[{node:a(Ac.skill.dmg,{name:ia.chg("skill.skillParams.0")})},{text:s("cd"),value:_s.skill.cd,unit:"s"}]},ia.condTem("skill",{path:vne,value:Wd,name:ia.chg("skill.description.6"),states:Object.fromEntries(Y$.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:a(xR,{name:l("bonusScaling.skill_"),unit:"%"})},{canShow:o=>o.get(Wd).value==="4",text:l("aoeInc")},{text:ia.chg("skill.skillParams.3"),value:_s.skill.declension_duration,unit:"s"}]}]))}),ia.condTem("passive2",{path:yne,value:DR,name:l("hitOp.skill"),teamBuff:!0,canShow:M(E.charKey,e.activeCharKey,1),states:{on:{fields:[{node:a(SR,{path:"eleMas"})},{text:s("duration"),value:_s.passive2.duration,unit:"s"}]}}}),ia.headerTem("constellation6",{canShow:M(Wd,void 0,1),fields:[{node:AR},{node:IR}]})]),burst:ia.talentTem("burst",[{fields:[{node:a(Ac.burst.slugger_dmg,{name:ia.chg("burst.skillParams.0")})},...sa.map(t=>({node:a(Ac.burst[`${t}_iris_dmg`],{name:ia.chg("burst.skillParams.1")})})),{text:s("cd"),value:_s.burst.cd,unit:"s"},{text:s("energyCost"),value:_s.burst.enerCost}]}]),passive1:ia.talentTem("passive1"),passive2:ia.talentTem("passive2"),passive3:ia.talentTem("passive3"),constellation1:ia.talentTem("constellation1",[ia.condTem("constellation1",{path:Pne,value:CR,name:ia.ch("takingField"),states:{on:{fields:[{node:BR},{text:s("duration"),value:_s.constellation1.duration,unit:"s"},{text:s("cd"),value:_s.constellation1.cd,unit:"s"}]}}})]),constellation2:ia.talentTem("constellation2"),constellation3:ia.talentTem("constellation3",[{fields:[{node:RR}]}]),constellation4:ia.talentTem("constellation4"),constellation5:ia.talentTem("constellation5",[{fields:[{node:HR}]}]),constellation6:ia.talentTem("constellation6")}},Dne=new I(xne,wne),dl="Somnia",Z$="electro",Af=g.char.data[dl],Me=g.char.skillParam[dl],U=B(dl,Af.weaponType);let Pc=0,nk=0,Hl=0;const Ca={normal:{hitArr:[Me.auto[Pc++],Me.auto[Pc++],Me.auto[Pc++],Me.auto[Pc++]]},charged:{dmg:Me.auto[Pc++],stamina:Me.auto[Pc++][0]},plunging:{dmg:Me.auto[Pc++],low:Me.auto[Pc++],high:Me.auto[Pc++]},skill:{dmg:Me.skill[nk++],norm_charged_dmgInc:Me.skill[nk++],duration:Me.skill[nk++][0],cd:Me.skill[nk++][0]},burst:{pressDmg:Me.burst[Hl++],eleMas_:Me.burst[Hl++],multDotDmg:Me.burst[Hl++],sunderDmg:Me.burst[Hl++],addDotDmg:Me.burst[Hl++],supernovaDmg:Me.burst[Hl++],subDotDmg:Me.burst[Hl++],subDmgInc:Me.burst[Hl++],subElemRes:Me.burst[Hl++],resDuration:Me.burst[Hl++][0],duration:Me.burst[Hl++][0],cd:Me.burst[Hl++][0],energyCost:Me.burst[Hl++][0]},passive1:{chargedStamRed:Me.passive1[0][0],chargedCastSpeed:Me.passive1[1][0]},passive2:{elemas:Me.passive2[0][0],stacks:Me.passive2[1][0],maxElemas:Me.passive2[2][0]},constellation1:{chance:Me.constellation1[0],dmg:Me.constellation1[1]},constellation2:{dmg:Me.constellation2[0]},constellation4:{energyRestore:Me.constellation4[0],cd:Me.constellation4[1]},constellation6:{cd:Me.constellation6[2],critRate_:Me.constellation6[3],critDMG_:Me.constellation6[4],maxStacks:Me.constellation6[5],duration:Me.constellation6[6]}},[Sne,If]=r(dl,"superposition"),rb=i(If,"on",m(u(e.total.skillIndex,Ca.skill.norm_charged_dmgInc,{unit:"%"}),e.total.eleMas)),[Cne,vr]=r(dl,"cycloneActive"),[Bne,ER]=r(dl,"multiplication"),Ane=ss(vr,"on",ss(ER,"on",ss(v(E.weaponType,{sword:Js,claymore:Js,polearm:Js},y),Js,p(Z$)))),[Ine,OR]=r(dl,"subtraction"),ST=i(vr,"on",i(OR,"on",m(u(e.total.burstIndex,Ca.burst.subDmgInc,{unit:"%"}),e.total.eleMas))),[Rne,MR]=r(dl,"lessThan3"),Hne=i(MR,"on",m(u(e.total.burstIndex,Ca.burst.subElemRes,{unit:"%"}),e.total.eleMas)),[Ene,KR]=r(dl,"a4EnemiesHit"),FR=b(1,Ca.passive2.stacks),[One,NR]=r(dl,"c1Mode"),Rf=a(P(1,n(e.constellation,1,v(NR,{average:p(Ca.constellation1.chance*Ca.constellation1.dmg),always:p(Ca.constellation1.dmg)},y))),{name:U.ch("c1Key"),unit:"%",asConst:!0}),[Mne,jR]=r(dl,"c2Prime"),CT=n(e.constellation,2,i(If,"on",i(jR,"on",{...rb}))),[Kne,e2]=r(dl,"c6Stacks"),t2=b(1,Ca.constellation6.maxStacks),GR=n(e.constellation,6,v(e2,_(t2,t=>m(d(Ca.constellation6.critRate_),t)),y)),WR=n(e.constellation,6,v(e2,_(t2,t=>m(d(Ca.constellation6.critDMG_),t)),y)),Sa={normal:Object.fromEntries(Ca.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal",void 0,Rf)])),charged:{dmg:c("atk",Ca.charged.dmg,"charged",void 0,Rf)},plunging:R("atk",Ca.plunging),skill:{pressDmg:c("atk",Ca.skill.dmg,"skill"),normal_dmgInc:rb,charged_dmgInc:{...rb}},burst:{initialDmg:c("atk",Ca.burst.pressDmg,"burst"),multDotDmg:c("atk",Ca.burst.multDotDmg,"burst"),addDotDmg:c("atk",Ca.burst.addDotDmg,"burst"),subDotDmg:c("atk",Ca.burst.subDotDmg,"burst"),sunderDmg:c("eleMas",Ca.burst.sunderDmg,"burst"),supernovaDmg:c("eleMas",Ca.burst.supernovaDmg,"burst"),eleMas:i(vr,"on",m(u(e.total.burstIndex,Ca.burst.eleMas_,{unit:"%"}),e.premod.eleMas)),sub_normal_dmgInc:ST,sub_charged_dmgInc:{...ST},..._(Gc,t=>({...Hne}))},passive2:{eleMas:n(e.asc,4,i(vr,"on",v(KR,_(FR,t=>m(d(Ca.passive2.elemas),t,e.premod.eleMas)),y)))},constellation2:{normal_dmgInc:CT,charged_dmgInc:{...CT}}},LR=n(e.constellation,3,3),zR=n(e.constellation,5,3),Fne=A(dl,Z$,"mondstadt",Af,Sa,{premod:{burstBoost:LR,skillBoost:zR,normal_dmgInc:P(Sa.skill.normal_dmgInc,Sa.burst.sub_normal_dmgInc,Sa.constellation2.normal_dmgInc),charged_dmgInc:P(Sa.skill.charged_dmgInc,Sa.burst.sub_charged_dmgInc,Sa.constellation2.charged_dmgInc),critRate_:GR,critDMG_:WR},teamBuff:{premod:{...Object.fromEntries(Gc.map(t=>[`${t}_enemyRes_`,Sa.burst[t]]))},infusion:{team:Ane}},total:{eleMas:P(Sa.burst.eleMas,Sa.passive2.eleMas)}}),Nne={key:dl,name:U.chg("name"),rarity:Af.rarity,elementKey:Z$,weaponTypeKey:Af.weaponType,gender:"F",constellationName:U.chg("constellationName"),title:U.chg("title"),talent:{auto:U.talentTem("auto",[{text:U.chg("auto.fields.normal")},{fields:Ca.normal.hitArr.map((t,o)=>({node:a(Sa.normal[o],{name:U.chg(`auto.skillParams.${o}`)})}))},{text:U.chg("auto.fields.charged")},{fields:[{node:a(Sa.charged.dmg,{name:U.chg("auto.skillParams.4")})},{text:U.chg("auto.skillParams.5"),value:Ca.charged.stamina,unit:"/s"}]},{text:U.chg("auto.fields.plunging")},{fields:[{node:a(Sa.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Sa.plunging.low,{name:s("plunging.low")})},{node:a(Sa.plunging.high,{name:s("plunging.high")})}]},U.condTem("constellation1",{value:NR,path:One,name:U.ch("c1Cond"),states:{average:{name:U.ch("average"),fields:[{node:Rf}]},always:{name:U.ch("always"),fields:[{node:Rf}]}}})]),skill:U.talentTem("skill",[U.fieldsTem("skill",{fields:[{node:a(Sa.skill.pressDmg,{name:U.chg("skill.skillParams.0")})},{text:s("duration"),value:Ca.skill.duration,unit:"s"},{text:s("cd"),value:Ca.skill.cd,unit:"s"}]}),U.condTem("skill",{value:If,path:Sne,name:U.ch("superpositionCond"),states:{on:{fields:[{node:a(Sa.skill.normal_dmgInc,{path:"normal_dmgInc"})},{node:a(Sa.skill.charged_dmgInc,{path:"charged_dmgInc"})}]}}}),U.condTem("constellation2",{value:jR,path:Mne,name:U.ch("c2Cond"),canShow:i(If,"on",1),states:{on:{fields:[{node:a(Sa.constellation2.normal_dmgInc,{path:"normal_dmgInc"})},{node:a(Sa.constellation2.charged_dmgInc,{path:"charged_dmgInc"})}]}}})]),burst:U.talentTem("burst",[U.fieldsTem("burst",{fields:[{node:a(Sa.burst.initialDmg,{name:U.chg("burst.skillParams.0")})},{node:a(Sa.burst.multDotDmg,{name:U.chg("burst.skillParams.2")})},{node:a(Sa.burst.sunderDmg,{name:U.chg("burst.skillParams.3")})},{node:a(Sa.burst.addDotDmg,{name:U.chg("burst.skillParams.4")})},{node:a(Sa.burst.supernovaDmg,{name:U.chg("burst.skillParams.5")})},{node:a(Sa.burst.subDotDmg,{name:U.chg("burst.skillParams.6")})},{text:s("duration"),value:Ca.burst.duration,unit:"s"},{text:s("energyCost"),value:Ca.burst.energyCost},{text:s("cd"),value:Ca.burst.cd,unit:"s"}]}),U.condTem("burst",{value:vr,path:Cne,teamBuff:!0,name:U.ch("cycloneActiveCond"),states:{on:{fields:[{node:a(Sa.burst.eleMas,{path:"eleMas"})}]}}}),U.condTem("burst",{value:OR,path:Ine,canShow:i(vr,"on",i(e.activeCharKey,dl,1)),name:U.ch("subCond"),states:{on:{fields:[{node:a(Sa.burst.sub_normal_dmgInc,{path:"normal_dmgInc"})},{node:a(Sa.burst.sub_charged_dmgInc,{path:"charged_dmgInc"})}]}}}),U.condTem("burst",{value:ER,path:Bne,teamBuff:!0,canShow:i(vr,"on",M(e.activeCharKey,dl,1)),name:U.ch("multCond"),states:{on:{fields:[{text:H(Ba,{color:"electro",children:l("infusion.electro")})}]}}}),U.condTem("burst",{value:MR,path:Rne,teamBuff:!0,name:U.ch("lessThan3Cond"),states:{on:{fields:[...Gc.map(t=>({node:Sa.burst[t]})),{text:s("duration"),value:Ca.burst.resDuration,unit:"s"}]}}}),U.condTem("passive2",{value:KR,path:Ene,canShow:i(vr,"on",1),name:l("hitOp.burst"),states:_(FR,t=>({name:l("hits",{count:t}),fields:[{node:a(Sa.passive2.eleMas,{path:"eleMas"})}]}))})]),passive1:U.talentTem("passive1"),passive2:U.talentTem("passive2"),passive3:U.talentTem("passive3"),constellation1:U.talentTem("constellation1"),constellation2:U.talentTem("constellation2"),constellation3:U.talentTem("constellation3",[{fields:[{node:LR}]}]),constellation4:U.talentTem("constellation4"),constellation5:U.talentTem("constellation5",[{fields:[{node:zR}]}]),constellation6:U.talentTem("constellation6",[U.condTem("constellation6",{value:e2,path:Kne,name:U.chg("constellation6.name"),states:_(t2,t=>({name:l("stack",{count:t}),fields:[{node:GR},{node:WR},{text:s("duration"),value:Ca.constellation6.duration,unit:"s"}]}))})])}},jne=new I(Nne,Fne),tc="Sucrose",UR="anemo",Hf=g.char.data[tc],cs=g.char.skillParam[tc],zt=B(tc,Hf.weaponType);let wc=0,BT=0,Pg=0,AT=0,IT=0;const qs={normal:{hitArr:[cs.auto[wc++],cs.auto[wc++],cs.auto[wc++],cs.auto[wc++]]},charged:{dmg:cs.auto[wc++],stamina:cs.auto[wc++][0]},plunging:{dmg:cs.auto[wc++],low:cs.auto[wc++],high:cs.auto[wc++]},skill:{press:cs.skill[BT++],cd:cs.skill[BT++][0]},burst:{dot:cs.burst[Pg++],dmg_:cs.burst[Pg++],duration:cs.burst[Pg++][0],cd:cs.burst[Pg++][0],enerCost:cs.burst[Pg++][0]},passive1:{eleMas:cs.passive1[AT++][0],duration:cs.passive1[AT++][0]},passive2:{eleMas_:cs.passive2[IT++][0],duration:cs.passive2[IT++][0]},constellation2:{durationInc:cs.constellation2[0]},constellation6:{ele_dmg_:cs.constellation6[0]}},[RT,Kg]=r(tc,"absorption"),VR=_(sa,t=>[tc,`swirl${t}`]),qR=_(sa,t=>Wc(VR[t])),[Gne,JR]=r(tc,"skillHit"),QR=n(e.asc,1,qs.passive1.eleMas),Wne=_(sa,t=>M(E.charKey,tc,i(E.charEle,qR[t],QR),{path:"eleMas",isTeamBuff:!0})),XR=a(n(e.asc,4,m(d(qs.passive2.eleMas_),e.premod.eleMas)),{path:"eleMas",isTeamBuff:!0}),YR=i("hit",JR,XR),Lne=M(E.charKey,tc,YR),zne=n(e.constellation,6,d(.2)),db=_(sa.map(t=>`${t}_dmg_`),t=>i(Kg,t.slice(0,-5),zne)),Ni={normal:Object.fromEntries(qs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",qs.charged.dmg,"charged")},plunging:R("atk",qs.plunging),skill:{press:c("atk",qs.skill.press,"skill")},burst:{dot:c("atk",qs.burst.dot,"burst"),...Object.fromEntries(sa.map(t=>[t,i(Kg,t,c("atk",qs.burst.dmg_,"burst",{hit:{ele:p(t)}}))]))},passive2:{asc4OptNode:XR}},ZR=n(e.constellation,3,3),eH=n(e.constellation,5,3),Une=A(tc,UR,"mondstadt",Hf,Ni,{premod:{skillBoost:ZR,burstBoost:eH},teamBuff:{total:{eleMas:Lne},premod:{...db,eleMas:P(...Object.values(Wne))}}}),Vne={key:tc,name:zt.name,rarity:Hf.rarity,elementKey:UR,weaponTypeKey:Hf.weaponType,gender:"F",constellationName:zt.chg("constellationName"),title:zt.chg("title"),talent:{auto:zt.talentTem("auto",[{text:zt.chg("auto.fields.normal")},{fields:qs.normal.hitArr.map((t,o)=>({node:a(Ni.normal[o],{name:zt.chg(`auto.skillParams.${o}`)})}))},{text:zt.chg("auto.fields.charged")},{fields:[{node:a(Ni.charged.dmg,{name:zt.chg("auto.skillParams.4")})},{text:zt.chg("auto.skillParams.5"),value:qs.charged.stamina}]},{text:zt.chg("auto.fields.plunging")},{fields:[{node:a(Ni.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ni.plunging.low,{name:s("plunging.low")})},{node:a(Ni.plunging.high,{name:s("plunging.high")})}]}]),skill:zt.talentTem("skill",[{fields:[{node:a(Ni.skill.press,{name:zt.chg("skill.skillParams.0")})},{text:zt.chg("skill.skillParams.1"),value:qs.skill.cd,unit:"s"},{canShow:t=>t.get(e.constellation).value>=1,text:l("charges"),value:2}]}]),burst:zt.talentTem("burst",[{fields:[{node:a(Ni.burst.dot,{name:zt.chg("burst.skillParams.0")})},{text:zt.chg("burst.skillParams.2"),value:t=>t.get(e.constellation).value>=2?`${qs.burst.duration}s + 2`:qs.burst.duration,unit:"s"},{text:zt.chg("burst.skillParams.3"),value:qs.burst.cd,unit:"s"},{text:zt.chg("burst.skillParams.4"),value:qs.burst.enerCost}]},zt.condTem("burst",{value:Kg,path:RT,name:l("eleAbsor"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:a(Ni.burst[t],{name:zt.chg("burst.skillParams.1")})}]}]))}),zt.condTem("constellation6",{teamBuff:!0,value:Kg,path:RT,name:l("eleAbsor"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:Object.values(db).map(o=>({node:o}))}]))}),zt.headerTem("constellation6",{canShow:M(Kg,void 0,1),fields:Object.values(db).map(t=>({node:t}))})]),passive1:zt.talentTem("passive1",[zt.condTem("passive1",{teamBuff:!0,states:_(sa,t=>({path:VR[t],value:qR[t],name:l(`swirlReaction.${t}`),fields:[{node:a(QR,{path:"eleMas",isTeamBuff:!0})},{text:l(`effectDuration.${t}`),value:qs.passive1.duration,unit:"s"}]}))})]),passive2:zt.talentTem("passive2",[zt.condTem("passive2",{teamBuff:!0,value:JR,path:Gne,name:l("hitOp.skillOrBurst"),states:{hit:{fields:[{node:a(YR,{path:"eleMas"})},{text:s("duration"),value:qs.passive2.duration,unit:"s"}]}}}),zt.fieldsTem("passive2",{fields:[{node:Ni.passive2.asc4OptNode}]})]),passive3:zt.talentTem("passive3"),constellation1:zt.talentTem("constellation1",[zt.fieldsTem("constellation1",{fields:[{text:l("addlCharges"),value:1}]})]),constellation2:zt.talentTem("constellation2"),constellation3:zt.talentTem("constellation3",[{fields:[{node:ZR}]}]),constellation4:zt.talentTem("constellation4"),constellation5:zt.talentTem("constellation5",[{fields:[{node:eH}]}]),constellation6:zt.talentTem("constellation6")}},qne=new I(Vne,Une),dh="Tartaglia",tH="hydro",Jne="snezhnaya",Ef=g.char.data[dh],Tt=g.char.skillParam[dh],ee=B(dh,Ef.weaponType);let vl=0,tl=0,nu=0,Qne=0;const Ne={normal:{hitArr:[Tt.auto[vl++],Tt.auto[vl++],Tt.auto[vl++],Tt.auto[vl++],Tt.auto[vl++],Tt.auto[vl++]]},charged:{aimed:Tt.auto[vl++],aimedCharged:Tt.auto[vl++]},riptide:{flashDmg:Tt.auto[vl++],burstDmg:Tt.auto[vl++]},plunging:{dmg:Tt.auto[vl++],low:Tt.auto[vl++],high:Tt.auto[vl++]},riptideDuration:Tt.auto[vl++][0],skill:{stanceDmg:Tt.skill[tl++],normal1:Tt.skill[tl++],normal2:Tt.skill[tl++],normal3:Tt.skill[tl++],normal4:Tt.skill[tl++],normal5:Tt.skill[tl++],normal61:Tt.skill[tl++],normal62:Tt.skill[tl++],charged1:Tt.skill[tl++],charged2:Tt.skill[tl++],riptideSlash:Tt.skill[tl++],chargedStamina:Tt.skill[tl++][0],duration:Tt.skill[tl++][0],preemptiveCd1:Tt.skill[tl++][0],preemptiveCd2:Tt.skill[tl++][0],maxCd:Tt.skill[tl++][0]},burst:{meleeDmg:Tt.burst[nu++],riptideBlastDmg:Tt.burst[nu++],rangedDmg:Tt.burst[nu++],enerReturned:Tt.burst[nu++][0],cd:Tt.burst[nu++][0],enerCost:Tt.burst[nu++][0]},passive1:{durationExt:Tt.passive1[Qne++][0]},passive:{auto_boost:1},constellation1:{cdRed:.2}},Zn={normal:Object.fromEntries(Ne.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",Ne.charged.aimed,"charged"),aimedCharged:c("atk",Ne.charged.aimedCharged,"charged",{hit:{ele:p("hydro")}}),flashDmg:c("atk",Ne.riptide.flashDmg,"normal",{hit:{ele:p("hydro")}}),burstDmg:c("atk",Ne.riptide.burstDmg,"normal",{hit:{ele:p("hydro")}})},plunging:R("atk",Ne.plunging),skill:{stanceDmg:c("atk",Ne.skill.stanceDmg,"skill"),normal1:C(m(u(e.total.skillIndex,Ne.skill.normal1,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),normal2:C(m(u(e.total.skillIndex,Ne.skill.normal2,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),normal3:C(m(u(e.total.skillIndex,Ne.skill.normal3,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),normal4:C(m(u(e.total.skillIndex,Ne.skill.normal4,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),normal5:C(m(u(e.total.skillIndex,Ne.skill.normal5,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),normal61:C(m(u(e.total.skillIndex,Ne.skill.normal61,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),normal62:C(m(u(e.total.skillIndex,Ne.skill.normal62,{unit:"%"}),e.total.atk),"normal",{hit:{ele:p("hydro")}}),charged1:C(m(u(e.total.skillIndex,Ne.skill.charged1,{unit:"%"}),e.total.atk),"charged",{hit:{ele:p("hydro")}}),charged2:C(m(u(e.total.skillIndex,Ne.skill.charged2,{unit:"%"}),e.total.atk),"charged",{hit:{ele:p("hydro")}}),riptideSlash:c("atk",Ne.skill.riptideSlash,"skill")},burst:{meleeDmg:c("atk",Ne.burst.meleeDmg,"burst"),rangedDmg:c("atk",Ne.burst.rangedDmg,"burst"),riptideBlastDmg:c("atk",Ne.burst.riptideBlastDmg,"burst")}},aH=p(1),nH=n(e.constellation,3,3),sH=n(e.constellation,5,3),Xne=A(dh,tH,Jne,Ef,Zn,{premod:{skillBoost:nH,burstBoost:sH},teamBuff:{premod:{autoBoost:aH}}}),Yne={key:dh,name:ee.name,rarity:Ef.rarity,elementKey:tH,weaponTypeKey:Ef.weaponType,gender:"M",constellationName:ee.chg("constellationName"),title:ee.chg("title"),talent:{auto:ee.talentTem("auto",[{text:ee.chg("auto.fields.normal")},{fields:Ne.normal.hitArr.map((t,o)=>({node:a(Zn.normal[o],{name:ee.chg(`auto.skillParams.${o}`)})}))},{text:ee.chg("auto.fields.charged")},{fields:[{node:a(Zn.charged.aimed,{name:ee.chg("auto.skillParams.6")})},{node:a(Zn.charged.aimedCharged,{name:ee.chg("auto.skillParams.7")})}]},{text:ee.chg("auto.fields.riptide")},{fields:[{node:a(Zn.charged.flashDmg,{name:ee.chg("auto.skillParams.8"),multi:3})},{node:a(Zn.charged.burstDmg,{name:ee.chg("auto.skillParams.9")})},{text:ee.chg("auto.skillParams.10"),value:t=>t.get(e.asc).value>=1?Ne.passive1.durationExt+Ne.riptideDuration:Ne.riptideDuration,unit:"s"}]},{text:ee.chg("auto.fields.plunging")},{fields:[{node:a(Zn.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Zn.plunging.low,{name:s("plunging.low")})},{node:a(Zn.plunging.high,{name:s("plunging.high")})}]}]),skill:ee.talentTem("skill",[{fields:[{node:a(Zn.skill.stanceDmg,{name:ee.chg("skill.skillParams.0")})},{node:a(Zn.skill.normal1,{name:ee.chg("skill.skillParams.1")})},{node:a(Zn.skill.normal2,{name:ee.chg("skill.skillParams.2")})},{node:a(Zn.skill.normal3,{name:ee.chg("skill.skillParams.3")})},{node:a(Zn.skill.normal4,{name:ee.chg("skill.skillParams.4")})},{node:a(Zn.skill.normal5,{name:ee.chg("skill.skillParams.5")})},{node:a(Zn.skill.normal61,{name:ee.chg("skill.skillParams.6"),textSuffix:"(1)"})},{node:a(Zn.skill.normal62,{name:ee.chg("skill.skillParams.6"),textSuffix:"(2)"})},{node:a(Zn.skill.charged1,{name:ee.chg("skill.skillParams.7"),textSuffix:"(1)"})},{node:a(Zn.skill.charged2,{name:ee.chg("skill.skillParams.7"),textSuffix:"(2)"})},{node:a(p(Ne.skill.chargedStamina),{name:ee.chg("skill.skillParams.8")})},{node:a(Zn.skill.riptideSlash,{name:ee.chg("skill.skillParams.9")})},{text:ee.chg("skill.skillParams.10"),value:Ne.skill.duration,unit:"s"},{text:ee.chg("skill.skillParams.11"),value:t=>t.get(e.constellation).value>=1?`${Ne.skill.preemptiveCd1-Ne.skill.preemptiveCd1*Ne.constellation1.cdRed}
            - ${Ne.skill.preemptiveCd2-Ne.skill.preemptiveCd2*Ne.constellation1.cdRed}`:`${Ne.skill.preemptiveCd1} - ${Ne.skill.preemptiveCd2}`,unit:"s"},{text:ee.chg("skill.skillParams.12"),value:t=>t.get(e.constellation).value>=1?`${Ne.skill.maxCd-Ne.skill.maxCd*Ne.constellation1.cdRed}`:`${Ne.skill.maxCd}`,unit:"s"}]}]),burst:ee.talentTem("burst",[{fields:[{node:a(Zn.burst.meleeDmg,{name:ee.chg("burst.skillParams.0")})},{node:a(Zn.burst.rangedDmg,{name:ee.chg("burst.skillParams.1")})},{node:a(Zn.burst.riptideBlastDmg,{name:ee.chg("burst.skillParams.2")})},{text:ee.chg("burst.skillParams.4"),value:`${Ne.burst.cd}`,unit:"s"},{text:ee.chg("burst.skillParams.5"),value:`${Ne.burst.enerCost}`},{text:ee.chg("burst.skillParams.3"),value:`${Ne.burst.enerReturned}`}]}]),passive1:ee.talentTem("passive1"),passive2:ee.talentTem("passive2"),passive3:ee.talentTem("passive3",[ee.headerTem("passive3",{teamBuff:!0,fields:[{node:aH}]})]),constellation1:ee.talentTem("constellation1"),constellation2:ee.talentTem("constellation2"),constellation3:ee.talentTem("constellation3",[{fields:[{node:nH}]}]),constellation4:ee.talentTem("constellation4"),constellation5:ee.talentTem("constellation5",[{fields:[{node:sH}]}]),constellation6:ee.talentTem("constellation6")}},Zne=new I(Yne,Xne),Hm="Thoma",Ic="pyro",Of=g.char.data[Hm],na=g.char.skillParam[Hm],dt=B(Hm,Of.weaponType);let xc=0,wd=0,Dc=0;const tt={normal:{hitArr:[na.auto[xc++],na.auto[xc++],na.auto[xc++],na.auto[xc++]]},charged:{dmg:na.auto[xc++],stamina:na.auto[xc++][0]},plunging:{dmg:na.auto[xc++],low:na.auto[xc++],high:na.auto[xc++]},skill:{dmg:na.skill[wd++],hpShield_:na.skill[wd++],baseShield:na.skill[wd++],shieldDuration:na.skill[wd++][0],maxHpShield_:na.skill[wd++],maxBaseShield:na.skill[wd++],cd:na.skill[wd++][0]},burst:{pressDmg:na.burst[Dc++],collapseDmg:na.burst[Dc++],hpShield_:na.burst[Dc++],baseShield:na.burst[Dc++],shieldDuration:na.burst[Dc++][0],unknown:na.burst[Dc++][0],scorchingDuration:na.burst[Dc++][0],cd:na.burst[Dc++][0],enerCost:na.burst[Dc++][0]},passive1:{shield_:na.passive1[0][0],duration:na.passive1[1][0],maxStacks:na.passive1[2][0],cd:na.passive1[3][0]},passive2:{collapse_dmgInc:na.passive2[0][0]},c2:{burstDuration:na.constellation2[0]},c4:{energyRestore:na.constellation4[0]},c6:{auto_dmg:na.constellation6[0],duration:na.constellation6[1]}},[ese,lH]=r(Hm,"p1BarrierStacks"),oH=n(e.asc,1,v(lH,Object.fromEntries(b(1,tt.passive1.maxStacks).map(t=>[t,p(t*tt.passive1.shield_)])),y)),iH=n(e.asc,4,m(e.total.hp,tt.passive2.collapse_dmgInc)),[tse,cH]=r(Hm,"c6AfterBarrier"),z_=n(e.constellation,6,i(cH,"on",tt.c6.auto_dmg)),rH={...z_},dH={...z_},hl={normal:Object.fromEntries(tt.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",tt.charged.dmg,"charged")},plunging:R("atk",tt.plunging),skill:{dmg:c("atk",tt.skill.dmg,"skill"),minShield:bs("hp",tt.skill.hpShield_,tt.skill.baseShield,"skill"),minPyroShield:Vn("pyro",bs("hp",tt.skill.hpShield_,tt.skill.baseShield,"skill")),maxShield:bs("hp",tt.skill.maxHpShield_,tt.skill.maxBaseShield,"skill"),maxPyroShield:Vn("pyro",bs("hp",tt.skill.maxHpShield_,tt.skill.maxBaseShield,"skill"))},burst:{pressDmg:c("atk",tt.burst.pressDmg,"burst"),collapseDmg:c("atk",tt.burst.collapseDmg,"burst",{premod:{burst_dmgInc:iH}}),shield:bs("hp",tt.burst.hpShield_,tt.burst.baseShield,"burst"),pyroShield:Vn("pyro",bs("hp",tt.burst.hpShield_,tt.burst.baseShield,"burst"))}},mH=n(e.constellation,3,3),uH=n(e.constellation,5,3),ase=A(Hm,Ic,"inazuma",Of,hl,{premod:{skillBoost:mH,burstBoost:uH},teamBuff:{premod:{shield_:oH,normal_dmg_:z_,charged_dmg_:rH,plunging_dmg_:dH}}}),nse={key:Hm,name:dt.name,rarity:Of.rarity,elementKey:Ic,weaponTypeKey:Of.weaponType,gender:"M",constellationName:dt.chg("constellationName"),title:dt.chg("title"),talent:{auto:dt.talentTem("auto",[{text:dt.chg("auto.fields.normal")},{fields:tt.normal.hitArr.map((t,o)=>({node:a(hl.normal[o],{name:dt.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:dt.chg("auto.fields.charged")},{fields:[{node:a(hl.charged.dmg1,{name:dt.chg("auto.skillParams.4")})},{text:dt.chg("auto.skillParams.5"),value:tt.charged.stamina}]},{text:dt.chg("auto.fields.plunging")},{fields:[{node:a(hl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(hl.plunging.low,{name:s("plunging.low")})},{node:a(hl.plunging.high,{name:s("plunging.high")})}]}]),skill:dt.talentTem("skill",[{fields:[{node:a(hl.skill.dmg,{name:dt.chg("skill.skillParams.0")})},{node:a(hl.skill.minShield,{name:dt.chg("skill.skillParams.1")})},{node:a(hl.skill.minPyroShield,{name:l(`dmgAbsorption.${Ic}`),variant:Ic})},{node:a(hl.skill.maxShield,{name:dt.chg("skill.skillParams.3")})},{node:a(hl.skill.maxPyroShield,{name:l(`dmgAbsorption.max.${Ic}`),variant:Ic})},{text:s("duration"),value:tt.skill.shieldDuration,unit:"s"},{text:s("cd"),value:tt.skill.cd,unit:"s"}]}]),burst:dt.talentTem("burst",[{fields:[{node:a(hl.burst.pressDmg,{name:dt.chg("burst.skillParams.0")})},{node:a(hl.burst.collapseDmg,{name:dt.chg("burst.skillParams.1")})},{node:a(hl.burst.shield,{name:dt.chg("burst.skillParams.2")})},{node:a(hl.burst.pyroShield,{name:l(`dmgAbsorption.${Ic}`),variant:Ic})},{text:dt.chg("burst.skillParams.3"),value:tt.burst.shieldDuration,unit:"s"},{text:dt.chg("burst.skillParams.4"),value:t=>t.get(e.constellation).value>=2?`${tt.burst.scorchingDuration}s + ${tt.c2.burstDuration}s = ${tt.burst.scorchingDuration+tt.c2.burstDuration}`:tt.burst.scorchingDuration,unit:"s"},{text:s("cd"),value:tt.burst.cd,unit:"s"},{text:s("energyCost"),value:tt.burst.enerCost}]},dt.condTem("passive1",{value:lH,path:ese,name:dt.ch("refreshBarrier"),teamBuff:!0,states:Object.fromEntries(b(1,tt.passive1.maxStacks).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:oH},{text:s("duration"),value:tt.passive1.duration,unit:"s"},{text:l("triggerCD"),value:tt.passive1.cd,unit:"s",fixed:1}]}]))}),dt.headerTem("passive2",{fields:[{node:a(iH,{name:dt.ch("a2"),variant:Ic})}]}),dt.headerTem("constellation2",{fields:[{text:dt.ch("c2"),value:tt.c2.burstDuration,unit:"s"}]}),dt.headerTem("constellation4",{fields:[{text:s("energyRegen"),value:tt.c4.energyRestore}]}),dt.condTem("constellation6",{value:cH,path:tse,name:dt.ch("refreshBarrier"),teamBuff:!0,states:{on:{fields:[{node:z_},{node:rH},{node:dH}]}}})]),passive1:dt.talentTem("passive1"),passive2:dt.talentTem("passive2"),passive3:dt.talentTem("passive3"),constellation1:dt.talentTem("constellation1"),constellation2:dt.talentTem("constellation2"),constellation3:dt.talentTem("constellation3",[{fields:[{node:mH}]}]),constellation4:dt.talentTem("constellation4"),constellation5:dt.talentTem("constellation5",[{fields:[{node:uH}]}]),constellation6:dt.talentTem("constellation6")}},sse=new I(nse,ase),ed="Tighnari",U_="dendro",lse="sumeru",Mf=g.char.data[ed],Fa=g.char.skillParam[ed],mt=B(ed,Mf.weaponType);let Go=0,sk=0,lk=0,HT=0,ET=0;const yn={normal:{hitArr:[Fa.auto[Go++],Fa.auto[Go++],Fa.auto[Go++],Fa.auto[Go++]]},charged:{aimed:Fa.auto[Go++],aimedCharged:Fa.auto[Go++],wreathArrow:Fa.auto[Go++],clusterArrow:Fa.auto[Go++]},plunging:{dmg:Fa.auto[Go++],low:Fa.auto[Go++],high:Fa.auto[Go++]},skill:{dmg:Fa.skill[sk++],fieldDuration:Fa.skill[sk++][0],penetratorDuration:Fa.skill[sk++][0],cd:Fa.skill[sk++][0]},burst:{primaryDmg:Fa.burst[lk++],secondaryDmg:Fa.burst[lk++],cd:Fa.burst[lk++][0],energyCost:Fa.burst[lk++][0]},passive1:{eleMas:Fa.passive1[HT++][0],duration:Fa.passive1[HT++][0]},passive2:{charged_burst_dmg_:Fa.passive2[ET++][0],maxDmg_:Fa.passive2[ET++][0]},constellation1:{charged_critRate_:Fa.constellation1[0]},constellation2:{dendro_dmg_:Fa.constellation2[0],duration:Fa.constellation2[1]},constellation4:{eleMas:Fa.constellation4[0],duration:Fa.constellation4[1]},constellation6:{unknown:Fa.constellation6[0],dmg:Fa.constellation6[1],chargeTimeRed:.9}},[ose,gH]=r(ed,"p1AfterWreath"),hH=n(e.asc,1,i(gH,"on",yn.passive1.eleMas)),V_=n(e.asc,4,da(m(d(yn.passive2.charged_burst_dmg_,{fixed:2}),e.total.eleMas),d(yn.passive2.maxDmg_))),a2={...V_},lv={hit:{ele:p(U_)}},pH=n(e.constellation,1,yn.constellation1.charged_critRate_),[ise,kH]=r(ed,"c2EnemyField"),fH=n(e.constellation,2,i(kH,"on",yn.constellation2.dendro_dmg_)),[cse,_H]=r(ed,"c4"),mb=n(e.constellation,4,v(_H,{after:p(yn.constellation4.eleMas),react:p(yn.constellation4.eleMas*2)},y)),Kl={normal:Object.fromEntries(yn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",yn.charged.aimed,"charged"),aimedCharged:c("atk",yn.charged.aimedCharged,"charged",lv),wreath:c("atk",yn.charged.wreathArrow,"charged",lv),cluster:c("atk",yn.charged.clusterArrow,"charged",lv)},plunging:R("atk",yn.plunging),skill:{dmg:c("atk",yn.skill.dmg,"skill")},burst:{primaryDmg:c("atk",yn.burst.primaryDmg,"burst"),secondaryDmg:c("atk",yn.burst.secondaryDmg,"burst")},passive2:{charged_dmg_:V_,burst_dmg_:a2},constellation6:{cluster:n(e.constellation,6,C(m(d(yn.constellation6.dmg),e.total.atk),"charged",{hit:{ele:p(U_)}}))}},vH=n(e.constellation,3,3),bH=n(e.constellation,5,3),rse=A(ed,U_,lse,Mf,Kl,{premod:{skillBoost:bH,burstBoost:vH,eleMas:hH,charged_dmg_:V_,burst_dmg_:a2,charged_critRate_:pH,dendro_dmg_:fH},teamBuff:{premod:{eleMas:mb}}}),dse={key:ed,name:mt.name,rarity:Mf.rarity,elementKey:U_,weaponTypeKey:Mf.weaponType,gender:"M",constellationName:mt.chg("constellationName"),title:mt.chg("title"),talent:{auto:mt.talentTem("auto",[{text:mt.chg("auto.fields.normal")},{fields:yn.normal.hitArr.map((t,o)=>({node:a(Kl.normal[o],{name:mt.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},{text:mt.chg("auto.fields.charged")},{fields:[{node:a(Kl.charged.aimed,{name:mt.chg("auto.skillParams.4")})},{node:a(Kl.charged.aimedCharged,{name:mt.chg("auto.skillParams.5")})},{node:a(Kl.charged.wreath,{name:mt.chg("auto.skillParams.6")})},{node:a(Kl.charged.cluster,{name:mt.chg("auto.skillParams.7")})}]},mt.condTem("passive1",{path:ose,value:gH,name:mt.ch("p1Cond"),states:{on:{fields:[{node:hH},{text:s("duration"),value:yn.passive1.duration,unit:"s"}]}}}),mt.headerTem("constellation1",{fields:[{node:pH}]}),mt.headerTem("constellation6",{fields:[{text:mt.ch("c6WreathRed"),value:yn.constellation6.chargeTimeRed,unit:"s",fixed:1},{node:a(Kl.constellation6.cluster,{name:mt.ch("c6DmgKey")})}]}),{text:mt.chg("auto.fields.plunging")},{fields:[{node:a(Kl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Kl.plunging.low,{name:s("plunging.low")})},{node:a(Kl.plunging.high,{name:s("plunging.high")})}]}]),skill:mt.talentTem("skill",[{fields:[{node:a(Kl.skill.dmg,{name:mt.chg("skill.skillParams.0")})},{text:mt.chg("skill.skillParams.1"),value:yn.skill.fieldDuration,unit:"s"},{text:mt.chg("skill.skillParams.2"),value:yn.skill.penetratorDuration,unit:"s"},{text:s("cd"),value:yn.skill.cd,unit:"s"}]},mt.condTem("constellation2",{path:ise,value:kH,name:l("opponentsField"),states:{on:{fields:[{node:fH}]}}})]),burst:mt.talentTem("burst",[{fields:[{node:a(Kl.burst.primaryDmg,{name:mt.chg("burst.skillParams.0")})},{node:a(Kl.burst.secondaryDmg,{name:mt.chg("burst.skillParams.1")})},{text:s("cd"),value:yn.burst.cd,unit:"s"},{text:s("energyCost"),value:yn.burst.energyCost}]},mt.condTem("constellation4",{path:cse,value:_H,teamBuff:!0,name:"",states:{after:{name:l("afterUse.burst"),fields:[{node:mb},{text:s("duration"),value:yn.constellation4.duration,unit:"s"}]},react:{name:mt.ch("c4ReactCond"),fields:[{node:mb},{text:s("duration"),value:yn.constellation4.duration,unit:"s"}]}}})]),passive1:mt.talentTem("passive1"),passive2:mt.talentTem("passive2",[mt.fieldsTem("passive2",{fields:[{node:V_},{node:a2}]})]),passive3:mt.talentTem("passive3"),constellation1:mt.talentTem("constellation1"),constellation2:mt.talentTem("constellation2"),constellation3:mt.talentTem("constellation3",[{fields:[{node:vH}]}]),constellation4:mt.talentTem("constellation4"),constellation5:mt.talentTem("constellation5",[{fields:[{node:bH}]}]),constellation6:mt.talentTem("constellation6")}},mse=new I(dse,rse);function ac(t,o,w,D){const K=g.char.data.Traveler,$=g.char.skillParam[t],S={normal:{hitArr:[$.auto[0],$.auto[1],$.auto[2],$.auto[3],$.auto[4]]},charged:{hit1:$.auto[5],hit2:$.auto[6],stamina:$.auto[7][0]},plunging:{dmg:$.auto[8],low:$.auto[9],high:$.auto[10]}},x={normal:Object.fromEntries(S.normal.hitArr.map((Gn,Qn)=>[Qn,c("atk",Gn,"normal")])),charged:{dmg1:c("atk",S.charged.hit1,"charged"),dmg2:c("atk",S.charged.hit2,"charged")},plunging:Object.fromEntries(Object.entries(S.plunging).map(([Gn,Qn])=>[Gn,c("atk",Qn,Gn==="dmg"?"plunging_collision":"plunging_impact")]))},{talent:pe,data:N,elementKey:T}=w(t,o,x),qn=B(t,K.weaponType);pe.auto=qn.talentTem("auto",[{text:qn.chg("auto.fields.normal")},{fields:S.normal.hitArr.map((Gn,Qn)=>({node:a(x.normal[Qn],{name:qn.chg(`auto.skillParams.${Qn}`)})}))},{text:qn.chg("auto.fields.charged")},{fields:[{node:a(x.charged.dmg1,{name:qn.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(x.charged.dmg2,{name:qn.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:qn.chg("auto.skillParams.6"),value:S.charged.stamina}]},{text:qn.chg("auto.fields.plunging")},{fields:[{node:a(x.plunging.dmg,{name:s("plunging.dmg")})},{node:a(x.plunging.low,{name:s("plunging.low")})},{node:a(x.plunging.high,{name:s("plunging.high")})}]}]);const Jn={...D,talent:pe,key:o,elementKey:T};return new I(Jn,N)}const ov=g.char.data.Traveler,Cl={sheet:{rarity:ov.rarity,weaponTypeKey:ov.weaponType},data_gen:ov},[iv]=O("char","TravelerF"),mh={sheet:{...Cl.sheet,name:Ub("TravelerF",iv),gender:"F",constellationName:iv("constellationName"),title:iv("title")},data_gen:Cl.data_gen};function $H(t,o,w){const D="anemo",K="TravelerAnemo",[,$]=O("char",K),S=B(t,Cl.data_gen.weaponType),x=g.char.skillParam.TravelerAnemoF;let pe=0,N=0;const T={skill:{initial_dmg:x.skill[pe++],initial_max:x.skill[pe++],ele_dmg:.25,storm_dmg:x.skill[pe++],storm_max:x.skill[pe++],cd:x.skill[pe++][0],maxCd:x.skill[pe++][0]},burst:{dmg:x.burst[N++],absorbDmg:x.burst[N++],duration:x.burst[N++][0],cd:x.burst[N++][0],enerCost:x.burst[N++][0]},passive1:{dmg:.6},passive2:{heal_:.02},constellation2:{enerRech_:.16},constellation6:{enemyRes_:-.2}},[qn,Jn]=r(K,"skillAbsorption"),[Gn,Qn]=r(K,`${D}BurstAbsorption`),Xs=n(e.constellation,2,T.constellation2.enerRech_),[yo,fl]=r(K,`${D}C6Hit`),_l=n(e.constellation,6,i(fl,"on",T.constellation6.enemyRes_)),To=xu(sa,$s=>[`${$s}_enemyRes_`,n(e.constellation,6,i(fl,"on",i(Qn,$s,T.constellation6.enemyRes_)))]),ls={hit:{ele:Jn}},ks={...w,skill:{initial_dmg:c("atk",T.skill.initial_dmg,"skill"),initial_max:c("atk",T.skill.initial_max,"skill"),initial_ele_dmg:M(Jn,void 0,c("atk",T.skill.initial_dmg,"skill",ls,p(T.skill.ele_dmg,{unit:"%"}))),max_ele_dmg:M(Jn,void 0,c("atk",T.skill.initial_max,"skill",ls,p(T.skill.ele_dmg,{unit:"%"}))),storm_dmg:c("atk",T.skill.storm_dmg,"skill"),storm_max:c("atk",T.skill.storm_max,"skill"),storm_ele_dmg:M(Jn,void 0,c("atk",T.skill.storm_dmg,"skill",ls,p(T.skill.ele_dmg,{unit:"%"}))),storm_ele_max:M(Jn,void 0,c("atk",T.skill.storm_max,"skill",ls,p(T.skill.ele_dmg,{unit:"%"})))},burst:{dmg:c("atk",T.burst.dmg,"burst"),absorb:M(Qn,void 0,c("atk",T.burst.absorbDmg,"burst",{hit:{ele:Qn}}))},passive1:{dmg:n(e.asc,1,C(m(e.total.atk,T.passive1.dmg),"elemental",{hit:{ele:p(D)}}))},passive2:{heal:n(e.asc,2,jn(m(d(T.passive2.heal_),e.total.hp)))}},sc=n(e.constellation,3,3),ws=n(e.constellation,5,3),od=A(o,D,void 0,Cl.data_gen,ks,{premod:{skillBoost:ws,burstBoost:sc,enerRech_:Xs},teamBuff:{premod:{...To,anemo_enemyRes_:_l}}});return{talent:{skill:S.talentTem("skill",[{fields:[{node:a(ks.skill.initial_dmg,{name:S.chg("skill.skillParams.0"),multi:2})},{node:a(ks.skill.initial_max,{name:S.chg("skill.skillParams.1"),multi:4})},{node:a(ks.skill.storm_dmg,{name:S.chg("skill.skillParams.2")})},{node:a(ks.skill.storm_max,{name:S.chg("skill.skillParams.3")})},{text:S.chg("skill.skillParams.4"),value:T.skill.cd,unit:"s"},{text:S.chg("skill.skillParams.5"),value:T.skill.maxCd,unit:"s"}]},S.condTem("skill",{value:Jn,path:qn,name:l("eleAbsor"),states:Object.fromEntries(sa.map($s=>[$s,{name:H(Ba,{color:$s,children:s(`element.${$s}`)}),fields:[{node:a(ks.skill.initial_ele_dmg,{name:$("initialEleDmg")})},{node:a(ks.skill.max_ele_dmg,{name:$("maxEleDmg"),multi:4})},{node:a(ks.skill.storm_ele_dmg,{name:$("stormEleDmg")})},{node:a(ks.skill.storm_ele_max,{name:$("stormEleMaxDmg")})}]}]))}),S.headerTem("constellation4",{fields:[{text:$("c4"),value:10,unit:"%"}]})]),burst:S.talentTem("burst",[{fields:[{node:a(ks.burst.dmg,{name:S.chg("burst.skillParams.0")})},{text:S.chg("burst.skillParams.2"),value:T.burst.duration,unit:"s"},{text:S.chg("burst.skillParams.3"),value:T.burst.cd,unit:"s"},{text:S.chg("burst.skillParams.4"),value:T.burst.enerCost}]},S.condTem("burst",{value:Qn,path:Gn,name:l("eleAbsor"),states:Object.fromEntries(sa.map($s=>[$s,{name:H(Ba,{color:$s,children:s(`element.${$s}`)}),fields:[{node:a(ks.burst.absorb,{name:S.chg("burst.skillParams.1")})}]}]))}),S.condTem("constellation6",{value:fl,path:yo,teamBuff:!0,name:$("c6"),states:{on:{fields:[{node:a(_l,{path:"anemo_enemyRes_"})},{text:s("duration"),value:10,unit:"s"}]}}}),S.condTem("constellation6",{value:Qn,path:Gn,name:l("eleAbsor"),teamBuff:!0,canShow:i(fl,"on",1),states:Object.fromEntries(sa.map($s=>[$s,{name:H(Ba,{color:$s,children:s(`element.${$s}`)}),fields:[{node:To[`${$s}_enemyRes_`]},{text:s("duration"),value:10,unit:"s"}]}]))})]),passive1:S.talentTem("passive1",[S.fieldsTem("passive1",{fields:[{node:a(ks.passive1.dmg,{name:$("p1")})}]})]),passive2:S.talentTem("passive2",[S.fieldsTem("passive2",{fields:[{node:a(ks.passive2.heal,{name:s("healing")})}]})]),constellation1:S.talentTem("constellation1"),constellation2:S.talentTem("constellation2",[{fields:[{node:Xs}]}]),constellation3:S.talentTem("constellation3",[{fields:[{node:sc}]}]),constellation4:S.talentTem("constellation4"),constellation5:S.talentTem("constellation5",[{fields:[{node:ws}]}]),constellation6:S.talentTem("constellation6")},data:od,elementKey:D}}const use="TravelerAnemoF",gse="TravelerAnemo",hse=ac(use,gse,$H,mh.sheet),[cv]=O("char","TravelerM"),uh={sheet:{...Cl.sheet,name:Ub("TravelerM",cv),gender:"M",constellationName:cv("constellationName"),title:cv("title")},data_gen:Cl.data_gen},pse="TravelerAnemoM",kse="TravelerAnemo",fse=ac(pse,kse,$H,uh.sheet);function yH(t,o,w){const D="dendro",K="TravelerDendro",$=B(t,Cl.data_gen.weaponType),S=g.char.skillParam.TravelerDendroF;let x=0,pe=0;const N={skill:{dmg:S.skill[x++],cd:S.skill[x++][0]},burst:{lampDmg:S.burst[pe++],explosionDmg:S.burst[pe++],unknown1:S.burst[pe++],unknown2:S.burst[pe++],lampDuration:S.burst[pe++][0],cd:S.burst[pe++][0],enerCost:S.burst[pe++][0]},passive1:{eleMas:S.passive1[0][0],maxStacks:10},passive2:{skill_dmgInc:S.passive2[0][0],burst_dmgInc:S.passive2[1][0]},constellation1:{energyRegen:1},constellation2:{durationInc:S.constellation2[0]},constellation6:{ele_dmg_:S.constellation6[0]}},[T,qn]=r(K,"a1Stacks"),Jn=b(1,N.passive1.maxStacks),Gn=n(e.asc,1,v(qn,Object.fromEntries(Jn.map(Ws=>[Ws,m(N.passive1.eleMas,Ws)])),y),{path:"eleMas"}),Qn=i(e.activeCharKey,E.charKey,Gn),Xs=n(e.asc,4,m(d(N.passive2.skill_dmgInc,{fixed:2}),e.total.eleMas),{unit:"%"}),yo=n(e.asc,4,m(d(N.passive2.burst_dmgInc),e.total.eleMas),{unit:"%"}),[fl,_l]=r(K,"c6BurstEffect"),[To,ls]=r(K,"c6BurstEle"),ks=n(e.constellation,6,i(_l,"on",d(N.constellation6.ele_dmg_))),sc=i(e.activeCharKey,E.charKey,ks),ws=Object.fromEntries(["hydro","pyro","electro"].map(Ws=>[Ws,n(e.constellation,6,i(_l,"on",i(ls,Ws,d(N.constellation6.ele_dmg_))))])),od=Object.fromEntries(Object.entries(ws).map(([Ws,T1])=>[`${Ws}_dmg_`,i(e.activeCharKey,E.charKey,T1)])),Ys={...w,skill:{dmg:c("atk",N.skill.dmg,"skill")},burst:{lampDmg:c("atk",N.burst.lampDmg,"burst"),explosionDmg:c("atk",N.burst.explosionDmg,"burst")}},$s=n(e.constellation,3,3),y1=n(e.constellation,5,3),id=A(o,D,void 0,Cl.data_gen,Ys,{premod:{burstBoost:y1,skillBoost:$s,skill_dmg_:Xs,burst_dmg_:yo},teamBuff:{premod:{eleMas:Qn,dendro_dmg_:sc,...od}}});return{talent:{skill:$.talentTem("skill",[{fields:[{node:a(Ys.skill.dmg,{name:$.chg("skill.skillParams.0")})},{text:s("cd"),value:N.skill.cd,unit:"s"}]}]),burst:$.talentTem("burst",[{fields:[{node:a(Ys.burst.lampDmg,{name:$.chg("burst.skillParams.0")})},{node:a(Ys.burst.explosionDmg,{name:$.chg("burst.skillParams.1")})},{text:$.chg("burst.skillParams.2"),value:Ws=>Ws.get(e.constellation).value>=2?`${N.burst.lampDuration}s + ${N.constellation2.durationInc}s = ${N.burst.lampDuration+N.constellation2.durationInc}`:N.burst.lampDuration,unit:"s"},{text:s("cd"),value:N.burst.cd,unit:"s"},{text:s("energyCost"),value:N.burst.enerCost}]},$.condTem("passive1",{path:T,value:qn,teamBuff:!0,name:l("stacks"),states:Object.fromEntries(Jn.map(Ws=>[Ws,{name:l("stack",{count:Ws}),fields:[{node:Gn}]}]))}),$.headerTem("constellation2",{fields:[{text:l("durationInc"),value:N.constellation2.durationInc,unit:"s"}]}),$.condTem("constellation6",{path:fl,value:_l,teamBuff:!0,name:l("activeCharField"),states:{on:{fields:[{node:a(ks,{path:"dendro_dmg_",isTeamBuff:!0})}]}}}),$.condTem("constellation6",{path:To,value:ls,teamBuff:!0,canShow:i(_l,"on",1),name:l("eleAbsor"),states:Object.fromEntries(Object.entries(ws).map(([Ws,T1])=>[Ws,{name:H(Ba,{color:Ws,children:s(`element.${Ws}`)}),fields:[{node:a(T1,{path:`${Ws}_dmg_`,isTeamBuff:!0})}]}]))})]),passive1:$.talentTem("passive1"),passive2:$.talentTem("passive2",[$.fieldsTem("passive2",{fields:[{node:Xs},{node:yo}]})]),constellation1:$.talentTem("constellation1"),constellation2:$.talentTem("constellation2"),constellation3:$.talentTem("constellation3",[{fields:[{node:$s}]}]),constellation4:$.talentTem("constellation4"),constellation5:$.talentTem("constellation5",[{fields:[{node:y1}]}]),constellation6:$.talentTem("constellation6")},data:id,elementKey:D}}const _se="TravelerDendroF",vse="TravelerDendro",bse=ac(_se,vse,yH,mh.sheet),$se="TravelerDendroM",yse="TravelerDendro",Tse=ac($se,yse,yH,uh.sheet);function TH(t,o,w){const D="electro",K="TravelerElectro",$=B(t,Cl.data_gen.weaponType),[,S]=O("char",K),x=g.char.skillParam.TravelerElectroF;let pe=0,N=0;const T={skill:{dmg:x.skill[pe++],energyRestore:x.skill[pe++],amulets:2,amuletDuration:x.skill[pe++][0],enerRech_:x.skill[pe++][0],enerRech_duration:x.skill[pe++][0],cd:x.skill[pe++][0]},burst:{pressDmg:x.burst[N++],thunderDmg:x.burst[N++],thunderCd:.5,energyRestore:x.burst[N++],duration:x.burst[N++][0],cd:x.burst[N++][0],enerCost:x.burst[N++][0]},passive1:{cdRed:x.passive1[0][0]},passive2:{enerRech_:x.passive2[0][0]},constellation1:{addlAmulets:1},constellation2:{duration:x.constellation2[0],electro_enemyRes:x.constellation2[1]},constellation6:{numAttacks:x.constellation6[0],thunder_dmg_:x.constellation6[0],energyRestore:x.constellation6[1]}},[qn,Jn]=r(K,`${D}SkillAmulet`),Gn=n(e.asc,4,m(e.premod.enerRech_,d(T.passive2.enerRech_))),Qn=i(Jn,"on",P(d(T.skill.enerRech_),Gn)),Xs=i(e.activeCharKey,E.charKey,Qn),yo=a(u(e.total.burstIndex,T.burst.energyRestore),{name:$.chg("burst.skillParmas.2")}),[fl,_l]=r(K,`${D}C2Thunder`),To=n(e.constellation,2,i(_l,"on",T.constellation2.electro_enemyRes)),ls={...w,skill:{dmg:c("atk",T.skill.dmg,"skill")},burst:{pressDmg:c("atk",T.burst.pressDmg,"burst"),thunderDmg:c("atk",T.burst.thunderDmg,"burst"),thirdThunderDmg:n(e.constellation,6,C(m(u(e.total.burstIndex,T.burst.thunderDmg,{unit:"%"}),d(T.constellation6.thunder_dmg_),e.total.atk),"burst",{hit:{ele:p(D)}}))}},ks=n(e.constellation,3,3),sc=n(e.constellation,5,3),ws=A(o,D,void 0,Cl.data_gen,ls,{premod:{skillBoost:sc,burstBoost:ks},teamBuff:{premod:{electro_enemyRes_:To},total:{enerRech_:Xs}}});return{talent:{skill:$.talentTem("skill",[{fields:[{node:a(ls.skill.dmg,{name:$.chg("skill.skillParams.0")})},{canShow:Ys=>Ys.get(e.constellation).value<4,node:a(u(e.total.skillIndex,T.skill.energyRestore),{name:S("skill.enerRest.none")})},{canShow:Ys=>Ys.get(e.constellation).value>=4,node:a(u(e.total.skillIndex,T.skill.energyRestore),{name:S("skill.enerRest.over35")})},{canShow:Ys=>Ys.get(e.constellation).value>=4,node:a(m(u(e.total.skillIndex,T.skill.energyRestore),2),{name:S("skill.enerRest.under35")})},{text:S("skill.amuletGenAmt"),value:Ys=>Ys.get(e.constellation).value>=1?T.skill.amulets+T.constellation1.addlAmulets:T.skill.amulets},{text:$.chg("skill.skillParams.4"),value:T.skill.amuletDuration,unit:"s"},{text:s("cd"),value:T.skill.cd,unit:"s",fixed:1}]},$.condTem("skill",{value:Jn,path:qn,name:S("skill.absorb"),teamBuff:!0,states:{on:{fields:[{node:a(Qn,{path:"enerRech_"})},{text:s("duration"),value:T.skill.enerRech_duration,unit:"s"}]}}}),$.headerTem("passive1",{fields:[{text:$.chg("passive1.description")}]}),$.headerTem("passive2",{fields:[{node:a(Gn,{name:S("passive2.enerRech_"),unit:"%"})}]})]),burst:$.talentTem("burst",[{fields:[{node:a(ls.burst.pressDmg,{name:$.chg("burst.skillParams.0")})},{node:a(ls.burst.thunderDmg,{name:$.chg("burst.skillParams.1")})},{node:a(ls.burst.thirdThunderDmg,{name:S("burst.3rd")})},{text:S("burst.thunderCd"),value:T.burst.thunderCd,unit:"s",fixed:1},{node:a(yo,{name:$.chg("burst.skillParams.2"),fixed:1})},{text:s("duration"),value:T.burst.duration,unit:"s"},{text:s("cd"),value:T.burst.cd,unit:"s"},{text:s("energyCost"),value:T.burst.enerCost}]},$.condTem("constellation2",{value:_l,path:fl,name:S("c2.thunderHit"),teamBuff:!0,states:{on:{fields:[{node:To},{text:s("duration"),value:T.constellation2.duration,unit:"s"}]}}})]),passive1:$.talentTem("passive1"),passive2:$.talentTem("passive2"),constellation1:$.talentTem("constellation1"),constellation2:$.talentTem("constellation2"),constellation3:$.talentTem("constellation3",[{fields:[{node:ks}]}]),constellation4:$.talentTem("constellation4"),constellation5:$.talentTem("constellation5",[{fields:[{node:sc}]}]),constellation6:$.talentTem("constellation6")},data:ws,elementKey:D}}const Pse="TravelerElectroF",wse="TravelerElectro",xse=ac(Pse,wse,TH,mh.sheet),Dse="TravelerElectroM",Sse="TravelerElectro",Cse=ac(Dse,Sse,TH,uh.sheet);function PH(t,o,w){const D="geo",K="TravelerGeo",$=B(t,Cl.data_gen.weaponType),[,S]=O("char",K),x=g.char.skillParam.TravelerGeoF;let pe=0,N=0;const T={skill:{dmg:x.skill[pe++],duration:x.skill[pe++][0],cd:x.skill[pe++][0]},burst:{dmg:x.burst[N++],numShockwaves:4,duration:x.burst[N++][0],cd:x.burst[N++][0],enerCost:x.burst[N++][0]},passive1:{skill_cdRed:2},passive2:{geoDmg:d(.6)},constellation1:{critRate_:d(.1)},constellation4:{energyRestore:5,maxTriggers:5},constellation6:{burstDuration:5,skillDuration:10}},[qn,Jn]=r(K,`${D}C1BurstArea`),Gn=n(e.constellation,1,i(Jn,"on",T.constellation1.critRate_)),Qn=i(e.activeCharKey,E.charKey,Gn),Xs={...w,skill:{dmg:c("atk",T.skill.dmg,"skill")},burst:{dmg:c("atk",T.burst.dmg,"burst")},passive2:{dmg:C(m(e.total.atk,T.passive2.geoDmg),"elemental",{hit:{ele:p("geo")}})},constellation2:{dmg:n(e.constellation,2,c("atk",T.skill.dmg,"skill"))}},yo=n(e.constellation,3,3),fl=n(e.constellation,5,3),_l=A(o,D,void 0,Cl.data_gen,Xs,{premod:{skillBoost:fl,burstBoost:yo},teamBuff:{premod:{critRate_:Qn}}});return{talent:{skill:$.talentTem("skill",[{fields:[{node:a(Xs.skill.dmg,{name:$.chg("skill.skillParams.0")})},{text:$.chg("skill.skillParams.1"),value:ls=>ls.get(e.constellation).value>=6?`${T.skill.duration}s + ${T.constellation6.skillDuration}s = ${T.skill.duration+T.constellation6.skillDuration}`:T.skill.duration,unit:"s"},{text:s("cd"),value:ls=>ls.get(e.asc).value>=1?`${T.skill.cd}s - ${T.passive1.skill_cdRed}s = ${T.skill.cd-T.passive1.skill_cdRed}`:T.skill.cd,unit:"s"}]},$.headerTem("passive1",{fields:[{text:l("skillCDRed"),value:T.passive1.skill_cdRed,unit:"s"}]}),$.headerTem("constellation2",{fields:[{node:a(Xs.constellation2.dmg,{name:S("c2.key")})}]}),$.headerTem("constellation6",{fields:[{text:l("durationInc"),value:T.constellation6.skillDuration,unit:"s"}]})]),burst:$.talentTem("burst",[{fields:[{node:a(Xs.burst.dmg,{name:$.chg("burst.skillParams.0"),multi:T.burst.numShockwaves})},{text:$.chg("burst.skillParams.1"),value:ls=>ls.get(e.constellation).value>=6?`${T.burst.duration}s + ${T.constellation6.burstDuration}s = ${T.burst.duration+T.constellation6.burstDuration}`:T.burst.duration,unit:"s"},{text:s("cd"),value:T.burst.cd,unit:"s"},{text:s("energyCost"),value:T.burst.enerCost}]},$.condTem("constellation1",{value:Jn,path:qn,name:l("activeCharField"),teamBuff:!0,states:{on:{fields:[{node:a(Gn,{path:"critRate_"})},{text:l("incInterRes")}]}}}),$.headerTem("constellation4",{fields:[{text:l("enerRegenPerHit"),value:T.constellation4.energyRestore}]}),$.headerTem("constellation6",{fields:[{text:l("durationInc"),value:T.constellation6.burstDuration,unit:"s"}]})]),passive1:$.talentTem("passive1"),passive2:$.talentTem("passive2",[$.fieldsTem("passive2",{fields:[{node:a(Xs.passive2.dmg,{name:S("passive2.key")})}]})]),constellation1:$.talentTem("constellation1"),constellation2:$.talentTem("constellation2"),constellation3:$.talentTem("constellation3",[{fields:[{node:yo}]}]),constellation4:$.talentTem("constellation4"),constellation5:$.talentTem("constellation5",[{fields:[{node:fl}]}]),constellation6:$.talentTem("constellation6")},data:_l,elementKey:D}}const Bse="TravelerGeoF",Ase="TravelerGeo",Ise=ac(Bse,Ase,PH,mh.sheet),Rse="TravelerGeoM",Hse="TravelerGeo",Ese=ac(Rse,Hse,PH,uh.sheet);function wH(t,o,w){const D="hydro",K="TravelerHydro",$=B(t,Cl.data_gen.weaponType),[,S]=O("char",K),x=g.char.skillParam.TravelerHydroF;let pe=0,N=0;const T={skill:{dewdropDmg:x.skill[pe++],surgeDmg:x.skill[pe++],thornDmg:x.skill[pe++],thornInterval:x.skill[pe++][0],hpCost:x.skill[pe++][0],dmgBonus:x.skill[pe++],suffusionLimit:x.skill[pe++][0],cd:x.skill[pe++][0],holdDuration:x.skill[pe++][0]},burst:{dmg:x.burst[N++],duration:x.burst[N++][0],cd:x.burst[N++][0],enerCost:x.burst[N++][0]},passive1:{numDropsPerSec:x.passive1[0][0],maxDrops:x.passive1[1][0],heal:x.passive1[2][0]},passive2:{surge_dmgInc:x.passive2[0][0],maxSurge_dmgInc:x.passive2[1][0]},constellation1:{energyRegen:x.constellation1[0]},constellation2:{movementSpdDec:x.constellation2[0],durationInc:x.constellation2[1]},constellation4:{shield_:x.constellation4[0],restoreInterval:x.constellation4[1],restore_:.1},constellation6:{heal:x.constellation6[0]}},[qn,Jn]=r(K,"suffusion"),Gn=i(Jn,"on",m(u(e.total.skillIndex,T.skill.dmgBonus,{unit:"%"}),e.total.hp)),Qn=m(d(T.skill.hpCost),e.total.hp),Xs=[T.skill.hpCost,2*T.skill.hpCost,3*T.skill.hpCost,4*T.skill.hpCost,5*T.skill.hpCost,6*T.skill.hpCost],[yo,fl]=r(K,"a4HpConsumedPercent"),_l=v(fl,_(Xs,id=>m(e.total.hp,d(id))),y),To=n(e.asc,4,da(T.passive2.maxSurge_dmgInc,m(d(T.passive2.surge_dmgInc),_l))),ls=n(e.constellation,4,jg("hp",T.constellation4.shield_,0)),ks=n(e.constellation,4,Vn("hydro",ls)),sc=n(e.constellation,6,Es("hp",T.constellation6.heal,0)),ws={...w,skill:{surgeDmg:c("atk",T.skill.surgeDmg,"skill",{premod:{skill_dmgInc:To}}),dewdropDmg:c("atk",T.skill.dewdropDmg,"skill",{premod:{skill_dmgInc:Gn}}),thornDmg:c("atk",T.skill.thornDmg,"skill"),suffusion_hpCost:Qn,suffusion_dewdrop_dmgInc:Gn},burst:{dmg:c("atk",T.burst.dmg,"burst")},passive1:{heal:n(e.asc,1,Es("hp",T.passive1.heal,0))},passive2:{a4HpConsumed_surge_dmgInc:To},constellation4:{c4Shield:ls,c4HydroShield:ks}},od=n(e.constellation,3,3),Ys=n(e.constellation,5,3),$s=A(o,D,void 0,Cl.data_gen,ws,{premod:{burstBoost:Ys,skillBoost:od}});return{talent:{skill:$.talentTem("skill",[{fields:[{node:a(ws.skill.surgeDmg,{name:$.chg("skill.skillParams.0")})},{node:a(ws.skill.dewdropDmg,{name:$.chg("skill.skillParams.1")})},{node:a(ws.skill.thornDmg,{name:$.chg("skill.skillParams.2")})},{text:$.chg("skill.skillParams.3"),value:T.skill.thornInterval,unit:"s"},{node:a(ws.skill.suffusion_hpCost,{name:$.chg("skill.skillParams.4")})},{text:$.chg("skill.skillParams.6"),value:T.skill.holdDuration,unit:"s"},{text:s("cd"),value:T.skill.cd,unit:"s"}]},$.condTem("skill",{value:Jn,path:qn,name:S("skillCondName"),states:{on:{fields:[{node:a(ws.skill.suffusion_dewdrop_dmgInc,{name:S("dewdropDmgInc")})}]}}}),$.condTem("passive2",{value:fl,path:yo,name:S("a4CondName"),states:_(Xs,id=>({name:`${id*100}%`,fields:[{node:a(ws.passive2.a4HpConsumed_surge_dmgInc,{name:S("surgeDmgInc")})}]}))}),$.headerTem("constellation4",{fields:[{node:a(ws.constellation4.c4Shield,{name:l("dmgAbsorption.none")})},{node:a(ws.constellation4.c4HydroShield,{name:l("dmgAbsorption.hydro")})}]})]),burst:$.talentTem("burst",[{fields:[{node:a(ws.burst.dmg,{name:$.chg("burst.skillParams.0")})},{text:s("duration"),value:id=>id.get(e.constellation).value>=2?`${T.burst.duration}s + ${T.constellation2.durationInc}s = ${T.burst.duration+T.constellation2.durationInc}`:T.burst.duration,unit:"s"},{text:s("cd"),value:T.burst.cd,unit:"s"},{text:s("energyCost"),value:T.burst.enerCost}]},$.headerTem("constellation2",{fields:[{node:p(T.constellation2.movementSpdDec*-100,{path:"moveSPD_"})},{text:l("durationInc"),value:T.constellation2.durationInc,unit:"s"}]})]),passive1:$.talentTem("passive1",[{fields:[{node:a(ws.passive1.heal,{name:s("healing")})}]},$.headerTem("constellation1",{fields:[{text:s("energyRegen"),value:T.constellation1.energyRegen}]})]),passive2:$.talentTem("passive2"),constellation1:$.talentTem("constellation1"),constellation2:$.talentTem("constellation2"),constellation3:$.talentTem("constellation3",[{fields:[{node:od}]}]),constellation4:$.talentTem("constellation4"),constellation5:$.talentTem("constellation5",[{fields:[{node:Ys}]}]),constellation6:$.talentTem("constellation6",[$.headerTem("constellation6",{fields:[{node:a(sc,{name:s("healing")})}]})])},data:$s,elementKey:D}}const Ose="TravelerHydroF",Mse="TravelerHydro",Kse=ac(Ose,Mse,wH,mh.sheet),Fse="TravelerHydroM",Nse="TravelerHydro",jse=ac(Fse,Nse,wH,uh.sheet),oi="Venti",Kf="anemo",Ff=g.char.data[oi],fs=g.char.skillParam[oi],te=B(oi,Ff.weaponType);let Wo=0,ok=0,wg=0;const fn={normal:{hitArr:[fs.auto[Wo++],fs.auto[Wo++],fs.auto[Wo++],fs.auto[Wo++],fs.auto[Wo++],fs.auto[Wo++]]},charged:{aimed:fs.auto[Wo++],fully:fs.auto[Wo++]},plunging:{dmg:fs.auto[Wo++],low:fs.auto[Wo++],high:fs.auto[Wo++]},skill:{pressDmg:fs.skill[ok++],pressCD:fs.skill[ok++][0],holdDmg:fs.skill[ok++],holdCD:fs.skill[ok++][0]},burst:{baseDmg:fs.burst[wg++],baseTicks:20,absorbDmg:fs.burst[wg++],absorbTicks:15,duration:fs.burst[wg++][0],cd:fs.burst[wg++][0],enerCost:fs.burst[wg++][0]},passive1:{duration:fs.passive1[0][0]},passive3:{stam_:.2},constellation1:{dmgRatio:.33},constellation2:{res_:-.12,duration:10},constellation4:{anemo_dmg_:.25,duration:10},constellation6:{res_:-.2,duration:10}},xH=n(e.constellation,3,3),DH=n(e.constellation,5,3),SH=p(fn.passive3.stam_),[OT,pu]=r(oi,"burstAbsorption"),[Gse,CH]=r(oi,"c2"),Nf=n(e.constellation,2,v(CH,{hit:p(fn.constellation2.res_),launched:m(fn.constellation2.res_,2)},y)),ub={...Nf},[Wse,BH]=r(oi,"c4"),AH=n(e.constellation,4,i(BH,"pickup",fn.constellation4.anemo_dmg_)),[Lse,Fg]=r(oi,"c6"),IH=n(e.constellation,6,i(Fg,"takeDmg",fn.constellation6.res_)),gb=Object.fromEntries(sa.map(t=>[`${t}_enemyRes_`,n(e.constellation,6,i(Fg,"takeDmg",i(t,pu,fn.constellation6.res_)))])),Fl={normal:Object.fromEntries(fn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",fn.charged.aimed,"charged"),fully:c("atk",fn.charged.fully,"charged",{hit:{ele:p(Kf)}})},plunging:R("atk",fn.plunging),skill:{press:c("atk",fn.skill.pressDmg,"skill"),hold:c("atk",fn.skill.holdDmg,"skill")},burst:{base:c("atk",fn.burst.baseDmg,"burst"),absorb:M(pu,void 0,c("atk",fn.burst.absorbDmg,"burst",{hit:{ele:pu}}))},constellation1:{aimed:n(e.constellation,1,C(m(d(fn.constellation1.dmgRatio),u(e.total.autoIndex,fn.charged.aimed,{unit:"%"}),e.total.atk),"charged")),fully:n(e.constellation,1,C(m(d(fn.constellation1.dmgRatio),u(e.total.autoIndex,fn.charged.fully,{unit:"%"}),e.total.atk),"charged",{hit:{ele:p(Kf)}}))}},zse=A(oi,Kf,"mondstadt",Ff,Fl,{premod:{burstBoost:xH,skillBoost:DH,anemo_dmg_:AH,staminaGlidingDec_:SH},teamBuff:{premod:{anemo_enemyRes_:P(Nf,IH),physical_enemyRes_:ub,...gb}}}),Use={key:oi,name:te.name,rarity:Ff.rarity,elementKey:Kf,weaponTypeKey:Ff.weaponType,gender:"M",constellationName:te.chg("constellationName"),title:te.chg("title"),talent:{auto:te.talentTem("auto",[{text:te.chg("auto.fields.normal")},{fields:fn.normal.hitArr.map((t,o)=>({node:a(Fl.normal[o],{name:te.chg(`auto.skillParams.${o}`),multi:o===0||o===3?2:void 0})}))},{text:te.chg("auto.fields.charged")},{fields:[{node:a(Fl.charged.aimed,{name:te.chg("auto.skillParams.6")})},{node:a(Fl.charged.fully,{name:te.chg("auto.skillParams.7")})}]},te.headerTem("constellation1",{fields:[{node:a(Fl.constellation1.aimed,{name:te.ch("addAimed")})},{node:a(Fl.constellation1.fully,{name:te.ch("addFullAimed")})}]}),{text:te.chg("auto.fields.plunging")},{fields:[{node:a(Fl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Fl.plunging.low,{name:s("plunging.low")})},{node:a(Fl.plunging.high,{name:s("plunging.high")})}]}]),skill:te.talentTem("skill",[{fields:[{node:a(Fl.skill.press,{name:te.chg("skill.skillParams.0")})},{text:te.chg("skill.skillParams.1"),value:fn.skill.pressCD,unit:"s"},{node:a(Fl.skill.hold,{name:te.chg("skill.skillParams.2")})},{text:s("hold.cd"),value:fn.skill.holdCD,unit:"s"}]},te.headerTem("passive1",{fields:[{text:te.ch("upcurrentDuration"),value:fn.passive1.duration,unit:"s"}]}),te.condTem("constellation2",{value:CH,path:Gse,teamBuff:!0,name:te.chg("constellation2.name"),states:{hit:{name:te.ch("c2.hit"),fields:[{node:a(Nf,{path:"anemo_enemyRes_"})},{node:ub}]},launched:{name:te.ch("c2.launched"),fields:[{node:a(Nf,{path:"anemo_enemyRes_"})},{node:ub}]}}})]),burst:te.talentTem("burst",[{fields:[{node:a(Fl.burst.base,{name:te.chg("burst.skillParams.0"),multi:fn.burst.baseTicks})},{text:te.chg("burst.skillParams.2"),value:fn.burst.duration,unit:"s"},{text:te.chg("burst.skillParams.3"),value:fn.burst.cd,unit:"s"},{text:te.chg("burst.skillParams.4"),value:fn.burst.enerCost}]},te.condTem("burst",{value:pu,path:OT,name:l("eleAbsor"),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:a(Fl.burst.absorb,{name:te.chg("burst.skillParams.1"),multi:fn.burst.absorbTicks})}]}]))}),te.headerTem("passive2",{fields:[{text:te.ch("regenEner")},{text:te.ch("q")}]}),te.condTem("constellation6",{value:Fg,path:Lse,teamBuff:!0,name:te.ch("c6"),states:{takeDmg:{fields:[{node:a(IH,{path:"anemo_enemyRes_"})}]}}}),te.headerTem("constellation6",{fields:sa.map(t=>({node:gb[`${t}_enemyRes_`]})),canShow:M(pu,void 0,i(Fg,"takeDmg",i(E.charKey,oi,1)))}),te.condTem("constellation6",{value:pu,path:OT,name:l("eleAbsor"),teamBuff:!0,canShow:i(Fg,"takeDmg",M(e.activeCharKey,oi,1)),states:Object.fromEntries(sa.map(t=>[t,{name:H(Ba,{color:t,children:s(`element.${t}`)}),fields:[{node:gb[`${t}_enemyRes_`]}]}]))})]),passive1:te.talentTem("passive1"),passive2:te.talentTem("passive2"),passive3:te.talentTem("passive3",[{fields:[{node:SH}]}]),constellation1:te.talentTem("constellation1"),constellation2:te.talentTem("constellation2"),constellation3:te.talentTem("constellation3",[{fields:[{node:xH}]}]),constellation4:te.talentTem("constellation4",[te.condTem("constellation4",{value:BH,path:Wse,name:l("getElementalOrbParticle"),states:{pickup:{fields:[{node:AH}]}}})]),constellation5:te.talentTem("constellation5",[{fields:[{node:DH}]}]),constellation6:te.talentTem("constellation6")}},Vse=new I(Use,zse),Xc="Wanderer",jf="anemo",Gf=g.char.data[Xc],Na=g.char.skillParam[Xc],et=B(Xc,Gf.weaponType);let Sc=0,xg=0,rv=0,ik=0,dv=0;const ps={normal:{hitArr:[Na.auto[Sc++],Na.auto[Sc++],Na.auto[Sc++]]},throwaway:Sc++,charged:{dmg:Na.auto[Sc++],stamina:Na.auto[Sc++][0]},plunging:{dmg:Na.auto[Sc++],low:Na.auto[Sc++],high:Na.auto[Sc++]},skill:{dmg:Na.skill[xg++],normal_mult:Na.skill[xg++],charged_mult:Na.skill[xg++],skyDwellerPoints:Na.skill[xg++][0],cd:Na.skill[xg++][0]},burst:{dmg:Na.burst[rv++],cd:Na.burst[rv++][0],enerCost:Na.burst[rv++][0]},passive1:{pyro_atk_:Na.passive1[ik++][0],hydro_point:Na.passive1[ik++][0],cryo_critRate_:Na.passive1[ik++][0],electro_energy:Na.passive1[ik++][0],electro_cd:.2},passive2:{chance_:Na.passive2[dv++][0],chanceInc_:Na.passive2[dv++][0],dmg:Na.passive2[dv++][0],arrowAmt:4,cd:.1},constellation1:{atkSPD_:Na.constellation1[0],dmg:Na.constellation1[1]},constellation2:{burst_dmg_perPoint:Na.constellation2[0],max_burst_dmg_:Na.constellation2[1]},constellation6:{dmg:Na.constellation6[0],pointRestore:Na.constellation6[1],threshold:Na.constellation6[2],cd:.2,maxRestoreTimes:5}},[qse,Ll]=r(Xc,"afterSkill"),hb=a(Qs(Ll,"on",u(e.total.skillIndex,ps.skill.normal_mult),Js),{name:l("dmgMult.normal"),unit:"%"}),RH=a(Qs(Ll,"on",u(e.total.skillIndex,ps.skill.charged_mult),Js),{name:l("dmgMult.charged"),unit:"%"}),[Jse,HH]=r(Xc,"skillPyroContact"),EH=n(e.asc,1,i(Ll,"on",i(HH,"pyro",ps.passive1.pyro_atk_))),[Qse,OH]=r(Xc,"skillCryoContact"),MH=n(e.asc,1,i(Ll,"on",i(OH,"cryo",ps.passive1.cryo_critRate_))),KH=n(e.constellation,1,i(Ll,"on",ps.constellation1.atkSPD_)),FH=n(e.constellation,1,a(i(Ll,"on",ps.constellation1.dmg),{name:et.ch("c1BonusKey"),unit:"%"})),[Xse,NH]=r(Xc,"c2Points"),jH=[5,10,15,20,25,30,35,40,45,50],GH=n(e.constellation,2,i(Ll,"on",v(NH,Object.fromEntries(jH.map(t=>[t,m(t,ps.constellation2.burst_dmg_perPoint)])),y))),ji={normal:Object.fromEntries(ps.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal",void 0,hb)])),charged:{dmg:c("atk",ps.charged.dmg,"charged",void 0,RH)},plunging:Object.fromEntries(Object.entries(ps.plunging).map(([t,o])=>[t,c("atk",o,t==="dmg"?"plunging_collision":"plunging_impact")])),skill:{dmg:c("atk",ps.skill.dmg,"skill")},burst:{dmg:c("atk",ps.burst.dmg,"burst")},passive2:{dmg:n(e.asc,4,C(m(P(d(ps.passive2.dmg),FH),e.total.atk),"elemental",{hit:{ele:p(jf)}}))},constellation6:Object.fromEntries(ps.normal.hitArr.map((t,o)=>[o,n(e.constellation,6,i(Ll,"on",C(m(u(e.total.autoIndex,t,{unit:"%"}),a(p(ps.constellation6.dmg),{name:et.ch("c6Key"),unit:"%"}),e.total.atk,hb),"normal",{hit:{ele:p(jf)}})))]))},WH=n(e.constellation,3,3),LH=n(e.constellation,5,3),Yse=A(Xc,jf,"sumeru",Gf,ji,{premod:{skillBoost:LH,burstBoost:WH,atk_:EH,critRate_:MH,atkSPD_:KH,burst_dmg_:GH}}),Zse={key:Xc,name:et.name,rarity:Gf.rarity,elementKey:jf,weaponTypeKey:Gf.weaponType,gender:"M",constellationName:et.chg("constellationName"),title:et.chg("title"),talent:{auto:et.talentTem("auto",[{text:et.chg("auto.fields.normal")},{fields:ps.normal.hitArr.map((t,o)=>({node:a(ji.normal[o],{name:et.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))},et.headerTem("constellation6",{canShow:i(Ll,"on",1),fields:ps.normal.hitArr.map((t,o)=>({node:a(ji.constellation6[o],{name:et.chg(`auto.skillParams.${o}`),multi:o===2?2:void 0})}))}),{text:et.chg("auto.fields.charged")},{fields:[{node:a(ji.charged.dmg,{name:et.chg("auto.skillParams.3")})},{text:et.chg("auto.skillParams.4"),value:ps.charged.stamina}]},{text:et.chg("auto.fields.plunging")},{fields:[{node:a(ji.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ji.plunging.low,{name:s("plunging.low")})},{node:a(ji.plunging.high,{name:s("plunging.high")})}]}]),skill:et.talentTem("skill",[{fields:[{node:a(ji.skill.dmg,{name:et.chg("skill.skillParams.0")})},{text:et.chg("skill.skillParams.3"),value:ps.skill.skyDwellerPoints},{text:s("cd"),value:ps.skill.cd,unit:"s"}]},et.condTem("skill",{path:qse,value:Ll,name:et.ch("windfavoredState"),states:{on:{fields:[{node:hb},{node:RH}]}}}),et.condTem("passive1",{canShow:i(Ll,"on",1),states:{pyro:{path:Jse,value:HH,name:et.ch("p1.pyroCondName"),fields:[{node:EH}]},cryo:{path:Qse,value:OH,name:et.ch("p1.cryoCondName"),fields:[{node:MH}]}}}),et.headerTem("constellation1",{canShow:i(Ll,"on",1),fields:[{node:KH}]})]),burst:et.talentTem("burst",[{fields:[{node:a(ji.burst.dmg,{name:et.chg("burst.skillParams.0"),multi:5})},{text:s("cd"),value:ps.burst.cd,unit:"s"},{text:s("energyCost"),value:ps.burst.enerCost}]},et.condTem("constellation2",{path:Xse,value:NH,canShow:i(Ll,"on",1),name:et.ch("c2CondName"),states:Object.fromEntries(jH.map(t=>[t,{name:t.toString(),fields:[{node:GH}]}]))})]),passive1:et.talentTem("passive1"),passive2:et.talentTem("passive2",[et.fieldsTem("passive2",{fields:[{node:a(ji.passive2.dmg,{name:et.ch("p2Dmg")})}]}),et.headerTem("constellation1",{canShow:n(e.asc,4,1),fields:[{node:FH}]})]),passive3:et.talentTem("passive3"),constellation1:et.talentTem("constellation1"),constellation2:et.talentTem("constellation2"),constellation3:et.talentTem("constellation3",[{fields:[{node:WH}]}]),constellation4:et.talentTem("constellation4"),constellation5:et.talentTem("constellation5",[{fields:[{node:LH}]}]),constellation6:et.talentTem("constellation6")}},ele=new I(Zse,Yse),Bu="Wriothesley",Ld=g.char.data[Bu],Pt=g.char.skillParam[Bu],ut=B(Bu,Ld.weaponType);let Si=-1,ck=0,Dg=0;const vn={normal:{hitArr:[Pt.auto[++Si],Pt.auto[++Si],Pt.auto[++Si],Pt.auto[Si+=2],Pt.auto[++Si]]},charged:{dmg:Pt.auto[++Si],stam:Pt.auto[++Si][0]},plunging:{dmg:Pt.auto[++Si],low:Pt.auto[++Si],high:Pt.auto[++Si]},skill:{fistDmg:Pt.skill[ck++],hpCost:Pt.skill[ck++][0],duration:Pt.skill[ck++][0],cd:Pt.skill[ck++][0]},burst:{skillDmg:Pt.burst[Dg++],bladeDmg:Pt.burst[Dg++],cd:Pt.burst[Dg++][0],enerCost:Pt.burst[Dg++][0],bladeCd:Pt.burst[Dg++][0]},passive1:{hpThresh:Pt.passive1[0][0],dmg_:Pt.passive1[1][0],hpRestore:Pt.passive1[2][0],cd:Pt.passive1[3][0]},passive2:{atk_:Pt.passive2[0][0],maxStacks:Pt.passive2[1][0]},constellation1:{cd:Pt.constellation1[0],dmg_:Pt.constellation1[1],durationInc:Pt.constellation1[2]},constellation2:{dmg_:Pt.constellation2[0]},constellation4:{selfAtkSPD_:Pt.constellation4[0],selfDuration:Pt.constellation4[1],teamAtkSPD_:Pt.constellation4[2],teamDuration:Pt.constellation4[3],heal:Pt.constellation4[4]},constellation6:{skill_critRate_:Pt.constellation6[0],skill_critDMG_:Pt.constellation6[1],icicle_dmg_:Pt.constellation6[2]}},tle=n(e.asc,1,vn.passive1.dmg_,{unit:"%"}),[ale,Wf]=r(Bu,"a4EdictStacks"),n2=b(1,vn.passive2.maxStacks),zH=n(e.asc,4,v(Wf,_(n2,t=>d(t*vn.passive2.atk_)),y)),UH=n(e.constellation,1,vn.constellation1.dmg_),nle=P(tle,UH),VH=n(e.constellation,2,n(e.asc,4,v(Wf,_(n2,t=>d(t*vn.constellation2.dmg_)),y))),qH=n(e.constellation,6,vn.constellation6.skill_critRate_),JH=n(e.constellation,6,vn.constellation6.skill_critDMG_),MT=n(e.asc,1,c("atk",vn.charged.dmg,"charged",{premod:{charged_critRate_:qH,charged_critDMG_:JH,charged_dmg_:nle}})),Nl={normal:{...Object.fromEntries(vn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{dmg:c("atk",vn.charged.dmg,"charged"),rebukeDmg:MT},plunging:R("atk",vn.plunging),skill:{...Object.fromEntries(vn.normal.hitArr.map((t,o)=>[`enhanced_${o}`,c("atk",t,"normal",void 0,u(e.total.skillIndex,vn.skill.fistDmg,{unit:"%"}))])),hpCost:m(d(vn.skill.hpCost),e.total.hp)},burst:{skillDmg:c("atk",vn.burst.skillDmg,"burst"),bladeDmg:c("atk",vn.burst.bladeDmg,"burst")},passive1:{heal:Es("hp",Gi(e.constellation,4,vn.constellation4.heal+vn.passive1.hpRestore,vn.passive1.hpRestore),0)},constellation6:{icicleDmg:n(e.constellation,6,{...MT})}},QH=n(e.constellation,3,3),XH=n(e.constellation,5,3),sle=A(Bu,Ld.ele,Ld.region,Ld,Nl,{premod:{burstBoost:XH,autoBoost:QH,atk_:zH,burst_dmg_:VH}}),lle={key:Bu,name:ut.name,rarity:Ld.rarity,elementKey:Ld.ele,weaponTypeKey:Ld.weaponType,gender:"M",constellationName:ut.chg("constellationName"),title:ut.chg("title"),talent:{auto:ut.talentTem("auto",[{text:ut.chg("auto.fields.normal")},{fields:vn.normal.hitArr.map((t,o)=>({node:a(Nl.normal[o],{name:ut.chg(`auto.skillParams.${o}`),multi:o===3?2:void 0})}))},{text:ut.chg("auto.fields.charged")},{fields:[{node:a(Nl.charged.dmg,{name:ut.chg("auto.skillParams.5")})},{text:ut.chg("auto.skillParams.6"),value:vn.charged.stam}]},ut.headerTem("passive1",{fields:[{node:a(Nl.charged.rebukeDmg,{name:ut.ch("rebukeDmg")})},{node:a(Nl.passive1.heal,{name:s("healing")})}]}),ut.headerTem("constellation1",{fields:[{node:a(UH,{name:ut.ch("rebuke_dmg_"),unit:"%"})}]}),ut.headerTem("constellation6",{fields:[{node:a(Nl.constellation6.icicleDmg,{name:ut.ch("icicleDmg")})},{node:a(qH,{name:ut.ch("rebuke_critRate_"),unit:"%"})},{node:a(JH,{name:ut.ch("rebuke_critDMG_"),unit:"%"})}]}),{text:ut.chg("auto.fields.plunging")},{fields:[{node:a(Nl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Nl.plunging.low,{name:s("plunging.low")})},{node:a(Nl.plunging.high,{name:s("plunging.high")})}]}]),skill:ut.talentTem("skill",[{fields:[{node:a(Nl.skill.hpCost,{name:ut.chg("skill.skillParams.1")})},...vn.normal.hitArr.map((t,o)=>({node:a(Nl.skill[`enhanced_${o}`],{name:ut.chg(`auto.skillParams.${o}`),multi:o===3?2:void 0})})),{text:s("duration"),value:vn.skill.duration,unit:"s"},{text:s("cd"),value:vn.skill.cd,unit:"s"}]}]),burst:ut.talentTem("burst",[{fields:[{node:a(Nl.burst.skillDmg,{name:ut.chg("burst.skillParams.0"),multi:5})},{node:a(Nl.burst.bladeDmg,{name:ut.chg("burst.skillParams.1")})},{text:ut.chg("burst.skillParams.2"),value:vn.burst.cd,unit:"s"},{text:ut.chg("burst.skillParams.3"),value:vn.burst.bladeCd,unit:"s"},{text:s("energyCost"),value:vn.burst.enerCost}]}]),passive1:ut.talentTem("passive1"),passive2:ut.talentTem("passive2",[ut.condTem("passive2",{value:Wf,path:ale,name:ut.ch("a4Cond"),states:_(n2,t=>({name:l("stack",{count:t}),fields:[{node:zH}]}))}),ut.headerTem("constellation2",{canShow:M(Wf,void 0,1),fields:[{node:VH}]})]),passive3:ut.talentTem("passive3"),constellation1:ut.talentTem("constellation1"),constellation2:ut.talentTem("constellation2"),constellation3:ut.talentTem("constellation3",[{fields:[{node:QH}]}]),constellation4:ut.talentTem("constellation4"),constellation5:ut.talentTem("constellation5",[{fields:[{node:XH}]}]),constellation6:ut.talentTem("constellation6")}},ole=new I(lle,sle),td="Xiangling",s2="pyro",Lf=g.char.data[td],on=g.char.skillParam[td],wt=B(td,Lf.weaponType);let Ci=0,KT=0,xd=0,FT=0;const rn={normal:{hitArr:[on.auto[Ci++],on.auto[Ci++],on.auto[Ci++],on.auto[Ci++],on.auto[Ci++]]},charged:{dmg1:on.auto[Ci++],stamina:on.auto[Ci++][0]},plunging:{dmg:on.auto[Ci++],low:on.auto[Ci++],high:on.auto[Ci++]},skill:{press:on.skill[KT++],cd:on.skill[KT++][0]},burst:{dmg1:on.burst[xd++],dmg2:on.burst[xd++],dmg3:on.burst[xd++],dmgNado:on.burst[xd++],duration:on.burst[xd++][0],cd:on.burst[xd++][0],enerCost:on.burst[xd++][0]},passive2:{atk_bonus:on.passive2[FT++][0],duration:on.passive2[FT++][0]},constellation1:{pyroRes:on.constellation1[0],duration:on.constellation1[1]},constellation2:{duration1:on.constellation2[0],duration2:on.constellation2[1],dmg:on.constellation2[2]},constellation4:{durationInc:on.constellation4[0]},constellation6:{pyroDmg:on.constellation6[0]}},[ile,YH]=r(td,"afterChili"),[cle,rle]=kl(E.charKey,n(e.asc,4,i("afterChili",YH,d(rn.passive2.atk_bonus))),{path:"atk_"}),[dle,ZH]=r(td,"afterGuobaHit"),eE=n(e.constellation,1,i("afterGuobaHit",ZH,d(-rn.constellation1.pyroRes))),[mle,pb]=r(td,"afterPyronado"),l2=n(e.constellation,6,i("duringPyronado",pb,d(rn.constellation6.pyroDmg))),mv=m(l2,-1),ho={normal:Object.fromEntries(rn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",rn.charged.dmg1,"charged")},plunging:R("atk",rn.plunging),skill:{press:c("atk",rn.skill.press,"skill")},burst:{dmg1:c("atk",rn.burst.dmg1,"burst",{premod:{pyro_dmg_:mv}}),dmg2:c("atk",rn.burst.dmg2,"burst",{premod:{pyro_dmg_:mv}}),dmg3:c("atk",rn.burst.dmg3,"burst"),dmgNado:c("atk",rn.burst.dmgNado,"burst",{premod:{pyro_dmg_:mv}})},constellation2:{dmg:n(e.constellation,2,C(m(e.total.atk,d(rn.constellation2.dmg)),"elemental",{hit:{ele:p(s2)}}))}},tE=n(e.constellation,3,3),aE=n(e.constellation,5,3),ule=A(td,s2,"liyue",Lf,ho,{premod:{skillBoost:aE,burstBoost:tE},teamBuff:{premod:{atk_:rle,pyro_dmg_:l2,pyro_enemyRes_:eE}}}),gle={key:td,name:wt.name,rarity:Lf.rarity,elementKey:s2,weaponTypeKey:Lf.weaponType,gender:"F",constellationName:wt.chg("constellationName"),title:wt.chg("title"),talent:{auto:wt.talentTem("auto",[{text:wt.chg("auto.fields.normal")},{fields:rn.normal.hitArr.map((t,o)=>({node:a(ho.normal[o],{name:wt.chg(`auto.skillParams.${o}`),multi:o===2?2:o===3?4:void 0})}))},{text:wt.chg("auto.fields.charged")},{fields:[{node:a(ho.charged.dmg1,{name:wt.chg("auto.skillParams.5")})},{text:wt.chg("auto.skillParams.6"),value:rn.charged.stamina}]},{text:wt.chg("auto.fields.plunging")},{fields:[{node:a(ho.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ho.plunging.low,{name:s("plunging.low")})},{node:a(ho.plunging.high,{name:s("plunging.high")})}]}]),skill:wt.talentTem("skill",[{fields:[{node:a(ho.skill.press,{name:wt.chg("skill.skillParams.0")})},{text:wt.chg("skill.skillParams.1"),value:rn.skill.cd,unit:"s"}]},wt.condTem("passive2",{value:YH,path:ile,name:wt.ch("afterChili"),teamBuff:!0,states:{afterChili:{fields:[{node:cle},{text:s("duration"),value:rn.passive2.duration,unit:"s"}]}}}),wt.condTem("constellation1",{value:ZH,path:dle,name:wt.ch("afterGuobaHit"),teamBuff:!0,states:{afterGuobaHit:{fields:[{node:eE},{text:s("duration"),value:rn.constellation1.duration,unit:"s"}]}}})]),burst:wt.talentTem("burst",[{fields:[{node:a(ho.burst.dmg1,{name:wt.chg("burst.skillParams.0")})},{node:a(ho.burst.dmg2,{name:wt.chg("burst.skillParams.1")})},{node:a(ho.burst.dmg3,{name:wt.chg("burst.skillParams.2")})},{node:a(ho.burst.dmgNado,{name:wt.chg("burst.skillParams.3")})},{text:s("duration"),value:t=>t.get(e.constellation).value>=4?`${rn.burst.duration}s + ${rn.burst.duration*rn.constellation4.durationInc}s = ${rn.burst.duration*(1+rn.constellation4.durationInc)}`:rn.burst.duration,unit:"s"},{text:s("cd"),value:rn.burst.cd,unit:"s"},{text:s("energyCost"),value:rn.burst.enerCost}]},wt.headerTem("constellation4",{fields:[{text:l("durationInc"),value:rn.burst.duration*rn.constellation4.durationInc,unit:"s"}]}),wt.condTem("constellation6",{value:pb,path:mle,name:wt.ch("duringPyronado"),teamBuff:!0,states:{duringPyronado:{fields:[{node:l2},{text:wt.ch("c6Exception"),canShow:t=>t.get(e.constellation).value>=6&&t.get(pb).value==="duringPyronado"}]}}})]),passive1:wt.talentTem("passive1"),passive2:wt.talentTem("passive2"),passive3:wt.talentTem("passive3"),constellation1:wt.talentTem("constellation1"),constellation2:wt.talentTem("constellation2",[wt.fieldsTem("constellation2",{fields:[{value:rn.constellation2.dmg,node:a(ho.constellation2.dmg,{name:wt.ch("explosionDMG")})}]})]),constellation3:wt.talentTem("constellation3",[{fields:[{node:tE}]}]),constellation4:wt.talentTem("constellation4"),constellation5:wt.talentTem("constellation5",[{fields:[{node:aE}]}]),constellation6:wt.talentTem("constellation6")}},hle=new I(gle,ule),Yc="Xianyun",zd=g.char.data[Yc],ue=g.char.skillParam[Yc],Ke=B(Yc,zd.weaponType);let Cc=0,Sg=0,Lo=0;const ka={normal:{hitArr:[ue.auto[Cc++],ue.auto[Cc++],ue.auto[Cc++],ue.auto[Cc++]]},charged:{dmg:ue.auto[Cc++],stam:ue.auto[Cc++][0]},plunging:{dmg:ue.auto[Cc++],low:ue.auto[Cc++],high:ue.auto[Cc++]},skill:{trailDmg:ue.skill[Sg++],firstLeapDmg:ue.skill[Sg++],secondLeapDmg:ue.skill[Sg++],thirdLeapDmg:ue.skill[Sg++],cd:ue.skill[Sg++][0]},burst:{instantDmg:ue.burst[Lo++],coordinatedDmg:ue.burst[Lo++],instantHealFlat:ue.burst[Lo++],instantHealMult:ue.burst[Lo++],deviceHealFlat:ue.burst[Lo++],deviceHealMult:ue.burst[Lo++],deviceHealInterval:ue.burst[Lo++][0],dmgTriggers:ue.burst[Lo++][0],duration:ue.burst[Lo++][0],cd:ue.burst[Lo++][0],enerCost:ue.burst[Lo++][0]},passive1:{critRate:[ue.passive1[0][0],ue.passive1[1][0],ue.passive1[2][0],ue.passive1[3][0]],duration:ue.passive1[4][0]},passive2:{plunging_dmg_inc:ue.passive2[0][0],maxAtk:ue.passive2[1][0],triggerInterval:ue.passive2[2][0]},constellation2:{atk_:ue.constellation2[0],duration:ue.constellation2[1],plunging_dmg_inc_mult:ue.constellation2[2]},constellation4:{heal1:ue.constellation4[0],heal2:ue.constellation4[1],heal3:ue.constellation4[2],cd:ue.constellation4[3]},constellation6:{skill_critDMG_:[ue.constellation6[0],ue.constellation6[1],ue.constellation6[2]],cd:ue.constellation6[3]}},nE=b(1,4),[ple,sE]=r(Yc,"a1Stacks"),lE=n(e.asc,1,v(sE,_(nE,t=>d(ka.passive1.critRate[t-1])),y)),[kle,oE]=r(Yc,"a4HasStacks"),iE=n(e.asc,4,i(oE,"on",m(m(Gi(e.constellation,2,d((1+ka.constellation2.plunging_dmg_inc_mult)*ka.passive2.plunging_dmg_inc),d(ka.passive2.plunging_dmg_inc)),da(e.total.atk,p(ka.passive2.maxAtk)))))),[fle,cE]=r(Yc,"c2AfterSkill"),rE=n(e.constellation,2,i(cE,"on",ka.constellation2.atk_)),dE=b(1,3),[_le,mE]=r(Yc,"c6SkyladderUses"),uE=n(e.constellation,6,v(mE,_(dE,t=>d(ka.constellation6.skill_critDMG_[t-1])),y)),uv=t=>C(m(u(e.total.skillIndex,t,{unit:"%"}),e.total.atk),"plunging_impact",{premod:{plunging_critDMG_:uE}}),Ns={normal:{...Object.fromEntries(ka.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")]))},charged:{dmg:c("atk",ka.charged.dmg,"charged")},plunging:R("atk",ka.plunging),skill:{trailDmg:c("atk",ka.skill.trailDmg,"skill"),firstLeapDmg:uv(ka.skill.firstLeapDmg),secondLeapDmg:uv(ka.skill.secondLeapDmg),thirdLeapDmg:uv(ka.skill.thirdLeapDmg)},burst:{instantDmg:c("atk",ka.burst.instantDmg,"burst"),coordinatedDmg:c("atk",ka.burst.coordinatedDmg,"burst"),instantHeal:an("atk",ka.burst.instantHealMult,ka.burst.instantHealFlat,"burst"),deviceHeal:an("atk",ka.burst.deviceHealMult,ka.burst.deviceHealFlat,"burst")},passive2:{a4HasStacks_plunging_dmg_inc:iE},constellation4:{heal1:n(e.constellation,4,Es("atk",d(ka.constellation4.heal1),0)),heal2:n(e.constellation,4,Es("atk",d(ka.constellation4.heal2),0)),heal3:n(e.constellation,4,Es("atk",d(ka.constellation4.heal3),0))}},gE=n(e.constellation,3,3),hE=n(e.constellation,5,3),vle=A(Yc,zd.ele,zd.region,zd,Ns,{premod:{skillBoost:hE,burstBoost:gE,atk_:rE},teamBuff:{premod:{plunging_impact_dmgInc:iE,plunging_critRate_:lE}}}),ble={key:Yc,name:Ke.name,rarity:zd.rarity,elementKey:zd.ele,weaponTypeKey:zd.weaponType,gender:"F",constellationName:Ke.chg("constellationName"),title:Ke.chg("title"),talent:{auto:Ke.talentTem("auto",[{text:Ke.chg("auto.fields.normal")},{fields:ka.normal.hitArr.map((t,o)=>({node:a(Ns.normal[o],{name:Ke.chg(`auto.skillParams.${o}`)})}))},{text:Ke.chg("auto.fields.charged")},{fields:[{node:a(Ns.charged.dmg,{name:Ke.chg("auto.skillParams.4")})},{text:Ke.chg("auto.skillParams.5"),value:ka.charged.stam}]},{text:Ke.chg("auto.fields.plunging")},{fields:[{node:a(Ns.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Ns.plunging.low,{name:s("plunging.low")})},{node:a(Ns.plunging.high,{name:s("plunging.high")})}]}]),skill:Ke.talentTem("skill",[{fields:[{node:a(Ns.skill.trailDmg,{name:Ke.chg("skill.skillParams.0")})},{node:a(Ns.skill.firstLeapDmg,{name:Ke.chg("skill.skillParams.1"),textSuffix:"(1)"})},{node:a(Ns.skill.secondLeapDmg,{name:Ke.chg("skill.skillParams.1"),textSuffix:"(2)"})},{node:a(Ns.skill.thirdLeapDmg,{name:Ke.chg("skill.skillParams.1"),textSuffix:"(3)"})},{text:s("cd"),value:ka.skill.cd,unit:"s"}]},Ke.condTem("constellation2",{value:cE,path:fle,teamBuff:!0,name:l("afterUse.skill"),states:{on:{fields:[{node:rE},{text:s("duration"),value:ka.constellation2.duration,unit:"s"}]}}}),Ke.condTem("constellation6",{path:_le,value:mE,name:Ke.ch("c6Cond"),states:_(dE,t=>({name:`${t}`,fields:[{node:a(uE,{name:Ke.ch("wave_critDMG_"),unit:"%"})}]}))})]),burst:Ke.talentTem("burst",[{fields:[{node:a(Ns.burst.instantDmg,{name:Ke.chg("burst.skillParams.0")})},{node:a(Ns.burst.coordinatedDmg,{name:Ke.chg("burst.skillParams.1")})},{node:a(Ns.burst.instantHeal,{name:Ke.chg("burst.skillParams.2")})},{node:a(Ns.burst.deviceHeal,{name:Ke.chg("burst.skillParams.3")})},{text:l("interval"),value:ka.burst.deviceHealInterval,unit:"s",fixed:1},{text:s("duration"),value:ka.burst.duration,unit:"s"},{text:s("cd"),value:ka.burst.cd,unit:"s"},{text:s("energyCost"),value:ka.burst.enerCost}]},Ke.condTem("passive2",{value:oE,path:kle,teamBuff:!0,name:Ke.ch("a4Cond"),states:{on:{fields:[{node:Ns.passive2.a4HasStacks_plunging_dmg_inc}]}}})]),passive1:Ke.talentTem("passive1",[Ke.condTem("passive1",{value:sE,path:ple,teamBuff:!0,name:Ke.ch("a1Cond"),states:_(nE,t=>({name:l("stack",{count:t}),fields:[{node:lE},{text:s("duration"),value:ka.passive1.duration,unit:"s"}]}))})]),passive2:Ke.talentTem("passive2"),passive3:Ke.talentTem("passive3"),constellation1:Ke.talentTem("constellation1"),constellation2:Ke.talentTem("constellation2"),constellation3:Ke.talentTem("constellation3",[{fields:[{node:gE}]}]),constellation4:Ke.talentTem("constellation4",[Ke.fieldsTem("constellation4",{fields:[{node:a(Ns.constellation4.heal1,{name:Ke.ch("c4Heal"),textSuffix:"(1)"})},{node:a(Ns.constellation4.heal2,{name:Ke.ch("c4Heal"),textSuffix:"(2)"})},{node:a(Ns.constellation4.heal3,{name:Ke.ch("c4Heal"),textSuffix:"(3)"})}]})]),constellation5:Ke.talentTem("constellation5",[{fields:[{node:hE}]}]),constellation6:Ke.talentTem("constellation6")}},$le=new I(ble,vle),nc="Xiao",o2="anemo",zf=g.char.data[nc],wn=g.char.skillParam[nc],Ut=B(nc,zf.weaponType);let NT=0,Cg=0;const Gs={normal:{hitArr:[wn.auto[0],wn.auto[2],wn.auto[3],wn.auto[4],wn.auto[6],wn.auto[7]]},charged:{dmg1:wn.auto[8],stamina:wn.auto[9][0]},plunging:{dmg:wn.auto[10],low:wn.auto[11],high:wn.auto[12]},skill:{press:wn.skill[NT++],cd:wn.skill[NT++][0]},burst:{dmgBonus:wn.burst[Cg++],drain:wn.burst[Cg++],duration:wn.burst[Cg++][0],cd:wn.burst[Cg++][0],enerCost:wn.burst[Cg++][0]},passive1:{dmgBonus:wn.passive1[0][0]},passive2:{duration:wn.passive2[0][0],skillDmgBonus:wn.passive2[1][0],maxStacks:wn.passive2[2][0]},passive3:{staminaClimbingDec_:.2},constellation2:{enerRech_:wn.constellation2[0]},constellation4:{hpThresh:wn.constellation4[0],def_:wn.constellation4[1]},constellation6:{duration:wn.constellation6[0]}},Dd={normal:Object.fromEntries(Gs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",Gs.charged.dmg1,"charged")},plunging:R("atk",Gs.plunging),skill:{press:c("atk",Gs.skill.press,"skill")}},pE=n(e.constellation,3,3),kE=n(e.constellation,5,3),[yle,zg]=r(nc,"inBurst"),Tle=u(e.total.burstIndex,Gs.burst.dmgBonus,{unit:"%"}),q_=i("inBurst",zg,Tle,{unit:"%"}),fE={...q_},_E={...q_},Ple=u(e.total.burstIndex,Gs.burst.drain),wle=ss("inBurst",zg,o2),[xle,vE]=r(nc,"a1BurstStack"),bE=b(0,4),$E=n(e.asc,1,i("inBurst",zg,v(vE,Object.fromEntries(bE.map(t=>[t,m(Gs.passive1.dmgBonus,t+1)])),y))),[Dle,yE]=r(nc,"a4SkillStack"),TE=b(1,Gs.passive2.maxStacks),PE=n(e.asc,4,v(yE,Object.fromEntries(TE.map(t=>[t,m(Gs.passive2.skillDmgBonus,t)])),y)),[Sle,wE]=r(nc,"offField"),xE=n(e.constellation,2,i(wE,"on",Gs.constellation2.enerRech_)),[Cle,DE]=r(nc,"c4BelowHP"),SE=n(e.constellation,4,i("c4BelowHP",DE,Gs.constellation4.def_)),Ble=A(nc,o2,"liyue",zf,Dd,{premod:{skillBoost:pE,burstBoost:kE,normal_dmg_:q_,charged_dmg_:fE,plunging_dmg_:_E,all_dmg_:$E,skill_dmg_:PE,enerRech_:xE,def_:SE},infusion:{nonOverridableSelf:wle}}),Ale={key:nc,name:Ut.name,rarity:zf.rarity,elementKey:o2,weaponTypeKey:zf.weaponType,gender:"M",constellationName:Ut.chg("constellationName"),title:Ut.chg("title"),talent:{auto:Ut.talentTem("auto",[{text:Ut.chg("auto.fields.normal")},{fields:Gs.normal.hitArr.map((t,o)=>({node:a(Dd.normal[o],{name:Ut.chg(`auto.skillParams.${o}`),multi:o===0?2:void 0})}))},{text:Ut.chg("auto.fields.charged")},{fields:[{node:a(Dd.charged.dmg1,{name:Ut.chg("auto.skillParams.6")})},{text:Ut.chg("auto.skillParams.7"),value:Gs.charged.stamina}]},{text:Ut.chg("auto.fields.plunging")},{fields:[{node:a(Dd.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Dd.plunging.low,{name:s("plunging.low")})},{node:a(Dd.plunging.high,{name:s("plunging.high")})}]}]),skill:Ut.talentTem("skill",[{fields:[{node:a(Dd.skill.press,{name:Ut.chg("skill.skillParams.0")})},{text:Ut.chg("skill.skillParams.1"),value:Gs.skill.cd,unit:"s"},{text:l("charges"),value:t=>t.get(e.constellation).value>=1?3:2}]},Ut.condTem("passive2",{path:Dle,value:yE,name:Ut.ch("skillStack"),states:Object.fromEntries(TE.map(t=>[t,{name:l("uses",{count:t}),fields:[{node:PE}]}]))})]),burst:Ut.talentTem("burst",[{fields:[{text:s("cd"),value:Gs.burst.cd,unit:"s"},{text:s("energyCost"),value:Gs.burst.enerCost}]},Ut.condTem("burst",{path:yle,value:zg,name:Ut.ch("burst.inBurst"),states:{inBurst:{fields:[{text:H(Ba,{color:"anemo",children:l("infusion.anemo")})},{node:q_},{node:fE},{node:_E},{text:l("attackAoeInc")},{text:Ut.ch("burst.incJump")},{node:a(Ple,{name:Ut.ch("burst.lifeDrain_"),textSuffix:Ut.ch("burst.currentHPPerSec"),unit:"%"})},{text:s("duration"),value:Gs.burst.duration,unit:"s"}]}}}),Ut.condTem("passive1",{path:xle,value:vE,name:Ut.ch("burst.stack"),canShow:i("inBurst",zg,1),states:Object.fromEntries(bE.map(t=>[t,{name:l("seconds",{count:t*3}),fields:[{node:$E}]}]))})]),passive1:Ut.talentTem("passive1"),passive2:Ut.talentTem("passive2"),passive3:Ut.talentTem("passive3"),constellation1:Ut.talentTem("constellation1",[Ut.fieldsTem("constellation1",{fields:[{text:l("addlCharges"),value:1}]})]),constellation2:Ut.talentTem("constellation2",[Ut.condTem("constellation2",{value:wE,path:Sle,name:l("charOffField"),states:{on:{fields:[{node:xE}]}}})]),constellation3:Ut.talentTem("constellation3",[{fields:[{node:pE}]}]),constellation4:Ut.talentTem("constellation4",[Ut.condTem("constellation4",{path:Cle,value:DE,name:l("lessPercentHP",{percent:Gs.constellation4.hpThresh*100}),states:{c4BelowHP:{fields:[{node:SE}]}}})]),constellation5:Ut.talentTem("constellation5",[{fields:[{node:kE}]}]),constellation6:Ut.talentTem("constellation6")}},Ile=new I(Ale,Ble),ad="Xingqiu",i2="hydro",Uf=g.char.data[ad],Ts=g.char.skillParam[ad],gt=B(ad,Uf.weaponType);let Bg=0,rk=0;const ms={normal:{hitArr:[Ts.auto[0],Ts.auto[1],Ts.auto[2],Ts.auto[4],Ts.auto[5]]},charged:{hit1:Ts.auto[7],hit2:Ts.auto[8],stamina:Ts.auto[9][0]},plunging:{dmg:Ts.auto[10],low:Ts.auto[11],high:Ts.auto[12]},skill:{hit1:Ts.skill[Bg++],hit2:Ts.skill[Bg++],dmgRed_:Ts.skill[Bg++],duration:Ts.skill[Bg++][0],cd:Ts.skill[Bg++][0]},burst:{dmg:Ts.burst[rk++],duration:Ts.burst[rk++][0],cd:Ts.burst[rk++][0],cost:Ts.burst[rk++][0]},passive2:{hydro_dmg_:.2},constellation2:{hydro_enemyRes_:-.15,burst_duration:3},constellation4:{dmg_:1.5}},CE=n(e.asc,4,ms.passive2.hydro_dmg_),[Rle,BE]=r(ad,"c2"),AE=n(e.constellation,2,i(BE,"on",ms.constellation2.hydro_enemyRes_)),[Hle,IE]=r(ad,"skill"),[Ele,RE]=r(ad,"burst"),kb=a(Qs(n(e.constellation,4,i(RE,"on",1)),1,ms.constellation4.dmg_,Js),{name:l("dmgMult.skill"),unit:"%"}),HE=i(IE,"on",P(u(e.total.skillIndex,ms.skill.dmgRed_,{unit:"%"}),da(d(.24),m(d(.2),e.premod.hydro_dmg_)))),Ole=jn(n(e.asc,1,m(e.total.hp,d(.06)))),po={normal:Object.fromEntries(ms.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg1:c("atk",ms.charged.hit1,"charged"),dmg2:c("atk",ms.charged.hit2,"charged")},plunging:R("atk",ms.plunging),skill:{press1:c("atk",ms.skill.hit1,"skill",void 0,kb),press2:c("atk",ms.skill.hit2,"skill",void 0,kb),dmgRed_:HE},passive1:{healing:Ole},burst:{dmg:c("atk",ms.burst.dmg,"burst",{hit:{ele:p(i2)}})}},EE=n(e.constellation,3,3),OE=n(e.constellation,5,3),Mle=A(ad,i2,"liyue",Uf,po,{premod:{skillBoost:OE,burstBoost:EE,hydro_dmg_:CE},teamBuff:{premod:{hydro_enemyRes_:AE,dmgRed_:a(HE,{path:"dmgRed_"})}}}),Kle={key:ad,name:gt.name,rarity:Uf.rarity,elementKey:i2,weaponTypeKey:Uf.weaponType,gender:"M",constellationName:gt.chg("constellationName"),title:gt.chg("title"),talent:{auto:gt.talentTem("auto",[{text:gt.chg("auto.fields.normal")},{fields:ms.normal.hitArr.map((t,o)=>({node:a(po.normal[o],{name:gt.chg(`auto.skillParams.${o}`),multi:o===2||o===4?2:void 0})}))},{text:gt.chg("auto.fields.charged")},{fields:[{node:a(po.charged.dmg1,{name:gt.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:a(po.charged.dmg2,{name:gt.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:gt.chg("auto.skillParams.6"),value:ms.charged.stamina}]},{text:gt.chg("auto.fields.plunging")},{fields:[{node:a(po.plunging.dmg,{name:s("plunging.dmg")})},{node:a(po.plunging.low,{name:s("plunging.low")})},{node:a(po.plunging.high,{name:s("plunging.high")})}]}]),skill:gt.talentTem("skill",[{fields:[{node:a(po.skill.press1,{name:gt.chg("skill.skillParams.0"),textSuffix:"(1)"})},{node:a(po.skill.press2,{name:gt.chg("skill.skillParams.0"),textSuffix:"(2)"})},{text:gt.chg("skill.skillParams.2"),value:ms.skill.duration,unit:"s"},{text:gt.chg("skill.skillParams.3"),value:ms.skill.cd,unit:"s"}]},gt.condTem("skill",{teamBuff:!0,value:IE,path:Hle,name:gt.ch("skillCond"),states:{on:{fields:[{node:po.skill.dmgRed_}]}}})]),burst:gt.talentTem("burst",[{fields:[{node:a(po.burst.dmg,{name:gt.chg("burst.skillParams.0")})},{text:gt.chg("burst.skillParams.1"),value:t=>t.get(e.constellation).value>=2?`${ms.burst.duration}s + ${ms.constellation2.burst_duration}s = ${ms.burst.duration+ms.constellation2.burst_duration}`:`${ms.burst.duration}`,unit:"s"},{text:gt.chg("burst.skillParams.2"),value:ms.burst.cd,unit:"s"},{text:gt.chg("burst.skillParams.3"),value:ms.burst.cost}]},gt.condTem("constellation4",{value:RE,path:Ele,name:gt.ch("burstCond"),states:{on:{fields:[{node:kb}]}}})]),passive1:gt.talentTem("passive1",[gt.fieldsTem("passive1",{fields:[{node:a(po.passive1.healing,{name:s("healing")})}]})]),passive2:gt.talentTem("passive2",[gt.fieldsTem("passive2",{fields:[{node:CE}]})]),passive3:gt.talentTem("passive3"),constellation1:gt.talentTem("constellation1"),constellation2:gt.talentTem("constellation2",[gt.condTem("constellation2",{value:BE,path:Rle,teamBuff:!0,name:gt.ch("c2Cond"),states:{on:{fields:[{node:AE}]}}})]),constellation3:gt.talentTem("constellation3",[{fields:[{node:EE}]}]),constellation4:gt.talentTem("constellation4"),constellation5:gt.talentTem("constellation5",[{fields:[{node:OE}]}]),constellation6:gt.talentTem("constellation6")}},Fle=new I(Kle,Mle),Zc="Xinyan",c2="pyro",Vf=g.char.data[Zc],Vt=g.char.skillParam[Zc],ne=B(Zc,Vf.weaponType);let zo=0,Bi=0,Ag=0;const An={normal:{hitArr:[Vt.auto[zo++],Vt.auto[zo++],Vt.auto[zo++],Vt.auto[zo++]]},charged:{spin:Vt.auto[zo++],final:Vt.auto[zo++],stamina:Vt.auto[zo++][0],duration:Vt.auto[zo++][0]},plunging:{dmg:Vt.auto[zo++],low:Vt.auto[zo++],high:Vt.auto[zo++]},skill:{dmg:Vt.skill[Bi++],shieldArr:[{defShield_:Vt.skill[Bi++],baseShield:Vt.skill[Bi++]},{defShield_:Vt.skill[Bi++],baseShield:Vt.skill[Bi++]},{defShield_:Vt.skill[Bi++],baseShield:Vt.skill[Bi++]}],lvl3Dmg:Vt.skill[Bi++],duration:Vt.skill[Bi++][0],cd:Vt.skill[Bi++][0]},burst:{pressPhysDmg:Vt.burst[Ag++],dotPyroDmg:Vt.burst[Ag++],cd:Vt.burst[Ag++][0],enerCost:Vt.burst[Ag++][0],duration:Vt.burst[Ag++][0]},passive2:{physical_dmg_:Vt.passive2[0][0]},c1:{atkSPD_:Vt.constellation1[0],duration:Vt.constellation1[1],cd:Vt.constellation1[1]},c2:{burstphysical_critRate_:Vt.constellation2[0]},c4:{physical_enemyRes_:Vt.constellation4[0],duration:Vt.constellation4[1]},c6:{staminaChargedDec_:-Vt.constellation6[0],charged_atkBonus:Vt.constellation6[1]}},[Nle,ME]=r(Zc,"p2Shield"),KE=n(e.asc,4,i(ME,"on",An.passive2.physical_dmg_)),jle=i(e.activeCharKey,E.charKey,KE),[Gle,FE]=r(Zc,"c1Crit"),NE=n(e.constellation,1,i(FE,"on",An.c1.atkSPD_)),jE=n(e.constellation,2,An.c2.burstphysical_critRate_),[Wle,GE]=r(Zc,"c4Burst"),WE=n(e.constellation,4,i(GE,"on",An.c4.physical_enemyRes_)),LE=n(e.constellation,6,An.c6.staminaChargedDec_),[Lle,zE]=r(Zc,"c6Charged"),UE=n(e.constellation,6,i(zE,"on",m(e.total.def,d(An.c6.charged_atkBonus)))),Us={normal:Object.fromEntries(An.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{spin:c("atk",An.charged.spin,"charged"),final:c("atk",An.charged.final,"charged")},plunging:R("atk",An.plunging),skill:{dmg:c("atk",An.skill.dmg,"skill"),...Object.fromEntries(An.skill.shieldArr.map((t,o)=>[`normShield${o+1}`,bs("def",t.defShield_,t.baseShield,"skill")])),...Object.fromEntries(An.skill.shieldArr.map((t,o)=>[`pyroShield${o+1}`,Vn(c2,bs("def",t.defShield_,t.baseShield,"skill"))])),lvl3Dmg:c("atk",An.skill.lvl3Dmg,"skill")},burst:{pressPhysDmg:c("atk",An.burst.pressPhysDmg,"burst",{hit:{ele:p("physical")},premod:{burst_critRate_:jE}}),dotPyroDmg:c("atk",An.burst.dotPyroDmg,"burst")}},VE=n(e.constellation,3,3),qE=n(e.constellation,5,3),zle=A(Zc,c2,"liyue",Vf,Us,{teamBuff:{premod:{physical_dmg_:jle,physical_enemyRes_:WE}},premod:{skillBoost:VE,burstBoost:qE,atkSPD_:NE,staminaChargedDec_:LE,atk:UE}}),Ule={key:Zc,name:ne.name,rarity:Vf.rarity,elementKey:c2,weaponTypeKey:Vf.weaponType,gender:"F",constellationName:ne.chg("constellationName"),title:ne.chg("title"),talent:{auto:ne.talentTem("auto",[{text:ne.chg("auto.fields.normal")},{fields:An.normal.hitArr.map((t,o)=>({node:a(Us.normal[o],{name:ne.chg(`auto.skillParams.${o}`)})}))},{text:ne.chg("auto.fields.charged")},{fields:[{node:a(Us.charged.spin,{name:ne.chg("auto.skillParams.4")})},{node:a(Us.charged.final,{name:ne.chg("auto.skillParams.5")})},{text:ne.chg("auto.skillParams.6"),value:`${An.charged.stamina}/s`}]},ne.headerTem("constellation6",{fields:[{node:LE}]}),ne.condTem("constellation6",{value:zE,path:Lle,name:ne.ch("c6.duringCharge"),states:{on:{fields:[{node:UE}]}}}),{text:ne.chg("auto.fields.plunging")},{fields:[{node:a(Us.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Us.plunging.low,{name:s("plunging.low")})},{node:a(Us.plunging.high,{name:s("plunging.high")})}]}]),skill:ne.talentTem("skill",[{fields:[{node:a(Us.skill.dmg,{name:ne.chg("skill.skillParams.0")})},{node:a(Us.skill.normShield1,{name:ne.chg("skill.skillParams.1")})},{node:a(Us.skill.pyroShield1,{name:ne.ch("skill.pyroShield.1")})},{node:a(Us.skill.normShield2,{name:ne.chg("skill.skillParams.2")})},{node:a(Us.skill.pyroShield2,{name:ne.ch("skill.pyroShield.2")})},{node:a(Us.skill.normShield3,{name:ne.chg("skill.skillParams.3")})},{node:a(Us.skill.pyroShield3,{name:ne.ch("skill.pyroShield.3")})},{node:a(Us.skill.lvl3Dmg,{name:ne.chg("skill.skillParams.4")})},{text:ne.chg("skill.skillParams.5"),value:An.skill.duration,unit:"s"},{text:s("cd"),value:An.skill.cd,unit:"s"}]},ne.headerTem("passive1",{fields:[{text:ne.ch("p1.desc")}]}),ne.condTem("passive2",{value:ME,path:Nle,name:ne.ch("p2.activeShield"),teamBuff:!0,states:{on:{fields:[{node:a(KE,{path:"physical_dmg_"})}]}}}),ne.condTem("constellation4",{value:GE,path:Wle,name:ne.ch("c4.swingHit"),teamBuff:!0,states:{on:{fields:[{node:WE},{text:s("duration"),value:An.c4.duration,unit:"s"}]}}})]),burst:ne.talentTem("burst",[{fields:[{node:a(Us.burst.pressPhysDmg,{name:ne.chg("burst.skillParams.0")})},{node:a(Us.burst.dotPyroDmg,{name:ne.chg("burst.skillParams.1")})},{text:s("duration"),value:An.burst.duration,unit:"s"},{text:s("cd"),value:An.burst.cd,unit:"s"},{text:s("energyCost"),value:An.burst.enerCost}]},ne.headerTem("constellation2",{fields:[{node:a(jE,{name:ne.ch("c2.key_"),unit:"%"})},{text:ne.ch("c2.shield")}]})]),passive1:ne.talentTem("passive1"),passive2:ne.talentTem("passive2"),passive3:ne.talentTem("passive3"),constellation1:ne.talentTem("constellation1",[ne.condTem("constellation1",{value:FE,path:Gle,name:l("hitOp.crit"),states:{on:{fields:[{node:NE},{text:s("duration"),value:An.c1.duration,unit:"s"},{text:s("cd"),value:An.c1.cd,unit:"s"}]}}})]),constellation2:ne.talentTem("constellation2"),constellation3:ne.talentTem("constellation3",[{fields:[{node:VE}]}]),constellation4:ne.talentTem("constellation4"),constellation5:ne.talentTem("constellation5",[{fields:[{node:qE}]}]),constellation6:ne.talentTem("constellation6")}},Vle=new I(Ule,zle),Au="YaeMiko",JE="electro",qf=g.char.data[Au],xn=g.char.skillParam[Au],xt=B(Au,qf.weaponType);let pr=0,su=0,dk=0,qle=0;const gs={normal:{hitArr:[xn.auto[pr++],xn.auto[pr++],xn.auto[pr++]]},charged:{dmg:xn.auto[pr++],stamina:xn.auto[pr++][0]},plunging:{dmg:xn.auto[pr++],low:xn.auto[pr++],high:xn.auto[pr++]},skill:{dmg1:xn.skill[su++],dmg2:xn.skill[su++],dmg3:xn.skill[su++],dmg4:xn.skill[su++],duration:xn.skill[su++][0],cd:xn.skill[su++][0]},burst:{dmg:xn.burst[dk++],tenkoDmg:xn.burst[dk++],cd:xn.burst[dk++][0],enerCost:xn.burst[dk++][0]},passive2:{eleMas_dmg_:xn.passive2[qle++][0]},constellation1:{enerRest:xn.constellation1[0]},constellation2:{unknown1:xn.constellation2[0],aoeInc:xn.constellation2[1],unknown2:xn.constellation2[2]},constellation4:{ele_dmg_:xn.constellation4[0],duration:xn.constellation4[1]},constellation6:{defIgn_:xn.constellation6[0]}},[Jle,QE]=r(Au,"c4"),XE=n(e.constellation,4,i("hit",QE,gs.constellation4.ele_dmg_)),gv=n(e.constellation,6,gs.constellation6.defIgn_),Dl={normal:Object.fromEntries(gs.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",gs.charged.dmg,"charged")},plunging:R("atk",gs.plunging),skill:{dmg1:tz(e.constellation,2,c("atk",gs.skill.dmg1,"skill")),dmg2:c("atk",gs.skill.dmg2,"skill",{enemy:{defIgn:gv}}),dmg3:c("atk",gs.skill.dmg3,"skill",{enemy:{defIgn:gv}}),dmg4:n(e.constellation,2,c("atk",gs.skill.dmg4,"skill",{enemy:{defIgn:gv}}))},burst:{dmg:c("atk",gs.burst.dmg,"burst"),tenkoDmg:c("atk",gs.burst.tenkoDmg,"burst")},passive2:{nodeAsc4:n(e.asc,4,m(e.total.eleMas,d(gs.passive2.eleMas_dmg_,{fixed:2})))}},YE=n(e.constellation,3,3),ZE=n(e.constellation,5,3),Qle=A(Au,JE,"liyue",qf,Dl,{premod:{skillBoost:YE,burstBoost:ZE},total:{skill_dmg_:Dl.passive2.nodeAsc4},teamBuff:{premod:{electro_dmg_:XE}}}),Xle={key:Au,name:xt.name,rarity:qf.rarity,elementKey:JE,weaponTypeKey:qf.weaponType,gender:"F",constellationName:xt.chg("constellationName"),title:xt.chg("title"),talent:{auto:xt.talentTem("auto",[{text:xt.chg("auto.fields.normal")},{fields:gs.normal.hitArr.map((t,o)=>({node:a(Dl.normal[o],{name:xt.chg(`auto.skillParams.${o}`)})}))},{text:xt.chg("auto.fields.charged")},{fields:[{node:a(Dl.charged.dmg,{name:xt.chg("auto.skillParams.3")})},{text:xt.chg("auto.skillParams.4"),value:gs.charged.stamina}]},{text:xt.chg("auto.fields.plunging")},{fields:[{node:a(Dl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(Dl.plunging.low,{name:s("plunging.low")})},{node:a(Dl.plunging.high,{name:s("plunging.high")})}]}]),skill:xt.talentTem("skill",[{fields:[{node:a(Dl.skill.dmg1,{name:xt.chg("skill.skillParams.0")})},{node:a(Dl.skill.dmg2,{name:xt.chg("skill.skillParams.1")})},{node:a(Dl.skill.dmg3,{name:xt.chg("skill.skillParams.2")})},{node:a(Dl.skill.dmg4,{name:xt.chg("skill.skillParams.3")})},{text:xt.chg("skill.skillParams.4"),value:gs.skill.duration,unit:"s"},{text:xt.chg("skill.skillParams.5"),value:gs.skill.cd},{text:l("charges"),value:3}]},xt.headerTem("constellation2",{fields:[{text:l("aoeInc"),value:gs.constellation2.aoeInc*100,unit:"%"}]}),xt.condTem("constellation4",{value:QE,path:Jle,teamBuff:!0,name:xt.ch("c4"),states:{hit:{fields:[{node:XE},{text:s("duration"),value:gs.constellation4.duration,unit:"s"}]}}}),xt.headerTem("constellation6",{fields:[{text:xt.ch("c6"),value:gs.constellation6.defIgn_*100,unit:"%"}]})]),burst:xt.talentTem("burst",[{fields:[{node:a(Dl.burst.dmg,{name:xt.chg("burst.skillParams.0")})},{node:a(Dl.burst.tenkoDmg,{name:xt.chg("burst.skillParams.1")})},{text:xt.chg("burst.skillParams.2"),value:gs.burst.cd,unit:"s"},{text:xt.chg("burst.skillParams.3"),value:gs.burst.enerCost}]},xt.headerTem("constellation1",{fields:[{text:l("enerRegenPerHit"),value:gs.constellation1.enerRest}]})]),passive1:xt.talentTem("passive1"),passive2:xt.talentTem("passive2",[{fields:[{node:Dl.passive2.nodeAsc4}]}]),passive3:xt.talentTem("passive3"),constellation1:xt.talentTem("constellation1"),constellation2:xt.talentTem("constellation2"),constellation3:xt.talentTem("constellation3",[{fields:[{node:YE}]}]),constellation4:xt.talentTem("constellation4"),constellation5:xt.talentTem("constellation5",[{fields:[{node:ZE}]}]),constellation6:xt.talentTem("constellation6")}},Yle=new I(Xle,Qle),nd="Yanfei",Jf="pyro",Qf=g.char.data[nd],qt=g.char.skillParam[nd],Ze=B(nd,Qf.weaponType);let Ds=0,lu=0;const cn={normal:{hitArr:[qt.auto[Ds++],qt.auto[Ds++],qt.auto[Ds++]]},charged:{dmgArr:[qt.auto[Ds++],qt.auto[Ds++],qt.auto[Ds++],qt.auto[Ds++],qt.auto[Ds++]],unknown:{arr:[qt.auto[Ds++][0],qt.auto[Ds++][0],qt.auto[Ds++][0],qt.auto[Ds++][0],qt.auto[Ds++][0]]},stamina:qt.auto[Ds++][0],sealStaminaRed_:qt.auto[Ds++][0],maxSeals:3},plunging:{dmg:qt.auto[Ds++],low:qt.auto[Ds++],high:qt.auto[Ds++]},sealDuration:qt.auto[Ds++][0],skill:{dmg:qt.skill[0],cd:qt.skill[1][0]},burst:{dmg:qt.burst[lu++],charged_dmg_:qt.burst[lu++],duration:qt.burst[lu++][0],sealInterval:qt.burst[lu++][0],cd:qt.burst[lu++][0],enerCost:qt.burst[lu++][0]},passive1:{seal_pyro_dmg_:qt.passive1[0][0],duration:qt.passive1[1][0]},passive2:{dmg:d(qt.passive2[0][0])},c1:{sealStaminaRed_:qt.constellation1[0]},c2:{hpThresh:qt.constellation2[0],charged_critRate_:qt.constellation2[1]},c4:{hpShield_:qt.constellation4[0],duration:15},c6:{extraSeals:qt.constellation6[0]}},[Zle,eO]=r(nd,"afterBurst"),tO=i(eO,"on",u(e.total.burstIndex,cn.burst.charged_dmg_)),[eoe,aO]=r(nd,"p1Seals"),toe=b(1,4),nO=n(e.asc,1,m(v(aO,_(toe,t=>t===4?n(e.constellation,6,t):p(t)),y),cn.passive1.seal_pyro_dmg_)),[aoe,sO]=r(nd,"c2EnemyHp"),lO=n(e.constellation,2,i(sO,"on",cn.c2.charged_critRate_)),ni={normal:Object.fromEntries(cn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:Object.fromEntries(cn.charged.dmgArr.map((t,o)=>[o,o<4?c("atk",t,"charged"):n(e.constellation,6,c("atk",t,"charged"))])),plunging:R("atk",cn.plunging),skill:{dmg:c("atk",cn.skill.dmg,"skill")},burst:{dmg:c("atk",cn.burst.dmg,"burst")},passive2:{dmg:n(e.asc,4,C(m(e.total.atk,cn.passive2.dmg),"charged"))},constellation4:{pyro_shield:n(e.constellation,4,Vn(Jf,Ng(m(e.total.hp,cn.c4.hpShield_)))),norm_shield:n(e.constellation,4,Ng(m(e.total.hp,cn.c4.hpShield_)))}},oO=n(e.constellation,3,3),iO=n(e.constellation,5,3),noe=A(nd,Jf,"liyue",Qf,ni,{premod:{skillBoost:oO,burstBoost:iO,charged_dmg_:tO,charged_critRate_:lO,pyro_dmg_:nO}}),soe={key:nd,name:Ze.name,rarity:Qf.rarity,elementKey:Jf,weaponTypeKey:Qf.weaponType,gender:"F",constellationName:Ze.chg("constellationName"),title:Ze.chg("title"),talent:{auto:Ze.talentTem("auto",[{text:Ze.chg("auto.fields.normal")},{fields:cn.normal.hitArr.map((t,o)=>({node:a(ni.normal[o],{name:Ze.chg(`auto.skillParams.${o}`)})}))},{text:Ze.chg("auto.fields.charged")},{fields:[...cn.charged.dmgArr.map((t,o)=>({node:a(ni.charged[o],{name:Ze.ch(`charged.${o}`)})})),{text:Ze.chg("auto.skillParams.4"),value:cn.charged.stamina},{text:l("staminaDec_"),value:cn.charged.sealStaminaRed_*100,textSuffix:Ze.ch("perSeal"),unit:"%"},{text:Ze.ch("maxSeals"),value:t=>t.get(e.constellation).value>=6?cn.charged.maxSeals+cn.c6.extraSeals:cn.charged.maxSeals},{text:Ze.chg("auto.skillParams.6"),value:cn.sealDuration,unit:"s"}]},Ze.condTem("passive1",{value:aO,path:eoe,name:Ze.ch("passive1.sealsConsumed"),states:t=>Object.fromEntries(b(1,t.get(e.constellation).value>=6?4:3).map(o=>[o,{name:Ze.ch(`seals.${o}`),fields:[{node:nO},{text:s("duration"),value:cn.passive1.duration,unit:"s"}]}]))}),Ze.headerTem("passive2",{fields:[{node:a(ni.passive2.dmg,{name:Ze.ch("passive2.key")})}]}),Ze.headerTem("constellation6",{fields:[{text:Ze.ch("c6.maxSealInc"),value:cn.c6.extraSeals}]}),{text:Ze.chg("auto.fields.plunging")},{fields:[{node:a(ni.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ni.plunging.low,{name:s("plunging.low")})},{node:a(ni.plunging.high,{name:s("plunging.high")})}]}]),skill:Ze.talentTem("skill",[{fields:[{node:a(ni.skill.dmg,{name:Ze.chg("skill.skillParams.0")})},{text:s("cd"),value:cn.skill.cd,unit:"s"}]}]),burst:Ze.talentTem("burst",[{fields:[{node:a(ni.burst.dmg,{name:Ze.chg("burst.skillParams.0")})},{text:Ze.ch("burst.grantMax")},{text:s("cd"),value:cn.burst.cd,unit:"s"},{text:s("energyCost"),value:cn.burst.enerCost}]},Ze.condTem("burst",{value:eO,path:Zle,name:l("afterUse.burst"),states:{on:{fields:[{text:Ze.chg("burst.skillParams.2"),value:cn.burst.sealInterval,unit:"s"},{node:tO}]}}})]),passive1:Ze.talentTem("passive1"),passive2:Ze.talentTem("passive2"),passive3:Ze.talentTem("passive3"),constellation1:Ze.talentTem("constellation1",[{fields:[{text:Ze.ch("c1.sealChargedStam_"),value:cn.c1.sealStaminaRed_*-100,textSuffix:Ze.ch("perSeal"),unit:"%"},{text:l("incInterRes")}]}]),constellation2:Ze.talentTem("constellation2",[Ze.condTem("constellation2",{value:sO,path:aoe,name:l("enemyLessPercentHP",{percent:cn.c2.hpThresh*100}),states:{on:{fields:[{node:lO}]}}})]),constellation3:Ze.talentTem("constellation3",[{fields:[{node:oO}]}]),constellation4:Ze.talentTem("constellation4",[{fields:[{node:a(ni.constellation4.norm_shield,{name:s("dmgAbsorption")})},{node:a(ni.constellation4.pyro_shield,{name:l(`dmgAbsorption.${Jf}`)})},{text:s("duration"),value:cn.c4.duration,unit:"s"}]}]),constellation5:Ze.talentTem("constellation5",[{fields:[{node:iO}]}]),constellation6:Ze.talentTem("constellation6")}},loe=new I(soe,noe),sd="Yaoyao",cO="dendro",Xf=g.char.data[sd],ht=g.char.skillParam[sd],pt=B(sd,Xf.weaponType);let Ai=0,ou=0,kr=0;const va={normal:{hitArr:[ht.auto[Ai++],ht.auto[Ai++],ht.auto[Ai++],ht.auto[Ai++],ht.auto[Ai++]]},charged:{dmg:ht.auto[Ai++],stamina:ht.auto[Ai++][0]},plunging:{dmg:ht.auto[Ai++],low:ht.auto[Ai++],high:ht.auto[Ai++]},skill:{dmg:ht.skill[ou++],heal_hp_:ht.skill[ou++],heal_base:ht.skill[ou++],throwDuration:ht.skill[ou++][0],radishDuration:ht.skill[ou++][0],cd:ht.skill[ou++][0]},burst:{radish_dmg:ht.burst[kr++],radish_heal_hp:ht.burst[kr++],radish_heal_flat:ht.burst[kr++],skill_dmg:ht.burst[kr++],dendro_res_:ht.burst[kr++][0],moveSPD_:.15,legacyDuration:ht.burst[kr++][0],cd:ht.burst[kr++][0],cost:ht.burst[kr++][0]},passive2:{cd:ht.passive2[0][0],heal_hp:ht.passive2[1][0],duration:ht.passive2[2][0]},constellation1:{duration:ht.constellation1[0],dendro_dmg_:ht.constellation1[1],staminaRestore:ht.constellation1[2],cd:ht.constellation1[3]},constellation2:{energyRegen:ht.constellation2[0],cd:ht.constellation2[1]},constellation4:{eleMas_Hp:ht.constellation4[0],duration:ht.constellation4[1],maxEleMas:ht.constellation4[2]},constellation6:{dmg:ht.constellation6[0],heal_hp:ht.constellation6[1]}},[ooe,r2]=r(sd,"adeptalLegacy"),rO=i(r2,"on",va.burst.dendro_res_),dO=i(r2,"on",va.burst.moveSPD_),[ioe,mO]=r(sd,"c1Explode"),uO=n(e.constellation,1,i(mO,"on",va.constellation1.dendro_dmg_),{path:"dendro_dmg_",isTeamBuff:!0}),coe=i(e.activeCharKey,E.charKey,uO),[roe,gO]=r(sd,"c4AfterSkillBurst"),d2=n(e.constellation,4,i(gO,"on",da(m(d(va.constellation4.eleMas_Hp),e.premod.hp),va.constellation4.maxEleMas))),xl={normal:Object.fromEntries(va.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",va.charged.dmg,"charged")},plunging:R("atk",va.plunging),skill:{dmg:c("atk",va.skill.dmg,"skill"),heal:an("hp",va.skill.heal_hp_,va.skill.heal_base,"skill")},burst:{skillDmg:c("atk",va.burst.skill_dmg,"burst"),radish:c("atk",va.burst.radish_dmg,"burst"),radishHeal:an("hp",va.burst.radish_heal_hp,va.burst.radish_heal_flat,"burst")},passive2:{heal:n(e.asc,4,jn(m(d(va.passive2.heal_hp),e.total.hp)))},constellation4:{eleMas:d2},constellation6:{dmg:n(e.constellation,6,C(m(d(va.constellation6.dmg),e.total.atk),"burst")),heal:n(e.constellation,6,jn(m(d(va.constellation6.heal_hp),e.total.hp)))}},hO=n(e.constellation,3,3),pO=n(e.constellation,5,3),doe=A(sd,cO,"liyue",Xf,xl,{premod:{skillBoost:hO,burstBoost:pO,dendro_res_:rO,moveSPD_:dO},total:{eleMas:d2},teamBuff:{premod:{dendro_dmg_:coe}}}),moe={key:sd,name:pt.name,rarity:Xf.rarity,elementKey:cO,weaponTypeKey:Xf.weaponType,gender:"F",constellationName:pt.chg("constellationName"),title:pt.chg("title"),talent:{auto:pt.talentTem("auto",[{text:pt.chg("auto.fields.normal")},{fields:va.normal.hitArr.map((t,o)=>({node:a(xl.normal[o],{name:pt.chg(`auto.skillParams.${o+(o<3?0:-1)}`),textSuffix:o===2||o===3?`(${o-1})`:""})}))},{text:pt.chg("auto.fields.charged")},{fields:[{node:a(xl.charged.dmg,{name:pt.chg("auto.skillParams.4")})},{text:pt.chg("auto.skillParams.5"),value:va.charged.stamina}]},{text:pt.chg("auto.fields.plunging")},{fields:[{node:a(xl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(xl.plunging.low,{name:s("plunging.low")})},{node:a(xl.plunging.high,{name:s("plunging.high")})}]}]),skill:pt.talentTem("skill",[{fields:[{node:a(xl.skill.dmg,{name:pt.chg("skill.skillParams.0")})},{node:a(xl.skill.heal,{name:pt.chg("skill.skillParams.1")})},{text:pt.chg("skill.skillParams.2"),value:va.skill.throwDuration,unit:"s"},{text:pt.chg("skill.skillParams.3"),value:va.skill.radishDuration,unit:"s"},{text:s("cd"),value:va.skill.cd,unit:"s"}]}]),burst:pt.talentTem("burst",[{fields:[{node:a(xl.burst.skillDmg,{name:pt.chg("burst.skillParams.0")})},{node:a(xl.burst.radish,{name:pt.chg("burst.skillParams.1")})},{node:a(xl.burst.radishHeal,{name:pt.chg("burst.skillParams.2")})},{text:s("cd"),value:va.burst.cd,unit:"s"},{text:s("energyCost"),value:va.burst.cost}]},pt.condTem("burst",{path:ooe,value:r2,name:pt.ch("inLegacy"),states:{on:{fields:[{node:rO},{node:dO},{text:pt.chg("burst.skillParams.4"),value:va.burst.legacyDuration,unit:"s"}]}}}),pt.headerTem("constellation6",{fields:[{node:a(xl.constellation6.dmg,{name:pt.ch("megaDmg")})},{node:a(xl.constellation6.heal,{name:pt.ch("megaHeal")})}]})]),passive1:pt.talentTem("passive1"),passive2:pt.talentTem("passive2",[pt.fieldsTem("passive2",{fields:[{node:a(xl.passive2.heal,{name:s("contHealing")})},{text:l("interval"),value:va.passive2.cd,unit:"s"},{text:s("duration"),value:va.passive2.duration,unit:"s"}]})]),passive3:pt.talentTem("passive3"),constellation1:pt.talentTem("constellation1",[pt.condTem("constellation1",{path:ioe,value:mO,name:pt.ch("inExplosionAoE"),teamBuff:!0,states:{on:{fields:[{node:uO},{text:s("duration"),value:va.constellation1.duration,unit:"s"},{text:l("stamRestored"),value:va.constellation1.staminaRestore},{text:s("cd"),value:va.constellation1.cd,unit:"s"}]}}})]),constellation2:pt.talentTem("constellation2"),constellation3:pt.talentTem("constellation3",[{fields:[{node:hO}]}]),constellation4:pt.talentTem("constellation4",[pt.condTem("constellation4",{path:roe,value:gO,name:l("afterUse.skillOrBurst"),states:{on:{fields:[{node:d2},{text:s("duration"),value:va.constellation4.duration,unit:"s"}]}}})]),constellation5:pt.talentTem("constellation5",[{fields:[{node:pO}]}]),constellation6:pt.talentTem("constellation6")}},uoe=new I(moe,doe),Em="Yelan",m2="hydro",Yf=g.char.data[Em],ga=g.char.skillParam[Em],Ot=B(Em,Yf.weaponType);let Ii=0,mk=0,Ig=0;const bn={normal:{hitArr:[ga.auto[Ii++],ga.auto[Ii++],ga.auto[Ii++],ga.auto[Ii++]]},charged:{aimed:ga.auto[Ii++],aimedCharged:ga.auto[Ii++],barb:ga.auto[Ii++]},plunging:{dmg:ga.auto[Ii++],low:ga.auto[Ii++],high:ga.auto[Ii++]},skill:{dmg:ga.skill[mk++],resetChance:ga.skill[mk++][0],maxDuration:ga.skill[mk++][0],cd:ga.skill[mk++][0]},burst:{pressDmg:ga.burst[Ig++],throwDmg:ga.burst[Ig++],duration:ga.burst[Ig++][0],cd:ga.burst[Ig++][0],enerCost:ga.burst[Ig++][0]},passive1:{hp_Arr:[0,...ga.passive1.map(([t])=>t)]},passive2:{baseDmg_:ga.passive2[0][0],stackDmg_:ga.passive2[1][0],maxDmg_:ga.passive2[2][0],maxStacks:14},constellation1:{addlCharge:ga.constellation1[0]},constellation2:{arrowDmg_:ga.constellation2[0],cd:ga.constellation2[1]},constellation4:{bonusHp_:ga.constellation4[0],duration:ga.constellation4[1],maxHp_:ga.constellation4[2],maxStacks:4},constellation6:{charges:ga.constellation6[0],duration:ga.constellation6[1],dmg_:ga.constellation6[2]}},kO=n(e.asc,1,u(j.ele,bn.passive1.hp_Arr)),[goe,fO]=r(Em,"a4Stacks"),_O=b(0,bn.passive2.maxStacks),vO=n(e.asc,4,v(fO,Object.fromEntries(_O.map(t=>[t,P(d(bn.passive2.baseDmg_),m(t,d(bn.passive2.stackDmg_)))])),y)),hoe=i(E.charKey,e.activeCharKey,vO),[poe,bO]=r(Em,"c4Stacks"),$O=b(1,bn.constellation4.maxStacks),yO=n(e.constellation,4,v(bO,Object.fromEntries($O.map(t=>[t,m(t,d(bn.constellation4.bonusHp_))])),y)),uk={hit:{ele:p(m2)}},jl={normal:Object.fromEntries(bn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{aimed:c("atk",bn.charged.aimed,"charged"),aimedCharged:c("atk",bn.charged.aimedCharged,"charged",uk),barb:c("hp",bn.charged.barb,"charged",uk)},plunging:R("atk",bn.plunging),skill:{dmg:c("hp",bn.skill.dmg,"skill")},burst:{pressDmg:c("hp",bn.burst.pressDmg,"burst"),throwDmg:c("hp",bn.burst.throwDmg,"burst")},constellation2:{arrowDmg:n(e.constellation,2,C(m(d(bn.constellation2.arrowDmg_),e.total.hp),"burst",uk))},constellation6:{barbDmg:n(e.constellation,6,C(m(u(e.total.autoIndex,bn.charged.barb,{unit:"%"}),d(bn.constellation6.dmg_),e.total.hp),"charged",uk))}},TO=n(e.constellation,3,3),PO=n(e.constellation,5,3),koe=A(Em,m2,"liyue",Yf,jl,{premod:{skillBoost:PO,burstBoost:TO,hp_:kO},teamBuff:{premod:{all_dmg_:hoe,hp_:yO}}}),foe={key:Em,name:Ot.name,rarity:Yf.rarity,elementKey:m2,weaponTypeKey:Yf.weaponType,gender:"F",constellationName:Ot.chg("constellationName"),title:Ot.chg("title"),talent:{auto:Ot.talentTem("auto",[{text:Ot.chg("auto.fields.normal")},{fields:bn.normal.hitArr.map((t,o)=>({node:a(jl.normal[o],{name:Ot.chg(`auto.skillParams.${o}`),multi:o===3?2:void 0})}))},Ot.headerTem("constellation6",{fields:[{node:a(jl.constellation6.barbDmg,{name:Ot.ch("c6.dmg")})},{text:l("charges"),value:bn.constellation6.charges},{text:s("duration"),value:bn.constellation6.duration,unit:"s"}]}),{text:Ot.chg("auto.fields.charged")},{fields:[{node:a(jl.charged.aimed,{name:Ot.chg("auto.skillParams.4")})},{node:a(jl.charged.aimedCharged,{name:Ot.chg("auto.skillParams.5")})}]},{text:Ot.chg("auto.fields.breakthrough")},{fields:[{node:a(jl.charged.barb,{name:Ot.chg("auto.skillParams.6")})}]},{text:Ot.chg("auto.fields.plunging")},{fields:[{node:a(jl.plunging.dmg,{name:s("plunging.dmg")})},{node:a(jl.plunging.low,{name:s("plunging.low")})},{node:a(jl.plunging.high,{name:s("plunging.high")})}]}]),skill:Ot.talentTem("skill",[{fields:[{node:a(jl.skill.dmg,{name:Ot.chg("skill.skillParams.0")})},{text:Ot.chg("skill.skillParams.1"),value:bn.skill.maxDuration,unit:"s"},{text:s("cd"),value:bn.skill.cd,unit:"s"},{canShow:t=>t.get(e.constellation).value>=1,text:l("charges"),value:2}]},Ot.condTem("constellation4",{path:poe,value:bO,teamBuff:!0,name:Ot.ch("c4.condName"),states:Object.fromEntries($O.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:yO},{text:s("duration"),value:bn.constellation4.duration,unit:"s"}]}]))})]),burst:Ot.talentTem("burst",[{fields:[{node:a(jl.burst.pressDmg,{name:Ot.chg("burst.skillParams.0")})},{node:a(jl.burst.throwDmg,{name:Ot.chg("burst.skillParams.1")})},{text:s("duration"),value:bn.burst.duration,unit:"s"},{text:s("cd"),value:bn.burst.cd,unit:"s"},{text:s("energyCost"),value:bn.burst.enerCost}]},Ot.condTem("passive2",{path:goe,value:fO,teamBuff:!0,name:l("afterUse.burst"),states:Object.fromEntries(_O.map(t=>[t,{name:l("seconds",{count:t}),fields:[{node:a(vO,{path:"all_dmg_"})}]}]))}),Ot.headerTem("constellation2",{fields:[{node:a(jl.constellation2.arrowDmg,{name:Ot.ch("c2.dmg")})},{text:s("cd"),value:bn.constellation2.cd,unit:"s",fixed:1}]})]),passive1:Ot.talentTem("passive1",[Ot.fieldsTem("passive1",{fields:[{node:kO}]})]),passive2:Ot.talentTem("passive2"),passive3:Ot.talentTem("passive3"),constellation1:Ot.talentTem("constellation1",[Ot.fieldsTem("constellation1",{fields:[{text:l("addlCharges"),value:1}]})]),constellation2:Ot.talentTem("constellation2"),constellation3:Ot.talentTem("constellation3",[{fields:[{node:TO}]}]),constellation4:Ot.talentTem("constellation4"),constellation5:Ot.talentTem("constellation5",[{fields:[{node:PO}]}]),constellation6:Ot.talentTem("constellation6")}},_oe=new I(foe,koe),Vl="Yoimiya",br="pyro",Zf=g.char.data[Vl],ha=g.char.skillParam[Vl],he=B(Vl,Zf.weaponType),fa={normal:{hitArr:[ha.auto[0],ha.auto[1],ha.auto[2],ha.auto[3],ha.auto[4]]},charged:{hit:ha.auto[5],full:ha.auto[6],kindling:ha.auto[7]},plunging:{dmg:ha.auto[8],low:ha.auto[9],high:ha.auto[10]},skill:{dmg_:ha.skill[3],duration:ha.skill[1][0],cd:ha.skill[2][0]},burst:{dmg:ha.burst[0],exp:ha.burst[1],duration:ha.burst[3][0],cd:ha.burst[4][0],cost:ha.burst[5][0]},passive1:{pyro_dmg_:ha.passive1[0][0],duration:ha.passive1[1][0],maxStacks:10},passive2:{fixed_atk_:ha.passive2[0][0],var_atk_:ha.passive2[1][0],duration:ha.passive2[2][0]},constellation1:{burst_durationInc:ha.constellation1[0],atk_:ha.constellation1[1],duration:ha.constellation1[2]},constellation2:{pyro_dmg_:ha.constellation2[0],duration:ha.constellation2[1]},constellation3:{},constellation4:{cdRed:ha.constellation4[0]},constellation5:{},constellation6:{chance:ha.constellation6[0],dmg_:ha.constellation6[1]}},[voe,Tr]=r(Vl,"skill"),[boe,fb]=r(Vl,"burst"),[jT,_b]=r(Vl,"a1"),[$oe,wO]=r(Vl,"c1"),[yoe,xO]=r(Vl,"c2"),DO=n(e.constellation,3,3),SO=n(e.constellation,5,3),u2=Qs(Tr,"skill",a(u(e.total.skillIndex,fa.skill.dmg_),{name:l("dmgMult.normal"),unit:"%"}),Js),CO=v(_b,Object.fromEntries(b(1,fa.passive1.maxStacks).map(t=>[t,p(t)])),0),vb=n(e.asc,1,i(Tr,"skill",a(m(d(fa.passive1.pyro_dmg_),CO),{path:"pyro_dmg_"}))),BO=n(e.asc,4,i(fb,"on",M(e.activeCharKey,Vl,P(d(fa.passive2.fixed_atk_),m(d(fa.passive2.var_atk_),CO))))),Toe=n(e.constellation,1,i(wO,"c1",d(fa.constellation1.atk_))),AO=n(e.constellation,2,i(xO,"c2",d(fa.constellation2.pyro_dmg_),{path:"pyro_dmg_"})),Poe=fa.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal",{hit:{ele:Qs(Tr,"skill",br,"physical")}},u2)]),woe=fa.normal.hitArr.map((t,o)=>o===0||o===3?t.map(w=>w*2):t),xoe=woe.map((t,o)=>[o,n(e.constellation,6,i(Tr,"skill",C(m(u(e.total.autoIndex,t,{unit:"%"}),a(p(fa.constellation6.dmg_),{name:he.ch("c6Key_"),unit:"%"}),e.total.atk,u2),"normal",{hit:{ele:Qs(Tr,"skill",br,"physical")}})))]),si={normal:Object.fromEntries(Poe),charged:{hit:c("atk",fa.charged.hit,"charged"),full:c("atk",fa.charged.full,"charged",{hit:{ele:p(br)}}),kindling:c("atk",fa.charged.kindling,"charged",{hit:{ele:p(br)}})},plunging:R("atk",fa.plunging),skill:{},burst:{dmg:c("atk",fa.burst.dmg,"burst",{hit:{ele:p(br)}}),exp:c("atk",fa.burst.exp,"burst",{hit:{ele:p(br)}})},constellation6:Object.fromEntries(xoe)},Doe=A(Vl,br,"inazuma",Zf,si,{teamBuff:{premod:{atk_:BO}},premod:{skillBoost:DO,burstBoost:SO,atk_:Toe,pyro_dmg_:P(vb,AO)}}),Soe={key:Vl,name:he.name,rarity:Zf.rarity,elementKey:br,weaponTypeKey:Zf.weaponType,gender:"F",constellationName:he.chg("constellationName"),title:he.chg("title"),talent:{auto:he.talentTem("auto",[{text:he.chg("auto.fields.normal")},{fields:fa.normal.hitArr.map((t,o)=>({node:a(si.normal[o],{name:he.chg(`auto.skillParams.${o}`),multi:[0,3].includes(o)?2:void 0})}))},he.headerTem("constellation6",{canShow:i(Tr,"skill",1),fields:fa.normal.hitArr.map((t,o)=>({node:a(si.constellation6[o],{name:he.chg(`auto.skillParams.${o}`)})}))}),{text:he.chg("auto.fields.charged")},{fields:[{node:a(si.charged.hit,{name:he.chg("auto.skillParams.5")})},{node:a(si.charged.full,{name:he.chg("auto.skillParams.6")})},{node:a(si.charged.kindling,{name:he.chg("auto.skillParams.7")})}]},{text:he.chg("auto.fields.plunging")},{fields:[{node:a(si.plunging.dmg,{name:s("plunging.dmg")})},{node:a(si.plunging.low,{name:s("plunging.low")})},{node:a(si.plunging.high,{name:s("plunging.high")})}]}]),skill:he.talentTem("skill",[{fields:[{text:he.chg("skill.skillParams.2"),value:fa.skill.cd,unit:"s"}]},he.condTem("skill",{name:l("afterUse.skill"),path:voe,value:Tr,states:{skill:{fields:[{text:he.ch("normPyroInfus")},{node:u2},{text:he.chg("skill.skillParams.1"),value:fa.skill.duration,unit:"s"}]}}}),he.condTem("passive1",{canShow:i(Tr,"skill",1),value:_b,path:jT,name:he.chg("passive1.name"),states:Object.fromEntries(b(1,fa.passive1.maxStacks).map(t=>[t,{name:`${t} stack`,fields:[{node:vb},{text:s("duration"),value:fa.passive1.duration,unit:"s"}]}]))})]),burst:he.talentTem("burst",[{fields:[{node:a(si.burst.dmg,{name:he.chg("burst.skillParams.0")})},{node:a(si.burst.exp,{name:he.chg("burst.skillParams.1")})},{text:he.chg("burst.skillParams.2"),value:t=>fa.burst.duration+(t.get(e.constellation).value>=1?fa.constellation1.burst_durationInc:0),unit:"s"},{text:he.chg("burst.skillParams.3"),value:fa.burst.cd,unit:"s"},{text:he.chg("burst.skillParams.4"),value:60}]},he.headerTem("constellation1",{fields:[{text:l("durationInc"),value:fa.constellation1.burst_durationInc,unit:"s"}]}),he.condTem("constellation1",{name:he.ch("c1"),value:wO,path:$oe,states:{c1:{fields:[{node:p(fa.constellation1.atk_,{path:"atk_"})},{text:s("duration"),value:fa.constellation1.duration,unit:"s"}]}}})]),passive1:he.talentTem("passive1"),passive2:he.talentTem("passive2",[he.condTem("passive2",{teamBuff:!0,canShow:M(e.activeCharKey,Vl,1),path:boe,value:fb,name:l("afterUse.burst"),states:{on:{fields:[{node:BO},{text:s("duration"),value:fa.passive2.duration,unit:"s"}]}}}),he.condTem("passive1",{canShow:M(e.activeCharKey,Vl,i(fb,"on",n(e.asc,4,1))),teamBuff:!0,value:_b,path:jT,name:he.chg("passive1.name"),states:Object.fromEntries(b(1,fa.passive1.maxStacks).map(t=>[t,{name:`${t} stack`,fields:[{node:vb},{text:s("duration"),value:fa.passive1.duration,unit:"s"}]}]))})]),passive3:he.talentTem("passive3"),constellation1:he.talentTem("constellation1"),constellation2:he.talentTem("constellation2",[he.condTem("constellation2",{name:he.ch("c2"),value:xO,path:yoe,states:{c2:{fields:[{node:AO},{text:s("duration"),value:fa.constellation2.duration,unit:"s"}]}}})]),constellation3:he.talentTem("constellation3",[{fields:[{node:DO}]}]),constellation4:he.talentTem("constellation4"),constellation5:he.talentTem("constellation5",[{fields:[{node:SO}]}]),constellation6:he.talentTem("constellation6")}},Coe=new I(Soe,Doe),Cr="YunJin",IO="geo",e_=g.char.data[Cr],Xa=g.char.skillParam[Cr],Fe=B(Cr,e_.weaponType);let ao=0,iu=0,cu=0;const On={normal:{hitArr:[Xa.auto[ao++],Xa.auto[ao++],Xa.auto[ao++],Xa.auto[ao++],Xa.auto[ao++],Xa.auto[ao++],Xa.auto[ao++]]},charged:{dmg:Xa.auto[ao++],stamina:Xa.auto[ao++][0]},plunging:{dmg:Xa.auto[ao++],low:Xa.auto[ao++],high:Xa.auto[ao++]},skill:{shield_:Xa.skill[iu++],shield:Xa.skill[iu++],dmg:Xa.skill[iu++],dmg1:Xa.skill[iu++],dmg2:Xa.skill[iu++],cd:Xa.skill[iu++][0]},burst:{dmg:Xa.burst[cu++],dmgInc:Xa.burst[cu++],duration:Xa.burst[cu++][0],cd:Xa.burst[cu++][0],enerCost:Xa.burst[cu++][0],triggerNum:Xa.burst[cu++][0]},passive2:{dmgInc:Xa.passive2.map(t=>t[0])},constellation2:{normalInc:Xa.constellation2[0]},constellation4:{def_:Xa.constellation4[0],duration:Xa.constellation4[1]},constellation6:{atkSpd:Xa.constellation6[0]}},RO=n(e.asc,4,u(P(...ye.map(t=>n(j[t],1,1))),[0,...On.passive2.dmgInc],{unit:"%"})),[Boe,Ug]=r(Cr,"skill"),g2=i("on",Ug,P(m(e.premod.def,P(u(e.total.burstIndex,On.burst.dmgInc,{unit:"%"}),RO)))),bb=n(e.constellation,2,i("on",Ug,On.constellation2.normalInc)),[GT,$b]=r(Cr,"c4"),yb=n(e.constellation,4,i("on",$b,On.constellation4.def_)),HO=n(e.constellation,6,i("on",Ug,On.constellation6.atkSpd)),li={normal:Object.fromEntries(On.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",On.charged.dmg,"charged")},plunging:R("atk",On.plunging),skill:{dmg:c("def",On.skill.dmg,"skill"),dmg1:c("def",On.skill.dmg1,"skill"),dmg2:c("def",On.skill.dmg2,"skill"),shield:Vn("geo",bs("hp",On.skill.shield_,On.skill.shield,"skill"))},burst:{dmg:c("atk",On.burst.dmg,"burst"),dmgInc:g2}},EO=n(e.constellation,3,3),OO=n(e.constellation,5,3),Aoe=A(Cr,IO,"liyue",e_,li,{premod:{skillBoost:OO,burstBoost:EO,def_:yb},teamBuff:{premod:{atkSPD_:HO,normal_dmgInc:g2,normal_dmg_:bb}}}),Ioe={key:Cr,name:Fe.name,rarity:e_.rarity,elementKey:IO,weaponTypeKey:e_.weaponType,gender:"F",constellationName:Fe.chg("constellationName"),title:Fe.chg("title"),talent:{auto:Fe.talentTem("auto",[{text:Fe.chg("auto.fields.normal")},{fields:On.normal.hitArr.map((t,o)=>({node:a(li.normal[o],{name:Fe.chg(`auto.skillParams.${o+(o>2?-1:0)+(o>4?-1:0)}`),textSuffix:o===2||o===4?"(1)":o===3||o===5?"(2)":""})}))},{text:Fe.chg("auto.fields.charged")},{fields:[{node:a(li.charged.dmg,{name:Fe.chg("auto.skillParams.5")})},{text:Fe.chg("auto.skillParams.6"),value:On.charged.stamina}]},{text:Fe.chg("auto.fields.plunging")},{fields:[{node:a(li.plunging.dmg,{name:s("plunging.dmg")})},{node:a(li.plunging.low,{name:s("plunging.low")})},{node:a(li.plunging.high,{name:s("plunging.high")})}]}]),skill:Fe.talentTem("skill",[{fields:[{node:a(li.skill.dmg,{name:Fe.chg("skill.skillParams.0")})},{node:a(li.skill.dmg1,{name:Fe.chg("skill.skillParams.1")})},{node:a(li.skill.dmg2,{name:Fe.chg("skill.skillParams.2")})},{node:a(li.skill.shield,{name:Fe.chg("skill.skillParams.3")})},{text:Fe.chg("skill.skillParams.4"),value:t=>t.get(e.constellation).value>=1?`${On.skill.cd} - 18% = ${(On.skill.cd*(1-.18)).toFixed(2)}`:`${On.skill.cd}`,unit:"s"}]}]),burst:Fe.talentTem("burst",[{fields:[{node:a(li.burst.dmg,{name:Fe.chg("burst.skillParams.0")})},{text:Fe.chg("burst.skillParams.4"),value:On.burst.cd,unit:"s"},{text:Fe.chg("burst.skillParams.5"),value:On.burst.enerCost}]},Fe.condTem("burst",{teamBuff:!0,value:Ug,path:Boe,name:Fe.ch("burst"),states:{on:{fields:[{node:g2},{text:Fe.chg("burst.skillParams.2"),value:On.burst.duration,unit:"s"},{text:Fe.chg("burst.skillParams.3"),value:On.burst.triggerNum}]}}}),Fe.headerTem("constellation2",{fields:[{node:bb}]}),Fe.headerTem("constellation6",{fields:[{node:HO}]}),Fe.condTem("constellation4",{teamBuff:!0,canShow:M(e.activeCharKey,Cr,i(Ug,"on",1)),value:$b,path:GT,name:Fe.ch("c4"),states:{on:{fields:[{node:yb},{text:s("duration"),value:On.constellation4.duration,unit:"s"}]}}})]),passive1:Fe.talentTem("passive1"),passive2:Fe.talentTem("passive2",[Fe.fieldsTem("passive2",{fields:[{node:a(RO,{name:Fe.ch("a4Inc_"),unit:"%"})}]})]),passive3:Fe.talentTem("passive3"),constellation1:Fe.talentTem("constellation1"),constellation2:Fe.talentTem("constellation2",[{fields:[{node:bb}]}]),constellation3:Fe.talentTem("constellation3",[{fields:[{node:EO}]}]),constellation4:Fe.talentTem("constellation4",[Fe.condTem("constellation4",{value:$b,path:GT,name:Fe.ch("c4"),states:{on:{fields:[{node:yb},{text:s("duration"),value:On.constellation4.duration,unit:"s"}]}}})]),constellation5:Fe.talentTem("constellation5",[{fields:[{node:OO}]}]),constellation6:Fe.talentTem("constellation6")}},Roe=new I(Ioe,Aoe),Om="Zhongli",MO="geo",t_=g.char.data[Om],Ya=g.char.skillParam[Om],Dt=B(Om,t_.weaponType);let Uo=0,fr=0,gk=0,Hoe=0,hv=0;const Fn={normal:{hitArr:[Ya.auto[Uo++],Ya.auto[Uo++],Ya.auto[Uo++],Ya.auto[Uo++],Ya.auto[Uo++],Ya.auto[Uo++]]},charged:{dmg:Ya.auto[Uo++],stamina:Ya.auto[Uo++][0]},plunging:{dmg:Ya.auto[Uo++],low:Ya.auto[Uo++],high:Ya.auto[Uo++]},skill:{stele:Ya.skill[fr++],resonance:Ya.skill[fr++],pressCD:Ya.skill[fr++][0],holdDMG:Ya.skill[fr++],shield:Ya.skill[fr++],shield_:Ya.skill[fr++],shileDuration:Ya.skill[fr++][0],holdCD:Ya.skill[fr++][0],enemyRes_:-.2},burst:{dmg:Ya.burst[gk++],duration:Ya.burst[gk++],cd:Ya.burst[gk++][0],enerCost:Ya.burst[gk++][0]},passive1:{shield_:Ya.passive1[Hoe++][0]},passive2:{auto_:Ya.passive2[hv++][0],skill_:Ya.passive2[hv++][0],burst_:Ya.passive2[hv++][0]},constellation4:{durationInc:Ya.constellation4[1]},constellation6:{hp_:Ya.constellation6[1]}},[Eoe,KO]=r(Om,"skill"),FO=xu(Gc,t=>[`${t}_enemyRes_`,i("on",KO,d(Fn.skill.enemyRes_))]),[Ooe,NO]=r(Om,"p1"),jO=n(e.asc,1,v(NO,_(b(1,5),t=>d(Fn.passive1.shield_*t)),y)),h2=n(e.asc,4,m(d(Fn.passive2.auto_),e.premod.hp)),p2={...h2},k2={...h2},f2={...h2},_2=n(e.asc,4,m(d(Fn.passive2.skill_),e.premod.hp)),v2=n(e.asc,4,m(d(Fn.passive2.burst_),e.premod.hp)),Moe=n(e.constellation,6,jn(m(d(Fn.constellation6.hp_),e.total.hp))),ko={normal:Object.fromEntries(Fn.normal.hitArr.map((t,o)=>[o,c("atk",t,"normal")])),charged:{dmg:c("atk",Fn.charged.dmg,"charged")},plunging:R("atk",Fn.plunging),skill:{stele:c("atk",Fn.skill.stele,"skill"),resonance:c("atk",Fn.skill.resonance,"skill"),holdDMG:c("atk",Fn.skill.holdDMG,"skill"),shield:Vn("geo",bs("hp",Fn.skill.shield_,Fn.skill.shield,"skill"))},burst:{dmg:c("atk",Fn.burst.dmg,"burst")},passive2:{p4normalDmgInc:p2,p4ChargedDmgInc:k2,p4PlungingDmgInc:f2,p4SKillDmgInc:_2,p4BurstDmgInc:v2},constellation6:{heal:Moe}},GO=n(e.constellation,3,3),WO=n(e.constellation,5,3),Koe=A(Om,MO,"liyue",t_,ko,{premod:{skillBoost:GO,burstBoost:WO,normal_dmgInc:p2,charged_dmgInc:k2,plunging_dmgInc:f2,skill_dmgInc:_2,burst_dmgInc:v2},teamBuff:{premod:{shield_:jO,...FO}}}),Foe={key:Om,name:Dt.name,rarity:t_.rarity,elementKey:MO,weaponTypeKey:t_.weaponType,gender:"M",constellationName:Dt.chg("constellationName"),title:Dt.chg("title"),talent:{auto:Dt.talentTem("auto",[{text:Dt.chg("auto.fields.normal")},{fields:Fn.normal.hitArr.map((t,o)=>({node:a(ko.normal[o],{name:Dt.chg(`auto.skillParams.${o}`),multi:o===4?4:void 0})}))},{text:Dt.chg("auto.fields.charged")},{fields:[{node:a(ko.charged.dmg,{name:Dt.chg("auto.skillParams.6")})},{text:Dt.chg("auto.skillParams.7"),value:Fn.charged.stamina}]},{text:Dt.chg("auto.fields.plunging")},{fields:[{node:a(ko.plunging.dmg,{name:s("plunging.dmg")})},{node:a(ko.plunging.low,{name:s("plunging.low")})},{node:a(ko.plunging.high,{name:s("plunging.high")})}]}]),skill:Dt.talentTem("skill",[{fields:[{node:a(ko.skill.stele,{name:Dt.ch("skill.stele")})},{node:a(ko.skill.resonance,{name:Dt.ch("skill.resonance")})},{text:Dt.ch("skill.maxStele"),value:t=>t.get(e.constellation).value>=1?2:1},{node:a(ko.skill.holdDMG,{name:Dt.chg("skill.skillParams.2")})},{node:a(ko.skill.shield,{name:s("dmgAbsorption")})},{text:s("press.cd"),value:Fn.skill.pressCD,unit:"s"},{text:s("hold.cd"),value:Fn.skill.holdCD,unit:"s"},{text:Dt.chg("skill.skillParams.5"),value:Fn.skill.shileDuration,unit:"s"}]},Dt.condTem("skill",{value:KO,path:Eoe,teamBuff:!0,name:Dt.ch("skill.nearShield"),states:{on:{fields:Object.values(FO).map(t=>({node:t}))}}}),Dt.condTem("passive1",{value:NO,path:Ooe,teamBuff:!0,name:Dt.ch("p1cond"),states:_(b(1,5),t=>({name:l("stack",{count:t}),fields:[{node:jO}]}))})]),burst:Dt.talentTem("burst",[{fields:[{node:a(ko.burst.dmg,{name:Dt.chg("burst.skillParams.0")})},{text:Dt.chg("burst.skillParams.1"),value:t=>t.get(e.constellation).value<4?Fn.burst.duration[t.get(e.total.burstIndex).value]:`${Fn.burst.duration[t.get(e.total.burstIndex).value]}s + ${Fn.constellation4.durationInc}`,fixed:1,unit:"s"},{text:Dt.chg("burst.skillParams.2"),value:Fn.burst.cd,unit:"s"},{text:Dt.chg("burst.skillParams.3"),value:Fn.burst.enerCost}]}]),passive1:Dt.talentTem("passive1"),passive2:Dt.talentTem("passive2",[Dt.fieldsTem("passive2",{fields:[{node:p2},{node:k2},{node:f2},{node:_2},{node:v2}]})]),passive3:Dt.talentTem("passive3"),constellation1:Dt.talentTem("constellation1"),constellation2:Dt.talentTem("constellation2"),constellation3:Dt.talentTem("constellation3",[{fields:[{node:GO}]}]),constellation4:Dt.talentTem("constellation4"),constellation5:Dt.talentTem("constellation5",[{fields:[{node:WO}]}]),constellation6:Dt.talentTem("constellation6",[Dt.fieldsTem("constellation6",{fields:[{node:a(ko.constellation6.heal,{name:Dt.ch("c6heal")})}]})])}},Noe=new I(Foe,Koe),joe={Albedo:cJ,Alhaitham:fJ,Aloy:PJ,Amber:BJ,AratakiItto:jJ,Baizhu:VJ,Barbara:aQ,Beidou:rQ,Bennett:$Q,Candace:xQ,Charlotte:AQ,Chevreuse:MQ,Chiori:WQ,Chongyun:ZQ,Collei:oX,Cyno:uX,Dehya:fX,Diluc:wX,Diona:RX,Dori:WX,Eula:YX,Faruzan:iY,Fischl:gY,Freminet:_Y,Furina:CY,Gaming:EY,Ganyu:zY,Gorou:ZY,HuTao:dZ,Jean:TZ,KaedeharaKazuha:IZ,Kaeya:MZ,KamisatoAyaka:zZ,KamisatoAyato:eee,Kaveh:iee,Keqing:hee,Kirara:_ee,Klee:wee,KujouSara:Aee,KukiShinobu:Eee,Layla:jee,Lisa:Uee,Lynette:Zee,Lyney:rte,Mika:vte,Mona:wte,Nahida:Rte,Navia:Lte,Neuvillette:Jte,Nilou:sae,Ningguang:rae,Noelle:kae,Qiqi:yae,RaidenShogun:Aae,Razor:jae,Rosaria:qae,SangonomiyaKokomi:ene,Sayu:one,Shenhe:_ne,ShikanoinHeizou:Dne,Somnia:jne,Sucrose:qne,Tartaglia:Zne,Thoma:sse,Tighnari:mse,TravelerAnemoF:hse,TravelerGeoF:Ise,TravelerElectroF:xse,TravelerDendroF:bse,TravelerAnemoM:fse,TravelerGeoM:Ese,TravelerElectroM:Cse,TravelerDendroM:Tse,TravelerHydroF:Kse,TravelerHydroM:jse,Venti:Vse,Wanderer:ele,Wriothesley:ole,Xiangling:hle,Xianyun:$le,Xiao:Ile,Xingqiu:Fle,Xinyan:Vle,YaeMiko:Yle,Yanfei:loe,Yaoyao:uoe,Yelan:_oe,Yoimiya:Coe,YunJin:Roe,Zhongli:Noe};function t4e(t,o="F"){return joe[Goe(t,o)]}function Goe(t,o){return rP.includes(t)?`${t}${o}`:t}const ns=t=>H(zi,{ns:"elementalResonance_gen",key18:t}),Tb=t=>H(zi,{ns:"elementalResonance",key18:t}),Os=P(...ye.map(t=>j[t])),LO=xu(Gc,t=>[`${t}_res_`,kl(e.charKey,n(j.ele,4,d(.15)),{path:`${t}_res_`})]),Woe={name:ns("ProtectiveCanopy.name"),desc:ns("ProtectiveCanopy.desc"),icon:Fr("span",{children:[H(iz,{iconProps:pl})," x4"]}),canShow:t=>t.get(j.ele).value>=4,sections:[{teamBuff:!0,fields:Object.values(LO).map(([t,o])=>({node:o}))}]},[Loe,zoe]=kl(e.charKey,n(Os,4,n(j.pyro,2,d(.25))),{path:"atk_"}),Uoe={name:ns("FerventFlames.name"),desc:ns("FerventFlames.desc"),icon:Fr("span",{children:[H(Ay,{...pl})," ",H(Ay,{...pl})]}),canShow:t=>t.get(j.pyro).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,fields:[{text:l("effectDuration.cryo"),value:-40,unit:"%"},{node:Loe}]}]},[Voe,qoe]=kl(e.charKey,n(Os,4,n(j.hydro,2,d(.25))),{path:"hp_"}),Joe={name:ns("SoothingWater.name"),desc:ns("SoothingWater.desc"),icon:Fr("span",{children:[H(Iy,{...pl})," ",H(Iy,{...pl})]}),canShow:t=>t.get(j.hydro).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,fields:[{text:l("effectDuration.pyro"),value:-40,unit:"%"},{node:Voe}]}]},zO=["resonance","ShatteringIce"],UO=Wc(zO),[Qoe,Xoe]=kl(e.charKey,n(Os,4,n(j.cryo,2,i(UO,"on",d(.15)))),{path:"critRate_"}),Yoe={name:ns("ShatteringIce.name"),desc:ns("ShatteringIce.desc"),icon:Fr("span",{children:[H(w1,{...pl})," ",H(w1,{...pl})]}),canShow:t=>t.get(j.cryo).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,fields:[{text:l("effectDuration.electro"),value:-40,unit:"%"}]},{teamBuff:!0,path:zO,value:UO,name:l("enemyAffected.frozenOrCryo"),header:{title:ns("ShatteringIce.name"),icon:H(w1,{})},states:{on:{fields:[{node:Qoe}]}}}]},Zoe={name:ns("HighVoltage.name"),desc:ns("HighVoltage.desc"),icon:Fr("span",{children:[H(Ry,{...pl})," ",H(Ry,{...pl})]}),canShow:t=>t.get(j.electro).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,fields:[{text:l("effectDuration.hydro"),value:-40,unit:"%"}]}]},[eie,tie]=kl(e.charKey,n(Os,4,n(j.anemo,2,d(-.15))),{path:"staminaDec_"}),[aie,nie]=kl(e.charKey,n(Os,4,n(j.anemo,2,d(.1))),{path:"moveSPD_"}),[sie,lie]=kl(e.charKey,n(Os,4,n(j.anemo,2,d(-.05))),{path:"cdRed_"}),oie={name:ns("ImpetuousWinds.name"),desc:ns("ImpetuousWinds.desc"),icon:Fr("span",{children:[H(Hy,{...pl})," ",H(Hy,{...pl})]}),canShow:t=>t.get(j.anemo).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,fields:[{node:eie},{node:aie},{node:sie}]}]},VO=["resonance","EnduringRock"],qO=Wc(VO),JO=["resonance","EnduringRockHit"],QO=Wc(JO),[iie,cie]=kl(e.charKey,n(Os,4,n(j.geo,2,d(.15))),{path:"shield_"}),[rie,die]=kl(e.charKey,n(Os,4,n(j.geo,2,i(qO,"on",d(.15)))),{path:"all_dmg_"}),[,mie]=kl(E.charKey,die,{path:"all_dmg_"}),[uie,gie]=kl(e.charKey,n(Os,4,n(j.geo,2,i(QO,"on",d(-.2)))),{path:"geo_enemyRes_"}),hie={name:ns("EnduringRock.name"),desc:ns("EnduringRock.desc"),icon:Fr("span",{children:[H(Tp,{...pl})," ",H(Tp,{...pl})]}),canShow:t=>t.get(j.geo).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,text:ns("EnduringRock.desc"),fields:[{node:iie}]},{teamBuff:!0,path:VO,value:qO,header:{title:ns("EnduringRock.name"),icon:H(Tp,{})},name:l("protectedByShield"),states:{on:{fields:[{node:a(rie,{isTeamBuff:!1})}]}}},{teamBuff:!0,path:JO,value:QO,header:{title:ns("EnduringRock.name"),icon:H(Tp,{})},name:Tb("EnduringRock.hitCond"),states:{on:{fields:[{node:uie},{text:s("duration"),value:15,unit:"s"}]}}}]},XO=["resonance","SprawlingCanopy2ele"],YO=Wc(XO),ZO=["resonance","SprawlingCanopy3ele"],eM=Wc(ZO),[pie,kie]=kl(e.charKey,n(Os,4,n(j.dendro,2,50)),{path:"eleMas"}),[fie,_ie]=kl(e.charKey,n(Os,4,n(j.dendro,2,i(YO,"on",30))),{path:"eleMas"}),[vie,bie]=kl(e.charKey,n(Os,4,n(j.dendro,2,i(eM,"on",20))),{path:"eleMas"}),$ie={name:ns("SprawlingGreenery.name"),desc:ns("SprawlingGreenery.desc"),icon:Fr("span",{children:[H(Pp,{...pl})," ",H(Pp,{...pl})]}),canShow:t=>t.get(j.dendro).value>=2&&t.get(Os).value>=4,sections:[{teamBuff:!0,text:ns("SprawlingGreenery.desc"),fields:[{node:pie}]},{teamBuff:!0,path:XO,value:YO,header:{title:ns("SprawlingGreenery.name"),icon:H(Pp,{})},name:Tb("SprawlingGreenery.cond2ele"),states:{on:{fields:[{node:fie},{text:s("duration"),value:6,unit:"s"}]}}},{teamBuff:!0,path:ZO,value:eM,header:{title:ns("SprawlingGreenery.name"),icon:H(Pp,{})},name:Tb("SprawlingGreenery.cond3ele"),states:{on:{fields:[{node:vie},{text:s("duration"),value:6,unit:"s"}]}}}]},a4e=[Woe,Uoe,Joe,Yoe,Zoe,oie,hie,$ie],n4e=r_({teamBuff:{premod:{...az(LO,([t,o])=>o),atk_:zoe,hp_:qoe,staminaDec_:tie,moveSPD_:nie,cdRed_:lie,shield_:cie,geo_enemyRes_:gie,eleMas:a(P(kie,_ie,bie),{pivot:!0}),all_dmg_:mie},total:{critRate_:Xoe}}}),tM=class{constructor(t,o,w,D){this.passiveDescription=K=>this.hasRefinement?this.tr(`passiveDescription.${K}`):"",this.rarity=w.rarity,this.weaponType=w.weaponType,this.key=t,this.sheet=o,this.data=D}static trm(t){return O("weapon",t)[1]}static tr(t){return O("weapon",t)[0]}static getAllDataOfType(t){return Jye[t]}get tr(){return tM.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let k=tM;k.getWeaponsOfType=(t,o)=>Object.fromEntries(Object.entries(t).filter(([w,D])=>D.weaponType===o));k.getLevelString=t=>nz(t.level,t.ascension);function h(t,o){const w=k.tr(t);return{title:w("passiveName"),icon:D=>H(Wb,{size:2,src:sz(t,D.get(e.weapon.asc).value>=2)}),action:o&&H(Lb,{color:"success",children:o}),description:D=>w(`passiveDescription.${D.get(e.weapon.refinement).value-1}`)}}function f(t,o,w={},D={}){const K={base:{},premod:{},total:{},weapon:{key:p(t),type:p(o.weaponType)},display:{[`weapon:${t}`]:D}},{mainStat:$,subStat:S}=o,x=[K];if($.type!=="atk"&&$.type!=="def"&&$.type!=="hp")throw new Error("Main stat type must be `atk`");const pe=a(P(m($.base,u(e.weapon.lvl,g.weapon.expCurve[$.curve])),u(e.weapon.asc,o.ascensionBonus.atk??[])),{path:$.type});if(x.push({base:{[$.type]:e.weapon.main},weapon:{main:pe}}),S){if(S.type==="atk"||S.type==="def"||S.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const N=a(m(S.base,u(e.weapon.lvl,g.weapon.expCurve[S.curve])),{path:S.type});x.push({premod:{[S.type]:e.weapon.sub},weapon:{sub:N}})}return wu([...x,r_(w,t)])}const Iu="AlleyHunter",aM=g.weapon.data[Iu],[,yie]=O("weapon",Iu),Tie=[-1,.02,.025,.03,.035,.04],[Pie,nM]=r(Iu,"OppidanAmbush"),sM=v(nM,{..._(b(1,10),t=>m(u(e.weapon.refinement,Tie),t))},y),wie=f(Iu,aM,{premod:{all_dmg_:sM}}),xie={document:[{value:nM,path:Pie,header:h(Iu,l("conditional")),name:yie("condName"),states:Object.fromEntries(b(1,10).map(t=>[t,{name:l("seconds",{count:t}),fields:[{node:sM}]}]))}]},Die=new k(Iu,xie,aM,wie),Ud="AmosBow",lM=g.weapon.data[Ud],[,Sie]=O("weapon",Ud),oM=[-1,.12,.15,.18,.21,.24],Cie=[-1,.08,.1,.12,.14,.16],[Bie,b2]=r(Ud,"StrongWilled"),iM=u(e.weapon.refinement,oM,{path:"normal_dmg_"}),cM=u(e.weapon.refinement,oM,{path:"charged_dmg_"}),rM=u(e.weapon.refinement,Cie),dM=v(b2,{..._(b(1,5),t=>m(rM,t))},y,{path:"normal_dmg_"}),mM=v(b2,{..._(b(1,5),t=>m(rM,t))},y,{path:"charged_dmg_"}),Aie=f(Ud,lM,{premod:{normal_dmg_:P(iM,dM),charged_dmg_:P(cM,mM)}}),Iie={document:[{header:h(Ud,l("base")),fields:[{node:iM},{node:cM}]},{value:b2,path:Bie,header:h(Ud,l("stacks")),name:Sie("condName"),states:_(b(1,5),t=>({name:l("seconds",{count:t/10}),fields:[{node:dM},{node:mM}]}))}]},Rie=new k(Ud,Iie,lM,Aie),Vd="AquaSimulacra",uM=g.weapon.data[Vd],[,Hie]=O("weapon",Vd),Eie=[-1,.16,.2,.24,.28,.32],Oie=[-1,.2,.25,.3,.35,.4],[Mie,gM]=r(Vd,"passive"),hM=u(e.weapon.refinement,Eie),pM=i(gM,"on",u(e.weapon.refinement,Oie)),Kie=f(Vd,uM,{premod:{hp_:hM,all_dmg_:pM}}),Fie={document:[{header:h(Vd,l("base")),fields:[{node:hM}]},{value:gM,path:Mie,header:h(Vd,l("conditional")),name:Hie("condName"),states:{on:{fields:[{node:pM}]}}}]},Nie=new k(Vd,Fie,uM,Kie),gh="BlackcliffWarbow",kM=g.weapon.data[gh],jie=[-1,.12,.15,.18,.21,.24],[Gie,fM]=r(gh,"PressTheAdvantage"),_M=v(fM,{..._(b(1,3),t=>m(u(e.weapon.refinement,jie),t))},y),Wie=f(gh,kM,{premod:{atk_:_M}}),Lie={document:[{value:fM,path:Gie,header:h(gh,l("stacks")),name:l("afterDefeatEnemy"),states:Object.fromEntries(b(1,3).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:_M},{text:s("duration"),value:30,unit:"s"}]}]))}]},zie=new k(gh,Lie,kM,Wie),hh="CompoundBow",vM=g.weapon.data[hh],Uie=[-1,.04,.05,.06,.07,.08],Vie=[-1,.012,.015,.018,.021,.024],[qie,$2]=r(hh,"InfusionArrow"),bM=v($2,{..._(b(1,4),t=>m(u(e.weapon.refinement,Uie),t))},y),$M=v($2,{..._(b(1,4),t=>m(u(e.weapon.refinement,Vie),t))},y),Jie=f(hh,vM,{premod:{atk_:bM,atkSPD_:$M}}),Qie={document:[{value:$2,path:qie,header:h(hh,l("stacks")),name:l("hitOp.normalOrCharged"),states:Object.fromEntries(b(1,4).map(t=>[t,{name:l("hits",{count:t}),fields:[{node:bM},{node:$M}]}]))}]},Xie=new k(hh,Qie,vM,Jie),qd="ElegyForTheEnd",[,Yie]=O("weapon",qd),yM=g.weapon.data[qd],Zie=[-1,60,75,90,105,120],ece=[-1,100,125,150,175,200],tce=[-1,.2,.25,.3,.35,.4],[ace,y2]=r(qd,"ThePartingRefrain"),TM=u(e.weapon.refinement,Zie,{path:"eleMas"}),PM=i(y2,"on",u(e.weapon.refinement,ece,{path:"eleMas"})),wM=i(y2,"on",u(e.weapon.refinement,tce)),nce=f(qd,yM,{premod:{eleMas:TM},teamBuff:{premod:{atk_:wM,eleMas:PM}}}),sce={document:[{header:h(qd,l("base")),fields:[{node:TM}]},{value:y2,path:ace,teamBuff:!0,header:h(qd,l("conditional")),name:Yie("condName"),states:{on:{fields:[{node:PM},{node:wM},{text:s("duration"),value:12,unit:"s"}]}}}]},lce=new k(qd,sce,yM,nce),ph="EndOfTheLine",xM=g.weapon.data[ph],oce=[-1,.8,1,1.2,1.4,1.6],DM=i(e.weapon.key,ph,C(m(u(e.weapon.refinement,oce,{unit:"%"}),e.total.atk),"elemental")),ice=f(ph,xM,void 0,{dmg:DM}),cce={document:[{header:h(ph,l("base")),fields:[{node:a(DM,{name:l("dmg")})}]}]},rce=new k(ph,cce,xM,ice),Ru="FadingTwilight",SM=g.weapon.data[Ru],[,WT]=O("weapon",Ru),[dce,CM]=r(Ru,"state"),BM={evengleam:u(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:u(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:u(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},AM=v(CM,BM,y),mce=f(Ru,SM,{premod:{all_dmg_:AM}}),uce={document:[{value:CM,path:dce,header:h(Ru,l("conditional")),name:WT("condName"),states:Object.fromEntries(Object.keys(BM).map(t=>[t,{name:WT(`states.${t}`),fields:[{node:AM}]}]))}]},gce=new k(Ru,uce,SM,mce),J_="FavoniusWarbow",IM=g.weapon.data[J_],hce=f(J_,IM),pce={document:[{header:h(J_),fields:[]}]},kce=new k(J_,pce,IM,hce),Jd="Hamayumi",RM=g.weapon.data[Jd],[,fce]=O("weapon",Jd),HM=[-1,.16,.2,.24,.28,.32],EM=[-1,.12,.15,.18,.21,.24],OM=u(e.weapon.refinement,HM,{path:"normal_dmg_"}),MM=u(e.weapon.refinement,EM,{path:"charged_dmg_"}),[_ce,T2]=r(Jd,"FullDraw"),KM=i(T2,"on",u(e.weapon.refinement,HM,{path:"normal_dmg_"})),FM=i(T2,"on",u(e.weapon.refinement,EM,{path:"charged_dmg_"})),vce=f(Jd,RM,{premod:{normal_dmg_:P(OM,KM),charged_dmg_:P(MM,FM)}}),bce={document:[{header:h(Jd,l("base")),fields:[{node:OM},{node:MM}]},{value:T2,path:_ce,name:fce("condName"),header:h(Jd,l("conditional")),states:{on:{fields:[{node:KM},{node:FM}]}}}]},$ce=new k(Jd,bce,RM,vce),P2="HuntersBow",w2=g.weapon.data[P2],yce=f(P2,w2),Tce={...w2,document:[]},Pce=new k(P2,Tce,w2,yce),_u="HuntersPath",NM=g.weapon.data[_u],wce=[-1,.12,.15,.18,.21,.24],jM=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,u(e.weapon.refinement,wce,{unit:"%"})])),xce=[-1,1.6,2,2.4,2.8,3.2],[Dce,GM]=r(_u,"passive"),WM=i(GM,"on",m(u(e.weapon.refinement,xce,{unit:"%"}),e.total.eleMas)),Sce=f(_u,NM,{premod:{...jM,charged_dmgInc:WM}}),Cce={document:[{header:h(_u,l("base")),fields:Object.values(jM).map(t=>({node:t}))},{value:GM,path:Dce,header:h(_u,l("conditional")),name:l("hitOp.charged"),states:{on:{fields:[{node:WM},{text:s("duration"),value:10,unit:"s"},{text:l("charges"),value:12},{text:s("cd"),value:12,unit:"s"}]}}}]},Bce=new k(_u,Cce,NM,Sce),kh="IbisPiercer",LM=g.weapon.data[kh],zM=b(1,2),Ace=[-1,40,50,60,70,80],[Ice,UM]=r(kh,"passiveStacks"),VM=v(UM,_(zM,t=>m(u(e.weapon.refinement,Ace),t)),y),Rce=f(kh,LM,{premod:{eleMas:VM}}),Hce={document:[{value:UM,path:Ice,header:h(kh,l("stacks")),name:l("hitOp.charged"),states:Object.fromEntries(zM.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:VM},{text:s("duration"),value:6,unit:"s"}]}]))}]},Ece=new k(kh,Hce,LM,Rce),Qd="KingsSquire",qM=g.weapon.data[Qd],[Oce,JM]=r(Qd,"passive"),Mce=[-1,60,80,100,120,140],QM=i(JM,"on",u(e.weapon.refinement,Mce)),Kce=[-1,1,1.2,1.4,1.6,1.8],XM=i(e.weapon.key,Qd,C(m(u(e.weapon.refinement,Kce,{unit:"%"}),e.total.atk),"elemental")),Fce=f(Qd,qM,{premod:{eleMas:QM}},{dmg:XM}),Nce={document:[{header:h(Qd,l("base")),fields:[{node:a(XM,{name:l("dmg")})}]},{value:JM,path:Oce,header:h(Qd,l("conditional")),name:l("afterUse.skillOrBurst"),states:{on:{fields:[{node:QM},{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:20,unit:"s"}]}}}]},jce=new k(Qd,Nce,qM,Fce),fh="Messenger",YM=g.weapon.data[fh],Gce=[-1,1,1.25,1.5,1.75,2],ZM=i(e.weapon.key,fh,C(m(u(e.weapon.refinement,Gce),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Wce=f(fh,YM,void 0,{dmg:ZM}),Lce={document:[{header:h(fh,l("base")),fields:[{node:a(ZM,{name:l("dmg")})}]}]},zce=new k(fh,Lce,YM,Wce),Xd="MitternachtsWaltz",eK=g.weapon.data[Xd],Uce=[-1,.2,.25,.3,.35,.4],Vce=[-1,.2,.25,.3,.35,.4],[qce,tK]=r(Xd,"EvernightDuetSkill"),[Jce,aK]=r(Xd,"EvernightDuetNormal"),nK=i(tK,"on",u(e.weapon.refinement,Uce)),sK=i(aK,"on",u(e.weapon.refinement,Vce)),Qce=f(Xd,eK,{premod:{skill_dmg_:nK,normal_dmg_:sK}}),Xce={document:[{value:aK,path:Jce,header:h(Xd,l("conditional")),name:l("hitOp.skill"),states:{on:{fields:[{node:sK},{text:s("duration"),value:5,unit:"s"}]}}},{value:tK,path:qce,header:h(Xd,l("conditional")),name:l("hitOp.normal"),states:{on:{fields:[{node:nK},{text:s("duration"),value:5,unit:"s"}]}}}]},Yce=new k(Xd,Xce,eK,Qce),Hu="MouunsMoon",lK=g.weapon.data[Hu],[,Zce]=O("weapon",Hu),[ere,oK]=r(Hu,"WatatsumiWavewalker"),iK=b(4,36).map(t=>t*10),tre=[-1,.0012,.0015,.0018,.0021,.0024],are=[-1,.4,.5,.6,.7,.8],cK=v(oK,Object.fromEntries(iK.map(t=>[t,da(m(u(e.weapon.refinement,tre,{unit:"%"}),t),u(e.weapon.refinement,are,{unit:"%"}))])),y),nre=f(Hu,lK,{premod:{burst_dmg_:cK}}),sre={document:[{value:oK,path:ere,header:h(Hu,l("conditional")),name:Zce("party"),states:Object.fromEntries(iK.map(t=>[t,{name:t.toString(),fields:[{node:cK}]}]))}]},lre=new k(Hu,sre,lK,nre),Yd="PolarStar",rK=g.weapon.data[Yd],[,ore]=O("weapon",Yd),dK=[-1,.12,.15,.18,.21,.24],ire=[-1,.1,.125,.15,.175,.2],cre=[-1,.2,.25,.3,.35,.4],rre=[-1,.3,.375,.45,.528,.6],dre=[-1,.48,.6,.72,.84,.96],[mre,mK]=r(Yd,"GoldenMajesty"),uK=u(e.weapon.refinement,dK),gK=u(e.weapon.refinement,dK),hK=v(mK,{1:u(e.weapon.refinement,ire),2:u(e.weapon.refinement,cre),3:u(e.weapon.refinement,rre),4:u(e.weapon.refinement,dre)},y),ure=f(Yd,rK,{premod:{skill_dmg_:uK,burst_dmg_:gK,atk_:hK}}),gre={document:[{header:h(Yd,l("base")),fields:[{node:uK},{node:gK}]},{value:mK,path:mre,header:h(Yd,l("stacks")),name:ore("condName"),states:_(b(1,4),t=>({name:l("stack",{count:t}),fields:[{node:hK}]}))}]},hre=new k(Yd,gre,rK,ure),_h="Predator",pK=g.weapon.data[_h],pre=d(.1),kre=d(.1),[fre,x2]=r(_h,"PressTheAdvantage"),kK=v(x2,{..._(b(1,2),t=>m(pre,t))},y),fK=v(x2,{..._(b(1,2),t=>m(kre,t))},y),_re=i(e.activeCharKey,"Aloy",66),vre=f(_h,pK,{premod:{normal_dmg_:kK,charged_dmg_:fK,atk:_re}}),bre={document:[{value:x2,path:fre,header:h(_h,l("stacks")),name:l("hitOp.cryo"),states:Object.fromEntries(b(1,2).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:kK},{node:fK},{text:s("duration"),value:6,unit:"s"}]}]))}]},$re=new k(_h,bre,pK,vre),vh="PrototypeCrescent",_K=g.weapon.data[vh],yre=[-1,.36,.45,.54,.63,.72],[Tre,D2]=r(vh,"Unreturning"),vK=i(D2,"on",u(e.weapon.refinement,yre)),bK=i(D2,"on",d(.1)),Pre=f(vh,_K,{premod:{atk_:vK,moveSPD_:bK}}),wre={document:[{value:D2,path:Tre,header:h(vh,l("conditional")),name:l("hitOp.weakSpot"),states:{on:{fields:[{node:vK},{node:bK},{text:s("duration"),value:10,unit:"s"}]}}}]},xre=new k(vh,wre,_K,Pre),Eu="RangeGauge",$K=g.weapon.data[Eu],[,Dre]=O("weapon",Eu),Sre=[-1,.03,.04,.05,.06,.07],Cre=[-1,.07,.085,.1,.115,.13],[Bre,S2]=r(Eu,"marksConsumed"),C2=b(1,3),yK=v(S2,_(C2,t=>m(t,u(e.weapon.refinement,Sre,{unit:"%"}))),y),Are=v(S2,_(C2,t=>m(t,u(e.weapon.refinement,Cre,{unit:"%"}))),y),TK=_(ye.map(t=>`${t}_dmg_`),()=>({...Are})),Ire=f(Eu,$K,{premod:{atk_:yK,...TK}}),Rre={document:[{value:S2,path:Bre,teamBuff:!0,header:h(Eu,l("stacks")),name:Dre("condName"),states:_(C2,t=>({name:`${t}`,fields:[{node:yK},...Object.values(TK).map(o=>({node:o})),{text:s("duration"),value:10,unit:"s"},{text:s("cd"),value:15,unit:"s"}]}))}]},Hre=new k(Eu,Rre,$K,Ire),bh="RavenBow",PK=g.weapon.data[bh],Ere=[-1,.12,.15,.18,.21,.24],[Ore,wK]=r(bh,"BaneOfFlameAndWater"),xK=i(wK,"on",u(e.weapon.refinement,Ere)),Mre=f(bh,PK,{premod:{all_dmg_:xK}}),Kre={document:[{value:wK,path:Ore,name:l("enemyAffected.hydroOrPyro"),header:h(bh,l("conditional")),states:{on:{fields:[{node:xK}]}}}]},Fre=new k(bh,Kre,PK,Mre),$h="RecurveBow",DK=g.weapon.data[$h],Nre=[-1,.08,.1,.12,.14,.16],SK=i(e.weapon.key,$h,jn(m(e.total.hp,u(e.weapon.refinement,Nre)))),jre=f($h,DK,void 0,{healing:SK}),Gre={document:[{header:h($h,l("base")),fields:[{node:a(SK,{name:s("healing"),variant:"heal"})}]}]},Wre=new k($h,Gre,DK,jre),yh="RoyalBow",CK=g.weapon.data[yh],Lre=[-1,.08,.1,.12,.14,.16],[zre,BK]=r(yh,"Focus"),AK=v(BK,{..._(b(1,5),t=>m(u(e.weapon.refinement,Lre),t))},y),Ure=f(yh,CK,{premod:{critRate_:AK}}),Vre={document:[{value:BK,path:zre,header:h(yh,l("stacks")),name:l("stacks"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:AK}]}]))}]},qre=new k(yh,Vre,CK,Ure),Q_="Rust",IK=g.weapon.data[Q_],Jre=[-1,.4,.5,.6,.7,.8],RK=u(e.weapon.refinement,Jre),HK=p(-.1),Qre=f(Q_,IK,{premod:{normal_dmg_:RK,charged_dmg_:HK}}),Xre={document:[{header:h(Q_,l("base")),fields:[{node:RK},{node:HK}]}]},Yre=new k(Q_,Xre,IK,Qre),X_="SacrificialBow",EK=g.weapon.data[X_],Zre=f(X_,EK),ede={document:[{header:h(X_),fields:[]}]},tde=new k(X_,ede,EK,Zre),Zd="ScionOfTheBlazingSun",OK=g.weapon.data[Zd],[,LT]=O("weapon",Zd),ade=[-1,.6,.75,.9,1.05,1.2],nde=[-1,.28,.35,.42,.49,.56],sde=C(m(u(e.weapon.refinement,ade,{unit:"%"}),e.total.atk),"elemental"),[lde,MK]=r(Zd,"afterHit"),KK=i(MK,"on",u(e.weapon.refinement,nde)),ode=f(Zd,OK,{premod:{charged_dmg_:KK}}),ide={document:[{header:h(Zd,l("dmg")),fields:[{node:a(sde,{name:LT("dmg")})}]},{header:h(Zd,l("conditional")),path:lde,value:MK,name:LT("condName"),states:{on:{fields:[{node:KK},{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:10,unit:"s"}]}}}]},cde=new k(Zd,ide,OK,ode),B2="SeasonedHuntersBow",A2=g.weapon.data[B2],rde=f(B2,A2),dde={...A2,document:[]},mde=new k(B2,dde,A2,rde),Y_="SharpshootersOath",FK=g.weapon.data[Y_],ude=[-1,.24,.3,.36,.42,.48],NK=u(e.weapon.refinement,ude),gde=f(Y_,FK,{premod:{weakspotDMG_:NK}}),hde={document:[{header:h(Y_,l("base")),fields:[{node:NK}]}]},pde=new k(Y_,hde,FK,gde),Th="SkywardHarp",jK=g.weapon.data[Th],kde=[-1,.2,.25,.3,.35,.4],fde=d(1.25),GK=u(e.weapon.refinement,kde),WK=i(e.weapon.key,Th,C(m(fde,e.total.atk),"elemental",{hit:{ele:p("physical")}})),_de=f(Th,jK,{premod:{critDMG_:GK}},{dmg:WK}),vde={document:[{header:h(Th,l("base")),fields:[{node:GK},{node:a(WK,{name:l("dmg")})}]}]},bde=new k(Th,vde,jK,_de),Ou="Slingshot",LK=g.weapon.data[Ou],[,zT]=O("weapon",Ou),$de=[-1,.36,.42,.48,.54,.6],[yde,zK]=r(Ou,"Slingshot"),Tde=["less","more"],I2=v(zK,{less:u(e.weapon.refinement,$de,{path:"normal_dmg_"}),more:d(-.1,{path:"normal_dmg_"})},y),UK={...I2},Pde=f(Ou,LK,{premod:{normal_dmg_:I2,charged_dmg_:UK}}),wde={document:[{value:zK,path:yde,header:h(Ou,l("conditional")),name:zT("condName"),states:_(Tde,t=>({name:zT(t),fields:[{node:I2},{node:UK}]}))}]},xde=new k(Ou,wde,LK,Pde),Ph="SongOfStillness",VK=g.weapon.data[Ph],Dde=[-1,.16,.2,.24,.28,.32],[Sde,qK]=r(Ph,"afterHeal"),JK=i(qK,"on",u(e.weapon.refinement,Dde)),Cde=f(Ph,VK,{premod:{all_dmg_:JK}}),Bde={document:[{header:h(Ph,l("conditional")),path:Sde,value:qK,name:l("afterHeal"),states:{on:{fields:[{node:JK},{text:s("duration"),value:8,unit:"s"}]}}}]},Ade=new k(Ph,Bde,VK,Cde),Vg="TheFirstGreatMagic",QK=g.weapon.data[Vg],Ide=[-1,.16,.2,.24,.28,.32],pv=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],kv=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],UT=v(e.charEle,j,y),fv=P(...ye.map(t=>n(j[t],1,M(t,e.charEle,j[t])))),XK=u(e.weapon.refinement,Ide),YK=Gi(UT,3,u(e.weapon.refinement,pv[2]),Qs(UT,2,u(e.weapon.refinement,pv[1]),u(e.weapon.refinement,pv[0]))),Pb=Gi(fv,3,u(e.weapon.refinement,kv[2]),Qs(fv,2,u(e.weapon.refinement,kv[1]),i(fv,1,u(e.weapon.refinement,kv[0])))),Rde=f(Vg,QK,{premod:{charged_dmg_:XK,atk_:YK,moveSPD_:Pb}}),Hde={document:[{header:h(Vg,l("base")),fields:[{node:XK}]},{header:h(Vg,l("stacks")),fields:[{node:YK},{canShow:t=>t.get(Pb).value>0,node:Pb}]}]},Ede=new k(Vg,Hde,QK,Rde),Z_="TheStringless",ZK=g.weapon.data[Z_],eF=[-1,.24,.3,.36,.42,.48],tF=u(e.weapon.refinement,eF),aF=u(e.weapon.refinement,eF),Ode=f(Z_,ZK,{premod:{skill_dmg_:tF,burst_dmg_:aF}}),Mde={document:[{header:h(Z_,l("base")),fields:[{node:tF},{node:aF}]}]},Kde=new k(Z_,Mde,ZK,Ode),wh="TheViridescentHunt",nF=g.weapon.data[wh],Fde=[-1,.4,.5,.6,.7,.8],sF=i(e.weapon.key,wh,C(m(u(e.weapon.refinement,Fde),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Nde=f(wh,nF,void 0,{dmg:sF}),jde={document:[{header:h(wh,l("base")),fields:[{node:a(sF,{name:l("dmg")})}]}]},Gde=new k(wh,jde,nF,Nde),em="ThunderingPulse",lF=g.weapon.data[em],[,Wde]=O("weapon",em),Lde=[-1,.2,.25,.3,.35,.4],zde=[-1,.12,.15,.18,.21,.24],Ude=[-1,.24,.3,.36,.42,.48],Vde=[-1,.4,.5,.6,.7,.8],[qde,oF]=r(em,"RuleByThunder"),iF=u(e.weapon.refinement,Lde),cF=v(oF,{1:u(e.weapon.refinement,zde),2:u(e.weapon.refinement,Ude),3:u(e.weapon.refinement,Vde)},y),Jde=f(em,lF,{premod:{atk_:iF,normal_dmg_:cF}}),Qde={document:[{header:h(em,l("base")),fields:[{node:iF}]},{value:oF,path:qde,header:h(em,l("stacks")),name:Wde("condName"),states:_(b(1,3),t=>({name:l("stack",{count:t}),fields:[{node:cF}]}))}]},Xde=new k(em,Qde,lF,Jde),xh="WindblumeOde",rF=g.weapon.data[xh],Yde=[-1,.16,.2,.24,.28,.32],[Zde,dF]=r(xh,"WindblumeWish"),mF=i(dF,"on",u(e.weapon.refinement,Yde)),eme=f(xh,rF,{premod:{atk_:mF}}),tme={document:[{value:dF,path:Zde,name:l("afterUse.skill"),header:h(xh,l("conditional")),states:{on:{fields:[{node:mF},{text:s("duration"),value:6,unit:"s"}]}}}]},ame=new k(xh,tme,rF,eme),nme={AlleyHunter:Die,AmosBow:Rie,AquaSimulacra:Nie,BlackcliffWarbow:zie,CompoundBow:Xie,ElegyForTheEnd:lce,FadingTwilight:gce,FavoniusWarbow:kce,Hamayumi:$ce,HuntersBow:Pce,HuntersPath:Bce,IbisPiercer:Ece,KingsSquire:jce,Messenger:zce,MitternachtsWaltz:Yce,MouunsMoon:lre,PolarStar:hre,Predator:$re,PrototypeCrescent:xre,RangeGauge:Hre,RavenBow:Fre,RecurveBow:Wre,RoyalBow:qre,Rust:Yre,SacrificialBow:tde,ScionOfTheBlazingSun:cde,SeasonedHuntersBow:mde,SharpshootersOath:pde,SkywardHarp:bde,Slingshot:xde,SongOfStillness:Ade,TheFirstGreatMagic:Ede,TheStringless:Kde,TheViridescentHunt:Gde,ThunderingPulse:Xde,EndOfTheLine:rce,WindblumeOde:ame},vu="AThousandFloatingDreams",uF=g.weapon.data[vu],sme=[-1,32,40,48,56,64],lme=[-1,.1,.14,.18,.22,.26],ome=[-1,40,42,44,46,48],gF=v(e.charEle,Object.fromEntries(ye.map(t=>[t,a(P(j[t],-1),{asConst:!0})])),y),ime=P(...ye.map(t=>j[t])),hF=m(gF,u(e.weapon.refinement,sme)),pF=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,i(e.charEle,t,m(a(P(ime,-1,m(gF,-1)),{asConst:!0}),u(e.weapon.refinement,lme,{unit:"%"})))])),kF=i(e.weapon.key,vu,u(e.weapon.refinement,ome),{path:"eleMas",isTeamBuff:!0}),cme=M(e.charKey,E.charKey,kF),rme=f(vu,uF,{premod:{eleMas:hF,...pF},teamBuff:{premod:{eleMas:cme}}}),dme={document:[{header:h(vu,l("base")),fields:[{node:hF},...Object.values(pF).map(t=>({node:t}))]},{header:h(vu,l("teamBuff")),teamBuff:!0,fields:[{node:kF}]}]},mme=new k(vu,dme,uF,rme),R2="ApprenticesNotes",H2=g.weapon.data[R2],ume=f(R2,H2),gme={...H2,document:[]},hme=new k(R2,gme,H2,ume),Dh="BalladOfTheBoundlessBlue",fF=g.weapon.data[Dh],pme=[-1,.08,.1,.12,.14,.16],kme=[-1,.06,.075,.09,.105,.12],[fme,E2]=r(Dh,"hits"),O2=b(1,3),_F=v(E2,_(O2,t=>m(t,u(e.weapon.refinement,pme,{unit:"%"}))),y),vF=v(E2,_(O2,t=>m(t,u(e.weapon.refinement,kme,{unit:"%"}))),y),_me=f(Dh,fF,{premod:{normal_dmg_:_F,charged_dmg_:vF}}),vme={document:[{value:E2,path:fme,teamBuff:!0,header:h(Dh,l("stacks")),name:l("hitOp.normalOrCharged"),states:_(O2,t=>({name:l("hits",{count:t}),fields:[{node:_F},{node:vF},{text:s("duration"),value:6,unit:"s"},{text:s("cd"),value:.3,fixed:1,unit:"s"}]}))}]},bme=new k(Dh,vme,fF,_me),Sh="BlackcliffAgate",bF=g.weapon.data[Sh],[$me,$F]=r(Sh,"PressTheAdvantage"),yF=b(1,3),yme=[-1,.12,.15,.18,.21,.24],TF=m(v($F,_(yF,t=>p(t)),0),u(e.weapon.refinement,yme)),Tme=f(Sh,bF,{premod:{atk_:TF}}),Pme={document:[{value:$F,path:$me,header:h(Sh,l("stacks")),name:l("afterDefeatEnemy"),states:Object.fromEntries(yF.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:TF},{text:s("duration"),value:30,unit:"s"}]}]))}]},wme=new k(Sh,Pme,bF,Tme),Br="CashflowSupervision",M2=g.weapon.data[Br],PF=M2.refinementBonus.atk_;if(!PF)throw new Error(`data_gen.refinementBonus.atk_ for ${Br} was undefined`);const xme=[-1,.16,.2,.24,.28,.32],Dme=[-1,.14,.175,.21,.245,.28],Sme=[-1,.08,.1,.12,.14,.16],wF=i(e.weapon.key,Br,u(e.weapon.refinement,PF)),[Cme,e1]=r(Br,"hpChanges"),K2=b(1,3),xF=v(e1,_(K2,t=>m(t,u(e.weapon.refinement,xme,{unit:"%"}))),y),DF=v(e1,_(K2,t=>m(t,u(e.weapon.refinement,Dme,{unit:"%"}))),y),SF=i(e1,"3",u(e.weapon.refinement,Sme)),Bme=f(Br,M2,{premod:{atk_:wF,normal_dmg_:xF,charged_dmg_:DF,atkSPD_:SF}}),Ame={document:[{header:h(Br,l("base")),fields:[{node:wF}]},{value:e1,path:Cme,header:h(Br,l("stacks")),name:l("hpChange"),states:_(K2,t=>({name:l("times",{count:t}),fields:[{node:xF},{node:DF},{node:SF},{text:s("duration"),value:4,unit:"s"},{text:s("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Ime=new k(Br,Ame,M2,Bme),Ch="CranesEchoingCall",CF=g.weapon.data[Ch],Rme=[-1,.28,.41,.54,.67,.8],[Hme,BF]=r(Ch,"passive"),AF=i(BF,"on",u(e.weapon.refinement,Rme,{unit:"%"})),Eme=f(Ch,CF,{teamBuff:{premod:{plunging_dmg_:AF}}}),Ome={document:[{value:BF,path:Hme,header:h(Ch,l("conditional")),name:l("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:AF},{text:s("duration"),value:20,unit:"s"}]}}}]},Mme=new k(Ch,Ome,CF,Eme),tm="DodocoTales",IF=g.weapon.data[tm],Kme=[-1,.16,.2,.24,.28,.32],Fme=[-1,.08,.1,.12,.14,.16],[Nme,RF]=r(tm,"DodoventureNormal"),[jme,HF]=r(tm,"DodoventureCharged"),EF=i("on",RF,u(e.weapon.refinement,Kme)),OF=i("on",HF,u(e.weapon.refinement,Fme)),Gme=f(tm,IF,{premod:{charged_dmg_:EF,atk_:OF}}),Wme={document:[{value:RF,path:Nme,name:l("hitOp.normal"),header:h(tm,l("conditional")),states:{on:{fields:[{node:EF},{text:s("duration"),value:6,unit:"s"}]}}},{value:HF,path:jme,name:l("hitOp.charged"),header:h(tm,l("conditional")),states:{on:{fields:[{node:OF},{text:s("duration"),value:6,unit:"s"}]}}}]},Lme=new k(tm,Wme,IF,Gme),Bh="EmeraldOrb",MF=g.weapon.data[Bh],zme=[-1,.2,.25,.3,.35,.4],[Ume,KF]=r(Bh,"Rapids"),FF=i("on",KF,u(e.weapon.refinement,zme)),Vme=f(Bh,MF,{premod:{atk_:FF}}),qme={document:[{value:KF,path:Ume,name:l("elementalReaction.hydro"),header:h(Bh,l("conditional")),states:{on:{fields:[{node:FF},{text:s("duration"),value:12,unit:"s"}]}}}]},Jme=new k(Bh,qme,MF,Vme),Mm="EverlastingMoonglow",F2=g.weapon.data[Mm],Qme=[-1,.01,.015,.02,.025,.03],[,Xme]=O("weapon",Mm),wb=i(e.weapon.key,Mm,m(u(e.weapon.refinement,Qme,{unit:"%"}),e.premod.hp)),NF=F2.refinementBonus.heal_;if(!NF)throw new Error(`data_gen.refinementBonus.heal_ for ${Mm} was undefined`);const jF=u(e.weapon.refinement,NF),Yme=f(Mm,F2,{premod:{normal_dmgInc:wb,heal_:jF}},{normal_dmgInc:wb}),Zme={document:[{header:h(Mm,l("base")),fields:[{node:jF},{text:Xme("name"),node:wb}]}]},eue=new k(Mm,Zme,F2,Yme),Ah="EyeOfPerception",GF=g.weapon.data[Ah],tue=[-1,2.4,2.7,3,3.3,3.6],WF=i(e.weapon.key,Ah,C(m(u(e.weapon.refinement,tue,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:p("physical")}})),aue=f(Ah,GF,void 0,{dmg_:WF}),nue={document:[{header:h(Ah,l("base")),fields:[{node:a(WF,{name:l("dmg")})}]}]},sue=new k(Ah,nue,GF,aue),t1="FavoniusCodex",LF=g.weapon.data[t1],lue=f(t1,LF),oue={document:[{header:h(t1),fields:[]}]},iue=new k(t1,oue,LF,lue),Kc="FlowingPurity",zF=g.weapon.data[Kc],[,cue]=O("weapon",Kc),rue=[-1,.08,.1,.12,.14,.16],due=[-1,.02,.025,.03,.035,.04],mue=[-1,.12,.15,.18,.21,.24],[uue,UF]=r(Kc,"afterSkill"),gue=i(UF,"on",u(e.weapon.refinement,rue)),N2=ye.map(t=>`${t}_dmg_`),VF=_(N2,t=>a({...gue},{path:t})),hue=m(d(.24),e.total.hp),[pue,qF]=r(Kc,"bond"),kue=i(e.weapon.key,Kc,i(qF,"on",da(m(u(e.weapon.refinement,due,{unit:"%"}),m(hue,d(1/1e3))),u(e.weapon.refinement,mue,{unit:"%"})))),xb=_(N2,t=>a({...kue},{path:t})),fue=f(Kc,zF,{premod:{..._(N2,t=>P(VF[t],xb[t]))}},xb),_ue={document:[{header:h(Kc,l("conditional")),path:uue,value:UF,name:l("hitOp.skill"),states:{on:{fields:[...Object.values(VF).map(t=>({node:t})),{text:s("duration"),value:15,unit:"s"},{text:s("cd"),value:10,unit:"s"}]}}},{header:h(Kc,l("conditional")),path:pue,value:qF,name:cue("bondCondName"),states:{on:{fields:[...Object.values(xb).map(t=>({node:t})),{text:s("duration"),value:15,unit:"s"}]}}}]},vue=new k(Kc,_ue,zF,fue),Pr="Frostbearer",JF=g.weapon.data[Pr],bue=[-1,.8,.95,1.1,1.25,1.4],$ue=[-1,2,2.4,2.8,3.2,3.6],QF=i(e.weapon.key,Pr,C(m(u(e.weapon.refinement,bue,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),XF=i(e.weapon.key,Pr,C(m(u(e.weapon.refinement,$ue,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),yue=f(Pr,JF,void 0,{dmgAoe:QF,dmgOnCryoOp:XF}),Tue={document:[{header:h(Pr,l("base")),fields:[{node:a(QF,{name:k.trm(Pr)("aoeDmg")})},{node:a(XF,{name:k.trm(Pr)("cryoAffectedDmg")})}]}]},Pue=new k(Pr,Tue,JF,yue),Mu="FruitOfFulfillment",YF=g.weapon.data[Mu],[,wue]=O("weapon",Mu),xue=[-1,24,27,30,33,36],[Due,j2]=r(Mu,"stacks"),G2=b(1,5),ZF=v(j2,Object.fromEntries(G2.map(t=>[t,m(u(e.weapon.refinement,xue),t)])),y),eN=v(j2,Object.fromEntries(G2.map(t=>[t,m(d(-.05),t)])),y),Sue=f(Mu,YF,{premod:{eleMas:ZF,atk_:eN}}),Cue={document:[{teamBuff:!0,header:h(Mu,l("stacks")),path:Due,value:j2,name:wue("stackName"),states:Object.fromEntries(G2.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:ZF},{node:eN}]}]))}]},Bue=new k(Mu,Cue,YF,Sue),Ih="HakushinRing",tN=g.weapon.data[Ih],Aue=[-1,.1,.125,.15,.175,.2],[Iue,ld]=r(Ih,"SakuraSaiguu"),Km=u(e.weapon.refinement,Aue),aN=i("anemo",ld,Km),nN=i("cryo",ld,Km),sN=i("geo",ld,Km),lN=i("hydro",ld,Km),oN=i("pyro",ld,Km),iN=i("dendro",ld,Km),Rue=i("anemo",E.charEle,aN),Hue=i("cryo",E.charEle,nN),Eue=i("geo",E.charEle,sN),Oue=i("hydro",E.charEle,lN),Mue=i("pyro",E.charEle,oN),Kue=i("dendro",E.charEle,iN),Sd=M(ld,void 0,Km),Fue=i("electro",E.charEle,Sd),Nue=f(Ih,tN,{teamBuff:{premod:{anemo_dmg_:Rue,cryo_dmg_:Hue,electro_dmg_:Fue,geo_dmg_:Eue,hydro_dmg_:Oue,pyro_dmg_:Mue,dendro_dmg_:Kue}}}),jue={document:[{value:ld,path:Iue,name:l("elementalReaction.electro"),teamBuff:!0,header:h(Ih,l("conditional")),states:{anemo:{name:H(Ba,{color:"swirl",children:s("reaction.swirl")}),fields:[{node:a(aN,{path:"anemo_dmg_",isTeamBuff:!0})},{node:a(Sd,{path:"electro_dmg_",isTeamBuff:!0})},{text:s("duration"),value:6,unit:"s"}]},cryo:{name:H(Ba,{color:"superconduct",children:s("reaction.superconduct")}),fields:[{node:a(nN,{path:"cryo_dmg_",isTeamBuff:!0})},{node:a(Sd,{path:"electro_dmg_",isTeamBuff:!0})},{text:s("duration"),value:6,unit:"s"}]},geo:{name:H(Ba,{color:"crystallize",children:s("reaction.crystallize")}),fields:[{node:a(sN,{path:"geo_dmg_",isTeamBuff:!0})},{node:a(Sd,{path:"electro_dmg_",isTeamBuff:!0})},{text:s("duration"),value:6,unit:"s"}]},pyro:{name:H(Ba,{color:"overloaded",children:s("reaction.overloaded")}),fields:[{node:a(oN,{path:"pyro_dmg_",isTeamBuff:!0})},{node:a(Sd,{path:"electro_dmg_",isTeamBuff:!0})},{text:s("duration"),value:6,unit:"s"}]},hydro:{name:H(Ba,{color:"electrocharged",children:s("reaction.electrocharged")}),fields:[{node:a(lN,{path:"hydro_dmg_",isTeamBuff:!0})},{node:a(Sd,{path:"electro_dmg_",isTeamBuff:!0})},{text:s("duration"),value:6,unit:"s"}]},dendro:{name:H(Ba,{color:"aggravate",children:s("reaction.aggravate")}),fields:[{node:a(iN,{path:"dendro_dmg_",isTeamBuff:!0})},{node:a(Sd,{path:"electro_dmg_",isTeamBuff:!0})},{text:s("duration"),value:6,unit:"s"}]}}}]},Gue=new k(Ih,jue,tN,Nue),Fm="JadefallsSplendor",cN=g.weapon.data[Fm],[,Wue]=O("weapon",Fm),[Lue,rN]=r(Fm,"condPassive"),zue=[-1,.003,.005,.007,.009,.011],Uue=[-1,.12,.2,.28,.36,.44],Vue=i(e.weapon.key,Fm,i(rN,"on",da(u(e.weapon.refinement,Uue,{unit:"%"}),m(u(e.weapon.refinement,zue,{unit:"%"}),e.total.hp,1/1e3)))),Db=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,i(t,e.charEle,Vue)])),que=f(Fm,cN,{premod:{...Db}},{...Db}),Jue={document:[{header:h(Fm,l("conditional")),path:Lue,value:rN,name:Wue("condName"),states:{on:{fields:[...Object.values(Db).map(t=>({node:t})),{text:s("duration"),value:3,unit:"s"}]}}}]},Que=new k(Fm,Jue,cN,que),Rh="KagurasVerity",dN=g.weapon.data[Rh],[Xue,W2]=r(Rh,"KaguraDance"),mN=b(1,3),uN=[-1,.12,.15,.18,.21,.24],gN=mN.map(t=>i(W2,t.toString(),u(e.weapon.refinement,uN.map(o=>o*t)),{path:"skill_dmg_"})),hN=Object.fromEntries(ye.map(t=>[t,i(W2,"3",u(e.weapon.refinement,uN))])),Yue=f(Rh,dN,{premod:{skill_dmg_:P(...gN),...Object.fromEntries(ye.map(t=>[`${t}_dmg_`,hN[t]]))}}),Zue={document:[{value:W2,path:Xue,header:h(Rh,l("stacks")),name:l("afterUse.skill"),states:Object.fromEntries(mN.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:gN[t-1]},...ye.map(o=>({node:hN[o]}))]}]))}]},ege=new k(Rh,Zue,dN,Yue),bu="LostPrayerToTheSacredWinds",pN=g.weapon.data[bu],tge=[-1,.08,.1,.12,.14,.16],[age,kN]=r(bu,"BoundlessBlessing"),fN=d(.1),nge=u(e.weapon.refinement,tge,{unit:"%"}),_N=Object.fromEntries(ye.map(t=>[t,v(kN,{..._(b(1,4),o=>m(nge,o))},y)])),sge=f(bu,pN,{premod:{moveSPD_:fN,...Object.fromEntries(ye.map(t=>[`${t}_dmg_`,_N[t]]))}}),lge={document:[{header:h(bu,l("base")),fields:[{node:fN}]},{value:kN,path:age,header:h(bu,l("stacks")),name:l("timeOnField"),states:_(b(1,4),t=>({name:l("seconds",{count:t*4}),fields:ye.map(o=>({node:_N[o]}))}))}]},oge=new k(bu,lge,pN,sge),Hh="MagicGuide",vN=g.weapon.data[Hh],ige=[-1,.12,.15,.18,.21,.24],[cge,bN]=r(Hh,"BaneOfStormAndTide"),$N=i("on",bN,u(e.weapon.refinement,ige)),rge=f(Hh,vN,{premod:{all_dmg_:$N}}),dge={document:[{value:bN,path:cge,name:l("enemyAffected.hydroOrElectro"),header:h(Hh,l("conditional")),states:{on:{fields:[{node:$N}]}}}]},mge=new k(Hh,dge,vN,rge),Eh="MappaMare",yN=g.weapon.data[Eh],[uge,TN]=r(Eh,"InfusionScroll"),gge=[-1,.08,.1,.12,.14,.16],hge=u(e.weapon.refinement,gge),PN=xu(ye,t=>[`${t}_dmg_`,v(TN,{..._(b(1,2),o=>m(hge,o))},y)]),pge=f(Eh,yN,{premod:PN}),kge={document:[{value:TN,path:uge,header:h(Eh,l("stacks")),name:l("afterReaction"),states:_(b(1,2),t=>({name:l("stack",{count:t}),fields:[...Object.values(PN).map(o=>({node:o})),{text:s("duration"),value:10,unit:"s"}]}))}]},fge=new k(Eh,kge,yN,pge),Rc="MemoryOfDust",wN=g.weapon.data[Rc],[,_ge]=O("weapon",Rc),vge=[-1,.2,.25,.3,.35,.4],bge=[-1,.04,.05,.06,.07,.08],[$ge,xN]=r(Rc,"GoldenMajesty"),DN=u(e.weapon.refinement,vge),[yge,SN]=r(Rc,"WithShield"),Tge=u(e.weapon.refinement,bge),CN=m(P(1,i(SN,"protected",1)),v(xN,Object.fromEntries(b(1,5).map(t=>[t,m(Tge,t)])),y)),Pge=f(Rc,wN,{premod:{shield_:DN,atk_:CN}}),wge={document:[{header:h(Rc,l("base")),fields:[{node:DN}]},{value:xN,path:$ge,header:h(Rc,l("stacks")),name:l("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:CN},{text:s("duration"),value:8,unit:"s"}]}]))},{value:SN,path:yge,header:h(Rc,l("conditional")),name:l("protectedByShield"),states:{protected:{fields:[{text:_ge("atkEffInc"),value:100,unit:"%"}]}}}]},xge=new k(Rc,wge,wN,Pge),Oh="OathswornEye",BN=g.weapon.data[Oh],Dge=[-1,.24,.3,.36,.42,.48],[Sge,AN]=r(Oh,"faLight"),Cge=u(e.weapon.refinement,Dge),IN=i("skillBurst",AN,Cge),Bge=f(Oh,BN,{premod:{enerRech_:IN}}),Age={document:[{value:AN,path:Sge,header:h(Oh,l("conditional")),name:l("afterUse.skill"),states:{skillBurst:{fields:[{node:IN}]}}}]},Ige=new k(Oh,Age,BN,Bge),Mh="OtherworldlyStory",RN=g.weapon.data[Mh],Rge=[-1,.01,.0125,.015,.0175,.02],HN=i(e.weapon.key,Mh,jn(m(u(e.weapon.refinement,Rge,{unit:"%"}),e.total.hp))),Hge=f(Mh,RN,void 0,{heal:HN}),Ege={document:[{header:h(Mh,l("base")),fields:[{node:a(HN,{name:s("healing"),variant:"heal"})}]}]},Oge=new k(Mh,Ege,RN,Hge),L2="PocketGrimoire",EN=g.weapon.data[L2],Mge=f(L2,EN),Kge={document:[]},Fge=new k(L2,Kge,EN,Mge),Ku="PrototypeAmber",ON=g.weapon.data[Ku],[Nge,jge]=r(Ku,"Gliding"),Gge=[-1,.04,.045,.05,.055,.06],MN=i(e.weapon.key,Ku,jn(m(u(e.weapon.refinement,Gge,{unit:"%"}),e.total.hp))),Wge=f(Ku,ON,void 0,{heal:MN}),Lge={document:[{value:jge,path:Nge,name:l("afterUse.burst"),header:h(Ku,l("conditional")),states:{on:{fields:[{node:a(MN,{name:s("healing"),variant:"heal"})}]}}}]},zge=new k(Ku,Lge,ON,Wge),am="QuantumCatalyst",KN=g.weapon.data[am],Uge=[-1,.18,.225,.27,.315,.36],Vge=[-1,.06,.075,.09,.105,.12],qge=[-1,10,12,14,16,18],FN=b(1,5),[Jge,NN]=r(am,"stacks"),jN=u(e.weapon.refinement,Uge),a_=i(e.weapon.key,am,m(u(e.weapon.refinement,Vge,{unit:"%"}),e.total.eleMas)),Sb={...a_},GN=v(NN,_(FN,t=>m(u(e.weapon.refinement,qge),t)),y),Qge=f(am,KN,{premod:{enerRech_:jN,normal_dmgInc:a_,charged_dmgInc:Sb,eleMas:GN}},{normal_dmgInc:a_,charged_dmgInc:Sb}),Xge={document:[{header:h(am,l("base")),fields:[{node:jN},{node:a_},{node:Sb}]},{value:NN,path:Jge,teamBuff:!0,header:h(am,l("stacks")),name:l("elementalReaction.electro"),states:_(FN,t=>({name:l("stack",{count:t}),fields:[{node:GN},{text:s("duration"),value:12,unit:"s"}]}))}]},Yge=new k(am,Xge,KN,Qge),Kh="RoyalGrimoire",WN=g.weapon.data[Kh],[Zge,LN]=r(Kh,"stack"),ehe=[-1,.08,.1,.12,.14,.16],zN=v(LN,_(b(1,5),t=>m(u(e.weapon.refinement,ehe,{unit:"%"}),t)),y),the=f(Kh,WN,{premod:{critRate_:zN}}),ahe={document:[{value:LN,path:Zge,header:h(Kh,l("stacks")),name:l("stacks"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:zN}]}]))}]},nhe=new k(Kh,ahe,WN,the),a1="SacrificialFragments",UN=g.weapon.data[a1],she=f(a1,UN),lhe={document:[{header:h(a1),fields:[]}]},ohe=new k(a1,lhe,UN,she),Fu="SacrificialJade",VN=g.weapon.data[Fu],[,ihe]=O("weapon",Fu),che=[-1,.32,.4,.48,.56,.64],rhe=[-1,40,50,60,70,80],[dhe,z2]=r(Fu,"offField"),qN=i(z2,"on",u(e.weapon.refinement,che)),JN=i(z2,"on",u(e.weapon.refinement,rhe)),mhe=f(Fu,VN,{premod:{eleMas:JN,hp_:qN}}),uhe={document:[{teamBuff:!0,header:h(Fu,l("conditional")),path:dhe,value:z2,name:ihe("condOffField"),states:{on:{fields:[{node:qN},{node:JN}]}}}]},ghe=new k(Fu,uhe,VN,mhe),Fh="SkywardAtlas",QN=g.weapon.data[Fh],hhe=[-1,.12,.15,.18,.21,.24],XN=Object.fromEntries(ye.map(t=>[t,u(e.weapon.refinement,hhe)])),phe=[-1,1.6,2,2.4,2.8,3.2],YN=i(e.weapon.key,Fh,C(m(u(e.weapon.refinement,phe,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),khe=f(Fh,QN,{premod:{...Object.fromEntries(ye.map(t=>[`${t}_dmg_`,XN[t]]))}},{dmg:YN}),fhe={document:[{header:h(Fh,l("base")),fields:[...ye.map(t=>({node:XN[t]})),{node:a(YN,{name:l("dmg")})}]}]},_he=new k(Fh,fhe,QN,khe),nm="SolarPearl",ZN=g.weapon.data[nm],vhe=[-1,.2,.25,.3,.35,.4],[bhe,ej]=r(nm,"solarShineNormal"),[$he,tj]=r(nm,"solarShineSkillBurst"),aj=u(e.weapon.refinement,vhe),U2=i("normal",ej,aj),nj={...U2},sj=i("skillBurst",tj,aj),yhe=f(nm,ZN,{premod:{skill_dmg_:U2,burst_dmg_:nj,normal_dmg_:sj}}),The={document:[{value:ej,path:bhe,header:h(nm,l("conditional")),name:l("hitOp.normal"),states:{normal:{fields:[{node:U2},{node:nj}]}}},{value:tj,path:$he,header:h(nm,l("conditional")),name:l("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:sj}]}}}]},Phe=new k(nm,The,ZN,yhe),Nu="TheWidsith",lj=g.weapon.data[Nu],[whe,_v]=O("weapon",Nu),xhe=[-1,.6,.75,.9,1.05,1.2],Dhe=[-1,.48,.6,.72,.84,.96],She=[-1,240,300,360,420,480],[Che,n1]=r(Nu,"Debut"),oj=i("recitative",n1,u(e.weapon.refinement,xhe)),ij=Object.fromEntries(ye.map(t=>[t,i("aria",n1,u(e.weapon.refinement,Dhe))])),cj=i("interlude",n1,u(e.weapon.refinement,She)),Bhe=f(Nu,lj,{premod:{atk_:oj,...Object.fromEntries(ye.map(t=>[`${t}_dmg_`,ij[t]])),eleMas:cj}}),Ahe={document:[{value:n1,path:Che,teamBuff:!0,header:h(Nu,l("conditional")),name:whe("passiveName"),states:{aria:{name:_v("aria"),fields:[...ye.map(t=>({node:ij[t]})),{text:s("duration"),value:10,unit:"s"}]},interlude:{name:_v("interlude"),fields:[{node:cj},{text:s("duration"),value:10,unit:"s"}]},recitative:{name:_v("recitative"),fields:[{node:oj},{text:s("duration"),value:10,unit:"s"}]}}}]},Ihe=new k(Nu,Ahe,lj,Bhe),ju="ThrillingTalesOfDragonSlayers",rj=g.weapon.data[ju],[,Rhe]=O("weapon",ju),Hhe=[-1,.24,.3,.36,.42,.48],[Ehe,dj]=r(ju,"Heritage"),mj=i("on",dj,u(e.weapon.refinement,Hhe)),Ohe=M(e.activeCharKey,e.charKey,i(e.activeCharKey,E.charKey,mj)),Mhe=f(ju,rj,{teamBuff:{premod:{atk_:Ohe}}}),Khe={document:[{value:dj,path:Ehe,name:Rhe("condName"),teamBuff:!0,header:h(ju,l("conditional")),states:{on:{fields:[{node:a(mj,{path:"atk_"})},{text:s("duration"),value:10,unit:"s"}]}}}]},Fhe=new k(ju,Khe,rj,Mhe),Ar="TomeOfTheEternalFlow",V2=g.weapon.data[Ar],uj=V2.refinementBonus.hp_;if(!uj)throw new Error(`data_gen.refinementBonus.hp_ for ${Ar} was undefined`);const Nhe=[-1,.14,.18,.22,.26,.3],gj=i(e.weapon.key,Ar,u(e.weapon.refinement,uj)),[jhe,hj]=r(Ar,"hpChanges"),pj=b(1,3),kj=v(hj,_(pj,t=>m(t,u(e.weapon.refinement,Nhe,{unit:"%"}))),y),Ghe=f(Ar,V2,{premod:{hp_:gj,charged_dmg_:kj}}),Whe={document:[{header:h(Ar,l("base")),fields:[{node:gj}]},{value:hj,path:jhe,header:h(Ar,l("stacks")),name:l("hpChange"),states:_(pj,t=>({name:l("times",{count:t}),fields:[{node:kj},{text:s("duration"),value:4,unit:"s"},{text:s("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Lhe=new k(Ar,Whe,V2,Ghe),vo="TulaytullahsRemembrance",fj=g.weapon.data[vo],zhe=[-1,.1,.125,.15,.175,.2],Uhe=[-1,.048,.06,.072,.084,.096],_j=b(1,12),Vhe=[-1,.096,.12,.144,.168,.192],vj=b(1,5),qhe=[-1,.48,.6,.72,.84,.96],bj=i(e.weapon.key,vo,u(e.weapon.refinement,zhe)),[Jhe,$j]=r(vo,"timePassive"),Qhe=i(e.weapon.key,vo,v($j,Object.fromEntries(_j.map(t=>[t,m(t,u(e.weapon.refinement,Uhe,{unit:"%"}))])),y,{path:"normal_dmg_"})),[Xhe,yj]=r(vo,"hitPassive"),Yhe=i(e.weapon.key,vo,v(yj,Object.fromEntries(vj.map(t=>[t,m(t,u(e.weapon.refinement,Vhe,{unit:"%"}))])),y,{path:"normal_dmg_"})),Tj=da(u(e.weapon.refinement,qhe,{unit:"%"}),P(Qhe,Yhe)),Zhe=f(vo,fj,{premod:{atkSPD_:bj,normal_dmg_:Tj}}),epe={document:[{header:h(vo,l("base")),fields:[{node:bj}]},{header:h(vo,l("conditional")),fields:[{node:Tj}]},{value:$j,path:Jhe,header:h(vo,l("stacks")),name:l("afterUse.skill"),states:Object.fromEntries(_j.map(t=>[t,{name:l("seconds",{count:t}),fields:[{text:s("duration"),value:14,unit:"s"}]}]))},{value:yj,path:Xhe,header:h(vo,l("stacks")),name:l("hitOp.normal"),states:Object.fromEntries(vj.map(t=>[t,{name:l("stack",{count:t}),fields:[{text:s("cd"),value:.3,unit:"s",fixed:1}]}]))}]},tpe=new k(vo,epe,fj,Zhe),Nh="TwinNephrite",Pj=g.weapon.data[Nh],wj=[-1,.12,.14,.16,.18,.2],[ape,q2]=r(Nh,"GuerillaTactics"),xj=i("on",q2,u(e.weapon.refinement,wj)),Dj=i("on",q2,u(e.weapon.refinement,wj)),npe=f(Nh,Pj,{premod:{atk_:xj,moveSPD_:Dj}}),spe={document:[{value:q2,path:ape,name:l("afterDefeatEnemy"),header:h(Nh,l("conditional")),states:{on:{fields:[{node:xj},{node:Dj},{text:s("duration"),value:15,unit:"s"}]}}}]},lpe=new k(Nh,spe,Pj,npe),sm="WanderingEvenstar",Sj=g.weapon.data[sm],ope=[-1,.24,.3,.36,.42,.48],n_=i(e.weapon.key,sm,m(u(e.weapon.refinement,ope,{unit:"%"}),e.premod.eleMas)),J2=i(e.weapon.key,sm,m(d(.3),n_)),ipe=M(e.activeCharKey,e.charKey,J2),cpe=f(sm,Sj,{total:{atk:n_},teamBuff:{total:{atk:ipe}}},{selfAtk:n_,teamAtkDisp:J2}),rpe={document:[{header:h(sm,l("base")),fields:[{node:n_}]},{header:h(sm,l("teamBuff")),teamBuff:!0,fields:[{node:a(J2,{path:"atk",isTeamBuff:!0})}]}]},dpe=new k(sm,rpe,Sj,cpe),jh="WineAndSong",Cj=g.weapon.data[jh],mpe=[-1,.2,.25,.3,.35,.4],[upe,Bj]=r(jh,"EverChanging"),Aj=i("on",Bj,u(e.weapon.refinement,mpe)),gpe=f(jh,Cj,{premod:{atk_:Aj}}),hpe={document:[{value:Bj,path:upe,name:l("afterSprint"),header:h(jh,l("conditional")),states:{on:{fields:[{node:Aj},{text:s("duration"),value:5,unit:"s"}]}}}]},ppe=new k(jh,hpe,Cj,gpe),kpe={ApprenticesNotes:hme,AThousandFloatingDreams:mme,BalladOfTheBoundlessBlue:bme,BlackcliffAgate:wme,CashflowSupervision:Ime,CranesEchoingCall:Mme,DodocoTales:Lme,EmeraldOrb:Jme,EverlastingMoonglow:eue,EyeOfPerception:sue,FavoniusCodex:iue,FlowingPurity:vue,Frostbearer:Pue,FruitOfFulfillment:Bue,HakushinRing:Gue,JadefallsSplendor:Que,KagurasVerity:ege,LostPrayerToTheSacredWinds:oge,MagicGuide:mge,MappaMare:fge,MemoryOfDust:xge,OathswornEye:Ige,OtherworldlyStory:Oge,PocketGrimoire:Fge,PrototypeAmber:zge,QuantumCatalyst:Yge,RoyalGrimoire:nhe,SacrificialFragments:ohe,SacrificialJade:ghe,SkywardAtlas:_he,SolarPearl:Phe,TheWidsith:Ihe,ThrillingTalesOfDragonSlayers:Fhe,TomeOfTheEternalFlow:Lhe,TulaytullahsRemembrance:tpe,TwinNephrite:lpe,WanderingEvenstar:dpe,WineAndSong:ppe},Gu="Akuoumaru",Ij=g.weapon.data[Gu],[,fpe]=O("weapon",Gu),[_pe,Rj]=r(Gu,"WatatsumiWavewalker"),Hj=b(4,36).map(t=>t*10),vpe=[-1,.0012,.0015,.0018,.0021,.0024],bpe=[-1,.4,.5,.6,.7,.8],Ej=v(Rj,Object.fromEntries(Hj.map(t=>[t,da(m(u(e.weapon.refinement,vpe,{unit:"%"}),t),u(e.weapon.refinement,bpe,{unit:"%"}))])),y),$pe=f(Gu,Ij,{premod:{burst_dmg_:Ej}}),ype={document:[{value:Rj,path:_pe,header:h(Gu,l("stacks")),name:fpe("party"),states:Object.fromEntries(Hj.map(t=>[t,{name:t.toString(),fields:[{node:Ej}]}]))}]},Tpe=new k(Gu,ype,Ij,$pe),bo="BeaconOfTheReedSea",Oj=g.weapon.data[bo],Ppe=[-1,.2,.25,.3,.35,.4],[wpe,Mj]=r(bo,"afterSkill"),Kj=i(e.weapon.key,bo,i(Mj,"on",u(e.weapon.refinement,Ppe,{path:"atk_"}))),xpe=[-1,.2,.25,.3,.35,.4],[Dpe,Fj]=r(bo,"afterDmg"),Nj=i(e.weapon.key,bo,i(Fj,"on",u(e.weapon.refinement,xpe,{path:"atk_"}))),Spe=[-1,.32,.4,.48,.56,.64],[Cpe,jj]=r(bo,"noShield"),Gj=i(e.weapon.key,bo,i(jj,"on",u(e.weapon.refinement,Spe,{path:"hp_"}))),Bpe=f(bo,Oj,{premod:{atk_:P(Kj,Nj),hp_:Gj}},{}),Ape={document:[{header:h(bo,l("conditional")),path:wpe,value:Mj,name:l("hitOp.skill"),states:{on:{fields:[{node:Kj},{text:s("duration"),value:8,unit:"s"}]}}},{header:h(bo,l("conditional")),path:Dpe,value:Fj,name:l("takeDmg"),states:{on:{fields:[{node:Nj},{text:s("duration"),value:8,unit:"s"}]}}},{header:h(bo,l("conditional")),path:Cpe,value:jj,name:l("notProtectedByShield"),states:{on:{fields:[{node:Gj}]}}}]},Ipe=new k(bo,Ape,Oj,Bpe),Gh="BlackcliffSlasher",Wj=g.weapon.data[Gh],[Rpe,Lj]=r(Gh,"PressTheAdvantage"),zj=b(1,3),Hpe=[-1,.12,.15,.18,.21,.24],Uj=m(v(Lj,_(zj,t=>p(t)),0),u(e.weapon.refinement,Hpe)),Epe=f(Gh,Wj,{premod:{atk_:Uj}}),Ope={document:[{value:Lj,path:Rpe,header:h(Gh,l("stacks")),name:l("afterDefeatEnemy"),states:Object.fromEntries(zj.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:Uj},{text:s("duration"),value:30,unit:"s"}]}]))}]},Mpe=new k(Gh,Ope,Wj,Epe),Wh="BloodtaintedGreatsword",Vj=g.weapon.data[Wh],Kpe=[-1,.12,.15,.18,.21,.24],[Fpe,qj]=r(Wh,"BaneOfFireAndThunder"),Jj=i("on",qj,u(e.weapon.refinement,Kpe)),Npe=f(Wh,Vj,{premod:{all_dmg_:Jj}}),jpe={document:[{value:qj,path:Fpe,name:l("enemyAffected.pyroOrElectro"),header:h(Wh,l("conditional")),states:{on:{fields:[{node:Jj}]}}}]},Gpe=new k(Wh,jpe,Vj,Npe),Lh="DebateClub",Qj=g.weapon.data[Lh],Wpe=[-1,.6,.75,.9,1.05,1.2],Xj=i(e.weapon.key,Lh,C(m(u(e.weapon.refinement,Wpe,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Lpe=f(Lh,Qj,void 0,{dmg:Xj}),zpe={document:[{header:h(Lh,l("base")),fields:[{node:a(Xj,{name:l("dmg")})}]}]},Upe=new k(Lh,zpe,Qj,Lpe),s1="FavoniusGreatsword",Yj=g.weapon.data[s1],Vpe=f(s1,Yj),qpe={document:[{header:h(s1),fields:[]}]},Jpe=new k(s1,qpe,Yj,Vpe),Wu="FerrousShadow",Zj=g.weapon.data[Wu],[,VT]=O("weapon",Wu),Qpe=[-1,.3,.35,.4,.45,.5],[Xpe,e8]=r(Wu,"Unbending"),t8=i("on",e8,u(e.weapon.refinement,Qpe)),Ype=f(Wu,Zj,{premod:{charged_dmg_:t8}}),Zpe={document:[{value:e8,path:Xpe,name:VT("condName"),header:h(Wu,l("conditional")),states:{on:{fields:[{node:t8},{text:VT("resistance")}]}}}]},eke=new k(Wu,Zpe,Zj,Ype),Lu="ForestRegalia",a8=g.weapon.data[Lu],[,tke]=O("weapon",Lu),[ake,n8]=r(Lu,"passive"),nke=[-1,60,75,90,105,120],s8=i(n8,"on",u(e.weapon.refinement,nke)),ske=i(e.activeCharKey,E.charKey,s8),lke=f(Lu,a8,{teamBuff:{premod:{eleMas:ske}}}),oke={document:[{value:n8,path:ake,teamBuff:!0,header:h(Lu,l("conditional")),name:tke("condName"),states:{on:{fields:[{node:a(s8,{path:"eleMas"})},{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:20,unit:"s"}]}}}]},ike=new k(Lu,oke,a8,lke),l1="KatsuragikiriNagamasa",l8=g.weapon.data[l1],cke=[-1,.06,.075,.09,.105,.12],o8=u(e.weapon.refinement,cke),rke=f(l1,l8,{premod:{skill_dmg_:o8}}),dke={document:[{header:h(l1,l("base")),fields:[{node:o8}]}]},mke=new k(l1,dke,l8,rke),o1="LithicBlade",i8=g.weapon.data[o1],uke=[-1,.07,.08,.09,.1,.11],gke=[-1,.03,.04,.05,.06,.07],c8=m(u(e.weapon.refinement,uke,{unit:"%"}),j.liyue),r8=m(u(e.weapon.refinement,gke,{unit:"%"}),j.liyue),hke=f(o1,i8,{premod:{atk_:c8,critRate_:r8}}),pke={document:[{header:h(o1,l("stacks")),fields:[{node:c8},{node:r8}]}]},kke=new k(o1,pke,i8,hke),$u="LuxuriousSeaLord",d8=g.weapon.data[$u],fke=[-1,.12,.15,.18,.21,.24],_ke=[-1,1,1.25,1.5,1.75,2],m8=u(e.weapon.refinement,fke),u8=i(e.weapon.key,$u,C(m(u(e.weapon.refinement,_ke,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),vke=f($u,d8,{premod:{burst_dmg_:m8}},{dmg:u8}),bke={document:[{header:h($u,l("base")),fields:[{node:m8}]},{header:h($u,l("conditional")),fields:[{node:a(u8,{name:l("dmg")})},{text:s("cd"),value:15,unit:"s"}]}]},$ke=new k($u,bke,d8,vke),zu="MailedFlower",g8=g.weapon.data[zu],[,yke]=O("weapon",zu),Tke=[-1,.12,.15,.18,.21,.24],Pke=[-1,48,60,72,84,96],[wke,Q2]=r(zu,"passive"),h8=i(Q2,"on",u(e.weapon.refinement,Tke,{unit:"%"})),p8=i(Q2,"on",u(e.weapon.refinement,Pke)),xke=f(zu,g8,{premod:{atk_:h8,eleMas:p8}}),Dke={document:[{value:Q2,path:wke,name:yke("condName"),header:h(zu,l("conditional")),states:{on:{fields:[{node:h8},{node:p8},{text:s("duration"),value:8,unit:"s"}]}}}]},Ske=new k(zu,Dke,g8,xke),lm="MakhairaAquamarine",k8=g.weapon.data[lm],Cke=[-1,.24,.3,.36,.42,.48],s_=i(e.weapon.key,lm,m(u(e.weapon.refinement,Cke,{unit:"%"}),e.premod.eleMas)),X2=i(e.weapon.key,lm,m(d(.3),s_)),Bke=M(e.activeCharKey,e.charKey,X2),Ake=f(lm,k8,{total:{atk:s_},teamBuff:{total:{atk:Bke}}},{selfAtk:s_,teamAtkDisp:X2}),Ike={document:[{header:h(lm,l("base")),fields:[{node:s_}]},{header:h(lm,l("teamBuff")),teamBuff:!0,fields:[{node:a(X2,{path:"atk",isTeamBuff:!0})}]}]},Rke=new k(lm,Ike,k8,Ake),Y2="OldMercsPal",f8=g.weapon.data[Y2],Hke=f(Y2,f8),Eke={document:[]},Oke=new k(Y2,Eke,f8,Hke),Uu="PortablePowerSaw",_8=g.weapon.data[Uu],[,Mke]=O("weapon",Uu),Kke=[-1,40,50,60,70,80],[Fke,v8]=r(Uu,"symbolsConsumed"),b8=b(1,3),$8=v(v8,_(b8,t=>m(t,u(e.weapon.refinement,Kke,{unit:"%"}))),y),Nke=f(Uu,_8,{premod:{eleMas:$8}}),jke={document:[{value:v8,path:Fke,teamBuff:!0,header:h(Uu,l("stacks")),name:Mke("condName"),states:_(b8,t=>({name:`${t}`,fields:[{node:$8},{text:s("duration"),value:10,unit:"s"},{text:s("cd"),value:15,unit:"s"}]}))}]},Gke=new k(Uu,jke,_8,Nke),zh="PrototypeArchaic",y8=g.weapon.data[zh],Wke=[-1,2.4,3,3.6,4.2,4.8],T8=i(e.weapon.key,zh,C(m(u(e.weapon.refinement,Wke,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:p("physical")}})),Lke=f(zh,y8,void 0,{dmg:T8}),zke={document:[{header:h(zh,l("base")),fields:[{node:a(T8,{name:l("dmg")})}]}]},Uke=new k(zh,zke,y8,Lke),Uh="Rainslasher",P8=g.weapon.data[Uh],Vke=[-1,.2,.24,.28,.32,.36],[qke,w8]=r(Uh,"BaneOfStormAndTide"),x8=i("on",w8,u(e.weapon.refinement,Vke)),Jke=f(Uh,P8,{premod:{all_dmg_:x8}}),Qke={document:[{value:w8,path:qke,name:l("enemyAffected.hydroOrElectro"),header:h(Uh,l("conditional")),states:{on:{fields:[{node:x8}]}}}]},Xke=new k(Uh,Qke,P8,Jke),Vu="RedhornStonethresher",D8=g.weapon.data[Vu],Yke=[-1,.28,.35,.42,.49,.56],Zke=[-1,.4,.5,.6,.7,.8],efe=[-1,.4,.5,.6,.7,.8],S8=u(e.weapon.refinement,Yke),Cb=i(e.weapon.key,Vu,m(u(e.weapon.refinement,Zke,{unit:"%"}),e.premod.def)),Bb=i(e.weapon.key,Vu,m(u(e.weapon.refinement,efe,{unit:"%"}),e.premod.def)),tfe=f(Vu,D8,{premod:{def_:S8,normal_dmgInc:Cb,charged_dmgInc:Bb}},{normal_dmgInc:Cb,charged_dmgInc:Bb}),afe={document:[{header:h(Vu,l("base")),fields:[{node:S8},{node:Cb},{node:Bb}]}]},nfe=new k(Vu,afe,D8,tfe),Vh="RoyalGreatsword",C8=g.weapon.data[Vh],[sfe,B8]=r(Vh,"stack"),lfe=[-1,.08,.1,.12,.14,.16],A8=v(B8,_(b(1,5),t=>m(u(e.weapon.refinement,lfe,{unit:"%"}),t)),y),ofe=f(Vh,C8,{premod:{critRate_:A8}}),ife={document:[{value:B8,path:sfe,name:l("stacks"),header:h(Vh,l("stacks")),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:A8}]}]))}]},cfe=new k(Vh,ife,C8,ofe),i1="SacrificialGreatsword",I8=g.weapon.data[i1],rfe=f(i1,I8),dfe={document:[{header:h(i1),fields:[]}]},mfe=new k(i1,dfe,I8,rfe),qu="SerpentSpine",R8=g.weapon.data[qu],[,ufe]=O("weapon",qu),gfe=[-1,.06,.07,.08,.09,.1],hfe=[-1,3,2.7,2.4,2.2,2],[pfe,H8]=r(qu,"Wavesplitter"),kfe=u(e.weapon.refinement,gfe,{unit:"%"}),E8=v(H8,{..._(b(1,5),t=>m(kfe,t))},y),ffe=f(qu,R8,{premod:{all_dmg_:E8}}),_fe={document:[{value:H8,path:pfe,header:h(qu,l("stacks")),name:l("activeCharField"),states:{..._(b(1,5),t=>({name:l("seconds",{count:t*4}),fields:[{node:E8},{text:ufe("takeMoreDmg"),value:o=>hfe[o.get(e.weapon.refinement).value]*t,unit:"%"}]}))}}]},vfe=new k(qu,_fe,R8,ffe),qh="SkyriderGreatsword",O8=g.weapon.data[qh],[bfe,M8]=r(qh,"stack"),$fe=[-1,.06,.07,.08,.09,.1],K8=v(M8,_(b(1,4),t=>m(u(e.weapon.refinement,$fe,{unit:"%"}),t)),y),yfe=f(qh,O8,{premod:{atk_:K8}}),Tfe={document:[{value:M8,path:bfe,name:l("hitOp.normalOrCharged"),header:h(qh,l("stacks")),states:Object.fromEntries(b(1,4).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:K8},{text:s("duration"),value:6,unit:"s"}]}]))}]},Pfe=new k(qh,Tfe,O8,yfe),Jh="SkywardPride",F8=g.weapon.data[Jh],wfe=[-1,.08,.1,.12,.14,.16],xfe=[-1,.8,1,1.2,1.4,1.6],N8=u(e.weapon.refinement,wfe),j8=i(e.weapon.key,Jh,C(m(u(e.weapon.refinement,xfe,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Dfe=f(Jh,F8,{premod:{all_dmg_:N8}},{dmg:j8}),Sfe={document:[{header:h(Jh,l("base")),fields:[{node:N8},{node:a(j8,{name:l("dmg")})}]}]},Cfe=new k(Jh,Sfe,F8,Dfe),wr="SnowTombedStarsilver",G8=g.weapon.data[wr],Bfe=[-1,.8,.95,1.1,1.25,1.4],Afe=[-1,2,2.4,2.8,3.2,3.6],W8=i(e.weapon.key,wr,C(m(u(e.weapon.refinement,Bfe,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),L8=i(e.weapon.key,wr,C(m(u(e.weapon.refinement,Afe,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Ife=f(wr,G8,void 0,{dmgAoe:W8,dmgOnCryoOp:L8}),Rfe={document:[{header:h(wr,l("base")),fields:[{node:a(W8,{name:k.trm(wr)("aoeDmg")})},{node:a(L8,{name:k.trm(wr)("cryoAffectedDmg")})}]}]},Hfe=new k(wr,Rfe,G8,Ife),om="SongOfBrokenPines",z8=g.weapon.data[om],[,Efe]=O("weapon",om),Ofe=[-1,.16,.2,.24,.28,.32],Mfe=[-1,.2,.25,.3,.35,.4],Kfe=[-1,.12,.15,.18,.21,.24],[Ffe,Z2]=r(om,"RebelsBannerHymn"),U8=u(e.weapon.refinement,Ofe,{unit:"%"}),V8=i("on",Z2,u(e.weapon.refinement,Mfe,{path:"atk_"})),q8=i("on",Z2,u(e.weapon.refinement,Kfe)),Nfe=f(om,z8,{premod:{atk_:U8},teamBuff:{premod:{atk_:V8,atkSPD_:q8}}}),jfe={document:[{header:h(om,l("base")),fields:[{node:U8}]},{value:Z2,path:Ffe,teamBuff:!0,header:h(om,l("conditional")),name:Efe("name"),states:{on:{fields:[{node:V8},{node:q8},{text:s("duration"),value:12,unit:"s"}]}}}]},Gfe=new k(om,jfe,z8,Nfe),Ir="TalkingStick",J8=g.weapon.data[Ir],[,qT]=O("weapon",Ir),Wfe=[-1,.16,.2,.24,.28,.32],Lfe=[-1,.12,.15,.18,.21,.24],[zfe,Q8]=r(Ir,"affectedPyro"),X8=i(Q8,"on",u(e.weapon.refinement,Wfe)),[Ufe,Y8]=r(Ir,"affectedOther"),Vfe=i(Y8,"on",u(e.weapon.refinement,Lfe)),Z8=_(ye.map(t=>`${t}_dmg_`),()=>({...Vfe})),qfe=f(Ir,J8,{premod:{atk_:X8,...Z8}}),Jfe={document:[{value:Q8,path:zfe,header:h(Ir,l("conditional")),name:qT("condName.atk_"),states:{on:{fields:[{node:X8},{text:s("duration"),value:15,unit:"s"},{text:s("cd"),value:12,unit:"s"}]}}},{value:Y8,path:Ufe,header:h(Ir,l("conditional")),name:qT("condName.dmg_"),states:{on:{fields:[...Object.values(Z8).map(t=>({node:t})),{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:12,unit:"s"}]}}}]},Qfe=new k(Ir,Jfe,J8,qfe),Rr="TheBell",eG=g.weapon.data[Rr],Xfe=[-1,.2,.23,.26,.29,.32],Yfe=[-1,.12,.15,.18,.21,.24],[Zfe,tG]=r(Rr,"RebelliousGuardian"),aG=i(e.weapon.key,Rr,i(tG,"on",Ng(m(u(e.weapon.refinement,Xfe,{unit:"%"}),e.total.hp)))),[e_e,nG]=r(Rr,"WithShield"),sG=i(nG,"protected",u(e.weapon.refinement,Yfe,{unit:"%"})),t_e=f(Rr,eG,{premod:{all_dmg_:sG}},{shield:aG}),a_e={document:[{value:tG,path:Zfe,header:h(Rr,l("conditional")),name:l("takeDmg"),states:{on:{fields:[{node:a(aG,{name:s("dmgAbsorption")})},{text:s("cd"),value:45,unit:"s"}]}}},{value:nG,path:e_e,header:h(Rr,l("conditional")),name:l("protectedByShield"),states:{protected:{fields:[{node:sG}]}}}]},n_e=new k(Rr,a_e,eG,t_e),Hc="TheUnforged",lG=g.weapon.data[Hc],[,s_e]=O("weapon",Hc),l_e=[-1,.2,.25,.3,.35,.4],o_e=[-1,.04,.05,.06,.07,.08],[i_e,oG]=r(Hc,"GoldenMajesty"),iG=u(e.weapon.refinement,l_e),[c_e,cG]=r(Hc,"WithShield"),r_e=u(e.weapon.refinement,o_e),rG=m(P(1,i(cG,"protected",1)),v(oG,Object.fromEntries(b(1,5).map(t=>[t,m(r_e,t)])),y)),d_e=f(Hc,lG,{premod:{shield_:iG,atk_:rG}}),m_e={document:[{header:h(Hc,l("base")),fields:[{node:iG}]},{value:oG,path:i_e,header:h(Hc,l("stacks")),name:l("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:rG},{text:s("duration"),value:8,unit:"s"}]}]))},{value:cG,path:c_e,header:h(Hc,l("conditional")),name:l("protectedByShield"),states:{protected:{fields:[{text:s_e("atkEffInc"),value:100,unit:"%"}]}}}]},u_e=new k(Hc,m_e,lG,d_e),Qh="TidalShadow",dG=g.weapon.data[Qh],g_e=[-1,.24,.3,.36,.42,.48],[h_e,mG]=r(Qh,"afterHeal"),uG=i(mG,"on",u(e.weapon.refinement,g_e)),p_e=f(Qh,dG,{premod:{atk_:uG}}),k_e={document:[{header:h(Qh,l("conditional")),path:h_e,value:mG,name:l("afterHeal"),states:{on:{fields:[{node:uG},{text:s("duration"),value:8,unit:"s"}]}}}]},f_e=new k(Qh,k_e,dG,p_e),Fc="UltimateOverlordsMegaMagicSword",ey=g.weapon.data[Fc],[,__e]=O("weapon",Fc),gG=ey.refinementBonus.atk_;if(!gG)throw new Error(`data_gen.refinementBonus.atk_ for ${Fc} was undefined`);const v_e=[-1,.01,.0125,.015,.0175,.02],hG=i(e.weapon.key,Fc,u(e.weapon.refinement,gG),{path:"atk_"}),[b_e,pG]=r(Fc,"melusines"),kG=b(1,12),fG=v(pG,_(kG,t=>m(t,u(e.weapon.refinement,v_e,{unit:"%"}))),y,{path:"atk_"}),$_e=f(Fc,ey,{premod:{atk_:P(hG,fG)}}),y_e={document:[{header:h(Fc,l("base")),fields:[{node:hG}]},{value:pG,path:b_e,header:h(Fc,l("stacks")),name:__e("condName"),states:_(kG,t=>({name:`${t}`,fields:[{node:fG}]}))}]},T_e=new k(Fc,y_e,ey,$_e),Nc="Verdict",ty=g.weapon.data[Nc],[,P_e]=O("weapon",Nc),_G=ty.refinementBonus.atk_;if(!_G)throw new Error(`data_gen.refinementBonus.atk_ for ${Nc} was undefined`);const w_e=[-1,.18,.225,.27,.315,.36],vG=i(e.weapon.key,Nc,u(e.weapon.refinement,_G)),[x_e,bG]=r(Nc,"seals"),$G=b(1,2),yG=v(bG,_($G,t=>m(t,u(e.weapon.refinement,w_e,{unit:"%"}))),y),D_e=f(Nc,ty,{premod:{atk_:vG,skill_dmg_:yG}}),S_e={document:[{header:h(Nc,l("base")),fields:[{node:vG}]},{value:bG,path:x_e,header:h(Nc,l("stacks")),name:P_e("condName"),states:_($G,t=>({name:`${t}`,fields:[{node:yG}]}))}]},C_e=new k(Nc,S_e,ty,D_e),ay="WasterGreatsword",ny=g.weapon.data[ay],B_e=f(ay,ny),A_e={...ny,document:[]},I_e=new k(ay,A_e,ny,B_e),Ju="WhiteIronGreatsword",TG=g.weapon.data[Ju],R_e=[-1,.08,.1,.12,.14,.16],[H_e,PG]=r(Ju,"CullTheWeak"),wG=i(e.weapon.key,Ju,i(PG,"on",jn(m(u(e.weapon.refinement,R_e,{unit:"%"}),e.total.hp)))),E_e=f(Ju,TG,void 0,{heal:wG}),O_e={document:[{value:PG,path:H_e,name:l("afterDefeatEnemy"),header:h(Ju,l("conditional")),states:{on:{fields:[{node:a(wG,{name:s("healing"),variant:"heal"})}]}}}]},M_e=new k(Ju,O_e,TG,E_e),Xh="Whiteblind",xG=g.weapon.data[Xh],[K_e,sy]=r(Xh,"stack"),DG=[-1,.06,.075,.09,.105,.12],SG=v(sy,_(b(1,4),t=>m(u(e.weapon.refinement,DG,{unit:"%"}),t)),y),CG=v(sy,_(b(1,4),t=>m(u(e.weapon.refinement,DG,{unit:"%"}),t)),y),F_e=f(Xh,xG,{premod:{atk_:SG,def_:CG}}),N_e={document:[{value:sy,path:K_e,name:l("hitOp.normalOrCharged"),header:h(Xh,l("stacks")),states:Object.fromEntries(b(1,4).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:SG},{node:CG},{text:s("duration"),value:6,unit:"s"}]}]))}]},j_e=new k(Xh,N_e,xG,F_e),yu="WolfsGravestone",BG=g.weapon.data[yu],G_e=[-1,.2,.25,.3,.35,.4],W_e=[-1,.4,.5,.6,.7,.8],[L_e,AG]=r(yu,"WolfishTracker"),IG=u(e.weapon.refinement,G_e),RG=i("on",AG,u(e.weapon.refinement,W_e,{path:"atk_"})),z_e=f(yu,BG,{premod:{atk_:IG},teamBuff:{premod:{atk_:RG}}}),U_e={document:[{header:h(yu,l("base")),fields:[{node:IG}]},{value:AG,path:L_e,teamBuff:!0,header:h(yu,l("conditional")),name:l("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:RG},{text:s("duration"),value:12,unit:"s"}]}}}]},V_e=new k(yu,U_e,BG,z_e),q_e={Akuoumaru:Tpe,BeaconOfTheReedSea:Ipe,BlackcliffSlasher:Mpe,BloodtaintedGreatsword:Gpe,DebateClub:Upe,FavoniusGreatsword:Jpe,FerrousShadow:eke,ForestRegalia:ike,KatsuragikiriNagamasa:mke,LithicBlade:kke,LuxuriousSeaLord:$ke,MailedFlower:Ske,MakhairaAquamarine:Rke,OldMercsPal:Oke,PortablePowerSaw:Gke,PrototypeArchaic:Uke,Rainslasher:Xke,RedhornStonethresher:nfe,RoyalGreatsword:cfe,SacrificialGreatsword:mfe,SerpentSpine:vfe,SkyriderGreatsword:Pfe,SkywardPride:Cfe,SnowTombedStarsilver:Hfe,SongOfBrokenPines:Gfe,TalkingStick:Qfe,TheBell:n_e,TheUnforged:u_e,TidalShadow:f_e,UltimateOverlordsMegaMagicSword:T_e,Verdict:C_e,WasterGreatsword:I_e,Whiteblind:j_e,WhiteIronGreatsword:M_e,WolfsGravestone:V_e},c1="BalladOfTheFjords",HG=g.weapon.data[c1],J_e=[-1,120,150,180,210,240],Ab=n(j.ele,3,u(e.weapon.refinement,J_e)),Q_e=f(c1,HG,{premod:{eleMas:Ab}}),X_e={document:[{header:h(c1,l("talents.passive")),canShow:M(Ab,0,1),fields:[{node:Ab}]}]},Y_e=new k(c1,X_e,HG,Q_e),ly="BeginnersProtector",oy=g.weapon.data[ly],Z_e=f(ly,oy),e1e={...oy,document:[]},t1e=new k(ly,e1e,oy,Z_e),Qu="BlackTassel",EG=g.weapon.data[Qu],[,a1e]=O("weapon",Qu),n1e=[-1,.4,.5,.6,.7,.8],[s1e,OG]=r(Qu,"PressTheAdvantage"),MG=i("on",OG,u(e.weapon.refinement,n1e)),l1e=f(Qu,EG,{premod:{all_dmg_:MG}}),o1e={document:[{value:OG,path:s1e,header:h(Qu,l("conditional")),name:a1e("condName"),states:{on:{fields:[{node:MG}]}}}]},i1e=new k(Qu,o1e,EG,l1e),Yh="BlackcliffPole",KG=g.weapon.data[Yh],[c1e,FG]=r(Yh,"PressTheAdvantage"),NG=b(1,3),r1e=[-1,.12,.15,.18,.21,.24],jG=m(v(FG,_(NG,t=>p(t)),0),u(e.weapon.refinement,r1e)),d1e=f(Yh,KG,{premod:{atk_:jG}}),m1e={document:[{value:FG,path:c1e,teamBuff:!0,header:h(Yh,l("stacks")),name:l("afterDefeatEnemy"),states:Object.fromEntries(NG.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:jG},{text:s("duration"),value:30,unit:"s"}]}]))}]},u1e=new k(Yh,m1e,KG,d1e),im="CalamityQueller",GG=g.weapon.data[im],[,Ib]=O("weapon",im),[g1e,WG]=r(im,"stack"),h1e=[-1,.12,.15,.18,.21,.24],p1e=[-1,.032,.04,.048,.056,.064],LG=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,u(e.weapon.refinement,h1e)])),zG=m(Qs(e.charKey,e.activeCharKey,a(p(1),{name:Ib("active")}),a(p(1),{name:Ib("inactive")})),v(WG,_(b(1,6),t=>a(p(t),{name:l("stacks")})),0),u(e.weapon.refinement,p1e)),k1e=f(im,GG,{premod:{...LG,atk_:zG}}),f1e={document:[{header:h(im,l("base")),fields:Object.values(LG).map(t=>({node:t}))},{value:WG,path:g1e,teamBuff:!0,header:h(im,l("stacks")),name:Ib("effectName"),states:Object.fromEntries(b(1,6).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:zG}]}]))}]},_1e=new k(im,f1e,GG,k1e),Zh="CrescentPike",UG=g.weapon.data[Zh],v1e=[-1,.2,.25,.3,.35,.4],VG=i(e.weapon.key,Zh,C(m(e.total.atk,u(e.weapon.refinement,v1e,{unit:"%"})),"elemental",{hit:{ele:p("physical")}})),b1e=f(Zh,UG,void 0,{hit:VG}),$1e={document:[{header:h(Zh,l("talents.passive")),fields:[{node:a(VG,{name:l("dmg")})}]}]},y1e=new k(Zh,$1e,UG,b1e),Xu="Deathmatch",qG=g.weapon.data[Xu],[,T1e]=O("weapon",Xu),[P1e,iy]=r(Xu,"stack"),JG=[-1,.16,.2,.24,.28,.32],w1e=[-1,.24,.3,.36,.42,.48],Rb=v(iy,{oneOrNone:u(e.weapon.refinement,w1e,{unit:"%"}),moreThanOne:u(e.weapon.refinement,JG,{unit:"%"})},y),Hb=i(iy,"moreThanOne",u(e.weapon.refinement,JG,{unit:"%"})),x1e=f(Xu,qG,{premod:{atk_:Rb,def_:Hb}}),D1e={document:[{value:iy,path:P1e,teamBuff:!0,header:h(Xu,l("conditional")),name:T1e("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:Rb},{node:Hb}]},moreThanOne:{name:"≥2",fields:[{node:Rb},{node:Hb}]}}}]},S1e=new k(Xu,D1e,qG,x1e),r1="DialoguesOfTheDesertSages",QG=g.weapon.data[r1],C1e=f(r1,QG),B1e={document:[{header:h(r1),fields:[]}]},A1e=new k(r1,B1e,QG,C1e),ep="DragonsBane",XG=g.weapon.data[ep],I1e=[-1,.2,.24,.28,.32,.36],[R1e,YG]=r(ep,"BaneOfFlameAndWater"),ZG=i("on",YG,u(e.weapon.refinement,I1e)),H1e=f(ep,XG,{premod:{all_dmg_:ZG}}),E1e={document:[{value:YG,path:R1e,header:h(ep,l("conditional")),name:l("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:ZG}]}}}]},O1e=new k(ep,E1e,XG,H1e),xr="DragonspineSpear",e7=g.weapon.data[xr],M1e=[-1,.8,.95,1.1,1.25,1.4],K1e=[-1,2,2.4,2.8,3.2,3.6],t7=i(e.weapon.key,xr,C(m(u(e.weapon.refinement,M1e,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),a7=i(e.weapon.key,xr,C(m(u(e.weapon.refinement,K1e,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),F1e=f(xr,e7,void 0,{dmgAoe:t7,dmgOnCryoOp:a7}),N1e={document:[{header:h(xr,l("base")),fields:[{node:a(t7,{name:k.trm(xr)("aoeDmg")})},{node:a(a7,{name:k.trm(xr)("cryoAffectedDmg")})}]}]},j1e=new k(xr,N1e,e7,F1e),cm="EngulfingLightning",n7=g.weapon.data[cm],G1e=[-1,.28,.35,.42,.49,.56],W1e=[-1,.8,.9,1,1.1,1.2],Eb=i(e.weapon.key,cm,da(m(u(e.weapon.refinement,G1e),P(e.premod.enerRech_,d(-1))),u(e.weapon.refinement,W1e))),L1e=[-1,.3,.35,.4,.45,.5,.55],[z1e,s7]=r(cm,"TimelessDream"),l7=i("on",s7,u(e.weapon.refinement,L1e)),U1e=f(cm,n7,{premod:{atk_:Eb,enerRech_:l7}},{atk_:Eb}),V1e={document:[{header:h(cm,l("base")),fields:[{node:Eb}]},{teamBuff:!0,value:s7,path:z1e,header:h(cm,l("conditional")),name:l("afterUse.burst"),states:{on:{fields:[{node:l7},{text:s("duration"),value:12,unit:"s"}]}}}]},q1e=new k(cm,V1e,n7,U1e),d1="FavoniusLance",o7=g.weapon.data[d1],J1e=f(d1,o7),Q1e={document:[{header:h(d1),fields:[]}]},X1e=new k(d1,Q1e,o7,J1e),tp="Halberd",i7=g.weapon.data[tp],Y1e=[-1,1.6,2,2.4,2.8,3.2],c7=i(e.weapon.key,tp,C(m(u(e.weapon.refinement,Y1e,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Z1e=f(tp,i7,void 0,{dmg:c7}),eve={document:[{header:h(tp,l("base")),fields:[{node:a(c7,{name:l("dmg")})}]}]},tve=new k(tp,eve,i7,Z1e),cy="IronPoint",ry=g.weapon.data[cy],ave=f(cy,ry),nve={...ry,document:[]},sve=new k(cy,nve,ry,ave),m1="KitainCrossSpear",r7=g.weapon.data[m1],lve=[-1,.06,.075,.09,.105,.12],d7=u(e.weapon.refinement,lve),ove=f(m1,r7,{premod:{skill_dmg_:d7}}),ive={document:[{header:h(m1,l("base")),fields:[{node:d7}]}]},cve=new k(m1,ive,r7,ove),u1="LithicSpear",m7=g.weapon.data[u1],rve=[-1,.07,.08,.09,.1,.11],dve=[-1,.03,.04,.05,.06,.07],u7=m(u(e.weapon.refinement,rve,{unit:"%"}),j.liyue),g7=m(u(e.weapon.refinement,dve,{unit:"%"}),j.liyue),mve=f(u1,m7,{premod:{atk_:u7,critRate_:g7}}),uve={document:[{header:h(u1,l("stacks")),fields:[{node:u7},{node:g7}]}]},gve=new k(u1,uve,m7,mve),ap="MissiveWindspear",h7=g.weapon.data[ap],[hve,dy]=r(ap,"passive"),pve=[-1,.12,.15,.18,.21,.24],kve=[-1,48,60,72,84,96],p7=i(dy,"on",u(e.weapon.refinement,pve,{unit:"%"})),k7=i(dy,"on",u(e.weapon.refinement,kve)),fve=f(ap,h7,{premod:{atk_:p7,eleMas:k7}}),_ve={document:[{value:dy,path:hve,teamBuff:!0,header:h(ap,l("conditional")),name:l("afterReaction"),states:{on:{fields:[{node:p7},{node:k7},{text:s("duration"),value:10,unit:"s"}]}}}]},vve=new k(ap,_ve,h7,fve),Yu="Moonpiercer",f7=g.weapon.data[Yu],[,bve]=O("weapon",Yu),[$ve,_7]=r(Yu,"passive"),yve=[-1,.16,.2,.24,.28,.32],v7=i(_7,"on",u(e.weapon.refinement,yve,{unit:"%"})),Tve=i(e.activeCharKey,E.charKey,v7),Pve=f(Yu,f7,{teamBuff:{premod:{atk_:Tve}}}),wve={document:[{value:_7,path:$ve,teamBuff:!0,header:h(Yu,l("conditional")),name:bve("condName"),states:{on:{fields:[{node:a(v7,{path:"atk_"})},{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:20,unit:"s"}]}}}]},xve=new k(Yu,wve,f7,Pve),np="PrimordialJadeWingedSpear",b7=g.weapon.data[np],[Dve,my]=r(np,"stack"),Sve=[-1,.032,.039,.046,.053,.06],Cve=[-1,.12,.15,.18,.21,.24],$7=v(my,_(b(1,7),t=>m(u(e.weapon.refinement,Sve,{unit:"%"}),t)),y),y7=i(my,"7",u(e.weapon.refinement,Cve,{unit:"%"})),Bve=f(np,b7,{premod:{atk_:$7,all_dmg_:y7}}),Ave={document:[{value:my,path:Dve,teamBuff:!0,header:h(np,l("stacks")),name:l("hitOp.none"),states:Object.fromEntries(b(1,7).map(t=>[t,{name:l("hits",{count:t}),fields:[{node:$7},{node:y7}]}]))}]},Ive=new k(np,Ave,b7,Bve),Zu="ProspectorsDrill",T7=g.weapon.data[Zu],[,Rve]=O("weapon",Zu),Hve=[-1,.03,.04,.05,.06,.07],Eve=[-1,.07,.085,.1,.115,.13],[Ove,uy]=r(Zu,"marksConsumed"),gy=b(1,3),P7=v(uy,_(gy,t=>m(t,u(e.weapon.refinement,Hve,{unit:"%"}))),y),Mve=v(uy,_(gy,t=>m(t,u(e.weapon.refinement,Eve,{unit:"%"}))),y),w7=_(ye.map(t=>`${t}_dmg_`),()=>({...Mve})),Kve=f(Zu,T7,{premod:{atk_:P7,...w7}}),Fve={document:[{value:uy,path:Ove,teamBuff:!0,header:h(Zu,l("stacks")),name:Rve("condName"),states:_(gy,t=>({name:`${t}`,fields:[{node:P7},...Object.values(w7).map(o=>({node:o})),{text:s("duration"),value:10,unit:"s"},{text:s("cd"),value:15,unit:"s"}]}))}]},Nve=new k(Zu,Fve,T7,Kve),sp="PrototypeStarglitter",x7=g.weapon.data[sp],[jve,hy]=r(sp,"stack"),D7=[-1,.08,.1,.12,.14,.16],S7=v(hy,_(b(1,2),t=>m(u(e.weapon.refinement,D7,{unit:"%"}),t)),y),C7=v(hy,_(b(1,2),t=>m(u(e.weapon.refinement,D7,{unit:"%"}),t)),y),Gve=f(sp,x7,{premod:{normal_dmg_:S7,charged_dmg_:C7}}),Wve={document:[{value:hy,path:jve,header:h(sp,l("stacks")),name:l("afterUse.skill"),states:Object.fromEntries(b(1,2).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:S7},{node:C7}]}]))}]},Lve=new k(sp,Wve,x7,Gve),g1="RightfulReward",B7=g.weapon.data[g1],zve=f(g1,B7),Uve={document:[{header:h(g1),fields:[]}]},Vve=new k(g1,Uve,B7,zve),lp="RoyalSpear",A7=g.weapon.data[lp],[qve,I7]=r(lp,"stack"),Jve=[-1,.08,.1,.12,.14,.16],R7=v(I7,_(b(1,5),t=>m(u(e.weapon.refinement,Jve,{unit:"%"}),t)),y),Qve=f(lp,A7,{premod:{critRate_:R7}}),Xve={document:[{value:I7,path:qve,teamBuff:!0,header:h(lp,l("stacks")),name:l("stacks"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:R7}]}]))}]},Yve=new k(lp,Xve,A7,Qve),op="SkywardSpine",H7=g.weapon.data[op],Zve=[-1,.08,.1,.12,.14,.16],ebe=[-1,.4,.55,.7,.85,1],E7=d(.12),O7=u(e.weapon.refinement,Zve),M7=i(e.weapon.key,op,C(m(u(e.weapon.refinement,ebe,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),tbe=f(op,H7,{premod:{critRate_:O7,atkSPD_:E7}},{dmg:M7}),abe={document:[{header:h(op,l("base")),fields:[{node:O7},{node:E7},{node:a(M7,{name:l("dmg")})}]}]},nbe=new k(op,abe,H7,tbe),rm="StaffOfHoma",K7=g.weapon.data[rm],sbe=[-1,.2,.25,.3,.35,.4],lbe=[-1,.008,.01,.012,.014,.016],obe=[-1,.01,.012,.014,.016,.018],F7=u(e.weapon.refinement,sbe,{unit:"%"}),[ibe,N7]=r(rm,"RecklessCinnabar"),j7=m(u(e.weapon.refinement,lbe,{unit:"%"}),e.premod.hp),Ob=i(e.weapon.key,rm,i("on",N7,m(u(e.weapon.refinement,obe,{unit:"%"}),e.premod.hp),{path:"atk"})),cbe=f(rm,K7,{premod:{hp_:F7},total:{atk:P(j7,Ob)}},{atk2_:Ob}),rbe={document:[{header:h(rm,l("base")),fields:[{node:F7},{node:a(j7,{path:"atk"})}]},{value:N7,path:ibe,teamBuff:!0,header:h(rm),name:l("lessPercentHP",{percent:50}),states:{on:{fields:[{node:a(Ob,{path:"atk"})}]}}}]},dbe=new k(rm,rbe,K7,cbe),Hr="StaffOfTheScarletSands",G7=g.weapon.data[Hr],[mbe,W7]=r(Hr,"stacks"),ube=[-1,.52,.65,.78,.91,1.04],gbe=[-1,.28,.35,.42,.49,.56],L7=b(1,3),z7=i(e.weapon.key,Hr,m(u(e.weapon.refinement,ube,{unit:"%"}),e.premod.eleMas),{path:"atk"}),U7=v(W7,Object.fromEntries(L7.map(t=>[t,m(t,u(e.weapon.refinement,gbe,{unit:"%"}),e.premod.eleMas)])),y,{path:"atk"}),JT=i(e.weapon.key,Hr,P(z7,U7)),hbe=f(Hr,G7,{total:{atk:JT}},{atk:JT}),pbe={document:[{header:h(Hr,l("base")),fields:[{node:z7}]},{value:W7,path:mbe,header:h(Hr,l("stacks")),name:l("hitOp.skill"),states:Object.fromEntries(L7.map(t=>[t,{name:l("hits",{count:t}),fields:[{node:U7},{text:s("duration"),value:10,unit:"s"}]}]))}]},kbe=new k(Hr,pbe,G7,hbe),h1="TheCatch",V7=g.weapon.data[h1],fbe=[-1,.16,.2,.24,.28,.32],_be=[-1,.06,.075,.09,.105,.12],q7=u(e.weapon.refinement,fbe),J7=u(e.weapon.refinement,_be),vbe=f(h1,V7,{premod:{burst_dmg_:q7,burst_critRate_:J7}}),bbe={document:[{header:h(h1,l("base")),fields:[{node:q7},{node:J7}]}]},$be=new k(h1,bbe,V7,vbe),Ec="VortexVanquisher",Q7=g.weapon.data[Ec],[,ybe]=O("weapon",Ec),Tbe=[-1,.2,.25,.3,.35,.4],Pbe=[-1,.04,.05,.06,.07,.08],[wbe,X7]=r(Ec,"GoldenMajesty"),Y7=u(e.weapon.refinement,Tbe),[xbe,Z7]=r(Ec,"WithShield"),Dbe=u(e.weapon.refinement,Pbe),eW=m(P(1,i(Z7,"protected",1)),v(X7,Object.fromEntries(b(1,5).map(t=>[t,m(Dbe,t)])),y)),Sbe=f(Ec,Q7,{premod:{shield_:Y7,atk_:eW}}),Cbe={document:[{header:h(Ec,l("base")),fields:[{node:Y7}]},{value:X7,path:wbe,teamBuff:!0,header:h(Ec,l("stacks")),name:l("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:eW},{text:s("duration"),value:8,unit:"s"}]}]))},{value:Z7,path:xbe,header:h(Ec,l("conditional")),name:l("protectedByShield"),states:{protected:{fields:[{text:ybe("atkEffInc"),value:100,unit:"%"}]}}}]},Bbe=new k(Ec,Cbe,Q7,Sbe),eg="WavebreakersFin",tW=g.weapon.data[eg],[,Abe]=O("weapon",eg),[Ibe,aW]=r(eg,"WatatsumiWavewalker"),nW=b(4,36).map(t=>t*10),Rbe=[-1,.0012,.0015,.0018,.0021,.0024],Hbe=[-1,.4,.5,.6,.7,.8],sW=v(aW,Object.fromEntries(nW.map(t=>[t,da(m(u(e.weapon.refinement,Rbe,{unit:"%"}),t),u(e.weapon.refinement,Hbe,{unit:"%"}))])),y),Ebe=f(eg,tW,{premod:{burst_dmg_:sW}}),Obe={document:[{value:aW,path:Ibe,header:h(eg),name:Abe("party"),states:Object.fromEntries(nW.map(t=>[t,{name:t.toString(),fields:[{node:sW}]}]))}]},Mbe=new k(eg,Obe,tW,Ebe),p1="WhiteTassel",lW=g.weapon.data[p1],Kbe=[-1,.24,.3,.36,.42,.48],oW=u(e.weapon.refinement,Kbe),Fbe=f(p1,lW,{premod:{normal_dmg_:oW}}),Nbe={document:[{header:h(p1,l("base")),fields:[{node:oW}]}]},jbe=new k(p1,Nbe,lW,Fbe),Gbe={BalladOfTheFjords:Y_e,BeginnersProtector:t1e,BlackcliffPole:u1e,BlackTassel:i1e,CalamityQueller:_1e,CrescentPike:y1e,Deathmatch:S1e,DialoguesOfTheDesertSages:A1e,DragonsBane:O1e,DragonspineSpear:j1e,EngulfingLightning:q1e,FavoniusLance:X1e,Halberd:tve,IronPoint:sve,KitainCrossSpear:cve,LithicSpear:gve,MissiveWindspear:vve,Moonpiercer:xve,PrimordialJadeWingedSpear:Ive,ProspectorsDrill:Nve,PrototypeStarglitter:Lve,RightfulReward:Vve,RoyalSpear:Yve,SkywardSpine:nbe,StaffOfHoma:dbe,StaffOfTheScarletSands:kbe,TheCatch:$be,VortexVanquisher:Bbe,WavebreakersFin:Mbe,WhiteTassel:jbe},k1="AmenomaKageuchi",iW=g.weapon.data[k1],Wbe=f(k1,iW),Lbe={document:[{header:h(k1),fields:[]}]},zbe=new k(k1,Lbe,iW,Wbe),Er="AquilaFavonia",py=g.weapon.data[Er],Ube=[-1,2,2.3,2.6,2.9,3.2],Vbe=[-1,1,1.15,1.3,1.45,1.6],cW=py.refinementBonus.atk_;if(!cW)throw new Error(`data_gen.refinementBonus.atk_ for ${Er} was undefined`);const rW=u(e.weapon.refinement,cW),dW=i(e.weapon.key,Er,m(u(e.weapon.refinement,Vbe,{unit:"%"}),e.premod.atk)),mW=i(e.weapon.key,Er,C(m(u(e.weapon.refinement,Ube,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:p("physical")}})),qbe=f(Er,py,{premod:{atk_:rW}},{heal:dW,dmg:mW}),Jbe={document:[{header:h(Er,l("base")),fields:[{node:rW}]},{header:h(Er,l("base")),fields:[{node:a(dW,{name:s("healing"),variant:"heal"})},{node:a(mW,{name:l("dmg")})}]}]},Qbe=new k(Er,Jbe,py,qbe),ip="BlackcliffLongsword",uW=g.weapon.data[ip],[Xbe,gW]=r(ip,"PressTheAdvantage"),hW=b(1,3),Ybe=[-1,.12,.15,.18,.21,.24],pW=m(v(gW,_(hW,t=>p(t)),0),u(e.weapon.refinement,Ybe)),Zbe=f(ip,uW,{premod:{atk_:pW}}),e0e={document:[{value:gW,path:Xbe,header:h(ip,l("stacks")),name:l("afterDefeatEnemy"),states:Object.fromEntries(hW.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:pW},{text:s("duration"),value:30,unit:"s"}]}]))}]},t0e=new k(ip,e0e,uW,Zbe),Nm="CinnabarSpindle",kW=g.weapon.data[Nm],[,a0e]=O("weapon",Nm),n0e=[-1,.4,.5,.6,.7,.8],[s0e,fW]=r(Nm,"SpotlessHeart"),Mb=i(e.weapon.key,Nm,i("on",fW,m(u(e.weapon.refinement,n0e,{unit:"%"}),e.premod.def))),l0e=f(Nm,kW,{premod:{skill_dmgInc:Mb}},{skill_dmgInc:Mb}),o0e={document:[{value:fW,path:s0e,header:h(Nm,l("conditional")),name:a0e("name"),states:{on:{fields:[{node:Mb}]}}}]},i0e=new k(Nm,o0e,kW,l0e),cp="CoolSteel",_W=g.weapon.data[cp],c0e=[-1,.12,.15,.18,.21,.24],[r0e,vW]=r(cp,"BaneOfWaterAndIce"),bW=i("on",vW,u(e.weapon.refinement,c0e)),d0e=f(cp,_W,{premod:{all_dmg_:bW}}),m0e={document:[{value:vW,path:r0e,name:l("enemyAffected.hydroOrCryo"),header:h(cp,l("conditional")),states:{on:{fields:[{node:bW}]}}}]},u0e=new k(cp,m0e,_W,d0e),rp="DarkIronSword",$W=g.weapon.data[rp],g0e=[-1,.2,.25,.3,.35,.5],[h0e,yW]=r(rp,"Overloaded"),TW=i("on",yW,u(e.weapon.refinement,g0e,{unit:"%"})),p0e=f(rp,$W,{premod:{atk_:TW}}),k0e={document:[{value:yW,path:h0e,name:l("elementalReaction.electro"),header:h(rp,l("conditional")),states:{on:{fields:[{node:TW},{text:s("duration"),value:12,unit:"s"}]}}}]},f0e=new k(rp,k0e,$W,p0e),ky="DullBlade",fy=g.weapon.data[ky],_0e=f(ky,fy),v0e={...fy,document:[]},b0e=new k(ky,v0e,fy,_0e),f1="FavoniusSword",PW=g.weapon.data[f1],$0e=f(f1,PW),y0e={document:[{header:h(f1),fields:[]}]},T0e=new k(f1,y0e,PW,$0e),_1="FesteringDesire",wW=g.weapon.data[_1],P0e=[-1,.16,.2,.24,.28,.32],w0e=[-1,.06,.075,.09,.105,.12],xW=u(e.weapon.refinement,P0e,{unit:"%"}),DW=u(e.weapon.refinement,w0e,{unit:"%"}),x0e=f(_1,wW,{premod:{skill_dmg_:xW,skill_critRate_:DW}}),D0e={document:[{header:h(_1,l("base")),fields:[{node:xW},{node:DW}]}]},S0e=new k(_1,D0e,wW,x0e),dp="FilletBlade",SW=g.weapon.data[dp],C0e=[-1,2.4,2.8,3.2,3.6,4],B0e=[-1,15,14,13,12,11],CW=i(e.weapon.key,dp,C(m(u(e.weapon.refinement,C0e,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:p("physical")}})),A0e=f(dp,SW,void 0,{dmg_:CW}),I0e={document:[{header:h(dp,l("base")),fields:[{node:a(CW,{name:l("dmg")})},{text:s("cd"),value:t=>B0e[t.get(e.weapon.refinement).value],unit:"s"}]}]},R0e=new k(dp,I0e,SW,A0e),jc="FinaleOfTheDeep",BW=g.weapon.data[jc],[,H0e]=O("weapon",jc),E0e=[-1,.12,.15,.18,.21,.24],O0e=[-1,.024,.03,.036,.042,.048],M0e=[-1,150,187.5,225,262.5,300],[K0e,AW]=r(jc,"afterSkill"),IW=i(AW,"on",u(e.weapon.refinement,E0e)),F0e=m(d(.25),e.total.hp),[N0e,RW]=r(jc,"bond"),Kb=i(e.weapon.key,jc,i(RW,"on",da(m(F0e,u(e.weapon.refinement,O0e,{unit:"%"})),u(e.weapon.refinement,M0e,{unit:"%"})))),j0e=f(jc,BW,{premod:{atk_:IW,atk:Kb}},{bond_atk:Kb}),G0e={document:[{header:h(jc,l("conditional")),path:K0e,value:AW,name:l("hitOp.skill"),states:{on:{fields:[{node:IW},{text:s("duration"),value:15,unit:"s"},{text:s("cd"),value:10,unit:"s"}]}}},{header:h(jc,l("conditional")),path:N0e,value:RW,name:H0e("bondCondName"),states:{on:{fields:[{node:Kb},{text:s("duration"),value:15,unit:"s"}]}}}]},W0e=new k(jc,G0e,BW,j0e),Tu="FleuveCendreFerryman",HW=g.weapon.data[Tu],L0e=[-1,.08,.1,.12,.14,.16],z0e=[-1,.16,.2,.24,.28,.32],EW=u(e.weapon.refinement,L0e),[U0e,OW]=r(Tu,"afterSkill"),MW=i(OW,"on",u(e.weapon.refinement,z0e)),V0e=f(Tu,HW,{premod:{skill_critRate_:EW,enerRech_:MW}}),q0e={document:[{header:h(Tu,l("base")),fields:[{node:EW}]},{header:h(Tu,l("conditional")),value:OW,path:U0e,name:l("afterUse.skill"),states:{on:{fields:[{node:MW},{text:s("duration"),value:5,unit:"s"}]}}}]},J0e=new k(Tu,q0e,HW,V0e),Or="FreedomSworn",_y=g.weapon.data[Or],[,Q0e]=O("weapon",Or),[X0e,vy]=r(Or,"MillennialMovement"),Y0e=[-1,.16,.2,.24,.28,.32],Z0e=[-1,.2,.25,.3,.35,.4],KW=_y.refinementBonus.dmg_;if(!KW)throw new Error(`data_gen.refinementBonus.dmg_ for ${Or} was undefined`);const FW=u(e.weapon.refinement,KW),NW=i("on",vy,u(e.weapon.refinement,Z0e)),v1=i("on",vy,u(e.weapon.refinement,Y0e)),jW={...v1},GW={...v1},e$e=f(Or,_y,{premod:{all_dmg_:FW},teamBuff:{premod:{atk_:NW,normal_dmg_:v1,charged_dmg_:jW,plunging_dmg_:GW}}}),t$e={document:[{header:h(Or,l("base")),fields:[{node:FW}]},{value:vy,path:X0e,teamBuff:!0,header:h(Or,l("conditional")),name:Q0e("sigilsConsumed"),states:{on:{fields:[{node:NW},{node:v1},{node:jW},{node:GW},{text:s("duration"),value:12,unit:"s"}]}}}]},a$e=new k(Or,t$e,_y,e$e),dm="HaranGeppakuFutsu",WW=g.weapon.data[dm],[,n$e]=O("weapon",dm),s$e=[-1,.12,.15,.18,.21,.24],l$e=[-1,.2,.25,.3,.35,.4],[o$e,LW]=r(dm,"HonedFlow"),zW=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,u(e.weapon.refinement,s$e,{path:`${t}_dmg_`})])),UW=v(LW,_(b(1,2),t=>m(t,u(e.weapon.refinement,l$e))),y),i$e=f(dm,WW,{premod:{...zW,normal_dmg_:UW}}),c$e={document:[{header:h(dm,l("base")),fields:[...ye.map(t=>({node:zW[`${t}_dmg_`]}))]},{value:LW,path:o$e,name:n$e("consumed"),header:h(dm,l("conditional")),states:_(b(1,2),t=>({name:l("stack",{count:t}),fields:[{node:UW}]}))}]},r$e=new k(dm,c$e,WW,i$e),mp="HarbingerOfDawn",VW=g.weapon.data[mp],[d$e,qW]=r(mp,"SkyPiercingMight"),m$e=[-1,.14,.175,.21,.245,.28],JW=i("on",qW,u(e.weapon.refinement,m$e)),u$e=f(mp,VW,{premod:{critRate_:JW}}),g$e={document:[{value:qW,path:d$e,header:h(mp,l("conditional")),name:l("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:JW}]}}}]},h$e=new k(mp,g$e,VW,u$e),up="IronSting",QW=g.weapon.data[up],[p$e,XW]=r(up,"InfusionStinger"),YW=b(1,2),k$e=[-1,.06,.075,.09,.105,.12],ZW=m(v(XW,_(YW,t=>p(t)),y),u(e.weapon.refinement,k$e)),f$e=f(up,QW,{premod:{all_dmg_:ZW}}),_$e={document:[{value:XW,path:p$e,header:h(up,l("stacks")),name:l("hitOp.ele"),states:Object.fromEntries(YW.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:ZW},{text:s("duration"),value:6,unit:"s"}]}]))}]},v$e=new k(up,_$e,QW,f$e),mm="KagotsurubeIsshin",e9=g.weapon.data[mm],[b$e,t9]=r(mm,"passive"),a9=i(t9,"on",d(.15)),n9=i(e.weapon.key,mm,C(m(d(1.8),e.total.atk),"elemental",{hit:{ele:p("physical")}})),$$e=f(mm,e9,{premod:{atk_:a9}},{dmg:n9}),y$e={document:[{header:h(mm,l("base")),fields:[{node:a(n9,{name:l("dmg")})}]},{header:h(mm,l("conditional")),value:t9,path:b$e,name:l("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:a9},{text:s("duration"),value:8,unit:"s"},{text:s("cd"),value:8,unit:"s"}]}}}]},T$e=new k(mm,y$e,e9,$$e),Li="KeyOfKhajNisut",s9=g.weapon.data[Li],P$e=[-1,.0012,.0015,.0018,.0021,.0024],w$e=[-1,.002,.0025,.003,.0035,.004],l9=b(1,3),x$e=[-1,.2,.25,.3,.35,.4],o9=i(e.weapon.key,Li,u(e.weapon.refinement,x$e,{unit:"%"})),[D$e,l_]=r(Li,"afterSkill"),Fb=i(e.weapon.key,Li,v(l_,Object.fromEntries(l9.map(t=>[t,m(t,u(e.weapon.refinement,P$e,{unit:"%",fixed:2}),e.total.hp)])),y)),Nb=i(e.weapon.key,Li,i(l_,"3",m(u(e.weapon.refinement,w$e,{unit:"%",fixed:2}),e.total.hp))),S$e=f(Li,s9,{premod:{hp_:o9},total:{eleMas:Fb},teamBuff:{total:{eleMas:Nb}}},{selfEleMas:Fb,teamEleMas:Nb}),C$e={document:[{header:h(Li,l("base")),fields:[{node:o9}]},{header:h(Li,l("stacks")),teamBuff:!0,path:D$e,value:l_,name:l("hitOp.skill"),states:Object.fromEntries(l9.map(t=>[t,{name:l("stack",{count:t}),fields:[{node:Fb},{text:s("duration"),value:20,unit:"s"}]}]))},{header:h(Li,l("teamBuff")),canShow:i(l_,"3",1),teamBuff:!0,fields:[{node:Nb},{text:s("duration"),value:20,unit:"s"}]}]},B$e=new k(Li,C$e,s9,S$e),Mr="LightOfFoliarIncision",i9=g.weapon.data[Mr],A$e=[-1,.04,.05,.06,.07,.08],c9=i(e.weapon.key,Mr,u(e.weapon.refinement,A$e)),[I$e,r9]=r(Mr,"afterNormalEle"),R$e=[-1,1.2,1.5,1.8,2.1,2.4],o_=i(e.weapon.key,Mr,i(r9,"on",m(u(e.weapon.refinement,R$e,{unit:"%"}),e.total.eleMas))),jb={...o_},H$e=f(Mr,i9,{premod:{normal_dmgInc:o_,skill_dmgInc:jb,critRate_:c9}},{normal_dmgInc:o_,skill_dmgInc:jb}),E$e={document:[{header:h(Mr,l("base")),fields:[{node:c9}]},{header:h(Mr,l("conditional")),path:I$e,value:r9,name:l("hitOp.normalEle"),states:{on:{fields:[{node:o_},{node:jb},{text:l("triggerQuota"),value:28},{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:12,unit:"s"}]}}}]},O$e=new k(Mr,E$e,i9,H$e),gp="LionsRoar",d9=g.weapon.data[gp],[M$e,m9]=r(gp,"BaneOfFireAndThunder"),K$e=[-1,.2,.24,.28,.32,.36],u9=i("on",m9,u(e.weapon.refinement,K$e)),F$e=f(gp,d9,{premod:{all_dmg_:u9}}),N$e={document:[{value:m9,path:M$e,header:h(gp,l("conditional")),name:l("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:u9}]}}}]},j$e=new k(gp,N$e,d9,F$e),um="MistsplitterReforged",g9=g.weapon.data[um],[,G$e]=O("weapon",um),h9=["1","2","3"],W$e=[-1,.12,.15,.18,.21,.24],L$e={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[z$e,p9]=r(um,"MistsplittersEmblem"),k9=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,u(e.weapon.refinement,W$e,{path:`${t}_dmg_`})])),f9=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,i(e.charEle,t,v(p9,_(h9,o=>u(e.weapon.refinement,L$e[o])),y,{path:`${t}_dmg_`}))])),U$e=Object.fromEntries(ye.map(t=>[`${t}_dmg_`,P(k9[`${t}_dmg_`],f9[`${t}_dmg_`])])),V$e=f(um,g9,{premod:{...U$e}}),q$e={document:[{header:h(um,l("base")),fields:ye.map(t=>({node:k9[`${t}_dmg_`]}))},{value:p9,path:z$e,name:G$e("emblem"),teamBuff:!0,header:h(um,l("stacks")),states:Object.fromEntries(h9.map(t=>[t,{name:l("stack",{count:parseInt(t)}),fields:ye.map(o=>({node:f9[`${o}_dmg_`]}))}]))}]},J$e=new k(um,q$e,g9,V$e),hp="PrimordialJadeCutter",_9=g.weapon.data[hp],Q$e=[-1,.2,.25,.3,.35,.4],X$e=[-1,.012,.015,.018,.021,.024],v9=u(e.weapon.refinement,Q$e),Gb=i(e.weapon.key,hp,m(u(e.weapon.refinement,X$e,{unit:"%"}),e.premod.hp)),Y$e=f(hp,_9,{premod:{hp_:v9},total:{atk:Gb}},{atk:Gb}),Z$e={document:[{header:h(hp,l("base")),fields:[{node:v9},{node:Gb}]}]},e2e=new k(hp,Z$e,_9,Y$e),pp="PrototypeRancour",b9=g.weapon.data[pp],[t2e,by]=r(pp,"stack"),$9=[-1,.04,.05,.06,.07,.08],y9=v(by,_(b(1,4),t=>m(u(e.weapon.refinement,$9,{unit:"%"}),t)),y),T9=v(by,_(b(1,4),t=>m(u(e.weapon.refinement,$9,{unit:"%"}),t)),y),a2e=f(pp,b9,{premod:{atk_:y9,def_:T9}}),n2e={document:[{value:by,path:t2e,header:h(pp,l("stacks")),name:l("hitOp.none"),states:Object.fromEntries(b(1,4).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:y9},{node:T9},{text:s("duration"),value:6,unit:"s"}]}]))}]},s2e=new k(pp,n2e,b9,a2e),kp="RoyalLongsword",P9=g.weapon.data[kp],[l2e,w9]=r(kp,"stack"),o2e=[-1,.08,.1,.12,.14,.16],x9=v(w9,_(b(1,5),t=>m(u(e.weapon.refinement,o2e,{unit:"%"}),t)),y),i2e=f(kp,P9,{premod:{critRate_:x9}}),c2e={document:[{value:w9,path:l2e,header:h(kp,l("stacks")),name:l("stacks"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:x9}]}]))}]},r2e=new k(kp,c2e,P9,i2e),b1="SacrificialSword",D9=g.weapon.data[b1],d2e=f(b1,D9),m2e={document:[{header:h(b1),fields:[]}]},u2e=new k(b1,m2e,D9,d2e),tg="SapwoodBlade",S9=g.weapon.data[tg],[,g2e]=O("weapon",tg),[h2e,C9]=r(tg,"passive"),p2e=[-1,60,75,90,105,120],B9=i(C9,"on",u(e.weapon.refinement,p2e)),k2e=i(e.activeCharKey,E.charKey,B9),f2e=f(tg,S9,{teamBuff:{premod:{eleMas:k2e}}}),_2e={document:[{value:C9,path:h2e,teamBuff:!0,header:h(tg,l("conditional")),name:g2e("condName"),states:{on:{fields:[{node:a(B9,{path:"eleMas"})},{text:s("duration"),value:12,unit:"s"},{text:s("cd"),value:20,unit:"s"}]}}}]},v2e=new k(tg,_2e,S9,f2e),$y="SilverSword",yy=g.weapon.data[$y],b2e=f($y,yy),$2e={...yy,document:[]},y2e=new k($y,$2e,yy,b2e),fp="SkyriderSword",A9=g.weapon.data[fp],[T2e,Ty]=r(fp,"Determination"),I9=[-1,.12,.15,.18,.21,.24],R9=i(Ty,"on",u(e.weapon.refinement,I9,{unit:"%"})),H9=i(Ty,"on",u(e.weapon.refinement,I9,{unit:"%"})),P2e=f(fp,A9,{premod:{atk_:R9,moveSPD_:H9}}),w2e={document:[{value:Ty,path:T2e,header:h(fp,l("conditional")),name:l("afterUse.burst"),states:{on:{fields:[{node:R9},{node:H9},{text:s("duration"),value:15,unit:"s"}]}}}]},x2e=new k(fp,w2e,A9,P2e),Kr="SkywardBlade",Py=g.weapon.data[Kr],[D2e,$1]=r(Kr,"SkyPiercingMight"),S2e=[-1,.2,.25,.3,.35,.4],E9=i("on",$1,d(.1)),O9=i("on",$1,d(.1)),M9=i(e.weapon.key,Kr,i("on",$1,C(m(u(e.weapon.refinement,S2e,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:p("physical")}}))),K9=Py.refinementBonus.critRate_;if(!K9)throw new Error(`data_gen.refinementBonus.critRate_ for ${Kr} was undefined`);const F9=u(e.weapon.refinement,K9),C2e=f(Kr,Py,{premod:{critRate_:F9,moveSPD_:E9,atkSPD_:O9}},{dmg:M9}),B2e={document:[{header:h(Kr,l("base")),fields:[{node:F9}]},{value:$1,path:D2e,header:h(Kr,l("conditional")),name:l("afterUse.burst"),states:{on:{fields:[{node:E9},{node:O9},{node:a(M9,{name:l("dmg")})},{text:s("duration"),value:12,unit:"s"}]}}}]},A2e=new k(Kr,B2e,Py,C2e),gm="SplendorOfTranquilWaters",N9=g.weapon.data[gm],I2e=[-1,.08,.1,.12,.14,.16],R2e=[-1,.14,.175,.21,.245,.28],[H2e,j9]=r(gm,"selfHpChange"),G9=b(1,3),W9=v(j9,_(G9,t=>m(t,u(e.weapon.refinement,I2e,{unit:"%"}))),y),[E2e,L9]=r(gm,"teamHpChange"),z9=b(1,2),U9=v(L9,_(z9,t=>m(t,u(e.weapon.refinement,R2e,{unit:"%"}))),y),O2e=f(gm,N9,{premod:{hp_:U9,skill_dmg_:W9}}),M2e={document:[{value:j9,path:H2e,header:h(gm,l("stacks")),name:l("hpChange"),states:_(G9,t=>({name:l("times",{count:t}),fields:[{node:W9},{text:s("duration"),value:6,unit:"s"}]}))},{value:L9,path:E2e,header:h(gm,l("stacks")),name:l("otherHpChange"),states:_(z9,t=>({name:l("times",{count:t}),fields:[{node:U9},{text:s("duration"),value:6,unit:"s"}]}))}]},K2e=new k(gm,M2e,N9,O2e),Oc="SummitShaper",V9=g.weapon.data[Oc],[,F2e]=O("weapon",Oc),[N2e,q9]=r(Oc,"GoldenMajesty"),[j2e,J9]=r(Oc,"WithShield"),G2e=[-1,.2,.25,.3,.35,.4],W2e=[-1,.04,.05,.06,.07,.08],Q9=u(e.weapon.refinement,G2e),L2e=u(e.weapon.refinement,W2e),X9=m(P(1,i(J9,"protected",1)),v(q9,Object.fromEntries(b(1,5).map(t=>[t,m(L2e,t)])),y)),z2e=f(Oc,V9,{premod:{shield_:Q9,atk_:X9}}),U2e={document:[{header:h(Oc,l("base")),fields:[{node:Q9}]},{value:q9,path:N2e,header:h(Oc,l("stacks")),name:l("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:l("stack",{count:t}),fields:[{node:X9},{text:s("duration"),value:8,unit:"s"}]}]))},{value:J9,path:j2e,header:h(Oc,l("conditional")),name:l("protectedByShield"),states:{protected:{fields:[{text:F2e("atkEffInc"),value:100,unit:"%"}]}}}]},V2e=new k(Oc,U2e,V9,z2e),_p="SwordOfDescension",Y9=g.weapon.data[_p],Z9=v(e.charKey,_(rP,t=>p(66)),y),eL=i(e.weapon.key,_p,C(m(d(2),e.premod.atk),"elemental",{hit:{ele:p("physical")}})),q2e=f(_p,Y9,{premod:{atk:Z9}},{dmg_:eL}),J2e={document:[{header:h(_p,l("base")),fields:[{node:Z9},{node:a(eL,{name:l("dmg")})}]}]},Q2e=new k(_p,J2e,Y9,q2e),vp="SwordOfNarzissenkreuz",tL=g.weapon.data[vp],X2e=[-1,1.6,2,2.4,2.8,3.2],aL=i(e.weapon.key,vp,C(m(u(e.weapon.refinement,X2e,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:p("physical")}})),Y2e=f(vp,tL,void 0,{dmg:aL}),Z2e={document:[{header:h(vp,l("dmg")),fields:[{node:a(aL,{name:l("dmg")})}]}]},eye=new k(vp,Z2e,tL,Y2e),ag="TheAlleyFlash",nL=g.weapon.data[ag],[,tye]=O("weapon",ag),[aye,sL]=r(ag,"ItinerantHero"),nye=[-1,.12,.15,.18,.21,.24],lL=i(sL,"on",u(e.weapon.refinement,nye,{unit:"%"})),sye=f(ag,nL,{premod:{all_dmg_:lL}}),lye={document:[{value:sL,path:aye,header:h(ag,l("conditional")),name:tye("condName"),states:{on:{fields:[{node:lL}]}}}]},oye=new k(ag,lye,nL,sye),bp="TheBlackSword",oL=g.weapon.data[bp],iL=[-1,.2,.25,.3,.35,.4],iye=[-1,.6,.7,.8,.9,1],cL=u(e.weapon.refinement,iL),rL=u(e.weapon.refinement,iL),dL=i(e.weapon.key,bp,jn(m(u(e.weapon.refinement,iye,{unit:"%"}),e.total.atk))),cye=f(bp,oL,{premod:{normal_dmg_:cL,charged_dmg_:rL}},{heal:dL}),rye={document:[{header:h(bp,l("base")),fields:[{node:cL},{node:rL},{node:a(dL,{name:s("healing"),variant:"heal"})}]}]},dye=new k(bp,rye,oL,cye),ng="TheDockhandsAssistant",mL=g.weapon.data[ng],[,mye]=O("weapon",ng),uye=[-1,40,50,60,70,80],[gye,uL]=r(ng,"symbolsConsumed"),gL=b(1,3),hL=v(uL,_(gL,t=>m(t,u(e.weapon.refinement,uye,{unit:"%"}))),y),hye=f(ng,mL,{premod:{eleMas:hL}}),pye={document:[{value:uL,path:gye,teamBuff:!0,header:h(ng,l("stacks")),name:mye("condName"),states:_(gL,t=>({name:`${t}`,fields:[{node:hL},{text:s("duration"),value:10,unit:"s"},{text:s("cd"),value:15,unit:"s"}]}))}]},kye=new k(ng,pye,mL,hye),$p="TheFlute",pL=g.weapon.data[$p],kL=i(e.weapon.key,$p,C(m(d(2),e.premod.atk),"elemental",{hit:{ele:p("physical")}})),fye=f($p,pL,void 0,{dmg_:kL}),_ye={document:[{header:h($p,l("base")),fields:[{node:a(kL,{name:l("dmg")})}]}]},vye=new k($p,_ye,pL,fye),jm="ToukabouShigure",fL=g.weapon.data[jm],[,bye]=O("weapon",jm),[$ye,_L]=r(jm,"passive"),yye=[-1,.16,.2,.24,.28,.32],vL=i(e.weapon.key,jm,i(_L,"on",u(e.weapon.refinement,yye,{unit:"%"}))),Tye=f(jm,fL,{premod:{all_dmg_:vL}}),Pye={document:[{value:_L,path:$ye,header:h(jm,l("stacks")),name:bye("condName"),states:{on:{fields:[{node:vL},{text:s("duration"),value:10,unit:"s"}]}}}]},wye=new k(jm,Pye,fL,Tye),yp="TravelersHandySword",bL=g.weapon.data[yp],xye=[-1,.01,.0125,.015,.0175,.02],$L=i(e.weapon.key,yp,jn(m(u(e.weapon.refinement,xye,{unit:"%"}),e.total.hp))),Dye=f(yp,bL,void 0,{heal:$L}),Sye={document:[{header:h(yp,l("base")),fields:[{node:a($L,{name:s("healing"),variant:"heal"})}]}]},Cye=new k(yp,Sye,bL,Dye),Pu="UrakuMisugiri",yL=g.weapon.data[Pu],Bye=[-1,.16,.2,.24,.28,.32],Aye=[-1,.24,.3,.36,.42,.48],Iye=[-1,.2,.25,.3,.35,.4],wy=u(e.weapon.refinement,Bye),xy=u(e.weapon.refinement,Aye),[Rye,Dy]=r(Pu,"teamGeo"),TL=1,PL=i(Dy,"on",m(d(TL),wy)),wL=i(Dy,"on",m(d(TL),xy)),xL=u(e.weapon.refinement,Iye),Hye=f(Pu,yL,{premod:{normal_dmg_:P(wy,PL),skill_dmg_:P(xy,wL),def_:xL}}),Eye={document:[{header:h(Pu,l("base")),fields:[{node:xL},{node:a(wy,{path:"normal_dmg_"})},{node:a(xy,{path:"skill_dmg_"})}]},{value:Dy,path:Rye,header:h(Pu,l("conditional")),name:l("teamHitOp.geo"),states:{on:{fields:[{node:a(PL,{path:"normal_dmg_"})},{node:a(wL,{path:"skill_dmg_"})},{text:s("duration"),value:15,unit:"s"}]}}}]},Oye=new k(Pu,Eye,yL,Hye),Dr="WolfFang",DL=g.weapon.data[Dr],Mye=[-1,.16,.2,.24,.28,.32],SL=[-1,.02,.025,.03,.035,.04],i_=b(1,4),Sy=u(e.weapon.refinement,Mye),CL={...Sy},[Kye,BL]=r(Dr,"skillStacks"),AL=m(u(e.weapon.refinement,SL),v(BL,_(i_,t=>p(t)),y)),[Fye,IL]=r(Dr,"burstStacks"),RL=m(u(e.weapon.refinement,SL),v(IL,_(i_,t=>p(t)),y)),Nye=f(Dr,DL,{premod:{skill_dmg_:Sy,burst_dmg_:CL,skill_critRate_:AL,burst_critRate_:RL}}),jye={document:[{header:h(Dr,l("base")),fields:[{node:Sy},{node:CL}]},{header:h(Dr,l("conditional")),value:BL,path:Kye,name:l("hitOp.skill"),states:_(i_,t=>({name:l("stack",{count:t}),fields:[{node:AL},{text:s("duration"),value:10,unit:"s"}]}))},{header:h(Dr,l("conditional")),value:IL,path:Fye,name:l("hitOp.burst"),states:_(i_,t=>({name:l("stack",{count:t}),fields:[{node:RL},{text:s("duration"),value:10,unit:"s"}]}))}]},Gye=new k(Dr,jye,DL,Nye),hm="XiphosMoonlight",HL=g.weapon.data[hm],Wye=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],c_=i(e.weapon.key,hm,m(u(e.weapon.refinement,Wye,{unit:"%",fixed:3}),e.premod.eleMas)),Cy=i(e.weapon.key,hm,m(d(.3),c_)),Lye=M(e.charKey,E.charKey,Cy),zye=f(hm,HL,{total:{enerRech_:c_},teamBuff:{total:{enerRech_:Lye}}},{selfEnerRech_:c_,teamEnerRech_disp:Cy}),Uye={document:[{header:h(hm,l("base")),fields:[{node:c_}]},{header:h(hm,l("teamBuff")),teamBuff:!0,fields:[{node:a(Cy,{path:"enerRech_",isTeamBuff:!0})}]}]},Vye=new k(hm,Uye,HL,zye),qye={AmenomaKageuchi:zbe,AquilaFavonia:Qbe,BlackcliffLongsword:t0e,CinnabarSpindle:i0e,CoolSteel:u0e,DarkIronSword:f0e,DullBlade:b0e,FavoniusSword:T0e,FesteringDesire:S0e,FilletBlade:R0e,FinaleOfTheDeep:W0e,FleuveCendreFerryman:J0e,FreedomSworn:a$e,HaranGeppakuFutsu:r$e,HarbingerOfDawn:h$e,IronSting:v$e,KagotsurubeIsshin:T$e,KeyOfKhajNisut:B$e,LightOfFoliarIncision:O$e,LionsRoar:j$e,MistsplitterReforged:J$e,PrimordialJadeCutter:e2e,PrototypeRancour:s2e,RoyalLongsword:r2e,SacrificialSword:u2e,SapwoodBlade:v2e,SilverSword:y2e,SkyriderSword:x2e,SkywardBlade:A2e,SplendorOfTranquilWaters:K2e,SummitShaper:V2e,SwordOfDescension:Q2e,SwordOfNarzissenkreuz:eye,TheAlleyFlash:oye,TheBlackSword:dye,TheDockhandsAssistant:kye,TheFlute:vye,ToukabouShigure:wye,TravelersHandySword:Cye,UrakuMisugiri:Oye,WolfFang:Gye,XiphosMoonlight:Vye},EL={...qye,...q_e,...Gbe,...nme,...kpe},Jye=Object.fromEntries(lz.map(t=>[t,wu(Object.values(EL).filter(o=>o.weaponType===t).map(o=>({display:o.data.display})))]));function s4e(t){return EL[t]}export{k as W,s4e as a,Xx as b,Zye as c,e4e as d,n4e as e,t4e as g,a4e as r,Lq as s};
