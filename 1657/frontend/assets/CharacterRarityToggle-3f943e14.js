import{b as $,at as Kt,as as qt,au as Ae,aW as ne,av as oe,e as l,aw as Ht,ax as Vt,cd as $t,ay as at,j as Y,az as Gt,p as e,ce as qa,cf as Ha,cg as Va,bC as Ga,F as Ya,r as Se,i as Le,n as m,U as se,B as O,ch as Xa,aS as Ja,ca as Qa,c as ht,ap as De,J as k,K as g,bM as Yt,a9 as Ee,d as me,T as w,q as he,ci as Za,aB as Xt,bp as re,bN as nt,l as pt,bF as en,aY as Ut,cj as tn,t as ce,b8 as an,b7 as nn,a2 as rn,ck as on,aQ as sn,cl as Tt,cm as ln,cn as Ve,co as Ge,cp as Ye,bx as cn,a3 as pe,D as be,am as ke,u as F,br as Mt,bs as Dt,bq as jt,X as $e,Q as fe,o as je,k as Ce,b5 as ye,C as q,aC as _e,s as Jt,aA as ue,V as Be,bt as un,cq as Qt,bd as dn,c8 as hn,$ as Zt,bO as pn,bQ as mn,b9 as fn,bR as gn,bY as Cn,bX as xn,bS as bn,cr as yn,cs as vn,ct as ea,cu as wn,cv as _n,cw as Rn,cx as Sn,bg as Ln,cy as kn,aM as ta,v as Pe,_ as aa,af as na,ae as $n,bI as Un,cz as Tn,aE as ra,W as oa,b3 as Mn,b4 as Dn,b6 as jn,cA as rt,ar as ot,cB as An,m as st,f as mt,cC as Bn,cD as Xe,h as On,bZ as In,aG as sa}from"./index-6a1771ce.js";import{b as E,u as ia,l as la,F as ca,m as Wn,n as zn,i as Nn,o as En,p as ua,h as Pn,T as Fn,d as At,k as da,C as Kn,q as qn}from"./TeamCard-223ffa12.js";import{D as H,a as Hn,L as Vn,b as Gn,A as Yn}from"./FieldDisplay-8c676fa9.js";import{u as j,E as ft,g as ie,S as gt,a as Xn,B as ha,p as le,x as pa,y as Jn,v as Qn,w as ma,n as Zn,z as er,r as it,o as Bt,m as tr,A as ar,C as nr,i as We,q as rr,D as or,F as sr,G as ir,H as lr,b as Ot,c as It,I as cr}from"./index-abe15ccc.js";import{B as Oe,a as ur}from"./BootstrapTooltip-a6cda561.js";import{C as Fe}from"./CloseButton-79b3fbf6.js";import{I as Ue,i as Te,C as Ke,B as dr}from"./ColoredText-450d188e.js";import{C as hr,T as de,W as fa,L as pr}from"./WeaponEditor-139ded10.js";import{S as G}from"./SqBadge-d470eacc.js";import{b as mr,e as ga,g as Ct,F as Ca,C as fr,c as xa,u as ba,a as ya,S as va,f as xt,s as wa,d as _a,T as Ra,h as gr}from"./StarDisplay-cc9372f2.js";import{C as qe}from"./CardActionArea-f1bf6435.js";import{u as lt,f as Cr,A as ze,d as xr,i as br,b as yr}from"./ArtifactSort-1419a033.js";import{b as Ne,c as vr,d as wr,w as _r,W as Rr}from"./WeaponCard-e10759e1.js";import{a as Sa,d as La}from"./CheckBoxOutlineBlank-c9aa7c54.js";import{A as Sr}from"./Artifact-5185cf08.js";import{g as ka,a as Lr,b as kr}from"./index-c68f1f95.js";import{g as bt,W as $a}from"./index-b8a8dc72.js";import{u as $r}from"./useWeapon-f4cc424f.js";import{S as Ur}from"./SlotIcon-6180c393.js";import{C as Ua}from"./ChevronRight-8120f707.js";import{C as Tr,a as Mr,M as Ta,D as Dr}from"./DropdownButton-121a5f0a.js";import{T as Re,S as He,h as yt,a as jr}from"./SolidToggleButtonGroup-8f94ed6f.js";import{A as Ma}from"./LocationAutocomplete-96d99122.js";import Ar from"./WeaponSelectionModal-64622a3e.js";import{c as Wt}from"./totalUtils-bf02185a.js";function Ie(t){const a=$();return mr(a.optConfigs,t)}function Br(t){const{badgeContent:a,invisible:n=!1,max:o=99,showZero:s=!1}=t,r=ga({badgeContent:a,max:o});let i=n;n===!1&&a===0&&!s&&(i=!0);const{badgeContent:c,max:p=o}=i?r:t,u=c&&Number(c)>p?`${p}+`:c;return{badgeContent:c,invisible:i,max:p,displayValue:u}}function Or(t){return qt("MuiBadge",t)}const Ir=Kt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),ge=Ir,Wr=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Je=10,Qe=4,zr=t=>{const{color:a,anchorOrigin:n,invisible:o,overlap:s,variant:r,classes:i={}}=t,c={root:["root"],badge:["badge",r,o&&"invisible",`anchorOrigin${ne(n.vertical)}${ne(n.horizontal)}`,`anchorOrigin${ne(n.vertical)}${ne(n.horizontal)}${ne(s)}`,`overlap${ne(s)}`,a!=="default"&&`color${ne(a)}`]};return Gt(c,Or,i)},Nr=Ae("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,a)=>a.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Er=Ae("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.badge,a[n.variant],a[`anchorOrigin${ne(n.anchorOrigin.vertical)}${ne(n.anchorOrigin.horizontal)}${ne(n.overlap)}`],n.color!=="default"&&a[`color${ne(n.color)}`],n.invisible&&a.invisible]}})(({theme:t,ownerState:a})=>oe({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Je*2,lineHeight:1,padding:"0 6px",height:Je*2,borderRadius:Je,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},a.color!=="default"&&{backgroundColor:(t.vars||t).palette[a.color].main,color:(t.vars||t).palette[a.color].contrastText},a.variant==="dot"&&{borderRadius:Qe,height:Qe*2,minWidth:Qe*2,padding:0},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),Pr=l.forwardRef(function(a,n){var o,s,r,i,c,p;const u=Ht({props:a,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:d,component:f,components:C={},componentsProps:x={},children:b,overlap:_="rectangular",color:T="default",invisible:S=!1,max:A=99,badgeContent:z,slots:B,slotProps:W,showZero:K=!1,variant:M="standard"}=u,y=Vt(u,Wr),{badgeContent:U,invisible:I,max:v,displayValue:N}=Br({max:A,invisible:S,badgeContent:z,showZero:K}),V=ga({anchorOrigin:h,color:T,overlap:_,variant:M,badgeContent:z}),L=I||U==null&&M!=="dot",{color:te=T,overlap:X=_,anchorOrigin:J=h,variant:Q=M}=L?V:u,R=Q!=="dot"?N:void 0,D=oe({},u,{badgeContent:U,invisible:L,max:v,displayValue:R,showZero:K,anchorOrigin:J,color:te,overlap:X,variant:Q}),Z=zr(D),ee=(o=(s=B==null?void 0:B.root)!=null?s:C.Root)!=null?o:Nr,P=(r=(i=B==null?void 0:B.badge)!=null?i:C.Badge)!=null?r:Er,ae=(c=W==null?void 0:W.root)!=null?c:x.root,ve=(p=W==null?void 0:W.badge)!=null?p:x.badge,Fa=$t({elementType:ee,externalSlotProps:ae,externalForwardedProps:y,additionalProps:{ref:n,as:f},ownerState:D,className:at(ae==null?void 0:ae.className,Z.root,d)}),Ka=$t({elementType:P,externalSlotProps:ve,ownerState:D,className:at(Z.badge,ve==null?void 0:ve.className)});return Y.jsxs(ee,oe({},Fa,{children:[b,Y.jsx(P,oe({},Ka,{children:R}))]}))}),Fr=Pr;function Kr({slotKey:t,iconProps:a={}}){switch(t){case"flower":return e(Ya,{...a});case"plume":return e(Ga,{...a});case"sands":return e(Va,{...a});case"goblet":return e(Ha,{...a});case"circlet":return e(qa,{...a})}}var vt={},qr=Le;Object.defineProperty(vt,"__esModule",{value:!0});var ct=vt.default=void 0,Hr=qr(Se()),Vr=Y,Gr=(0,Hr.default)((0,Vr.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");ct=vt.default=Gr;function Yr({title:t,children:a,id:n="dropdownbtn",...o}){const[s,r]=l.useState(null),i=!!s,c=l.useCallback(u=>r(u.currentTarget),[r]),p=l.useCallback(()=>r(null),[r]);return m(l.Suspense,{fallback:e(O,{endIcon:e(ct,{}),...o,children:e(se,{width:50})}),children:[e(O,{...o,id:n,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:c,endIcon:e(ct,{}),children:t}),e(Qa,{id:"basic-menu",anchorEl:s,open:i,placement:"bottom-start",transition:!0,onClick:p,sx:{zIndex:1500},children:({TransitionProps:u,placement:h})=>e(Xa,{...u,style:{transformOrigin:h==="bottom-start"?"left top":"left bottom"},children:e(Ja,{sx:{maxHeight:"50vh",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12))",boxShadow:"rgb(0 0 0 / 20%) 0px 5px 5px -3px, rgb(0 0 0 / 14%) 0px 8px 10px 1px, rgb(0 0 0 / 12%) 0px 3px 14px 2px",paddingTop:"1px",paddingBottom:"1px",overflow:"auto"},children:e(Tr,{onClickAway:p,children:m("div",{children:[" ",e(l.Suspense,{fallback:e(se,{width:"100%",height:"1000"}),children:e(Mr,{"aria-labelledby":n,children:a})})]})})})})})]})}const Xr=ht(Y.jsx("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom"),Jr=ht(Y.jsx("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4zm-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5z"}),"Female"),Qr=ht(Y.jsx("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9z"}),"Male"),Zr=""+new URL("splash_aether-7358d244.png",import.meta.url).href,eo=""+new URL("splash_albedo-37c05d76.png",import.meta.url).href,to=""+new URL("splash_alhaitham-1e0549dd.png",import.meta.url).href,ao=""+new URL("splash_amber-51176566.png",import.meta.url).href,no=""+new URL("splash_ayaka-6fa3baa9.png",import.meta.url).href,ro=""+new URL("splash_ayato-80dc87d2.png",import.meta.url).href,oo=""+new URL("splash_baizhu-e00c9e38.png",import.meta.url).href,so=""+new URL("splash_barbara-c0390dce.png",import.meta.url).href,io=""+new URL("splash_beidou-bc8a24cb.png",import.meta.url).href,lo=""+new URL("splash_bennett-50399e82.png",import.meta.url).href,co=""+new URL("splash_candace-d08ffe76.png",import.meta.url).href,uo=""+new URL("splash_charlotte-f4dc3ffe.png",import.meta.url).href,ho=""+new URL("splash_chevreuse-b62095f4.png",import.meta.url).href,po=""+new URL("splash_chongyun-6d2df2ec.png",import.meta.url).href,mo=""+new URL("splash_collei-504a299e.png",import.meta.url).href,fo=""+new URL("splash_cyno-ad2ccd61.png",import.meta.url).href,go=""+new URL("splash_dehya-516792b5.png",import.meta.url).href,Co=""+new URL("splash_diluc-aca80da5.png",import.meta.url).href,xo=""+new URL("splash_diona-60ac79e8.png",import.meta.url).href,bo=""+new URL("splash_dori-9e4fe1f4.png",import.meta.url).href,yo=""+new URL("splash_eula-1491affb.png",import.meta.url).href,vo=""+new URL("splash_faruzan-53cea880.png",import.meta.url).href,wo=""+new URL("splash_fischl-81de0725.png",import.meta.url).href,_o=""+new URL("splash_freminet-87ef7da9.png",import.meta.url).href,Ro=""+new URL("splash_furina-132cdf4e.png",import.meta.url).href,So=""+new URL("splash_gaming-f942e04b.png",import.meta.url).href,Lo=""+new URL("splash_ganyu-3428e56a.png",import.meta.url).href,ko=""+new URL("splash_gorou-2540c1f5.png",import.meta.url).href,$o=""+new URL("splash_heizou-778f17a2.png",import.meta.url).href,Uo=""+new URL("splash_hutao-d7962623.png",import.meta.url).href,To=""+new URL("splash_itto-89b11acb.png",import.meta.url).href,Mo=""+new URL("splash_jean-8b1a28fe.png",import.meta.url).href,Do=""+new URL("splash_kaeya-e26022f0.png",import.meta.url).href,jo=""+new URL("splash_kaveh-a63cd11f.png",import.meta.url).href,Ao=""+new URL("splash_kazuha-94865d22.png",import.meta.url).href,Bo=""+new URL("splash_keqing-0cd58460.png",import.meta.url).href,Oo=""+new URL("splash_kirara-0b285e89.png",import.meta.url).href,Io=""+new URL("splash_klee-81a7fd6f.png",import.meta.url).href,Wo=""+new URL("splash_kokomi-7dc7c799.png",import.meta.url).href,zo=""+new URL("splash_kuki-2e7b6638.png",import.meta.url).href,No=""+new URL("splash_layla-45b01b3a.png",import.meta.url).href,Eo=""+new URL("splash_lisa-f07e93de.png",import.meta.url).href,Po=""+new URL("splash_lumine-51240648.png",import.meta.url).href,Fo=""+new URL("splash_lynette-e6d6d59c.png",import.meta.url).href,Ko=""+new URL("splash_lyney-e23fc621.png",import.meta.url).href,qo=""+new URL("splash_mika-d7bec99e.png",import.meta.url).href,Ho=""+new URL("splash_mona-a101d11b.png",import.meta.url).href,Vo=""+new URL("splash_nahida-5336f545.png",import.meta.url).href,Go=""+new URL("splash_navia-749d043e.png",import.meta.url).href,Yo=""+new URL("splash_neuvillette-f6712d84.png",import.meta.url).href,Xo=""+new URL("splash_nilou-02522a20.png",import.meta.url).href,Jo=""+new URL("splash_ningguang-0423cf3a.png",import.meta.url).href,Qo=""+new URL("splash_noelle-3c164134.png",import.meta.url).href,Zo=""+new URL("splash_qiqi-9882f0de.png",import.meta.url).href,es=""+new URL("splash_raiden-ce0042a0.png",import.meta.url).href,ts=""+new URL("splash_razor-dfd28235.png",import.meta.url).href,as=""+new URL("splash_rosaria-beb57b8a.png",import.meta.url).href,ns=""+new URL("splash_sara-1f76a85f.png",import.meta.url).href,rs=""+new URL("splash_sayu-afc9c432.png",import.meta.url).href,os=""+new URL("splash_shenhe-ba31eb5d.png",import.meta.url).href,ss=""+new URL("splash_sucrose-ad665b53.png",import.meta.url).href,is=""+new URL("splash_tartaglia-9aaa2f1a.png",import.meta.url).href,ls=""+new URL("splash_thoma-004bf569.png",import.meta.url).href,cs=""+new URL("splash_tighnari-3ce7dd13.png",import.meta.url).href,us=""+new URL("splash_venti-ea8e2087.png",import.meta.url).href,ds=""+new URL("splash_wanderer-645fe3d8.png",import.meta.url).href,hs=""+new URL("splash_wriothesley-94b73230.png",import.meta.url).href,ps=""+new URL("splash_xiangling-058aca33.png",import.meta.url).href,ms=""+new URL("splash_xianyun-946028bc.png",import.meta.url).href,fs=""+new URL("splash_xiao-69656d36.png",import.meta.url).href,gs=""+new URL("splash_xingqiu-fe033a4f.png",import.meta.url).href,Cs=""+new URL("splash_xinyan-bb9c21b3.png",import.meta.url).href,xs=""+new URL("splash_yae-5a7bf919.png",import.meta.url).href,bs=""+new URL("splash_yanfei-ecb8fb25.png",import.meta.url).href,ys=""+new URL("splash_yaoyao-8b72be49.png",import.meta.url).href,vs=""+new URL("splash_yelan-26eec3f5.png",import.meta.url).href,ws=""+new URL("splash_yoimiya-2d38f125.png",import.meta.url).href,_s=""+new URL("splash_yunjin-538f24e0.png",import.meta.url).href,Rs=""+new URL("splash_zhongli-c0ebbd75.png",import.meta.url).href,Ss={Albedo:eo,Alhaitham:to,Amber:ao,AratakiItto:To,Baizhu:oo,Barbara:so,Beidou:io,Bennett:lo,Candace:co,Charlotte:uo,Chevreuse:ho,Chongyun:po,Collei:mo,Cyno:fo,Dehya:go,Diluc:Co,Diona:xo,Dori:bo,Eula:yo,Faruzan:vo,Fischl:wo,Freminet:_o,Furina:Ro,Gaming:So,Ganyu:Lo,Gorou:ko,HuTao:Uo,Jean:Mo,KaedeharaKazuha:Ao,Kaeya:Do,KamisatoAyaka:no,KamisatoAyato:ro,Kaveh:jo,Keqing:Bo,Kirara:Oo,Klee:Io,KujouSara:ns,KukiShinobu:zo,Layla:No,Lisa:Eo,Lynette:Fo,Lyney:Ko,Mika:qo,Mona:Ho,Nahida:Vo,Navia:Go,Neuvillette:Yo,Nilou:Xo,Ningguang:Jo,Noelle:Qo,Qiqi:Zo,RaidenShogun:es,Razor:ts,Rosaria:as,SangonomiyaKokomi:Wo,Sayu:rs,Shenhe:os,ShikanoinHeizou:$o,Sucrose:ss,Tartaglia:is,Thoma:ls,Tighnari:cs,TravelerF:Po,TravelerM:Zr,Venti:us,Wanderer:ds,Wriothesley:hs,Xiangling:ps,Xianyun:ms,Xiao:fs,Xingqiu:gs,Xinyan:Cs,YaeMiko:xs,Yanfei:bs,Yaoyao:ys,Yelan:vs,Yoimiya:ws,YunJin:_s,Zhongli:Rs};function Ls(t,a){return Ss[De(t,a)]??""}const ks=l.createContext({});var wt={},$s=Le;Object.defineProperty(wt,"__esModule",{value:!0});var Da=wt.default=void 0,Us=$s(Se()),Ts=Y,Ms=(0,Us.default)((0,Ts.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");Da=wt.default=Ms;const Ds=""+new URL("Character_Albedo_Card-5ef0c064.png",import.meta.url).href,js=""+new URL("Character_Alhaitham_Card-5b5622a6.jpg",import.meta.url).href,As=""+new URL("Character_Aloy_Card-63f8894a.png",import.meta.url).href,Bs=""+new URL("Character_Amber_Card-75caf8bc.jpg",import.meta.url).href,Os=""+new URL("Character_Arataki_Itto_Card-9d5b2141.jpg",import.meta.url).href,Is=""+new URL("Character_Baizhu_Card-91cf0ace.jpg",import.meta.url).href,Ws=""+new URL("Character_Barbara_Card-58cbe572.jpg",import.meta.url).href,zs=""+new URL("Character_Beidou_Card-ea7de4d2.jpg",import.meta.url).href,Ns=""+new URL("Character_Bennett_Card-af6cc7e8.jpg",import.meta.url).href,Es=""+new URL("Character_Candace_Card-e2c9913c.jpg",import.meta.url).href,Ps=""+new URL("Character_Charlotte_Card-b4153f53.jpg",import.meta.url).href,Fs=""+new URL("Character_Chevreuse_Card-4b92e6a5.jpg",import.meta.url).href,Ks=""+new URL("Character_Chongyun_Card-1128f6bd.jpg",import.meta.url).href,qs=""+new URL("Character_Collei_Card-e3c02ab9.jpg",import.meta.url).href,Hs=""+new URL("Character_Cyno_Card-b178c8f3.jpg",import.meta.url).href,Vs=""+new URL("Character_Dehya_Card-546c51ec.jpg",import.meta.url).href,Gs=""+new URL("Character_Diluc_Card-2027991e.jpg",import.meta.url).href,Ys=""+new URL("Character_Diona_Card-3cd0b9ac.png",import.meta.url).href,Xs=""+new URL("Character_Dori_Card-025a2f89.jpg",import.meta.url).href,Js=""+new URL("Character_Eula_Card-2ab7b302.png",import.meta.url).href,Qs=""+new URL("Character_Faruzan_Card-262e6371.jpg",import.meta.url).href,Zs=""+new URL("Character_Fischl_Card-1dc842a2.jpg",import.meta.url).href,ei=""+new URL("Character_Freminet_Card-a2254a5a.jpg",import.meta.url).href,ti=""+new URL("Character_Furina_Card-de05953e.jpg",import.meta.url).href,ai=""+new URL("Character_Gaming_Card-fb7f6290.jpg",import.meta.url).href,ni=""+new URL("Character_Ganyu_Card-da6b1426.png",import.meta.url).href,ri=""+new URL("Character_Gorou_Card-75b11c2b.png",import.meta.url).href,oi=""+new URL("Character_Hu_Tao_Card-96e1f9c8.png",import.meta.url).href,si=""+new URL("Character_Jean_Card-2fc96483.jpg",import.meta.url).href,ii=""+new URL("Character_Kaeya_Card-90ad939e.jpg",import.meta.url).href,li=""+new URL("Character_Kamisato_Ayaka_Card-ae1bb2fb.png",import.meta.url).href,ci=""+new URL("Character_Kamisato_Ayato_Card-f6b1ad8d.png",import.meta.url).href,ui=""+new URL("Character_Kaveh_Card-d3229e58.jpg",import.meta.url).href,di=""+new URL("Character_Kazuha_Card-71c36913.png",import.meta.url).href,hi=""+new URL("Character_Keqing_Card-28b6df43.jpg",import.meta.url).href,pi=""+new URL("Character_Kirara_Card-ae8092de.jpg",import.meta.url).href,mi=""+new URL("Character_Klee_Card-43602d1c.jpg",import.meta.url).href,fi=""+new URL("Character_Kujou_Sara_Card-6eb66d8d.jpg",import.meta.url).href,gi=""+new URL("Character_Kuki_Shinobu_Card-c0cca5df.jpg",import.meta.url).href,Ci=""+new URL("Character_Layla_Card-89ddf634.jpeg",import.meta.url).href,xi=""+new URL("Character_Lisa_Card-cd94c665.jpg",import.meta.url).href,bi=""+new URL("Character_Lynette_Card-7469da2e.jpg",import.meta.url).href,yi=""+new URL("Character_Lyney_Card-deef8197.jpg",import.meta.url).href,vi=""+new URL("Character_Mika_Card-20bd2280.jpg",import.meta.url).href,wi=""+new URL("Character_Mona_Card-4b42f44c.jpg",import.meta.url).href,_i=""+new URL("Character_Nahida_Card-309d4d29.jpeg",import.meta.url).href,Ri=""+new URL("Character_Navia_Card-8745abc6.jpg",import.meta.url).href,Si=""+new URL("Character_Neuvillette_Card-32f9dd3c.jpg",import.meta.url).href,Li=""+new URL("Character_Nilou_Card-de0e3f0d.jpg",import.meta.url).href,ki=""+new URL("Character_Ningguang_Card-4f9a1915.jpg",import.meta.url).href,$i=""+new URL("Character_Noelle_Card-9995f992.jpg",import.meta.url).href,Ui=""+new URL("Character_Qiqi_Card-4d5d3687.jpg",import.meta.url).href,Ti=""+new URL("Character_Raiden_Shogun_Card-90085c4a.png",import.meta.url).href,Mi=""+new URL("Character_Razor_Card-0e7f3a1e.jpg",import.meta.url).href,Di=""+new URL("Character_Rosaria_Card-22e1e066.png",import.meta.url).href,ji=""+new URL("Character_Sangonomiya_Kokomi_Card-d5698fe4.jpg",import.meta.url).href,Ai=""+new URL("Character_Sayu_Card-e1a67cbd.png",import.meta.url).href,Bi=""+new URL("Character_Shenhe_Card-4340449f.jpg",import.meta.url).href,Oi=""+new URL("Character_Shikanoin_Heizou_Card-043ef79e.png",import.meta.url).href,Ii=""+new URL("Character_Somnia_Card-e56f30f7.png",import.meta.url).href,Wi=""+new URL("Character_Sucrose_Card-e0782acd.jpg",import.meta.url).href,zi=""+new URL("Character_Tartaglia_Card-b8d93f98.png",import.meta.url).href,Ni=""+new URL("Character_Thoma_Card-b561acbb.jpg",import.meta.url).href,Ei=""+new URL("Character_Tighnari_Card-8ebb6d51.jpg",import.meta.url).href,Pi=""+new URL("Character_Venti_Card-416dade9.jpg",import.meta.url).href,Fi=""+new URL("Character_Wanderer_Card-ef1ff178.jpg",import.meta.url).href,Ki=""+new URL("Character_Wriothesley_Card-27b94628.jpg",import.meta.url).href,qi=""+new URL("Character_Xiangling_Card-9ebf0a46.jpg",import.meta.url).href,Hi=""+new URL("Character_Xianyun_Card-6d9b79fa.jpg",import.meta.url).href,Vi=""+new URL("Character_Xiao_Card-41530690.jpg",import.meta.url).href,Gi=""+new URL("Character_Xingqiu_Card-d4eb12ea.jpg",import.meta.url).href,Yi=""+new URL("Character_Xinyan_Card-08b1f13c.jpg",import.meta.url).href,Xi=""+new URL("Character_Yae_Miko_Card-dde243b2.png",import.meta.url).href,Ji=""+new URL("Character_Yanfei_Card-7a0cde36.png",import.meta.url).href,Qi=""+new URL("Character_Yaoyao_Card-d91c99fc.jpg",import.meta.url).href,Zi=""+new URL("Character_Yelan_Card-16780ff3.jpg",import.meta.url).href,el=""+new URL("Character_Yoimiya_Card-a2f5a17e.png",import.meta.url).href,tl=""+new URL("Character_Yun_Jin_Card-93bda737.jpg",import.meta.url).href,al=""+new URL("Character_Zhongli_Card-55c0bab7.png",import.meta.url).href,nl=""+new URL("Traveler_Female_Card-f2156008.jpg",import.meta.url).href,rl=""+new URL("Traveler_Male_Card-0d6523d2.jpg",import.meta.url).href,zt={Albedo:Ds,Alhaitham:js,Aloy:As,Amber:Bs,AratakiItto:Os,Baizhu:Is,Barbara:Ws,Beidou:zs,Bennett:Ns,Candace:Es,Charlotte:Ps,Chevreuse:Fs,Chongyun:Ks,Collei:qs,Cyno:Hs,Dehya:Vs,Diluc:Gs,Diona:Ys,Dori:Xs,Eula:Js,Faruzan:Qs,Fischl:Zs,Freminet:ei,Furina:ti,Gaming:ai,Ganyu:ni,Gorou:ri,HuTao:oi,Jean:si,KaedeharaKazuha:di,Kaeya:ii,KamisatoAyaka:li,KamisatoAyato:ci,Kaveh:ui,Keqing:hi,Kirara:pi,Klee:mi,KujouSara:fi,KukiShinobu:gi,Layla:Ci,Lisa:xi,Lyney:yi,Lynette:bi,Mika:vi,Mona:wi,Nahida:_i,Navia:Ri,Neuvillette:Si,Nilou:Li,Ningguang:ki,Noelle:$i,Qiqi:Ui,RaidenShogun:Ti,Razor:Mi,Rosaria:Di,SangonomiyaKokomi:ji,Sayu:Ai,Shenhe:Bi,ShikanoinHeizou:Oi,Somnia:Ii,Sucrose:Wi,Tartaglia:zi,Thoma:Ni,Tighnari:Ei,TravelerF:nl,TravelerM:rl,Venti:Pi,Wanderer:Fi,Wriothesley:Ki,Xiangling:qi,Xianyun:Hi,Xiao:Vi,Xingqiu:Gi,Xinyan:Yi,YaeMiko:Xi,Yanfei:Ji,Yaoyao:Qi,Yelan:Zi,Yoimiya:el,YunJin:tl,Zhongli:al};function ol(t,a){switch(t){case"TravelerAnemo":case"TravelerDendro":case"TravelerElectro":case"TravelerGeo":case"TravelerHydro":return zt[`Traveler${a}`]??"";default:return zt[t]??""}}function hu(){const{characterSheet:t}=l.useContext(E),{data:a}=l.useContext(H),n={auto:a.get(j.total.auto).value,skill:a.get(j.total.skill).value,burst:a.get(j.total.burst).value},o={auto:a.get(j.total.autoBoost).value,skill:a.get(j.total.skillBoost).value,burst:a.get(j.total.burstBoost).value};return e(g,{children:e(k,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map(s=>{var r;return e(k,{item:!0,xs:4,children:e(Fr,{badgeContent:n[s],color:o[s]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:e(g,{component:"img",src:(r=t.getTalentOfKey(s))==null?void 0:r.img,width:"100%",height:"auto"})})},s)})})})}function sl(){const{characterSheet:t,character:{key:a}}=l.useContext(E),{data:n}=l.useContext(H),o=ia(a),s=n.get(j.constellation).value;return e(k,{container:!0,spacing:1,children:Yt(1,6).map(r=>{var i;return e(k,{item:!0,xs:4,children:e(qe,{onClick:()=>o({constellation:r===s?r-1:r}),children:e(g,{component:"img",src:(i=t.getTalentOfKey(`constellation${r}`))==null?void 0:i.img,sx:{...s>=r?{}:{filter:"brightness(50%)"}},width:"100%",height:"auto"})})},r)})})}function il(){const{silly:t}=l.useContext(Ee),{character:{key:a}}=l.useContext(E),{gender:n}=me(),{data:o}=l.useContext(H),s=o.get(j.lvl).value,r=o.get(j.asc).value,i=Ls(a,n),c=ol(a,n);return t&&i?e(ll,{src:i,level:s,ascension:r}):e(cl,{src:c,level:s,ascension:r})}function ll({src:t,level:a,ascension:n}){const{characterSheet:o}=l.useContext(E);return m(g,{sx:{position:"relative"},children:[e(g,{src:t,component:"img",width:"100%",height:"auto"}),m(g,{sx:{width:"100%",height:"100%"},children:[e(g,{sx:{opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(ja,{})}),e(w,{variant:"h6",sx:{width:"100%",opacity:.75,textAlign:"center"},children:e(Ct,{stars:o.rarity,colored:!0})}),e(Ba,{}),e(Aa,{level:a,ascension:n})]})]})}function cl({src:t,level:a,ascension:n}){const{characterSheet:o}=l.useContext(E);return m(g,{sx:{position:"relative"},children:[m(g,{sx:{position:"absolute",width:"100%",height:"100%"},children:[e(w,{variant:"h6",sx:{position:"absolute",width:"100%",left:"50%",bottom:0,transform:"translate(-50%, -50%)",opacity:.75,textAlign:"center"},children:e(Ct,{stars:o.rarity,colored:!0})}),e(g,{sx:{position:"absolute",left:"50%",bottom:"7%",transform:"translate(-50%, -50%)",opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(ja,{})}),e(Ba,{}),e(Aa,{level:a,ascension:n})]}),e(g,{src:t,component:"img",width:"100%",height:"auto"})]})}function ja(){var n;const{characterSheet:t}=l.useContext(E),a=t.elementKey;return e(he,{color:a,sx:{height:"auto"},label:m(w,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[e(ft,{ele:a}),e(g,{sx:{whiteSpace:"normal",textAlign:"center"},children:t.name}),e(Ue,{src:(n=Te.weaponTypes)==null?void 0:n[t.weaponTypeKey]})]})})}function Aa({level:t,ascension:a}){return e(w,{sx:{p:1,position:"absolute",right:0,top:0,opacity:.8},children:e(G,{children:Za(t,a)})})}function Ba(){const{character:{key:t}}=l.useContext(E),a=$(),{favorite:n}=la(t);return e(g,{sx:{position:"absolute",left:0,top:0},children:e(Xt,{sx:{p:1},color:"error",onClick:()=>a.charMeta.set(t,{favorite:!n}),children:n?e(Ca,{}):e(ca,{})})})}var _t={},ul=Le;Object.defineProperty(_t,"__esModule",{value:!0});var Me=_t.default=void 0,dl=ul(Se()),hl=Y,pl=(0,dl.default)((0,hl.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");Me=_t.default=pl;var Rt={},ml=Le;Object.defineProperty(Rt,"__esModule",{value:!0});var Oa=Rt.default=void 0,fl=ml(Se()),gl=Y,Cl=(0,fl.default)((0,gl.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Oa=Rt.default=Cl;function Ia({characterKey:t}){const{gender:a}=me();if(!t)return null;const n=ie(t,a);return n?e(Oe,{placement:"right-end",title:e(w,{children:n.name}),children:e(fr,{characterKey:t,sideMargin:!0})}):null}function xl({statKey:t,disableIcon:a=!1}){return m(g,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!a&&e(gt,{statKey:t,iconProps:re}),m("span",{children:[nt.get(t),nt.unit(t)]})]})}function Wa({statKey:t,disableIcon:a=!1}){return e(Ke,{color:nt.getVariant(t),children:e(xl,{statKey:t,disableIcon:a})})}function bl({artifactId:t,slotKey:a,mainStatAssumptionLevel:n=0,showLocation:o=!1,onClick:s,BGComponent:r=ce}){const i=lt(t),c=$(),p=l.useCallback(A=>e(qe,{onClick:s,sx:{height:"100%"},children:A}),[s]),u=pt();if(!i)return e(r,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(g,{component:"img",src:Te.slot[a],sx:{width:"25%",height:"auto",opacity:.7}})});const{slotKey:h,rarity:d,level:f,mainStatKey:C,substats:x,location:b}=i,_=Math.max(Math.min(n,d*4),f),T=en.find(A=>i.mainStatKey.includes(A)),S=T?Ut(u.palette[T].main,.6):Ut(u.palette.secondary.main,.6);return e(r,{sx:{height:"100%"},children:e(xa,{condition:!!s,wrapper:p,children:m(g,{display:"flex",height:"100%",children:[m(g,{className:`grad-${d}star`,sx:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e(Wn,{art:i,children:e(g,{component:"img",src:Xn(i.setKey,h),sx:{m:-1,maxHeight:"110%",maxWidth:"110%"}})}),m(g,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(he,{size:"small",label:e("strong",{children:` +${f}`}),color:Sr.levelVariant(f)}),o&&e(he,{size:"small",label:b?e(Ia,{characterKey:b&&c.chars.LocationToCharacterKey(b)}):e(ha,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(he,{size:"small",sx:{position:"absolute",bottom:0,mb:1,backgroundColor:S,p:1},icon:e(Oe,{placement:"top",title:e(w,{children:e(Wa,{statKey:C})}),disableInteractive:!0,children:e(g,{lineHeight:0,children:e(gt,{statKey:C,iconProps:{style:{padding:"4px"}}})})}),label:e(w,{sx:{mx:-.7},children:e(Ke,{color:_!==f?"warning":void 0,children:tn(C,d,_)})})})]}),e(g,{display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{p:1},children:x.map((A,z)=>e(yl,{stat:A},z+A.key))})]})})})}function yl({stat:t}){var s;if(!t.value)return null;const a=((s=t.rolls)==null?void 0:s.length)??0,n=`roll${rn(a,1,6)}`,o=an(t.key);return e(g,{display:"flex",gap:1,alignContent:"center",children:m(w,{sx:{flexGrow:1,display:"flex",gap:.5,alignItems:"center"},color:a?`${n}.main`:"error.main",component:"span",children:[e(Oe,{placement:"top",title:e(w,{children:t.key&&e(Wa,{statKey:t.key})}),disableInteractive:!0,children:e(g,{lineHeight:0,children:e(gt,{statKey:t.key,iconProps:{fontSize:"inherit"}})})}),e("span",{children:`${nn(t.value,o)}${o}`})]})})}function vl(t){return qt("MuiMasonry",t)}Kt("MuiMasonry",["root"]);const wl=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],xe=t=>Number(t.replace("px","")),_l={flexBasis:"100%",width:0,margin:0,padding:0},Rl=t=>{const{classes:a}=t;return Gt({root:["root"]},vl,a)},Sl=({ownerState:t,theme:a})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const o={};if(t.isSSR){const u={},h=xe(a.spacing(t.defaultSpacing));for(let d=1;d<=t.defaultColumns;d+=1)u[`&:nth-of-type(${t.defaultColumns}n+${d%t.defaultColumns})`]={order:d};return o.height=t.defaultHeight,o.margin=-(h/2),o["& > *"]=oe({},n["& > *"],u,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),oe({},n,o)}const s=Tt({values:t.spacing,breakpoints:a.breakpoints.values}),r=ln(a);n=Ve(n,Ge({theme:a},s,u=>{let h;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const d=Number(u);h=Ye(r,d)}else h=u;return oe({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+xe(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const c=Tt({values:t.columns,breakpoints:a.breakpoints.values});return n=Ve(n,Ge({theme:a},c,u=>{const d=`${(100/Number(u)).toFixed(2)}%`,f=typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"?Ye(r,Number(s)):"0px";return{"& > *":{width:`calc(${d} - ${f})`}}})),typeof s=="object"&&(n=Ve(n,Ge({theme:a},s,(u,h)=>{if(h){const d=Number(u),f=Object.keys(c).pop(),C=Ye(r,d);return{"& > *":{width:`calc(${`${(100/(typeof c=="object"?c[h]||c[f]:c)).toFixed(2)}%`} - ${C})`}}}return null}))),n},Ll=Ae("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,a)=>[a.root]})(Sl),kl=l.forwardRef(function(a,n){const o=Ht({props:a,name:"MuiMasonry"}),{children:s,className:r,component:i="div",columns:c=4,spacing:p=1,defaultColumns:u,defaultHeight:h,defaultSpacing:d}=o,f=Vt(o,wl),C=l.useRef(),[x,b]=l.useState(),_=!x&&h&&u!==void 0&&d!==void 0,[T,S]=l.useState(_?u-1:0),A=oe({},o,{spacing:p,columns:c,maxColumnHeight:x,defaultColumns:u,defaultHeight:h,defaultSpacing:d,isSSR:_}),z=Rl(A),B=M=>{if(!C.current||!M||M.length===0)return;const y=C.current,U=C.current.firstChild,I=y.clientWidth,v=U.clientWidth;if(I===0||v===0)return;const N=window.getComputedStyle(U),V=xe(N.marginLeft),L=xe(N.marginRight),te=Math.round(I/(v+V+L)),X=new Array(te).fill(0);let J=!1;y.childNodes.forEach(Q=>{if(Q.nodeType!==Node.ELEMENT_NODE||Q.dataset.class==="line-break"||J)return;const R=window.getComputedStyle(Q),D=xe(R.marginTop),Z=xe(R.marginBottom),ee=xe(R.height)?Math.ceil(xe(R.height))+D+Z:0;if(ee===0){J=!0;return}for(let P=0;P<Q.childNodes.length;P+=1){const ae=Q.childNodes[P];if(ae.tagName==="IMG"&&ae.clientHeight===0){J=!0;break}}if(!J){const P=X.indexOf(Math.min(...X));X[P]+=ee;const ae=P+1;Q.style.order=ae}}),J||cn.flushSync(()=>{b(Math.max(...X)),S(te>0?te-1:0)})};on(()=>{if(typeof ResizeObserver>"u")return;let M;const y=new ResizeObserver(()=>{M=requestAnimationFrame(B)});return C.current&&C.current.childNodes.forEach(U=>{y.observe(U)}),()=>{M&&window.cancelAnimationFrame(M),y&&y.disconnect()}},[c,p,s]);const W=sn(n,C),K=new Array(T).fill("").map((M,y)=>Y.jsx("span",{"data-class":"line-break",style:oe({},_l,{order:y+1})},y));return Y.jsxs(Ll,oe({as:i,className:at(z.root,r),ref:W,ownerState:A},f,{children:[s,K]}))}),$l=kl,Ul=l.createContext(void 0),we={title:e(Ke,{color:"warning",children:"ERROR"})},Tl={normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass.",...Object.fromEntries(Yt(1,6).map(t=>[`constellation${t}`,`Const. ${t}`]))};function Ml(t,a,n){if(!a)return we;if(a==="basic")return{title:"Basic Stats"};if(a==="custom")return{title:"Custom Multi Target"};if(a==="reaction")return{title:"Transformative Reactions"};if(a.includes(":")){const[o,s]=a.split(":");if(o==="artifact"){const r=ka(s);return r?{title:r.name,icon:Lr(s)}:we}else if(o==="weapon"){const r=bt(s);if(!r)return we;const i=t.get(le.weapon.asc).value;return{title:r.name,icon:pa(s,i>=2)}}}else{const o=t.get(le.charKey).value;if(!o)return we;const s=ie(o,n.gender),r=["normal","charged","plunging"].includes(a)?"auto":a,i=s==null?void 0:s.getTalentOfKey(r);if(!i)return we;const c=Tl[a];return{icon:i.img,title:i.name,action:c}}return we}function Dl(t){const a=t.getDisplay(),n=Object.entries(a),o=n.filter(([u])=>u==="basic"),s=n.filter(([u])=>u==="reaction"),r=n.filter(([u])=>u==="custom"),i=n.filter(([u])=>u.startsWith("weapon")),c=n.filter(([u])=>u.startsWith("artifact")),p=n.filter(([u])=>u!=="basic"&&u!=="reaction"&&!u.startsWith("weapon")&&!u.startsWith("artifact")&&u!=="custom");return[...o,...s,...r,...p,...i,...c]}function jl(){const{data:t}=l.useContext(H),a=l.useMemo(()=>Dl(t).filter(([,n])=>Object.values(n).some(o=>!o.isEmpty)),[t]);return e(g,{sx:{mr:-1,mb:-1},children:e($l,{columns:{xs:1,sm:2,md:3,xl:4},spacing:1,children:a.map(([n,o])=>e(Al,{displayNs:o,sectionKey:n},n))})})}function Al({displayNs:t,sectionKey:a}){const n=l.useContext(Ul),{data:o,oldData:s}=l.useContext(H),r=$(),i=l.useMemo(()=>Ml(o,a,r),[r,o,a]),c=l.useMemo(()=>pe(t,(d,f)=>Jn(["display",a,f])),[t,a]);if(!i)return e(ce,{});const{title:p,icon:u,action:h}=i;return m(ce,{children:[e(hr,{avatar:u&&e(Ue,{size:2,src:u}),title:p,action:h&&e(G,{children:h})}),e(be,{}),e(Gn,{sx:{m:0},children:Object.entries(t).map(([d,f])=>e(Hn,{node:f,oldValue:s?s.get(c[d]).value:void 0,component:Vn,emphasize:JSON.stringify(n)===JSON.stringify([a,d])},d))})]})}function Bl({weaponId:t,showLocation:a=!1,onClick:n,BGComponent:o=ce,weaponTypeKey:s="sword"}){const r=$r(t),i=(r==null?void 0:r.key)&&bt(r.key);return!r||!i?e(o,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(g,{component:"img",src:Te.weaponTypes[s],sx:{width:"25%",height:"auto",opacity:.7}})}):e(Ol,{weapon:r,weaponSheet:i,onClick:n,showLocation:a,BGComponent:o})}function Ol({weapon:t,weaponSheet:a,showLocation:n=!1,onClick:o,BGComponent:s=ce}){const r=$(),{refinement:i,location:c}=t,p=l.useCallback(h=>e(qe,{sx:{height:"100%"},onClick:o,children:h}),[o]),u=l.useMemo(()=>a&&t&&Qn([a.data,ma(t)]),[a,t]);return e(s,{sx:{height:"100%"},children:e(xa,{condition:!!o,wrapper:p,children:m(g,{display:"flex",height:"100%",alignItems:"stretch",children:[m(g,{className:`grad-${a.rarity}star`,sx:{height:"100%",position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:[e(zn,{sheet:a,children:e(g,{component:"img",src:pa(t.key,t.ascension>=2),sx:{mx:-1,maxHeight:"100%",maxWidth:"100%"}})}),m(g,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(he,{size:"small",label:e("strong",{children:$a.getLevelString(t)}),color:"primary"}),n&&e(he,{size:"small",label:c?e(Ia,{characterKey:r.chars.LocationToCharacterKey(c)}):e(ha,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(g,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},children:a.hasRefinement&&e(he,{size:"small",color:"info",label:m("strong",{children:["R",i]})})})]}),m(g,{display:"flex",flexDirection:"column",sx:{p:1},children:[e(Nt,{node:u.get(le.weapon.main)}),e(Nt,{node:u.get(le.weapon.sub)})]})]})})})}function Nt({node:t}){return t.info.name?e(g,{display:"flex",gap:1,alignContent:"center",children:m(w,{sx:{flexGrow:1,display:"flex",gap:1},component:"span",children:[e(Oe,{placement:"top",title:e(w,{children:t.info.name}),disableInteractive:!0,children:e("span",{children:t.info.icon})}),e("span",{children:Zn(t)})]})}):null}function Il({artifacts:t}){const a=l.useMemo(()=>{const n=t.filter(o=>o).reduce((o,s)=>(o[s.setKey]?o[s.setKey].push(s.slotKey):o[s.setKey]=[s.slotKey],o),{});return Object.keys(n).forEach(o=>{var s;((s=n[o])==null?void 0:s.length)===1&&delete n[o]}),n},[t]);return e(ke,{children:Object.entries(a).sort(([n,o],[s,r])=>r.length-o.length).map(([n,o])=>e(Wl,{setKey:n,slotarr:o},n))})}function Wl({setKey:t,slotarr:a}){const n=ka(t),o=a.length,s=Object.keys(n.setEffects).map(r=>parseInt(r)).filter(r=>r<=o);return e(g,{children:e(Cr,{artifactSheet:n,numInSet:o,children:e(G,{sx:{height:"100%"},color:"primary",children:m(w,{children:[a.map(r=>e(Ur,{slotKey:r,iconProps:re},r))," ",n.name??"",s.map((r,i)=>e(G,{sx:{ml:.5},color:"success",children:r},""+r+i))]})})})})}var St={},zl=Le;Object.defineProperty(St,"__esModule",{value:!0});var ut=St.default=void 0,Nl=zl(Se()),El=Y,Pl=(0,Nl.default)((0,El.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");ut=St.default=Pl;var Lt={},Fl=Le;Object.defineProperty(Lt,"__esModule",{value:!0});var dt=Lt.default=void 0,Kl=Fl(Se()),ql=Y,Hl=(0,Kl.default)((0,ql.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");dt=Lt.default=Hl;function Vl({setKey:t,buttonGroupSx:a}){const{t:n}=F("sheet"),{teamChar:{optConfigId:o}}=l.useContext(de),{artSetExclusion:s}=Ie(o),r=(s==null?void 0:s[t])??[],i=r.includes(2),c=r.includes(4),p=$();return m(dr,{sx:a,fullWidth:!0,children:[e(O,{startIcon:i?e(Mt,{}):e(Dt,{}),onClick:()=>p.optConfigs.set(o,{artSetExclusion:jt(s,t,2)}),color:i?"secondary":"success",endIcon:i?e(ut,{}):e(dt,{}),children:n`2set`}),e(O,{startIcon:c?e(Mt,{}):e(Dt,{}),onClick:()=>p.optConfigs.set(o,{artSetExclusion:jt(s,t,4)}),color:c?"secondary":"success",endIcon:c?e(ut,{}):e(dt,{}),children:n`4set`})]})}function Gl({label:t,extraButtonsRight:a,extraButtonsLeft:n,disabled:o}){var Q;const{teamChar:{optConfigId:s,buildType:r,buildId:i,buildIds:c=[]}}=l.useContext(de),{character:{key:p,equippedArtifacts:u,equippedWeapon:h}}=l.useContext(E),{mainStatAssumptionLevel:d,allowLocationsState:f}=Ie(s)??{mainStatAssumptionLevel:0,allowLocationsState:"all"},C=$(),{data:x,oldData:b}=l.useContext(H),[_,T]=$e();l.useEffect(()=>{const R=c.map(D=>C.builds.follow(D,T));return()=>R.forEach(D=>D())},[C,c,T]);const S=l.useMemo(()=>{var R;return{oldId:(R=b==null?void 0:b.get(j.weapon.id))==null?void 0:R.value,newId:x.get(j.weapon.id).value??""}},[x,b]),[A,z,B]=fe(!1),W=l.useMemo(()=>je(Ce,R=>{var D;return{oldId:(D=b==null?void 0:b.get(j.art[R].id))==null?void 0:D.value,newId:x.get(j.art[R].id).value??""}}),[x,b]),[K,M]=l.useState(),y=l.useCallback(()=>M(void 0),[M]),U=i&&r==="real",I=l.useCallback(()=>{const R=U?"Do you want to equip this build to the currently active build?":"Do you want to equip this build to this character?";if(!window.confirm(R))return;if(U){C.builds.set(i,{weaponId:x.get(j.weapon.id).value,artifactIds:je(Ce,ee=>{var P;return(P=x.get(j.art[ee].id).value)==null?void 0:P.toString()})});return}const D=C.chars.get(p);if(!D)return;Ce.forEach(ee=>{var ae;const P=(ae=x.get(j.art[ee].id).value)==null?void 0:ae.toString();if(P)C.arts.set(P,{location:ye(p)});else{const ve=D.equippedArtifacts[ee];ve&&C.arts.get(ve)&&C.arts.set(ve,{location:""})}});const Z=x.get(j.weapon.id).value;Z&&C.weapons.set(Z,{location:ye(p)})},[p,U,i,x,C]),v=l.useMemo(()=>Object.fromEntries(Ce.map(R=>{var D;return[R,(D=x.get(j.art[R].id).value)==null?void 0:D.toString()]})),[x]),N=l.useMemo(()=>v&&Object.values(v).map(R=>C.arts.get(R)).filter(R=>R),[v,C.arts]),V=l.useMemo(()=>e(k,{item:!0,xs:1,children:e(Bl,{showLocation:!0,weaponId:x.get(j.weapon.id).value,onClick:z})}),[x,z]),L=l.useMemo(()=>Ce.map(R=>e(k,{item:!0,xs:1,children:e(bl,{showLocation:!0,slotKey:R,artifactId:v[R],mainStatAssumptionLevel:d,onClick:()=>{const D=W[R].oldId,Z=W[R].newId;M({oldId:D!==Z?D:void 0,newId:Z})}})},R)),[M,W,d,v]),te=Ce.every(R=>v[R]===u[R])&&x.get(j.weapon.id).value===h,X=l.useMemo(()=>_&&c.find(R=>{const D=C.builds.get(R);if(!D)return!1;const{artifactIds:Z,weaponId:ee}=D;return Ce.every(P=>v[P]===Z[P])&&x.get(j.weapon.id).value===ee}),[_,C,c,v,x]),J=X===i||r==="equipped"&&te;return e(Jt,{sx:{boxShadow:J?"0px 0px 0px 2px green inset":void 0},children:m(l.Suspense,{fallback:e(se,{variant:"rectangular",width:"100%",height:600}),children:[S&&e(Yl,{newOld:S,showWeapon:A,onClose:B}),K&&e(Xl,{newOld:K,mainStatAssumptionLevel:d,onClose:y,allowLocationsState:f}),m(q,{sx:{display:"flex",flexDirection:"column",gap:1},children:[m(g,{display:"flex",gap:1,flexWrap:"wrap",children:[t!==void 0&&e(_e,{color:te?"success":"info",children:e(w,{children:m("strong",{children:[t,te?" (Equipped)":""]})})}),X&&e(_e,{color:J?"success":"info",children:m(w,{children:[(Q=C.builds.get(X))==null?void 0:Q.name,J?" (current build)":""]})}),e(Il,{artifacts:N}),e(g,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}),n,e(O,{size:"small",color:"success",onClick:I,disabled:o||J,startIcon:e(Xr,{}),children:"Equip to Current Build"}),a]}),e(g,{children:m(k,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:6},children:[V,L]})}),e(jl,{})]})]})})}function Yl({newOld:{newId:t,oldId:a},showWeapon:n,onClose:o}){const s=$(),r=a!==t,i=l.useCallback(c=>s.weapons.remove(c),[s]);return e(Be,{open:n,onClose:o,containerProps:{maxWidth:r?"md":"xs"},children:e(ce,{children:m(q,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[r&&m(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(ue,{bgt:"light",sx:{p:1},children:e(w,{variant:"h6",textAlign:"center",children:"Old Weapon"})}),a==="tc"?e(w,{variant:"h6",textAlign:"center",color:"info",children:e(_e,{children:"TC Weapon"})}):e(Ne,{weaponId:a,onDelete:i})]}),r&&e(g,{display:"flex",flexGrow:1}),r&&e(g,{display:"flex",alignItems:"center",justifyContent:"center",children:e(Ua,{sx:{fontSize:40}})}),r&&e(g,{display:"flex",flexGrow:1}),m(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(ue,{bgt:"light",sx:{p:1},children:e(w,{variant:"h6",textAlign:"center",children:"New Weapon"})}),e(Ne,{weaponId:t,onDelete:i})]})]})})})}function Xl({newOld:{newId:t,oldId:a},mainStatAssumptionLevel:n,onClose:o,allowLocationsState:s}){var d;const r=$(),{character:{key:i}}=l.useContext(E),c=((d=r.arts.get(t))==null?void 0:d.location)??"",p=lt(t),u=lt(a),h=l.useCallback(f=>r.arts.remove(f),[r]);return e(Be,{open:!!t,onClose:o,containerProps:{maxWidth:a?"md":"xs"},children:e(ce,{children:m(q,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[a&&m(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(ue,{bgt:"light",sx:{p:1},children:e(w,{variant:"h6",textAlign:"center",children:"Old Artifact"})}),a==="tc"?e(w,{variant:"h6",textAlign:"center",color:"info",children:e(_e,{children:"TC Artifact"})}):e(ze,{artifactId:a,onDelete:h,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:u==null?void 0:u.slotKey}}),a!=="tc"&&e(Et,{id:a})]}),a&&e(g,{display:"flex",flexGrow:1}),a&&e(g,{display:"flex",alignItems:"center",justifyContent:"center",children:e(Ua,{sx:{fontSize:40}})}),a&&e(g,{display:"flex",flexGrow:1}),m(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(ue,{bgt:"light",sx:{p:1},children:e(w,{variant:"h6",textAlign:"center",children:"New Artifact"})}),e(ze,{artifactId:t,onDelete:h,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:p==null?void 0:p.slotKey}}),p&&e(Et,{id:t}),c&&c!==ye(i)&&s!=="all"&&e(Jl,{locationKey:c}),p&&un.includes(p.setKey)&&e(Vl,{setKey:p.setKey})]})]})})})}function Et({id:t}){const{t:a}=F("page_character_optimize"),{teamChar:{optConfigId:n}}=l.useContext(de),o=$(),{artExclusion:s}=Ie(n),r=s.includes(t),i=l.useCallback(()=>o.optConfigs.set(n,{artExclusion:Qt(s,t)}),[t,s,o,n]);return n?e(Oe,{title:e(g,{children:e(w,{children:a`excludeArt.includeArtifactTip`})}),placement:"top",arrow:!0,children:e(O,{onClick:i,color:r?"secondary":"success",size:"small",startIcon:r?e(Sa,{}):e(La,{}),children:a`excludeArt.includeArtifactButton`})}):null}function Jl({locationKey:t}){const{t:a}=F("page_character_optimize"),{teamChar:{optConfigId:n}}=l.useContext(de),o=$(),s=ie(o.chars.LocationToCharacterKey(t)),{excludedLocations:r}=Ie(n)??{excludedLocations:[]},i=r.includes(t),c=l.useCallback(()=>o.optConfigs.set(n,{excludedLocations:Qt(r,t)}),[t,r,o,n]);return n?e(O,{onClick:c,color:i?"secondary":"success",size:"small",startIcon:i?e(Sa,{}):e(La,{}),children:m("span",{children:[a`excludeChar.allowEquip`," ",e("strong",{children:s.name})]})}):null}const Pt=er(dn({dyn:{...le.art,...le.artSet}})),Ql={art:je([...hn,...Zt],t=>Pt.dyn[t]),artSet:pe(le.artSet,(t,a)=>Pt.dyn[a])};function pu(t,a,n){const o={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},s=new Set;for(const r of t){const i=pn(r.mainStatKey,r.rarity,Math.max(Math.min(a,mn[r.rarity]),r.level)),c={id:r.id,set:r.setKey,values:{[r.setKey]:1,[r.mainStatKey]:r.mainStatKey.endsWith("_")?i/100:i,...Object.fromEntries(r.substats.map(p=>[p.key,p.key.endsWith("_")?p.accurateValue/100:p.accurateValue]))}};delete c.values[""],o.values[r.slotKey].push(c),Object.keys(c.values).forEach(p=>s.add(p))}if(o.base=je([...s],r=>0),n)for(const r of Object.values(o.values))r.push({id:"",values:{}});return o}function mu(t,a,n){var h;const{artifact:{sets:o},optimization:{target:s,minTotal:r}}=n;if(!s)return{};const i=(h=t[a])==null?void 0:h.target.data[0];if(!i)return{};Object.assign(i,it([i,Ql]));const c=fn(i.display??{},s);if(!c)return{};const p=Object.keys(r).map(d=>i.total[d]).filter(d=>d);let u=Bt([c,...p],i,({path:[d]})=>d!=="dyn");return u=tr(u,d=>{if(d.operation==="read"&&d.path[0]==="dyn"){const f=o[d.path[1]];if(f)return We(f);if(!Zt.includes(d.path[1]))return We(0)}return d},d=>d),u=Bt(u,{},d=>!1),{nodes:u}}function fu(t){const a=new Set;return ar(t,{},n=>{const o=n.path[1];return a.add(o),o},1),a}function gu(t){const{artifact:{slots:a,substats:{stats:n,type:o,rarity:s}}}=t,r=pe(n,(p,u)=>Math.ceil(n[u]/gn(u,s,o))),i=tc(a),c=ec(a);return{minSubLines:c,minOtherRolls:Zl(Object.entries(r),i,c)}}function Zl(t,a,n=4*5){const o=t.reduce((s,[r,i])=>{const c=5-(a[r]??0);return s+Math.min(i,c)},0);return n-o}function ec(t){return Object.values(t).reduce((a,{rarity:n,level:o})=>{const{high:s,low:r}=bn[n];return a+(o>=4?s:r)},0)}function tc(t){const a={};return Object.values(t).forEach(({statKey:n})=>{a[n]=(a[n]??0)+1},0),a}function ac(t){const{artifact:{slots:a,substats:{stats:n},sets:o}}=t,s=pe(n,(r,i)=>Cn(r,i));return Object.values(a).forEach(({statKey:r,rarity:i,level:c})=>s[r]=(s[r]??0)+xn(r,i,c)),{art:pe(s,(r,i)=>i.endsWith("_")?nr(r):We(r)),artSet:pe(o,r=>We(r))}}function Cu(t){const{weapon:{key:a,level:n,ascension:o,refinement:s}}=t;return{id:"",location:"",key:a,level:n,ascension:o,refinement:s,lock:!1}}function nc(t=0,a,n){const{teamId:o,teamCharId:s}=l.useContext(de);return rc(o,s,t,a,n)}function rc(t,a,n=0,o,s){const r=$(),[i,c]=$e(),p=l.useDeferredValue(i),{gender:u}=me(),{teamCharIds:h}=Nn(t)??{teamCharIds:[]},d=l.useMemo(()=>p&&oc(r,t,u,a,n,o,s),[p,u,t,r,n,a,o,s]);return l.useEffect(()=>t?r.teams.follow(t,c):void 0,[t,c,r]),l.useEffect(()=>{if(!i)return()=>{};const f=h.map(C=>{const x=r.teamChars.follow(C,c),b=r.teamChars.followChar(C,c),_=r.teamChars.followBuild(C,c);return()=>{x(),b(),_()}});return()=>{f.forEach(C=>C())}},[i,r,h,c]),d}function oc(t,a,n,o,s=0,r,i){if(!a)return;const c=t.teams.getActiveTeamChar(a);if(!c)return;const{teamData:p,teamBundle:u}=sc(t,a,o,s,r,i)??{};if(!p||!u)return;const h=rr(p,n,c.key);return yn(h,(f,C)=>{const{data:x,...b}=u[C];return{...f,...b}})}function sc(t,a,n,o=0,s,r){if(!a)return;const i=t.teams.get(a);if(!i)return;const{teamCharIds:c,enemyOverride:p}=i,u=c.map(f=>{if(!f)return;const C=t.teamChars.get(f);if(!C)return;const{key:x,buildType:b,buildTcId:_,infusionAura:T,customMultiTargets:S,conditional:A,bonusStats:z,hitMode:B,reaction:W}=C,K=t.chars.get(x);if(!K)return;const{key:M,level:y,constellation:U,ascension:I,talent:v}=K,N=f===n,V=(()=>r&&N?r:t.teamChars.getLoadoutWeapon(f))(),L=(()=>s&&N?s:b==="tc"&&_?ac(t.buildTcs.get(_)):Object.values(t.teamChars.getLoadoutArtifacts(f)).filter(X=>X))(),te=(()=>o&&N?o:0)();return ic(t,N,te,{key:M,level:y,constellation:U,ascension:I,talent:v,infusionAura:T,customMultiTargets:S,conditional:A,bonusStats:z,enemyOverride:p,hitMode:B,reaction:W},V,L)}).filter(f=>f),h=Object.fromEntries(u.filter(f=>f).map(f=>[f.character.key,f]));return{teamData:pe(h,({data:f})=>f),teamBundle:h}}function ic(t,a=!1,n,o,s,r){const i=t.chars.get(o.key),c=ie(o.key,t.gender);if(!c)return;const p=bt(s.key);if(!p)return;const u=$a.getAllDataOfType(c.weaponTypeKey),h=a?(()=>{const{display:x,...b}=p.data;return it([b,u])})():p.data,d=it([c.data,h,kr]),C=[...Array.isArray(r)?r.map(x=>or(x,n)):[r],sr(o,a?d:void 0),ma(s),d,ir,En];return{character:i,weapon:s,characterSheet:c,weaponSheet:p,data:C}}const Ze={mx:.25,px:.25};function lc({reaction:t}){const{t:a}=F("sheet_gen"),n=t==="spread"?"dendro":"electro";return m(g,{display:"flex",alignItems:"center",children:[e(Ke,{color:t,children:a(`reaction.${t}`)}),e(G,{sx:Ze,color:"dendro",children:e(vn,{...re})}),"+",e(G,{sx:Ze,color:"electro",children:e(ea,{...re})}),"+",e(G,{sx:Ze,color:n,children:e(ft,{ele:n,iconProps:re})})]})}const Ft={"":e("span",{children:"No Team Melee Infusion"}),pyro:m("span",{children:[e(wn,{...re})," ",e(G,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:m("span",{children:[e(_n,{...re})," ",e(G,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]}),hydro:m("span",{children:[e(Rn,{...re})," ",e(G,{children:"Candace Burst"})," Sacred Rite: Wagtail's Tide"]}),electro:m("span",{children:[e(ea,{...re})," ",e(G,{children:"Somnia Burst"})," ","Parallax Paws"]})};function xu(t){const{teamCharId:a,teamChar:{infusionAura:n}}=l.useContext(de),{character:{key:o}}=l.useContext(E),s=$();return Sn(o)?e(Dr,{title:Ft[n||""],color:n||"secondary",disableElevation:!0,disabled:!a,...t,children:Object.entries(Ft).map(([r,i])=>e(Ta,{sx:r?{color:`${r}.main`}:void 0,selected:r===n,disabled:r===n,onClick:()=>s.teamChars.set(a,{infusionAura:r}),children:i},r))}):null}function cc(t){const{t:a}=F("page_character"),{teamCharId:n,teamChar:{reaction:o}}=l.useContext(de),s=$(),{data:r}=l.useContext(H),i=r.get(j.charEle).value,c=r.get(lr).value,p=[...new Set([...Ot[i]??[],...Ot[c]??[],...It[i]??[],...It[c]??[]])];return m(He,{exclusive:!0,baseColor:"secondary",value:o,onChange:(u,h)=>s.teamChars.set(n,{reaction:h}),disabled:!n,...t,children:[e(Re,{value:"",disabled:!o,children:a`noReaction`}),p.map(u=>e(Re,{value:u,disabled:o===u,children:[...Ln].includes(u)?e(Yn,{reaction:u}):e(lc,{reaction:u})},u))]})}function uc(t){const{t:a}=F("page_character"),{teamCharId:n,teamChar:{hitMode:o="avgHit"}}=l.useContext(de),s=$();return e(He,{exclusive:!0,baseColor:"secondary",value:o,onChange:(r,i)=>s.teamChars.set(n,{hitMode:i}),disabled:!n,...t,children:kn.map(r=>e(Re,{value:r,disabled:o===r,children:a(`hitmode.${r}`)},r))})}function za({artId:t,weaponId:a}){const{t:n}=F("page_character"),[o,s,r]=fe(!1);return m(ke,{children:[e(ta,{open:o,onClose:r,containerProps:{maxWidth:"xl"},children:e(dc,{artId:t,weaponId:a,onHide:r})}),e(Pe,{title:e(w,{children:n`tabEquip.compare`}),placement:"top",arrow:!0,children:e(O,{color:"info",size:"small",onClick:s,children:e(xr,{})})})]})}function dc(t){var o;const a=l.useContext(de),n=l.useContext(E);return(o=a==null?void 0:a.teamChar)!=null&&o.optConfigId?e(hc,{...t}):n!=null&&n.character?e(pc,{...t}):null}function hc({artId:t,weaponId:a,onHide:n}){const o=$(),{character:{key:s}}=l.useContext(E),{teamCharId:r,teamChar:{optConfigId:i}}=l.useContext(de),{mainStatAssumptionLevel:c}=Ie(i),{data:p}=l.useContext(H),u=l.useMemo(()=>{const f=o.arts.get(t??""),C=o.teamChars.getLoadoutArtifacts(r),x=pe(C,(b,_)=>_===(f==null?void 0:f.slotKey)?f:b);return Object.values(x).filter(b=>b)},[o,r,t]),h=nc(c,u,a?o.weapons.get(a):void 0),d=l.useMemo(()=>h&&{data:h[s].target,teamData:h,oldData:p},[s,h,p]);return d?e(Na,{dataProviderValue:d,onHide:n}):null}function pc({artId:t,weaponId:a,onHide:n}){const o=$(),{character:{key:s,equippedArtifacts:r}}=l.useContext(E),{data:i}=l.useContext(H),c=l.useMemo(()=>{const h=o.arts.get(t??""),d=pe(r,(f,C)=>C===(h==null?void 0:h.slotKey)?h:o.arts.get(f));return Object.values(d).filter(f=>f)},[o,r,t]),p=ua(s,0,c,a?o.weapons.get(a):void 0),u=l.useMemo(()=>p&&{data:p[s].target,teamData:p,oldData:i},[s,p,i]);if(u)return e(Na,{dataProviderValue:u,onHide:n})}function Na({dataProviderValue:t,onHide:a}){return e(l.Suspense,{fallback:e(se,{variant:"rectangular",width:"100%",height:600}),children:t&&e(H.Provider,{value:t,children:e(Gl,{extraButtonsLeft:m(ke,{children:[e(uc,{size:"small"}),e(cc,{size:"small"})]}),extraButtonsRight:e(O,{size:"small",color:"error",onClick:a,children:e(Oa,{})})})})})}const et={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},mc=l.lazy(()=>aa(()=>import("./ArtifactEditor-775e76ba.js"),["./ArtifactEditor-775e76ba.js","./index-6a1771ce.js","./index-4c17cea4.css","./ArtifactRarityDropdown-a434a560.js","./index-c68f1f95.js","./index-abe15ccc.js","./ColoredText-450d188e.js","./SqBadge-d470eacc.js","./LocationAutocomplete-96d99122.js","./StarDisplay-cc9372f2.js","./DropdownButton-121a5f0a.js","./ArtifactStatKeyDisplay-25b220c7.js","./Artifact-5185cf08.js","./BootstrapTooltip-a6cda561.js","./LockOpen-c7a944da.js","./SlotIcon-6180c393.js","./CloseButton-79b3fbf6.js","./ArtifactSort-1419a033.js","./InfoTooltip-a876343d.js","./CardActionArea-f1bf6435.js","./TextButton-5421f520.js","./CardHeader-afc6a131.js","./ChevronRight-8120f707.js"],import.meta.url)),fc=l.lazy(()=>aa(()=>import("./ArtifactFilterDisplay-ed7b5844.js").then(t=>t.b),["./ArtifactFilterDisplay-ed7b5844.js","./index-6a1771ce.js","./index-4c17cea4.css","./LockOpen-c7a944da.js","./useDisplayArtifact-f18c6da3.js","./SolidToggleButtonGroup-8f94ed6f.js","./totalUtils-bf02185a.js","./BootstrapTooltip-a6cda561.js","./StarDisplay-cc9372f2.js","./DropdownButton-121a5f0a.js","./ColoredText-450d188e.js","./index-abe15ccc.js","./SqBadge-d470eacc.js","./ArtifactStatKeyDisplay-25b220c7.js","./Artifact-5185cf08.js","./LocationAutocomplete-96d99122.js","./index-c68f1f95.js","./SlotIcon-6180c393.js"],import.meta.url));function Ea({onChangeId:t,slotKey:a,show:n,onClose:o}){const{t:s}=F(["page_character","artifact"]),r=$(),i=l.useCallback(v=>{t(v),o()},[t,o]),c=l.useCallback((v,N)=>({...v,...N,slotKeys:[a]}),[a]),[p,u,h]=fe(!1),[d,f]=l.useReducer(c,{...br(),slotKeys:[a]}),[C,x]=$e();l.useEffect(()=>r.arts.followAny(x),[r,x]);const b=ba(),_=l.useMemo(()=>yr(),[]),T=r.arts.values.filter(v=>v.slotKey===d.slotKeys[0]).length,S=l.useMemo(()=>{const v=xt(d,_);return C&&r.arts.values.filter(v).map(N=>N.id)},[C,r,_,d]),[A,z]=l.useState(et[b]);l.useEffect(()=>{S&&z(et[b])},[S,b]);const[B,W]=l.useState(),M=ya(B)&&A<S.length;l.useEffect(()=>{M&&z(v=>v+et[b])},[M,b]);const y=l.useMemo(()=>S.slice(0,A),[S,A]),U=S.length!==T?`${S.length}/${T}`:`${T}`,I={numShowing:y.length,total:U,t:s,namespace:"artifact"};return e(Be,{open:n,onClose:o,containerProps:{maxWidth:"xl"},children:m(ce,{children:[e(l.Suspense,{fallback:!1,children:e(mc,{artifactIdToEdit:p?"new":"",cancelEdit:h,allowUpload:!0,allowEmpty:!0,fixedSlotKey:d.slotKeys[0]})}),m(q,{sx:{py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m(w,{variant:"h6",children:[a?e(Ue,{src:Te.slot[a]}):null," ",s`tabEquip.swapArt`]}),e(Fe,{onClick:o})]}),e(be,{}),e(q,{children:e(l.Suspense,{fallback:e(se,{variant:"rectangular",width:"100%",height:200}),children:e(fc,{filterOption:d,filterOptionDispatch:f,filteredIds:S,disableSlotFilter:!0})})}),e(be,{}),m(q,{children:[e(g,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:e(va,{showingTextProps:I})}),e(O,{fullWidth:!0,onClick:u,color:"info",startIcon:e(Ma,{}),children:s("artifact:addNew")}),e(g,{mt:1,children:e(l.Suspense,{fallback:e(se,{variant:"rectangular",width:"100%",height:300}),children:e(k,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:y.map(v=>e(k,{item:!0,xs:1,children:e(ze,{artifactId:v,extraButtons:e(za,{artId:v}),onClick:i})},v))})})}),S.length!==y.length&&e(se,{ref:v=>{v&&W(v)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}const tt={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},gc=yt([...na]);function kt({onChangeId:t,weaponTypeKey:a,show:n,onClose:o}){const{t:s}=F(["page_character","page_weapon","weaponNames_gen"]),r=$(),[i,c]=l.useState(!1),p=l.useCallback(L=>{t(L),o()},[t,o]),[u,h]=l.useState(""),d=l.useCallback(L=>{h(r.weapons.new($n(L)))},[r,h]),f=l.useCallback(()=>h(""),[]),[C,x]=$e();l.useEffect(()=>r.weapons.followAny(x),[x,r]);const b=ba(),[_,T]=l.useState([5,4,3]),[S,A]=l.useState(""),z=l.useDeferredValue(S),B=l.useMemo(()=>(C&&r.weapons.values.filter(xt({weaponType:a,rarity:_,name:z},vr())).sort(wa(_r.level??[],!1,wr())).map(L=>L.id))??[],[C,r,_,a,z]),[W,K]=l.useState(tt[b]);l.useEffect(()=>{B&&K(tt[b])},[B,b]);const[M,y]=l.useState(),I=ya(M)&&W<B.length;l.useEffect(()=>{I&&K(L=>L+tt[b])},[I,b]);const v=l.useMemo(()=>B.slice(0,W),[B,W]),N=`${B.length}`,V={numShowing:v.length,total:N,t:s,namespace:"page_weapon"};return e(Be,{open:n,onClose:o,children:m(ce,{children:[e(l.Suspense,{fallback:!1,children:e(Ar,{show:i,onHide:()=>c(!1),onSelect:d,weaponTypeFilter:a})}),e(l.Suspense,{fallback:!1,children:e(fa,{weaponId:u,footer:!0,onClose:f})}),e(q,{sx:{py:1},children:m(k,{container:!0,children:[e(k,{item:!0,flexGrow:1,children:m(w,{variant:"h6",children:[a?e(Ue,{src:Te.weaponTypes[a]}):null," ",s`page_character:tabEquip.swapWeapon`]})}),e(k,{item:!0,children:e(Fe,{onClick:o})})]})}),e(be,{}),m(q,{sx:{display:"flex",flexDirection:"column",gap:1},children:[m(k,{container:!0,spacing:1,children:[e(k,{item:!0,children:e(He,{sx:{height:"100%"},value:_,size:"small",children:na.map(L=>e(Re,{value:L,onClick:()=>T(gc(_,L)),children:m(g,{display:"flex",children:[e("strong",{children:L}),e(_a,{})]})},L))})}),e(k,{item:!0,flexGrow:1,children:e(Ra,{autoFocus:!0,size:"small",value:S,onChange:L=>A(L.target.value),label:s("page_weapon:weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),e(g,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:e(va,{showingTextProps:V})}),e(O,{fullWidth:!0,onClick:()=>c(!0),color:"info",startIcon:e(Ma,{}),children:s("page_weapon:addWeapon")}),e(k,{container:!0,spacing:1,children:v.map(L=>e(k,{item:!0,xs:6,sm:6,md:4,lg:3,children:e(Ne,{weaponId:L,onClick:p,extraButtons:e(za,{weaponId:L})})},L))}),B.length!==v.length&&e(se,{ref:L=>{L&&y(L)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})})}const Cc={xs:1,sm:2,md:3,lg:3,xl:3};function xc({weaponTypeKey:t,weaponId:a,artifactIds:n,setWeapon:o,setArtifact:s}){const r=$(),[i,c]=l.useState("");l.useEffect(()=>{a&&i&&i!==a&&c(a)},[i,a]);const p=l.useCallback(()=>a&&c(a),[a]),u=l.useCallback(()=>c(""),[]);return m(g,{children:[e(fa,{weaponId:i,footer:!0,onClose:u,extraButtons:e(_c,{weaponTypeKey:t,onChangeId:o})}),m(k,{item:!0,columns:Cc,container:!0,spacing:1,children:[e(k,{item:!0,xs:1,display:"flex",flexDirection:"column",children:a&&r.weapons.keys.includes(a)?e(Ne,{weaponId:a,onEdit:p,extraButtons:e(wc,{weaponTypeKey:t,onChangeId:o})}):e(bc,{weaponTypeKey:t,onChangeId:o})}),!!n&&Object.entries(n).map(([h,d])=>e(k,{item:!0,xs:1,children:r.arts.keys.includes(d)?e(ze,{artifactId:d,extraButtons:e(vc,{slotKey:h,onChangeId:f=>s(h,f)}),editorProps:{}}):e(yc,{slotKey:h,onChangeId:f=>s(h,f)})},d||h))]})]})}function bc({weaponTypeKey:t,onChangeId:a}){const[n,o,s]=fe();return m(ue,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(q,{children:m(w,{children:[e(Ue,{src:Te.weaponTypes[t]})," ",t]})}),e(be,{}),m(g,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(kt,{weaponTypeKey:t,show:n,onClose:s,onChangeId:a}),e(O,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:e(Me,{sx:{height:100,width:100}})})]})]})}function yc({slotKey:t,onChangeId:a}){const[n,o,s]=fe(),{t:r}=F("artifact");return m(ue,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(q,{children:m(w,{children:[e(Kr,{iconProps:re,slotKey:t})," ",r(`slotName.${t}`)]})}),e(be,{}),m(g,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(Ea,{slotKey:t,show:n,onClose:s,onChangeId:a}),e(O,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:e(Me,{sx:{height:100,width:100}})})]})]})}function vc({slotKey:t,onChangeId:a}){const{t:n}=F("page_character"),[o,s,r]=fe();return m(ke,{children:[e(Pe,{title:e(w,{children:n`tabEquip.swapArt`}),placement:"top",arrow:!0,children:e(O,{color:"info",size:"small",onClick:s,children:e(Me,{})})}),e(Ea,{slotKey:t,show:o,onClose:r,onChangeId:a})]})}function wc({weaponTypeKey:t,onChangeId:a}){const{t:n}=F("page_character"),[o,s,r]=fe();return m(ke,{children:[e(Pe,{title:e(w,{children:n`tabEquip.swapWeapon`}),placement:"top",arrow:!0,children:e(O,{color:"info",size:"small",onClick:s,children:e(Me,{})})}),e(kt,{weaponTypeKey:t,onChangeId:a,show:o,onClose:r})]})}function _c({weaponTypeKey:t,onChangeId:a}){const{t:n}=F("page_character"),[o,s,r]=fe();return m(ke,{children:[e(O,{color:"info",onClick:s,startIcon:e(Me,{}),children:n`tabEquip.swapWeapon`}),e(kt,{weaponTypeKey:t,onChangeId:a,show:o,onClose:r})]})}function Rc({talentKey:t,dropDownButtonProps:a}){const{t:n}=F("sheet_gen"),{character:{talent:o,key:s}}=l.useContext(E),r=$(),{data:i}=l.useContext(H),c=i.get(le.total[`${t}Boost`]).value,p=i.get(le.total[t]).value,u=i.get(le.asc).value;return e(Yr,{fullWidth:!0,title:n("talentLvl",{level:p}),color:c?"info":"primary",...a,children:Un(1,Tn[u]).map(h=>e(Ta,{selected:o[t]===h,disabled:o[t]===h,onClick:()=>r.chars.set(s,d=>{d.talent[t]=h}),children:n("talentLvl",{level:h+c})},h))})}function Sc(){const{t}=F("ui"),a=$(),{character:n}=l.useContext(E),{key:o}=n,{gender:s}=me(),r=l.useCallback(()=>a.dbMeta.set({gender:s==="F"?"M":"F"}),[s,a]);return o.startsWith("Traveler")?m(O,{onClick:r,startIcon:s==="F"?e(Jr,{}):e(Qr,{}),children:[e("strong",{children:t(`gender.${s}`)})," "]}):null}function Lc({onClose:t}){const{t:a}=F(["page_character","sillyWisher_charNames","charNames_gen"]),n=ra(),o=$(),{character:s,character:{key:r},characterSheet:i}=l.useContext(E),{gender:c}=me(),{silly:p}=l.useContext(Ee),u=l.useCallback(async()=>{let h=ie(r,c).name;typeof h=="object"&&(h=a(`${p?"sillyWisher_charNames":"charNames_gen"}:${De(r,c)}`)),window.confirm(a("removeCharacter",{value:h}))&&(o.chars.remove(r),n("/characters"))},[o,n,r,c,p,a]);return m(g,{display:"flex",flexDirection:"column",gap:1,children:[m(g,{display:"flex",gap:1,children:[e(Sc,{}),e(O,{color:"error",onClick:()=>u(),startIcon:e(oa,{}),sx:{marginLeft:"auto"},children:a("delete")}),!!t&&e(Fe,{onClick:t})]}),e(g,{children:m(k,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[e(k,{item:!0,xs:8,sm:5,md:4,lg:3,children:m(ue,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[e(il,{}),e(g,{sx:{px:1},children:e(pr,{level:s.level,ascension:s.ascension,setBoth:h=>o.chars.set(r,h)})}),e(g,{sx:{px:2},children:e(Pn,{})}),e(w,{sx:{textAlign:"center",pb:-1},variant:"h6",children:i.constellationName}),e(sl,{})]})}),m(k,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[e(g,{children:e(k,{container:!0,columns:3,spacing:1,children:["auto","skill","burst"].map(h=>{var d;return e(k,{item:!0,xs:1,children:e(Rc,{talentKey:h,dropDownButtonProps:{startIcon:e(Ue,{src:(d=i.getTalentOfKey(h))==null?void 0:d.img,size:1.75,sideMargin:!0})}},h)})})})}),e(kc,{}),e(Uc,{})]})]})})]})}function kc(){const{character:{key:t}}=l.useContext(E),{data:a}=l.useContext(H),n=$(),o=Mn(t).weaponType,s=a.get(j.weapon.id).value,r=l.useMemo(()=>je(Ce,i=>a.get(j.art[i].id).value),[a]);return e(g,{children:e(xc,{weaponTypeKey:o,weaponId:s,artifactIds:r,setWeapon:i=>{n.weapons.set(i,{location:ye(t)})},setArtifact:(i,c)=>{n.arts.set(c,{location:ye(t)})}})})}const $c={xs:1,sm:2,md:3,lg:3,xl:3};function Uc(){const t=ra(),{character:{key:a}}=l.useContext(E),n=$(),{gender:o}=me(),[s,r]=$e(),i=l.useMemo(()=>{const d={};return n.teamChars.entries.map(([f,C])=>{C.key===a&&(d[f]||(d[f]=[]))}),n.teams.entries.forEach(([f,C])=>{const x=C.teamCharIds.find(b=>{var _;return((_=n.teamChars.get(b))==null?void 0:_.key)===a});x&&d[x].push(f)}),s&&d},[s,a,n]);l.useEffect(()=>n.teams.followAny(()=>r()),[n,r]),l.useEffect(()=>n.teamChars.followAny(()=>r()),[n,r]);const c=d=>{const f=n.teams.new();n.teams.set(f,C=>{C.teamCharIds[0]=d}),t(`/teams/${f}`)},p=()=>{const d=n.teams.new(),f=n.teamChars.new(a);n.teams.set(d,C=>{C.teamCharIds[0]=f}),t(`/teams/${d}`)},u=d=>{window.confirm("The loadouts and data (such as multi-opts) on this character will be deleted.")&&n.teamChars.remove(d)},h=d=>{n.teamChars.duplicate(d)};return m(g,{sx:{display:"flex",flexDirection:"column",gap:1},children:[m(w,{variant:"h6",children:["Team Loadouts with"," ",e(Dn,{characterKey:a,gender:o})]}),Object.entries(i).map(([d,f])=>{const{name:C,description:x,buildIds:b,buildTcIds:_}=n.teamChars.get(d);return m(ue,{bgt:"light",children:[e(q,{children:m(g,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(w,{children:C}),e(jn,{title:e(w,{children:x}),children:e(ur,{})}),m(_e,{color:b.length?"primary":"secondary",children:[b.length," Builds"]}),m(_e,{color:_.length?"primary":"secondary",children:[_.length," TC Builds"]}),e(O,{color:"info",onClick:()=>h(d),sx:{ml:"auto"},children:e(Da,{})}),e(O,{color:"error",onClick:()=>u(d),children:e(oa,{})})]})}),e(be,{}),e(q,{children:m(k,{container:!0,columns:$c,spacing:2,children:[f.map(T=>e(k,{item:!0,xs:1,children:e(Fn,{teamId:T,onClick:S=>t(`/teams/${T}${S?`/${S}`:""}`)})},T)),e(k,{item:!0,xs:1,children:e(O,{fullWidth:!0,sx:{height:"100%"},onClick:()=>c(d),color:"info",startIcon:e(At,{}),children:"Add new Team"})})]})})]},d)}),e(O,{fullWidth:!0,onClick:()=>p(),color:"info",startIcon:e(At,{}),children:"Add new Loadout+Team"}),e(ue,{bgt:"light"})]})}function bu({characterKey:t,onClose:a}){return e(ta,{open:!!t,onClose:a,children:e(l.Suspense,{fallback:e(se,{variant:"rectangular",width:"100%",height:1e3}),children:t&&e(Tc,{characterKey:t,onClose:a},t)})})}function Tc({characterKey:t,onClose:a}){const n=da(t),{gender:o}=me(),s=ie(t,o),r=ua(t),{target:i}=(r==null?void 0:r[t])??{},c=ia((n==null?void 0:n.key)??""),p=l.useMemo(()=>{if(!(!r||!i))return{data:i,teamData:r,oldData:void 0}},[i,r]),u=l.useMemo(()=>{if(!(!n||!s))return{character:n,characterSheet:s,characterDispatch:c}},[n,s,c]),[h,d]=l.useState(),[f,C]=l.useState(),x=l.useMemo(()=>({chartData:h,setChartData:d,graphBuilds:f,setGraphBuilds:C}),[h,f]);return l.useEffect(()=>{d(void 0),C(void 0)},[t]),e(ue,{children:e(q,{sx:{display:"flex",flexDirection:"column",gap:1},children:p&&u&&x?e(E.Provider,{value:u,children:e(H.Provider,{value:p,children:e(ks.Provider,{value:x,children:e(Lc,{onClose:a})})})}):e(se,{variant:"rectangular",width:"100%",height:1e3})})})}function Mc(t,a){return{new:n=>t.chars.get(n)?0:1,name:n=>rt.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${De(n,t.gender)}`).toString(),level:n=>{const o=t.chars.get(n);return o?o.level*(o.ascension+1):0},rarity:n=>ot.char.data[ye(n)].rarity??0,favorite:n=>t.charMeta.get(n).favorite?1:0}}function Dc(t,a){return{element:(n,o)=>o.includes(An(n)),weaponType:(n,o)=>o.includes(ot.char.data[ye(n)].weaponType),rarity:(n,o)=>o.includes(ot.char.data[ye(n)].rarity),name:(n,o)=>o===void 0||rt.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${De(n,t.gender)}`).toLowerCase().includes(o.toLowerCase())||a&&rt.t(`charNames_gen:${De(n,t.gender)}`).toLowerCase().includes(o.toLowerCase()),new:(n,o)=>o===void 0||o===(t.chars.get(n)?"no":"yes")}}const Pa={name:["favorite","name"],level:["favorite","level","rarity","name"],rarity:["favorite","rarity","level","name"]},jc=Ae(Re,{shouldForwardProp:t=>t!=="baseColor"&&t!=="selectedColor"})(({theme:t,baseColor:a="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[n].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[n].dark}})),Ac=jc,Bc=yt([...mt]);function Oc({value:t,totals:a,onChange:n,...o}){const s=pt(),r=!st(s.breakpoints.up("md")),i=!st(s.breakpoints.up("sm"));return e(jr,{exclusive:!0,value:t,...o,children:mt.map(c=>m(Ac,{value:c,sx:{p:r?1:void 0,minWidth:r?0:"6em",display:"flex"},selectedColor:c,onClick:()=>n(Bc(t,c)),children:[e(ft,{ele:c,iconProps:{fontSize:r&&!i?"inherit":void 0}}),!i&&e(he,{sx:{ml:.5},label:a[c],size:"small"})]},c))})}const Ic=Object.keys(Pa);function yu({show:t,onHide:a,onSelect:n,filter:o=()=>!0,newFirst:s=!1}){const{t:r}=F(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:i}=l.useContext(Ee),c=$(),[p,u]=l.useState(()=>c.displayCharacter.get());l.useEffect(()=>c.displayCharacter.follow((y,U)=>u(U)),[c,u]);const{gender:h}=me(),[d,f]=$e();l.useEffect(()=>c.charMeta.followAny(()=>f()),[f,c]);const[C,x]=l.useState(""),b=l.useDeferredValue(C),_=l.useDeferredValue(p),T=l.useDeferredValue(d),S=l.useMemo(()=>{const{element:y,weaponType:U,sortType:I,ascending:v}=_,N=[...s?["new"]:[],...Pa[I]??[]];return T&&Xe.filter(V=>o(V,c.chars.get(V),ie(V,h))).filter(xt({element:y,weaponType:U,name:b},Dc(c,i))).sort(wa(N,v,Mc(c,i),["new","favorite"]))},[_,s,T,b,c,i,o,h]),A=l.useMemo(()=>Wt(On,y=>Xe.forEach(U=>{const I=ie(U,c.gender).weaponTypeKey;y[I].total++,S.includes(U)&&y[I].current++})),[S,c]),z=l.useMemo(()=>Wt(mt,y=>Xe.forEach(U=>{const I=ie(U,c.gender).elementKey;y[I].total++,S.includes(U)&&y[I].current++})),[S,c]),{weaponType:B,element:W,sortType:K,ascending:M}=p;return e(Be,{open:t,onClose:()=>{x(""),a()},sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:m(ce,{children:[m(q,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e(Rr,{sx:{height:"100%"},onChange:y=>c.displayCharacter.set({weaponType:y}),value:B,totals:A,size:"small"}),e(Oc,{sx:{height:"100%"},onChange:y=>c.displayCharacter.set({element:y}),value:W,totals:z,size:"small"}),e(g,{flexGrow:1,children:e(Ra,{autoFocus:!0,value:C,onChange:y=>x(y.target.value),label:r("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),e(gr,{sx:{height:"100%"},sortKeys:Ic,value:K,onChange:y=>c.displayCharacter.set({sortType:y}),ascending:M,onChangeAsc:y=>c.displayCharacter.set({ascending:y})}),e(Fe,{onClick:()=>{x(""),a()}})]}),e(be,{}),e(H.Provider,{value:{teamData:void 0},children:e(q,{children:e(k,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:S.map(y=>e(k,{item:!0,xs:1,children:e(zc,{characterKey:y,onClick:()=>{x(""),a(),n==null||n(y)}})},y))})})})]})})}const Wc=Ae(({className:t,...a})=>e(Pe,{...a,classes:{popper:t}}))({[`& .${Bn.tooltip}`]:{padding:0}});function zc({characterKey:t,onClick:a}){const{gender:n}=me(),o=ie(t,n),s=da(t),{favorite:r}=la(t),i=$(),{silly:c}=l.useContext(Ee),[p,u,h]=fe(),{level:d=1,ascension:f=0,constellation:C=0}=s??{},x=cr(t,"banner",n);return e(Wc,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:p,onClose:h,onOpen:u,title:e(g,{sx:{width:300},children:e(Kn,{hideStats:!0,characterKey:t})}),children:e(g,{children:m(Jt,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e(g,{sx:{position:"absolute",opacity:.7,zIndex:2},children:e(Xt,{sx:{p:.25},onClick:b=>{h(),i.charMeta.set(t,{favorite:!r})},children:r?e(Ca,{}):e(ca,{})})}),e(qe,{onClick:a,children:m(g,{display:"flex",position:"relative",className:x?void 0:`grad-${o==null?void 0:o.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:`url(${x})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[e(g,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:e(g,{component:"img",src:qn(t,n,c),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),m(g,{flexGrow:1,sx:{pr:1,pt:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[e(w,{variant:"body2",sx:{flexGrow:1},children:e(G,{color:o==null?void 0:o.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:o==null?void 0:o.name})}),s?m(g,{sx:{display:"flex",gap:1,alignItems:"center"},children:[m(g,{sx:{textShadow:"0 0 5px gray"},children:[m(w,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",d]}),m(w,{variant:"body2",component:"span",color:"text.secondary",children:["/",In[f]]})]}),m(w,{variant:"body2",children:["C",C]})]}):e(w,{component:"span",variant:"body2",children:e(G,{children:"NEW"})}),e(Ct,{stars:(o==null?void 0:o.rarity)??1,colored:!0})]})]})})]})})})}const Nc=yt([...sa]);function vu({value:t,totals:a,onChange:n,...o}){const s=pt(),r=!st(s.breakpoints.up("sm"));return e(He,{exclusive:!0,value:t,...o,children:sa.map(i=>e(Re,{value:i,sx:{p:r?1:void 0,minWidth:r?0:"6em",display:"flex",gap:r?0:1},onClick:()=>n(Nc(t,i)),children:m(g,{display:"flex",children:[e("strong",{children:i}),e(_a,{}),!r&&e(he,{label:a[i],size:"small"})]})},i))})}export{bl as A,Gl as B,vu as C,Yr as D,Oc as E,hu as F,ks as G,uc as H,sl as I,jl as J,gu as K,mu as L,$l as M,fu as N,Ul as O,Oa as P,Cu as Q,cc as R,Kr as S,Rc as T,xu as U,rc as V,Bl as W,Dc as a,Mc as b,Pa as c,bu as d,yu as e,Da as f,xc as g,Ol as h,xl as i,Dl as j,Ml as k,Ft as l,lc as m,ac as n,oc as o,dt as p,ut as q,Vl as r,Il as s,Wa as t,Ie as u,pu as v,sc as w,Ql as x,nc as y,il as z};
