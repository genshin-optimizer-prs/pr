import{cj as Fh,p as L,ar as d,o as $,bI as u,f as v,bM as b,cZ as Nh,cL as Wh,h as Hh}from"./index-a57d76e7.js";import{x as Gh,p as e,_ as g,i as w,O as h,K as _,s as P,a4 as a,X as i,r as Zo,N as Kh,Y as m,$ as p,P as t,a0 as f,M as c,Q as l,a5 as y,k as oe,J as S,a6 as Ke,I as es,a1 as M,G as x,t as ns,a3 as Ra,a7 as A,a8 as Lh}from"./index-76c9d5d8.js";import{I as qh,C as Ie}from"./ColoredText-8fa3bb95.js";import{S as zh}from"./SqBadge-290949ec.js";const ts=class{constructor(n,k,G,D){this.passiveDescription=ra=>this.hasRefinement?this.tr(`passiveDescription.${ra}`):"",this.rarity=G.rarity,this.weaponType=G.weaponType,this.key=n,this.sheet=k,this.data=D}static trm(n){return g("weapon",n)[1]}static tr(n){return g("weapon",n)[0]}static getAllDataOfType(n){return P8[n]}get tr(){return ts.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=ts;s.getWeaponsOfType=(n,k)=>Object.fromEntries(Object.entries(n).filter(([G,D])=>D.weaponType===k));s.getLevelString=n=>Fh(n.level,n.ascension);function o(n,k){const G=s.tr(n);return{title:G("passiveName"),icon:D=>L(qh,{size:2,src:Gh(n,D.get(e.weapon.asc).value>=2)}),action:k&&L(zh,{color:"success",children:k}),description:D=>G(`passiveDescription.${D.get(e.weapon.refinement).value-1}`)}}function r(n,k,G={},D={}){const ra={base:{},premod:{},total:{},weapon:{key:w(n),type:w(k.weaponType)},display:{[`weapon:${n}`]:D}},{mainStat:ce,subStat:K}=k,ia=[ra];if(ce.type!=="atk"&&ce.type!=="def"&&ce.type!=="hp")throw new Error("Main stat type must be `atk`");const Ch=h(P(i(ce.base,a(e.weapon.lvl,d.weapon.expCurve[ce.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),_.info(ce.type));if(ia.push({base:{[ce.type]:e.weapon.main},weapon:{main:Ch}}),K){if(K.type==="atk"||K.type==="def"||K.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const jh=h(i(K.base,a(e.weapon.lvl,d.weapon.expCurve[K.curve])),_.info(K.type));ia.push({premod:{[K.type]:e.weapon.sub},weapon:{sub:jh}})}return Zo([...ia,Kh(G,n)])}const Le="AlleyHunter",as=d.weapon.data[Le],[,Uh]=g("weapon",Le),Vh=[-1,.02,.025,.03,.035,.04],[Jh,os]=m(Le,"OppidanAmbush"),ss=p(os,{...$(u(1,10),n=>i(a(e.weapon.refinement,Vh),n))},f),Qh=r(Le,as,{premod:{all_dmg_:ss}}),Xh={document:[{value:os,path:Jh,header:o(Le,t("conditional")),name:Uh("condName"),states:Object.fromEntries(u(1,10).map(n=>[n,{name:t("seconds",{count:n}),fields:[{node:ss}]}]))}]},Yh=new s(Le,Xh,as,Qh),re="AmosBow",cs=d.weapon.data[re],[,Zh]=g("weapon",re),ds=[-1,.12,.15,.18,.21,.24],e1=[-1,.08,.1,.12,.14,.16],[n1,Ia]=m(re,"StrongWilled"),rs=a(e.weapon.refinement,ds,_.info("normal_dmg_")),is=a(e.weapon.refinement,ds,_.info("charged_dmg_")),ms=a(e.weapon.refinement,e1),ls=p(Ia,{...$(u(1,5),n=>i(ms,n))},f,_.info("normal_dmg_")),$s=p(Ia,{...$(u(1,5),n=>i(ms,n))},f,_.info("charged_dmg_")),t1=r(re,cs,{premod:{normal_dmg_:P(rs,ls),charged_dmg_:P(is,$s)}}),a1={document:[{header:o(re,t("base")),fields:[{node:rs},{node:is}]},{value:Ia,path:n1,header:o(re,t("stacks")),name:Zh("condName"),states:$(u(1,5),n=>({name:t("seconds",{count:n/10}),fields:[{node:ls},{node:$s}]}))}]},o1=new s(re,a1,cs,t1),ie="AquaSimulacra",ps=d.weapon.data[ie],[,s1]=g("weapon",ie),c1=[-1,.16,.2,.24,.28,.32],d1=[-1,.2,.25,.3,.35,.4],[r1,hs]=m(ie,"passive"),us=a(e.weapon.refinement,c1),fs=c(hs,"on",a(e.weapon.refinement,d1)),i1=r(ie,ps,{premod:{hp_:us,all_dmg_:fs}}),m1={document:[{header:o(ie,t("base")),fields:[{node:us}]},{value:hs,path:r1,header:o(ie,t("conditional")),name:s1("condName"),states:{on:{fields:[{node:fs}]}}}]},l1=new s(ie,m1,ps,i1),gn="BlackcliffWarbow",_s=d.weapon.data[gn],$1=[-1,.12,.15,.18,.21,.24],[p1,gs]=m(gn,"PressTheAdvantage"),ws=p(gs,{...$(u(1,3),n=>i(a(e.weapon.refinement,$1),n))},f),h1=r(gn,_s,{premod:{atk_:ws}}),u1={document:[{value:gs,path:p1,header:o(gn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(u(1,3).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ws},{text:l("duration"),value:30,unit:"s"}]}]))}]},f1=new s(gn,u1,_s,h1),wn="CompoundBow",ks=d.weapon.data[wn],_1=[-1,.04,.05,.06,.07,.08],g1=[-1,.012,.015,.018,.021,.024],[w1,Ca]=m(wn,"InfusionArrow"),vs=p(Ca,{...$(u(1,4),n=>i(a(e.weapon.refinement,_1),n))},f),ys=p(Ca,{...$(u(1,4),n=>i(a(e.weapon.refinement,g1),n))},f),k1=r(wn,ks,{premod:{atk_:vs,atkSPD_:ys}}),v1={document:[{value:Ca,path:w1,header:o(wn,t("stacks")),name:t("hitOp.normalOrCharged"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:vs},{node:ys}]}]))}]},y1=new s(wn,v1,ks,k1),me="ElegyForTheEnd",[,P1]=g("weapon",me),Ps=d.weapon.data[me],S1=[-1,60,75,90,105,120],b1=[-1,100,125,150,175,200],O1=[-1,.2,.25,.3,.35,.4],[B1,ja]=m(me,"ThePartingRefrain"),Ss=a(e.weapon.refinement,S1,_.info("eleMas")),bs=c(ja,"on",a(e.weapon.refinement,b1,_.info("eleMas"))),Os=c(ja,"on",a(e.weapon.refinement,O1)),A1=r(me,Ps,{premod:{eleMas:Ss},teamBuff:{premod:{atk_:Os,eleMas:bs}}}),E1={document:[{header:o(me,t("base")),fields:[{node:Ss}]},{value:ja,path:B1,teamBuff:!0,header:o(me,t("conditional")),name:P1("condName"),states:{on:{fields:[{node:bs},{node:Os},{text:l("duration"),value:12,unit:"s"}]}}}]},x1=new s(me,E1,Ps,A1),kn="EndOfTheLine",Bs=d.weapon.data[kn],M1=[-1,.8,1,1.2,1.4,1.6],As=c(e.weapon.key,kn,y(i(a(e.weapon.refinement,M1,{unit:"%"}),e.total.atk),"elemental")),D1=r(kn,Bs,void 0,{dmg:As}),T1={document:[{header:o(kn,t("base")),fields:[{node:h(As,{name:t("dmg")})}]}]},R1=new s(kn,T1,Bs,D1),qe="FadingTwilight",Es=d.weapon.data[qe],[,zo]=g("weapon",qe),[I1,xs]=m(qe,"state"),Ms={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Ds=p(xs,Ms,f),C1=r(qe,Es,{premod:{all_dmg_:Ds}}),j1={document:[{value:xs,path:I1,header:o(qe,t("conditional")),name:zo("condName"),states:Object.fromEntries(Object.keys(Ms).map(n=>[n,{name:zo(`states.${n}`),fields:[{node:Ds}]}]))}]},F1=new s(qe,j1,Es,C1),Rt="FavoniusWarbow",Ts=d.weapon.data[Rt],N1=r(Rt,Ts),W1={document:[{header:o(Rt),fields:[]}]},H1=new s(Rt,W1,Ts,N1),le="Hamayumi",Rs=d.weapon.data[le],[,G1]=g("weapon",le),Is=[-1,.16,.2,.24,.28,.32],Cs=[-1,.12,.15,.18,.21,.24],js=a(e.weapon.refinement,Is,_.info("normal_dmg_")),Fs=a(e.weapon.refinement,Cs,_.info("charged_dmg_")),[K1,Fa]=m(le,"FullDraw"),Ns=c(Fa,"on",a(e.weapon.refinement,Is,_.info("normal_dmg_"))),Ws=c(Fa,"on",a(e.weapon.refinement,Cs,_.info("charged_dmg_"))),L1=r(le,Rs,{premod:{normal_dmg_:P(js,Ns),charged_dmg_:P(Fs,Ws)}}),q1={document:[{header:o(le,t("base")),fields:[{node:js},{node:Fs}]},{value:Fa,path:K1,name:G1("condName"),header:o(le,t("conditional")),states:{on:{fields:[{node:Ns},{node:Ws}]}}}]},z1=new s(le,q1,Rs,L1),Na="HuntersBow",Wa=d.weapon.data[Na],U1=r(Na,Wa),V1={...Wa,document:[]},J1=new s(Na,V1,Wa,U1),Ce="HuntersPath",Hs=d.weapon.data[Ce],Q1=[-1,.12,.15,.18,.21,.24],Gs=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,Q1,{unit:"%"})])),X1=[-1,1.6,2,2.4,2.8,3.2],[Y1,Ks]=m(Ce,"passive"),Ls=c(Ks,"on",i(a(e.weapon.refinement,X1,{unit:"%"}),e.total.eleMas)),Z1=r(Ce,Hs,{premod:{...Gs,charged_dmgInc:Ls}}),eu={document:[{header:o(Ce,t("base")),fields:Object.values(Gs).map(n=>({node:n}))},{value:Ks,path:Y1,header:o(Ce,t("conditional")),name:t("hitOp.charged"),states:{on:{fields:[{node:Ls},{text:l("duration"),value:10,unit:"s"},{text:t("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},nu=new s(Ce,eu,Hs,Z1),vn="IbisPiercer",qs=d.weapon.data[vn],zs=u(1,2),tu=[-1,40,50,60,70,80],[au,Us]=m(vn,"passiveStacks"),Vs=p(Us,$(zs,n=>i(a(e.weapon.refinement,tu),n)),f),ou=r(vn,qs,{premod:{eleMas:Vs}}),su={document:[{value:Us,path:au,header:o(vn,t("stacks")),name:t("hitOp.charged"),states:Object.fromEntries(zs.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Vs},{text:l("duration"),value:6,unit:"s"}]}]))}]},cu=new s(vn,su,qs,ou),$e="KingsSquire",Js=d.weapon.data[$e],[du,Qs]=m($e,"passive"),ru=[-1,60,80,100,120,140],Xs=c(Qs,"on",a(e.weapon.refinement,ru)),iu=[-1,1,1.2,1.4,1.6,1.8],Ys=c(e.weapon.key,$e,y(i(a(e.weapon.refinement,iu,{unit:"%"}),e.total.atk),"elemental")),mu=r($e,Js,{premod:{eleMas:Xs}},{dmg:Ys}),lu={document:[{header:o($e,t("base")),fields:[{node:h(Ys,{name:t("dmg")})}]},{value:Qs,path:du,header:o($e,t("conditional")),name:t("afterUse.skillOrBurst"),states:{on:{fields:[{node:Xs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},$u=new s($e,lu,Js,mu),yn="Messenger",Zs=d.weapon.data[yn],pu=[-1,1,1.25,1.5,1.75,2],ec=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,pu),e.total.atk),"elemental",{hit:{ele:w("physical")}})),hu=r(yn,Zs,void 0,{dmg:ec}),uu={document:[{header:o(yn,t("base")),fields:[{node:h(ec,{name:t("dmg")})}]}]},fu=new s(yn,uu,Zs,hu),pe="MitternachtsWaltz",nc=d.weapon.data[pe],_u=[-1,.2,.25,.3,.35,.4],gu=[-1,.2,.25,.3,.35,.4],[wu,tc]=m(pe,"EvernightDuetSkill"),[ku,ac]=m(pe,"EvernightDuetNormal"),oc=c(tc,"on",a(e.weapon.refinement,_u)),sc=c(ac,"on",a(e.weapon.refinement,gu)),vu=r(pe,nc,{premod:{skill_dmg_:oc,normal_dmg_:sc}}),yu={document:[{value:ac,path:ku,header:o(pe,t("conditional")),name:t("hitOp.skill"),states:{on:{fields:[{node:sc},{text:l("duration"),value:5,unit:"s"}]}}},{value:tc,path:wu,header:o(pe,t("conditional")),name:t("hitOp.normal"),states:{on:{fields:[{node:oc},{text:l("duration"),value:5,unit:"s"}]}}}]},Pu=new s(pe,yu,nc,vu),ze="MouunsMoon",cc=d.weapon.data[ze],[,Su]=g("weapon",ze),[bu,dc]=m(ze,"WatatsumiWavewalker"),rc=b(4,36).map(n=>n*10),Ou=[-1,.0012,.0015,.0018,.0021,.0024],Bu=[-1,.4,.5,.6,.7,.8],ic=p(dc,Object.fromEntries(rc.map(n=>[n,oe(i(a(e.weapon.refinement,Ou,{unit:"%"}),n),a(e.weapon.refinement,Bu,{unit:"%"}))])),f),Au=r(ze,cc,{premod:{burst_dmg_:ic}}),Eu={document:[{value:dc,path:bu,header:o(ze,t("conditional")),name:Su("party"),states:Object.fromEntries(rc.map(n=>[n,{name:n.toString(),fields:[{node:ic}]}]))}]},xu=new s(ze,Eu,cc,Au),he="PolarStar",mc=d.weapon.data[he],[,Mu]=g("weapon",he),lc=[-1,.12,.15,.18,.21,.24],Du=[-1,.1,.125,.15,.175,.2],Tu=[-1,.2,.25,.3,.35,.4],Ru=[-1,.3,.375,.45,.528,.6],Iu=[-1,.48,.6,.72,.84,.96],[Cu,$c]=m(he,"GoldenMajesty"),pc=a(e.weapon.refinement,lc),hc=a(e.weapon.refinement,lc),uc=p($c,{1:a(e.weapon.refinement,Du),2:a(e.weapon.refinement,Tu),3:a(e.weapon.refinement,Ru),4:a(e.weapon.refinement,Iu)},f),ju=r(he,mc,{premod:{skill_dmg_:pc,burst_dmg_:hc,atk_:uc}}),Fu={document:[{header:o(he,t("base")),fields:[{node:pc},{node:hc}]},{value:$c,path:Cu,header:o(he,t("stacks")),name:Mu("condName"),states:$(u(1,4),n=>({name:t("stack",{count:n}),fields:[{node:uc}]}))}]},Nu=new s(he,Fu,mc,ju),Pn="Predator",fc=d.weapon.data[Pn],Wu=S(.1),Hu=S(.1),[Gu,Ha]=m(Pn,"PressTheAdvantage"),_c=p(Ha,{...$(u(1,2),n=>i(Wu,n))},f),gc=p(Ha,{...$(u(1,2),n=>i(Hu,n))},f),Ku=c(e.activeCharKey,"Aloy",66),Lu=r(Pn,fc,{premod:{normal_dmg_:_c,charged_dmg_:gc,atk:Ku}}),qu={document:[{value:Ha,path:Gu,header:o(Pn,t("stacks")),name:t("hitOp.cryo"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:_c},{node:gc},{text:l("duration"),value:6,unit:"s"}]}]))}]},zu=new s(Pn,qu,fc,Lu),Sn="PrototypeCrescent",wc=d.weapon.data[Sn],Uu=[-1,.36,.45,.54,.63,.72],[Vu,Ga]=m(Sn,"Unreturning"),kc=c(Ga,"on",a(e.weapon.refinement,Uu)),vc=c(Ga,"on",S(.1)),Ju=r(Sn,wc,{premod:{atk_:kc,moveSPD_:vc}}),Qu={document:[{value:Ga,path:Vu,header:o(Sn,t("conditional")),name:t("hitOp.weakSpot"),states:{on:{fields:[{node:kc},{node:vc},{text:l("duration"),value:10,unit:"s"}]}}}]},Xu=new s(Sn,Qu,wc,Ju),Ue="RangeGauge",yc=d.weapon.data[Ue],[,Yu]=g("weapon",Ue),Zu=[-1,.03,.04,.05,.06,.07],ef=[-1,.07,.085,.1,.115,.13],[nf,Ka]=m(Ue,"marksConsumed"),La=u(1,3),Pc=p(Ka,$(La,n=>i(n,a(e.weapon.refinement,Zu,{unit:"%"}))),f),tf=p(Ka,$(La,n=>i(n,a(e.weapon.refinement,ef,{unit:"%"}))),f),Sc=$(v.map(n=>`${n}_dmg_`),()=>({...tf})),af=r(Ue,yc,{premod:{atk_:Pc,...Sc}}),of={document:[{value:Ka,path:nf,teamBuff:!0,header:o(Ue,t("stacks")),name:Yu("condName"),states:$(La,n=>({name:`${n}`,fields:[{node:Pc},...Object.values(Sc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},sf=new s(Ue,of,yc,af),bn="RavenBow",bc=d.weapon.data[bn],cf=[-1,.12,.15,.18,.21,.24],[df,Oc]=m(bn,"BaneOfFlameAndWater"),Bc=c(Oc,"on",a(e.weapon.refinement,cf)),rf=r(bn,bc,{premod:{all_dmg_:Bc}}),mf={document:[{value:Oc,path:df,name:t("enemyAffected.hydroOrPyro"),header:o(bn,t("conditional")),states:{on:{fields:[{node:Bc}]}}}]},lf=new s(bn,mf,bc,rf),On="RecurveBow",Ac=d.weapon.data[On],$f=[-1,.08,.1,.12,.14,.16],Ec=c(e.weapon.key,On,Ke(i(e.total.hp,a(e.weapon.refinement,$f)))),pf=r(On,Ac,void 0,{healing:Ec}),hf={document:[{header:o(On,t("base")),fields:[{node:h(Ec,{name:l("healing"),variant:"heal"})}]}]},uf=new s(On,hf,Ac,pf),Bn="RoyalBow",xc=d.weapon.data[Bn],ff=[-1,.08,.1,.12,.14,.16],[_f,Mc]=m(Bn,"Focus"),Dc=p(Mc,{...$(u(1,5),n=>i(a(e.weapon.refinement,ff),n))},f),gf=r(Bn,xc,{premod:{critRate_:Dc}}),wf={document:[{value:Mc,path:_f,header:o(Bn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Dc}]}]))}]},kf=new s(Bn,wf,xc,gf),It="Rust",Tc=d.weapon.data[It],vf=[-1,.4,.5,.6,.7,.8],Rc=a(e.weapon.refinement,vf),Ic=w(-.1),yf=r(It,Tc,{premod:{normal_dmg_:Rc,charged_dmg_:Ic}}),Pf={document:[{header:o(It,t("base")),fields:[{node:Rc},{node:Ic}]}]},Sf=new s(It,Pf,Tc,yf),Ct="SacrificialBow",Cc=d.weapon.data[Ct],bf=r(Ct,Cc),Of={document:[{header:o(Ct),fields:[]}]},Bf=new s(Ct,Of,Cc,bf),ue="ScionOfTheBlazingSun",jc=d.weapon.data[ue],[,Uo]=g("weapon",ue),Af=[-1,.6,.75,.9,1.05,1.2],Ef=[-1,.28,.35,.42,.49,.56],xf=y(i(a(e.weapon.refinement,Af,{unit:"%"}),e.total.atk),"elemental"),[Mf,Fc]=m(ue,"afterHit"),Nc=c(Fc,"on",a(e.weapon.refinement,Ef)),Df=r(ue,jc,{premod:{charged_dmg_:Nc}}),Tf={document:[{header:o(ue,t("dmg")),fields:[{node:h(xf,{name:Uo("dmg")})}]},{header:o(ue,t("conditional")),path:Mf,value:Fc,name:Uo("condName"),states:{on:{fields:[{node:Nc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},Rf=new s(ue,Tf,jc,Df),qa="SeasonedHuntersBow",za=d.weapon.data[qa],If=r(qa,za),Cf={...za,document:[]},jf=new s(qa,Cf,za,If),jt="SharpshootersOath",Wc=d.weapon.data[jt],Ff=[-1,.24,.3,.36,.42,.48],Hc=a(e.weapon.refinement,Ff),Nf=r(jt,Wc,{premod:{weakspotDMG_:Hc}}),Wf={document:[{header:o(jt,t("base")),fields:[{node:Hc}]}]},Hf=new s(jt,Wf,Wc,Nf),An="SkywardHarp",Gc=d.weapon.data[An],Gf=[-1,.2,.25,.3,.35,.4],Kf=S(1.25),Kc=a(e.weapon.refinement,Gf),Lc=c(e.weapon.key,An,y(i(Kf,e.total.atk),"elemental",{hit:{ele:w("physical")}})),Lf=r(An,Gc,{premod:{critDMG_:Kc}},{dmg:Lc}),qf={document:[{header:o(An,t("base")),fields:[{node:Kc},{node:h(Lc,{name:t("dmg")})}]}]},zf=new s(An,qf,Gc,Lf),Ve="Slingshot",qc=d.weapon.data[Ve],[,Vo]=g("weapon",Ve),Uf=[-1,.36,.42,.48,.54,.6],[Vf,zc]=m(Ve,"Slingshot"),Jf=["less","more"],Ua=p(zc,{less:a(e.weapon.refinement,Uf,_.info("normal_dmg_")),more:S(-.1,_.info("normal_dmg_"))},f),Uc={...Ua},Qf=r(Ve,qc,{premod:{normal_dmg_:Ua,charged_dmg_:Uc}}),Xf={document:[{value:zc,path:Vf,header:o(Ve,t("conditional")),name:Vo("condName"),states:$(Jf,n=>({name:Vo(n),fields:[{node:Ua},{node:Uc}]}))}]},Yf=new s(Ve,Xf,qc,Qf),En="SongOfStillness",Vc=d.weapon.data[En],Zf=[-1,.16,.2,.24,.28,.32],[e_,Jc]=m(En,"afterHeal"),Qc=c(Jc,"on",a(e.weapon.refinement,Zf)),n_=r(En,Vc,{premod:{all_dmg_:Qc}}),t_={document:[{header:o(En,t("conditional")),path:e_,value:Jc,name:t("afterHeal"),states:{on:{fields:[{node:Qc},{text:l("duration"),value:8,unit:"s"}]}}}]},a_=new s(En,t_,Vc,n_),_n="TheFirstGreatMagic",Xc=d.weapon.data[_n],o_=[-1,.16,.2,.24,.28,.32],ma=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],la=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Jo=p(e.charEle,x,f),$a=P(...v.map(n=>es(x[n],1,M(n,e.charEle,x[n])))),Yc=a(e.weapon.refinement,o_),Zc=ns(Jo,3,a(e.weapon.refinement,ma[2]),Ra(Jo,2,a(e.weapon.refinement,ma[1]),a(e.weapon.refinement,ma[0]))),ha=ns($a,3,a(e.weapon.refinement,la[2]),Ra($a,2,a(e.weapon.refinement,la[1]),c($a,1,a(e.weapon.refinement,la[0])))),s_=r(_n,Xc,{premod:{charged_dmg_:Yc,atk_:Zc,moveSPD_:ha}}),c_={document:[{header:o(_n,t("base")),fields:[{node:Yc}]},{header:o(_n,t("stacks")),fields:[{node:Zc},{canShow:n=>n.get(ha).value>0,node:ha}]}]},d_=new s(_n,c_,Xc,s_),Ft="TheStringless",ed=d.weapon.data[Ft],nd=[-1,.24,.3,.36,.42,.48],td=a(e.weapon.refinement,nd),ad=a(e.weapon.refinement,nd),r_=r(Ft,ed,{premod:{skill_dmg_:td,burst_dmg_:ad}}),i_={document:[{header:o(Ft,t("base")),fields:[{node:td},{node:ad}]}]},m_=new s(Ft,i_,ed,r_),xn="TheViridescentHunt",od=d.weapon.data[xn],l_=[-1,.4,.5,.6,.7,.8],sd=c(e.weapon.key,xn,y(i(a(e.weapon.refinement,l_),e.total.atk),"elemental",{hit:{ele:w("physical")}})),$_=r(xn,od,void 0,{dmg:sd}),p_={document:[{header:o(xn,t("base")),fields:[{node:h(sd,{name:t("dmg")})}]}]},h_=new s(xn,p_,od,$_),fe="ThunderingPulse",cd=d.weapon.data[fe],[,u_]=g("weapon",fe),f_=[-1,.2,.25,.3,.35,.4],__=[-1,.12,.15,.18,.21,.24],g_=[-1,.24,.3,.36,.42,.48],w_=[-1,.4,.5,.6,.7,.8],[k_,dd]=m(fe,"RuleByThunder"),rd=a(e.weapon.refinement,f_),id=p(dd,{1:a(e.weapon.refinement,__),2:a(e.weapon.refinement,g_),3:a(e.weapon.refinement,w_)},f),v_=r(fe,cd,{premod:{atk_:rd,normal_dmg_:id}}),y_={document:[{header:o(fe,t("base")),fields:[{node:rd}]},{value:dd,path:k_,header:o(fe,t("stacks")),name:u_("condName"),states:$(u(1,3),n=>({name:t("stack",{count:n}),fields:[{node:id}]}))}]},P_=new s(fe,y_,cd,v_),Mn="WindblumeOde",md=d.weapon.data[Mn],S_=[-1,.16,.2,.24,.28,.32],[b_,ld]=m(Mn,"WindblumeWish"),$d=c(ld,"on",a(e.weapon.refinement,S_)),O_=r(Mn,md,{premod:{atk_:$d}}),B_={document:[{value:ld,path:b_,name:t("afterUse.skill"),header:o(Mn,t("conditional")),states:{on:{fields:[{node:$d},{text:l("duration"),value:6,unit:"s"}]}}}]},A_=new s(Mn,B_,md,O_),E_={AlleyHunter:Yh,AmosBow:o1,AquaSimulacra:l1,BlackcliffWarbow:f1,CompoundBow:y1,ElegyForTheEnd:x1,FadingTwilight:F1,FavoniusWarbow:H1,Hamayumi:z1,HuntersBow:J1,HuntersPath:nu,IbisPiercer:cu,KingsSquire:$u,Messenger:fu,MitternachtsWaltz:Pu,MouunsMoon:xu,PolarStar:Nu,Predator:zu,PrototypeCrescent:Xu,RangeGauge:sf,RavenBow:lf,RecurveBow:uf,RoyalBow:kf,Rust:Sf,SacrificialBow:Bf,ScionOfTheBlazingSun:Rf,SeasonedHuntersBow:jf,SharpshootersOath:Hf,SkywardHarp:zf,Slingshot:Yf,SongOfStillness:a_,TheFirstGreatMagic:d_,TheStringless:m_,TheViridescentHunt:h_,ThunderingPulse:P_,EndOfTheLine:R1,WindblumeOde:A_},je="AThousandFloatingDreams",pd=d.weapon.data[je],x_=[-1,32,40,48,56,64],M_=[-1,.1,.14,.18,.22,.26],D_=[-1,40,42,44,46,48],hd=p(e.charEle,Object.fromEntries(v.map(n=>[n,h(P(x[n],-1),{asConst:!0})])),f),T_=P(...v.map(n=>x[n])),ud=i(hd,a(e.weapon.refinement,x_)),fd=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,i(h(P(T_,-1,i(hd,-1)),{asConst:!0}),a(e.weapon.refinement,M_,{unit:"%"})))])),_d=c(e.weapon.key,je,a(e.weapon.refinement,D_),{..._.info("eleMas"),isTeamBuff:!0}),R_=M(e.charKey,A.charKey,_d),I_=r(je,pd,{premod:{eleMas:ud,...fd},teamBuff:{premod:{eleMas:R_}}}),C_={document:[{header:o(je,t("base")),fields:[{node:ud},...Object.values(fd).map(n=>({node:n}))]},{header:o(je,t("teamBuff")),teamBuff:!0,fields:[{node:_d}]}]},j_=new s(je,C_,pd,I_),Va="ApprenticesNotes",Ja=d.weapon.data[Va],F_=r(Va,Ja),N_={...Ja,document:[]},W_=new s(Va,N_,Ja,F_),Dn="BalladOfTheBoundlessBlue",gd=d.weapon.data[Dn],H_=[-1,.08,.1,.12,.14,.16],G_=[-1,.06,.075,.09,.105,.12],[K_,Qa]=m(Dn,"hits"),Xa=u(1,3),wd=p(Qa,$(Xa,n=>i(n,a(e.weapon.refinement,H_,{unit:"%"}))),f),kd=p(Qa,$(Xa,n=>i(n,a(e.weapon.refinement,G_,{unit:"%"}))),f),L_=r(Dn,gd,{premod:{normal_dmg_:wd,charged_dmg_:kd}}),q_={document:[{value:Qa,path:K_,teamBuff:!0,header:o(Dn,t("stacks")),name:t("hitOp.normalOrCharged"),states:$(Xa,n=>({name:t("hits",{count:n}),fields:[{node:wd},{node:kd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},z_=new s(Dn,q_,gd,L_),Tn="BlackcliffAgate",vd=d.weapon.data[Tn],[U_,yd]=m(Tn,"PressTheAdvantage"),Pd=u(1,3),V_=[-1,.12,.15,.18,.21,.24],Sd=i(p(yd,$(Pd,n=>w(n)),0),a(e.weapon.refinement,V_)),J_=r(Tn,vd,{premod:{atk_:Sd}}),Q_={document:[{value:yd,path:U_,header:o(Tn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Pd.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Sd},{text:l("duration"),value:30,unit:"s"}]}]))}]},X_=new s(Tn,Q_,vd,J_),J="CashflowSupervision",Ya=d.weapon.data[J],bd=Ya.refinementBonus.atk_;if(!bd)throw new Error(`data_gen.refinementBonus.atk_ for ${J} was undefined`);const Y_=[-1,.16,.2,.24,.28,.32],Z_=[-1,.14,.175,.21,.245,.28],eg=[-1,.08,.1,.12,.14,.16],Od=c(e.weapon.key,J,a(e.weapon.refinement,bd)),[ng,Nt]=m(J,"hpChanges"),Za=u(1,3),Bd=p(Nt,$(Za,n=>i(n,a(e.weapon.refinement,Y_,{unit:"%"}))),f),Ad=p(Nt,$(Za,n=>i(n,a(e.weapon.refinement,Z_,{unit:"%"}))),f),Ed=c(Nt,"3",a(e.weapon.refinement,eg)),tg=r(J,Ya,{premod:{atk_:Od,normal_dmg_:Bd,charged_dmg_:Ad,atkSPD_:Ed}}),ag={document:[{header:o(J,t("base")),fields:[{node:Od}]},{value:Nt,path:ng,header:o(J,t("stacks")),name:t("hpChange"),states:$(Za,n=>({name:t("times",{count:n}),fields:[{node:Bd},{node:Ad},{node:Ed},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},og=new s(J,ag,Ya,tg),Rn="CranesEchoingCall",xd=d.weapon.data[Rn],sg=[-1,.28,.41,.54,.67,.8],[cg,Md]=m(Rn,"passive"),Dd=c(Md,"on",a(e.weapon.refinement,sg,{unit:"%"})),dg=r(Rn,xd,{teamBuff:{premod:{plunging_dmg_:Dd}}}),rg={document:[{value:Md,path:cg,header:o(Rn,t("conditional")),name:t("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Dd},{text:l("duration"),value:20,unit:"s"}]}}}]},ig=new s(Rn,rg,xd,dg),_e="DodocoTales",Td=d.weapon.data[_e],mg=[-1,.16,.2,.24,.28,.32],lg=[-1,.08,.1,.12,.14,.16],[$g,Rd]=m(_e,"DodoventureNormal"),[pg,Id]=m(_e,"DodoventureCharged"),Cd=c("on",Rd,a(e.weapon.refinement,mg)),jd=c("on",Id,a(e.weapon.refinement,lg)),hg=r(_e,Td,{premod:{charged_dmg_:Cd,atk_:jd}}),ug={document:[{value:Rd,path:$g,name:t("hitOp.normal"),header:o(_e,t("conditional")),states:{on:{fields:[{node:Cd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Id,path:pg,name:t("hitOp.charged"),header:o(_e,t("conditional")),states:{on:{fields:[{node:jd},{text:l("duration"),value:6,unit:"s"}]}}}]},fg=new s(_e,ug,Td,hg),In="EmeraldOrb",Fd=d.weapon.data[In],_g=[-1,.2,.25,.3,.35,.4],[gg,Nd]=m(In,"Rapids"),Wd=c("on",Nd,a(e.weapon.refinement,_g)),wg=r(In,Fd,{premod:{atk_:Wd}}),kg={document:[{value:Nd,path:gg,name:t("elementalReaction.hydro"),header:o(In,t("conditional")),states:{on:{fields:[{node:Wd},{text:l("duration"),value:12,unit:"s"}]}}}]},vg=new s(In,kg,Fd,wg),xe="EverlastingMoonglow",eo=d.weapon.data[xe],yg=[-1,.01,.015,.02,.025,.03],[,Pg]=g("weapon",xe),ua=c(e.weapon.key,xe,i(a(e.weapon.refinement,yg,{unit:"%"}),e.premod.hp)),Hd=eo.refinementBonus.heal_;if(!Hd)throw new Error(`data_gen.refinementBonus.heal_ for ${xe} was undefined`);const Gd=a(e.weapon.refinement,Hd),Sg=r(xe,eo,{premod:{normal_dmgInc:ua,heal_:Gd}},{normal_dmgInc:ua}),bg={document:[{header:o(xe,t("base")),fields:[{node:Gd},{text:Pg("name"),node:ua}]}]},Og=new s(xe,bg,eo,Sg),Cn="EyeOfPerception",Kd=d.weapon.data[Cn],Bg=[-1,2.4,2.7,3,3.3,3.6],Ld=c(e.weapon.key,Cn,y(i(a(e.weapon.refinement,Bg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Ag=r(Cn,Kd,void 0,{dmg_:Ld}),Eg={document:[{header:o(Cn,t("base")),fields:[{node:h(Ld,{name:t("dmg")})}]}]},xg=new s(Cn,Eg,Kd,Ag),Wt="FavoniusCodex",qd=d.weapon.data[Wt],Mg=r(Wt,qd),Dg={document:[{header:o(Wt),fields:[]}]},Tg=new s(Wt,Dg,qd,Mg),F="FlowingPurity",zd=d.weapon.data[F],[,Rg]=g("weapon",F),Ig=[-1,.08,.1,.12,.14,.16],Cg=[-1,.02,.025,.03,.035,.04],jg=[-1,.12,.15,.18,.21,.24],[Fg,Ud]=m(F,"afterSkill"),Ng=c(Ud,"on",a(e.weapon.refinement,Ig)),no=v.map(n=>`${n}_dmg_`),Vd=$(no,n=>h({...Ng},_.info(n))),Wg=i(S(.24),e.total.hp),[Hg,Jd]=m(F,"bond"),Gg=c(e.weapon.key,F,c(Jd,"on",oe(i(a(e.weapon.refinement,Cg,{unit:"%"}),i(Wg,S(1/1e3))),a(e.weapon.refinement,jg,{unit:"%"})))),fa=$(no,n=>h({...Gg},_.info(n))),Kg=r(F,zd,{premod:{...$(no,n=>P(Vd[n],fa[n]))}},fa),Lg={document:[{header:o(F,t("conditional")),path:Fg,value:Ud,name:t("hitOp.skill"),states:{on:{fields:[...Object.values(Vd).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(F,t("conditional")),path:Hg,value:Jd,name:Rg("bondCondName"),states:{on:{fields:[...Object.values(fa).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"}]}}}]},qg=new s(F,Lg,zd,Kg),q="Frostbearer",Qd=d.weapon.data[q],zg=[-1,.8,.95,1.1,1.25,1.4],Ug=[-1,2,2.4,2.8,3.2,3.6],Xd=c(e.weapon.key,q,y(i(a(e.weapon.refinement,zg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Yd=c(e.weapon.key,q,y(i(a(e.weapon.refinement,Ug,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Vg=r(q,Qd,void 0,{dmgAoe:Xd,dmgOnCryoOp:Yd}),Jg={document:[{header:o(q,t("base")),fields:[{node:h(Xd,{name:s.trm(q)("aoeDmg")})},{node:h(Yd,{name:s.trm(q)("cryoAffectedDmg")})}]}]},Qg=new s(q,Jg,Qd,Vg),Je="FruitOfFulfillment",Zd=d.weapon.data[Je],[,Xg]=g("weapon",Je),Yg=[-1,24,27,30,33,36],[Zg,to]=m(Je,"stacks"),ao=b(1,5),er=p(to,Object.fromEntries(ao.map(n=>[n,i(a(e.weapon.refinement,Yg),n)])),f),nr=p(to,Object.fromEntries(ao.map(n=>[n,i(S(-.05),n)])),f),ew=r(Je,Zd,{premod:{eleMas:er,atk_:nr}}),nw={document:[{teamBuff:!0,header:o(Je,t("stacks")),path:Zg,value:to,name:Xg("stackName"),states:Object.fromEntries(ao.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:er},{node:nr}]}]))}]},tw=new s(Je,nw,Zd,ew),jn="HakushinRing",tr=d.weapon.data[jn],aw=[-1,.1,.125,.15,.175,.2],[ow,se]=m(jn,"SakuraSaiguu"),Me=a(e.weapon.refinement,aw),ar=c("anemo",se,Me),or=c("cryo",se,Me),sr=c("geo",se,Me),cr=c("hydro",se,Me),dr=c("pyro",se,Me),rr=c("dendro",se,Me),sw=c("anemo",A.charEle,ar),cw=c("cryo",A.charEle,or),dw=c("geo",A.charEle,sr),rw=c("hydro",A.charEle,cr),iw=c("pyro",A.charEle,dr),mw=c("dendro",A.charEle,rr),de=M(se,void 0,Me),lw=c("electro",A.charEle,de),$w=r(jn,tr,{teamBuff:{premod:{anemo_dmg_:sw,cryo_dmg_:cw,electro_dmg_:lw,geo_dmg_:dw,hydro_dmg_:rw,pyro_dmg_:iw,dendro_dmg_:mw}}}),pw={document:[{value:se,path:ow,name:t("elementalReaction.electro"),teamBuff:!0,header:o(jn,t("conditional")),states:{anemo:{name:L(Ie,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:h(ar,{..._.info("anemo_dmg_"),isTeamBuff:!0})},{node:h(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:L(Ie,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:h(or,{..._.info("cryo_dmg_"),isTeamBuff:!0})},{node:h(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:L(Ie,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:h(sr,{..._.info("geo_dmg_"),isTeamBuff:!0})},{node:h(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:L(Ie,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:h(dr,{..._.info("pyro_dmg_"),isTeamBuff:!0})},{node:h(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:L(Ie,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:h(cr,{..._.info("hydro_dmg_"),isTeamBuff:!0})},{node:h(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:L(Ie,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:h(rr,{..._.info("dendro_dmg_"),isTeamBuff:!0})},{node:h(de,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},hw=new s(jn,pw,tr,$w),De="JadefallsSplendor",ir=d.weapon.data[De],[,uw]=g("weapon",De),[fw,mr]=m(De,"condPassive"),_w=[-1,.003,.005,.007,.009,.011],gw=[-1,.12,.2,.28,.36,.44],ww=c(e.weapon.key,De,c(mr,"on",oe(a(e.weapon.refinement,gw,{unit:"%"}),i(a(e.weapon.refinement,_w,{unit:"%"}),e.total.hp,1/1e3)))),_a=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(n,e.charEle,ww)])),kw=r(De,ir,{premod:{..._a}},{..._a}),vw={document:[{header:o(De,t("conditional")),path:fw,value:mr,name:uw("condName"),states:{on:{fields:[...Object.values(_a).map(n=>({node:n})),{text:l("duration"),value:3,unit:"s"}]}}}]},yw=new s(De,vw,ir,kw),Fn="KagurasVerity",lr=d.weapon.data[Fn],[Pw,oo]=m(Fn,"KaguraDance"),$r=b(1,3),pr=[-1,.12,.15,.18,.21,.24],hr=$r.map(n=>c(oo,n.toString(),a(e.weapon.refinement,pr.map(k=>k*n)),_.info("skill_dmg_"))),ur=Object.fromEntries(v.map(n=>[n,c(oo,"3",a(e.weapon.refinement,pr))])),Sw=r(Fn,lr,{premod:{skill_dmg_:P(...hr),...Object.fromEntries(v.map(n=>[`${n}_dmg_`,ur[n]]))}}),bw={document:[{value:oo,path:Pw,header:o(Fn,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries($r.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:hr[n-1]},...v.map(k=>({node:ur[k]}))]}]))}]},Ow=new s(Fn,bw,lr,Sw),Fe="LostPrayerToTheSacredWinds",fr=d.weapon.data[Fe],Bw=[-1,.08,.1,.12,.14,.16],[Aw,_r]=m(Fe,"BoundlessBlessing"),gr=S(.1),Ew=a(e.weapon.refinement,Bw,{unit:"%"}),wr=Object.fromEntries(v.map(n=>[n,p(_r,{...$(u(1,4),k=>i(Ew,k))},f)])),xw=r(Fe,fr,{premod:{moveSPD_:gr,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,wr[n]]))}}),Mw={document:[{header:o(Fe,t("base")),fields:[{node:gr}]},{value:_r,path:Aw,header:o(Fe,t("stacks")),name:t("timeOnField"),states:$(u(1,4),n=>({name:t("seconds",{count:n*4}),fields:v.map(k=>({node:wr[k]}))}))}]},Dw=new s(Fe,Mw,fr,xw),Nn="MagicGuide",kr=d.weapon.data[Nn],Tw=[-1,.12,.15,.18,.21,.24],[Rw,vr]=m(Nn,"BaneOfStormAndTide"),yr=c("on",vr,a(e.weapon.refinement,Tw)),Iw=r(Nn,kr,{premod:{all_dmg_:yr}}),Cw={document:[{value:vr,path:Rw,name:t("enemyAffected.hydroOrElectro"),header:o(Nn,t("conditional")),states:{on:{fields:[{node:yr}]}}}]},jw=new s(Nn,Cw,kr,Iw),Wn="MappaMare",Pr=d.weapon.data[Wn],[Fw,Sr]=m(Wn,"InfusionScroll"),Nw=[-1,.08,.1,.12,.14,.16],Ww=a(e.weapon.refinement,Nw),br=Nh(v,n=>[`${n}_dmg_`,p(Sr,{...$(u(1,2),k=>i(Ww,k))},f)]),Hw=r(Wn,Pr,{premod:br}),Gw={document:[{value:Sr,path:Fw,header:o(Wn,t("stacks")),name:t("afterReaction"),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[...Object.values(br).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Kw=new s(Wn,Gw,Pr,Hw),T="MemoryOfDust",Or=d.weapon.data[T],[,Lw]=g("weapon",T),qw=[-1,.2,.25,.3,.35,.4],zw=[-1,.04,.05,.06,.07,.08],[Uw,Br]=m(T,"GoldenMajesty"),Ar=a(e.weapon.refinement,qw),[Vw,Er]=m(T,"WithShield"),Jw=a(e.weapon.refinement,zw),xr=i(P(1,c(Er,"protected",1)),p(Br,Object.fromEntries(b(1,5).map(n=>[n,i(Jw,n)])),f)),Qw=r(T,Or,{premod:{shield_:Ar,atk_:xr}}),Xw={document:[{header:o(T,t("base")),fields:[{node:Ar}]},{value:Br,path:Uw,header:o(T,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xr},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Er,path:Vw,header:o(T,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Lw("atkEffInc"),value:100,unit:"%"}]}}}]},Yw=new s(T,Xw,Or,Qw),Hn="OathswornEye",Mr=d.weapon.data[Hn],Zw=[-1,.24,.3,.36,.42,.48],[ek,Dr]=m(Hn,"faLight"),nk=a(e.weapon.refinement,Zw),Tr=c("skillBurst",Dr,nk),tk=r(Hn,Mr,{premod:{enerRech_:Tr}}),ak={document:[{value:Dr,path:ek,header:o(Hn,t("conditional")),name:t("afterUse.skill"),states:{skillBurst:{fields:[{node:Tr}]}}}]},ok=new s(Hn,ak,Mr,tk),Gn="OtherworldlyStory",Rr=d.weapon.data[Gn],sk=[-1,.01,.0125,.015,.0175,.02],Ir=c(e.weapon.key,Gn,Ke(i(a(e.weapon.refinement,sk,{unit:"%"}),e.total.hp))),ck=r(Gn,Rr,void 0,{heal:Ir}),dk={document:[{header:o(Gn,t("base")),fields:[{node:h(Ir,{name:l("healing"),variant:"heal"})}]}]},rk=new s(Gn,dk,Rr,ck),so="PocketGrimoire",Cr=d.weapon.data[so],ik=r(so,Cr),mk={document:[]},lk=new s(so,mk,Cr,ik),Qe="PrototypeAmber",jr=d.weapon.data[Qe],[$k,pk]=m(Qe,"Gliding"),hk=[-1,.04,.045,.05,.055,.06],Fr=c(e.weapon.key,Qe,Ke(i(a(e.weapon.refinement,hk,{unit:"%"}),e.total.hp))),uk=r(Qe,jr,void 0,{heal:Fr}),fk={document:[{value:pk,path:$k,name:t("afterUse.burst"),header:o(Qe,t("conditional")),states:{on:{fields:[{node:h(Fr,{name:l("healing"),variant:"heal"})}]}}}]},_k=new s(Qe,fk,jr,uk),ge="QuantumCatalyst",Nr=d.weapon.data[ge],gk=[-1,.18,.225,.27,.315,.36],wk=[-1,.06,.075,.09,.105,.12],kk=[-1,10,12,14,16,18],Wr=u(1,5),[vk,Hr]=m(ge,"stacks"),Gr=a(e.weapon.refinement,gk),Bt=c(e.weapon.key,ge,i(a(e.weapon.refinement,wk,{unit:"%"}),e.total.eleMas)),ga={...Bt},Kr=p(Hr,$(Wr,n=>i(a(e.weapon.refinement,kk),n)),f),yk=r(ge,Nr,{premod:{enerRech_:Gr,normal_dmgInc:Bt,charged_dmgInc:ga,eleMas:Kr}},{normal_dmgInc:Bt,charged_dmgInc:ga}),Pk={document:[{header:o(ge,t("base")),fields:[{node:Gr},{node:Bt},{node:ga}]},{value:Hr,path:vk,teamBuff:!0,header:o(ge,t("stacks")),name:t("elementalReaction.electro"),states:$(Wr,n=>({name:t("stack",{count:n}),fields:[{node:Kr},{text:l("duration"),value:12,unit:"s"}]}))}]},Sk=new s(ge,Pk,Nr,yk),Kn="RoyalGrimoire",Lr=d.weapon.data[Kn],[bk,qr]=m(Kn,"stack"),Ok=[-1,.08,.1,.12,.14,.16],zr=p(qr,$(u(1,5),n=>i(a(e.weapon.refinement,Ok,{unit:"%"}),n)),f),Bk=r(Kn,Lr,{premod:{critRate_:zr}}),Ak={document:[{value:qr,path:bk,header:o(Kn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zr}]}]))}]},Ek=new s(Kn,Ak,Lr,Bk),Ht="SacrificialFragments",Ur=d.weapon.data[Ht],xk=r(Ht,Ur),Mk={document:[{header:o(Ht),fields:[]}]},Dk=new s(Ht,Mk,Ur,xk),Xe="SacrificialJade",Vr=d.weapon.data[Xe],[,Tk]=g("weapon",Xe),Rk=[-1,.32,.4,.48,.56,.64],Ik=[-1,40,50,60,70,80],[Ck,co]=m(Xe,"offField"),Jr=c(co,"on",a(e.weapon.refinement,Rk)),Qr=c(co,"on",a(e.weapon.refinement,Ik)),jk=r(Xe,Vr,{premod:{eleMas:Qr,hp_:Jr}}),Fk={document:[{teamBuff:!0,header:o(Xe,t("conditional")),path:Ck,value:co,name:Tk("condOffField"),states:{on:{fields:[{node:Jr},{node:Qr}]}}}]},Nk=new s(Xe,Fk,Vr,jk),Ln="SkywardAtlas",Xr=d.weapon.data[Ln],Wk=[-1,.12,.15,.18,.21,.24],Yr=Object.fromEntries(v.map(n=>[n,a(e.weapon.refinement,Wk)])),Hk=[-1,1.6,2,2.4,2.8,3.2],Zr=c(e.weapon.key,Ln,y(i(a(e.weapon.refinement,Hk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Gk=r(Ln,Xr,{premod:{...Object.fromEntries(v.map(n=>[`${n}_dmg_`,Yr[n]]))}},{dmg:Zr}),Kk={document:[{header:o(Ln,t("base")),fields:[...v.map(n=>({node:Yr[n]})),{node:h(Zr,{name:t("dmg")})}]}]},Lk=new s(Ln,Kk,Xr,Gk),we="SolarPearl",ei=d.weapon.data[we],qk=[-1,.2,.25,.3,.35,.4],[zk,ni]=m(we,"solarShineNormal"),[Uk,ti]=m(we,"solarShineSkillBurst"),ai=a(e.weapon.refinement,qk),ro=c("normal",ni,ai),oi={...ro},si=c("skillBurst",ti,ai),Vk=r(we,ei,{premod:{skill_dmg_:ro,burst_dmg_:oi,normal_dmg_:si}}),Jk={document:[{value:ni,path:zk,header:o(we,t("conditional")),name:t("hitOp.normal"),states:{normal:{fields:[{node:ro},{node:oi}]}}},{value:ti,path:Uk,header:o(we,t("conditional")),name:t("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:si}]}}}]},Qk=new s(we,Jk,ei,Vk),Ye="TheWidsith",ci=d.weapon.data[Ye],[Xk,pa]=g("weapon",Ye),Yk=[-1,.6,.75,.9,1.05,1.2],Zk=[-1,.48,.6,.72,.84,.96],e2=[-1,240,300,360,420,480],[n2,Gt]=m(Ye,"Debut"),di=c("recitative",Gt,a(e.weapon.refinement,Yk)),ri=Object.fromEntries(v.map(n=>[n,c("aria",Gt,a(e.weapon.refinement,Zk))])),ii=c("interlude",Gt,a(e.weapon.refinement,e2)),t2=r(Ye,ci,{premod:{atk_:di,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,ri[n]])),eleMas:ii}}),a2={document:[{value:Gt,path:n2,teamBuff:!0,header:o(Ye,t("conditional")),name:Xk("passiveName"),states:{aria:{name:pa("aria"),fields:[...v.map(n=>({node:ri[n]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:pa("interlude"),fields:[{node:ii},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:pa("recitative"),fields:[{node:di},{text:l("duration"),value:10,unit:"s"}]}}}]},o2=new s(Ye,a2,ci,t2),Ze="ThrillingTalesOfDragonSlayers",mi=d.weapon.data[Ze],[,s2]=g("weapon",Ze),c2=[-1,.24,.3,.36,.42,.48],[d2,li]=m(Ze,"Heritage"),$i=c("on",li,a(e.weapon.refinement,c2)),r2=M(e.activeCharKey,e.charKey,c(e.activeCharKey,A.charKey,$i)),i2=r(Ze,mi,{teamBuff:{premod:{atk_:r2}}}),m2={document:[{value:li,path:d2,name:s2("condName"),canShow:M(e.activeCharKey,e.charKey,1),teamBuff:!0,header:o(Ze,t("conditional")),states:{on:{fields:[{node:h($i,_.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},l2=new s(Ze,m2,mi,i2),Q="TomeOfTheEternalFlow",io=d.weapon.data[Q],pi=io.refinementBonus.hp_;if(!pi)throw new Error(`data_gen.refinementBonus.hp_ for ${Q} was undefined`);const $2=[-1,.14,.18,.22,.26,.3],hi=c(e.weapon.key,Q,a(e.weapon.refinement,pi)),[p2,ui]=m(Q,"hpChanges"),fi=u(1,3),_i=p(ui,$(fi,n=>i(n,a(e.weapon.refinement,$2,{unit:"%"}))),f),h2=r(Q,io,{premod:{hp_:hi,charged_dmg_:_i}}),u2={document:[{header:o(Q,t("base")),fields:[{node:hi}]},{value:ui,path:p2,header:o(Q,t("stacks")),name:t("hpChange"),states:$(fi,n=>({name:t("times",{count:n}),fields:[{node:_i},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},f2=new s(Q,u2,io,h2),O="TulaytullahsRemembrance",gi=d.weapon.data[O],_2=[-1,.1,.125,.15,.175,.2],g2=[-1,.048,.06,.072,.084,.096],wi=b(1,12),w2=[-1,.096,.12,.144,.168,.192],ki=b(1,5),k2=[-1,.48,.6,.72,.84,.96],vi=c(e.weapon.key,O,a(e.weapon.refinement,_2)),[v2,yi]=m(O,"timePassive"),y2=c(e.weapon.key,O,p(yi,Object.fromEntries(wi.map(n=>[n,i(n,a(e.weapon.refinement,g2,{unit:"%"}))])),f,_.info("normal_dmg_"))),[P2,Pi]=m(O,"hitPassive"),S2=c(e.weapon.key,O,p(Pi,Object.fromEntries(ki.map(n=>[n,i(n,a(e.weapon.refinement,w2,{unit:"%"}))])),f,_.info("normal_dmg_"))),Si=oe(a(e.weapon.refinement,k2,{unit:"%"}),P(y2,S2)),b2=r(O,gi,{premod:{atkSPD_:vi,normal_dmg_:Si}}),O2={document:[{header:o(O,t("base")),fields:[{node:vi}]},{header:o(O,t("conditional")),fields:[{node:Si}]},{value:yi,path:v2,header:o(O,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(wi.map(n=>[n,{name:t("seconds",{count:n}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:Pi,path:P2,header:o(O,t("stacks")),name:t("hitOp.normal"),states:Object.fromEntries(ki.map(n=>[n,{name:t("stack",{count:n}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},B2=new s(O,O2,gi,b2),qn="TwinNephrite",bi=d.weapon.data[qn],Oi=[-1,.12,.14,.16,.18,.2],[A2,mo]=m(qn,"GuerillaTactics"),Bi=c("on",mo,a(e.weapon.refinement,Oi)),Ai=c("on",mo,a(e.weapon.refinement,Oi)),E2=r(qn,bi,{premod:{atk_:Bi,moveSPD_:Ai}}),x2={document:[{value:mo,path:A2,name:t("afterDefeatEnemy"),header:o(qn,t("conditional")),states:{on:{fields:[{node:Bi},{node:Ai},{text:l("duration"),value:15,unit:"s"}]}}}]},M2=new s(qn,x2,bi,E2),ke="WanderingEvenstar",Ei=d.weapon.data[ke],D2=[-1,.24,.3,.36,.42,.48],At=c(e.weapon.key,ke,i(a(e.weapon.refinement,D2,{unit:"%"}),e.premod.eleMas)),lo=c(e.weapon.key,ke,i(S(.3),At)),T2=M(e.activeCharKey,e.charKey,lo),R2=r(ke,Ei,{total:{atk:At},teamBuff:{total:{atk:T2}}},{selfAtk:At,teamAtkDisp:lo}),I2={document:[{header:o(ke,t("base")),fields:[{node:At}]},{header:o(ke,t("teamBuff")),teamBuff:!0,fields:[{node:h(lo,{..._.info("atk"),isTeamBuff:!0})}]}]},C2=new s(ke,I2,Ei,R2),zn="WineAndSong",xi=d.weapon.data[zn],j2=[-1,.2,.25,.3,.35,.4],[F2,Mi]=m(zn,"EverChanging"),Di=c("on",Mi,a(e.weapon.refinement,j2)),N2=r(zn,xi,{premod:{atk_:Di}}),W2={document:[{value:Mi,path:F2,name:t("afterSprint"),header:o(zn,t("conditional")),states:{on:{fields:[{node:Di},{text:l("duration"),value:5,unit:"s"}]}}}]},H2=new s(zn,W2,xi,N2),G2={ApprenticesNotes:W_,AThousandFloatingDreams:j_,BalladOfTheBoundlessBlue:z_,BlackcliffAgate:X_,CashflowSupervision:og,CranesEchoingCall:ig,DodocoTales:fg,EmeraldOrb:vg,EverlastingMoonglow:Og,EyeOfPerception:xg,FavoniusCodex:Tg,FlowingPurity:qg,Frostbearer:Qg,FruitOfFulfillment:tw,HakushinRing:hw,JadefallsSplendor:yw,KagurasVerity:Ow,LostPrayerToTheSacredWinds:Dw,MagicGuide:jw,MappaMare:Kw,MemoryOfDust:Yw,OathswornEye:ok,OtherworldlyStory:rk,PocketGrimoire:lk,PrototypeAmber:_k,QuantumCatalyst:Sk,RoyalGrimoire:Ek,SacrificialFragments:Dk,SacrificialJade:Nk,SkywardAtlas:Lk,SolarPearl:Qk,TheWidsith:o2,ThrillingTalesOfDragonSlayers:l2,TomeOfTheEternalFlow:f2,TulaytullahsRemembrance:B2,TwinNephrite:M2,WanderingEvenstar:C2,WineAndSong:H2},en="Akuoumaru",Ti=d.weapon.data[en],[,K2]=g("weapon",en),[L2,Ri]=m(en,"WatatsumiWavewalker"),Ii=b(4,36).map(n=>n*10),q2=[-1,.0012,.0015,.0018,.0021,.0024],z2=[-1,.4,.5,.6,.7,.8],Ci=p(Ri,Object.fromEntries(Ii.map(n=>[n,oe(i(a(e.weapon.refinement,q2,{unit:"%"}),n),a(e.weapon.refinement,z2,{unit:"%"}))])),f),U2=r(en,Ti,{premod:{burst_dmg_:Ci}}),V2={document:[{value:Ri,path:L2,header:o(en,t("stacks")),name:K2("party"),states:Object.fromEntries(Ii.map(n=>[n,{name:n.toString(),fields:[{node:Ci}]}]))}]},J2=new s(en,V2,Ti,U2),B="BeaconOfTheReedSea",ji=d.weapon.data[B],Q2=[-1,.2,.25,.3,.35,.4],[X2,Fi]=m(B,"afterSkill"),Ni=c(e.weapon.key,B,c(Fi,"on",a(e.weapon.refinement,Q2,{..._.info("atk_")}))),Y2=[-1,.2,.25,.3,.35,.4],[Z2,Wi]=m(B,"afterDmg"),Hi=c(e.weapon.key,B,c(Wi,"on",a(e.weapon.refinement,Y2,{..._.info("atk_")}))),ev=[-1,.32,.4,.48,.56,.64],[nv,Gi]=m(B,"noShield"),Ki=c(e.weapon.key,B,c(Gi,"on",a(e.weapon.refinement,ev,{..._.info("hp_")}))),tv=r(B,ji,{premod:{atk_:P(Ni,Hi),hp_:Ki}},{}),av={document:[{header:o(B,t("conditional")),path:X2,value:Fi,name:t("hitOp.skill"),states:{on:{fields:[{node:Ni},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,t("conditional")),path:Z2,value:Wi,name:t("takeDmg"),states:{on:{fields:[{node:Hi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,t("conditional")),path:nv,value:Gi,name:t("notProtectedByShield"),states:{on:{fields:[{node:Ki}]}}}]},ov=new s(B,av,ji,tv),Un="BlackcliffSlasher",Li=d.weapon.data[Un],[sv,qi]=m(Un,"PressTheAdvantage"),zi=u(1,3),cv=[-1,.12,.15,.18,.21,.24],Ui=i(p(qi,$(zi,n=>w(n)),0),a(e.weapon.refinement,cv)),dv=r(Un,Li,{premod:{atk_:Ui}}),rv={document:[{value:qi,path:sv,header:o(Un,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(zi.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ui},{text:l("duration"),value:30,unit:"s"}]}]))}]},iv=new s(Un,rv,Li,dv),Vn="BloodtaintedGreatsword",Vi=d.weapon.data[Vn],mv=[-1,.12,.15,.18,.21,.24],[lv,Ji]=m(Vn,"BaneOfFireAndThunder"),Qi=c("on",Ji,a(e.weapon.refinement,mv)),$v=r(Vn,Vi,{premod:{all_dmg_:Qi}}),pv={document:[{value:Ji,path:lv,name:t("enemyAffected.pyroOrElectro"),header:o(Vn,t("conditional")),states:{on:{fields:[{node:Qi}]}}}]},hv=new s(Vn,pv,Vi,$v),Kt="DebateClub",Xi=d.weapon.data[Kt],uv=[-1,.6,.75,.9,1.05,1.2],fv=y(i(a(e.weapon.refinement,uv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}}),_v=r(Kt,Xi),gv={document:[{header:o(Kt,t("base")),fields:[{node:h(fv,{name:t("dmg")})}]}]},wv=new s(Kt,gv,Xi,_v),Lt="FavoniusGreatsword",Yi=d.weapon.data[Lt],kv=r(Lt,Yi),vv={document:[{header:o(Lt),fields:[]}]},yv=new s(Lt,vv,Yi,kv),nn="FerrousShadow",Zi=d.weapon.data[nn],[,Qo]=g("weapon",nn),Pv=[-1,.3,.35,.4,.45,.5],[Sv,em]=m(nn,"Unbending"),nm=c("on",em,a(e.weapon.refinement,Pv)),bv=r(nn,Zi,{premod:{charged_dmg_:nm}}),Ov={document:[{value:em,path:Sv,name:Qo("condName"),header:o(nn,t("conditional")),states:{on:{fields:[{node:nm},{text:Qo("resistance")}]}}}]},Bv=new s(nn,Ov,Zi,bv),tn="ForestRegalia",tm=d.weapon.data[tn],[,Av]=g("weapon",tn),[Ev,am]=m(tn,"passive"),xv=[-1,60,75,90,105,120],om=c(am,"on",a(e.weapon.refinement,xv)),Mv=c(e.activeCharKey,A.charKey,om),Dv=r(tn,tm,{teamBuff:{premod:{eleMas:Mv}}}),Tv={document:[{value:am,path:Ev,teamBuff:!0,header:o(tn,t("conditional")),name:Av("condName"),states:{on:{fields:[{node:h(om,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Rv=new s(tn,Tv,tm,Dv),qt="KatsuragikiriNagamasa",sm=d.weapon.data[qt],Iv=[-1,.06,.075,.09,.105,.12],cm=a(e.weapon.refinement,Iv),Cv=r(qt,sm,{premod:{skill_dmg_:cm}}),jv={document:[{header:o(qt,t("base")),fields:[{node:cm}]}]},Fv=new s(qt,jv,sm,Cv),zt="LithicBlade",dm=d.weapon.data[zt],Nv=[-1,.07,.08,.09,.1,.11],Wv=[-1,.03,.04,.05,.06,.07],rm=i(a(e.weapon.refinement,Nv,{unit:"%"}),x.liyue),im=i(a(e.weapon.refinement,Wv,{unit:"%"}),x.liyue),Hv=r(zt,dm,{premod:{atk_:rm,critRate_:im}}),Gv={document:[{header:o(zt,t("stacks")),fields:[{node:rm},{node:im}]}]},Kv=new s(zt,Gv,dm,Hv),Ne="LuxuriousSeaLord",mm=d.weapon.data[Ne],Lv=[-1,.12,.15,.18,.21,.24],qv=[-1,1,1.25,1.5,1.75,2],lm=a(e.weapon.refinement,Lv),$m=c(e.weapon.key,Ne,y(i(a(e.weapon.refinement,qv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),zv=r(Ne,mm,{premod:{burst_dmg_:lm}},{dmg:$m}),Uv={document:[{header:o(Ne,t("base")),fields:[{node:lm}]},{header:o(Ne,t("conditional")),fields:[{node:h($m,{name:t("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Vv=new s(Ne,Uv,mm,zv),an="MailedFlower",pm=d.weapon.data[an],[,Jv]=g("weapon",an),Qv=[-1,.12,.15,.18,.21,.24],Xv=[-1,48,60,72,84,96],[Yv,$o]=m(an,"passive"),hm=c($o,"on",a(e.weapon.refinement,Qv,{unit:"%"})),um=c($o,"on",a(e.weapon.refinement,Xv)),Zv=r(an,pm,{premod:{atk_:hm,eleMas:um}}),ey={document:[{value:$o,path:Yv,name:Jv("condName"),header:o(an,t("conditional")),states:{on:{fields:[{node:hm},{node:um},{text:l("duration"),value:8,unit:"s"}]}}}]},ny=new s(an,ey,pm,Zv),ve="MakhairaAquamarine",fm=d.weapon.data[ve],ty=[-1,.24,.3,.36,.42,.48],Et=c(e.weapon.key,ve,i(a(e.weapon.refinement,ty,{unit:"%"}),e.premod.eleMas)),po=c(e.weapon.key,ve,i(S(.3),Et)),ay=M(e.activeCharKey,e.charKey,po),oy=r(ve,fm,{total:{atk:Et},teamBuff:{total:{atk:ay}}},{selfAtk:Et,teamAtkDisp:po}),sy={document:[{header:o(ve,t("base")),fields:[{node:Et}]},{header:o(ve,t("teamBuff")),teamBuff:!0,fields:[{node:h(po,{..._.info("atk"),isTeamBuff:!0})}]}]},cy=new s(ve,sy,fm,oy),ho="OldMercsPal",_m=d.weapon.data[ho],dy=r(ho,_m),ry={document:[]},iy=new s(ho,ry,_m,dy),on="PortablePowerSaw",gm=d.weapon.data[on],[,my]=g("weapon",on),ly=[-1,40,50,60,70,80],[$y,wm]=m(on,"symbolsConsumed"),km=u(1,3),vm=p(wm,$(km,n=>i(n,a(e.weapon.refinement,ly,{unit:"%"}))),f),py=r(on,gm,{premod:{eleMas:vm}}),hy={document:[{value:wm,path:$y,teamBuff:!0,header:o(on,t("stacks")),name:my("condName"),states:$(km,n=>({name:`${n}`,fields:[{node:vm},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},uy=new s(on,hy,gm,py),Jn="PrototypeArchaic",ym=d.weapon.data[Jn],fy=[-1,2.4,3,3.6,4.2,4.8],Pm=c(e.weapon.key,Jn,y(i(a(e.weapon.refinement,fy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),_y=r(Jn,ym,void 0,{dmg:Pm}),gy={document:[{header:o(Jn,t("base")),fields:[{node:h(Pm,{name:t("dmg")})}]}]},wy=new s(Jn,gy,ym,_y),Qn="Rainslasher",Sm=d.weapon.data[Qn],ky=[-1,.2,.24,.28,.32,.36],[vy,bm]=m(Qn,"BaneOfStormAndTide"),Om=c("on",bm,a(e.weapon.refinement,ky)),yy=r(Qn,Sm,{premod:{all_dmg_:Om}}),Py={document:[{value:bm,path:vy,name:t("enemyAffected.hydroOrElectro"),header:o(Qn,t("conditional")),states:{on:{fields:[{node:Om}]}}}]},Sy=new s(Qn,Py,Sm,yy),sn="RedhornStonethresher",Bm=d.weapon.data[sn],by=[-1,.28,.35,.42,.49,.56],Oy=[-1,.4,.5,.6,.7,.8],By=[-1,.4,.5,.6,.7,.8],Am=a(e.weapon.refinement,by),wa=c(e.weapon.key,sn,i(a(e.weapon.refinement,Oy,{unit:"%"}),e.premod.def)),ka=c(e.weapon.key,sn,i(a(e.weapon.refinement,By,{unit:"%"}),e.premod.def)),Ay=r(sn,Bm,{premod:{def_:Am,normal_dmgInc:wa,charged_dmgInc:ka}},{normal_dmgInc:wa,charged_dmgInc:ka}),Ey={document:[{header:o(sn,t("base")),fields:[{node:Am},{node:wa},{node:ka}]}]},xy=new s(sn,Ey,Bm,Ay),Xn="RoyalGreatsword",Em=d.weapon.data[Xn],[My,xm]=m(Xn,"stack"),Dy=[-1,.08,.1,.12,.14,.16],Mm=p(xm,$(u(1,5),n=>i(a(e.weapon.refinement,Dy,{unit:"%"}),n)),f),Ty=r(Xn,Em,{premod:{critRate_:Mm}}),Ry={document:[{value:xm,path:My,name:t("stacks"),header:o(Xn,t("stacks")),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Mm}]}]))}]},Iy=new s(Xn,Ry,Em,Ty),Ut="SacrificialGreatsword",Dm=d.weapon.data[Ut],Cy=r(Ut,Dm),jy={document:[{header:o(Ut),fields:[]}]},Fy=new s(Ut,jy,Dm,Cy),cn="SerpentSpine",Tm=d.weapon.data[cn],[,Ny]=g("weapon",cn),Wy=[-1,.06,.07,.08,.09,.1],Hy=[-1,3,2.7,2.4,2.2,2],[Gy,Rm]=m(cn,"Wavesplitter"),Ky=a(e.weapon.refinement,Wy,{unit:"%"}),Im=p(Rm,{...$(u(1,5),n=>i(Ky,n))},f),Ly=r(cn,Tm,{premod:{all_dmg_:Im}}),qy={document:[{value:Rm,path:Gy,header:o(cn,t("stacks")),name:t("activeCharField"),states:{...$(u(1,5),n=>({name:t("seconds",{count:n*4}),fields:[{node:Im},{text:Ny("takeMoreDmg"),value:k=>Hy[k.get(e.weapon.refinement).value]*n,unit:"%"}]}))}}]},zy=new s(cn,qy,Tm,Ly),Yn="SkyriderGreatsword",Cm=d.weapon.data[Yn],[Uy,jm]=m(Yn,"stack"),Vy=[-1,.06,.07,.08,.09,.1],Fm=p(jm,$(u(1,4),n=>i(a(e.weapon.refinement,Vy,{unit:"%"}),n)),f),Jy=r(Yn,Cm,{premod:{atk_:Fm}}),Qy={document:[{value:jm,path:Uy,name:t("hitOp.normalOrCharged"),header:o(Yn,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Fm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Xy=new s(Yn,Qy,Cm,Jy),Zn="SkywardPride",Nm=d.weapon.data[Zn],Yy=[-1,.08,.1,.12,.14,.16],Zy=[-1,.8,1,1.2,1.4,1.6],Wm=a(e.weapon.refinement,Yy),Hm=c(e.weapon.key,Zn,y(i(a(e.weapon.refinement,Zy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),eP=r(Zn,Nm,{premod:{all_dmg_:Wm}},{dmg:Hm}),nP={document:[{header:o(Zn,t("base")),fields:[{node:Wm},{node:h(Hm,{name:t("dmg")})}]}]},tP=new s(Zn,nP,Nm,eP),z="SnowTombedStarsilver",Gm=d.weapon.data[z],aP=[-1,.8,.95,1.1,1.25,1.4],oP=[-1,2,2.4,2.8,3.2,3.6],Km=c(e.weapon.key,z,y(i(a(e.weapon.refinement,aP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Lm=c(e.weapon.key,z,y(i(a(e.weapon.refinement,oP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),sP=r(z,Gm,void 0,{dmgAoe:Km,dmgOnCryoOp:Lm}),cP={document:[{header:o(z,t("base")),fields:[{node:h(Km,{name:s.trm(z)("aoeDmg")})},{node:h(Lm,{name:s.trm(z)("cryoAffectedDmg")})}]}]},dP=new s(z,cP,Gm,sP),ye="SongOfBrokenPines",qm=d.weapon.data[ye],[,rP]=g("weapon",ye),iP=[-1,.16,.2,.24,.28,.32],mP=[-1,.2,.25,.3,.35,.4],lP=[-1,.12,.15,.18,.21,.24],[$P,uo]=m(ye,"RebelsBannerHymn"),zm=a(e.weapon.refinement,iP,{unit:"%"}),Um=c("on",uo,a(e.weapon.refinement,mP,_.info("atk_"))),Vm=c("on",uo,a(e.weapon.refinement,lP)),pP=r(ye,qm,{premod:{atk_:zm},teamBuff:{premod:{atk_:Um,atkSPD_:Vm}}}),hP={document:[{header:o(ye,t("base")),fields:[{node:zm}]},{value:uo,path:$P,teamBuff:!0,header:o(ye,t("conditional")),name:rP("name"),states:{on:{fields:[{node:Um},{node:Vm},{text:l("duration"),value:12,unit:"s"}]}}}]},uP=new s(ye,hP,qm,pP),X="TalkingStick",Jm=d.weapon.data[X],[,Xo]=g("weapon",X),fP=[-1,.16,.2,.24,.28,.32],_P=[-1,.12,.15,.18,.21,.24],[gP,Qm]=m(X,"affectedPyro"),Xm=c(Qm,"on",a(e.weapon.refinement,fP)),[wP,Ym]=m(X,"affectedOther"),kP=c(Ym,"on",a(e.weapon.refinement,_P)),Zm=$(v.map(n=>`${n}_dmg_`),()=>({...kP})),vP=r(X,Jm,{premod:{atk_:Xm,...Zm}}),yP={document:[{value:Qm,path:gP,header:o(X,t("conditional")),name:Xo("condName.atk_"),states:{on:{fields:[{node:Xm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Ym,path:wP,header:o(X,t("conditional")),name:Xo("condName.dmg_"),states:{on:{fields:[...Object.values(Zm).map(n=>({node:n})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},PP=new s(X,yP,Jm,vP),Y="TheBell",el=d.weapon.data[Y],SP=[-1,.2,.23,.26,.29,.32],bP=[-1,.12,.15,.18,.21,.24],[OP,nl]=m(Y,"RebelliousGuardian"),tl=c(e.weapon.key,Y,c(nl,"on",Lh(i(a(e.weapon.refinement,SP,{unit:"%"}),e.total.hp)))),[BP,al]=m(Y,"WithShield"),ol=c(al,"protected",a(e.weapon.refinement,bP,{unit:"%"})),AP=r(Y,el,{premod:{all_dmg_:ol}},{shield:tl}),EP={document:[{value:nl,path:OP,header:o(Y,t("conditional")),name:t("takeDmg"),states:{on:{fields:[{node:h(tl,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:al,path:BP,header:o(Y,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{node:ol}]}}}]},xP=new s(Y,EP,el,AP),R="TheUnforged",sl=d.weapon.data[R],[,MP]=g("weapon",R),DP=[-1,.2,.25,.3,.35,.4],TP=[-1,.04,.05,.06,.07,.08],[RP,cl]=m(R,"GoldenMajesty"),dl=a(e.weapon.refinement,DP),[IP,rl]=m(R,"WithShield"),CP=a(e.weapon.refinement,TP),il=i(P(1,c(rl,"protected",1)),p(cl,Object.fromEntries(b(1,5).map(n=>[n,i(CP,n)])),f)),jP=r(R,sl,{premod:{shield_:dl,atk_:il}}),FP={document:[{header:o(R,t("base")),fields:[{node:dl}]},{value:cl,path:RP,header:o(R,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:il},{text:l("duration"),value:8,unit:"s"}]}]))},{value:rl,path:IP,header:o(R,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:MP("atkEffInc"),value:100,unit:"%"}]}}}]},NP=new s(R,FP,sl,jP),et="TidalShadow",ml=d.weapon.data[et],WP=[-1,.24,.3,.36,.42,.48],[HP,ll]=m(et,"afterHeal"),$l=c(ll,"on",a(e.weapon.refinement,WP)),GP=r(et,ml,{premod:{atk_:$l}}),KP={document:[{header:o(et,t("conditional")),path:HP,value:ll,name:t("afterHeal"),states:{on:{fields:[{node:$l},{text:l("duration"),value:8,unit:"s"}]}}}]},LP=new s(et,KP,ml,GP),N="UltimateOverlordsMegaMagicSword",fo=d.weapon.data[N],[,qP]=g("weapon",N),pl=fo.refinementBonus.atk_;if(!pl)throw new Error(`data_gen.refinementBonus.atk_ for ${N} was undefined`);const zP=[-1,.01,.0125,.015,.0175,.02],hl=c(e.weapon.key,N,a(e.weapon.refinement,pl),_.info("atk_")),[UP,ul]=m(N,"melusines"),fl=u(1,12),_l=p(ul,$(fl,n=>i(n,a(e.weapon.refinement,zP,{unit:"%"}))),f,_.info("atk_")),VP=r(N,fo,{premod:{atk_:P(hl,_l)}}),JP={document:[{header:o(N,t("base")),fields:[{node:hl}]},{value:ul,path:UP,header:o(N,t("stacks")),name:qP("condName"),states:$(fl,n=>({name:`${n}`,fields:[{node:_l}]}))}]},QP=new s(N,JP,fo,VP),W="Verdict",_o=d.weapon.data[W],[,XP]=g("weapon",W),gl=_o.refinementBonus.atk_;if(!gl)throw new Error(`data_gen.refinementBonus.atk_ for ${W} was undefined`);const YP=[-1,.18,.225,.27,.315,.36],wl=c(e.weapon.key,W,a(e.weapon.refinement,gl)),[ZP,kl]=m(W,"seals"),vl=u(1,2),yl=p(kl,$(vl,n=>i(n,a(e.weapon.refinement,YP,{unit:"%"}))),f),eS=r(W,_o,{premod:{atk_:wl,skill_dmg_:yl}}),nS={document:[{header:o(W,t("base")),fields:[{node:wl}]},{value:kl,path:ZP,header:o(W,t("stacks")),name:XP("condName"),states:$(vl,n=>({name:`${n}`,fields:[{node:yl}]}))}]},tS=new s(W,nS,_o,eS),go="WasterGreatsword",wo=d.weapon.data[go],aS=r(go,wo),oS={...wo,document:[]},sS=new s(go,oS,wo,aS),dn="WhiteIronGreatsword",Pl=d.weapon.data[dn],cS=[-1,.08,.1,.12,.14,.16],[dS,Sl]=m(dn,"CullTheWeak"),bl=c(e.weapon.key,dn,c(Sl,"on",Ke(i(a(e.weapon.refinement,cS,{unit:"%"}),e.total.hp)))),rS=r(dn,Pl,void 0,{heal:bl}),iS={document:[{value:Sl,path:dS,name:t("afterDefeatEnemy"),header:o(dn,t("conditional")),states:{on:{fields:[{node:h(bl,{name:l("healing"),variant:"heal"})}]}}}]},mS=new s(dn,iS,Pl,rS),nt="Whiteblind",Ol=d.weapon.data[nt],[lS,ko]=m(nt,"stack"),Bl=[-1,.06,.075,.09,.105,.12],Al=p(ko,$(u(1,4),n=>i(a(e.weapon.refinement,Bl,{unit:"%"}),n)),f),El=p(ko,$(u(1,4),n=>i(a(e.weapon.refinement,Bl,{unit:"%"}),n)),f),$S=r(nt,Ol,{premod:{atk_:Al,def_:El}}),pS={document:[{value:ko,path:lS,name:t("hitOp.normalOrCharged"),header:o(nt,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Al},{node:El},{text:l("duration"),value:6,unit:"s"}]}]))}]},hS=new s(nt,pS,Ol,$S),We="WolfsGravestone",xl=d.weapon.data[We],uS=[-1,.2,.25,.3,.35,.4],fS=[-1,.4,.5,.6,.7,.8],[_S,Ml]=m(We,"WolfishTracker"),Dl=a(e.weapon.refinement,uS),Tl=c("on",Ml,a(e.weapon.refinement,fS,_.info("atk_"))),gS=r(We,xl,{premod:{atk_:Dl},teamBuff:{premod:{atk_:Tl}}}),wS={document:[{header:o(We,t("base")),fields:[{node:Dl}]},{value:Ml,path:_S,teamBuff:!0,header:o(We,t("conditional")),name:t("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Tl},{text:l("duration"),value:12,unit:"s"}]}}}]},kS=new s(We,wS,xl,gS),vS={Akuoumaru:J2,BeaconOfTheReedSea:ov,BlackcliffSlasher:iv,BloodtaintedGreatsword:hv,DebateClub:wv,FavoniusGreatsword:yv,FerrousShadow:Bv,ForestRegalia:Rv,KatsuragikiriNagamasa:Fv,LithicBlade:Kv,LuxuriousSeaLord:Vv,MailedFlower:ny,MakhairaAquamarine:cy,OldMercsPal:iy,PortablePowerSaw:uy,PrototypeArchaic:wy,Rainslasher:Sy,RedhornStonethresher:xy,RoyalGreatsword:Iy,SacrificialGreatsword:Fy,SerpentSpine:zy,SkyriderGreatsword:Xy,SkywardPride:tP,SnowTombedStarsilver:dP,SongOfBrokenPines:uP,TalkingStick:PP,TheBell:xP,TheUnforged:NP,TidalShadow:LP,UltimateOverlordsMegaMagicSword:QP,Verdict:tS,WasterGreatsword:sS,Whiteblind:hS,WhiteIronGreatsword:mS,WolfsGravestone:kS},Vt="BalladOfTheFjords",Rl=d.weapon.data[Vt],yS=[-1,120,150,180,210,240],va=es(x.ele,3,a(e.weapon.refinement,yS)),PS=r(Vt,Rl,{premod:{eleMas:va}}),SS={document:[{header:o(Vt,t("talents.passive")),canShow:M(va,0,1),fields:[{node:va}]}]},bS=new s(Vt,SS,Rl,PS),vo="BeginnersProtector",yo=d.weapon.data[vo],OS=r(vo,yo),BS={...yo,document:[]},AS=new s(vo,BS,yo,OS),rn="BlackTassel",Il=d.weapon.data[rn],[,ES]=g("weapon",rn),xS=[-1,.4,.5,.6,.7,.8],[MS,Cl]=m(rn,"PressTheAdvantage"),jl=c("on",Cl,a(e.weapon.refinement,xS)),DS=r(rn,Il,{premod:{all_dmg_:jl}}),TS={document:[{value:Cl,path:MS,header:o(rn,t("conditional")),name:ES("condName"),states:{on:{fields:[{node:jl}]}}}]},RS=new s(rn,TS,Il,DS),tt="BlackcliffPole",Fl=d.weapon.data[tt],[IS,Nl]=m(tt,"PressTheAdvantage"),Wl=u(1,3),CS=[-1,.12,.15,.18,.21,.24],Hl=i(p(Nl,$(Wl,n=>w(n)),0),a(e.weapon.refinement,CS)),jS=r(tt,Fl,{premod:{atk_:Hl}}),FS={document:[{value:Nl,path:IS,teamBuff:!0,header:o(tt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Wl.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Hl},{text:l("duration"),value:30,unit:"s"}]}]))}]},NS=new s(tt,FS,Fl,jS),I="CalamityQueller",Gl=d.weapon.data[I],[,ya]=g("weapon",I),[WS,Pa]=m(I,"stack"),[HS,Kl]=m(I,"offField"),GS=[-1,.12,.15,.18,.21,.24],KS=[-1,.032,.04,.048,.056,.064],Ll=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,GS)])),ql=i(Ra(Kl,"on",w(2,{name:ya("inactive")}),w(1,{name:ya("active")})),p(Pa,$(u(1,6),n=>w(n,{name:t("stacks")})),0),a(e.weapon.refinement,KS)),LS=r(I,Gl,{premod:{...Ll,atk_:ql}}),qS={document:[{header:o(I,t("base")),fields:Object.values(Ll).map(n=>({node:n}))},{value:Pa,path:WS,teamBuff:!0,header:o(I,t("stacks")),name:ya("effectName"),states:Object.fromEntries(u(1,6).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ql}]}]))},{canShow:M(Pa,void 0,1),value:Kl,path:HS,teamBuff:!0,header:o(I,t("conditional")),name:t("charOffField"),states:{on:{fields:[]}}}]},zS=new s(I,qS,Gl,LS),at="CrescentPike",zl=d.weapon.data[at],US=[-1,.2,.25,.3,.35,.4],Ul=c(e.weapon.key,at,y(i(e.total.atk,a(e.weapon.refinement,US,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),VS=r(at,zl,void 0,{hit:Ul}),JS={document:[{header:o(at,t("talents.passive")),fields:[{node:h(Ul,{name:t("dmg")})}]}]},QS=new s(at,JS,zl,VS),mn="Deathmatch",Vl=d.weapon.data[mn],[,XS]=g("weapon",mn),[YS,Po]=m(mn,"stack"),Jl=[-1,.16,.2,.24,.28,.32],ZS=[-1,.24,.3,.36,.42,.48],Sa=p(Po,{oneOrNone:a(e.weapon.refinement,ZS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Jl,{unit:"%"})},f),ba=c(Po,"moreThanOne",a(e.weapon.refinement,Jl,{unit:"%"})),e4=r(mn,Vl,{premod:{atk_:Sa,def_:ba}}),n4={document:[{value:Po,path:YS,teamBuff:!0,header:o(mn,t("conditional")),name:XS("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:Sa},{node:ba}]},moreThanOne:{name:"≥2",fields:[{node:Sa},{node:ba}]}}}]},t4=new s(mn,n4,Vl,e4),Jt="DialoguesOfTheDesertSages",Ql=d.weapon.data[Jt],a4=r(Jt,Ql),o4={document:[{header:o(Jt),fields:[]}]},s4=new s(Jt,o4,Ql,a4),ot="DragonsBane",Xl=d.weapon.data[ot],c4=[-1,.2,.24,.28,.32,.36],[d4,Yl]=m(ot,"BaneOfFlameAndWater"),Zl=c("on",Yl,a(e.weapon.refinement,c4)),r4=r(ot,Xl,{premod:{all_dmg_:Zl}}),i4={document:[{value:Yl,path:d4,header:o(ot,t("conditional")),name:t("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Zl}]}}}]},m4=new s(ot,i4,Xl,r4),U="DragonspineSpear",e0=d.weapon.data[U],l4=[-1,.8,.95,1.1,1.25,1.4],$4=[-1,2,2.4,2.8,3.2,3.6],n0=c(e.weapon.key,U,y(i(a(e.weapon.refinement,l4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),t0=c(e.weapon.key,U,y(i(a(e.weapon.refinement,$4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),p4=r(U,e0,void 0,{dmgAoe:n0,dmgOnCryoOp:t0}),h4={document:[{header:o(U,t("base")),fields:[{node:h(n0,{name:s.trm(U)("aoeDmg")})},{node:h(t0,{name:s.trm(U)("cryoAffectedDmg")})}]}]},u4=new s(U,h4,e0,p4),Pe="EngulfingLightning",a0=d.weapon.data[Pe],f4=[-1,.28,.35,.42,.49,.56],_4=[-1,.8,.9,1,1.1,1.2],Oa=c(e.weapon.key,Pe,oe(i(a(e.weapon.refinement,f4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,_4))),g4=[-1,.3,.35,.4,.45,.5,.55],[w4,o0]=m(Pe,"TimelessDream"),s0=c("on",o0,a(e.weapon.refinement,g4)),k4=r(Pe,a0,{premod:{atk_:Oa,enerRech_:s0}},{atk_:Oa}),v4={document:[{header:o(Pe,t("base")),fields:[{node:Oa}]},{teamBuff:!0,value:o0,path:w4,header:o(Pe,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:s0},{text:l("duration"),value:12,unit:"s"}]}}}]},y4=new s(Pe,v4,a0,k4),Qt="FavoniusLance",c0=d.weapon.data[Qt],P4=r(Qt,c0),S4={document:[{header:o(Qt),fields:[]}]},b4=new s(Qt,S4,c0,P4),st="Halberd",d0=d.weapon.data[st],O4=[-1,1.6,2,2.4,2.8,3.2],r0=c(e.weapon.key,st,y(i(a(e.weapon.refinement,O4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),B4=r(st,d0,void 0,{dmg:r0}),A4={document:[{header:o(st,t("base")),fields:[{node:h(r0,{name:t("dmg")})}]}]},E4=new s(st,A4,d0,B4),So="IronPoint",bo=d.weapon.data[So],x4=r(So,bo),M4={...bo,document:[]},D4=new s(So,M4,bo,x4),Xt="KitainCrossSpear",i0=d.weapon.data[Xt],T4=[-1,.06,.075,.09,.105,.12],m0=a(e.weapon.refinement,T4),R4=r(Xt,i0,{premod:{skill_dmg_:m0}}),I4={document:[{header:o(Xt,t("base")),fields:[{node:m0}]}]},C4=new s(Xt,I4,i0,R4),Yt="LithicSpear",l0=d.weapon.data[Yt],j4=[-1,.07,.08,.09,.1,.11],F4=[-1,.03,.04,.05,.06,.07],$0=i(a(e.weapon.refinement,j4,{unit:"%"}),x.liyue),p0=i(a(e.weapon.refinement,F4,{unit:"%"}),x.liyue),N4=r(Yt,l0,{premod:{atk_:$0,critRate_:p0}}),W4={document:[{header:o(Yt,t("stacks")),fields:[{node:$0},{node:p0}]}]},H4=new s(Yt,W4,l0,N4),ct="MissiveWindspear",h0=d.weapon.data[ct],[G4,Oo]=m(ct,"passive"),K4=[-1,.12,.15,.18,.21,.24],L4=[-1,48,60,72,84,96],u0=c(Oo,"on",a(e.weapon.refinement,K4,{unit:"%"})),f0=c(Oo,"on",a(e.weapon.refinement,L4)),q4=r(ct,h0,{premod:{atk_:u0,eleMas:f0}}),z4={document:[{value:Oo,path:G4,teamBuff:!0,header:o(ct,t("conditional")),name:t("afterReaction"),states:{on:{fields:[{node:u0},{node:f0},{text:l("duration"),value:10,unit:"s"}]}}}]},U4=new s(ct,z4,h0,q4),ln="Moonpiercer",_0=d.weapon.data[ln],[,V4]=g("weapon",ln),[J4,g0]=m(ln,"passive"),Q4=[-1,.16,.2,.24,.28,.32],w0=c(g0,"on",a(e.weapon.refinement,Q4,{unit:"%"})),X4=c(e.activeCharKey,A.charKey,w0),Y4=r(ln,_0,{teamBuff:{premod:{atk_:X4}}}),Z4={document:[{value:g0,path:J4,teamBuff:!0,header:o(ln,t("conditional")),name:V4("condName"),states:{on:{fields:[{node:h(w0,_.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},e5=new s(ln,Z4,_0,Y4),dt="PrimordialJadeWingedSpear",k0=d.weapon.data[dt],[n5,Bo]=m(dt,"stack"),t5=[-1,.032,.039,.046,.053,.06],a5=[-1,.12,.15,.18,.21,.24],v0=p(Bo,$(u(1,7),n=>i(a(e.weapon.refinement,t5,{unit:"%"}),n)),f),y0=c(Bo,"7",a(e.weapon.refinement,a5,{unit:"%"})),o5=r(dt,k0,{premod:{atk_:v0,all_dmg_:y0}}),s5={document:[{value:Bo,path:n5,teamBuff:!0,header:o(dt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,7).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:v0},{node:y0}]}]))}]},c5=new s(dt,s5,k0,o5),$n="ProspectorsDrill",P0=d.weapon.data[$n],[,d5]=g("weapon",$n),r5=[-1,.03,.04,.05,.06,.07],i5=[-1,.07,.085,.1,.115,.13],[m5,Ao]=m($n,"marksConsumed"),Eo=u(1,3),S0=p(Ao,$(Eo,n=>i(n,a(e.weapon.refinement,r5,{unit:"%"}))),f),l5=p(Ao,$(Eo,n=>i(n,a(e.weapon.refinement,i5,{unit:"%"}))),f),b0=$(v.map(n=>`${n}_dmg_`),()=>({...l5})),$5=r($n,P0,{premod:{atk_:S0,...b0}}),p5={document:[{value:Ao,path:m5,teamBuff:!0,header:o($n,t("stacks")),name:d5("condName"),states:$(Eo,n=>({name:`${n}`,fields:[{node:S0},...Object.values(b0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},h5=new s($n,p5,P0,$5),rt="PrototypeStarglitter",O0=d.weapon.data[rt],[u5,xo]=m(rt,"stack"),B0=[-1,.08,.1,.12,.14,.16],A0=p(xo,$(u(1,2),n=>i(a(e.weapon.refinement,B0,{unit:"%"}),n)),f),E0=p(xo,$(u(1,2),n=>i(a(e.weapon.refinement,B0,{unit:"%"}),n)),f),f5=r(rt,O0,{premod:{normal_dmg_:A0,charged_dmg_:E0}}),_5={document:[{value:xo,path:u5,header:o(rt,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:A0},{node:E0}]}]))}]},g5=new s(rt,_5,O0,f5),Zt="RightfulReward",x0=d.weapon.data[Zt],w5=r(Zt,x0),k5={document:[{header:o(Zt),fields:[]}]},v5=new s(Zt,k5,x0,w5),it="RoyalSpear",M0=d.weapon.data[it],[y5,D0]=m(it,"stack"),P5=[-1,.08,.1,.12,.14,.16],T0=p(D0,$(u(1,5),n=>i(a(e.weapon.refinement,P5,{unit:"%"}),n)),f),S5=r(it,M0,{premod:{critRate_:T0}}),b5={document:[{value:D0,path:y5,teamBuff:!0,header:o(it,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:T0}]}]))}]},O5=new s(it,b5,M0,S5),mt="SkywardSpine",R0=d.weapon.data[mt],B5=[-1,.08,.1,.12,.14,.16],A5=[-1,.4,.55,.7,.85,1],I0=S(.12),C0=a(e.weapon.refinement,B5),j0=c(e.weapon.key,mt,y(i(a(e.weapon.refinement,A5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),E5=r(mt,R0,{premod:{critRate_:C0,atkSPD_:I0}},{dmg:j0}),x5={document:[{header:o(mt,t("base")),fields:[{node:C0},{node:I0},{node:h(j0,{name:t("dmg")})}]}]},M5=new s(mt,x5,R0,E5),Se="StaffOfHoma",F0=d.weapon.data[Se],D5=[-1,.2,.25,.3,.35,.4],T5=[-1,.008,.01,.012,.014,.016],R5=[-1,.01,.012,.014,.016,.018],N0=a(e.weapon.refinement,D5,{unit:"%"}),[I5,W0]=m(Se,"RecklessCinnabar"),H0=i(a(e.weapon.refinement,T5,{unit:"%"}),e.premod.hp),Ba=c(e.weapon.key,Se,c("on",W0,i(a(e.weapon.refinement,R5,{unit:"%"}),e.premod.hp),_.info("atk"))),C5=r(Se,F0,{premod:{hp_:N0},total:{atk:P(H0,Ba)}},{atk2_:Ba}),j5={document:[{header:o(Se,t("base")),fields:[{node:N0},{node:h(H0,_.info("atk"))}]},{value:W0,path:I5,teamBuff:!0,header:o(Se),name:t("lessPercentHP",{percent:50}),states:{on:{fields:[{node:h(Ba,_.info("atk"))}]}}}]},F5=new s(Se,j5,F0,C5),Z="StaffOfTheScarletSands",G0=d.weapon.data[Z],[N5,K0]=m(Z,"stacks"),W5=[-1,.52,.65,.78,.91,1.04],H5=[-1,.28,.35,.42,.49,.56],L0=b(1,3),q0=c(e.weapon.key,Z,i(a(e.weapon.refinement,W5,{unit:"%"}),e.premod.eleMas),_.info("atk")),z0=p(K0,Object.fromEntries(L0.map(n=>[n,i(n,a(e.weapon.refinement,H5,{unit:"%"}),e.premod.eleMas)])),f,_.info("atk")),Yo=c(e.weapon.key,Z,P(q0,z0)),G5=r(Z,G0,{total:{atk:Yo}},{atk:Yo}),K5={document:[{header:o(Z,t("base")),fields:[{node:q0}]},{value:K0,path:N5,header:o(Z,t("stacks")),name:t("hitOp.skill"),states:Object.fromEntries(L0.map(n=>[n,{name:t("hits",{count:n}),fields:[{node:z0},{text:l("duration"),value:10,unit:"s"}]}]))}]},L5=new s(Z,K5,G0,G5),ea="TheCatch",U0=d.weapon.data[ea],q5=[-1,.16,.2,.24,.28,.32],z5=[-1,.06,.075,.09,.105,.12],V0=a(e.weapon.refinement,q5),J0=a(e.weapon.refinement,z5),U5=r(ea,U0,{premod:{burst_dmg_:V0,burst_critRate_:J0}}),V5={document:[{header:o(ea,t("base")),fields:[{node:V0},{node:J0}]}]},J5=new s(ea,V5,U0,U5),C="VortexVanquisher",Q0=d.weapon.data[C],[,Q5]=g("weapon",C),X5=[-1,.2,.25,.3,.35,.4],Y5=[-1,.04,.05,.06,.07,.08],[Z5,X0]=m(C,"GoldenMajesty"),Y0=a(e.weapon.refinement,X5),[eb,Z0]=m(C,"WithShield"),nb=a(e.weapon.refinement,Y5),e$=i(P(1,c(Z0,"protected",1)),p(X0,Object.fromEntries(b(1,5).map(n=>[n,i(nb,n)])),f)),tb=r(C,Q0,{premod:{shield_:Y0,atk_:e$}}),ab={document:[{header:o(C,t("base")),fields:[{node:Y0}]},{value:X0,path:Z5,teamBuff:!0,header:o(C,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:e$},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Z0,path:eb,header:o(C,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Q5("atkEffInc"),value:100,unit:"%"}]}}}]},ob=new s(C,ab,Q0,tb),pn="WavebreakersFin",n$=d.weapon.data[pn],[,sb]=g("weapon",pn),[cb,t$]=m(pn,"WatatsumiWavewalker"),a$=b(4,36).map(n=>n*10),db=[-1,.0012,.0015,.0018,.0021,.0024],rb=[-1,.4,.5,.6,.7,.8],o$=p(t$,Object.fromEntries(a$.map(n=>[n,oe(i(a(e.weapon.refinement,db,{unit:"%"}),n),a(e.weapon.refinement,rb,{unit:"%"}))])),f),ib=r(pn,n$,{premod:{burst_dmg_:o$}}),mb={document:[{value:t$,path:cb,header:o(pn),name:sb("party"),states:Object.fromEntries(a$.map(n=>[n,{name:n.toString(),fields:[{node:o$}]}]))}]},lb=new s(pn,mb,n$,ib),na="WhiteTassel",s$=d.weapon.data[na],$b=[-1,.24,.3,.36,.42,.48],c$=a(e.weapon.refinement,$b),pb=r(na,s$,{premod:{normal_dmg_:c$}}),hb={document:[{header:o(na,t("base")),fields:[{node:c$}]}]},ub=new s(na,hb,s$,pb),fb={BalladOfTheFjords:bS,BeginnersProtector:AS,BlackcliffPole:NS,BlackTassel:RS,CalamityQueller:zS,CrescentPike:QS,Deathmatch:t4,DialoguesOfTheDesertSages:s4,DragonsBane:m4,DragonspineSpear:u4,EngulfingLightning:y4,FavoniusLance:b4,Halberd:E4,IronPoint:D4,KitainCrossSpear:C4,LithicSpear:H4,MissiveWindspear:U4,Moonpiercer:e5,PrimordialJadeWingedSpear:c5,ProspectorsDrill:h5,PrototypeStarglitter:g5,RightfulReward:v5,RoyalSpear:O5,SkywardSpine:M5,StaffOfHoma:F5,StaffOfTheScarletSands:L5,TheCatch:J5,VortexVanquisher:ob,WavebreakersFin:lb,WhiteTassel:ub},ta="AmenomaKageuchi",d$=d.weapon.data[ta],_b=r(ta,d$),gb={document:[{header:o(ta),fields:[]}]},wb=new s(ta,gb,d$,_b),ee="AquilaFavonia",Mo=d.weapon.data[ee],kb=[-1,2,2.3,2.6,2.9,3.2],vb=[-1,1,1.15,1.3,1.45,1.6],r$=Mo.refinementBonus.atk_;if(!r$)throw new Error(`data_gen.refinementBonus.atk_ for ${ee} was undefined`);const i$=a(e.weapon.refinement,r$),m$=c(e.weapon.key,ee,i(a(e.weapon.refinement,vb,{unit:"%"}),e.premod.atk)),l$=c(e.weapon.key,ee,y(i(a(e.weapon.refinement,kb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),yb=r(ee,Mo,{premod:{atk_:i$}},{heal:m$,dmg:l$}),Pb={document:[{header:o(ee,t("base")),fields:[{node:i$}]},{header:o(ee,t("base")),fields:[{node:h(m$,{name:l("healing"),variant:"heal"})},{node:h(l$,{name:t("dmg")})}]}]},Sb=new s(ee,Pb,Mo,yb),lt="BlackcliffLongsword",$$=d.weapon.data[lt],[bb,p$]=m(lt,"PressTheAdvantage"),h$=u(1,3),Ob=[-1,.12,.15,.18,.21,.24],u$=i(p(p$,$(h$,n=>w(n)),0),a(e.weapon.refinement,Ob)),Bb=r(lt,$$,{premod:{atk_:u$}}),Ab={document:[{value:p$,path:bb,header:o(lt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(h$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:u$},{text:l("duration"),value:30,unit:"s"}]}]))}]},Eb=new s(lt,Ab,$$,Bb),Te="CinnabarSpindle",f$=d.weapon.data[Te],[,xb]=g("weapon",Te),Mb=[-1,.4,.5,.6,.7,.8],[Db,_$]=m(Te,"SpotlessHeart"),Aa=c(e.weapon.key,Te,c("on",_$,i(a(e.weapon.refinement,Mb,{unit:"%"}),e.premod.def))),Tb=r(Te,f$,{premod:{skill_dmgInc:Aa}},{skill_dmgInc:Aa}),Rb={document:[{value:_$,path:Db,header:o(Te,t("conditional")),name:xb("name"),states:{on:{fields:[{node:Aa}]}}}]},Ib=new s(Te,Rb,f$,Tb),$t="CoolSteel",g$=d.weapon.data[$t],Cb=[-1,.12,.15,.18,.21,.24],[jb,w$]=m($t,"BaneOfWaterAndIce"),k$=c("on",w$,a(e.weapon.refinement,Cb)),Fb=r($t,g$,{premod:{all_dmg_:k$}}),Nb={document:[{value:w$,path:jb,name:t("enemyAffected.hydroOrCryo"),header:o($t,t("conditional")),states:{on:{fields:[{node:k$}]}}}]},Wb=new s($t,Nb,g$,Fb),pt="DarkIronSword",v$=d.weapon.data[pt],Hb=[-1,.2,.25,.3,.35,.5],[Gb,y$]=m(pt,"Overloaded"),P$=c("on",y$,a(e.weapon.refinement,Hb,{unit:"%"})),Kb=r(pt,v$,{premod:{atk_:P$}}),Lb={document:[{value:y$,path:Gb,name:t("elementalReaction.electro"),header:o(pt,t("conditional")),states:{on:{fields:[{node:P$},{text:l("duration"),value:12,unit:"s"}]}}}]},qb=new s(pt,Lb,v$,Kb),Do="DullBlade",To=d.weapon.data[Do],zb=r(Do,To),Ub={...To,document:[]},Vb=new s(Do,Ub,To,zb),aa="FavoniusSword",S$=d.weapon.data[aa],Jb=r(aa,S$),Qb={document:[{header:o(aa),fields:[]}]},Xb=new s(aa,Qb,S$,Jb),oa="FesteringDesire",b$=d.weapon.data[oa],Yb=[-1,.16,.2,.24,.28,.32],Zb=[-1,.06,.075,.09,.105,.12],O$=a(e.weapon.refinement,Yb,{unit:"%"}),B$=a(e.weapon.refinement,Zb,{unit:"%"}),e3=r(oa,b$,{premod:{skill_dmg_:O$,skill_critRate_:B$}}),n3={document:[{header:o(oa,t("base")),fields:[{node:O$},{node:B$}]}]},t3=new s(oa,n3,b$,e3),ht="FilletBlade",A$=d.weapon.data[ht],a3=[-1,2.4,2.8,3.2,3.6,4],o3=[-1,15,14,13,12,11],E$=c(e.weapon.key,ht,y(i(a(e.weapon.refinement,a3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),s3=r(ht,A$,void 0,{dmg_:E$}),c3={document:[{header:o(ht,t("base")),fields:[{node:h(E$,{name:t("dmg")})},{text:l("cd"),value:n=>o3[n.get(e.weapon.refinement).value],unit:"s"}]}]},d3=new s(ht,c3,A$,s3),H="FinaleOfTheDeep",x$=d.weapon.data[H],[,r3]=g("weapon",H),i3=[-1,.12,.15,.18,.21,.24],m3=[-1,.024,.03,.036,.042,.048],l3=[-1,150,187.5,225,262.5,300],[$3,M$]=m(H,"afterSkill"),D$=c(M$,"on",a(e.weapon.refinement,i3)),p3=i(S(.25),e.total.hp),[h3,T$]=m(H,"bond"),Ea=c(e.weapon.key,H,c(T$,"on",oe(i(p3,a(e.weapon.refinement,m3,{unit:"%"})),a(e.weapon.refinement,l3,{unit:"%"})))),u3=r(H,x$,{premod:{atk_:D$,atk:Ea}},{bond_atk:Ea}),f3={document:[{header:o(H,t("conditional")),path:$3,value:M$,name:t("hitOp.skill"),states:{on:{fields:[{node:D$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(H,t("conditional")),path:h3,value:T$,name:r3("bondCondName"),states:{on:{fields:[{node:Ea},{text:l("duration"),value:15,unit:"s"}]}}}]},_3=new s(H,f3,x$,u3),He="FleuveCendreFerryman",R$=d.weapon.data[He],g3=[-1,.08,.1,.12,.14,.16],w3=[-1,.16,.2,.24,.28,.32],I$=a(e.weapon.refinement,g3),[k3,C$]=m(He,"afterSkill"),j$=c(C$,"on",a(e.weapon.refinement,w3)),v3=r(He,R$,{premod:{skill_critRate_:I$,enerRech_:j$}}),y3={document:[{header:o(He,t("base")),fields:[{node:I$}]},{header:o(He,t("conditional")),value:C$,path:k3,name:t("afterUse.skill"),states:{on:{fields:[{node:j$},{text:l("duration"),value:5,unit:"s"}]}}}]},P3=new s(He,y3,R$,v3),ne="FreedomSworn",Ro=d.weapon.data[ne],[,S3]=g("weapon",ne),[b3,Io]=m(ne,"MillennialMovement"),O3=[-1,.16,.2,.24,.28,.32],B3=[-1,.2,.25,.3,.35,.4],F$=Ro.refinementBonus.dmg_;if(!F$)throw new Error(`data_gen.refinementBonus.dmg_ for ${ne} was undefined`);const N$=a(e.weapon.refinement,F$),W$=c("on",Io,a(e.weapon.refinement,B3)),sa=c("on",Io,a(e.weapon.refinement,O3)),H$={...sa},G$={...sa},A3=r(ne,Ro,{premod:{all_dmg_:N$},teamBuff:{premod:{atk_:W$,normal_dmg_:sa,charged_dmg_:H$,plunging_dmg_:G$}}}),E3={document:[{header:o(ne,t("base")),fields:[{node:N$}]},{value:Io,path:b3,teamBuff:!0,header:o(ne,t("conditional")),name:S3("sigilsConsumed"),states:{on:{fields:[{node:W$},{node:sa},{node:H$},{node:G$},{text:l("duration"),value:12,unit:"s"}]}}}]},x3=new s(ne,E3,Ro,A3),be="HaranGeppakuFutsu",K$=d.weapon.data[be],[,M3]=g("weapon",be),D3=[-1,.12,.15,.18,.21,.24],T3=[-1,.2,.25,.3,.35,.4],[R3,L$]=m(be,"HonedFlow"),q$=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,D3,_.info(`${n}_dmg_`))])),z$=p(L$,$(u(1,2),n=>i(n,a(e.weapon.refinement,T3))),f),I3=r(be,K$,{premod:{...q$,normal_dmg_:z$}}),C3={document:[{header:o(be,t("base")),fields:[...v.map(n=>({node:q$[`${n}_dmg_`]}))]},{value:L$,path:R3,name:M3("consumed"),header:o(be,t("conditional")),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[{node:z$}]}))}]},j3=new s(be,C3,K$,I3),ut="HarbingerOfDawn",U$=d.weapon.data[ut],[F3,V$]=m(ut,"SkyPiercingMight"),N3=[-1,.14,.175,.21,.245,.28],J$=c("on",V$,a(e.weapon.refinement,N3)),W3=r(ut,U$,{premod:{critRate_:J$}}),H3={document:[{value:V$,path:F3,header:o(ut,t("conditional")),name:t("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:J$}]}}}]},G3=new s(ut,H3,U$,W3),ft="IronSting",Q$=d.weapon.data[ft],[K3,X$]=m(ft,"InfusionStinger"),Y$=u(1,2),L3=[-1,.06,.075,.09,.105,.12],Z$=i(p(X$,$(Y$,n=>w(n)),f),a(e.weapon.refinement,L3)),q3=r(ft,Q$,{premod:{all_dmg_:Z$}}),z3={document:[{value:X$,path:K3,header:o(ft,t("stacks")),name:t("hitOp.ele"),states:Object.fromEntries(Y$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Z$},{text:l("duration"),value:6,unit:"s"}]}]))}]},U3=new s(ft,z3,Q$,q3),Oe="KagotsurubeIsshin",ep=d.weapon.data[Oe],[V3,np]=m(Oe,"passive"),tp=c(np,"on",S(.15)),ap=c(e.weapon.key,Oe,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),J3=r(Oe,ep,{premod:{atk_:tp}},{dmg:ap}),Q3={document:[{header:o(Oe,t("base")),fields:[{node:h(ap,{name:t("dmg")})}]},{header:o(Oe,t("conditional")),value:np,path:V3,name:t("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:tp},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},X3=new s(Oe,Q3,ep,J3),E="KeyOfKhajNisut",op=d.weapon.data[E],Y3=[-1,.0012,.0015,.0018,.0021,.0024],Z3=[-1,.002,.0025,.003,.0035,.004],sp=b(1,3),eO=[-1,.2,.25,.3,.35,.4],cp=c(e.weapon.key,E,a(e.weapon.refinement,eO,{unit:"%"})),[nO,xt]=m(E,"afterSkill"),xa=c(e.weapon.key,E,p(xt,Object.fromEntries(sp.map(n=>[n,i(n,a(e.weapon.refinement,Y3,{unit:"%",fixed:2}),e.total.hp)])),f)),Ma=c(e.weapon.key,E,c(xt,"3",i(a(e.weapon.refinement,Z3,{unit:"%",fixed:2}),e.total.hp))),tO=r(E,op,{premod:{hp_:cp},total:{eleMas:xa},teamBuff:{total:{eleMas:Ma}}},{selfEleMas:xa,teamEleMas:Ma}),aO={document:[{header:o(E,t("base")),fields:[{node:cp}]},{header:o(E,t("stacks")),teamBuff:!0,path:nO,value:xt,name:t("hitOp.skill"),states:Object.fromEntries(sp.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xa},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,t("teamBuff")),canShow:c(xt,"3",1),teamBuff:!0,fields:[{node:Ma},{text:l("duration"),value:20,unit:"s"}]}]},oO=new s(E,aO,op,tO),te="LightOfFoliarIncision",dp=d.weapon.data[te],sO=[-1,.04,.05,.06,.07,.08],rp=c(e.weapon.key,te,a(e.weapon.refinement,sO)),[cO,ip]=m(te,"afterNormalEle"),dO=[-1,1.2,1.5,1.8,2.1,2.4],Mt=c(e.weapon.key,te,c(ip,"on",i(a(e.weapon.refinement,dO,{unit:"%"}),e.total.eleMas))),Da={...Mt},rO=r(te,dp,{premod:{normal_dmgInc:Mt,skill_dmgInc:Da,critRate_:rp}},{normal_dmgInc:Mt,skill_dmgInc:Da}),iO={document:[{header:o(te,t("base")),fields:[{node:rp}]},{header:o(te,t("conditional")),path:cO,value:ip,name:t("hitOp.normalEle"),states:{on:{fields:[{node:Mt},{node:Da},{text:t("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},mO=new s(te,iO,dp,rO),_t="LionsRoar",mp=d.weapon.data[_t],[lO,lp]=m(_t,"BaneOfFireAndThunder"),$O=[-1,.2,.24,.28,.32,.36],$p=c("on",lp,a(e.weapon.refinement,$O)),pO=r(_t,mp,{premod:{all_dmg_:$p}}),hO={document:[{value:lp,path:lO,header:o(_t,t("conditional")),name:t("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:$p}]}}}]},uO=new s(_t,hO,mp,pO),Be="MistsplitterReforged",pp=d.weapon.data[Be],[,fO]=g("weapon",Be),hp=["1","2","3"],_O=[-1,.12,.15,.18,.21,.24],gO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[wO,up]=m(Be,"MistsplittersEmblem"),fp=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,_O,_.info(`${n}_dmg_`))])),_p=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,p(up,$(hp,k=>a(e.weapon.refinement,gO[k])),f,_.info(`${n}_dmg_`)))])),kO=Object.fromEntries(v.map(n=>[`${n}_dmg_`,P(fp[`${n}_dmg_`],_p[`${n}_dmg_`])])),vO=r(Be,pp,{premod:{...kO}}),yO={document:[{header:o(Be,t("base")),fields:v.map(n=>({node:fp[`${n}_dmg_`]}))},{value:up,path:wO,name:fO("emblem"),teamBuff:!0,header:o(Be,t("stacks")),states:Object.fromEntries(hp.map(n=>[n,{name:t("stack",{count:parseInt(n)}),fields:v.map(k=>({node:_p[`${k}_dmg_`]}))}]))}]},PO=new s(Be,yO,pp,vO),gt="PrimordialJadeCutter",gp=d.weapon.data[gt],SO=[-1,.2,.25,.3,.35,.4],bO=[-1,.012,.015,.018,.021,.024],wp=a(e.weapon.refinement,SO),Ta=c(e.weapon.key,gt,i(a(e.weapon.refinement,bO,{unit:"%"}),e.premod.hp)),OO=r(gt,gp,{premod:{hp_:wp},total:{atk:Ta}},{atk:Ta}),BO={document:[{header:o(gt,t("base")),fields:[{node:wp},{node:Ta}]}]},AO=new s(gt,BO,gp,OO),wt="PrototypeRancour",kp=d.weapon.data[wt],[EO,Co]=m(wt,"stack"),vp=[-1,.04,.05,.06,.07,.08],yp=p(Co,$(u(1,4),n=>i(a(e.weapon.refinement,vp,{unit:"%"}),n)),f),Pp=p(Co,$(u(1,4),n=>i(a(e.weapon.refinement,vp,{unit:"%"}),n)),f),xO=r(wt,kp,{premod:{atk_:yp,def_:Pp}}),MO={document:[{value:Co,path:EO,header:o(wt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:yp},{node:Pp},{text:l("duration"),value:6,unit:"s"}]}]))}]},DO=new s(wt,MO,kp,xO),kt="RoyalLongsword",Sp=d.weapon.data[kt],[TO,bp]=m(kt,"stack"),RO=[-1,.08,.1,.12,.14,.16],Op=p(bp,$(u(1,5),n=>i(a(e.weapon.refinement,RO,{unit:"%"}),n)),f),IO=r(kt,Sp,{premod:{critRate_:Op}}),CO={document:[{value:bp,path:TO,header:o(kt,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Op}]}]))}]},jO=new s(kt,CO,Sp,IO),ca="SacrificialSword",Bp=d.weapon.data[ca],FO=r(ca,Bp),NO={document:[{header:o(ca),fields:[]}]},WO=new s(ca,NO,Bp,FO),hn="SapwoodBlade",Ap=d.weapon.data[hn],[,HO]=g("weapon",hn),[GO,Ep]=m(hn,"passive"),KO=[-1,60,75,90,105,120],xp=c(Ep,"on",a(e.weapon.refinement,KO)),LO=c(e.activeCharKey,A.charKey,xp),qO=r(hn,Ap,{teamBuff:{premod:{eleMas:LO}}}),zO={document:[{value:Ep,path:GO,teamBuff:!0,header:o(hn,t("conditional")),name:HO("condName"),states:{on:{fields:[{node:h(xp,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},UO=new s(hn,zO,Ap,qO),jo="SilverSword",Fo=d.weapon.data[jo],VO=r(jo,Fo),JO={...Fo,document:[]},QO=new s(jo,JO,Fo,VO),vt="SkyriderSword",Mp=d.weapon.data[vt],[XO,No]=m(vt,"Determination"),Dp=[-1,.12,.15,.18,.21,.24],Tp=c(No,"on",a(e.weapon.refinement,Dp,{unit:"%"})),Rp=c(No,"on",a(e.weapon.refinement,Dp,{unit:"%"})),YO=r(vt,Mp,{premod:{atk_:Tp,moveSPD_:Rp}}),ZO={document:[{value:No,path:XO,header:o(vt,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Tp},{node:Rp},{text:l("duration"),value:15,unit:"s"}]}}}]},e6=new s(vt,ZO,Mp,YO),ae="SkywardBlade",Wo=d.weapon.data[ae],[n6,da]=m(ae,"SkyPiercingMight"),t6=[-1,.2,.25,.3,.35,.4],Ip=c("on",da,S(.1)),Cp=c("on",da,S(.1)),jp=c(e.weapon.key,ae,c("on",da,y(i(a(e.weapon.refinement,t6,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),Fp=Wo.refinementBonus.critRate_;if(!Fp)throw new Error(`data_gen.refinementBonus.critRate_ for ${ae} was undefined`);const Np=a(e.weapon.refinement,Fp),a6=r(ae,Wo,{premod:{critRate_:Np,moveSPD_:Ip,atkSPD_:Cp}},{dmg:jp}),o6={document:[{header:o(ae,t("base")),fields:[{node:Np}]},{value:da,path:n6,header:o(ae,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Ip},{node:Cp},{node:h(jp,{name:t("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},s6=new s(ae,o6,Wo,a6),Ae="SplendorOfTranquilWaters",Wp=d.weapon.data[Ae],c6=[-1,.08,.1,.12,.14,.16],d6=[-1,.14,.175,.21,.245,.28],[r6,Hp]=m(Ae,"selfHpChange"),Gp=u(1,3),Kp=p(Hp,$(Gp,n=>i(n,a(e.weapon.refinement,c6,{unit:"%"}))),f),[i6,Lp]=m(Ae,"teamHpChange"),qp=u(1,2),zp=p(Lp,$(qp,n=>i(n,a(e.weapon.refinement,d6,{unit:"%"}))),f),m6=r(Ae,Wp,{premod:{hp_:zp,skill_dmg_:Kp}}),l6={document:[{value:Hp,path:r6,header:o(Ae,t("stacks")),name:t("hpChange"),states:$(Gp,n=>({name:t("times",{count:n}),fields:[{node:Kp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Lp,path:i6,header:o(Ae,t("stacks")),name:t("otherHpChange"),states:$(qp,n=>({name:t("times",{count:n}),fields:[{node:zp},{text:l("duration"),value:6,unit:"s"}]}))}]},$6=new s(Ae,l6,Wp,m6),j="SummitShaper",Up=d.weapon.data[j],[,p6]=g("weapon",j),[h6,Vp]=m(j,"GoldenMajesty"),[u6,Jp]=m(j,"WithShield"),f6=[-1,.2,.25,.3,.35,.4],_6=[-1,.04,.05,.06,.07,.08],Qp=a(e.weapon.refinement,f6),g6=a(e.weapon.refinement,_6),Xp=i(P(1,c(Jp,"protected",1)),p(Vp,Object.fromEntries(b(1,5).map(n=>[n,i(g6,n)])),f)),w6=r(j,Up,{premod:{shield_:Qp,atk_:Xp}}),k6={document:[{header:o(j,t("base")),fields:[{node:Qp}]},{value:Vp,path:h6,header:o(j,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Xp},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Jp,path:u6,header:o(j,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:p6("atkEffInc"),value:100,unit:"%"}]}}}]},v6=new s(j,k6,Up,w6),yt="SwordOfDescension",Yp=d.weapon.data[yt],Zp=p(e.charKey,$(Wh,n=>w(66)),f),eh=c(e.weapon.key,yt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),y6=r(yt,Yp,{premod:{atk:Zp}},{dmg_:eh}),P6={document:[{header:o(yt,t("base")),fields:[{node:Zp},{node:h(eh,{name:t("dmg")})}]}]},S6=new s(yt,P6,Yp,y6),Pt="SwordOfNarzissenkreuz",nh=d.weapon.data[Pt],b6=[-1,1.6,2,2.4,2.8,3.2],th=c(e.weapon.key,Pt,y(i(a(e.weapon.refinement,b6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),O6=r(Pt,nh,void 0,{dmg:th}),B6={document:[{header:o(Pt,t("dmg")),fields:[{node:h(th,{name:t("dmg")})}]}]},A6=new s(Pt,B6,nh,O6),un="TheAlleyFlash",ah=d.weapon.data[un],[,E6]=g("weapon",un),[x6,oh]=m(un,"ItinerantHero"),M6=[-1,.12,.15,.18,.21,.24],sh=c(oh,"on",a(e.weapon.refinement,M6,{unit:"%"})),D6=r(un,ah,{premod:{all_dmg_:sh}}),T6={document:[{value:oh,path:x6,header:o(un,t("conditional")),name:E6("condName"),states:{on:{fields:[{node:sh}]}}}]},R6=new s(un,T6,ah,D6),St="TheBlackSword",ch=d.weapon.data[St],dh=[-1,.2,.25,.3,.35,.4],I6=[-1,.6,.7,.8,.9,1],rh=a(e.weapon.refinement,dh),ih=a(e.weapon.refinement,dh),mh=c(e.weapon.key,St,Ke(i(a(e.weapon.refinement,I6,{unit:"%"}),e.total.atk))),C6=r(St,ch,{premod:{normal_dmg_:rh,charged_dmg_:ih}},{heal:mh}),j6={document:[{header:o(St,t("base")),fields:[{node:rh},{node:ih},{node:h(mh,{name:l("healing"),variant:"heal"})}]}]},F6=new s(St,j6,ch,C6),fn="TheDockhandsAssistant",lh=d.weapon.data[fn],[,N6]=g("weapon",fn),W6=[-1,40,50,60,70,80],[H6,$h]=m(fn,"symbolsConsumed"),ph=u(1,3),hh=p($h,$(ph,n=>i(n,a(e.weapon.refinement,W6,{unit:"%"}))),f),G6=r(fn,lh,{premod:{eleMas:hh}}),K6={document:[{value:$h,path:H6,teamBuff:!0,header:o(fn,t("stacks")),name:N6("condName"),states:$(ph,n=>({name:`${n}`,fields:[{node:hh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},L6=new s(fn,K6,lh,G6),bt="TheFlute",uh=d.weapon.data[bt],fh=c(e.weapon.key,bt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),q6=r(bt,uh,void 0,{dmg_:fh}),z6={document:[{header:o(bt,t("base")),fields:[{node:h(fh,{name:t("dmg")})}]}]},U6=new s(bt,z6,uh,q6),Re="ToukabouShigure",_h=d.weapon.data[Re],[,V6]=g("weapon",Re),[J6,gh]=m(Re,"passive"),Q6=[-1,.16,.2,.24,.28,.32],wh=c(e.weapon.key,Re,c(gh,"on",a(e.weapon.refinement,Q6,{unit:"%"}))),X6=r(Re,_h,{premod:{all_dmg_:wh}}),Y6={document:[{value:gh,path:J6,header:o(Re,t("stacks")),name:V6("condName"),states:{on:{fields:[{node:wh},{text:l("duration"),value:10,unit:"s"}]}}}]},Z6=new s(Re,Y6,_h,X6),Ot="TravelersHandySword",kh=d.weapon.data[Ot],e8=[-1,.01,.0125,.015,.0175,.02],vh=c(e.weapon.key,Ot,Ke(i(a(e.weapon.refinement,e8,{unit:"%"}),e.total.hp))),n8=r(Ot,kh,void 0,{heal:vh}),t8={document:[{header:o(Ot,t("base")),fields:[{node:h(vh,{name:l("healing"),variant:"heal"})}]}]},a8=new s(Ot,t8,kh,n8),Ge="UrakuMisugiri",yh=d.weapon.data[Ge],o8=[-1,.16,.2,.24,.28,.32],s8=[-1,.24,.3,.36,.42,.48],c8=[-1,.2,.25,.3,.35,.4],Ho=a(e.weapon.refinement,o8),Go=a(e.weapon.refinement,s8),[d8,Ko]=m(Ge,"teamGeo"),Ph=1,Sh=c(Ko,"on",i(S(Ph),Ho)),bh=c(Ko,"on",i(S(Ph),Go)),Oh=a(e.weapon.refinement,c8),r8=r(Ge,yh,{premod:{normal_dmg_:P(Ho,Sh),skill_dmg_:P(Go,bh),def_:Oh}}),i8={document:[{header:o(Ge,t("base")),fields:[{node:Oh},{node:h(Ho,_.info("normal_dmg_"))},{node:h(Go,_.info("skill_dmg_"))}]},{value:Ko,path:d8,header:o(Ge,t("conditional")),name:t("teamHitOp.geo"),states:{on:{fields:[{node:h(Sh,_.info("normal_dmg_"))},{node:h(bh,_.info("skill_dmg_"))},{text:l("duration"),value:15,unit:"s"}]}}}]},m8=new s(Ge,i8,yh,r8),V="WolfFang",Bh=d.weapon.data[V],l8=[-1,.16,.2,.24,.28,.32],Ah=[-1,.02,.025,.03,.035,.04],Dt=u(1,4),Lo=a(e.weapon.refinement,l8),Eh={...Lo},[$8,xh]=m(V,"skillStacks"),Mh=i(a(e.weapon.refinement,Ah),p(xh,$(Dt,n=>w(n)),f)),[p8,Dh]=m(V,"burstStacks"),Th=i(a(e.weapon.refinement,Ah),p(Dh,$(Dt,n=>w(n)),f)),h8=r(V,Bh,{premod:{skill_dmg_:Lo,burst_dmg_:Eh,skill_critRate_:Mh,burst_critRate_:Th}}),u8={document:[{header:o(V,t("base")),fields:[{node:Lo},{node:Eh}]},{header:o(V,t("conditional")),value:xh,path:$8,name:t("hitOp.skill"),states:$(Dt,n=>({name:t("stack",{count:n}),fields:[{node:Mh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(V,t("conditional")),value:Dh,path:p8,name:t("hitOp.burst"),states:$(Dt,n=>({name:t("stack",{count:n}),fields:[{node:Th},{text:l("duration"),value:10,unit:"s"}]}))}]},f8=new s(V,u8,Bh,h8),Ee="XiphosMoonlight",Rh=d.weapon.data[Ee],_8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Tt=c(e.weapon.key,Ee,i(a(e.weapon.refinement,_8,{unit:"%",fixed:3}),e.premod.eleMas)),qo=c(e.weapon.key,Ee,i(S(.3),Tt)),g8=M(e.activeCharKey,e.charKey,qo),w8=r(Ee,Rh,{total:{enerRech_:Tt},teamBuff:{total:{enerRech_:g8}}},{selfEnerRech_:Tt,teamEnerRech_disp:qo}),k8={document:[{header:o(Ee,t("base")),fields:[{node:Tt}]},{header:o(Ee,t("teamBuff")),teamBuff:!0,fields:[{node:h(qo,{..._.info("enerRech_"),isTeamBuff:!0})}]}]},v8=new s(Ee,k8,Rh,w8),y8={AmenomaKageuchi:wb,AquilaFavonia:Sb,BlackcliffLongsword:Eb,CinnabarSpindle:Ib,CoolSteel:Wb,DarkIronSword:qb,DullBlade:Vb,FavoniusSword:Xb,FesteringDesire:t3,FilletBlade:d3,FinaleOfTheDeep:_3,FleuveCendreFerryman:P3,FreedomSworn:x3,HaranGeppakuFutsu:j3,HarbingerOfDawn:G3,IronSting:U3,KagotsurubeIsshin:X3,KeyOfKhajNisut:oO,LightOfFoliarIncision:mO,LionsRoar:uO,MistsplitterReforged:PO,PrimordialJadeCutter:AO,PrototypeRancour:DO,RoyalLongsword:jO,SacrificialSword:WO,SapwoodBlade:UO,SilverSword:QO,SkyriderSword:e6,SkywardBlade:s6,SplendorOfTranquilWaters:$6,SummitShaper:v6,SwordOfDescension:S6,SwordOfNarzissenkreuz:A6,TheAlleyFlash:R6,TheBlackSword:F6,TheDockhandsAssistant:L6,TheFlute:U6,ToukabouShigure:Z6,TravelersHandySword:a8,UrakuMisugiri:m8,WolfFang:f8,XiphosMoonlight:v8},Ih={...y8,...vS,...fb,...E_,...G2},P8=Object.fromEntries(Hh.map(n=>[n,Zo(Object.values(Ih).filter(k=>k.weaponType===n).map(k=>({display:k.data.display})))]));function A8(n){return Ih[n]}export{s as W,A8 as g};
