import{b as $,at as Pt,as as Ft,au as Me,aW as X,av as ee,e as c,aw as Kt,ax as qt,cd as St,ay as Ze,j as G,az as Ht,p as e,ce as Fa,cf as Ka,cg as qa,bC as Ha,F as Va,r as _e,i as Re,n as f,U as te,B as A,ch as Ga,aS as Ya,ca as Xa,c as ct,ap as Te,J as L,K as g,bM as Vt,a9 as ze,d as de,T as _,q as ce,ci as Ja,aB as Gt,bp as Z,bN as et,l as ut,bF as Qa,aY as Lt,cj as Za,t as re,b8 as en,b7 as tn,a2 as an,ck as nn,aQ as rn,cl as kt,cm as on,cn as He,co as Ve,cp as Ge,bx as sn,a3 as ue,D as be,am as Se,u as N,br as $t,bs as Ut,bq as Tt,Q as he,o as ye,k as le,b5 as xe,C as P,s as Yt,aA as oe,V as je,bt as ln,cq as Xt,bd as cn,c8 as un,$ as Jt,bO as dn,bQ as hn,b9 as pn,bR as mn,bY as fn,bX as gn,bS as Cn,X as De,cr as bn,cs as xn,ct as Qt,cu as yn,cv as vn,cw as wn,cx as _n,bg as Rn,cy as Sn,aM as Zt,v as Ne,_ as ea,af as ta,ae as Ln,bI as kn,cz as $n,aE as aa,W as na,b3 as Un,b4 as Tn,b6 as Mn,aC as Mt,cA as tt,ar as at,cB as jn,m as nt,f as dt,cC as Dn,cD as Ye,h as An,bZ as Bn,aG as ra}from"./index-d7c5a608.js";import{b as O,u as oa,l as sa,F as ia,m as On,n as In,i as Wn,o as zn,p as la,h as Nn,T as En,d as jt,k as ca,C as Pn,q as Fn}from"./TeamCard-002f3baa.js";import{D as K,a as Kn,L as qn,b as Hn,A as Vn}from"./FieldDisplay-39bc3efb.js";import{u as D,E as ht,g as ae,S as pt,a as Gn,B as ua,p as ne,x as da,y as Yn,v as Xn,w as ha,n as Jn,z as Qn,r as rt,o as Dt,m as Zn,A as er,C as tr,i as Oe,q as ar,D as nr,F as rr,G as or,H as sr,b as At,c as Bt,I as ir}from"./index-5d955181.js";import{B as Ae,a as lr}from"./BootstrapTooltip-55b8e665.js";import{C as Ee}from"./CloseButton-5dd2e433.js";import{I as Le,i as ke,C as Pe,B as cr}from"./ColoredText-2fa1c704.js";import{C as ur,T as se,W as pa,L as dr}from"./WeaponEditor-7851ed5d.js";import{S as E}from"./SqBadge-476f936c.js";import{b as hr,e as ma,g as mt,F as fa,C as pr,c as ga,u as Ca,a as ba,S as xa,f as ft,s as ya,d as va,T as wa,h as mr}from"./StarDisplay-26f0194e.js";import{C as Fe}from"./CardActionArea-d4413770.js";import{u as ot,f as fr,A as Ie,d as gr,i as Cr,b as br}from"./ArtifactSort-e474e052.js";import{b as We,c as xr,d as yr,w as vr,W as wr}from"./WeaponCard-345e8e8f.js";import{a as _a,d as Ra}from"./CheckBoxOutlineBlank-401cb45b.js";import{A as _r}from"./Artifact-732e185a.js";import{g as Sa,a as Rr,b as Sr}from"./index-92601b39.js";import{g as gt,W as La}from"./index-2a6548c8.js";import{u as Lr}from"./useWeapon-e177fc34.js";import{S as kr}from"./SlotIcon-fc1fe9b4.js";import{C as ka}from"./ChevronRight-49ae599a.js";import{C as $r,a as Ur,M as $a,D as Tr}from"./DropdownButton-9515b552.js";import{T as we,S as Ke,h as Ct,a as Mr}from"./SolidToggleButtonGroup-63806ab2.js";import{A as Ua}from"./LocationAutocomplete-895f0927.js";import jr from"./WeaponSelectionModal-70fa31db.js";import{c as Ot}from"./totalUtils-2d5cc530.js";function Be(t){const a=$();return hr(a.optConfigs,t)}function Dr(t){const{badgeContent:a,invisible:n=!1,max:o=99,showZero:s=!1}=t,r=ma({badgeContent:a,max:o});let i=n;n===!1&&a===0&&!s&&(i=!0);const{badgeContent:l,max:m=o}=i?r:t,u=l&&Number(l)>m?`${m}+`:l;return{badgeContent:l,invisible:i,max:m,displayValue:u}}function Ar(t){return Ft("MuiBadge",t)}const Br=Pt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),ge=Br,Or=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Xe=10,Je=4,Ir=t=>{const{color:a,anchorOrigin:n,invisible:o,overlap:s,variant:r,classes:i={}}=t,l={root:["root"],badge:["badge",r,o&&"invisible",`anchorOrigin${X(n.vertical)}${X(n.horizontal)}`,`anchorOrigin${X(n.vertical)}${X(n.horizontal)}${X(s)}`,`overlap${X(s)}`,a!=="default"&&`color${X(a)}`]};return Ht(l,Ar,i)},Wr=Me("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,a)=>a.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),zr=Me("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.badge,a[n.variant],a[`anchorOrigin${X(n.anchorOrigin.vertical)}${X(n.anchorOrigin.horizontal)}${X(n.overlap)}`],n.color!=="default"&&a[`color${X(n.color)}`],n.invisible&&a.invisible]}})(({theme:t,ownerState:a})=>ee({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Xe*2,lineHeight:1,padding:"0 6px",height:Xe*2,borderRadius:Xe,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},a.color!=="default"&&{backgroundColor:(t.vars||t).palette[a.color].main,color:(t.vars||t).palette[a.color].contrastText},a.variant==="dot"&&{borderRadius:Je,height:Je*2,minWidth:Je*2,padding:0},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),Nr=c.forwardRef(function(a,n){var o,s,r,i,l,m;const u=Kt({props:a,name:"MuiBadge"}),{anchorOrigin:d={vertical:"top",horizontal:"right"},className:h,component:p,components:C={},componentsProps:b={},children:y,overlap:R="rectangular",color:U="default",invisible:k=!1,max:M=99,badgeContent:I,slots:T,slotProps:W,showZero:z=!1,variant:v="standard"}=u,x=qt(u,Or),{badgeContent:j,invisible:w,max:J,displayValue:q}=Dr({max:M,invisible:k,badgeContent:I,showZero:z}),Y=ma({anchorOrigin:d,color:U,overlap:R,variant:v,badgeContent:I}),Q=w||j==null&&v!=="dot",{color:S=U,overlap:B=R,anchorOrigin:H=d,variant:F=v}=Q?Y:u,V=F!=="dot"?q:void 0,pe=ee({},u,{badgeContent:j,invisible:Q,max:J,displayValue:V,showZero:z,anchorOrigin:H,color:S,overlap:B,variant:F}),me=Ir(pe),Ue=(o=(s=T==null?void 0:T.root)!=null?s:C.Root)!=null?o:Wr,ie=(r=(i=T==null?void 0:T.badge)!=null?i:C.Badge)!=null?r:zr,fe=(l=W==null?void 0:W.root)!=null?l:b.root,qe=(m=W==null?void 0:W.badge)!=null?m:b.badge,Ea=St({elementType:Ue,externalSlotProps:fe,externalForwardedProps:x,additionalProps:{ref:n,as:p},ownerState:pe,className:Ze(fe==null?void 0:fe.className,me.root,h)}),Pa=St({elementType:ie,externalSlotProps:qe,ownerState:pe,className:Ze(me.badge,qe==null?void 0:qe.className)});return G.jsxs(Ue,ee({},Ea,{children:[y,G.jsx(ie,ee({},Pa,{children:V}))]}))}),Er=Nr;function Pr({slotKey:t,iconProps:a={}}){switch(t){case"flower":return e(Va,{...a});case"plume":return e(Ha,{...a});case"sands":return e(qa,{...a});case"goblet":return e(Ka,{...a});case"circlet":return e(Fa,{...a})}}var bt={},Fr=Re;Object.defineProperty(bt,"__esModule",{value:!0});var st=bt.default=void 0,Kr=Fr(_e()),qr=G,Hr=(0,Kr.default)((0,qr.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");st=bt.default=Hr;function Vr({title:t,children:a,id:n="dropdownbtn",...o}){const[s,r]=c.useState(null),i=!!s,l=c.useCallback(u=>r(u.currentTarget),[r]),m=c.useCallback(()=>r(null),[r]);return f(c.Suspense,{fallback:e(A,{endIcon:e(st,{}),...o,children:e(te,{width:50})}),children:[e(A,{...o,id:n,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:l,endIcon:e(st,{}),children:t}),e(Xa,{id:"basic-menu",anchorEl:s,open:i,placement:"bottom-start",transition:!0,onClick:m,sx:{zIndex:1500},children:({TransitionProps:u,placement:d})=>e(Ga,{...u,style:{transformOrigin:d==="bottom-start"?"left top":"left bottom"},children:e(Ya,{sx:{maxHeight:"50vh",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12))",boxShadow:"rgb(0 0 0 / 20%) 0px 5px 5px -3px, rgb(0 0 0 / 14%) 0px 8px 10px 1px, rgb(0 0 0 / 12%) 0px 3px 14px 2px",paddingTop:"1px",paddingBottom:"1px",overflow:"auto"},children:e($r,{onClickAway:m,children:f("div",{children:[" ",e(c.Suspense,{fallback:e(te,{width:"100%",height:"1000"}),children:e(Ur,{"aria-labelledby":n,children:a})})]})})})})})]})}const Gr=ct(G.jsx("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom"),Yr=ct(G.jsx("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4zm-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5z"}),"Female"),Xr=ct(G.jsx("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9z"}),"Male"),Jr=""+new URL("splash_aether-7358d244.png",import.meta.url).href,Qr=""+new URL("splash_albedo-37c05d76.png",import.meta.url).href,Zr=""+new URL("splash_alhaitham-1e0549dd.png",import.meta.url).href,eo=""+new URL("splash_amber-51176566.png",import.meta.url).href,to=""+new URL("splash_ayaka-6fa3baa9.png",import.meta.url).href,ao=""+new URL("splash_ayato-80dc87d2.png",import.meta.url).href,no=""+new URL("splash_baizhu-e00c9e38.png",import.meta.url).href,ro=""+new URL("splash_barbara-c0390dce.png",import.meta.url).href,oo=""+new URL("splash_beidou-bc8a24cb.png",import.meta.url).href,so=""+new URL("splash_bennett-50399e82.png",import.meta.url).href,io=""+new URL("splash_candace-d08ffe76.png",import.meta.url).href,lo=""+new URL("splash_charlotte-f4dc3ffe.png",import.meta.url).href,co=""+new URL("splash_chevreuse-b62095f4.png",import.meta.url).href,uo=""+new URL("splash_chongyun-6d2df2ec.png",import.meta.url).href,ho=""+new URL("splash_collei-504a299e.png",import.meta.url).href,po=""+new URL("splash_cyno-ad2ccd61.png",import.meta.url).href,mo=""+new URL("splash_dehya-516792b5.png",import.meta.url).href,fo=""+new URL("splash_diluc-aca80da5.png",import.meta.url).href,go=""+new URL("splash_diona-60ac79e8.png",import.meta.url).href,Co=""+new URL("splash_dori-9e4fe1f4.png",import.meta.url).href,bo=""+new URL("splash_eula-1491affb.png",import.meta.url).href,xo=""+new URL("splash_faruzan-53cea880.png",import.meta.url).href,yo=""+new URL("splash_fischl-81de0725.png",import.meta.url).href,vo=""+new URL("splash_freminet-87ef7da9.png",import.meta.url).href,wo=""+new URL("splash_furina-132cdf4e.png",import.meta.url).href,_o=""+new URL("splash_gaming-f942e04b.png",import.meta.url).href,Ro=""+new URL("splash_ganyu-3428e56a.png",import.meta.url).href,So=""+new URL("splash_gorou-2540c1f5.png",import.meta.url).href,Lo=""+new URL("splash_heizou-778f17a2.png",import.meta.url).href,ko=""+new URL("splash_hutao-d7962623.png",import.meta.url).href,$o=""+new URL("splash_itto-89b11acb.png",import.meta.url).href,Uo=""+new URL("splash_jean-8b1a28fe.png",import.meta.url).href,To=""+new URL("splash_kaeya-e26022f0.png",import.meta.url).href,Mo=""+new URL("splash_kaveh-a63cd11f.png",import.meta.url).href,jo=""+new URL("splash_kazuha-94865d22.png",import.meta.url).href,Do=""+new URL("splash_keqing-0cd58460.png",import.meta.url).href,Ao=""+new URL("splash_kirara-0b285e89.png",import.meta.url).href,Bo=""+new URL("splash_klee-81a7fd6f.png",import.meta.url).href,Oo=""+new URL("splash_kokomi-7dc7c799.png",import.meta.url).href,Io=""+new URL("splash_kuki-2e7b6638.png",import.meta.url).href,Wo=""+new URL("splash_layla-45b01b3a.png",import.meta.url).href,zo=""+new URL("splash_lisa-f07e93de.png",import.meta.url).href,No=""+new URL("splash_lumine-51240648.png",import.meta.url).href,Eo=""+new URL("splash_lynette-e6d6d59c.png",import.meta.url).href,Po=""+new URL("splash_lyney-e23fc621.png",import.meta.url).href,Fo=""+new URL("splash_mika-d7bec99e.png",import.meta.url).href,Ko=""+new URL("splash_mona-a101d11b.png",import.meta.url).href,qo=""+new URL("splash_nahida-5336f545.png",import.meta.url).href,Ho=""+new URL("splash_navia-749d043e.png",import.meta.url).href,Vo=""+new URL("splash_neuvillette-f6712d84.png",import.meta.url).href,Go=""+new URL("splash_nilou-02522a20.png",import.meta.url).href,Yo=""+new URL("splash_ningguang-0423cf3a.png",import.meta.url).href,Xo=""+new URL("splash_noelle-3c164134.png",import.meta.url).href,Jo=""+new URL("splash_qiqi-9882f0de.png",import.meta.url).href,Qo=""+new URL("splash_raiden-ce0042a0.png",import.meta.url).href,Zo=""+new URL("splash_razor-dfd28235.png",import.meta.url).href,es=""+new URL("splash_rosaria-beb57b8a.png",import.meta.url).href,ts=""+new URL("splash_sara-1f76a85f.png",import.meta.url).href,as=""+new URL("splash_sayu-afc9c432.png",import.meta.url).href,ns=""+new URL("splash_shenhe-ba31eb5d.png",import.meta.url).href,rs=""+new URL("splash_sucrose-ad665b53.png",import.meta.url).href,os=""+new URL("splash_tartaglia-9aaa2f1a.png",import.meta.url).href,ss=""+new URL("splash_thoma-004bf569.png",import.meta.url).href,is=""+new URL("splash_tighnari-3ce7dd13.png",import.meta.url).href,ls=""+new URL("splash_venti-ea8e2087.png",import.meta.url).href,cs=""+new URL("splash_wanderer-645fe3d8.png",import.meta.url).href,us=""+new URL("splash_wriothesley-94b73230.png",import.meta.url).href,ds=""+new URL("splash_xiangling-058aca33.png",import.meta.url).href,hs=""+new URL("splash_xianyun-946028bc.png",import.meta.url).href,ps=""+new URL("splash_xiao-69656d36.png",import.meta.url).href,ms=""+new URL("splash_xingqiu-fe033a4f.png",import.meta.url).href,fs=""+new URL("splash_xinyan-bb9c21b3.png",import.meta.url).href,gs=""+new URL("splash_yae-5a7bf919.png",import.meta.url).href,Cs=""+new URL("splash_yanfei-ecb8fb25.png",import.meta.url).href,bs=""+new URL("splash_yaoyao-8b72be49.png",import.meta.url).href,xs=""+new URL("splash_yelan-26eec3f5.png",import.meta.url).href,ys=""+new URL("splash_yoimiya-2d38f125.png",import.meta.url).href,vs=""+new URL("splash_yunjin-538f24e0.png",import.meta.url).href,ws=""+new URL("splash_zhongli-c0ebbd75.png",import.meta.url).href,_s={Albedo:Qr,Alhaitham:Zr,Amber:eo,AratakiItto:$o,Baizhu:no,Barbara:ro,Beidou:oo,Bennett:so,Candace:io,Charlotte:lo,Chevreuse:co,Chongyun:uo,Collei:ho,Cyno:po,Dehya:mo,Diluc:fo,Diona:go,Dori:Co,Eula:bo,Faruzan:xo,Fischl:yo,Freminet:vo,Furina:wo,Gaming:_o,Ganyu:Ro,Gorou:So,HuTao:ko,Jean:Uo,KaedeharaKazuha:jo,Kaeya:To,KamisatoAyaka:to,KamisatoAyato:ao,Kaveh:Mo,Keqing:Do,Kirara:Ao,Klee:Bo,KujouSara:ts,KukiShinobu:Io,Layla:Wo,Lisa:zo,Lynette:Eo,Lyney:Po,Mika:Fo,Mona:Ko,Nahida:qo,Navia:Ho,Neuvillette:Vo,Nilou:Go,Ningguang:Yo,Noelle:Xo,Qiqi:Jo,RaidenShogun:Qo,Razor:Zo,Rosaria:es,SangonomiyaKokomi:Oo,Sayu:as,Shenhe:ns,ShikanoinHeizou:Lo,Sucrose:rs,Tartaglia:os,Thoma:ss,Tighnari:is,TravelerF:No,TravelerM:Jr,Venti:ls,Wanderer:cs,Wriothesley:us,Xiangling:ds,Xianyun:hs,Xiao:ps,Xingqiu:ms,Xinyan:fs,YaeMiko:gs,Yanfei:Cs,Yaoyao:bs,Yelan:xs,Yoimiya:ys,YunJin:vs,Zhongli:ws};function Rs(t,a){return _s[Te(t,a)]??""}const Ss=c.createContext({});var xt={},Ls=Re;Object.defineProperty(xt,"__esModule",{value:!0});var Ta=xt.default=void 0,ks=Ls(_e()),$s=G,Us=(0,ks.default)((0,$s.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");Ta=xt.default=Us;const Ts=""+new URL("Character_Albedo_Card-5ef0c064.png",import.meta.url).href,Ms=""+new URL("Character_Alhaitham_Card-5b5622a6.jpg",import.meta.url).href,js=""+new URL("Character_Aloy_Card-63f8894a.png",import.meta.url).href,Ds=""+new URL("Character_Amber_Card-75caf8bc.jpg",import.meta.url).href,As=""+new URL("Character_Arataki_Itto_Card-9d5b2141.jpg",import.meta.url).href,Bs=""+new URL("Character_Baizhu_Card-91cf0ace.jpg",import.meta.url).href,Os=""+new URL("Character_Barbara_Card-58cbe572.jpg",import.meta.url).href,Is=""+new URL("Character_Beidou_Card-ea7de4d2.jpg",import.meta.url).href,Ws=""+new URL("Character_Bennett_Card-af6cc7e8.jpg",import.meta.url).href,zs=""+new URL("Character_Candace_Card-e2c9913c.jpg",import.meta.url).href,Ns=""+new URL("Character_Charlotte_Card-b4153f53.jpg",import.meta.url).href,Es=""+new URL("Character_Chevreuse_Card-4b92e6a5.jpg",import.meta.url).href,Ps=""+new URL("Character_Chongyun_Card-1128f6bd.jpg",import.meta.url).href,Fs=""+new URL("Character_Collei_Card-e3c02ab9.jpg",import.meta.url).href,Ks=""+new URL("Character_Cyno_Card-b178c8f3.jpg",import.meta.url).href,qs=""+new URL("Character_Dehya_Card-546c51ec.jpg",import.meta.url).href,Hs=""+new URL("Character_Diluc_Card-2027991e.jpg",import.meta.url).href,Vs=""+new URL("Character_Diona_Card-3cd0b9ac.png",import.meta.url).href,Gs=""+new URL("Character_Dori_Card-025a2f89.jpg",import.meta.url).href,Ys=""+new URL("Character_Eula_Card-2ab7b302.png",import.meta.url).href,Xs=""+new URL("Character_Faruzan_Card-262e6371.jpg",import.meta.url).href,Js=""+new URL("Character_Fischl_Card-1dc842a2.jpg",import.meta.url).href,Qs=""+new URL("Character_Freminet_Card-a2254a5a.jpg",import.meta.url).href,Zs=""+new URL("Character_Furina_Card-de05953e.jpg",import.meta.url).href,ei=""+new URL("Character_Gaming_Card-fb7f6290.jpg",import.meta.url).href,ti=""+new URL("Character_Ganyu_Card-da6b1426.png",import.meta.url).href,ai=""+new URL("Character_Gorou_Card-75b11c2b.png",import.meta.url).href,ni=""+new URL("Character_Hu_Tao_Card-96e1f9c8.png",import.meta.url).href,ri=""+new URL("Character_Jean_Card-2fc96483.jpg",import.meta.url).href,oi=""+new URL("Character_Kaeya_Card-90ad939e.jpg",import.meta.url).href,si=""+new URL("Character_Kamisato_Ayaka_Card-ae1bb2fb.png",import.meta.url).href,ii=""+new URL("Character_Kamisato_Ayato_Card-f6b1ad8d.png",import.meta.url).href,li=""+new URL("Character_Kaveh_Card-d3229e58.jpg",import.meta.url).href,ci=""+new URL("Character_Kazuha_Card-71c36913.png",import.meta.url).href,ui=""+new URL("Character_Keqing_Card-28b6df43.jpg",import.meta.url).href,di=""+new URL("Character_Kirara_Card-ae8092de.jpg",import.meta.url).href,hi=""+new URL("Character_Klee_Card-43602d1c.jpg",import.meta.url).href,pi=""+new URL("Character_Kujou_Sara_Card-6eb66d8d.jpg",import.meta.url).href,mi=""+new URL("Character_Kuki_Shinobu_Card-c0cca5df.jpg",import.meta.url).href,fi=""+new URL("Character_Layla_Card-89ddf634.jpeg",import.meta.url).href,gi=""+new URL("Character_Lisa_Card-cd94c665.jpg",import.meta.url).href,Ci=""+new URL("Character_Lynette_Card-7469da2e.jpg",import.meta.url).href,bi=""+new URL("Character_Lyney_Card-deef8197.jpg",import.meta.url).href,xi=""+new URL("Character_Mika_Card-20bd2280.jpg",import.meta.url).href,yi=""+new URL("Character_Mona_Card-4b42f44c.jpg",import.meta.url).href,vi=""+new URL("Character_Nahida_Card-309d4d29.jpeg",import.meta.url).href,wi=""+new URL("Character_Navia_Card-8745abc6.jpg",import.meta.url).href,_i=""+new URL("Character_Neuvillette_Card-32f9dd3c.jpg",import.meta.url).href,Ri=""+new URL("Character_Nilou_Card-de0e3f0d.jpg",import.meta.url).href,Si=""+new URL("Character_Ningguang_Card-4f9a1915.jpg",import.meta.url).href,Li=""+new URL("Character_Noelle_Card-9995f992.jpg",import.meta.url).href,ki=""+new URL("Character_Qiqi_Card-4d5d3687.jpg",import.meta.url).href,$i=""+new URL("Character_Raiden_Shogun_Card-90085c4a.png",import.meta.url).href,Ui=""+new URL("Character_Razor_Card-0e7f3a1e.jpg",import.meta.url).href,Ti=""+new URL("Character_Rosaria_Card-22e1e066.png",import.meta.url).href,Mi=""+new URL("Character_Sangonomiya_Kokomi_Card-d5698fe4.jpg",import.meta.url).href,ji=""+new URL("Character_Sayu_Card-e1a67cbd.png",import.meta.url).href,Di=""+new URL("Character_Shenhe_Card-4340449f.jpg",import.meta.url).href,Ai=""+new URL("Character_Shikanoin_Heizou_Card-043ef79e.png",import.meta.url).href,Bi=""+new URL("Character_Somnia_Card-e56f30f7.png",import.meta.url).href,Oi=""+new URL("Character_Sucrose_Card-e0782acd.jpg",import.meta.url).href,Ii=""+new URL("Character_Tartaglia_Card-b8d93f98.png",import.meta.url).href,Wi=""+new URL("Character_Thoma_Card-b561acbb.jpg",import.meta.url).href,zi=""+new URL("Character_Tighnari_Card-8ebb6d51.jpg",import.meta.url).href,Ni=""+new URL("Character_Venti_Card-416dade9.jpg",import.meta.url).href,Ei=""+new URL("Character_Wanderer_Card-ef1ff178.jpg",import.meta.url).href,Pi=""+new URL("Character_Wriothesley_Card-27b94628.jpg",import.meta.url).href,Fi=""+new URL("Character_Xiangling_Card-9ebf0a46.jpg",import.meta.url).href,Ki=""+new URL("Character_Xianyun_Card-6d9b79fa.jpg",import.meta.url).href,qi=""+new URL("Character_Xiao_Card-41530690.jpg",import.meta.url).href,Hi=""+new URL("Character_Xingqiu_Card-d4eb12ea.jpg",import.meta.url).href,Vi=""+new URL("Character_Xinyan_Card-08b1f13c.jpg",import.meta.url).href,Gi=""+new URL("Character_Yae_Miko_Card-dde243b2.png",import.meta.url).href,Yi=""+new URL("Character_Yanfei_Card-7a0cde36.png",import.meta.url).href,Xi=""+new URL("Character_Yaoyao_Card-d91c99fc.jpg",import.meta.url).href,Ji=""+new URL("Character_Yelan_Card-16780ff3.jpg",import.meta.url).href,Qi=""+new URL("Character_Yoimiya_Card-a2f5a17e.png",import.meta.url).href,Zi=""+new URL("Character_Yun_Jin_Card-93bda737.jpg",import.meta.url).href,el=""+new URL("Character_Zhongli_Card-55c0bab7.png",import.meta.url).href,tl=""+new URL("Traveler_Female_Card-f2156008.jpg",import.meta.url).href,al=""+new URL("Traveler_Male_Card-0d6523d2.jpg",import.meta.url).href,It={Albedo:Ts,Alhaitham:Ms,Aloy:js,Amber:Ds,AratakiItto:As,Baizhu:Bs,Barbara:Os,Beidou:Is,Bennett:Ws,Candace:zs,Charlotte:Ns,Chevreuse:Es,Chongyun:Ps,Collei:Fs,Cyno:Ks,Dehya:qs,Diluc:Hs,Diona:Vs,Dori:Gs,Eula:Ys,Faruzan:Xs,Fischl:Js,Freminet:Qs,Furina:Zs,Gaming:ei,Ganyu:ti,Gorou:ai,HuTao:ni,Jean:ri,KaedeharaKazuha:ci,Kaeya:oi,KamisatoAyaka:si,KamisatoAyato:ii,Kaveh:li,Keqing:ui,Kirara:di,Klee:hi,KujouSara:pi,KukiShinobu:mi,Layla:fi,Lisa:gi,Lyney:bi,Lynette:Ci,Mika:xi,Mona:yi,Nahida:vi,Navia:wi,Neuvillette:_i,Nilou:Ri,Ningguang:Si,Noelle:Li,Qiqi:ki,RaidenShogun:$i,Razor:Ui,Rosaria:Ti,SangonomiyaKokomi:Mi,Sayu:ji,Shenhe:Di,ShikanoinHeizou:Ai,Somnia:Bi,Sucrose:Oi,Tartaglia:Ii,Thoma:Wi,Tighnari:zi,TravelerF:tl,TravelerM:al,Venti:Ni,Wanderer:Ei,Wriothesley:Pi,Xiangling:Fi,Xianyun:Ki,Xiao:qi,Xingqiu:Hi,Xinyan:Vi,YaeMiko:Gi,Yanfei:Yi,Yaoyao:Xi,Yelan:Ji,Yoimiya:Qi,YunJin:Zi,Zhongli:el};function nl(t,a){switch(t){case"TravelerAnemo":case"TravelerDendro":case"TravelerElectro":case"TravelerGeo":case"TravelerHydro":return It[`Traveler${a}`]??"";default:return It[t]??""}}function hu(){const{characterSheet:t}=c.useContext(O),{data:a}=c.useContext(K),n={auto:a.get(D.total.auto).value,skill:a.get(D.total.skill).value,burst:a.get(D.total.burst).value},o={auto:a.get(D.total.autoBoost).value,skill:a.get(D.total.skillBoost).value,burst:a.get(D.total.burstBoost).value};return e(g,{children:e(L,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map(s=>{var r;return e(L,{item:!0,xs:4,children:e(Er,{badgeContent:n[s],color:o[s]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:e(g,{component:"img",src:(r=t.getTalentOfKey(s))==null?void 0:r.img,width:"100%",height:"auto"})})},s)})})})}function rl(){const{characterSheet:t,character:{key:a}}=c.useContext(O),{data:n}=c.useContext(K),o=oa(a),s=n.get(D.constellation).value;return e(L,{container:!0,spacing:1,children:Vt(1,6).map(r=>{var i;return e(L,{item:!0,xs:4,children:e(Fe,{onClick:()=>o({constellation:r===s?r-1:r}),children:e(g,{component:"img",src:(i=t.getTalentOfKey(`constellation${r}`))==null?void 0:i.img,sx:{...s>=r?{}:{filter:"brightness(50%)"}},width:"100%",height:"auto"})})},r)})})}function ol(){const{silly:t}=c.useContext(ze),{character:{key:a}}=c.useContext(O),{gender:n}=de(),{data:o}=c.useContext(K),s=o.get(D.lvl).value,r=o.get(D.asc).value,i=Rs(a,n),l=nl(a,n);return t&&i?e(sl,{src:i,level:s,ascension:r}):e(il,{src:l,level:s,ascension:r})}function sl({src:t,level:a,ascension:n}){const{characterSheet:o}=c.useContext(O);return f(g,{sx:{position:"relative"},children:[e(g,{src:t,component:"img",width:"100%",height:"auto"}),f(g,{sx:{width:"100%",height:"100%"},children:[e(g,{sx:{opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(Ma,{})}),e(_,{variant:"h6",sx:{width:"100%",opacity:.75,textAlign:"center"},children:e(mt,{stars:o.rarity,colored:!0})}),e(Da,{}),e(ja,{level:a,ascension:n})]})]})}function il({src:t,level:a,ascension:n}){const{characterSheet:o}=c.useContext(O);return f(g,{sx:{position:"relative"},children:[f(g,{sx:{position:"absolute",width:"100%",height:"100%"},children:[e(_,{variant:"h6",sx:{position:"absolute",width:"100%",left:"50%",bottom:0,transform:"translate(-50%, -50%)",opacity:.75,textAlign:"center"},children:e(mt,{stars:o.rarity,colored:!0})}),e(g,{sx:{position:"absolute",left:"50%",bottom:"7%",transform:"translate(-50%, -50%)",opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(Ma,{})}),e(Da,{}),e(ja,{level:a,ascension:n})]}),e(g,{src:t,component:"img",width:"100%",height:"auto"})]})}function Ma(){var n;const{characterSheet:t}=c.useContext(O),a=t.elementKey;return e(ce,{color:a,sx:{height:"auto"},label:f(_,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[e(ht,{ele:a}),e(g,{sx:{whiteSpace:"normal",textAlign:"center"},children:t.name}),e(Le,{src:(n=ke.weaponTypes)==null?void 0:n[t.weaponTypeKey]})]})})}function ja({level:t,ascension:a}){return e(_,{sx:{p:1,position:"absolute",right:0,top:0,opacity:.8},children:e(E,{children:Ja(t,a)})})}function Da(){const{character:{key:t}}=c.useContext(O),a=$(),{favorite:n}=sa(t);return e(g,{sx:{position:"absolute",left:0,top:0},children:e(Gt,{sx:{p:1},color:"error",onClick:()=>a.charMeta.set(t,{favorite:!n}),children:n?e(fa,{}):e(ia,{})})})}var yt={},ll=Re;Object.defineProperty(yt,"__esModule",{value:!0});var $e=yt.default=void 0,cl=ll(_e()),ul=G,dl=(0,cl.default)((0,ul.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");$e=yt.default=dl;var vt={},hl=Re;Object.defineProperty(vt,"__esModule",{value:!0});var Aa=vt.default=void 0,pl=hl(_e()),ml=G,fl=(0,pl.default)((0,ml.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Aa=vt.default=fl;function Ba({characterKey:t}){const{gender:a}=de();if(!t)return null;const n=ae(t,a);return n?e(Ae,{placement:"right-end",title:e(_,{children:n.name}),children:e(pr,{characterKey:t,sideMargin:!0})}):null}function gl({statKey:t,disableIcon:a=!1}){return f(g,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!a&&e(pt,{statKey:t,iconProps:Z}),f("span",{children:[et.get(t),et.unit(t)]})]})}function Oa({statKey:t,disableIcon:a=!1}){return e(Pe,{color:et.getVariant(t),children:e(gl,{statKey:t,disableIcon:a})})}function Cl({artifactId:t,slotKey:a,mainStatAssumptionLevel:n=0,showLocation:o=!1,onClick:s,BGComponent:r=re}){const i=ot(t),l=$(),m=c.useCallback(M=>e(Fe,{onClick:s,sx:{height:"100%"},children:M}),[s]),u=ut();if(!i)return e(r,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(g,{component:"img",src:ke.slot[a],sx:{width:"25%",height:"auto",opacity:.7}})});const{slotKey:d,rarity:h,level:p,mainStatKey:C,substats:b,location:y}=i,R=Math.max(Math.min(n,h*4),p),U=Qa.find(M=>i.mainStatKey.includes(M)),k=U?Lt(u.palette[U].main,.6):Lt(u.palette.secondary.main,.6);return e(r,{sx:{height:"100%"},children:e(ga,{condition:!!s,wrapper:m,children:f(g,{display:"flex",height:"100%",children:[f(g,{className:`grad-${h}star`,sx:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e(On,{art:i,children:e(g,{component:"img",src:Gn(i.setKey,d),sx:{m:-1,maxHeight:"110%",maxWidth:"110%"}})}),f(g,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(ce,{size:"small",label:e("strong",{children:` +${p}`}),color:_r.levelVariant(p)}),o&&e(ce,{size:"small",label:y?e(Ba,{characterKey:y&&l.chars.LocationToCharacterKey(y)}):e(ua,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(ce,{size:"small",sx:{position:"absolute",bottom:0,mb:1,backgroundColor:k,p:1},icon:e(Ae,{placement:"top",title:e(_,{children:e(Oa,{statKey:C})}),disableInteractive:!0,children:e(g,{lineHeight:0,children:e(pt,{statKey:C,iconProps:{style:{padding:"4px"}}})})}),label:e(_,{sx:{mx:-.7},children:e(Pe,{color:R!==p?"warning":void 0,children:Za(C,h,R)})})})]}),e(g,{display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{p:1},children:b.map((M,I)=>e(bl,{stat:M},I+M.key))})]})})})}function bl({stat:t}){var s;if(!t.value)return null;const a=((s=t.rolls)==null?void 0:s.length)??0,n=`roll${an(a,1,6)}`,o=en(t.key);return e(g,{display:"flex",gap:1,alignContent:"center",children:f(_,{sx:{flexGrow:1,display:"flex",gap:.5,alignItems:"center"},color:a?`${n}.main`:"error.main",component:"span",children:[e(Ae,{placement:"top",title:e(_,{children:t.key&&e(Oa,{statKey:t.key})}),disableInteractive:!0,children:e(g,{lineHeight:0,children:e(pt,{statKey:t.key,iconProps:{fontSize:"inherit"}})})}),e("span",{children:`${tn(t.value,o)}${o}`})]})})}function xl(t){return Ft("MuiMasonry",t)}Pt("MuiMasonry",["root"]);const yl=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],Ce=t=>Number(t.replace("px","")),vl={flexBasis:"100%",width:0,margin:0,padding:0},wl=t=>{const{classes:a}=t;return Ht({root:["root"]},xl,a)},_l=({ownerState:t,theme:a})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const o={};if(t.isSSR){const u={},d=Ce(a.spacing(t.defaultSpacing));for(let h=1;h<=t.defaultColumns;h+=1)u[`&:nth-of-type(${t.defaultColumns}n+${h%t.defaultColumns})`]={order:h};return o.height=t.defaultHeight,o.margin=-(d/2),o["& > *"]=ee({},n["& > *"],u,{margin:d/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${d}px)`}),ee({},n,o)}const s=kt({values:t.spacing,breakpoints:a.breakpoints.values}),r=on(a);n=He(n,Ve({theme:a},s,u=>{let d;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const h=Number(u);d=Ge(r,h)}else d=u;return ee({margin:`calc(0px - (${d} / 2))`,"& > *":{margin:`calc(${d} / 2)`}},t.maxColumnHeight&&{height:typeof d=="number"?Math.ceil(t.maxColumnHeight+Ce(d)):`calc(${t.maxColumnHeight}px + ${d})`})}));const l=kt({values:t.columns,breakpoints:a.breakpoints.values});return n=He(n,Ve({theme:a},l,u=>{const h=`${(100/Number(u)).toFixed(2)}%`,p=typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"?Ge(r,Number(s)):"0px";return{"& > *":{width:`calc(${h} - ${p})`}}})),typeof s=="object"&&(n=He(n,Ve({theme:a},s,(u,d)=>{if(d){const h=Number(u),p=Object.keys(l).pop(),C=Ge(r,h);return{"& > *":{width:`calc(${`${(100/(typeof l=="object"?l[d]||l[p]:l)).toFixed(2)}%`} - ${C})`}}}return null}))),n},Rl=Me("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,a)=>[a.root]})(_l),Sl=c.forwardRef(function(a,n){const o=Kt({props:a,name:"MuiMasonry"}),{children:s,className:r,component:i="div",columns:l=4,spacing:m=1,defaultColumns:u,defaultHeight:d,defaultSpacing:h}=o,p=qt(o,yl),C=c.useRef(),[b,y]=c.useState(),R=!b&&d&&u!==void 0&&h!==void 0,[U,k]=c.useState(R?u-1:0),M=ee({},o,{spacing:m,columns:l,maxColumnHeight:b,defaultColumns:u,defaultHeight:d,defaultSpacing:h,isSSR:R}),I=wl(M),T=v=>{if(!C.current||!v||v.length===0)return;const x=C.current,j=C.current.firstChild,w=x.clientWidth,J=j.clientWidth;if(w===0||J===0)return;const q=window.getComputedStyle(j),Y=Ce(q.marginLeft),Q=Ce(q.marginRight),S=Math.round(w/(J+Y+Q)),B=new Array(S).fill(0);let H=!1;x.childNodes.forEach(F=>{if(F.nodeType!==Node.ELEMENT_NODE||F.dataset.class==="line-break"||H)return;const V=window.getComputedStyle(F),pe=Ce(V.marginTop),me=Ce(V.marginBottom),Ue=Ce(V.height)?Math.ceil(Ce(V.height))+pe+me:0;if(Ue===0){H=!0;return}for(let ie=0;ie<F.childNodes.length;ie+=1){const fe=F.childNodes[ie];if(fe.tagName==="IMG"&&fe.clientHeight===0){H=!0;break}}if(!H){const ie=B.indexOf(Math.min(...B));B[ie]+=Ue;const fe=ie+1;F.style.order=fe}}),H||sn.flushSync(()=>{y(Math.max(...B)),k(S>0?S-1:0)})};nn(()=>{if(typeof ResizeObserver>"u")return;let v;const x=new ResizeObserver(()=>{v=requestAnimationFrame(T)});return C.current&&C.current.childNodes.forEach(j=>{x.observe(j)}),()=>{v&&window.cancelAnimationFrame(v),x&&x.disconnect()}},[l,m,s]);const W=rn(n,C),z=new Array(U).fill("").map((v,x)=>G.jsx("span",{"data-class":"line-break",style:ee({},vl,{order:x+1})},x));return G.jsxs(Rl,ee({as:i,className:Ze(I.root,r),ref:W,ownerState:M},p,{children:[s,z]}))}),Ll=Sl,kl=c.createContext(void 0),ve={title:e(Pe,{color:"warning",children:"ERROR"})},$l={normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass.",...Object.fromEntries(Vt(1,6).map(t=>[`constellation${t}`,`Const. ${t}`]))};function Ul(t,a,n){if(!a)return ve;if(a==="basic")return{title:"Basic Stats"};if(a==="custom")return{title:"Custom Multi Target"};if(a==="reaction")return{title:"Transformative Reactions"};if(a.includes(":")){const[o,s]=a.split(":");if(o==="artifact"){const r=Sa(s);return r?{title:r.name,icon:Rr(s)}:ve}else if(o==="weapon"){const r=gt(s);if(!r)return ve;const i=t.get(ne.weapon.asc).value;return{title:r.name,icon:da(s,i>=2)}}}else{const o=t.get(ne.charKey).value;if(!o)return ve;const s=ae(o,n.gender),r=["normal","charged","plunging"].includes(a)?"auto":a,i=s==null?void 0:s.getTalentOfKey(r);if(!i)return ve;const l=$l[a];return{icon:i.img,title:i.name,action:l}}return ve}function Tl(t){const a=t.getDisplay(),n=Object.entries(a),o=n.filter(([u])=>u==="basic"),s=n.filter(([u])=>u==="reaction"),r=n.filter(([u])=>u==="custom"),i=n.filter(([u])=>u.startsWith("weapon")),l=n.filter(([u])=>u.startsWith("artifact")),m=n.filter(([u])=>u!=="basic"&&u!=="reaction"&&!u.startsWith("weapon")&&!u.startsWith("artifact")&&u!=="custom");return[...o,...s,...r,...m,...i,...l]}function Ml(){const{data:t}=c.useContext(K),a=c.useMemo(()=>Tl(t).filter(([,n])=>Object.values(n).some(o=>!o.isEmpty)),[t]);return e(g,{sx:{mr:-1,mb:-1},children:e(Ll,{columns:{xs:1,sm:2,md:3,xl:4},spacing:1,children:a.map(([n,o])=>e(jl,{displayNs:o,sectionKey:n},n))})})}function jl({displayNs:t,sectionKey:a}){const n=c.useContext(kl),{data:o,oldData:s}=c.useContext(K),r=$(),i=c.useMemo(()=>Ul(o,a,r),[r,o,a]),l=c.useMemo(()=>ue(t,(h,p)=>Yn(["display",a,p])),[t,a]);if(!i)return e(re,{});const{title:m,icon:u,action:d}=i;return f(re,{children:[e(ur,{avatar:u&&e(Le,{size:2,src:u}),title:m,action:d&&e(E,{children:d})}),e(be,{}),e(Hn,{sx:{m:0},children:Object.entries(t).map(([h,p])=>e(Kn,{node:p,oldValue:s?s.get(l[h]).value:void 0,component:qn,emphasize:JSON.stringify(n)===JSON.stringify([a,h])},h))})]})}function Dl({weaponId:t,showLocation:a=!1,onClick:n,BGComponent:o=re,weaponTypeKey:s="sword"}){const r=Lr(t),i=(r==null?void 0:r.key)&&gt(r.key);return!r||!i?e(o,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(g,{component:"img",src:ke.weaponTypes[s],sx:{width:"25%",height:"auto",opacity:.7}})}):e(Al,{weapon:r,weaponSheet:i,onClick:n,showLocation:a,BGComponent:o})}function Al({weapon:t,weaponSheet:a,showLocation:n=!1,onClick:o,BGComponent:s=re}){const r=$(),{refinement:i,location:l}=t,m=c.useCallback(d=>e(Fe,{sx:{height:"100%"},onClick:o,children:d}),[o]),u=c.useMemo(()=>a&&t&&Xn([a.data,ha(t)]),[a,t]);return e(s,{sx:{height:"100%"},children:e(ga,{condition:!!o,wrapper:m,children:f(g,{display:"flex",height:"100%",alignItems:"stretch",children:[f(g,{className:`grad-${a.rarity}star`,sx:{height:"100%",position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:[e(In,{sheet:a,children:e(g,{component:"img",src:da(t.key,t.ascension>=2),sx:{mx:-1,maxHeight:"100%",maxWidth:"100%"}})}),f(g,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(ce,{size:"small",label:e("strong",{children:La.getLevelString(t)}),color:"primary"}),n&&e(ce,{size:"small",label:l?e(Ba,{characterKey:r.chars.LocationToCharacterKey(l)}):e(ua,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(g,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},children:a.hasRefinement&&e(ce,{size:"small",color:"info",label:f("strong",{children:["R",i]})})})]}),f(g,{display:"flex",flexDirection:"column",sx:{p:1},children:[e(Wt,{node:u.get(ne.weapon.main)}),e(Wt,{node:u.get(ne.weapon.sub)})]})]})})})}function Wt({node:t}){return t.info.name?e(g,{display:"flex",gap:1,alignContent:"center",children:f(_,{sx:{flexGrow:1,display:"flex",gap:1},component:"span",children:[e(Ae,{placement:"top",title:e(_,{children:t.info.name}),disableInteractive:!0,children:e("span",{children:t.info.icon})}),e("span",{children:Jn(t)})]})}):null}function Bl({artifacts:t,currentlyEquipped:a=!1}){const n=c.useMemo(()=>t.filter(o=>o).reduce((o,s)=>(o[s.setKey]?o[s.setKey].push(s.slotKey):o[s.setKey]=[s.slotKey],o),{}),[t]);return e(Se,{children:Object.entries(n).sort(([o,s],[r,i])=>i.length-s.length).map(([o,s])=>e(Ol,{setKey:o,currentlyEquipped:a,slotarr:s},o))})}function Ol({setKey:t,currentlyEquipped:a=!1,slotarr:n}){const o=Sa(t),s=n.length,r=Object.keys(o.setEffects).map(i=>parseInt(i)).filter(i=>i<=s);return e(g,{children:e(fr,{artifactSheet:o,numInSet:s,children:e(E,{sx:{height:"100%"},color:a?"success":"primary",children:f(_,{children:[n.map(i=>e(kr,{slotKey:i,iconProps:Z},i))," ",o.name??"",r.map((i,l)=>e(E,{sx:{ml:.5},color:"success",children:i},""+i+l))]})})})})}var wt={},Il=Re;Object.defineProperty(wt,"__esModule",{value:!0});var it=wt.default=void 0,Wl=Il(_e()),zl=G,Nl=(0,Wl.default)((0,zl.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");it=wt.default=Nl;var _t={},El=Re;Object.defineProperty(_t,"__esModule",{value:!0});var lt=_t.default=void 0,Pl=El(_e()),Fl=G,Kl=(0,Pl.default)((0,Fl.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");lt=_t.default=Kl;function ql({setKey:t,buttonGroupSx:a}){const{t:n}=N("sheet"),{teamChar:{optConfigId:o}}=c.useContext(se),{artSetExclusion:s}=Be(o),r=(s==null?void 0:s[t])??[],i=r.includes(2),l=r.includes(4),m=$();return f(cr,{sx:a,fullWidth:!0,children:[e(A,{startIcon:i?e($t,{}):e(Ut,{}),onClick:()=>m.optConfigs.set(o,{artSetExclusion:Tt(s,t,2)}),color:i?"secondary":"success",endIcon:i?e(it,{}):e(lt,{}),children:n`2set`}),e(A,{startIcon:l?e($t,{}):e(Ut,{}),onClick:()=>m.optConfigs.set(o,{artSetExclusion:Tt(s,t,4)}),color:l?"secondary":"success",endIcon:l?e(it,{}):e(lt,{}),children:n`4set`})]})}function Hl({label:t,extraButtonsRight:a,extraButtonsLeft:n,disabled:o}){const{teamChar:{optConfigId:s,buildType:r,buildId:i}}=c.useContext(se),{character:{key:l,equippedArtifacts:m,equippedWeapon:u}}=c.useContext(O),{mainStatAssumptionLevel:d,allowLocationsState:h}=Be(s)??{mainStatAssumptionLevel:0,allowLocationsState:"all"},p=$(),{data:C,oldData:b}=c.useContext(K),y=c.useMemo(()=>{var S;return{oldId:(S=b==null?void 0:b.get(D.weapon.id))==null?void 0:S.value,newId:C.get(D.weapon.id).value??""}},[C,b]),[R,U,k]=he(!1),M=c.useMemo(()=>ye(le,S=>{var B;return{oldId:(B=b==null?void 0:b.get(D.art[S].id))==null?void 0:B.value,newId:C.get(D.art[S].id).value??""}}),[C,b]),[I,T]=c.useState(),W=c.useCallback(()=>T(void 0),[T]),z=i&&r==="real",v=c.useCallback(()=>{const S=z?"Do you want to equip this build to the currently active build?":"Do you want to equip this build to this character?";if(!window.confirm(S))return;if(z){p.builds.set(i,{weaponId:C.get(D.weapon.id).value,artifactIds:ye(le,F=>{var V;return(V=C.get(D.art[F].id).value)==null?void 0:V.toString()})});return}const B=p.chars.get(l);if(!B)return;le.forEach(F=>{var pe;const V=(pe=C.get(D.art[F].id).value)==null?void 0:pe.toString();if(V)p.arts.set(V,{location:xe(l)});else{const me=B.equippedArtifacts[F];me&&p.arts.get(me)&&p.arts.set(me,{location:""})}});const H=C.get(D.weapon.id).value;H&&p.weapons.set(H,{location:xe(l)})},[l,z,i,C,p]),x=c.useMemo(()=>Object.fromEntries(le.map(S=>{var B;return[S,(B=C.get(D.art[S].id).value)==null?void 0:B.toString()]})),[C]),j=c.useMemo(()=>x&&Object.values(x).map(S=>p.arts.get(S)).filter(S=>S),[x,p.arts]),w=c.useMemo(()=>r==="tc"?ye(le,()=>"tc"):r==="equipped"?m:r==="real"?p.builds.get(i).artifactIds:ye(le,()=>""),[r,i,p,m]),J=c.useMemo(()=>r==="tc"?"tc":r==="equipped"?u:r==="real"?p.builds.get(i).weaponId??"":"",[r,i,p,u]),q=c.useMemo(()=>e(L,{item:!0,xs:1,children:e(Dl,{showLocation:!0,weaponId:C.get(D.weapon.id).value,onClick:U})}),[C,U]),Y=c.useMemo(()=>le.map(S=>e(L,{item:!0,xs:1,children:e(Cl,{showLocation:!0,slotKey:S,artifactId:x[S],mainStatAssumptionLevel:d,onClick:()=>{const B=M[S].oldId,H=M[S].newId;T({oldId:B!==H?B:void 0,newId:H})}})},S)),[T,M,d,x]),Q=le.every(S=>x[S]===w[S])&&C.get(D.weapon.id).value===J;return e(Yt,{children:f(c.Suspense,{fallback:e(te,{variant:"rectangular",width:"100%",height:600}),children:[y&&e(Vl,{newOld:y,showWeapon:R,onClose:k}),I&&e(Gl,{newOld:I,mainStatAssumptionLevel:d,onClose:W,allowLocationsState:h}),f(P,{children:[f(g,{display:"flex",gap:1,sx:{pb:1},flexWrap:"wrap",children:[t!==void 0&&e(E,{color:"info",children:e(_,{children:f("strong",{children:[t,Q?" (Equipped)":""]})})}),e(Bl,{artifacts:j,currentlyEquipped:Q}),e(g,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}),n,e(A,{size:"small",color:"success",onClick:v,disabled:o||Q,startIcon:e(Gr,{}),children:"Equip Build"}),a]}),f(L,{container:!0,spacing:1,sx:{pb:1},columns:{xs:2,sm:3,md:4,lg:6},children:[q,Y]}),e(Ml,{})]})]})})}function Vl({newOld:{newId:t,oldId:a},showWeapon:n,onClose:o}){const s=$(),r=a!==t,i=c.useCallback(l=>s.weapons.remove(l),[s]);return e(je,{open:n,onClose:o,containerProps:{maxWidth:r?"md":"xs"},children:e(re,{children:f(P,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[r&&f(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(oe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"Old Weapon"})}),a==="tc"?e(_,{variant:"h6",textAlign:"center",color:"info",children:e(E,{children:"TC Weapon"})}):e(We,{weaponId:a,onDelete:i})]}),r&&e(g,{display:"flex",flexGrow:1}),r&&e(g,{display:"flex",alignItems:"center",justifyContent:"center",children:e(ka,{sx:{fontSize:40}})}),r&&e(g,{display:"flex",flexGrow:1}),f(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(oe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"New Weapon"})}),e(We,{weaponId:t,onDelete:i})]})]})})})}function Gl({newOld:{newId:t,oldId:a},mainStatAssumptionLevel:n,onClose:o,allowLocationsState:s}){var h;const r=$(),{character:{key:i}}=c.useContext(O),l=((h=r.arts.get(t))==null?void 0:h.location)??"",m=ot(t),u=ot(a),d=c.useCallback(p=>r.arts.remove(p),[r]);return e(je,{open:!!t,onClose:o,containerProps:{maxWidth:a?"md":"xs"},children:e(re,{children:f(P,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[a&&f(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(oe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"Old Artifact"})}),a==="tc"?e(_,{variant:"h6",textAlign:"center",color:"info",children:e(E,{children:"TC Artifact"})}):e(Ie,{artifactId:a,onDelete:d,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:u==null?void 0:u.slotKey}}),a!=="tc"&&e(zt,{id:a})]}),a&&e(g,{display:"flex",flexGrow:1}),a&&e(g,{display:"flex",alignItems:"center",justifyContent:"center",children:e(ka,{sx:{fontSize:40}})}),a&&e(g,{display:"flex",flexGrow:1}),f(g,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(oe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"New Artifact"})}),e(Ie,{artifactId:t,onDelete:d,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:m==null?void 0:m.slotKey}}),m&&e(zt,{id:t}),l&&l!==xe(i)&&s!=="all"&&e(Yl,{locationKey:l}),m&&ln.includes(m.setKey)&&e(ql,{setKey:m.setKey})]})]})})})}function zt({id:t}){const{t:a}=N("page_character_optimize"),{teamChar:{optConfigId:n}}=c.useContext(se),o=$(),{artExclusion:s}=Be(n),r=s.includes(t),i=c.useCallback(()=>o.optConfigs.set(n,{artExclusion:Xt(s,t)}),[t,s,o,n]);return n?e(Ae,{title:e(g,{children:e(_,{children:a`excludeArt.includeArtifactTip`})}),placement:"top",arrow:!0,children:e(A,{onClick:i,color:r?"secondary":"success",size:"small",startIcon:r?e(_a,{}):e(Ra,{}),children:a`excludeArt.includeArtifactButton`})}):null}function Yl({locationKey:t}){const{t:a}=N("page_character_optimize"),{teamChar:{optConfigId:n}}=c.useContext(se),o=$(),s=ae(o.chars.LocationToCharacterKey(t)),{excludedLocations:r}=Be(n)??{excludedLocations:[]},i=r.includes(t),l=c.useCallback(()=>o.optConfigs.set(n,{excludedLocations:Xt(r,t)}),[t,r,o,n]);return n?e(A,{onClick:l,color:i?"secondary":"success",size:"small",startIcon:i?e(_a,{}):e(Ra,{}),children:f("span",{children:[a`excludeChar.allowEquip`," ",e("strong",{children:s.name})]})}):null}const Nt=Qn(cn({dyn:{...ne.art,...ne.artSet}})),Xl={art:ye([...un,...Jt],t=>Nt.dyn[t]),artSet:ue(ne.artSet,(t,a)=>Nt.dyn[a])};function pu(t,a,n){const o={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},s=new Set;for(const r of t){const i=dn(r.mainStatKey,r.rarity,Math.max(Math.min(a,hn[r.rarity]),r.level)),l={id:r.id,set:r.setKey,values:{[r.setKey]:1,[r.mainStatKey]:r.mainStatKey.endsWith("_")?i/100:i,...Object.fromEntries(r.substats.map(m=>[m.key,m.key.endsWith("_")?m.accurateValue/100:m.accurateValue]))}};delete l.values[""],o.values[r.slotKey].push(l),Object.keys(l.values).forEach(m=>s.add(m))}if(o.base=ye([...s],r=>0),n)for(const r of Object.values(o.values))r.push({id:"",values:{}});return o}function mu(t,a,n){var d;const{artifact:{sets:o},optimization:{target:s,minTotal:r}}=n;if(!s)return{};const i=(d=t[a])==null?void 0:d.target.data[0];if(!i)return{};Object.assign(i,rt([i,Xl]));const l=pn(i.display??{},s);if(!l)return{};const m=Object.keys(r).map(h=>i.total[h]).filter(h=>h);let u=Dt([l,...m],i,({path:[h]})=>h!=="dyn");return u=Zn(u,h=>{if(h.operation==="read"&&h.path[0]==="dyn"){const p=o[h.path[1]];if(p)return Oe(p);if(!Jt.includes(h.path[1]))return Oe(0)}return h},h=>h),u=Dt(u,{},h=>!1),{nodes:u}}function fu(t){const a=new Set;return er(t,{},n=>{const o=n.path[1];return a.add(o),o},1),a}function gu(t){const{artifact:{slots:a,substats:{stats:n,type:o,rarity:s}}}=t,r=ue(n,(m,u)=>Math.ceil(n[u]/mn(u,s,o))),i=Zl(a),l=Ql(a);return{minSubLines:l,minOtherRolls:Jl(Object.entries(r),i,l)}}function Jl(t,a,n=4*5){const o=t.reduce((s,[r,i])=>{const l=5-(a[r]??0);return s+Math.min(i,l)},0);return n-o}function Ql(t){return Object.values(t).reduce((a,{rarity:n,level:o})=>{const{high:s,low:r}=Cn[n];return a+(o>=4?s:r)},0)}function Zl(t){const a={};return Object.values(t).forEach(({statKey:n})=>{a[n]=(a[n]??0)+1},0),a}function ec(t){const{artifact:{slots:a,substats:{stats:n},sets:o}}=t,s=ue(n,(r,i)=>fn(r,i));return Object.values(a).forEach(({statKey:r,rarity:i,level:l})=>s[r]=(s[r]??0)+gn(r,i,l)),{art:ue(s,(r,i)=>i.endsWith("_")?tr(r):Oe(r)),artSet:ue(o,r=>Oe(r))}}function Cu(t){const{weapon:{key:a,level:n,ascension:o,refinement:s}}=t;return{id:"",location:"",key:a,level:n,ascension:o,refinement:s,lock:!1}}function tc(t=0,a,n){const{teamId:o,teamCharId:s}=c.useContext(se);return ac(o,s,t,a,n)}function ac(t,a,n=0,o,s){const r=$(),[i,l]=De(),m=c.useDeferredValue(i),{gender:u}=de(),{teamCharIds:d}=Wn(t)??{teamCharIds:[]},h=c.useMemo(()=>m&&nc(r,t,u,a,n,o,s),[m,u,t,r,n,a,o,s]);return c.useEffect(()=>t?r.teams.follow(t,l):void 0,[t,l,r]),c.useEffect(()=>{if(!i)return()=>{};const p=d.map(C=>{const b=r.teamChars.follow(C,l),y=r.teamChars.followChar(C,l),R=r.teamChars.followBuild(C,l);return()=>{b(),y(),R()}});return()=>{p.forEach(C=>C())}},[i,r,d,l]),h}function nc(t,a,n,o,s=0,r,i){if(!a)return;const l=t.teams.getActiveTeamChar(a);if(!l)return;const{teamData:m,teamBundle:u}=rc(t,a,o,s,r,i)??{};if(!m||!u)return;const d=ar(m,n,l.key);return bn(d,(p,C)=>{const{data:b,...y}=u[C];return{...p,...y}})}function rc(t,a,n,o=0,s,r){if(!a)return;const i=t.teams.get(a);if(!i)return;const{teamCharIds:l,enemyOverride:m}=i,u=l.map(p=>{if(!p)return;const C=t.teamChars.get(p);if(!C)return;const{key:b,buildType:y,buildTcId:R,infusionAura:U,customMultiTargets:k,conditional:M,bonusStats:I,hitMode:T,reaction:W}=C,z=t.chars.get(b);if(!z)return;const{key:v,level:x,constellation:j,ascension:w,talent:J}=z,q=p===n,Y=(()=>r&&q?r:t.teamChars.getLoadoutWeapon(p))(),Q=(()=>s&&q?s:y==="tc"&&R?ec(t.buildTcs.get(R)):Object.values(t.teamChars.getLoadoutArtifacts(p)).filter(B=>B))(),S=(()=>o&&q?o:0)();return oc(t,q,S,{key:v,level:x,constellation:j,ascension:w,talent:J,infusionAura:U,customMultiTargets:k,conditional:M,bonusStats:I,enemyOverride:m,hitMode:T,reaction:W},Y,Q)}).filter(p=>p),d=Object.fromEntries(u.filter(p=>p).map(p=>[p.character.key,p]));return{teamData:ue(d,({data:p})=>p),teamBundle:d}}function oc(t,a=!1,n,o,s,r){const i=t.chars.get(o.key),l=ae(o.key,t.gender);if(!l)return;const m=gt(s.key);if(!m)return;const u=La.getAllDataOfType(l.weaponTypeKey),d=a?(()=>{const{display:b,...y}=m.data;return rt([y,u])})():m.data,h=rt([l.data,d,Sr]),C=[...Array.isArray(r)?r.map(b=>nr(b,n)):[r],rr(o,a?h:void 0),ha(s),h,or,zn];return{character:i,weapon:s,characterSheet:l,weaponSheet:m,data:C}}const Qe={mx:.25,px:.25};function sc({reaction:t}){const{t:a}=N("sheet_gen"),n=t==="spread"?"dendro":"electro";return f(g,{display:"flex",alignItems:"center",children:[e(Pe,{color:t,children:a(`reaction.${t}`)}),e(E,{sx:Qe,color:"dendro",children:e(xn,{...Z})}),"+",e(E,{sx:Qe,color:"electro",children:e(Qt,{...Z})}),"+",e(E,{sx:Qe,color:n,children:e(ht,{ele:n,iconProps:Z})})]})}const Et={"":e("span",{children:"No Team Melee Infusion"}),pyro:f("span",{children:[e(yn,{...Z})," ",e(E,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:f("span",{children:[e(vn,{...Z})," ",e(E,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]}),hydro:f("span",{children:[e(wn,{...Z})," ",e(E,{children:"Candace Burst"})," Sacred Rite: Wagtail's Tide"]}),electro:f("span",{children:[e(Qt,{...Z})," ",e(E,{children:"Somnia Burst"})," ","Parallax Paws"]})};function bu(t){const{teamCharId:a,teamChar:{infusionAura:n}}=c.useContext(se),{character:{key:o}}=c.useContext(O),s=$();return _n(o)?e(Tr,{title:Et[n||""],color:n||"secondary",disableElevation:!0,disabled:!a,...t,children:Object.entries(Et).map(([r,i])=>e($a,{sx:r?{color:`${r}.main`}:void 0,selected:r===n,disabled:r===n,onClick:()=>s.teamChars.set(a,{infusionAura:r}),children:i},r))}):null}function ic(t){const{t:a}=N("page_character"),{teamCharId:n,teamChar:{reaction:o}}=c.useContext(se),s=$(),{data:r}=c.useContext(K),i=r.get(D.charEle).value,l=r.get(sr).value,m=[...new Set([...At[i]??[],...At[l]??[],...Bt[i]??[],...Bt[l]??[]])];return f(Ke,{exclusive:!0,baseColor:"secondary",value:o,onChange:(u,d)=>s.teamChars.set(n,{reaction:d}),disabled:!n,...t,children:[e(we,{value:"",disabled:!o,children:a`noReaction`}),m.map(u=>e(we,{value:u,disabled:o===u,children:[...Rn].includes(u)?e(Vn,{reaction:u}):e(sc,{reaction:u})},u))]})}function lc(t){const{t:a}=N("page_character"),{teamCharId:n,teamChar:{hitMode:o="avgHit"}}=c.useContext(se),s=$();return e(Ke,{exclusive:!0,baseColor:"secondary",value:o,onChange:(r,i)=>s.teamChars.set(n,{hitMode:i}),disabled:!n,...t,children:Sn.map(r=>e(we,{value:r,disabled:o===r,children:a(`hitmode.${r}`)},r))})}function Ia({artId:t,weaponId:a}){const{t:n}=N("page_character"),[o,s,r]=he(!1);return f(Se,{children:[e(Zt,{open:o,onClose:r,containerProps:{maxWidth:"xl"},children:e(cc,{artId:t,weaponId:a,onHide:r})}),e(Ne,{title:e(_,{children:n`tabEquip.compare`}),placement:"top",arrow:!0,children:e(A,{color:"info",size:"small",onClick:s,children:e(gr,{})})})]})}function cc(t){var o;const a=c.useContext(se),n=c.useContext(O);return(o=a==null?void 0:a.teamChar)!=null&&o.optConfigId?e(uc,{...t}):n!=null&&n.character?e(dc,{...t}):null}function uc({artId:t,weaponId:a,onHide:n}){const o=$(),{character:{key:s}}=c.useContext(O),{teamCharId:r,teamChar:{optConfigId:i}}=c.useContext(se),{mainStatAssumptionLevel:l}=Be(i),{data:m}=c.useContext(K),u=c.useMemo(()=>{const p=o.arts.get(t??""),C=o.teamChars.getLoadoutArtifacts(r),b=ue(C,(y,R)=>R===(p==null?void 0:p.slotKey)?p:y);return Object.values(b).filter(y=>y)},[o,r,t]),d=tc(l,u,a?o.weapons.get(a):void 0),h=c.useMemo(()=>d&&{data:d[s].target,teamData:d,oldData:m},[s,d,m]);return h?e(Wa,{dataProviderValue:h,onHide:n}):null}function dc({artId:t,weaponId:a,onHide:n}){const o=$(),{character:{key:s,equippedArtifacts:r}}=c.useContext(O),{data:i}=c.useContext(K),l=c.useMemo(()=>{const d=o.arts.get(t??""),h=ue(r,(p,C)=>C===(d==null?void 0:d.slotKey)?d:o.arts.get(p));return Object.values(h).filter(p=>p)},[o,r,t]),m=la(s,0,l,a?o.weapons.get(a):void 0),u=c.useMemo(()=>m&&{data:m[s].target,teamData:m,oldData:i},[s,m,i]);if(u)return e(Wa,{dataProviderValue:u,onHide:n})}function Wa({dataProviderValue:t,onHide:a}){return e(c.Suspense,{fallback:e(te,{variant:"rectangular",width:"100%",height:600}),children:t&&e(K.Provider,{value:t,children:e(Hl,{extraButtonsLeft:f(Se,{children:[e(lc,{size:"small"}),e(ic,{size:"small"})]}),extraButtonsRight:e(A,{size:"small",color:"error",onClick:a,children:e(Aa,{})})})})})}const hc={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},pc=c.lazy(()=>ea(()=>import("./ArtifactEditor-287851d9.js"),["./ArtifactEditor-287851d9.js","./index-d7c5a608.js","./index-54b3ec44.css","./ArtifactRarityDropdown-ed6fda93.js","./index-92601b39.js","./index-5d955181.js","./ColoredText-2fa1c704.js","./SqBadge-476f936c.js","./LocationAutocomplete-895f0927.js","./StarDisplay-26f0194e.js","./DropdownButton-9515b552.js","./ArtifactStatKeyDisplay-a82953cc.js","./Artifact-732e185a.js","./BootstrapTooltip-55b8e665.js","./LockOpen-e104aa74.js","./SlotIcon-fc1fe9b4.js","./CloseButton-5dd2e433.js","./ArtifactSort-e474e052.js","./InfoTooltip-75ebe0bf.js","./CardActionArea-d4413770.js","./TextButton-515ac8ba.js","./CardHeader-a1605d56.js","./ChevronRight-49ae599a.js"],import.meta.url)),mc=c.lazy(()=>ea(()=>import("./ArtifactFilterDisplay-fbdfafc9.js").then(t=>t.b),["./ArtifactFilterDisplay-fbdfafc9.js","./index-d7c5a608.js","./index-54b3ec44.css","./LockOpen-e104aa74.js","./useDisplayArtifact-b207efd6.js","./SolidToggleButtonGroup-63806ab2.js","./totalUtils-2d5cc530.js","./BootstrapTooltip-55b8e665.js","./StarDisplay-26f0194e.js","./DropdownButton-9515b552.js","./ColoredText-2fa1c704.js","./index-5d955181.js","./SqBadge-476f936c.js","./ArtifactStatKeyDisplay-a82953cc.js","./Artifact-732e185a.js","./LocationAutocomplete-895f0927.js","./index-92601b39.js","./SlotIcon-fc1fe9b4.js"],import.meta.url));function za({onChangeId:t,slotKey:a,show:n,onClose:o}){const{t:s}=N(["page_character","artifact"]),r=$(),i=c.useCallback(v=>{t(v),o()},[t,o]),l=c.useCallback((v,x)=>({...v,...x,slotKeys:[a]}),[a]),[m,u,d]=he(!1),[h,p]=c.useReducer(l,{...Cr(),slotKeys:[a]}),[C,b]=De();c.useEffect(()=>r.arts.followAny(b),[r,b]);const y=Ca(),R=c.useMemo(()=>br(),[]),U=r.arts.values.filter(v=>v.slotKey===h.slotKeys[0]).length,k=c.useMemo(()=>{const v=ft(h,R);return C&&r.arts.values.filter(v).map(x=>x.id)},[C,r,R,h]),{numShow:M,setTriggerElement:I}=ba(hc[y],k.length),T=c.useMemo(()=>k.slice(0,M),[k,M]),W=k.length!==U?`${k.length}/${U}`:`${U}`,z={numShowing:T.length,total:W,t:s,namespace:"artifact"};return e(je,{open:n,onClose:o,containerProps:{maxWidth:"xl"},children:f(re,{children:[e(c.Suspense,{fallback:!1,children:e(pc,{artifactIdToEdit:m?"new":"",cancelEdit:d,allowUpload:!0,allowEmpty:!0,fixedSlotKey:h.slotKeys[0]})}),f(P,{sx:{py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f(_,{variant:"h6",children:[a?e(Le,{src:ke.slot[a]}):null," ",s`tabEquip.swapArt`]}),e(Ee,{onClick:o})]}),e(be,{}),e(P,{children:e(c.Suspense,{fallback:e(te,{variant:"rectangular",width:"100%",height:200}),children:e(mc,{filterOption:h,filterOptionDispatch:p,filteredIds:k,disableSlotFilter:!0})})}),e(be,{}),f(P,{children:[e(g,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:e(xa,{showingTextProps:z})}),e(A,{fullWidth:!0,onClick:u,color:"info",startIcon:e(Ua,{}),children:s("artifact:addNew")}),e(g,{mt:1,children:e(c.Suspense,{fallback:e(te,{variant:"rectangular",width:"100%",height:300}),children:e(L,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:T.map(v=>e(L,{item:!0,xs:1,children:e(Ie,{artifactId:v,extraButtons:e(Ia,{artId:v}),onClick:i})},v))})})}),k.length!==T.length&&e(te,{ref:v=>{v&&I(v)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}const fc={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},gc=Ct([...ta]);function Rt({onChangeId:t,weaponTypeKey:a,show:n,onClose:o}){const{t:s}=N(["page_character","page_weapon","weaponNames_gen"]),r=$(),[i,l]=c.useState(!1),m=c.useCallback(w=>{t(w),o()},[t,o]),[u,d]=c.useState(""),h=c.useCallback(w=>{d(r.weapons.new(Ln(w)))},[r,d]),p=c.useCallback(()=>d(""),[]),[C,b]=De();c.useEffect(()=>r.weapons.followAny(b),[b,r]);const y=Ca(),[R,U]=c.useState([5,4,3]),[k,M]=c.useState(""),I=c.useDeferredValue(k),T=c.useMemo(()=>(C&&r.weapons.values.filter(ft({weaponType:a,rarity:R,name:I},xr())).sort(ya(vr.level??[],!1,yr())).map(w=>w.id))??[],[C,r,R,a,I]),{numShow:W,setTriggerElement:z}=ba(fc[y],T.length),v=c.useMemo(()=>T.slice(0,W),[T,W]),x=`${T.length}`,j={numShowing:v.length,total:x,t:s,namespace:"page_weapon"};return e(je,{open:n,onClose:o,children:f(re,{children:[e(c.Suspense,{fallback:!1,children:e(jr,{show:i,onHide:()=>l(!1),onSelect:h,weaponTypeFilter:a})}),e(c.Suspense,{fallback:!1,children:e(pa,{weaponId:u,footer:!0,onClose:p})}),e(P,{sx:{py:1},children:f(L,{container:!0,children:[e(L,{item:!0,flexGrow:1,children:f(_,{variant:"h6",children:[a?e(Le,{src:ke.weaponTypes[a]}):null," ",s`page_character:tabEquip.swapWeapon`]})}),e(L,{item:!0,children:e(Ee,{onClick:o})})]})}),e(be,{}),f(P,{sx:{display:"flex",flexDirection:"column",gap:1},children:[f(L,{container:!0,spacing:1,children:[e(L,{item:!0,children:e(Ke,{sx:{height:"100%"},value:R,size:"small",children:ta.map(w=>e(we,{value:w,onClick:()=>U(gc(R,w)),children:f(g,{display:"flex",children:[e("strong",{children:w}),e(va,{})]})},w))})}),e(L,{item:!0,flexGrow:1,children:e(wa,{autoFocus:!0,size:"small",value:k,onChange:w=>M(w.target.value),label:s("page_weapon:weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),e(g,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:e(xa,{showingTextProps:j})}),e(A,{fullWidth:!0,onClick:()=>l(!0),color:"info",startIcon:e(Ua,{}),children:s("page_weapon:addWeapon")}),e(L,{container:!0,spacing:1,children:v.map(w=>e(L,{item:!0,xs:6,sm:6,md:4,lg:3,children:e(We,{weaponId:w,onClick:m,extraButtons:e(Ia,{weaponId:w})})},w))}),T.length!==v.length&&e(te,{ref:w=>{w&&z(w)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})})}const Cc={xs:1,sm:2,md:3,lg:3,xl:3};function bc({weaponTypeKey:t,weaponId:a,artifactIds:n,setWeapon:o,setArtifact:s}){const r=$(),[i,l]=c.useState("");c.useEffect(()=>{a&&i&&i!==a&&l(a)},[i,a]);const m=c.useCallback(()=>a&&l(a),[a]),u=c.useCallback(()=>l(""),[]);return f(g,{children:[e(pa,{weaponId:i,footer:!0,onClose:u,extraButtons:e(_c,{weaponTypeKey:t,onChangeId:o})}),f(L,{item:!0,columns:Cc,container:!0,spacing:1,children:[e(L,{item:!0,xs:1,display:"flex",flexDirection:"column",children:a&&r.weapons.keys.includes(a)?e(We,{weaponId:a,onEdit:m,extraButtons:e(wc,{weaponTypeKey:t,onChangeId:o})}):e(xc,{weaponTypeKey:t,onChangeId:o})}),!!n&&Object.entries(n).map(([d,h])=>e(L,{item:!0,xs:1,children:r.arts.keys.includes(h)?e(Ie,{artifactId:h,extraButtons:e(vc,{slotKey:d,onChangeId:p=>s(d,p)}),editorProps:{}}):e(yc,{slotKey:d,onChangeId:p=>s(d,p)})},h||d))]})]})}function xc({weaponTypeKey:t,onChangeId:a}){const[n,o,s]=he();return f(oe,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(P,{children:f(_,{children:[e(Le,{src:ke.weaponTypes[t]})," ",t]})}),e(be,{}),f(g,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(Rt,{weaponTypeKey:t,show:n,onClose:s,onChangeId:a}),e(A,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:e($e,{sx:{height:100,width:100}})})]})]})}function yc({slotKey:t,onChangeId:a}){const[n,o,s]=he(),{t:r}=N("artifact");return f(oe,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(P,{children:f(_,{children:[e(Pr,{iconProps:Z,slotKey:t})," ",r(`slotName.${t}`)]})}),e(be,{}),f(g,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(za,{slotKey:t,show:n,onClose:s,onChangeId:a}),e(A,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:e($e,{sx:{height:100,width:100}})})]})]})}function vc({slotKey:t,onChangeId:a}){const{t:n}=N("page_character"),[o,s,r]=he();return f(Se,{children:[e(Ne,{title:e(_,{children:n`tabEquip.swapArt`}),placement:"top",arrow:!0,children:e(A,{color:"info",size:"small",onClick:s,children:e($e,{})})}),e(za,{slotKey:t,show:o,onClose:r,onChangeId:a})]})}function wc({weaponTypeKey:t,onChangeId:a}){const{t:n}=N("page_character"),[o,s,r]=he();return f(Se,{children:[e(Ne,{title:e(_,{children:n`tabEquip.swapWeapon`}),placement:"top",arrow:!0,children:e(A,{color:"info",size:"small",onClick:s,children:e($e,{})})}),e(Rt,{weaponTypeKey:t,onChangeId:a,show:o,onClose:r})]})}function _c({weaponTypeKey:t,onChangeId:a}){const{t:n}=N("page_character"),[o,s,r]=he();return f(Se,{children:[e(A,{color:"info",onClick:s,startIcon:e($e,{}),children:n`tabEquip.swapWeapon`}),e(Rt,{weaponTypeKey:t,onChangeId:a,show:o,onClose:r})]})}function Rc({talentKey:t,dropDownButtonProps:a}){const{t:n}=N("sheet_gen"),{character:{talent:o,key:s}}=c.useContext(O),r=$(),{data:i}=c.useContext(K),l=i.get(ne.total[`${t}Boost`]).value,m=i.get(ne.total[t]).value,u=i.get(ne.asc).value;return e(Vr,{fullWidth:!0,title:n("talentLvl",{level:m}),color:l?"info":"primary",...a,children:kn(1,$n[u]).map(d=>e($a,{selected:o[t]===d,disabled:o[t]===d,onClick:()=>r.chars.set(s,h=>{h.talent[t]=d}),children:n("talentLvl",{level:d+l})},d))})}function Sc(){const{t}=N("ui"),a=$(),{character:n}=c.useContext(O),{key:o}=n,{gender:s}=de(),r=c.useCallback(()=>a.dbMeta.set({gender:s==="F"?"M":"F"}),[s,a]);return o.startsWith("Traveler")?f(A,{onClick:r,startIcon:s==="F"?e(Yr,{}):e(Xr,{}),children:[e("strong",{children:t(`gender.${s}`)})," "]}):null}function Lc({onClose:t}){const{t:a}=N(["page_character","sillyWisher_charNames","charNames_gen"]),n=aa(),o=$(),{character:s,character:{key:r},characterSheet:i}=c.useContext(O),{gender:l}=de(),{silly:m}=c.useContext(ze),u=c.useCallback(async()=>{let d=ae(r,l).name;typeof d=="object"&&(d=a(`${m?"sillyWisher_charNames":"charNames_gen"}:${Te(r,l)}`)),window.confirm(a("removeCharacter",{value:d}))&&(o.chars.remove(r),n("/characters"))},[o,n,r,l,m,a]);return f(g,{display:"flex",flexDirection:"column",gap:1,children:[f(g,{display:"flex",gap:1,children:[e(Sc,{}),e(A,{color:"error",onClick:()=>u(),startIcon:e(na,{}),sx:{marginLeft:"auto"},children:a("delete")}),!!t&&e(Ee,{onClick:t})]}),e(g,{children:f(L,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[e(L,{item:!0,xs:8,sm:5,md:4,lg:3,children:f(oe,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[e(ol,{}),e(g,{sx:{px:1},children:e(dr,{level:s.level,ascension:s.ascension,setBoth:d=>o.chars.set(r,d)})}),e(g,{sx:{px:2},children:e(Nn,{})}),e(_,{sx:{textAlign:"center",pb:-1},variant:"h6",children:i.constellationName}),e(rl,{})]})}),f(L,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[e(g,{children:e(L,{container:!0,columns:3,spacing:1,children:["auto","skill","burst"].map(d=>{var h;return e(L,{item:!0,xs:1,children:e(Rc,{talentKey:d,dropDownButtonProps:{startIcon:e(Le,{src:(h=i.getTalentOfKey(d))==null?void 0:h.img,size:1.75,sideMargin:!0})}},d)})})})}),e(kc,{}),e(Uc,{})]})]})})]})}function kc(){const{character:{key:t}}=c.useContext(O),{data:a}=c.useContext(K),n=$(),o=Un(t).weaponType,s=a.get(D.weapon.id).value,r=c.useMemo(()=>ye(le,i=>a.get(D.art[i].id).value),[a]);return e(g,{children:e(bc,{weaponTypeKey:o,weaponId:s,artifactIds:r,setWeapon:i=>{n.weapons.set(i,{location:xe(t)})},setArtifact:(i,l)=>{n.arts.set(l,{location:xe(t)})}})})}const $c={xs:1,sm:2,md:3,lg:3,xl:3};function Uc(){const t=aa(),{character:{key:a}}=c.useContext(O),n=$(),{gender:o}=de(),[s,r]=De(),i=c.useMemo(()=>{const h={};return n.teamChars.entries.map(([p,C])=>{C.key===a&&(h[p]||(h[p]=[]))}),n.teams.entries.forEach(([p,C])=>{const b=C.teamCharIds.find(y=>{var R;return((R=n.teamChars.get(y))==null?void 0:R.key)===a});b&&h[b].push(p)}),s&&h},[s,a,n]);c.useEffect(()=>n.teams.followAny(()=>r()),[n,r]),c.useEffect(()=>n.teamChars.followAny(()=>r()),[n,r]);const l=h=>{const p=n.teams.new();n.teams.set(p,C=>{C.teamCharIds[0]=h}),t(`/teams/${p}`)},m=()=>{const h=n.teams.new(),p=n.teamChars.new(a);n.teams.set(h,C=>{C.teamCharIds[0]=p}),t(`/teams/${h}`)},u=h=>{window.confirm("The loadouts and data (such as multi-opts) on this character will be deleted.")&&n.teamChars.remove(h)},d=h=>{n.teamChars.duplicate(h)};return f(g,{sx:{display:"flex",flexDirection:"column",gap:1},children:[f(_,{variant:"h6",children:["Team Loadouts with"," ",e(Tn,{characterKey:a,gender:o})]}),Object.entries(i).map(([h,p])=>{const{name:C,description:b,buildIds:y,buildTcIds:R}=n.teamChars.get(h);return f(oe,{bgt:"light",children:[e(P,{children:f(g,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(_,{children:C}),e(Mn,{title:e(_,{children:b}),children:e(lr,{})}),f(Mt,{color:y.length?"primary":"secondary",children:[y.length," Builds"]}),f(Mt,{color:R.length?"primary":"secondary",children:[R.length," TC Builds"]}),e(A,{color:"info",onClick:()=>d(h),sx:{ml:"auto"},children:e(Ta,{})}),e(A,{color:"error",onClick:()=>u(h),children:e(na,{})})]})}),e(be,{}),e(P,{children:f(L,{container:!0,columns:$c,spacing:2,children:[p.map(U=>e(L,{item:!0,xs:1,children:e(En,{teamId:U,onClick:k=>t(`/teams/${U}${k?`/${k}`:""}`)})},U)),e(L,{item:!0,xs:1,children:e(A,{fullWidth:!0,sx:{height:"100%"},onClick:()=>l(h),color:"info",startIcon:e(jt,{}),children:"Add new Team"})})]})})]},h)}),e(A,{fullWidth:!0,onClick:()=>m(),color:"info",startIcon:e(jt,{}),children:"Add new Loadout+Team"}),e(oe,{bgt:"light"})]})}function xu({characterKey:t,onClose:a}){return e(Zt,{open:!!t,onClose:a,children:e(c.Suspense,{fallback:e(te,{variant:"rectangular",width:"100%",height:1e3}),children:t&&e(Tc,{characterKey:t,onClose:a},t)})})}function Tc({characterKey:t,onClose:a}){const n=ca(t),{gender:o}=de(),s=ae(t,o),r=la(t),{target:i}=(r==null?void 0:r[t])??{},l=oa((n==null?void 0:n.key)??""),m=c.useMemo(()=>{if(!(!r||!i))return{data:i,teamData:r,oldData:void 0}},[i,r]),u=c.useMemo(()=>{if(!(!n||!s))return{character:n,characterSheet:s,characterDispatch:l}},[n,s,l]),[d,h]=c.useState(),[p,C]=c.useState(),b=c.useMemo(()=>({chartData:d,setChartData:h,graphBuilds:p,setGraphBuilds:C}),[d,p]);return c.useEffect(()=>{h(void 0),C(void 0)},[t]),e(oe,{children:e(P,{sx:{display:"flex",flexDirection:"column",gap:1},children:m&&u&&b?e(O.Provider,{value:u,children:e(K.Provider,{value:m,children:e(Ss.Provider,{value:b,children:e(Lc,{onClose:a})})})}):e(te,{variant:"rectangular",width:"100%",height:1e3})})})}function Mc(t,a){return{new:n=>t.chars.get(n)?0:1,name:n=>tt.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${Te(n,t.gender)}`).toString(),level:n=>{const o=t.chars.get(n);return o?o.level*(o.ascension+1):0},rarity:n=>at.char.data[xe(n)].rarity??0,favorite:n=>t.charMeta.get(n).favorite?1:0}}function jc(t,a){return{element:(n,o)=>o.includes(jn(n)),weaponType:(n,o)=>o.includes(at.char.data[xe(n)].weaponType),rarity:(n,o)=>o.includes(at.char.data[xe(n)].rarity),name:(n,o)=>o===void 0||tt.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${Te(n,t.gender)}`).toLowerCase().includes(o.toLowerCase())||a&&tt.t(`charNames_gen:${Te(n,t.gender)}`).toLowerCase().includes(o.toLowerCase()),new:(n,o)=>o===void 0||o===(t.chars.get(n)?"no":"yes")}}const Na={name:["favorite","name"],level:["favorite","level","rarity","name"],rarity:["favorite","rarity","level","name"]},Dc=Me(we,{shouldForwardProp:t=>t!=="baseColor"&&t!=="selectedColor"})(({theme:t,baseColor:a="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[n].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[n].dark}})),Ac=Dc,Bc=Ct([...dt]);function Oc({value:t,totals:a,onChange:n,...o}){const s=ut(),r=!nt(s.breakpoints.up("md")),i=!nt(s.breakpoints.up("sm"));return e(Mr,{exclusive:!0,value:t,...o,children:dt.map(l=>f(Ac,{value:l,sx:{p:r?1:void 0,minWidth:r?0:"6em",display:"flex"},selectedColor:l,onClick:()=>n(Bc(t,l)),children:[e(ht,{ele:l,iconProps:{fontSize:r&&!i?"inherit":void 0}}),!i&&e(ce,{sx:{ml:.5},label:a[l],size:"small"})]},l))})}const Ic=Object.keys(Na);function yu({show:t,onHide:a,onSelect:n,filter:o=()=>!0,newFirst:s=!1}){const{t:r}=N(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:i}=c.useContext(ze),l=$(),[m,u]=c.useState(()=>l.displayCharacter.get());c.useEffect(()=>l.displayCharacter.follow((x,j)=>u(j)),[l,u]);const{gender:d}=de(),[h,p]=De();c.useEffect(()=>l.charMeta.followAny(()=>p()),[p,l]);const[C,b]=c.useState(""),y=c.useDeferredValue(C),R=c.useDeferredValue(m),U=c.useDeferredValue(h),k=c.useMemo(()=>{const{element:x,weaponType:j,sortType:w,ascending:J}=R,q=[...s?["new"]:[],...Na[w]??[]];return U&&Ye.filter(Y=>o(Y,l.chars.get(Y),ae(Y,d))).filter(ft({element:x,weaponType:j,name:y},jc(l,i))).sort(ya(q,J,Mc(l,i),["new","favorite"]))},[R,s,U,y,l,i,o,d]),M=c.useMemo(()=>Ot(An,x=>Ye.forEach(j=>{const w=ae(j,l.gender).weaponTypeKey;x[w].total++,k.includes(j)&&x[w].current++})),[k,l]),I=c.useMemo(()=>Ot(dt,x=>Ye.forEach(j=>{const w=ae(j,l.gender).elementKey;x[w].total++,k.includes(j)&&x[w].current++})),[k,l]),{weaponType:T,element:W,sortType:z,ascending:v}=m;return e(je,{open:t,onClose:()=>{b(""),a()},sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:f(re,{children:[f(P,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e(wr,{sx:{height:"100%"},onChange:x=>l.displayCharacter.set({weaponType:x}),value:T,totals:M,size:"small"}),e(Oc,{sx:{height:"100%"},onChange:x=>l.displayCharacter.set({element:x}),value:W,totals:I,size:"small"}),e(g,{flexGrow:1,children:e(wa,{autoFocus:!0,value:C,onChange:x=>b(x.target.value),label:r("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),e(mr,{sx:{height:"100%"},sortKeys:Ic,value:z,onChange:x=>l.displayCharacter.set({sortType:x}),ascending:v,onChangeAsc:x=>l.displayCharacter.set({ascending:x})}),e(Ee,{onClick:()=>{b(""),a()}})]}),e(be,{}),e(K.Provider,{value:{teamData:void 0},children:e(P,{children:e(L,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:k.map(x=>e(L,{item:!0,xs:1,children:e(zc,{characterKey:x,onClick:()=>{b(""),a(),n==null||n(x)}})},x))})})})]})})}const Wc=Me(({className:t,...a})=>e(Ne,{...a,classes:{popper:t}}))({[`& .${Dn.tooltip}`]:{padding:0}});function zc({characterKey:t,onClick:a}){const{gender:n}=de(),o=ae(t,n),s=ca(t),{favorite:r}=sa(t),i=$(),{silly:l}=c.useContext(ze),[m,u,d]=he(),{level:h=1,ascension:p=0,constellation:C=0}=s??{},b=ir(t,"banner",n);return e(Wc,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:m,onClose:d,onOpen:u,title:e(g,{sx:{width:300},children:e(Pn,{hideStats:!0,characterKey:t})}),children:e(g,{children:f(Yt,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e(g,{sx:{position:"absolute",opacity:.7,zIndex:2},children:e(Gt,{sx:{p:.25},onClick:y=>{d(),i.charMeta.set(t,{favorite:!r})},children:r?e(fa,{}):e(ia,{})})}),e(Fe,{onClick:a,children:f(g,{display:"flex",position:"relative",className:b?void 0:`grad-${o==null?void 0:o.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:`url(${b})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[e(g,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:e(g,{component:"img",src:Fn(t,n,l),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),f(g,{flexGrow:1,sx:{pr:1,pt:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[e(_,{variant:"body2",sx:{flexGrow:1},children:e(E,{color:o==null?void 0:o.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:o==null?void 0:o.name})}),s?f(g,{sx:{display:"flex",gap:1,alignItems:"center"},children:[f(g,{sx:{textShadow:"0 0 5px gray"},children:[f(_,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",h]}),f(_,{variant:"body2",component:"span",color:"text.secondary",children:["/",Bn[p]]})]}),f(_,{variant:"body2",children:["C",C]})]}):e(_,{component:"span",variant:"body2",children:e(E,{children:"NEW"})}),e(mt,{stars:(o==null?void 0:o.rarity)??1,colored:!0})]})]})})]})})})}const Nc=Ct([...ra]);function vu({value:t,totals:a,onChange:n,...o}){const s=ut(),r=!nt(s.breakpoints.up("sm"));return e(Ke,{exclusive:!0,value:t,...o,children:ra.map(i=>e(we,{value:i,sx:{p:r?1:void 0,minWidth:r?0:"6em",display:"flex",gap:r?0:1},onClick:()=>n(Nc(t,i)),children:f(g,{display:"flex",children:[e("strong",{children:i}),e(va,{}),!r&&e(ce,{label:a[i],size:"small"})]})},i))})}export{Cl as A,Hl as B,vu as C,Vr as D,Oc as E,hu as F,Ss as G,lc as H,rl as I,Ml as J,gu as K,mu as L,Ll as M,fu as N,kl as O,Aa as P,Cu as Q,ic as R,Pr as S,Rc as T,bu as U,ac as V,Dl as W,jc as a,Mc as b,Na as c,xu as d,yu as e,Ta as f,bc as g,Al as h,gl as i,Tl as j,Ul as k,Et as l,sc as m,ec as n,nc as o,lt as p,it as q,ql as r,Bl as s,Oa as t,Be as u,pu as v,rc as w,Xl as x,tc as y,ol as z};
