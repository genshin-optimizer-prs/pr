"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[162,313,571],{38114:(e,t,a)=>{var n=a(14859);t.Z=void 0;var r=n(a(68671)),i=a(52322),o=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=o},99074:(e,t,a)=>{var n=a(14859);t.Z=void 0;var r=n(a(68671)),i=a(52322),o=(0,r.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");t.Z=o},22499:(e,t,a)=>{var n=a(14859);t.Z=void 0;var r=n(a(68671)),i=a(52322),o=(0,r.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");t.Z=o},92679:(e,t,a)=>{var n=a(14859);t.Z=void 0;var r=n(a(68671)),i=a(52322),o=(0,r.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},96511:(e,t,a)=>{var n=a(14859);t.Z=void 0;var r=n(a(68671)),i=a(52322),o=(0,r.default)((0,i.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");t.Z=o},22973:(e,t,a)=>{var n=a(14859);t.Z=void 0;var r=n(a(68671)),i=a(52322),o=(0,r.default)((0,i.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");t.Z=o},73673:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(29798),r=a(52322);const i=(0,n.Z)((0,r.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},60342:(e,t,a)=>{a.d(t,{ZP:()=>w});var n=a(98283),r=a(7560),i=a(69075),o=a(28316),l=a(65992),s=a(43853),c=a(99929),d=a(58862),u=a(48970),h=a(13806),p=a(53640),Z=a(40489),g=a(2784),f=a(15672);function m(e){return(0,f.Z)("MuiMasonry",e)}(0,a(69222).Z)("MuiMasonry",["root"]);var C=a(52322);const v=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],y=e=>Number(e.replace("px","")),b={flexBasis:"100%",width:0,margin:0,padding:0},x=(0,l.ZP)("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let a={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const n={};if(e.isSSR){const i={},o=y(t.spacing(e.defaultSpacing));for(let t=1;t<=e.defaultColumns;t+=1)i[`&:nth-of-type(${e.defaultColumns}n+${t%e.defaultColumns})`]={order:t};return n.height=e.defaultHeight,n.margin=-o/2,n["& > *"]=(0,r.Z)({},a["& > *"],i,{margin:o/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${o}px)`}),(0,r.Z)({},a,n)}const i=(0,c.P$)({values:e.spacing,breakpoints:t.breakpoints.values}),o=(0,d.hB)(t);a=(0,u.Z)(a,(0,c.k9)({theme:t},i,(t=>{let a;if("string"==typeof t&&!Number.isNaN(Number(t))||"number"==typeof t){const e=Number(t);a=(0,d.NA)(o,e)}else a=t;return(0,r.Z)({margin:`calc(0px - (${a} / 2))`,"& > *":{margin:`calc(${a} / 2)`}},e.maxColumnHeight&&{height:"number"==typeof a?Math.ceil(e.maxColumnHeight+y(a)):`calc(${e.maxColumnHeight}px + ${a})`})})));const l=(0,c.P$)({values:e.columns,breakpoints:t.breakpoints.values});return a=(0,u.Z)(a,(0,c.k9)({theme:t},l,(e=>({"& > *":{width:`calc(${`${(100/Number(e)).toFixed(2)}%`} - ${"string"==typeof i&&!Number.isNaN(Number(i))||"number"==typeof i?(0,d.NA)(o,Number(i)):"0px"})`}})))),"object"==typeof i&&(a=(0,u.Z)(a,(0,c.k9)({theme:t},i,((e,t)=>{if(t){const a=Number(e),n=Object.keys(l).pop(),r=(0,d.NA)(o,a);return{"& > *":{width:`calc(${`${(100/("object"==typeof l?l[t]||l[n]:l)).toFixed(2)}%`} - ${r})`}}}return null})))),a})),w=g.forwardRef((function(e,t){const a=(0,s.Z)({props:e,name:"MuiMasonry"}),{children:l,className:c,component:d="div",columns:u=4,spacing:f=1,defaultColumns:w,defaultHeight:_,defaultSpacing:k}=a,S=(0,n.Z)(a,v),j=g.useRef(),[B,I]=g.useState(),K=!B&&_&&void 0!==w&&void 0!==k,[O,X]=g.useState(K?w-1:0),z=(0,r.Z)({},a,{spacing:f,columns:u,maxColumnHeight:B,defaultColumns:w,defaultHeight:_,defaultSpacing:k,isSSR:K}),T=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},m,t)})(z),P=e=>{if(!j.current||!e||0===e.length)return;const t=j.current,a=j.current.firstChild,n=t.clientWidth,r=a.clientWidth;if(0===n||0===r)return;const i=window.getComputedStyle(a),l=y(i.marginLeft),s=y(i.marginRight),c=Math.round(n/(r+l+s)),d=new Array(c).fill(0);let u=!1;t.childNodes.forEach((e=>{if(e.nodeType!==Node.ELEMENT_NODE||"line-break"===e.dataset.class||u)return;const t=window.getComputedStyle(e),a=y(t.marginTop),n=y(t.marginBottom),r=y(t.height)?Math.ceil(y(t.height))+a+n:0;if(0!==r){for(let t=0;t<e.childNodes.length;t+=1){const a=e.childNodes[t];if("IMG"===a.tagName&&0===a.clientHeight){u=!0;break}}if(!u){const t=d.indexOf(Math.min(...d));d[t]+=r;const a=t+1;e.style.order=a}}else u=!0})),u||o.flushSync((()=>{I(Math.max(...d)),X(c>0?c-1:0)}))};(0,h.Z)((()=>{if("undefined"==typeof ResizeObserver)return;let e;const t=new ResizeObserver((()=>{e=requestAnimationFrame(P)}));return j.current&&j.current.childNodes.forEach((e=>{t.observe(e)})),()=>{e&&window.cancelAnimationFrame(e),t&&t.disconnect()}}),[u,f,l]);const M=(0,p.Z)(t,j),$=new Array(O).fill("").map(((e,t)=>(0,C.jsx)("span",{"data-class":"line-break",style:(0,r.Z)({},b,{order:t+1})},t)));return(0,C.jsxs)(x,(0,r.Z)({as:d,className:(0,Z.Z)(T.root,c),ref:M,ownerState:z},S,{children:[l,$]}))}))},18779:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(4991),r=a(30069),i=a(67550),o=a(11141),l=a(39099),s=a(86569),c=a(12366),d=a(52903);const u={mx:.25,px:.25};function h({reaction:e}){const{t}=(0,o.$G)("sheet_gen"),a="spread"===e?"dendro":"electro";return(0,d.BX)(i.Z,{display:"flex",alignItems:"center",children:[(0,d.tZ)(s.Z,{color:e,children:t(`reaction.${e}`)}),(0,d.tZ)(c.Z,{sx:u,color:"dendro",children:(0,d.tZ)(r.oZ,Object.assign({},n.mX))}),"+",(0,d.tZ)(c.Z,{sx:u,color:"electro",children:(0,d.tZ)(r.Bn,Object.assign({},n.mX))}),"+",(0,d.tZ)(c.Z,{sx:u,color:a,children:(0,d.tZ)(l.Z,{ele:a,iconProps:n.mX})})]})}},22254:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(42745),r=a(72539),i=a(503),o=a(83568),l=a(14115),s=a(66615),c=a(75213),d=a(47746),u=a(67550),h=a(47591),p=a(66198),Z=a(62197),g=a(2784),f=a(69614),m=a(39099),C=a(45269),v=a(24264),y=a(7414),b=a(86569),x=a(26437),w=a(20577),_=a(2218),k=a(52903);function S({artifactId:e,slotKey:t,mainStatAssumptionLevel:a=0,showLocation:n=!1,onClick:S,BGComponent:B=v.Z}){const I=(0,o.$l)(e),K=(0,o.Wz)(),O=(0,g.useCallback)((e=>(0,k.tZ)(c.Z,{onClick:S,sx:{height:"100%"},children:e})),[S]),X=(0,d.Z)();if(!I)return(0,k.tZ)(B,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:(0,k.tZ)(u.Z,{component:"img",src:r.CL.slot[t],sx:{width:"25%",height:"auto",opacity:.7}})});const{slotKey:z,rarity:T,level:P,mainStatKey:M,substats:$,location:L}=I,W=Math.max(Math.min(a,4*T),P),A=i.fR.find((e=>I.mainStatKey.includes(e))),E=A?(0,h.Fq)(X.palette[A].main,.6):(0,h.Fq)(X.palette.secondary.main,.6);return(0,k.tZ)(B,{sx:{height:"100%"},children:(0,k.tZ)(x.Z,{condition:!!S,wrapper:O,children:(0,k.BX)(u.Z,{display:"flex",height:"100%",children:[(0,k.BX)(u.Z,{className:`grad-${T}star`,sx:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,k.tZ)(_.Z,{art:I,children:(0,k.tZ)(u.Z,{component:"img",src:(0,r.Hp)(I.setKey,z),sx:{m:-1,maxHeight:"110%",maxWidth:"110%"}})}),(0,k.BX)(u.Z,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[(0,k.tZ)(p.Z,{size:"small",label:(0,k.tZ)("strong",{children:` +${P}`}),color:f.Z.levelVariant(P)}),n&&(0,k.tZ)(p.Z,{size:"small",label:L?(0,k.tZ)(y.Z,{characterKey:L&&K.chars.LocationToCharacterKey(L)}):(0,k.tZ)(s.Z,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),(0,k.tZ)(p.Z,{size:"small",sx:{position:"absolute",bottom:0,mb:1,backgroundColor:E,p:1},icon:(0,k.tZ)(C.Z,{placement:"top",title:(0,k.tZ)(Z.Z,{children:(0,k.tZ)(w._,{statKey:M})}),disableInteractive:!0,children:(0,k.tZ)(u.Z,{lineHeight:0,children:(0,k.tZ)(m.C,{statKey:M,iconProps:{style:{padding:"4px"}}})})}),label:(0,k.tZ)(Z.Z,{sx:{mx:-.7},children:(0,k.tZ)(b.Z,{color:W!==P?"warning":void 0,children:(0,l.R1)(M,T,W)})})})]}),(0,k.tZ)(u.Z,{display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{p:1},children:$.map(((e,t)=>(0,k.tZ)(j,{stat:e},t+e.key)))})]})})})}function j({stat:e}){var t,a;if(!e.value)return null;const r=null!=(t=null==(a=e.rolls)?void 0:a.length)?t:0,i=`roll${(0,n.re)(r,1,6)}`,o=(0,n.bf)(e.key);return(0,k.tZ)(u.Z,{display:"flex",gap:1,alignContent:"center",children:(0,k.BX)(Z.Z,{sx:{flexGrow:1,display:"flex",gap:.5,alignItems:"center"},color:r?`${i}.main`:"error.main",component:"span",children:[(0,k.tZ)(C.Z,{placement:"top",title:(0,k.tZ)(Z.Z,{children:e.key&&(0,k.tZ)(w._,{statKey:e.key})}),disableInteractive:!0,children:(0,k.tZ)(u.Z,{lineHeight:0,children:(0,k.tZ)(m.C,{statKey:e.key,iconProps:{fontSize:"inherit"}})})}),(0,k.tZ)("span",{children:`${(0,l.Jj)(e.value,o)}${o}`})]})})}},73611:(e,t,a)=>{a.d(t,{Z:()=>vt});var n=a(72539);const r=a.p+"Character_Albedo_Card.5892308f446f759f.png",i=a.p+"Character_Alhaitham_Card.390618cfb70f0e4e.jpg",o=a.p+"Character_Aloy_Card.b6b990337b74f55f.png",l=a.p+"Character_Amber_Card.2830ac6d2ff3846d.jpg",s=a.p+"Character_Arataki_Itto_Card.e1e874752d65877c.jpg",c=a.p+"Character_Baizhu_Card.19f716d36f154360.jpg",d=a.p+"Character_Barbara_Card.f372476873df3b6d.jpg",u=a.p+"Character_Beidou_Card.916c73f4f4a3ca3c.jpg",h=a.p+"Character_Bennett_Card.25f8771de05532d0.jpg",p=a.p+"Character_Candace_Card.6353e91b7bcd4404.jpg",Z=a.p+"Character_Charlotte_Card.d62569d3d856b446.jpg",g=a.p+"Character_Chevreuse_Card.41e8f351217749ba.jpg",f=a.p+"Character_Chongyun_Card.1770f1995289db9c.jpg",m=a.p+"Character_Collei_Card.aaa7e8dc2183674d.jpg",C=a.p+"Character_Cyno_Card.65e14ca6391b2f37.jpg",v=a.p+"Character_Dehya_Card.eeff4efcde0ab4f5.jpg",y=a.p+"Character_Diluc_Card.18a7a83ac9ce0b87.jpg",b=a.p+"Character_Diona_Card.21bd261dfcfe1c21.png",x=a.p+"Character_Dori_Card.ab5ef6d6304aec80.jpg",w=a.p+"Character_Eula_Card.e680ce8ea2567c4f.png",_=a.p+"Character_Faruzan_Card.8e06d53607285885.jpg",k=a.p+"Character_Fischl_Card.d45651a83cfbca82.jpg",S=a.p+"Character_Freminet_Card.9d2a6e594423439d.jpg",j=a.p+"Character_Furina_Card.a50ca164f1c3f956.jpg",B=a.p+"Character_Gaming_Card.6f5034fdf0bfc9e1.jpg",I=a.p+"Character_Ganyu_Card.5dc050fe16cea049.png",K=a.p+"Character_Gorou_Card.50bf591a764d2242.png",O=a.p+"Character_Hu_Tao_Card.d087463aac3ba35f.png",X=a.p+"Character_Jean_Card.36b2f258f4290f55.jpg",z=a.p+"Character_Kaeya_Card.b2645bca5fa7a637.jpg",T=a.p+"Character_Kaveh_Card.7f11be5aaf366a88.jpg",P=a.p+"Character_Kamisato_Ayaka_Card.e481f78f6bb51a31.png",M=a.p+"Character_Kamisato_Ayato_Card.c32d0bbba107a804.png",$=a.p+"Character_Kazuha_Card.09ababa93ec3a3e2.png",L=a.p+"Character_Keqing_Card.ed7c0168559732f6.jpg",W=a.p+"Character_Kirara_Card.f5792590c4f5a97d.jpg",A=a.p+"Character_Klee_Card.e0ee4daa68e99a52.jpg",E=a.p+"Character_Kujou_Sara_Card.1f934a5832be2b5c.jpg",N=a.p+"Character_Kuki_Shinobu_Card.3247590264aa41ec.jpg",R=a.p+"Character_Layla_Card.1e4a55ea008f4fa2.jpeg",H=a.p+"Character_Lisa_Card.4966ba74ac03470a.jpg",q=a.p+"Character_Lyney_Card.83574b5d5adf4c43.jpg",G=a.p+"Character_Lynette_Card.1a7ba1c24c9aa9d3.jpg",V=a.p+"Character_Mika_Card.280a1899f15cfea5.jpg",D=a.p+"Character_Mona_Card.d14df945153b29c3.jpg",F=a.p+"Character_Nahida_Card.c01ab425bddc31ae.jpeg",U=a.p+"Character_Navia_Card.2abe7fc6b3dfd08f.jpg",Y=a.p+"Character_Neuvillette_Card.d775e9330c010b45.jpg",J=a.p+"Character_Nilou_Card.13f5e94ed5181b37.jpg",Q=a.p+"Character_Ningguang_Card.cd89f11944f1c9cd.jpg",ee=a.p+"Character_Noelle_Card.394f26d7473fd2ad.jpg",te=a.p+"Character_Qiqi_Card.8728d970279d46ac.jpg",ae=a.p+"Character_Raiden_Shogun_Card.56a2190f00c137f3.png",ne=a.p+"Character_Razor_Card.1b116c57394d4b1b.jpg",re=a.p+"Character_Rosaria_Card.8267339e414b4b96.png",ie=a.p+"Character_Sangonomiya_Kokomi_Card.843fc41e00f54a04.jpg",oe=a.p+"Character_Sayu_Card.5d2a94faea5e0c8e.png",le=a.p+"Character_Shenhe_Card.883f751b234b9ec6.jpg",se=a.p+"Character_Shikanoin_Heizou_Card.e3c6c8b01018558e.png",ce=a.p+"Character_Somnia_Card.36432f04e4174367.png",de=a.p+"Character_Sucrose_Card.a5b72ffa09e14920.jpg",ue=a.p+"Character_Tartaglia_Card.daa075230d685675.png",he=a.p+"Character_Thoma_Card.8aaf239f62fe5ce8.jpg",pe=a.p+"Character_Tighnari_Card.c59a95c5d6c8e80b.jpg",Ze=a.p+"Character_Venti_Card.53c36f1f18e39e8c.jpg",ge=a.p+"Character_Wanderer_Card.9280e378fab9bec7.jpg",fe=a.p+"Character_Wriothesley_Card.85c1fd9bd1edf599.jpg",me=a.p+"Character_Xiangling_Card.5693675f27b0f2d7.jpg",Ce=a.p+"Character_Xiao_Card.505ee35780a80258.jpg",ve=a.p+"Character_Xingqiu_Card.7eb5998349f9541d.jpg",ye=a.p+"Character_Xinyan_Card.592529410cb0ab30.jpg",be=a.p+"Character_Xianyun_Card.3227ce640f90a84c.jpg",xe=a.p+"Character_Yae_Miko_Card.4ad3e897b1e3a097.png",we=a.p+"Character_Yanfei_Card.0e3112d6ef574c1a.png",_e=a.p+"Character_Yaoyao_Card.b1085e13b40477e1.jpg",ke=a.p+"Character_Yelan_Card.3a483ca01484e384.jpg",Se=a.p+"Character_Yoimiya_Card.cd7bc5df84521f72.png",je=a.p+"Character_Yun_Jin_Card.f980c03bc03f7f1d.jpg",Be=a.p+"Character_Zhongli_Card.34830d011897679b.png",Ie={Albedo:r,Alhaitham:i,Aloy:o,Amber:l,AratakiItto:s,Baizhu:c,Barbara:d,Beidou:u,Bennett:h,Candace:p,Charlotte:Z,Chevreuse:g,Chongyun:f,Collei:m,Cyno:C,Dehya:v,Diluc:y,Diona:b,Dori:x,Eula:w,Faruzan:_,Fischl:k,Freminet:S,Furina:j,Gaming:B,Ganyu:I,Gorou:K,HuTao:O,Jean:X,KaedeharaKazuha:$,Kaeya:z,KamisatoAyaka:P,KamisatoAyato:M,Kaveh:T,Keqing:L,Kirara:W,Klee:A,KujouSara:E,KukiShinobu:N,Layla:R,Lisa:H,Lyney:q,Lynette:G,Mika:V,Mona:D,Nahida:F,Navia:U,Neuvillette:Y,Nilou:J,Ningguang:Q,Noelle:ee,Qiqi:te,RaidenShogun:ae,Razor:ne,Rosaria:re,SangonomiyaKokomi:ie,Sayu:oe,Shenhe:le,ShikanoinHeizou:se,Somnia:ce,Sucrose:de,Tartaglia:ue,Thoma:he,Tighnari:pe,TravelerF:a.p+"Traveler_Female_Card.fa3a506cfdb64634.jpg",TravelerM:a.p+"Traveler_Male_Card.68e79e7eeb25b514.jpg",Venti:Ze,Wanderer:ge,Wriothesley:fe,Xiangling:me,Xianyun:be,Xiao:Ce,Xingqiu:ve,Xinyan:ye,YaeMiko:xe,Yanfei:we,Yaoyao:_e,Yelan:ke,Yoimiya:Se,YunJin:je,Zhongli:Be};var Ke=a(83568),Oe=a(10483),Xe=a(14115),ze=a(16068),Te=a(66147),Pe=a(67550),Me=a(75213),$e=a(41075),Le=a(98283),We=a(7560),Ae=a(2784),Ee=a(40489),Ne=a(5666),Re=a(69075);var He=a(55939),qe=a(65992),Ge=a(43853),Ve=a(7342),De=a(69222),Fe=a(15672);function Ue(e){return(0,Fe.Z)("MuiBadge",e)}const Ye=(0,De.Z)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]);var Je=a(52322);const Qe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],et=(0,qe.ZP)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),tt=(0,qe.ZP)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.badge,t[a.variant],t[`anchorOrigin${(0,Ve.Z)(a.anchorOrigin.vertical)}${(0,Ve.Z)(a.anchorOrigin.horizontal)}${(0,Ve.Z)(a.overlap)}`],"default"!==a.color&&t[`color${(0,Ve.Z)(a.color)}`],a.invisible&&t.invisible]}})((({theme:e,ownerState:t})=>(0,We.Z)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},"dot"===t.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ye.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}))),at=Ae.forwardRef((function(e,t){var a,n,r,i,o,l;const s=(0,Ge.Z)({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:d,component:u,components:h={},componentsProps:p={},children:Z,overlap:g="rectangular",color:f="default",invisible:m=!1,max:C=99,badgeContent:v,slots:y,slotProps:b,showZero:x=!1,variant:w="standard"}=s,_=(0,Le.Z)(s,Qe),{badgeContent:k,invisible:S,max:j,displayValue:B}=function(e){const{badgeContent:t,invisible:a=!1,max:n=99,showZero:r=!1}=e,i=(0,Ne.Z)({badgeContent:t,max:n});let o=a;!1!==a||0!==t||r||(o=!0);const{badgeContent:l,max:s=n}=o?i:e;return{badgeContent:l,invisible:o,max:s,displayValue:l&&Number(l)>s?`${s}+`:l}}({max:C,invisible:m,badgeContent:v,showZero:x}),I=(0,Ne.Z)({anchorOrigin:c,color:f,overlap:g,variant:w,badgeContent:v}),K=S||null==k&&"dot"!==w,{color:O=f,overlap:X=g,anchorOrigin:z=c,variant:T=w}=K?I:s,P="dot"!==T?B:void 0,M=(0,We.Z)({},s,{badgeContent:k,invisible:K,max:j,displayValue:P,showZero:x,anchorOrigin:z,color:O,overlap:X,variant:T}),$=(e=>{const{color:t,anchorOrigin:a,invisible:n,overlap:r,variant:i,classes:o={}}=e,l={root:["root"],badge:["badge",i,n&&"invisible",`anchorOrigin${(0,Ve.Z)(a.vertical)}${(0,Ve.Z)(a.horizontal)}`,`anchorOrigin${(0,Ve.Z)(a.vertical)}${(0,Ve.Z)(a.horizontal)}${(0,Ve.Z)(r)}`,`overlap${(0,Ve.Z)(r)}`,"default"!==t&&`color${(0,Ve.Z)(t)}`]};return(0,Re.Z)(l,Ue,o)})(M),L=null!=(a=null!=(n=null==y?void 0:y.root)?n:h.Root)?a:et,W=null!=(r=null!=(i=null==y?void 0:y.badge)?i:h.Badge)?r:tt,A=null!=(o=null==b?void 0:b.root)?o:p.root,E=null!=(l=null==b?void 0:b.badge)?l:p.badge,N=(0,He.y)({elementType:L,externalSlotProps:A,externalForwardedProps:_,additionalProps:{ref:t,as:u},ownerState:M,className:(0,Ee.Z)(null==A?void 0:A.className,$.root,d)}),R=(0,He.y)({elementType:W,externalSlotProps:E,ownerState:M,className:(0,Ee.Z)($.badge,null==E?void 0:E.className)});return(0,Je.jsxs)(L,(0,We.Z)({},N,{children:[Z,(0,Je.jsx)(W,(0,We.Z)({},R,{children:P}))]}))}));var nt=a(62197),rt=a(66198),it=a(85801),ot=a(73557),lt=a(13230),st=a(99487),ct=a(23657),dt=a(32404),ut=a(39099),ht=a(76260),pt=a(11845),Zt=a(87833),gt=a(79410),ft=a(12366),mt=a(36674),Ct=a(52903);function vt(){const{silly:e}=(0,Ae.useContext)(ct.E),{characterSheet:t,character:{key:a}}=(0,Ae.useContext)(lt.K),{gender:n}=(0,Ke.Hz)(),{data:r}=(0,Ae.useContext)(st.R),i=(0,ht.Z)(a),o=(0,ot.s0)(),l=r.get(dt.ri.lvl).value,s=r.get(dt.ri.asc).value,c=r.get(dt.ri.constellation).value,d={auto:r.get(dt.ri.total.auto).value,skill:r.get(dt.ri.total.skill).value,burst:r.get(dt.ri.total.burst).value},u={auto:r.get(dt.ri.total.autoBoost).value,skill:r.get(dt.ri.total.skillBoost).value,burst:r.get(dt.ri.total.burstBoost).value},h=(0,Oe.V)(a,n),p=function(e,t){var a,n;switch(e){case"TravelerAnemo":case"TravelerDendro":case"TravelerElectro":case"TravelerGeo":case"TravelerHydro":return null!=(a=Ie[`Traveler${t}`])?a:"";default:return null!=(n=Ie[e])?n:""}}(a,n);return(0,Ct.BX)(Zt.Z,{sx:{height:"100%"},children:[e&&h?(0,Ct.tZ)(yt,{src:h,level:l,ascension:s}):(0,Ct.tZ)(bt,{src:p,level:l,ascension:s}),(0,Ct.BX)(Pe.Z,{children:[(0,Ct.tZ)(Me.Z,{sx:{p:1},onClick:()=>o("talent"),children:(0,Ct.tZ)($e.ZP,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map((e=>{var a;return(0,Ct.tZ)($e.ZP,{item:!0,xs:4,children:(0,Ct.tZ)(at,{badgeContent:d[e],color:u[e]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:(0,Ct.tZ)(Pe.Z,{component:"img",src:null==(a=t.getTalentOfKey(e))?void 0:a.img,width:"100%",height:"auto"})})},e)}))})}),(0,Ct.tZ)(nt.Z,{sx:{textAlign:"center",mt:1},variant:"h6",children:t.constellationName}),(0,Ct.tZ)($e.ZP,{container:!0,spacing:1,children:(0,pt.w6)(1,6).map((e=>{var a;return(0,Ct.tZ)($e.ZP,{item:!0,xs:4,children:(0,Ct.tZ)(Me.Z,{onClick:()=>i({constellation:e===c?e-1:e}),children:(0,Ct.tZ)(Pe.Z,{component:"img",src:null==(a=t.getTalentOfKey(`constellation${e}`))?void 0:a.img,sx:Object.assign({},c>=e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto"})})},e)}))})]})]})}function yt({src:e,level:t,ascension:a}){const{characterSheet:n}=(0,Ae.useContext)(lt.K);return(0,Ct.BX)(Pe.Z,{sx:{position:"relative"},children:[(0,Ct.tZ)(Pe.Z,{src:e,component:"img",width:"100%",height:"auto"}),(0,Ct.BX)(Pe.Z,{sx:{width:"100%",height:"100%"},children:[(0,Ct.tZ)(Pe.Z,{sx:{opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:(0,Ct.tZ)(xt,{})}),(0,Ct.tZ)(nt.Z,{variant:"h6",sx:{width:"100%",opacity:.75,textAlign:"center"},children:(0,Ct.tZ)(mt.q,{stars:n.rarity,colored:!0})}),(0,Ct.tZ)(_t,{}),(0,Ct.tZ)(wt,{level:t,ascension:a})]})]})}function bt({src:e,level:t,ascension:a}){const{characterSheet:n}=(0,Ae.useContext)(lt.K);return(0,Ct.BX)(Pe.Z,{sx:{position:"relative"},children:[(0,Ct.BX)(Pe.Z,{sx:{position:"absolute",width:"100%",height:"100%"},children:[(0,Ct.tZ)(nt.Z,{variant:"h6",sx:{position:"absolute",width:"100%",left:"50%",bottom:0,transform:"translate(-50%, -50%)",opacity:.75,textAlign:"center"},children:(0,Ct.tZ)(mt.q,{stars:n.rarity,colored:!0})}),(0,Ct.tZ)(Pe.Z,{sx:{position:"absolute",left:"50%",bottom:"7%",transform:"translate(-50%, -50%)",opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:(0,Ct.tZ)(xt,{})}),(0,Ct.tZ)(_t,{}),(0,Ct.tZ)(wt,{level:t,ascension:a})]}),(0,Ct.tZ)(Pe.Z,{src:e,component:"img",width:"100%",height:"auto"})]})}function xt(){var e;const{characterSheet:t}=(0,Ae.useContext)(lt.K),a=t.elementKey;return(0,Ct.tZ)(rt.Z,{color:a,sx:{height:"auto"},label:(0,Ct.BX)(nt.Z,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,Ct.tZ)(ut.Z,{ele:a}),(0,Ct.tZ)(Pe.Z,{sx:{whiteSpace:"normal",textAlign:"center"},children:t.name}),(0,Ct.tZ)(gt.Z,{src:null==(e=n.CL.weaponTypes)?void 0:e[t.weaponTypeKey]})]})})}function wt({level:e,ascension:t}){return(0,Ct.tZ)(nt.Z,{sx:{p:1,position:"absolute",right:0,top:0,opacity:.8},children:(0,Ct.tZ)(ft.Z,{children:(0,Xe.wQ)(e,t)})})}function _t(){const{character:{key:e}}=(0,Ae.useContext)(lt.K),t=(0,Ke.Wz)(),{favorite:a}=(0,Ke.xF)(e);return(0,Ct.tZ)(Pe.Z,{sx:{position:"absolute",left:0,top:0},children:(0,Ct.tZ)(it.Z,{sx:{p:1},color:"error",onClick:()=>t.charMeta.set(e,{favorite:!a}),children:a?(0,Ct.tZ)(ze.Z,{}):(0,Ct.tZ)(Te.Z,{})})})}},47513:(e,t,a)=>{a.d(t,{ZP:()=>Ce});var n=a(45492),r=a(4991),i=a(96736),o=a(72539),l=a(83568),s=a(30069),c=a(22973),d=a(67550),u=a(41075),h=a(7671),p=a(62197),Z=a(56961),g=a(83249),f=a(23883),m=a(2784),C=a(11141),v=a(30706),y=a(73501),b=a(64262),x=a(42745),w=a(79906),_=a(15015),k=a(24264),S=a(23690),j=a(79410),B=a(69698),I=a(66146),K=a(92679),O=a(42861),X=a(13230),z=a(99487),T=a(48863),P=a(30067),M=a(4311),$=a(22134),L=a(14084),W=a(52903);let A,E=e=>e;function N({artId:e,weaponId:t}){const{t:a}=(0,C.$G)("page_character"),[r,o,l]=(0,n.aV)(!1);return(0,W.BX)(W.HY,{children:[(0,W.tZ)(i.AB,{open:r,onClose:l,containerProps:{maxWidth:"xl"},children:(0,W.tZ)(R,{artId:e,weaponId:t,onHide:l})}),(0,W.tZ)(f.Z,{title:(0,W.tZ)(p.Z,{children:a(A||(A=E`tabEquip.compare`))}),placement:"top",arrow:!0,children:(0,W.tZ)(g.Z,{color:"info",size:"small",onClick:o,children:(0,W.tZ)(O.Z,{})})})]})}function R(e){var t;const a=(0,m.useContext)(T.V),n=(0,m.useContext)(X.K);return null!=a&&null!=(t=a.teamChar)&&t.optConfigId?(0,W.tZ)(H,Object.assign({},e)):null!=n&&n.character?(0,W.tZ)(q,Object.assign({},e)):null}function H({artId:e,weaponId:t,onHide:a}){const n=(0,l.Wz)(),{character:{key:r}}=(0,m.useContext)(X.K),{teamCharId:i,teamChar:{optConfigId:o}}=(0,m.useContext)(T.V),{mainStatAssumptionLevel:s}=(0,l.EZ)(o),{data:c}=(0,m.useContext)(z.R),d=(0,m.useMemo)((()=>{const t=n.arts.get(null!=e?e:""),a=n.teamChars.getLoadoutArtifacts(i),r=(0,x.vU)(a,((e,a)=>a===(null==t?void 0:t.slotKey)?t:e));return Object.values(r).filter((e=>e))}),[n,i,e]),u=(0,$.Z)(s,d,t?n.weapons.get(t):void 0),h=(0,m.useMemo)((()=>u&&{data:u[r].target,teamData:u,oldData:c}),[r,u,c]);return(0,W.tZ)(G,{dataProviderValue:h,onHide:a})}function q({artId:e,weaponId:t,onHide:a}){const n=(0,l.Wz)(),{character:{key:r,equippedArtifacts:i}}=(0,m.useContext)(X.K),{data:o}=(0,m.useContext)(z.R),s=(0,m.useMemo)((()=>{const t=n.arts.get(null!=e?e:""),a=(0,x.vU)(i,((e,a)=>a===(null==t?void 0:t.slotKey)?t:n.arts.get(e)));return Object.values(a).filter((e=>e))}),[n,i,e]),c=(0,M.Z)(r,0,s,t?n.weapons.get(t):void 0),d=(0,m.useMemo)((()=>c&&{data:c[r].target,teamData:c,oldData:o}),[r,c,o]);return(0,W.tZ)(G,{dataProviderValue:d,onHide:a})}function G({dataProviderValue:e,onHide:t}){return(0,W.tZ)(m.Suspense,{fallback:(0,W.tZ)(w.Z,{variant:"rectangular",width:"100%",height:600}),children:e&&(0,W.tZ)(z.R.Provider,{value:e,children:(0,W.tZ)(P.Z,{compareBuild:!0,extraButtonsLeft:(0,W.BX)(W.HY,{children:[(0,W.tZ)(L.Hn,{size:"small"}),(0,W.tZ)(L.oX,{size:"small"})]}),extraButtonsRight:(0,W.tZ)(g.Z,{size:"small",color:"error",onClick:t,children:(0,W.tZ)(K.Z,{})})})})})}let V,D=e=>e;const F={xs:6,sm:6,md:9,lg:12,xl:12},U=(0,m.lazy)((()=>Promise.all([a.e(497),a.e(537),a.e(963)]).then(a.bind(a,22537))));function Y({onChangeId:e,slotKey:t,show:a,onClose:r}){const{t:i}=(0,C.$G)("page_character"),s=(0,l.Wz)(),c=(0,m.useCallback)((t=>{e(t),r()}),[e,r]),g=(0,m.useCallback)(((e,a)=>Object.assign({},e,a,{slotKeys:[t]})),[t]),[f,y]=(0,m.useReducer)(g,Object.assign({},(0,_.Af)(),{slotKeys:[t]})),[b,K]=(0,n.NW)();(0,m.useEffect)((()=>s.arts.followAny(K)),[s,K]);const O=(0,n.JT)(),X=F[O],[z,T]=(0,m.useState)(0),P=(0,m.useRef)(null),M=(0,m.useMemo)((()=>(0,_.EM)()),[]),$=s.arts.values.filter((e=>e.slotKey===f.slotKeys[0])).length,L=(0,m.useMemo)((()=>{const e=(0,x.CZ)(f,M);return b&&s.arts.values.filter(e).map((e=>e.id))}),[b,s,M,f]),{artifactIdsToShow:A,numPages:E,currentPageIndex:R}=(0,m.useMemo)((()=>{const e=Math.ceil(L.length/X),t=(0,x.re)(z,0,e-1);return{artifactIdsToShow:L.slice(t*X,(t+1)*X),numPages:e,currentPageIndex:t}}),[L,z,X]),H=L.length!==$?`${L.length}/${$}`:`${$}`,q={count:E,page:R+1,onChange:(0,m.useCallback)(((e,t)=>{var a;null==(a=P.current)||a.scrollIntoView({behavior:"smooth"}),T(t-1)}),[T,P])},G={numShowing:A.length,total:H,t:i,namespace:"artifact"};return(0,W.tZ)(B.Z,{open:a,onClose:r,containerProps:{maxWidth:"xl"},children:(0,W.BX)(k.Z,{children:[(0,W.BX)(h.Z,{sx:{py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,W.BX)(p.Z,{variant:"h6",children:[t?(0,W.tZ)(j.Z,{src:o.CL.slot[t]}):null," ",i(V||(V=D`tabEquip.swapArt`))]}),(0,W.tZ)(S.Z,{onClick:r})]}),(0,W.tZ)(Z.Z,{}),(0,W.tZ)(h.Z,{children:(0,W.tZ)(m.Suspense,{fallback:(0,W.tZ)(w.Z,{variant:"rectangular",width:"100%",height:200}),children:(0,W.tZ)(U,{filterOption:f,filterOptionDispatch:y,filteredIds:L,disableSlotFilter:!0})})}),(0,W.tZ)(Z.Z,{}),(0,W.BX)(h.Z,{children:[(0,W.tZ)(d.Z,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:(0,W.tZ)(I.Z,{paginationProps:q,showingTextProps:G})}),(0,W.tZ)(d.Z,{mt:1,children:(0,W.tZ)(m.Suspense,{fallback:(0,W.tZ)(w.Z,{variant:"rectangular",width:"100%",height:300}),children:(0,W.tZ)(u.ZP,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:A.map((e=>(0,W.tZ)(u.ZP,{item:!0,xs:1,children:(0,W.tZ)(v.Z,{artifactId:e,extraButtons:(0,W.tZ)(N,{artId:e}),onClick:c})},e)))})})}),E>1&&(0,W.tZ)(d.Z,{pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:(0,W.tZ)(I.Z,{paginationProps:q,showingTextProps:G})})]})]})})}var J=a(503),Q=a(44938),ee=a(92252),te=a(78437),ae=a(92794),ne=a(13780),re=a(61851),ie=a(54578),oe=a(58489),le=a(18571);let se,ce=e=>e;const de={xs:6,sm:6,md:9,lg:12,xl:12},ue=(0,re.X)([...J.U1]);function he({onChangeId:e,weaponTypeKey:t,show:a,onClose:r}){const{t:i}=(0,C.$G)(["page_character","page_weapon","weaponNames_gen"]),s=(0,l.Wz)(),[c,f]=(0,m.useState)(!1),v=(0,m.useCallback)((t=>{e(t),r()}),[e,r]),[w,_]=(0,m.useState)(""),K=(0,m.useCallback)((e=>{_(s.weapons.new((0,Q.xg)(e)))}),[s,_]),O=(0,m.useCallback)((()=>_("")),[]),[X,z]=(0,n.NW)();(0,m.useEffect)((()=>s.weapons.followAny(z)),[z,s]);const T=(0,n.JT)(),P=de[T],[M,$]=(0,m.useState)(0),L=(0,m.useRef)(null),[A,E]=(0,m.useState)([5,4,3]),[R,H]=(0,m.useState)(""),q=(0,m.useDeferredValue)(R),G=(0,m.useMemo)((()=>{var e,a;return null!=(e=X&&s.weapons.values.filter((0,x.CZ)({weaponType:t,rarity:A,name:q},(0,ie.Xg)())).sort((0,x.ef)(null!=(a=ie.gd.level)?a:[],!1,(0,ie.Sn)())).map((e=>e.id)))?e:[]}),[X,s,A,t,q]),{weaponIdsToShow:V,numPages:D,currentPageIndex:F}=(0,m.useMemo)((()=>{const e=Math.ceil(G.length/P),t=(0,x.re)(M,0,e-1);return{weaponIdsToShow:G.slice(t*P,(t+1)*P),numPages:e,currentPageIndex:t}}),[G,M,P]),U=`${G.length}`,Y={count:D,page:F+1,onChange:(0,m.useCallback)(((e,t)=>{var a;null==(a=L.current)||a.scrollIntoView({behavior:"smooth"}),$(t-1)}),[$,L])},re={numShowing:V.length,total:U,t:i,namespace:"page_weapon"};return(0,W.tZ)(B.Z,{open:a,onClose:r,children:(0,W.BX)(k.Z,{children:[(0,W.tZ)(m.Suspense,{fallback:!1,children:(0,W.tZ)(le.default,{show:c,onHide:()=>f(!1),onSelect:K,weaponTypeFilter:t})}),(0,W.tZ)(m.Suspense,{fallback:!1,children:(0,W.tZ)(b.default,{weaponId:w,footer:!0,onClose:O})}),(0,W.tZ)(h.Z,{sx:{py:1},children:(0,W.BX)(u.ZP,{container:!0,children:[(0,W.tZ)(u.ZP,{item:!0,flexGrow:1,children:(0,W.BX)(p.Z,{variant:"h6",children:[t?(0,W.tZ)(j.Z,{src:o.CL.weaponTypes[t]}):null," ",i(se||(se=ce`page_character:tabEquip.swapWeapon`))]})}),(0,W.tZ)(u.ZP,{item:!0,children:(0,W.tZ)(S.Z,{onClick:r})})]})}),(0,W.tZ)(Z.Z,{}),(0,W.BX)(h.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,W.BX)(u.ZP,{container:!0,spacing:1,children:[(0,W.tZ)(u.ZP,{item:!0,children:(0,W.tZ)(oe.Z,{sx:{height:"100%"},value:A,size:"small",children:J.U1.map((e=>(0,W.tZ)(ae.Z,{value:e,onClick:()=>E(ue(A,e)),children:(0,W.BX)(d.Z,{display:"flex",children:[(0,W.tZ)("strong",{children:e}),(0,W.tZ)(te.Z,{})]})},e)))})}),(0,W.tZ)(u.ZP,{item:!0,flexGrow:1,children:(0,W.tZ)(ne.Z,{autoFocus:!0,size:"small",value:R,onChange:e=>H(e.target.value),label:i("page_weapon:weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),(0,W.tZ)(d.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:(0,W.tZ)(I.Z,{paginationProps:Y,showingTextProps:re})}),(0,W.tZ)(g.Z,{fullWidth:!0,onClick:()=>f(!0),color:"info",startIcon:(0,W.tZ)(ee.Z,{}),children:i("page_weapon:addWeapon")}),(0,W.tZ)(u.ZP,{container:!0,spacing:1,children:V.map((e=>(0,W.tZ)(u.ZP,{item:!0,xs:6,sm:6,md:4,lg:3,children:(0,W.tZ)(y.Z,{weaponId:e,onClick:v,extraButtons:(0,W.tZ)(N,{weaponId:e})})},e)))}),D>1&&(0,W.tZ)(d.Z,{pt:1,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:(0,W.tZ)(I.Z,{paginationProps:Y,showingTextProps:re})})]})]})})}let pe,Ze,ge,fe=e=>e;const me={xs:1,sm:2,md:3,lg:3,xl:3};function Ce({weaponTypeKey:e,weaponId:t,artifactIds:a,setWeapon:n,setArtifact:r}){const i=(0,l.Wz)(),[o,s]=(0,m.useState)("");(0,m.useEffect)((()=>{o&&o!==t&&s(t)}),[o,t]);const c=(0,m.useCallback)((()=>s(t)),[t]),h=(0,m.useCallback)((()=>s("")),[]);return(0,W.BX)(d.Z,{children:[(0,W.tZ)(b.default,{weaponId:o,footer:!0,onClose:h,extraButtons:(0,W.tZ)(we,{weaponTypeKey:e,onChangeId:n})}),(0,W.BX)(u.ZP,{item:!0,columns:me,container:!0,spacing:1,children:[(0,W.tZ)(u.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",children:i.weapons.keys.includes(t)?(0,W.tZ)(y.Z,{weaponId:t,onEdit:c,extraButtons:(0,W.tZ)(xe,{weaponTypeKey:e,onChangeId:n})}):(0,W.tZ)(ve,{weaponTypeKey:e,onChangeId:n})}),Object.entries(a).map((([e,t])=>(0,W.tZ)(u.ZP,{item:!0,xs:1,children:i.arts.keys.includes(t)?(0,W.tZ)(v.Z,{artifactId:t,extraButtons:(0,W.tZ)(be,{slotKey:e,onChangeId:t=>r(e,t)}),editorProps:{}}):(0,W.tZ)(ye,{slotKey:e,onChangeId:t=>r(e,t)})},t||e)))]})]})}function ve({weaponTypeKey:e,onChangeId:t}){const[a,r,l]=(0,n.aV)(),{t:s}=(0,C.$G)("weapon");return(0,W.BX)(i.s8,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[(0,W.tZ)(h.Z,{children:(0,W.BX)(p.Z,{children:[(0,W.tZ)(j.Z,{src:o.CL.weaponTypes[e]})," ",e]})}),(0,W.tZ)(Z.Z,{}),(0,W.BX)(d.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,W.tZ)(he,{weaponTypeKey:e,show:a,onClose:l,onChangeId:t}),(0,W.tZ)(g.Z,{onClick:r,color:"info",sx:{borderRadius:"1em"},children:(0,W.tZ)(c.Z,{sx:{height:100,width:100}})})]})]})}function ye({slotKey:e,onChangeId:t}){const[a,o,l]=(0,n.aV)(),{t:u}=(0,C.$G)("artifact");return(0,W.BX)(i.s8,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[(0,W.tZ)(h.Z,{children:(0,W.BX)(p.Z,{children:[(0,W.tZ)(s.x7,{iconProps:r.mX,slotKey:e})," ",u(`slotName.${e}`)]})}),(0,W.tZ)(Z.Z,{}),(0,W.BX)(d.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,W.tZ)(Y,{slotKey:e,show:a,onClose:l,onChangeId:t}),(0,W.tZ)(g.Z,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:(0,W.tZ)(c.Z,{sx:{height:100,width:100}})})]})]})}function be({slotKey:e,onChangeId:t}){const{t:a}=(0,C.$G)("page_character"),[r,i,o]=(0,n.aV)();return(0,W.BX)(W.HY,{children:[(0,W.tZ)(f.Z,{title:(0,W.tZ)(p.Z,{children:a(pe||(pe=fe`tabEquip.swapArt`))}),placement:"top",arrow:!0,children:(0,W.tZ)(g.Z,{color:"info",size:"small",onClick:i,children:(0,W.tZ)(c.Z,{})})}),(0,W.tZ)(Y,{slotKey:e,show:r,onClose:o,onChangeId:t})]})}function xe({weaponTypeKey:e,onChangeId:t}){const{t:a}=(0,C.$G)("page_character"),[r,i,o]=(0,n.aV)();return(0,W.BX)(W.HY,{children:[(0,W.tZ)(f.Z,{title:(0,W.tZ)(p.Z,{children:a(Ze||(Ze=fe`tabEquip.swapWeapon`))}),placement:"top",arrow:!0,children:(0,W.tZ)(g.Z,{color:"info",size:"small",onClick:i,children:(0,W.tZ)(c.Z,{})})}),(0,W.tZ)(he,{weaponTypeKey:e,onChangeId:t,show:r,onClose:o})]})}function we({weaponTypeKey:e,onChangeId:t}){const{t:a}=(0,C.$G)("page_character"),[r,i,o]=(0,n.aV)();return(0,W.BX)(W.HY,{children:[(0,W.tZ)(g.Z,{color:"info",onClick:i,startIcon:(0,W.tZ)(c.Z,{}),children:a(ge||(ge=fe`tabEquip.swapWeapon`))}),(0,W.tZ)(he,{weaponTypeKey:e,onChangeId:t,show:r,onClose:o})]})}},7414:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(83568),r=a(62197),i=a(44180),o=a(45269),l=a(80680),s=a(52903);function c({characterKey:e}){const{gender:t}=(0,n.Hz)();if(!e)return null;const a=(0,i.m)(e,t);return a?(0,s.tZ)(o.Z,{placement:"right-end",title:(0,s.tZ)(r.Z,{children:a.name}),children:(0,s.tZ)(l.Z,{characterKey:e,sideMargin:!0})}):null}},46725:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(42745),r=a(60342),i=a(67550),o=a(56961),l=a(15873),s=a(2784),c=a(99487),d=a(29218),u=a(83568),h=a(75636),p=a(6094),Z=a(24264),g=a(4453),f=a(39282),m=a(79410),C=a(12366),v=a(52903);function y(){const{data:e}=(0,s.useContext)(c.R),t=(0,s.useMemo)((()=>(0,h.U)(e).filter((([,e])=>Object.values(e).some((e=>!e.isEmpty))))),[e]);return(0,v.tZ)(i.Z,{sx:{mr:-1,mb:-1},children:(0,v.tZ)(r.ZP,{columns:{xs:1,sm:2,md:3,xl:4},spacing:1,children:t.map((([e,t])=>(0,v.tZ)(b,{displayNs:t,sectionKey:e},e)))})})}function b({displayNs:e,sectionKey:t}){const a=(0,s.useContext)(d.o),{data:r,oldData:i}=(0,s.useContext)(c.R),y=(0,u.Wz)(),b=(0,s.useMemo)((()=>(0,h.f)(r,t,y)),[y,r,t]),x=(0,s.useMemo)((()=>(0,n.vU)(e,((e,a)=>(0,p.UF)(["display",t,a])))),[e,t]);if(!b)return(0,v.tZ)(Z.Z,{});const{title:w,icon:_,action:k}=b;return(0,v.BX)(Z.Z,{children:[(0,v.tZ)(g.Z,{avatar:_&&(0,v.tZ)(m.Z,{size:2,src:_}),title:w,action:k&&(0,v.tZ)(C.Z,{children:k})}),(0,v.tZ)(o.Z,{}),(0,v.tZ)(f.lD,{sx:{m:0},children:Object.entries(e).map((([e,n])=>(0,v.tZ)(f.JW,{node:n,oldValue:i?i.get(x[e]).value:void 0,component:l.ZP,emphasize:JSON.stringify(a)===JSON.stringify([t,e])},e)))})]})}},14084:(e,t,a)=>{a.d(t,{Hn:()=>B,Ps:()=>k,oX:()=>j,pg:()=>S});var n=a(4991),r=a(503),i=a(83568),o=a(67245),l=a(30069),s=a(94380),c=a(92794),d=a(2784),u=a(11141),h=a(13230),p=a(99487),Z=a(48863),g=a(32404),f=a(57210),m=a(18779),C=a(34048),v=a(76111),y=a(58489),b=a(12366),x=a(52903);let w,_=e=>e;const k={"":(0,x.tZ)("span",{children:"No Team Melee Infusion"}),pyro:(0,x.BX)("span",{children:[(0,x.tZ)(l.I4,Object.assign({},n.mX))," ",(0,x.tZ)(b.Z,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:(0,x.BX)("span",{children:[(0,x.tZ)(l.DK,Object.assign({},n.mX))," ",(0,x.tZ)(b.Z,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]}),hydro:(0,x.BX)("span",{children:[(0,x.tZ)(l.px,Object.assign({},n.mX))," ",(0,x.tZ)(b.Z,{children:"Candace Burst"})," Sacred Rite: Wagtail's Tide"]}),electro:(0,x.BX)("span",{children:[(0,x.tZ)(l.Bn,Object.assign({},n.mX))," ",(0,x.tZ)(b.Z,{children:"Somnia Burst"})," ","Parallax Paws"]})};function S(e){const{teamCharId:t,teamChar:{infusionAura:a}}=(0,d.useContext)(Z.V),{character:{key:n}}=(0,d.useContext)(h.K),r=(0,i.Wz)();return(0,o.Sn)(n)?(0,x.tZ)(v.Z,Object.assign({title:k[a||""],color:a||"secondary",disableElevation:!0,disabled:!t},e,{children:Object.entries(k).map((([e,n])=>(0,x.tZ)(s.Z,{sx:e?{color:`${e}.main`}:void 0,selected:e===a,disabled:e===a,onClick:()=>r.teamChars.set(t,{infusionAura:e}),children:n},e)))})):null}function j(e){var t,a,n,o;const{t:l}=(0,u.$G)("page_character"),{teamId:s,team:{reaction:h}}=(0,d.useContext)(Z.V),v=(0,i.Wz)(),{data:b}=(0,d.useContext)(p.R),k=b.get(g.ri.charEle).value,S=b.get(g._d).value,j=[...new Set([...null!=(t=f.oR[k])?t:[],...null!=(a=f.oR[S])?a:[],...null!=(n=f.p7[k])?n:[],...null!=(o=f.p7[S])?o:[]])];return(0,x.BX)(y.Z,Object.assign({exclusive:!0,baseColor:"secondary",value:h,onChange:(e,t)=>v.teams.set(s,{reaction:t}),disabled:!s},e,{children:[(0,x.tZ)(c.Z,{value:"",disabled:!h,children:l(w||(w=_`noReaction`))}),j.map((e=>(0,x.tZ)(c.Z,{value:e,disabled:h===e,children:[...r.Mk].includes(e)?(0,x.tZ)(C.Z,{reaction:e}):(0,x.tZ)(m.Z,{reaction:e})},e)))]}))}function B(e){const{t}=(0,u.$G)("page_character"),{teamId:a,team:{hitMode:n="avgHit"}}=(0,d.useContext)(Z.V),o=(0,i.Wz)();return(0,x.tZ)(y.Z,Object.assign({exclusive:!0,baseColor:"secondary",value:n,onChange:(e,t)=>o.teams.set(a,{hitMode:t}),disabled:!a},e,{children:r.Zy.map((e=>(0,x.tZ)(c.Z,{value:e,disabled:n===e,children:t(`hitmode.${e}`)},e)))}))}},20577:(e,t,a)=>{a.d(t,{_:()=>d,x:()=>c});var n=a(4991),r=a(15162),i=a(67550),o=a(39099),l=a(86569),s=a(52903);function c({statKey:e,disableIcon:t=!1}){return(0,s.BX)(i.Z,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!t&&(0,s.tZ)(o.C,{statKey:e,iconProps:n.mX}),(0,s.BX)("span",{children:[r.d4.get(e),r.d4.unit(e)]})]})}function d({statKey:e,disableIcon:t=!1}){return(0,s.tZ)(l.Z,{color:r.d4.getVariant(e),children:(0,s.tZ)(c,{statKey:e,disableIcon:t})})}},90844:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(98283),r=a(503),i=a(78437),o=a(47746),l=a(86432),s=a(92794),c=a(67550),d=a(66198),u=a(61851),h=a(58489),p=a(52903);const Z=["value","totals","onChange"],g=(0,u.X)([...r.U1]);function f(e){let{value:t,totals:a,onChange:u}=e,f=(0,n.Z)(e,Z);const m=(0,o.Z)(),C=!(0,l.Z)(m.breakpoints.up("sm"));return(0,p.tZ)(h.Z,Object.assign({exclusive:!0,value:t},f,{children:r.U1.map((e=>(0,p.tZ)(s.Z,{value:e,sx:{p:C?1:void 0,minWidth:C?0:"6em",display:"flex",gap:C?0:1},onClick:()=>u(g(t,e)),children:(0,p.BX)(c.Z,{display:"flex",children:[(0,p.tZ)("strong",{children:e}),(0,p.tZ)(i.Z,{}),(0,p.tZ)(d.Z,{label:a[e],size:"small"})]})},e)))}))}},28265:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(98283),r=a(72539),i=a(503),o=a(47746),l=a(86432),s=a(92794),c=a(66198),d=a(61851),u=a(79410),h=a(58489),p=a(52903);const Z=["value","totals","onChange"],g=(0,d.X)([...i.yd]);function f(e){let{value:t,totals:a,onChange:d}=e,f=(0,n.Z)(e,Z);const m=(0,o.Z)(),C=!(0,l.Z)(m.breakpoints.up("sm"));return(0,p.tZ)(h.Z,Object.assign({exclusive:!0,value:t},f,{children:i.yd.map((e=>{var n;return(0,p.BX)(s.Z,{value:e,sx:{p:C?1:void 0,minWidth:C?0:"6em",display:"flex",gap:C?0:1},onClick:()=>d(g(t,e)),children:[(0,p.tZ)(u.Z,{src:null==(n=r.CL.weaponTypes)?void 0:n[e],size:2,sideMargin:!0}),(0,p.tZ)(c.Z,{label:a[e],size:"small"})]},e)}))}))}},25065:(e,t,a)=>{a.d(t,{N:()=>w,Z:()=>x});var n=a(72539),r=a(83568),i=a(66615),o=a(67550),l=a(75213),s=a(66198),c=a(62197),d=a(2784),u=a(25616),h=a(51784),p=a(32404),Z=a(2754),g=a(15030),f=a(45269),m=a(24264),C=a(7414),v=a(26437),y=a(61340),b=a(52903);function x({weaponId:e,showLocation:t=!1,onClick:a,BGComponent:i=m.Z,weaponTypeKey:l="sword"}){const s=(0,r.tA)(e),c=(null==s?void 0:s.key)&&(0,u.ub)(s.key);return s&&c?(0,b.tZ)(w,{weapon:s,weaponSheet:c,onClick:a,showLocation:t,BGComponent:i}):(0,b.tZ)(i,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:(0,b.tZ)(o.Z,{component:"img",src:n.CL.weaponTypes[l],sx:{width:"25%",height:"auto",opacity:.7}})})}function w({weapon:e,weaponSheet:t,showLocation:a=!1,onClick:c,BGComponent:u=m.Z}){const g=(0,r.Wz)(),{refinement:f,location:x}=e,w=(0,d.useCallback)((e=>(0,b.tZ)(l.Z,{sx:{height:"100%"},onClick:c,children:e})),[c]),k=(0,d.useMemo)((()=>t&&e&&(0,Z.mP)([t.data,(0,Z.v0)(e)])),[t,e]);return(0,b.tZ)(u,{sx:{height:"100%"},children:(0,b.tZ)(v.Z,{condition:!!c,wrapper:w,children:(0,b.BX)(o.Z,{display:"flex",height:"100%",alignItems:"stretch",children:[(0,b.BX)(o.Z,{className:`grad-${t.rarity}star`,sx:{height:"100%",position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:[(0,b.tZ)(y.Z,{sheet:t,children:(0,b.tZ)(o.Z,{component:"img",src:(0,n.Aq)(e.key,e.ascension>=2),sx:{mx:-1,maxHeight:"100%",maxWidth:"100%"}})}),(0,b.BX)(o.Z,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[(0,b.tZ)(s.Z,{size:"small",label:(0,b.tZ)("strong",{children:h.Z.getLevelString(e)}),color:"primary"}),a&&(0,b.tZ)(s.Z,{size:"small",label:x?(0,b.tZ)(C.Z,{characterKey:g.chars.LocationToCharacterKey(x)}):(0,b.tZ)(i.Z,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),(0,b.tZ)(o.Z,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},children:t.hasRefinement&&(0,b.tZ)(s.Z,{size:"small",color:"info",label:(0,b.BX)("strong",{children:["R",f]})})})]}),(0,b.BX)(o.Z,{display:"flex",flexDirection:"column",sx:{p:1},children:[(0,b.tZ)(_,{node:k.get(p.qH.weapon.main)}),(0,b.tZ)(_,{node:k.get(p.qH.weapon.sub)})]})]})})})}function _({node:e}){return e.info.name?(0,b.tZ)(o.Z,{display:"flex",gap:1,alignContent:"center",children:(0,b.BX)(c.Z,{sx:{flexGrow:1,display:"flex",gap:1},component:"span",children:[(0,b.tZ)(f.Z,{placement:"top",title:(0,b.tZ)(c.Z,{children:e.info.name}),disableInteractive:!0,children:(0,b.tZ)("span",{children:e.info.icon})}),(0,b.tZ)("span",{children:(0,g.p)(e)})]})}):null}},18571:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(72539),r=a(503),i=a(83568),o=a(7671),l=a(41075),s=a(13780),c=a(56961),d=a(75213),u=a(67550),h=a(62197),p=a(2784),Z=a(11141),g=a(25616),f=a(2313),m=a(24264),C=a(87833),v=a(23690),y=a(79410),b=a(69698),x=a(36674),w=a(90844),_=a(28265),k=a(52903);function S({show:e,ascension:t=0,onHide:a,onSelect:S,filter:j=(()=>!0),weaponTypeFilter:B}){const{t:I}=(0,Z.$G)(["page_weapon","weaponNames_gen"]),[K,O]=(0,p.useState)(B?[B]:[...r.yd]),X=(0,i.Wz)(),[z,T]=(0,p.useState)(X.displayWeapon.get());(0,p.useEffect)((()=>X.displayWeapon.follow(((e,t)=>T(t)))),[X]),(0,p.useEffect)((()=>B&&O([B])),[B]);const[P,M]=(0,p.useState)(""),$=(0,p.useDeferredValue)(P),{rarity:L}=z,W=(0,p.useMemo)((()=>r.fG.filter((e=>j((0,g.ub)(e)))).filter((e=>K.includes((0,g.ub)(e).weaponType))).filter((e=>!$||I(`weaponNames_gen:${e}`).toLowerCase().includes($.toLowerCase()))).filter((e=>L.includes((0,g.ub)(e).rarity))).sort(((e,t)=>(0,g.ub)(t).rarity-(0,g.ub)(e).rarity))),[$,j,L,I,K]),A=(0,p.useMemo)((()=>(0,f.W)(r.yd,(e=>r.fG.forEach((t=>{const a=(0,g.ub)(t).weaponType;e[a].total++,W.includes(t)&&e[a].current++}))))),[W]),E=(0,p.useMemo)((()=>(0,f.W)(r.U1,(e=>r.fG.forEach((t=>{const a=(0,g.ub)(t).rarity;e[a].total++,W.includes(t)&&e[a].current++}))))),[W]);return(0,k.tZ)(b.Z,{open:e,onClose:a,children:(0,k.BX)(m.Z,{children:[(0,k.tZ)(o.Z,{sx:{py:1},children:(0,k.BX)(l.ZP,{container:!0,spacing:1,children:[(0,k.tZ)(l.ZP,{item:!0,children:(0,k.tZ)(_.Z,{value:K,totals:A,onChange:O,disabled:!!B,size:"small"})}),(0,k.tZ)(l.ZP,{item:!0,children:(0,k.tZ)(w.Z,{sx:{height:"100%"},onChange:e=>X.displayWeapon.set({rarity:e}),value:L,totals:E,size:"small"})}),(0,k.tZ)(l.ZP,{item:!0,flexGrow:1,children:(0,k.tZ)(s.Z,{autoFocus:!0,size:"small",value:P,onChange:e=>M(e.target.value),label:I("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,k.tZ)(l.ZP,{item:!0,children:(0,k.tZ)(v.Z,{onClick:a})})]})}),(0,k.tZ)(c.Z,{}),(0,k.tZ)(o.Z,{children:(0,k.tZ)(l.ZP,{container:!0,spacing:1,children:W.map((e=>{var r;const i=(0,g.ub)(e);return(0,k.tZ)(l.ZP,{item:!0,lg:3,md:4,children:(0,k.tZ)(C.Z,{sx:{height:"100%"},children:(0,k.BX)(d.Z,{onClick:()=>{a(),S(e)},sx:{display:"flex"},children:[(0,k.tZ)(u.Z,{component:"img",src:(0,n.Aq)(e,t>=2),sx:{width:100,height:"auto"},className:` grad-${i.rarity}star`}),(0,k.BX)(u.Z,{sx:{flexGrow:1,px:1},children:[(0,k.tZ)(h.Z,{variant:"subtitle1",children:i.name}),(0,k.BX)(h.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,k.tZ)(y.Z,{size:1.5,src:null==(r=n.CL.weaponTypes)?void 0:r[i.weaponType]}),(0,k.tZ)(x.q,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,k.tZ)(c.Z,{}),(0,k.tZ)(o.Z,{sx:{py:1},children:(0,k.tZ)(v.Z,{large:!0,onClick:a})})]})})}},64583:(e,t,a)=>{a.d(t,{V:()=>n});const n=(0,a(2784).createContext)({})},29218:(e,t,a)=>{a.d(t,{o:()=>n});const n=(0,a(2784).createContext)(void 0)},75636:(e,t,a)=>{a.d(t,{U:()=>Z,f:()=>p});var n=a(72539),r=a(32404),i=a(86569),o=a(4121),l=a(51576),s=a(44180),c=a(25616),d=a(11845);const u={title:(0,a(52903).tZ)(i.Z,{color:"warning",children:"ERROR"})},h=Object.assign({normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass."},Object.fromEntries((0,d.w6)(1,6).map((e=>[`constellation${e}`,`Const. ${e}`]))));function p(e,t,a){if(!t)return u;if("basic"===t)return{title:"Basic Stats"};if("custom"===t)return{title:"Custom Multi Target"};if("reaction"===t)return{title:"Transformative Reactions"};if(!t.includes(":")){const n=e.get(r.qH.charKey).value;if(!n)return u;const i=(0,s.m)(n,a.gender),o=["normal","charged","plunging"].includes(t)?"auto":t,l=null==i?void 0:i.getTalentOfKey(o);if(!l)return u;const c=h[t];return{icon:l.img,title:l.name,action:c}}{const[a,i]=t.split(":");if("artifact"===a){const e=(0,o.Sk)(i);return e?{title:e.name,icon:(0,l.jU)(i)}:u}if("weapon"===a){const t=(0,c.ub)(i);if(!t)return u;const a=e.get(r.qH.weapon.asc).value;return{title:t.name,icon:(0,n.Aq)(i,a>=2)}}}return u}function Z(e){const t=e.getDisplay(),a=Object.entries(t),n=a.filter((([e])=>"basic"===e)),r=a.filter((([e])=>"reaction"===e)),i=a.filter((([e])=>"custom"===e)),o=a.filter((([e])=>e.startsWith("weapon"))),l=a.filter((([e])=>e.startsWith("artifact")));return[...n,...r,...i,...a.filter((([e])=>"basic"!==e&&"reaction"!==e&&!e.startsWith("weapon")&&!e.startsWith("artifact")&&"custom"!==e)),...o,...l]}},57167:(e,t,a)=>{a.d(t,{u:()=>h});var n=a(4991),r=a(67550),i=a(62197),o=a(2784),l=a(5051),s=a(79199),c=a(12366),d=a(4121),u=a(52903);function h({artifacts:e,currentlyEquipped:t=!1}){const a=(0,o.useMemo)((()=>e.filter((e=>e)).reduce(((e,t)=>(e[t.setKey]?e[t.setKey].push(t.slotKey):e[t.setKey]=[t.slotKey],e)),{})),[e]);return(0,u.tZ)(u.HY,{children:Object.entries(a).sort((([e,t],[a,n])=>n.length-t.length)).map((([e,a])=>(0,u.tZ)(p,{setKey:e,currentlyEquipped:t,slotarr:a},e)))})}function p({setKey:e,currentlyEquipped:t=!1,slotarr:a}){var o;const h=(0,d.Sk)(e),p=a.length,Z=Object.keys(h.setEffects).map((e=>parseInt(e))).filter((e=>e<=p));return(0,u.tZ)(r.Z,{children:(0,u.tZ)(l.Z,{artifactSheet:h,numInSet:p,children:(0,u.tZ)(c.Z,{sx:{height:"100%"},color:t?"success":"primary",children:(0,u.BX)(i.Z,{children:[a.map((e=>(0,u.tZ)(s.Z,{slotKey:e,iconProps:n.mX},e)))," ",null!=(o=h.name)?o:"",Z.map(((e,t)=>(0,u.tZ)(c.Z,{sx:{ml:.5},color:"success",children:e},""+e+t)))]})})})})}},30067:(e,t,a)=>{a.d(t,{Z:()=>q});var n=a(42745),r=a(503),i=a(44938),o=a(83568),l=a(29798),s=a(52322);const c=(0,l.Z)((0,s.jsx)("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom");var d=a(73673),u=a(38114),h=a(99074),p=a(22499),Z=a(96511),g=a(41075),f=a(79906),m=a(7671),C=a(67550),v=a(62197),y=a(83249),b=a(2784),x=a(11141),w=a(22254),_=a(45269),k=a(24264),S=a(87833),j=a(46725),B=a(86569),I=a(69698),K=a(12366),O=a(25065),X=a(13230),z=a(99487),T=a(48863),P=a(44180),M=a(32404),$=a(30706),L=a(57167),W=a(26850),A=a(96736),E=a(52903);let N,R,H=e=>e;function q({label:e,compareBuild:t,extraButtonsRight:a,extraButtonsLeft:i,disabled:l}){var s;const{teamChar:{optConfigId:d,buildType:u,buildId:h}}=(0,b.useContext)(T.V),{character:{key:p}}=(0,b.useContext)(X.K),{mainStatAssumptionLevel:Z,allowLocationsState:x}=null!=(s=(0,o.EZ)(d))?s:{mainStatAssumptionLevel:0,allowLocationsState:"all"},_=(0,o.Wz)(),k=(0,b.useContext)(z.R),{data:B,oldData:I}=k,[P,$]=(0,b.useState)(void 0),W=(0,b.useCallback)((()=>$(void 0)),[$]),A=h&&"real"===u,N=(0,b.useCallback)((()=>{const e=A?"Do you want to equip this build to this loadout?":"Do you want to equip this build to this character?";if(!window.confirm(e))return;if(A&&h)return void _.builds.set(h,{weaponId:B.get(M.ri.weapon.id).value,artifactIds:(0,n.K8)(r.Ex,(e=>{var t;return null==(t=B.get(M.ri.art[e].id).value)?void 0:t.toString()}))});const t=_.chars.get(p);if(!t)return;r.Ex.forEach((e=>{var a;const n=null==(a=B.get(M.ri.art[e].id).value)?void 0:a.toString();if(n)_.arts.set(n,{location:(0,r.V7)(p)});else{const a=t.equippedArtifacts[e];a&&_.arts.get(a)&&_.arts.set(a,{location:""})}}));const a=B.get(M.ri.weapon.id).value;a&&_.weapons.set(a,{location:(0,r.V7)(p)})}),[p,A,h,B,_]),R=(0,b.useMemo)((()=>{const e=Object.assign({},k);return t||(e.oldData=void 0),e}),[k,t]),H=(0,b.useMemo)((()=>Object.fromEntries(r.Ex.map((e=>{var t;return[e,null==(t=B.get(M.ri.art[e].id).value)?void 0:t.toString()]})))),[B]),q=(0,b.useMemo)((()=>H&&Object.values(H).map((e=>_.arts.get(e))).filter((e=>e))),[H,_.arts]),V=(0,b.useMemo)((()=>r.Ex.map((e=>(0,E.tZ)(g.ZP,{item:!0,xs:1,children:(0,E.tZ)(w.Z,{showLocation:!0,slotKey:e,artifactId:H[e],mainStatAssumptionLevel:Z,onClick:()=>{var t;const a=null==(t=I.get(M.ri.art[e].id).value)?void 0:t.toString(),n=H[e];$({oldId:a!==n?a:void 0,newId:n})}})},e)))),[$,I,Z,H]);if(!I)return null;const D=r.Ex.every((e=>{var t;return H[e]===(null==(t=I.get(M.ri.art[e].id).value)?void 0:t.toString())}))&&B.get(M.ri.weapon.id).value===I.get(M.ri.weapon.id).value;return(0,E.tZ)(S.Z,{children:(0,E.BX)(b.Suspense,{fallback:(0,E.tZ)(f.Z,{variant:"rectangular",width:"100%",height:600}),children:[P&&(0,E.tZ)(G,{newOld:P,mainStatAssumptionLevel:Z,onClose:W,allowLocationsState:x}),(0,E.BX)(m.Z,{children:[(0,E.BX)(C.Z,{display:"flex",gap:1,sx:{pb:1},flexWrap:"wrap",children:[void 0!==e&&(0,E.tZ)(K.Z,{color:"info",children:(0,E.tZ)(v.Z,{children:(0,E.BX)("strong",{children:[e,D?" (Equipped)":""]})})}),(0,E.tZ)(L.u,{artifacts:q,currentlyEquipped:D}),(0,E.tZ)(C.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}),i,(0,E.tZ)(y.Z,{size:"small",color:"success",onClick:N,disabled:l||D,startIcon:(0,E.tZ)(c,{}),children:"Equip Build"}),a]}),(0,E.BX)(g.ZP,{container:!0,spacing:1,sx:{pb:1},columns:{xs:2,sm:3,md:4,lg:6},children:[(0,E.tZ)(g.ZP,{item:!0,xs:1,children:(0,E.tZ)(O.Z,{showLocation:!0,weaponId:B.get(M.ri.weapon.id).value})}),V]}),(0,E.tZ)(z.R.Provider,{value:R,children:(0,E.tZ)(j.Z,{})})]})]})})}function G({newOld:{newId:e,oldId:t},mainStatAssumptionLevel:a,onClose:n,allowLocationsState:l}){var s,c;const u=(0,o.Wz)(),{teamChar:{buildType:h,buildId:p}}=(0,b.useContext)(T.V),Z=p&&"real"===h,{character:{key:g}}=(0,b.useContext)(X.K),f=(0,b.useCallback)((()=>{const t=Z?"Do you want to equip this artifact to this loadout?":"Do you want to equip this artifact to this character?";if(window.confirm(t)){if(Z){const t=u.arts.get(e);t.slotKey&&u.builds.set(p,(a=>{a.artifactIds[t.slotKey]=e}))}else u.arts.set(e,{location:(0,r.V7)(g)});n()}}),[e,Z,p,u,g,n]),x=null!=(s=null==(c=u.arts.get(e))?void 0:c.location)?s:"",w=(0,o.$l)(e);return(0,E.tZ)(I.Z,{open:!!e,onClose:n,containerProps:{maxWidth:t?"md":"xs"},children:(0,E.tZ)(k.Z,{children:(0,E.BX)(m.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[t&&(0,E.BX)(C.Z,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[(0,E.tZ)(A.s8,{bgt:"light",sx:{p:1},children:(0,E.tZ)(v.Z,{variant:"h6",textAlign:"center",children:"Old Artifact"})}),(0,E.tZ)($.Z,{artifactId:t,mainStatAssumptionLevel:a,canEquip:!Z,editorProps:{disableSet:!0,disableSlot:!0},extraButtons:(0,E.tZ)(V,{id:t})})]}),t&&(0,E.tZ)(C.Z,{display:"flex",flexGrow:1}),t&&(0,E.tZ)(C.Z,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,E.tZ)(y.Z,{onClick:f,sx:{display:"flex"},children:(0,E.tZ)(d.Z,{sx:{fontSize:40}})})}),t&&(0,E.tZ)(C.Z,{display:"flex",flexGrow:1}),(0,E.BX)(C.Z,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[(0,E.tZ)(A.s8,{bgt:"light",sx:{p:1},children:(0,E.tZ)(v.Z,{variant:"h6",textAlign:"center",children:"New Artifact"})}),(0,E.tZ)($.Z,{artifactId:e,mainStatAssumptionLevel:a,canEquip:!Z,editorProps:{disableSet:!0,disableSlot:!0},extraButtons:(0,E.tZ)(V,{id:e})}),x&&x!==(0,r.V7)(g)&&"all"!==l&&(0,E.tZ)(D,{locationKey:x}),w&&i.Uu.includes(w.setKey)&&(0,E.tZ)(W.Z,{setKey:w.setKey})]})]})})})}function V({id:e}){const{t}=(0,x.$G)("page_character_optimize"),{teamChar:{optConfigId:a}}=(0,b.useContext)(T.V),r=(0,o.Wz)(),{artExclusion:i}=(0,o.EZ)(a),l=i.includes(e),s=(0,b.useCallback)((()=>r.optConfigs.set(a,{artExclusion:(0,n.nh)(i,e)})),[e,i,r,a]);return a?(0,E.tZ)(_.Z,{title:(0,E.BX)(C.Z,{children:[(0,E.tZ)(v.Z,{children:t(N||(N=H`excludeArt.excludeArtifactTip`))}),(0,E.tZ)(v.Z,{children:(0,E.tZ)(B.Z,{color:l?"error":"success",children:t(l?"excludeArt.excluded":"excludeArt.included")})})]}),placement:"top",arrow:!0,children:(0,E.tZ)(y.Z,{onClick:s,color:l?"error":"success",size:"small",children:l?(0,E.tZ)(u.Z,{}):(0,E.tZ)(Z.Z,{})})}):null}function D({locationKey:e}){var t;const{t:a}=(0,x.$G)("page_character_optimize"),{teamChar:{optConfigId:r}}=(0,b.useContext)(T.V),i=(0,o.Wz)(),l=(0,P.m)(i.chars.LocationToCharacterKey(e)),{excludedLocations:s}=null!=(t=(0,o.EZ)(r))?t:{excludedLocations:[]},c=s.includes(e),d=(0,b.useCallback)((()=>i.optConfigs.set(r,{excludedLocations:(0,n.nh)(s,e)})),[e,s,i,r]);return r?(0,E.tZ)(y.Z,{onClick:d,color:c?"secondary":"success",size:"small",startIcon:c?(0,E.tZ)(p.Z,{}):(0,E.tZ)(h.Z,{}),children:(0,E.BX)("span",{children:[a(R||(R=H`excludeChar.allowEquip`))," ",(0,E.tZ)("strong",{children:l.name})]})}):null}},26850:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(44938),r=a(83568),i=a(27216),o=a(5658),l=a(38114),s=a(96511),c=a(80551),d=a(83249),u=a(2784),h=a(11141),p=a(48863),Z=a(52903);let g,f,m=e=>e;function C({setKey:e,buttonGroupSx:t}){var a;const{t:C}=(0,h.$G)("sheet"),{teamChar:{optConfigId:v}}=(0,u.useContext)(p.V),{artSetExclusion:y}=(0,r.EZ)(v),b=null!=(a=null==y?void 0:y[e])?a:[],x=b.includes(2),w=b.includes(4),_=(0,r.Wz)();return(0,Z.BX)(c.Z,{sx:t,fullWidth:!0,children:[(0,Z.tZ)(d.Z,{startIcon:x?(0,Z.tZ)(i.Z,{}):(0,Z.tZ)(o.Z,{}),onClick:()=>_.optConfigs.set(v,{artSetExclusion:(0,n.sL)(y,e,2)}),color:x?"secondary":"success",endIcon:x?(0,Z.tZ)(l.Z,{}):(0,Z.tZ)(s.Z,{}),children:C(g||(g=m`2set`))}),(0,Z.tZ)(d.Z,{startIcon:w?(0,Z.tZ)(i.Z,{}):(0,Z.tZ)(o.Z,{}),onClick:()=>_.optConfigs.set(v,{artSetExclusion:(0,n.sL)(y,e,4)}),color:w?"secondary":"success",endIcon:w?(0,Z.tZ)(l.Z,{}):(0,Z.tZ)(s.Z,{}),children:C(f||(f=m`4set`))})]})}},89848:(e,t,a)=>{a.d(t,{mQ:()=>s,wg:()=>c});var n=a(42745),r=a(503),i=a(14115),o=a(32404);a(2754);const l=(0,a(6094).yY)((0,n.I8)({dyn:Object.assign({},o.qH.art,o.qH.artSet)})),s={art:(0,n.K8)([...r.rW,...r._m],(e=>l.dyn[e])),artSet:(0,n.vU)(o.qH.artSet,((e,t)=>l.dyn[t]))};function c(e,t,a){const o={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},l=new Set;for(const n of e){const e=(0,i.Bv)(n.mainStatKey,n.rarity,Math.max(Math.min(t,r.F7[n.rarity]),n.level)),a={id:n.id,set:n.setKey,values:Object.assign({[n.setKey]:1,[n.mainStatKey]:n.mainStatKey.endsWith("_")?e/100:e},Object.fromEntries(n.substats.map((e=>[e.key,e.key.endsWith("_")?e.accurateValue/100:e.accurateValue]))))};delete a.values[""],o.values[n.slotKey].push(a),Object.keys(a.values).forEach((e=>l.add(e)))}if(o.base=(0,n.K8)([...l],(e=>0)),a)for(const n of Object.values(o.values))n.push({id:"",values:{}});return o}},28128:(e,t,a)=>{a.d(t,{UL:()=>h,ce:()=>Z,ho:()=>C,qK:()=>p,qU:()=>v});var n=a(42745),r=a(503),i=a(14115),o=a(2754),l=a(64985),s=a(93290),c=a(6094),d=a(11845),u=a(89848);function h(e,t,a){var n,i;const{artifact:{sets:h},optimization:{target:p,minTotal:Z}}=a;if(!p)return{};const g=null==(n=e[t])?void 0:n.target.data[0];if(!g)return{};Object.assign(g,(0,o.b3)([g,u.mQ]));const f=(0,d.Hm)(null!=(i=g.display)?i:{},p);if(!f)return{};const m=Object.keys(Z).map((e=>g.total[e]));let C=(0,s.tL)([f,...m],g,(({path:[e]})=>"dyn"!==e));return C=(0,l.uW)(C,(e=>{if("read"===e.operation&&"dyn"===e.path[0]){const t=h[e.path[1]];if(t)return(0,c.a9)(t);if(!r._m.includes(e.path[1]))return(0,c.a9)(0)}return e}),(e=>e)),C=(0,s.tL)(C,{},(e=>!1)),{nodes:C}}function p(e){const t=new Set;return(0,s.I3)(e,{},(e=>{const a=e.path[1];return t.add(a),a}),1),t}function Z(e){const{artifact:{slots:t,substats:{stats:a,type:r,rarity:o}}}=e,l=(0,n.vU)(a,((e,t)=>Math.ceil(a[t]/(0,i.U9)(t,o,r)))),s=m(t),c=f(t);return{minSubLines:c,minOtherRolls:g(Object.entries(l),s,c)}}function g(e,t,a=20){return a-e.reduce(((e,[a,n])=>{var r;const i=5-(null!=(r=t[a])?r:0);return e+Math.min(n,i)}),0)}function f(e){return Object.values(e).reduce(((e,{rarity:t,level:a})=>{const{high:n,low:i}=r.i0[t];return e+(a>=4?n:i)}),0)}function m(e){const t={};return Object.values(e).forEach((({statKey:e})=>{var a;t[e]=(null!=(a=t[e])?a:0)+1}),0),t}function C(e){const{artifact:{slots:t,substats:{stats:a},sets:r}}=e,o=(0,n.vU)(a,((e,t)=>(0,n.YM)(e,t)));return Object.values(t).forEach((({statKey:e,rarity:t,level:a})=>{var n;return o[e]=(null!=(n=o[e])?n:0)+(0,i.Fx)(e,t,a)})),{art:(0,n.vU)(o,((e,t)=>t.endsWith("_")?(0,c.aQ)(e):(0,c.a9)(e))),artSet:(0,n.vU)(r,(e=>(0,c.a9)(e)))}}function v(e){const{weapon:{key:t,level:a,ascension:n,refinement:r}}=e;return{id:"",location:"",key:t,level:a,ascension:n,refinement:r,lock:!1}}},73501:(e,t,a)=>{a.d(t,{Z:()=>z});var n=a(72539),r=a(83568),i=a(14115),o=a(54278),l=a(40535),s=a(22698),c=a(29754),d=a(75213),u=a(67550),h=a(79906),p=a(85801),Z=a(62197),g=a(7671),f=a(23883),m=a(83249),C=a(2784),v=a(11141),y=a(87833),b=a(50090),x=a(41653),w=a(26437),_=a(79410),k=a(36674),S=a(25616),j=a(32404),B=a(2754),I=a(15030),K=a(52903);let O,X=e=>e;function z({weaponId:e,onClick:t,onEdit:a,onDelete:z,canEquip:T=!1,extraButtons:P}){const{t:M}=(0,v.$G)(["page_weapon","ui"]),$=(0,r.Wz)(),L=(0,r.tA)(e),W=null!=L&&L.key?(0,S.ub)(L.key):void 0,A=(0,C.useCallback)((e=>e.weaponTypeKey===(null==W?void 0:W.weaponType)),[W]),E=(0,C.useCallback)((a=>(0,K.tZ)(d.Z,{onClick:()=>null==t?void 0:t(e),children:a})),[t,e]),N=(0,C.useCallback)((e=>(0,K.tZ)(u.Z,{children:e})),[]),R=(0,C.useCallback)((t=>e&&$.weapons.set(e,{location:t})),[$,e]),H=(0,C.useMemo)((()=>W&&L&&(0,B.mP)([W.data,(0,B.v0)(L)])),[W,L]);if(!L||!W||!H)return null;const{level:q,ascension:G,refinement:V,id:D,location:F="",lock:U}=L,Y=H.get(j.ri.weapon.type).value,J=[j.ri.weapon.main,j.ri.weapon.sub,j.ri.weapon.sub2].map((e=>H.get(e))),Q=(0,n.Aq)(L.key,G>=2);return(0,K.tZ)(C.Suspense,{fallback:(0,K.tZ)(h.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,K.BX)(y.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,K.BX)(w.Z,{condition:!!t,wrapper:E,falseWrapper:N,children:[(0,K.BX)(u.Z,{className:`grad-${W.rarity}star`,sx:{position:"relative",pt:2,px:2},children:[!t&&(0,K.tZ)(p.Z,{color:"primary",onClick:()=>$.weapons.set(D,{lock:!U}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:U?(0,K.tZ)(o.Z,{}):(0,K.tZ)(l.Z,{})}),(0,K.BX)(u.Z,{sx:{position:"relative",zIndex:1},children:[(0,K.BX)(u.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,K.tZ)(_.Z,{size:2,src:n.CL.weaponTypes[Y]}),(0,K.tZ)(Z.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,K.tZ)("strong",{children:W.name})})]}),(0,K.BX)(Z.Z,{component:"span",variant:"h5",children:["Lv. ",q]}),(0,K.BX)(Z.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",i.SJ[G]]}),(0,K.BX)(Z.Z,{variant:"h6",children:["Refinement ",(0,K.tZ)("strong",{children:V})]}),(0,K.tZ)(k.q,{stars:W.rarity,colored:!0})]}),(0,K.tZ)(u.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,K.tZ)(u.Z,{component:"img",src:null!=Q?Q:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,K.tZ)(g.Z,{children:J.map((e=>e.info.name?(0,K.BX)(u.Z,{sx:{display:"flex"},children:[(0,K.BX)(Z.Z,{flexGrow:1,children:[e.info.icon," ",e.info.name]}),(0,K.tZ)(Z.Z,{children:(0,I.p)(e)})]},JSON.stringify(e.info)):null))})]}),(0,K.BX)(u.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,K.tZ)(u.Z,{sx:{flexGrow:1},children:T?(0,K.tZ)(b.W,{location:F,setLocation:R,filter:A,autoCompleteProps:{getOptionDisabled:e=>!e.key}}):(0,K.tZ)(x.Z,{location:F})}),(0,K.BX)(u.Z,{display:"flex",gap:1,alignItems:"stretch",height:"100%",sx:{"& .MuiButton-root":{minWidth:0,height:"100%"}},children:[!!a&&(0,K.tZ)(f.Z,{title:(0,K.tZ)(Z.Z,{children:M(O||(O=X`page_weapon:edit`))}),placement:"top",arrow:!0,children:(0,K.tZ)(m.Z,{color:"info",size:"small",onClick:()=>a(D),children:(0,K.tZ)(c.Z,{})})}),!!z&&(0,K.tZ)(m.Z,{color:"error",size:"small",onClick:()=>z(D),disabled:!!F||U,children:(0,K.tZ)(s.Z,{})}),P]})]})]})})}},22134:(e,t,a)=>{a.d(t,{V:()=>b,Z:()=>y});var n=a(98283),r=a(45492),i=a(42745),o=a(83568),l=a(2784),s=a(4121),c=a(44180),d=a(58606),u=a(25616),h=a(51784),p=a(32404),Z=a(2754),g=a(11845),f=a(28128),m=a(48863);const C=["data"],v=["display"];function y(e=0,t,a){var i;const{teamId:s,teamCharId:c}=(0,l.useContext)(m.V),d=(0,o.Wz)(),[u,h]=(0,r.NW)(),p=(0,l.useDeferredValue)(u),{gender:f}=(0,o.Hz)(),{teamCharIds:v}=null!=(i=(0,o.t7)(s))?i:{teamCharIds:[]},y=(0,l.useMemo)((()=>p&&function(e,t,a,r,i=0,o,l){var s;if(!t)return;const c=e.teams.get(t);if(!c)return;const{teamCharIds:d}=c,u=e.teamChars.get(d[0]);if(!u)return;const{teamData:h,teamBundle:p}=null!=(s=b(e,t,r,i,o,l))?s:{};if(!h||!p)return;const f=(0,Z.Qo)(h,a,u.key),m=(0,g.xh)(f,((e,t)=>{const a=p[t],r=(0,n.Z)(a,C);return Object.assign({},e,r)}));return m}(d,s,f,c,e,t,a)),[p,f,s,d,e,c,t,a]);return(0,l.useEffect)((()=>s?d.teams.follow(s,h):void 0),[s,h,d]),(0,l.useEffect)((()=>{const e=v.map((e=>d.teamChars.follow(e,((e,t,a)=>{"update"===t&&h()})))),t=v.map((e=>{const t=d.teamChars.get(e);return t?"equipped"===t.buildType?d.chars.follow(t.key,(()=>h())):"real"===t.buildType?d.builds.follow(t.buildId,(()=>h())):"tc"===t.buildType?d.buildTcs.follow(t.buildTcId,(()=>h())):()=>{}:()=>{}}));return()=>{e.forEach((e=>e())),t.forEach((e=>e()))}}),[d,v,h]),y}function b(e,t,a,r=0,o,l){if(!t)return;const g=e.teams.get(t);if(!g)return;const{teamCharIds:m,enemyOverride:C,hitMode:y,reaction:b}=g,x=m.map(((t,i)=>{var g;const m=e.teamChars.get(t),{key:x,buildType:w,buildTcId:_,infusionAura:k,customMultiTargets:S,conditional:j,bonusStats:B}=m,I=e.chars.get(x),{key:K,level:O,constellation:X,ascension:z,talent:T}=I;let P=l,M=o,$=r;if(t!==a&&(P=void 0,M=void 0,$=0),"tc"===w&&_){const t=e.buildTcs.get(_);M=(0,f.ho)(t),P=(0,f.qU)(t)}return function(e,t=!1,a,r,i,o){const l=e.chars.get(r.key),g=(0,c.m)(r.key,e.gender);if(!g)return;const f=(0,u.ub)(i.key);if(!f)return;const m=h.Z.getAllDataOfType(g.weaponTypeKey),C=t?(()=>{const e=f.data,t=(0,n.Z)(e,v);return(0,Z.b3)([t,m])})():f.data,y=(0,Z.b3)([g.data,C,s.d5]),b=Array.isArray(o)?o.map((e=>(0,Z.n3)(e,a))):[o],x=[...b,(0,Z.qE)(r,t?y:void 0),(0,Z.v0)(i),y,p.y0,d.Y];return{character:l,weapon:i,characterSheet:g,weaponSheet:f,data:x}}(e,t===a,$,{key:K,level:O,constellation:X,ascension:z,talent:T,infusionAura:k,customMultiTargets:S,conditional:j,bonusStats:B,enemyOverride:C,hitMode:y,reaction:b},P||e.teamChars.getLoadoutWeapon(t),null!=(g=M)?g:Object.values(e.teamChars.getLoadoutArtifacts(t)).filter((e=>e)))})),w=Object.fromEntries(x.map((e=>[e.character.key,e])));return{teamData:(0,i.vU)(w,(({data:e})=>e)),teamBundle:w}}},54578:(e,t,a)=>{a.d(t,{Sn:()=>i,Xg:()=>o,gd:()=>l});var n=a(67245),r=a(31809);function i(){return{level:e=>{var t;return null!=(t=e.level*(e.ascension+1))?t:0},rarity:e=>n.G2.weapon.data[e.key].rarity,name:e=>r.Z.t(`weaponNames_gen:${e.key}`)}}function o(){return{rarity:(e,t)=>t.includes(n.G2.weapon.data[e.key].rarity),weaponType:(e,t)=>t.includes(n.G2.weapon.data[e.key].weaponType),name:(e,t)=>r.Z.t(`weaponNames_gen:${e.key}`).toLowerCase().includes(t.toLowerCase())}}const l={name:["name"],level:["level","rarity","name"],rarity:["rarity","level","name"]}},2313:(e,t,a)=>{a.d(t,{A:()=>r,W:()=>i});var n=a(42745);function r(e,t){const a=(0,n.vU)(e,(e=>o(e)));return t(a),(0,n.vU)(a,(e=>l(e)))}function i(e,t){const a=o(e);return t(a),l(a)}function o(e){return Object.fromEntries(e.map((e=>[e,{total:0,current:0}])))}function l(e){return(0,n.vU)(e,(({total:e,current:t})=>t===e?`${e}`:`${t}/${e}`))}}}]);