"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[138],{61162:(e,t,n)=>{var i=n(14859);t.Z=void 0;var r=i(n(68671)),l=n(52322),a=(0,r.default)((0,l.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"}),"AccessTimeFilled");t.Z=a},94380:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(98283),r=n(7560),l=n(2784),a=n(40489),s=n(69075),o=n(47591),c=n(65992),d=n(43853),Z=n(40602),h=n(53047),p=n(25691),u=n(98659),m=n(24215),x=n(33552),b=n(38066),g=n(69222),f=n(15672);function v(e){return(0,f.Z)("MuiMenuItem",e)}const y=(0,g.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=n(52322);const w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],B=(0,c.ZP)(h.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,r.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${y.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${y.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${m.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${m.Z.inset}`]:{marginLeft:52},[`& .${b.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${b.Z.inset}`]:{paddingLeft:36},[`& .${x.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,r.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${x.Z.root} svg`]:{fontSize:"1.25rem"}})))),k=l.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:c="li",dense:h=!1,divider:m=!1,disableGutters:x=!1,focusVisibleClassName:b,role:g="menuitem",tabIndex:f,className:y}=n,k=(0,i.Z)(n,w),P=l.useContext(Z.Z),X=l.useMemo((()=>({dense:h||P.dense||!1,disableGutters:x})),[P.dense,h,x]),j=l.useRef(null);(0,p.Z)((()=>{o&&j.current&&j.current.focus()}),[o]);const M=(0,r.Z)({},n,{dense:X.dense,divider:m,disableGutters:x}),O=(e=>{const{disabled:t,dense:n,divider:i,disableGutters:l,selected:a,classes:o}=e,c={root:["root",n&&"dense",t&&"disabled",!l&&"gutters",i&&"divider",a&&"selected"]},d=(0,s.Z)(c,v,o);return(0,r.Z)({},o,d)})(n),T=(0,u.Z)(j,t);let $;return n.disabled||($=void 0!==f?f:-1),(0,C.jsx)(Z.Z.Provider,{value:X,children:(0,C.jsx)(B,(0,r.Z)({ref:T,role:g,tabIndex:$,component:c,focusVisibleClassName:(0,a.Z)(O.focusVisible,b),className:(0,a.Z)(O.root,y)},k,{ownerState:M,classes:O}))})}))},23485:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(98283),r=n(29798),l=n(52322);const a=(0,r.Z)((0,l.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");var s=n(83249),o=n(79906),c=n(36357),d=n(6693),Z=n(17377),h=n(99118),p=n(19181),u=n(2784),m=n(52903);const x=["title","children","id"];function b(e){let{title:t,children:n,id:r="dropdownbtn"}=e,l=(0,i.Z)(e,x);const[b,g]=(0,u.useState)(null),f=Boolean(b),v=(0,u.useCallback)((e=>g(e.currentTarget)),[g]),y=(0,u.useCallback)((()=>g(null)),[g]);return(0,m.BX)(u.Suspense,{fallback:(0,m.tZ)(s.Z,Object.assign({endIcon:(0,m.tZ)(a,{})},l,{children:(0,m.tZ)(o.Z,{width:50})})),children:[(0,m.tZ)(s.Z,Object.assign({},l,{id:r,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":f?"true":void 0,onClick:v,endIcon:(0,m.tZ)(a,{}),children:t})),(0,m.tZ)(c.Z,{id:"basic-menu",anchorEl:b,open:f,placement:"bottom-start",transition:!0,onClick:y,sx:{zIndex:1500},children:({TransitionProps:e,placement:t})=>(0,m.tZ)(d.Z,Object.assign({},e,{style:{transformOrigin:"bottom-start"===t?"left top":"left bottom"},children:(0,m.tZ)(Z.Z,{sx:{maxHeight:"50vh",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12))",boxShadow:"rgb(0 0 0 / 20%) 0px 5px 5px -3px, rgb(0 0 0 / 14%) 0px 8px 10px 1px, rgb(0 0 0 / 12%) 0px 3px 14px 2px",paddingTop:"1px",paddingBottom:"1px",overflow:"auto"},children:(0,m.tZ)(h.d,{onClickAway:y,children:(0,m.BX)("div",{children:[" ",(0,m.tZ)(u.Suspense,{fallback:(0,m.tZ)(o.Z,{width:"100%",height:"1000"}),children:(0,m.tZ)(p.Z,{"aria-labelledby":r,children:n})})]})})})}))})]})}},13900:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(98283),r=n(65992),l=n(83249),a=n(52903);const s=["children","disabled"],o=(0,r.ZP)(l.Z)((({theme:e})=>({"&.Mui-disabled":{backgroundColor:e.palette.primary.dark,color:e.palette.text.secondary}})));function c(e){let{children:t}=e,n=(0,i.Z)(e,s);return(0,a.tZ)(o,Object.assign({},n,{disabled:!0,children:t}))}},41138:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var i=n(67550),r=n(2784),l=n(61877),a=n(42745),s=n(72539),o=n(29798),c=n(52322);const d=(0,o.Z)((0,c.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var Z=n(41075),h=n(62197),p=n(80551),u=n(83249),m=n(56961),x=n(7671),b=n(107),g=n(24264),f=n(87833),v=n(86569),y=n(89977),C=n(1148),w=n(79410),B=n(13900),k=n(52903);const P={advice:{name:"Wanderer's Advice",exp:1e3,cost:200,img:s.CL.exp_books.advice},experience:{name:"Adventurer's Experience",exp:5e3,cost:1e3,img:s.CL.exp_books.experience},wit:{name:"Hero's Wit",exp:2e4,cost:4e3,img:s.CL.exp_books.wit}},X=[0,1e3,1325,1700,2150,2625,3150,3725,4350,5e3,5700,6450,7225,8050,8925,9825,10750,11725,12725,13775,14875,16800,18e3,19250,20550,21875,23250,24650,26100,27575,29100,30650,32250,33875,35550,37250,38975,40750,42575,44425,46300,50625,52700,54775,56900,59075,61275,63525,65800,68125,70475,76500,79050,81650,84275,86950,89650,92400,95175,98e3,100875,108950,112050,115175,118325,121525,124775,128075,131400,134775,138175,148700,152375,156075,159825,163600,167425,171300,175225,179175,183175,216225,243025,273100,306800,344600,386950,434425,487625,547200],j=[20,40,50,60,70,80,90];function M(){const[e,t]=(0,r.useState)((()=>({mora:0,level:1,curExp:0,goUnder:!1,books:{advice:0,experience:0,wit:0}}))),{mora:n,level:l,curExp:s,goUnder:o,books:c,books:{advice:C,experience:M,wit:T}}=e,$=j.find((e=>e>l));let S=-s;for(let i=l;i<Math.min($,X.length);i++)S+=X[i];const D=function(e,t,n,i,r){let l=r?Math.floor(i/1e3):Math.ceil(i/1e3);const a=Math.min(Math.floor(l/20),e);l-=20*a;const s=Math.min(Math.floor(l/5),t);l-=5*s;const o=Math.min(l,n);if(l-=o,r||0===l)return[a,s,o];if(3===s&&a!==e)return[a+1,0,0];if(s!==t)return[a,s+1,0];if(a!==e)return[a+1,0,0];return null}(T,M,C,S,o)||[],[I=0,L=0,E=0]=D,G={advice:E,experience:L,wit:I},F=2e4*I+5e3*L+1e3*E,z=F/5,V=S-F,q=n-z;let A=F+s,R=l;for(;R<Math.min($,X.length)&&X[R]<=A;R++)A-=X[R];R===$&&(A=0);let U="";return q<0?U=(0,k.BX)("span",{children:["You don't have enough ",(0,k.tZ)("b",{children:"Mora"})," for this operation."]}):0===D.length?U=(0,k.BX)("span",{children:["You don't have enough ",(0,k.tZ)("b",{children:"EXP. books"})," to level to the next milestone."]}):90===l&&(U="You are at the maximum level."),(0,k.BX)(g.Z,{children:[(0,k.BX)(Z.ZP,{container:!0,sx:{px:2,py:1},spacing:2,children:[(0,k.tZ)(Z.ZP,{item:!0,children:(0,k.tZ)(w.Z,{src:P.wit.img,size:2})}),(0,k.tZ)(Z.ZP,{item:!0,flexGrow:1,children:(0,k.tZ)(h.Z,{variant:"h6",children:"Experience Calculator"})}),(0,k.tZ)(Z.ZP,{item:!0,children:(0,k.BX)(p.Z,{children:[(0,k.tZ)(u.Z,{color:"primary",disabled:!o,onClick:()=>t(Object.assign({},e,{goUnder:!1})),children:"Full Level"}),(0,k.tZ)(u.Z,{color:"primary",disabled:o,onClick:()=>t(Object.assign({},e,{goUnder:!0})),children:"Don't fully level"})]})})]}),(0,k.tZ)(m.Z,{}),(0,k.tZ)(x.Z,{children:(0,k.BX)(Z.ZP,{container:!0,spacing:1,children:[(0,k.tZ)(Z.ZP,{item:!0,children:(0,k.BX)(h.Z,{children:[(0,k.BX)("span",{children:["This calculator tries to calculate the amount of exp books required to get to the next milestone level."," "]}),o?"It will try to get as close to the milestone level as possible, so you can grind the rest of the exp without any waste.":"It will try to calculate the amount of books needed to minimize as much exp loss as possible."]})}),(0,k.tZ)(Z.ZP,{item:!0,xs:6,md:3,children:(0,k.BX)(p.Z,{sx:{display:"flex"},children:[(0,k.tZ)(B.Z,{children:"Current Level"}),(0,k.tZ)(y.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,k.tZ)(y.ZP,{value:l,onChange:n=>t(Object.assign({},e,{level:(0,a.re)(null!=n?n:0,0,90)})),sx:{px:2}})})]})}),(0,k.tZ)(Z.ZP,{item:!0,xs:6,md:3,children:(0,k.BX)(p.Z,{sx:{display:"flex"},children:[(0,k.tZ)(B.Z,{children:"Current EXP."}),(0,k.tZ)(y.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,k.tZ)(y.ZP,{value:s,onChange:n=>t(Object.assign({},e,{curExp:(0,a.re)(null!=n?n:0,0,(X[l]||1)-1)})),endAdornment:`/${X[l]||0}`,sx:{px:2}})})]})}),(0,k.tZ)(Z.ZP,{item:!0,xs:6,md:3,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.tZ)(h.Z,{children:"Next Milestone Level:"}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:$})})]})})}),(0,k.tZ)(Z.ZP,{item:!0,xs:6,md:3,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.tZ)(h.Z,{children:"EXP. to milestone:"}),(0,k.tZ)(h.Z,{children:(0,k.BX)("span",{children:[(0,k.tZ)("strong",{children:F})," / ",(0,k.tZ)("strong",{children:S})]})})]})})}),Object.entries(c).map((([n])=>(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.tZ)(O,{bookKey:n,value:c[n],setValue:i=>t(Object.assign({},e,{books:Object.assign({},c,{[n]:i})})),required:G[n]})},n))),(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.BX)(p.Z,{sx:{display:"flex"},children:[(0,k.tZ)(B.Z,{children:"Current Mora"}),(0,k.tZ)(y.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,k.tZ)(y.ZP,{value:n,onChange:n=>t(Object.assign({},e,{mora:Math.max(null!=n?n:0,0)})),sx:{px:2}})})]})}),(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.tZ)(h.Z,{children:"Mora Cost: "}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:z})})]})})}),(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.BX)(h.Z,{children:["EXP ",o?"Diff":"Waste",": "]}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:(0,k.tZ)(v.Z,{color:V<0?"error":"success",children:V})})})]})})}),(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.tZ)(h.Z,{children:"Final Mora: "}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:(0,k.tZ)(v.Z,{color:q<0?"error":"success",children:q})})})]})})}),(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.tZ)(h.Z,{children:"Final Level: "}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:(0,k.tZ)(v.Z,{color:"success",children:R})})})]})})}),(0,k.tZ)(Z.ZP,{item:!0,xs:12,md:4,children:(0,k.tZ)(f.Z,{children:(0,k.BX)(i.Z,{sx:{p:1,display:"flex",justifyContent:"space-between"},children:[(0,k.tZ)(h.Z,{children:"Final EXP: "}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:(0,k.tZ)(v.Z,{color:A<0?"error":"success",children:A})})})]})})})]})}),(0,k.tZ)(m.Z,{}),(0,k.tZ)(x.Z,{sx:{py:1},children:(0,k.BX)(Z.ZP,{container:!0,spacing:2,children:[(0,k.tZ)(Z.ZP,{item:!0,flexGrow:1,children:!!U&&(0,k.tZ)(b.Z,{variant:"filled",severity:"error",children:U})}),(0,k.tZ)(Z.ZP,{item:!0,xs:"auto",children:(0,k.tZ)(u.Z,{disabled:!!U,onClick:()=>t(Object.assign({},e,{level:R,curExp:A,books:(0,a.vU)(G,((e,t)=>c[t]-e)),mora:q})),color:"success",startIcon:(0,k.tZ)(d,{}),sx:{height:"100%"},children:"Apply"})})]})})]})}function O(e){const{bookKey:t,value:n=0,setValue:r,required:l=0}=e;return(0,k.BX)(f.Z,{children:[(0,k.tZ)(x.Z,{sx:{py:1},children:(0,k.tZ)(h.Z,{children:P[t].name})}),(0,k.tZ)(m.Z,{}),(0,k.tZ)(x.Z,{children:(0,k.BX)(Z.ZP,{container:!0,children:[(0,k.tZ)(Z.ZP,{item:!0,xs:3,children:(0,k.tZ)(C.Z,{src:P[t].img})}),(0,k.BX)(Z.ZP,{item:!0,xs:9,children:[(0,k.BX)(p.Z,{sx:{display:"flex"},children:[(0,k.tZ)(B.Z,{children:"Amount"}),(0,k.tZ)(y.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,k.tZ)(y.ZP,{value:n,onChange:e=>r(Math.max(null!=e?e:0,0)),sx:{px:2}})})]}),(0,k.BX)(i.Z,{display:"flex",justifyContent:"space-between",mt:1,children:[(0,k.tZ)(h.Z,{children:"Required:"}),(0,k.tZ)(h.Z,{children:(0,k.tZ)("b",{children:(0,k.tZ)(v.Z,{color:l?"success":"",children:l})})})]})]})]})})]})}var T=n(86503),$=n(23002),S=n(70274),D=n(61162),I=n(94380),L=n(23485);function E(){const e=(0,S.Wz)(),[{timeZoneKey:t},n]=(0,r.useState)((()=>e.displayTool.get()));(0,r.useEffect)((()=>e.displayTool.follow(((e,t)=>n(t)))),[e]);const i=(0,r.useCallback)((t=>e.displayTool.set({timeZoneKey:t})),[e]),[l,s]=(0,r.useState)(new Date(Date.now()+$.W3[t]));(0,r.useEffect)((()=>{const e=()=>(s(new Date(Date.now()+$.W3[t])),setTimeout((()=>{n=e()}),a.vL-Date.now()%a.vL));let n=e();return()=>clearTimeout(n)}),[t]);let o=new Date(l);o.getUTCHours()<4||(o=new Date(o.getTime()+a.mf)),o.setUTCHours(4,0,0,0);const c=o.getTime()-l.getTime(),d=(0,a.JR)(c);return(0,k.BX)(g.Z,{children:[(0,k.BX)(x.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,k.tZ)(D.Z,{}),(0,k.tZ)(h.Z,{variant:"h6",sx:{flexGrow:1},children:"Teyvat Time"}),(0,k.tZ)(L.Z,{title:t,children:Object.keys($.W3).map((e=>(0,k.tZ)(I.Z,{selected:t===e,disabled:t===e,onClick:()=>i(e),children:e},e)))})]}),(0,k.tZ)(m.Z,{}),(0,k.tZ)(x.Z,{children:(0,k.BX)(Z.ZP,{container:!0,justifyContent:"center",spacing:3,children:[(0,k.tZ)(Z.ZP,{item:!0,sx:{my:4},children:(0,k.tZ)(h.Z,{variant:"h2",children:l.toLocaleTimeString([],{timeZone:"UTC"})})}),(0,k.BX)(Z.ZP,{item:!0,display:"flex",flexDirection:"column",justifyContent:"space-around",children:[(0,k.BX)(h.Z,{children:["Server Date: ",(0,k.tZ)("b",{children:l.toDateString()})]}),(0,k.BX)(h.Z,{children:["Time until reset: ",(0,k.tZ)("b",{children:d})]}),(0,k.BX)(h.Z,{children:["Resin until reset:"," ",(0,k.tZ)("b",{children:Math.floor(c/(8*a.g4))})]})]})]})})]})}function G(){return l.ZP.send({hitType:"pageview",page:"/tools"}),(0,k.BX)(i.Z,{display:"flex",flexDirection:"column",gap:1,my:1,children:[(0,k.tZ)(E,{}),(0,k.tZ)(T.Z,{}),(0,k.tZ)(M,{})]})}}}]);