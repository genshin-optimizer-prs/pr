"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[269,313],{36269:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(29798),r=a(52322);const s=(0,n.Z)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},23690:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(98283),r=a(36269),s=a(83249),l=a(11141),c=a(52903);let i,o=e=>e;const h=["large"];function u(e){let{large:t=!1}=e,a=(0,n.Z)(e,h);const{t:u}=(0,l.$G)("ui");return t?(0,c.tZ)(s.Z,Object.assign({color:"error",startIcon:(0,c.tZ)(r.Z,{})},a,{children:u(i||(i=o`close`))})):(0,c.tZ)(s.Z,Object.assign({color:"error",sx:{p:1,minWidth:0}},a,{children:(0,c.tZ)(r.Z,{})}))}},28265:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(98283),r=a(72539),s=a(503),l=a(47746),c=a(86432),i=a(92794),o=a(66198),h=a(61851),u=a(79410),d=a(58489),Z=a(52903);const p=["value","totals","onChange"],g=(0,h.X)([...s.yd]);function m(e){let{value:t,totals:a,onChange:h}=e,m=(0,n.Z)(e,p);const y=(0,l.Z)(),f=!(0,c.Z)(y.breakpoints.up("sm"));return(0,Z.tZ)(d.Z,Object.assign({exclusive:!0,value:t},m,{children:s.yd.map((e=>{var n;return(0,Z.BX)(i.Z,{value:e,sx:{p:f?1:void 0,minWidth:f?0:"6em",display:"flex",gap:f?0:1},onClick:()=>h(g(t,e)),children:[(0,Z.tZ)(u.Z,{src:null==(n=r.CL.weaponTypes)?void 0:n[e],size:2,sideMargin:!0}),(0,Z.tZ)(o.Z,{label:a[e],size:"small"})]},e)}))}))}},56047:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var n=a(45492),r=a(42745),s=a(503),l=a(83568),c=a(46342),i=a(93553),o=a(67550),h=a(7671),u=a(41075),d=a(13780),Z=a(83249),p=a(79906),g=a(56961),m=a(2784),y=a(61877),f=a(11141),x=a(73557),C=a(24264),w=a(18835),v=a(96703),b=a(66146),k=a(42090),P=a(89279),W=a(28265),T=a(23657),j=a(44180),I=a(25616),$=a(2180),z=a(64303),S=a(2313),B=a(52903);let M,N=e=>e;const E={xs:1,sm:2,md:3,lg:4,xl:4},O={xs:6,sm:8,md:12,lg:16,xl:16},K=Object.keys(z.V3);function X(){const{t:e}=(0,f.$G)(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:t}=(0,m.useContext)(T.E),a=(0,l.Wz)(),[X,_]=(0,m.useState)((()=>a.displayCharacter.get()));(0,m.useEffect)((()=>a.displayCharacter.follow(((e,t)=>_(t)))),[a,_]);const[D,L]=(0,m.useState)(""),V=(0,m.useDeferredValue)(D),U=(0,m.useRef)(null),A=(0,m.useCallback)(((e,t)=>{var n;null==(n=U.current)||n.scrollIntoView({behavior:"smooth"}),a.displayCharacter.set({pageIndex:t-1})}),[a,U]),G=(0,n.JT)(),H=O[G],[F,q]=(0,m.useState)(!1),[J,R]=(0,n.NW)();(0,m.useEffect)((()=>(y.ZP.send({hitType:"pageview",page:"/characters"}),a.chars.followAny(((e,t)=>("new"===t||"remove"===t)&&R())))),[R,a]),(0,m.useEffect)((()=>a.charMeta.followAny((e=>R()))),[R,a]);const{gender:Y}=(0,l.Hz)(),Q=(0,m.useCallback)((async n=>{let r=(0,j.m)(n,Y).name;"object"==typeof r&&(r=e(`${t?"sillyWisher_charNames":"charNames_gen"}:${(0,s.Cs)(n,Y)}`)),window.confirm(e("removeCharacter",{value:r}))&&a.chars.remove(n)}),[a.chars,Y,t,e]),ee=(0,$.Z)(),te=(0,x.s0)(),ae=(0,m.useDeferredValue)(X),ne=(0,m.useDeferredValue)(J),{charKeyList:re,totalCharNum:se}=(0,m.useMemo)((()=>{var e;const n=a.chars.keys.length,{element:s,weaponType:l,rarity:c,sortType:i,ascending:o}=ae,h=a.chars.keys.filter((0,r.CZ)({element:s,weaponType:l,rarity:c,name:V},(0,z.zU)(a,t))).sort((0,r.ef)(null!=(e=z.V3[i])?e:[],o,(0,z._L)(a,t),["new","favorite"]));return ne&&{charKeyList:h,totalCharNum:n}}),[a,ae,V,t,ne]),{weaponType:le,element:ce,rarity:ie,sortType:oe,ascending:he,pageIndex:ue=0}=X,{charKeyListToShow:de,numPages:Ze,currentPageIndex:pe}=(0,m.useMemo)((()=>{const e=Math.ceil(re.length/H),t=(0,r.re)(ue,0,e-1);return{charKeyListToShow:re.slice(t*H,(t+1)*H),numPages:e,currentPageIndex:t}}),[re,ue,H]),ge=re.length!==se?`${re.length}/${se}`:`${se}`,me=(0,m.useMemo)((()=>(0,S.W)(s.yd,(e=>Object.entries(a.chars.data).forEach((([t,n])=>{const r=a.weapons.get(n.equippedWeapon);if(!r)return;const s=(0,I.ub)(r.key).weaponType;e[s].total++,re.includes(t)&&e[s].current++}))))),[a,re]),ye=(0,m.useMemo)((()=>(0,S.W)(s.UB,(e=>Object.entries(a.chars.data).forEach((([t,n])=>{const r=(0,j.m)(n.key,a.gender).elementKey;e[r].total++,re.includes(t)&&e[r].current++}))))),[a,re]),fe=(0,m.useMemo)((()=>(0,S.W)(s.ZI,(e=>Object.entries(a.chars.data).forEach((([t,n])=>{const r=(0,j.m)(n.key,a.gender).rarity;e[r].total++,re.includes(t)&&e[r].current++}))))),[a,re]),xe={count:Ze,page:pe+1,onChange:A},Ce={numShowing:de.length,total:ge,t:e,namespace:"page_character"},we={sortKeys:[...K],value:oe,onChange:e=>a.displayCharacter.set({sortType:e}),ascending:he,onChangeAsc:e=>a.displayCharacter.set({ascending:e})};return(0,B.BX)(o.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,B.tZ)(m.Suspense,{fallback:!1,children:(0,B.tZ)(v.Z,{newFirst:!0,show:F,onHide:()=>q(!1),onSelect:ee})}),(0,B.tZ)(C.Z,{ref:U,children:(0,B.BX)(h.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,B.BX)(u.ZP,{container:!0,spacing:1,children:[(0,B.tZ)(u.ZP,{item:!0,children:(0,B.tZ)(W.Z,{sx:{height:"100%"},onChange:e=>a.displayCharacter.set({weaponType:e}),value:le,totals:me,size:"small"})}),(0,B.tZ)(u.ZP,{item:!0,children:(0,B.tZ)(P.Z,{sx:{height:"100%"},onChange:e=>a.displayCharacter.set({element:e}),value:ce,totals:ye,size:"small"})}),(0,B.tZ)(u.ZP,{item:!0,children:(0,B.tZ)(k.Z,{sx:{height:"100%"},onChange:e=>a.displayCharacter.set({rarity:e}),value:ie,totals:fe,size:"small"})}),(0,B.tZ)(u.ZP,{item:!0,flexGrow:1}),(0,B.tZ)(u.ZP,{item:!0,children:(0,B.tZ)(d.Z,{autoFocus:!0,value:D,onChange:e=>L(e.target.value),label:e("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),(0,B.tZ)(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:(0,B.tZ)(b.Z,{paginationProps:xe,showingTextProps:Ce,displaySort:!0,sortByButtonProps:we})})]})}),(0,B.tZ)(Z.Z,{fullWidth:!0,onClick:()=>q(!0),color:"info",startIcon:(0,B.tZ)(i.Z,{}),children:e(M||(M=N`addNew`))}),(0,B.tZ)(m.Suspense,{fallback:(0,B.tZ)(p.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,B.tZ)(u.ZP,{container:!0,spacing:1,columns:E,children:de.map((t=>(0,B.tZ)(u.ZP,{item:!0,xs:1,children:(0,B.tZ)(w.Z,{characterKey:t,onClick:()=>te(`${t}`),footer:(0,B.BX)(B.HY,{children:[(0,B.tZ)(g.Z,{}),(0,B.tZ)(o.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:(0,B.tZ)(Z.Z,{fullWidth:!0,color:"error",onClick:()=>Q(t),startIcon:(0,B.tZ)(c.Z,{}),children:e("delete")})})]})})},t)))})}),Ze>1&&(0,B.tZ)(C.Z,{children:(0,B.BX)(h.Z,{sx:{display:"flex",flexDirection:"row",gap:1},children:[(0,B.tZ)(Z.Z,{onClick:()=>q(!0),color:"info",sx:{minWidth:0},children:(0,B.tZ)(i.Z,{})}),(0,B.tZ)(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",flexGrow:1,children:(0,B.tZ)(b.Z,{paginationProps:xe,showingTextProps:Ce})})]})})]})}},2313:(e,t,a)=>{a.d(t,{A:()=>r,W:()=>s});var n=a(42745);function r(e,t){const a=(0,n.vU)(e,(e=>l(e)));return t(a),(0,n.vU)(a,(e=>c(e)))}function s(e,t){const a=l(e);return t(a),c(a)}function l(e){return Object.fromEntries(e.map((e=>[e,{total:0,current:0}])))}function c(e){return(0,n.vU)(e,(({total:e,current:t})=>t===e?`${e}`:`${t}/${e}`))}}}]);