"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[571],{18571:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var n=a(72539),i=a(31653),l=a(30095),s=a(7671),r=a(41075),o=a(13780),c=a(56961),Z=a(75213),u=a(67550),d=a(62197),h=a(2784),p=a(11141),f=a(25616),y=a(2313),m=a(24264),g=a(87833),w=a(23690),x=a(79410),b=a(69698),C=a(36674),v=a(90844),P=a(28265),k=a(52903);function G({show:e,ascension:t=0,onHide:a,onSelect:G,filter:W=(()=>!0),weaponTypeFilter:z}){const{t:B}=(0,p.$G)(["page_weapon","weaponNames_gen"]),[T,X]=(0,h.useState)(z?[z]:[...i.yd]),E=(0,l.Wz)(),[N,S]=(0,h.useState)(E.displayWeapon.get());(0,h.useEffect)((()=>E.displayWeapon.follow(((e,t)=>S(t)))),[E]),(0,h.useEffect)((()=>z&&X([z])),[z]);const[L,M]=(0,h.useState)(""),$=(0,h.useDeferredValue)(L),{rarity:_}=N,q=(0,h.useMemo)((()=>i.fG.filter((e=>W((0,f.ub)(e)))).filter((e=>T.includes((0,f.ub)(e).weaponType))).filter((e=>!$||B(`weaponNames_gen:${e}`).toLowerCase().includes($.toLowerCase()))).filter((e=>_.includes((0,f.ub)(e).rarity))).sort(((e,t)=>(0,f.ub)(t).rarity-(0,f.ub)(e).rarity))),[$,W,_,B,T]),F=(0,h.useMemo)((()=>(0,y.W)(i.yd,(e=>i.fG.forEach((t=>{const a=(0,f.ub)(t).weaponType;e[a].total++,q.includes(t)&&e[a].current++}))))),[q]),I=(0,h.useMemo)((()=>(0,y.W)(i.U1,(e=>i.fG.forEach((t=>{const a=(0,f.ub)(t).rarity;e[a].total++,q.includes(t)&&e[a].current++}))))),[q]);return(0,k.tZ)(b.Z,{open:e,onClose:a,children:(0,k.BX)(m.Z,{children:[(0,k.tZ)(s.Z,{sx:{py:1},children:(0,k.BX)(r.ZP,{container:!0,spacing:1,children:[(0,k.tZ)(r.ZP,{item:!0,children:(0,k.tZ)(P.Z,{value:T,totals:F,onChange:X,disabled:!!z,size:"small"})}),(0,k.tZ)(r.ZP,{item:!0,children:(0,k.tZ)(v.Z,{sx:{height:"100%"},onChange:e=>E.displayWeapon.set({rarity:e}),value:_,totals:I,size:"small"})}),(0,k.tZ)(r.ZP,{item:!0,flexGrow:1,children:(0,k.tZ)(o.Z,{autoFocus:!0,size:"small",value:L,onChange:e=>M(e.target.value),label:B("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,k.tZ)(r.ZP,{item:!0,children:(0,k.tZ)(w.Z,{onClick:a})})]})}),(0,k.tZ)(c.Z,{}),(0,k.tZ)(s.Z,{children:(0,k.tZ)(r.ZP,{container:!0,spacing:1,children:q.map((e=>{var i;const l=(0,f.ub)(e);return(0,k.tZ)(r.ZP,{item:!0,lg:3,md:4,children:(0,k.tZ)(g.Z,{sx:{height:"100%"},children:(0,k.BX)(Z.Z,{onClick:()=>{a(),G(e)},sx:{display:"flex"},children:[(0,k.tZ)(u.Z,{component:"img",src:(0,n.Aq)(e,t>=2),sx:{width:100,height:"auto"},className:` grad-${l.rarity}star`}),(0,k.BX)(u.Z,{sx:{flexGrow:1,px:1},children:[(0,k.tZ)(d.Z,{variant:"subtitle1",children:l.name}),(0,k.BX)(d.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,k.tZ)(x.Z,{size:1.5,src:null==(i=n.CL.weaponTypes)?void 0:i[l.weaponType]}),(0,k.tZ)(C.q,{stars:l.rarity,colored:!0})]})]})]})})},e)}))})}),(0,k.tZ)(c.Z,{}),(0,k.tZ)(s.Z,{sx:{py:1},children:(0,k.tZ)(w.Z,{large:!0,onClick:a})})]})})}}}]);