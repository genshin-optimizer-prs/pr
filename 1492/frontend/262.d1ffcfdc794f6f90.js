"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[262],{4453:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(67550),a=n(62197),l=n(52903);function s({avatar:e,title:t,action:n}){return(0,l.BX)(i.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[e,(0,l.tZ)(a.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),n&&(0,l.tZ)(a.Z,{variant:"caption",children:n})]})}},14836:(e,t,n)=>{n.d(t,{X:()=>$,Z:()=>Y});var i=n(67550),a=n(62197),l=n(56961),s=n(2784),o=n(99487),r=n(11845),c=n(24264),d=n(4453),Z=n(7671),u=n(39282),h=n(42745),p=n(83568),m=n(5658),f=n(27216),v=n(83249),b=n(94380),x=n(80551),C=n(48863),g=n(76111),y=n(12366),k=n(1665),w=n(52903);function B({conditional:e,disabled:t=!1}){const{data:n}=(0,s.useContext)(o.R);return 1===Object.keys((0,h.mY)(e.states,n)).length&&"path"in e?(0,w.tZ)(R,{conditional:e,disabled:t}):"path"in e?(0,w.tZ)(X,{conditional:e,disabled:t}):(0,w.tZ)(D,{conditional:e,disabled:t})}function R({conditional:e,disabled:t}){const{teamCharId:n}=(0,s.useContext)(C.V),{data:i}=(0,s.useContext)(o.R),a=(0,p.Wz)(),l=(0,s.useCallback)((t=>{a.teamChars.set(n,(n=>{const i=(0,h.I8)(n.conditional);t?(0,h.SR)(i,e.path,t):(0,h.uH)(i,e.path),n.conditional=i}))}),[a,e.path,n]),r=i.get(e.value).value,[c,d]=Object.entries((0,h.mY)(e.states,i))[0],Z=W(d.name),u=I(e.name);return(0,w.BX)(v.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:r?"success":"primary",onClick:()=>l(r?void 0:c),disabled:t,startIcon:r?(0,w.tZ)(m.Z,{}):(0,w.tZ)(f.Z,{}),children:[u," ",Z]})}function X({conditional:e,disabled:t}){const{teamCharId:n}=(0,s.useContext)(C.V),{data:i}=(0,s.useContext)(o.R),a=(0,p.Wz)(),r=(0,s.useCallback)((t=>{a.teamChars.set(n,(n=>{const i=(0,h.I8)(n.conditional);t?(0,h.SR)(i,e.path,t):(0,h.uH)(i,e.path),n.conditional=i}))}),[a,e.path,n]),c=i.get(e.value).value,d=(0,h.mY)(e.states,i),Z=c?d[c]:void 0,u=Z?W(Z.name):(0,w.tZ)(y.Z,{color:"secondary",children:"Not Active"}),m=I(e.name);return(0,w.BX)(g.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:c&&Z?"success":"primary",title:(0,w.BX)("span",{children:[m," ",u]}),disabled:t,children:[(0,w.tZ)(b.Z,{onClick:()=>r(),selected:!Z,disabled:!Z,children:(0,w.tZ)("span",{children:"Not Active"})}),(0,w.tZ)(l.Z,{}),Object.entries(d).map((([e,t])=>(0,w.tZ)(b.Z,{onClick:()=>r(e),selected:c===e,disabled:c===e,children:t.name},e)))]})}function D({conditional:e,disabled:t}){const{teamCharId:n}=(0,s.useContext)(C.V),{data:i}=(0,s.useContext)(o.R),a=(0,p.Wz)(),l=(0,s.useCallback)(((e,t)=>{a.teamChars.set(n,(n=>{const i=(0,h.I8)(n.conditional);t?(0,h.SR)(i,e,t):(0,h.uH)(i,e),n.conditional=i}))}),[a,n]);return(0,w.tZ)(x.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries((0,h.mY)(e.states,i)).map((([e,n])=>{const a=i.get(n.value).value,s=a===e;return(0,w.tZ)(v.Z,{color:s?"success":"primary",disabled:t,fullWidth:!0,onClick:()=>l(n.path,a?void 0:e),size:"small",startIcon:s?(0,w.tZ)(m.Z,{}):(0,w.tZ)(f.Z,{}),sx:{borderRadius:0},children:I(n.name)},e)}))})}function P(e){return"string"!=typeof e}function W(e){if(!e)return"";let t="primary",n=e;return e&&P(e)&&e.props.color&&(t=e.props.color,n=(0,w.tZ)("span",{children:e.props.children})),(0,w.tZ)(y.Z,{sx:{ml:.5},color:t,children:n})}function I(e){if(P(e)){const t=e.props.key18,n=e.props.ns,i=e.props.values;return(0,w.tZ)(k.v,{ns:n,key18:t,values:i,useBadge:!0})}return e}function H({conditional:e,hideHeader:t=!1,hideDesc:n=!1,disabled:i=!1}){const{data:a}=(0,s.useContext)(o.R);let l;if("path"in e){var d;const t=a.get(e.value).value,n=(0,r.mY)(e.states,a);l=t&&(null==(d=n[t])?void 0:d.fields)}else{const t=(0,r.mY)(e.states,a);l=Object.values(t).flatMap((e=>a.get(e.value).value?e.fields:[]))}return(0,w.BX)(c.Z,{children:[!(0,r.mY)(t,e)&&(0,w.tZ)($,{header:e.header,hideDesc:n}),(0,w.tZ)(Z.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,w.tZ)(B,{conditional:e,disabled:i})}),l&&(0,w.tZ)(u.ZP,{fields:l})]})}var S=n(12702);function Y({sections:e,teamBuffOnly:t,hideDesc:n=!1,hideHeader:a=!1,disabled:l=!1}){const{data:r}=(0,s.useContext)(o.R);if(!e.length)return null;const c=e.map(((e,i)=>e.canShow&&!r.get(e.canShow).value||t&&!e.teamBuff?null:(0,w.tZ)(L,{section:e,hideDesc:n,hideHeader:a,disabled:l},i))).filter((e=>e));return c.length?(0,w.tZ)(i.Z,{display:"flex",flexDirection:"column",gap:1,children:c}):null}function L({section:e,hideDesc:t=!1,hideHeader:n=!1,disabled:i=!1}){return"fields"in e?(0,w.tZ)(z,{section:e,hideDesc:t,hideHeader:n}):"states"in e?(0,w.tZ)(H,{conditional:e,hideDesc:t,hideHeader:n,disabled:i}):(0,w.tZ)(O,{section:e})}function z({section:e,hideDesc:t,hideHeader:n}){return(0,w.BX)(c.Z,{children:[!(0,r.mY)(n,e)&&e.header&&(0,w.tZ)($,{header:e.header,hideDesc:t,hideDivider:0===e.fields.length}),(0,w.tZ)(u.ZP,{fields:e.fields})]})}function O({section:e}){const{data:t}=(0,s.useContext)(o.R);return(0,w.tZ)("div",{children:(0,r.mY)(e.text,t)})}function $({header:e,hideDesc:t,hideDivider:n}){const{data:i}=(0,s.useContext)(o.R),{icon:c,title:Z,action:u}=e,h=(0,r.mY)(c,i),p=!t&&(0,r.mY)(e.description,i),m=t?Z:(0,w.BX)("span",{children:[Z,(0,w.tZ)(S.L,{title:(0,w.tZ)(a.Z,{children:p})})]});return(0,w.BX)(w.HY,{children:[(0,w.tZ)(d.Z,{avatar:h,title:m,action:u}),!n&&(0,w.tZ)(l.Z,{})]})}},86512:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(42745),a=n(16633),l=n(80551),s=n(83249),o=n(94380),r=n(2784),c=n(11141),d=n(89977),Z=n(76111),u=n(52903);function h({level:e,ascension:t,setBoth:n,useLow:h=!1,disabled:p=!1}){const{t:m}=(0,c.$G)("ui"),f=h?a.sU:a.SJ,v=(0,r.useCallback)(((e=1)=>{e=(0,i.re)(e,1,h?a.d8:a.Qq);const t=f.findIndex((t=>e<=t));n({level:e,ascension:t})}),[n,f,h]),b=(0,r.useCallback)((()=>{const i=f.findIndex((t=>90!==e&&e===t));n(t===i?{ascension:t+1}:{ascension:i})}),[n,f,t,e]);return(0,u.BX)(l.Z,{sx:{bgcolor:e=>e.palette.contentNormal.main},children:[(0,u.tZ)(d.CC,{children:(0,u.tZ)(d.ZP,{onChange:v,value:e,startAdornment:"Lv. ",disabled:p,inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,u.tZ)(s.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(h?a.nB:a.ek)(e)||p,onClick:b,children:(0,u.BX)("strong",{children:["/ ",a.SJ[t]]})}),(0,u.tZ)(Z.Z,{title:m("selectlevel"),sx:{flexGrow:1},disabled:p,children:[...h?a.vF:a.D4].map((([i,a])=>{const l=i===e&&a===t;return(0,u.tZ)(o.Z,{selected:l,disabled:l,onClick:()=>n({level:i,ascension:a}),children:i===f[a]?`Lv. ${i}`:`Lv. ${i}/${f[a]}`},`${i}/${a}`)}))})]})}},23128:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(31653),a=n(94380),l=n(11141),s=n(76111),o=n(52903);function r({refinement:e,setRefinement:t,disabled:n=!1}){const{t:r}=(0,l.$G)("ui");return(0,o.tZ)(s.Z,{title:r("refinement",{value:e}),disabled:n,children:i.Lb.map((n=>(0,o.tZ)(a.Z,{onClick:()=>t(n),selected:e===n,disabled:e===n,children:r("refinement",{value:n})},n)))})}},48863:(e,t,n)=>{n.d(t,{V:()=>i});const i=(0,n(2784).createContext)({teamChar:{},team:{}})},64262:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var i=n(45492),a=n(72539),l=n(83568),s=n(16633),o=n(54278),r=n(40535),c=n(7671),d=n(41075),Z=n(67550),u=n(62197),h=n(80551),p=n(83249),m=n(42523),f=n(56961),v=n(15873),b=n(2784),x=n(24264),C=n(87833),g=n(50090),y=n(23690),k=n(14836),w=n(39282),B=n(86512),R=n(69698),X=n(23128),D=n(36674),P=n(99487),W=n(25616),I=n(32404),H=n(2754),S=n(52903);const Y=b.lazy((()=>n.e(571).then(n.bind(n,18571))));function L({weaponId:e,footer:t=!1,onClose:n,extraButtons:L}){var z;const{data:O}=(0,b.useContext)(P.R),$=(0,l.Wz)(),j=(0,l.tA)(e),{key:N="",level:A=0,refinement:G=1,ascension:T=0,lock:V,location:J="",id:q}=null!=j?j:{},E=N?(0,W.ub)(N):void 0,F=(0,b.useCallback)((t=>{$.weapons.set(e,t)}),[e,$]),M=(0,b.useCallback)((e=>q&&$.weapons.set(q,{location:e})),[$,q]),U=(0,b.useCallback)((e=>e.weaponTypeKey===(null==E?void 0:E.weaponType)),[E]),[K,Q,_]=(0,i.aV)(),ee=N?(0,a.Aq)(N,T>=2):"";(0,b.useEffect)((()=>{if(E&&F&&E.key===(null==j?void 0:j.key)&&E.rarity<=2&&(A>70||T>4)){const[e,t]=s.vF[0];F({level:e,ascension:t})}}),[E,j,F,A,T]);const te=(0,b.useMemo)((()=>E&&j&&(0,H.mP)([E.data,(0,H.v0)(j)])),[E,j]);return(0,S.tZ)(R.Z,{open:!!e,onClose:n,containerProps:{maxWidth:"md"},children:(0,S.BX)(C.Z,{children:[(0,S.tZ)(Y,{ascension:T,show:K,onHide:_,onSelect:e=>F({key:e}),weaponTypeFilter:E&&E.weaponType}),(0,S.tZ)(c.Z,{children:E&&te&&(0,S.BX)(d.ZP,{container:!0,spacing:1.5,children:[(0,S.tZ)(d.ZP,{item:!0,xs:12,sm:3,children:(0,S.BX)(d.ZP,{container:!0,spacing:1.5,children:[(0,S.tZ)(d.ZP,{item:!0,xs:6,sm:12,children:(0,S.tZ)(Z.Z,{component:"img",src:ee,className:`grad-${E.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,S.tZ)(d.ZP,{item:!0,xs:6,sm:12,children:(0,S.tZ)(u.Z,{children:(0,S.tZ)("small",{children:E.description})})})]})}),(0,S.BX)(d.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,S.tZ)(Z.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,S.BX)(h.Z,{children:[(0,S.tZ)(p.Z,{color:"info",onClick:Q,children:null!=(z=null==E?void 0:E.name)?z:"Select a Weapon"}),(null==E?void 0:E.hasRefinement)&&(0,S.tZ)(X.Z,{refinement:G,setRefinement:e=>F({refinement:e})}),L]})}),(0,S.BX)(Z.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[E&&(0,S.tZ)(B.Z,{level:A,ascension:T,setBoth:F,useLow:!E.hasRefinement}),(0,S.tZ)(p.Z,{color:"error",onClick:()=>q&&$.weapons.set(q,{lock:!V}),startIcon:V?(0,S.tZ)(o.Z,{}):(0,S.tZ)(r.Z,{}),children:V?"Locked":"Unlocked"})]}),(0,S.tZ)(D.q,{stars:E.rarity}),(0,S.tZ)(u.Z,{variant:"subtitle1",children:(0,S.tZ)("strong",{children:E.passiveName})}),(0,S.tZ)(u.Z,{gutterBottom:!0,children:E.passiveName&&E.passiveDescription(te.get(I.ri.weapon.refinement).value-1)}),(0,S.BX)(Z.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,S.BX)(x.Z,{children:[(0,S.tZ)(m.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,S.tZ)(f.Z,{}),(0,S.tZ)(w.lD,{children:[I.ri.weapon.main,I.ri.weapon.sub,I.ri.weapon.sub2].map((e=>{const t=te.get(e);return t.isEmpty||!t.value?null:(0,S.tZ)(w.JW,{node:t,component:v.ZP},JSON.stringify(t.info))}))})]}),O&&E.document&&(0,S.tZ)(k.Z,{sections:E.document})]})]})]})}),t&&q&&(0,S.tZ)(c.Z,{sx:{py:1},children:(0,S.BX)(d.ZP,{container:!0,spacing:1,children:[(0,S.tZ)(d.ZP,{item:!0,flexGrow:1,children:(0,S.tZ)(g.W,{location:J,setLocation:M,filter:U,autoCompleteProps:{getOptionDisabled:e=>!e.key}})}),(0,S.tZ)(d.ZP,{item:!0,flexGrow:2}),!!n&&(0,S.tZ)(d.ZP,{item:!0,children:(0,S.tZ)(y.Z,{sx:{height:"100%"},large:!0,onClick:n})})]})})]})})}}}]);