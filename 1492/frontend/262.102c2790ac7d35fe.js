"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[262],{42523:(e,t,n)=>{n.d(t,{Z:()=>C});var a=n(98283),i=n(7560),s=n(2784),l=n(40489),o=n(69075),r=n(62197),d=n(43853),c=n(65992),u=n(69222),Z=n(15672);function h(e){return(0,Z.Z)("MuiCardHeader",e)}const p=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=n(52322);const f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,i.Z)({[`& .${p.title}`]:t.title,[`& .${p.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),b=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),x=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),C=s.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:s,avatar:c,className:u,component:Z="div",disableTypography:p=!1,subheader:C,subheaderTypographyProps:g,title:k,titleTypographyProps:w}=n,B=(0,a.Z)(n,f),R=(0,i.Z)({},n,{component:Z,disableTypography:p}),P=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},h,t)})(R);let H=k;null==H||H.type===r.Z||p||(H=(0,m.jsx)(r.Z,(0,i.Z)({variant:c?"body2":"h5",className:P.title,component:"span",display:"block"},w,{children:H})));let X=C;return null==X||X.type===r.Z||p||(X=(0,m.jsx)(r.Z,(0,i.Z)({variant:c?"body2":"body1",className:P.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:X}))),(0,m.jsxs)(v,(0,i.Z)({className:(0,l.Z)(P.root,u),as:Z,ref:t,ownerState:R},B,{children:[c&&(0,m.jsx)(b,{className:P.avatar,ownerState:R,children:c}),(0,m.jsxs)(y,{className:P.content,ownerState:R,children:[H,X]}),s&&(0,m.jsx)(x,{className:P.action,ownerState:R,children:s})]}))}))},4453:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67550),i=n(62197),s=n(52903);function l({avatar:e,title:t,action:n}){return(0,s.BX)(a.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[e,(0,s.tZ)(i.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),n&&(0,s.tZ)(i.Z,{variant:"caption",children:n})]})}},14836:(e,t,n)=>{n.d(t,{X:()=>M,Z:()=>I});var a=n(67550),i=n(62197),s=n(56961),l=n(2784),o=n(99487),r=n(11845),d=n(24264),c=n(4453),u=n(7671),Z=n(39282),h=n(42745),p=n(83568),m=n(5658),f=n(27216),v=n(83249),b=n(94380),x=n(80551),y=n(48863),C=n(76111),g=n(12366),k=n(1665),w=n(52903);function B({conditional:e,disabled:t=!1}){const{data:n}=(0,l.useContext)(o.R);return 1===Object.keys((0,h.mY)(e.states,n)).length&&"path"in e?(0,w.tZ)(R,{conditional:e,disabled:t}):"path"in e?(0,w.tZ)(P,{conditional:e,disabled:t}):(0,w.tZ)(H,{conditional:e,disabled:t})}function R({conditional:e,disabled:t}){const{teamCharId:n}=(0,l.useContext)(y.V),{data:a}=(0,l.useContext)(o.R),i=(0,p.Wz)(),s=(0,l.useCallback)((t=>{i.teamChars.set(n,(n=>{const a=(0,h.I8)(n.conditional);t?(0,h.SR)(a,e.path,t):(0,h.uH)(a,e.path),n.conditional=a}))}),[i,e.path,n]),r=a.get(e.value).value,[d,c]=Object.entries((0,h.mY)(e.states,a))[0],u=D(c.name),Z=S(e.name);return(0,w.BX)(v.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:r?"success":"primary",onClick:()=>s(r?void 0:d),disabled:t,startIcon:r?(0,w.tZ)(m.Z,{}):(0,w.tZ)(f.Z,{}),children:[Z," ",u]})}function P({conditional:e,disabled:t}){const{teamCharId:n}=(0,l.useContext)(y.V),{data:a}=(0,l.useContext)(o.R),i=(0,p.Wz)(),r=(0,l.useCallback)((t=>{i.teamChars.set(n,(n=>{const a=(0,h.I8)(n.conditional);t?(0,h.SR)(a,e.path,t):(0,h.uH)(a,e.path),n.conditional=a}))}),[i,e.path,n]),d=a.get(e.value).value,c=(0,h.mY)(e.states,a),u=d?c[d]:void 0,Z=u?D(u.name):(0,w.tZ)(g.Z,{color:"secondary",children:"Not Active"}),m=S(e.name);return(0,w.BX)(C.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:d&&u?"success":"primary",title:(0,w.BX)("span",{children:[m," ",Z]}),disabled:t,children:[(0,w.tZ)(b.Z,{onClick:()=>r(),selected:!u,disabled:!u,children:(0,w.tZ)("span",{children:"Not Active"})}),(0,w.tZ)(s.Z,{}),Object.entries(c).map((([e,t])=>(0,w.tZ)(b.Z,{onClick:()=>r(e),selected:d===e,disabled:d===e,children:t.name},e)))]})}function H({conditional:e,disabled:t}){const{teamCharId:n}=(0,l.useContext)(y.V),{data:a}=(0,l.useContext)(o.R),i=(0,p.Wz)(),s=(0,l.useCallback)(((e,t)=>{i.teamChars.set(n,(n=>{const a=(0,h.I8)(n.conditional);t?(0,h.SR)(a,e,t):(0,h.uH)(a,e),n.conditional=a}))}),[i,n]);return(0,w.tZ)(x.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries((0,h.mY)(e.states,a)).map((([e,n])=>{const i=a.get(n.value).value,l=i===e;return(0,w.tZ)(v.Z,{color:l?"success":"primary",disabled:t,fullWidth:!0,onClick:()=>s(n.path,i?void 0:e),size:"small",startIcon:l?(0,w.tZ)(m.Z,{}):(0,w.tZ)(f.Z,{}),sx:{borderRadius:0},children:S(n.name)},e)}))})}function X(e){return"string"!=typeof e}function D(e){if(!e)return"";let t="primary",n=e;return e&&X(e)&&e.props.color&&(t=e.props.color,n=(0,w.tZ)("span",{children:e.props.children})),(0,w.tZ)(g.Z,{sx:{ml:.5},color:t,children:n})}function S(e){if(X(e)){const t=e.props.key18,n=e.props.ns,a=e.props.values;return(0,w.tZ)(k.v,{ns:n,key18:t,values:a,useBadge:!0})}return e}function N({conditional:e,hideHeader:t=!1,hideDesc:n=!1,disabled:a=!1}){const{data:i}=(0,l.useContext)(o.R);let s;if("path"in e){var c;const t=i.get(e.value).value,n=(0,r.mY)(e.states,i);s=t&&(null==(c=n[t])?void 0:c.fields)}else{const t=(0,r.mY)(e.states,i);s=Object.values(t).flatMap((e=>i.get(e.value).value?e.fields:[]))}return(0,w.BX)(d.Z,{children:[!(0,r.mY)(t,e)&&(0,w.tZ)(M,{header:e.header,hideDesc:n}),(0,w.tZ)(u.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,w.tZ)(B,{conditional:e,disabled:a})}),s&&(0,w.tZ)(Z.ZP,{fields:s})]})}var W=n(12702);function I({sections:e,teamBuffOnly:t,hideDesc:n=!1,hideHeader:i=!1,disabled:s=!1}){const{data:r}=(0,l.useContext)(o.R);if(!e.length)return null;const d=e.map(((e,a)=>e.canShow&&!r.get(e.canShow).value||t&&!e.teamBuff?null:(0,w.tZ)(T,{section:e,hideDesc:n,hideHeader:i,disabled:s},a))).filter((e=>e));return d.length?(0,w.tZ)(a.Z,{display:"flex",flexDirection:"column",gap:1,children:d}):null}function T({section:e,hideDesc:t=!1,hideHeader:n=!1,disabled:a=!1}){return"fields"in e?(0,w.tZ)(j,{section:e,hideDesc:t,hideHeader:n}):"states"in e?(0,w.tZ)(N,{conditional:e,hideDesc:t,hideHeader:n,disabled:a}):(0,w.tZ)(Y,{section:e})}function j({section:e,hideDesc:t,hideHeader:n}){return(0,w.BX)(d.Z,{children:[!(0,r.mY)(n,e)&&e.header&&(0,w.tZ)(M,{header:e.header,hideDesc:t,hideDivider:0===e.fields.length}),(0,w.tZ)(Z.ZP,{fields:e.fields})]})}function Y({section:e}){const{data:t}=(0,l.useContext)(o.R);return(0,w.tZ)("div",{children:(0,r.mY)(e.text,t)})}function M({header:e,hideDesc:t,hideDivider:n}){const{data:a}=(0,l.useContext)(o.R),{icon:d,title:u,action:Z}=e,h=(0,r.mY)(d,a),p=!t&&(0,r.mY)(e.description,a),m=t?u:(0,w.BX)("span",{children:[u,(0,w.tZ)(W.L,{title:(0,w.tZ)(i.Z,{children:p})})]});return(0,w.BX)(w.HY,{children:[(0,w.tZ)(c.Z,{avatar:h,title:m,action:Z}),!n&&(0,w.tZ)(s.Z,{})]})}},86512:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(42745),i=n(14115),s=n(80551),l=n(83249),o=n(94380),r=n(2784),d=n(11141),c=n(89977),u=n(76111),Z=n(52903);function h({level:e,ascension:t,setBoth:n,useLow:h=!1,disabled:p=!1}){const{t:m}=(0,d.$G)("ui"),f=h?i.sU:i.SJ,v=(0,r.useCallback)(((e=1)=>{e=(0,a.re)(e,1,h?i.d8:i.Qq);const t=f.findIndex((t=>e<=t));n({level:e,ascension:t})}),[n,f,h]),b=(0,r.useCallback)((()=>{const a=f.findIndex((t=>90!==e&&e===t));n(t===a?{ascension:t+1}:{ascension:a})}),[n,f,t,e]);return(0,Z.BX)(s.Z,{sx:{bgcolor:e=>e.palette.contentNormal.main},children:[(0,Z.tZ)(c.CC,{children:(0,Z.tZ)(c.ZP,{onChange:v,value:e,startAdornment:"Lv. ",disabled:p,inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,Z.tZ)(l.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(h?i.nB:i.ek)(e)||p,onClick:b,children:(0,Z.BX)("strong",{children:["/ ",i.SJ[t]]})}),(0,Z.tZ)(u.Z,{title:m("selectlevel"),sx:{flexGrow:1},disabled:p,children:[...h?i.vF:i.D4].map((([a,i])=>{const s=a===e&&i===t;return(0,Z.tZ)(o.Z,{selected:s,disabled:s,onClick:()=>n({level:a,ascension:i}),children:a===f[i]?`Lv. ${a}`:`Lv. ${a}/${f[i]}`},`${a}/${i}`)}))})]})}},23128:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(503),i=n(94380),s=n(11141),l=n(76111),o=n(52903);function r({refinement:e,setRefinement:t,disabled:n=!1}){const{t:r}=(0,s.$G)("ui");return(0,o.tZ)(l.Z,{title:r("refinement",{value:e}),disabled:n,children:a.Lb.map((n=>(0,o.tZ)(i.Z,{onClick:()=>t(n),selected:e===n,disabled:e===n,children:r("refinement",{value:n})},n)))})}},48863:(e,t,n)=>{n.d(t,{V:()=>a});const a=(0,n(2784).createContext)({teamChar:{},team:{}})},64262:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(45492),i=n(72539),s=n(83568),l=n(14115),o=n(54278),r=n(40535),d=n(7671),c=n(41075),u=n(67550),Z=n(62197),h=n(80551),p=n(83249),m=n(42523),f=n(56961),v=n(15873),b=n(2784),x=n(24264),y=n(87833),C=n(50090),g=n(23690),k=n(14836),w=n(39282),B=n(86512),R=n(69698),P=n(23128),H=n(36674),X=n(99487),D=n(44180),S=n(25616),N=n(32404),W=n(2754),I=n(52903);const T=b.lazy((()=>n.e(571).then(n.bind(n,18571))));function j({weaponId:e,footer:t=!1,onClose:n,extraButtons:j}){var Y;const{data:M}=(0,b.useContext)(X.R),L=(0,s.Wz)(),$=(0,s.tA)(e),{key:z="",level:A=0,refinement:O=1,ascension:G=0,lock:V,location:J="",id:q}=null!=$?$:{},E=z?(0,S.ub)(z):void 0,F=(0,b.useCallback)((t=>{L.weapons.set(e,t)}),[e,L]),{gender:K}=(0,s.Hz)(),U=(0,b.useMemo)((()=>J?(0,D.m)(L.chars.LocationToCharacterKey(J),K):void 0),[L,K,J]),Q=U&&U.weaponTypeKey,_=(0,b.useCallback)((e=>q&&L.weapons.set(q,{location:e})),[L,q]),ee=(0,b.useCallback)((e=>e.weaponTypeKey===(null==E?void 0:E.weaponType)),[E]),[te,ne,ae]=(0,a.aV)(),ie=z?(0,i.Aq)(z,G>=2):"";(0,b.useEffect)((()=>{if(E&&F&&E.key===(null==$?void 0:$.key)&&E.rarity<=2&&(A>70||G>4)){const[e,t]=l.vF[0];F({level:e,ascension:t})}}),[E,$,F,A,G]);const se=(0,b.useMemo)((()=>E&&$&&(0,W.mP)([E.data,(0,W.v0)($)])),[E,$]);return(0,I.tZ)(R.Z,{open:!!e,onClose:n,containerProps:{maxWidth:"md"},children:(0,I.BX)(y.Z,{children:[(0,I.tZ)(T,{ascension:G,show:te,onHide:ae,onSelect:e=>F({key:e}),weaponTypeFilter:Q}),(0,I.tZ)(d.Z,{children:E&&se&&(0,I.BX)(c.ZP,{container:!0,spacing:1.5,children:[(0,I.tZ)(c.ZP,{item:!0,xs:12,sm:3,children:(0,I.BX)(c.ZP,{container:!0,spacing:1.5,children:[(0,I.tZ)(c.ZP,{item:!0,xs:6,sm:12,children:(0,I.tZ)(u.Z,{component:"img",src:ie,className:`grad-${E.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,I.tZ)(c.ZP,{item:!0,xs:6,sm:12,children:(0,I.tZ)(Z.Z,{children:(0,I.tZ)("small",{children:E.description})})})]})}),(0,I.BX)(c.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,I.tZ)(u.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,I.BX)(h.Z,{children:[(0,I.tZ)(p.Z,{color:"info",onClick:ne,children:null!=(Y=null==E?void 0:E.name)?Y:"Select a Weapon"}),(null==E?void 0:E.hasRefinement)&&(0,I.tZ)(P.Z,{refinement:O,setRefinement:e=>F({refinement:e})}),j]})}),(0,I.BX)(u.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[E&&(0,I.tZ)(B.Z,{level:A,ascension:G,setBoth:F,useLow:!E.hasRefinement}),(0,I.tZ)(p.Z,{color:"error",onClick:()=>q&&L.weapons.set(q,{lock:!V}),startIcon:V?(0,I.tZ)(o.Z,{}):(0,I.tZ)(r.Z,{}),children:V?"Locked":"Unlocked"})]}),(0,I.tZ)(H.q,{stars:E.rarity}),(0,I.tZ)(Z.Z,{variant:"subtitle1",children:(0,I.tZ)("strong",{children:E.passiveName})}),(0,I.tZ)(Z.Z,{gutterBottom:!0,children:E.passiveName&&E.passiveDescription(se.get(N.ri.weapon.refinement).value-1)}),(0,I.BX)(u.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,I.BX)(x.Z,{children:[(0,I.tZ)(m.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,I.tZ)(f.Z,{}),(0,I.tZ)(w.lD,{children:[N.ri.weapon.main,N.ri.weapon.sub,N.ri.weapon.sub2].map((e=>{const t=se.get(e);return t.isEmpty||!t.value?null:(0,I.tZ)(w.JW,{node:t,component:v.ZP},JSON.stringify(t.info))}))})]}),M&&E.document&&(0,I.tZ)(k.Z,{sections:E.document})]})]})]})}),t&&q&&(0,I.tZ)(d.Z,{sx:{py:1},children:(0,I.BX)(c.ZP,{container:!0,spacing:1,children:[(0,I.tZ)(c.ZP,{item:!0,flexGrow:1,children:(0,I.tZ)(C.W,{location:J,setLocation:_,filter:ee,autoCompleteProps:{getOptionDisabled:e=>!e.key}})}),(0,I.tZ)(c.ZP,{item:!0,flexGrow:2}),!!n&&(0,I.tZ)(c.ZP,{item:!0,children:(0,I.tZ)(g.Z,{sx:{height:"100%"},large:!0,onClick:n})})]})})]})})}}}]);