"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[176],{99933:(e,t,l)=>{var a=l(14859);t.Z=void 0;var i=a(l(68671)),n=l(52322),r=(0,i.default)((0,n.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");t.Z=r},76176:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var a=l(45492),i=l(83568),n=l(93553),r=l(67550),o=l(83249),c=l(42523),s=l(56961),d=l(7671),Z=l(62197),h=l(13780),m=l(79906),p=l(41075),f=l(2784),u=l(73557),x=l(96736),g=l(42745),v=l(22698),w=l(69208),y=l(75213),k=l(91218),C=l(1811),I=l(52903);function b({teamId:e,onClick:t}){const l=(0,i.t7)(e),{name:a,description:n,teamCharIds:c}=l,s=(0,i.Wz)();return(0,I.BX)(x.s8,{sx:{height:"100%",p:1,display:"flex",flexDirection:"column",gap:1},children:[(0,I.BX)(y.Z,{onClick:t,sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch"},children:[(0,I.tZ)(x.eN,{title:(0,I.tZ)(Z.Z,{children:n}),children:(0,I.BX)(Z.Z,{sx:{display:"flex",gap:1},children:[(0,I.tZ)("span",{children:a})," ",(0,I.tZ)(w.Z,{})]})}),(0,I.tZ)(r.Z,{children:(0,I.tZ)(p.ZP,{container:!0,columns:4,spacing:1,children:(0,g.w6)(0,3).map((e=>(0,I.tZ)(p.ZP,{item:!0,xs:1,height:"100%",children:c[e]?(0,I.tZ)(k.Z,{characterKey:s.teamChars.get(c[e]).key}):(0,I.tZ)(k.D,{index:e})},e)))})})]}),(0,I.BX)(r.Z,{sx:{display:"flex",gap:1,marginTop:"auto"},children:[(0,I.tZ)(o.Z,{color:"info",sx:{flexGrow:1},startIcon:(0,I.tZ)(C.Z,{}),disabled:c.every((e=>!e)),onClick:()=>{const t=s.teams.export(e),l=JSON.stringify(t);console.log({data:t,dataStr:l}),navigator.clipboard.writeText(l).then((()=>alert("Copied team data to clipboard."))).catch(console.error)},children:"Export"}),(0,I.tZ)(o.Z,{color:"error",size:"small",onClick:()=>{window.confirm("Do you want to remote this team?")&&s.teams.remove(e)},children:(0,I.tZ)(v.Z,{})})]})]})}var B=l(99933);const D={xs:1,sm:2,md:3,lg:4,xl:4};function S(){const e=(0,i.Wz)(),[t,l]=(0,a.NW)(),g=(0,f.useMemo)((()=>t&&e.teams.keys),[t,e]),v=(0,u.s0)();(0,f.useEffect)((()=>e.teams.followAny(((e,t)=>("new"===t||"remove"===t)&&l()))),[l,e]);const[w,y,k]=(0,a.aV)(),[C,S]=(0,f.useState)("");return(0,I.BX)(r.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,I.BX)(r.Z,{sx:{display:"flex",gap:1},children:[(0,I.tZ)(o.Z,{fullWidth:!0,onClick:()=>{const t=e.teams.new({});v(t)},color:"info",startIcon:(0,I.tZ)(n.Z,{}),children:"Add Team"}),(0,I.tZ)(x.AB,{open:w,onClose:k,children:(0,I.BX)(x.s8,{children:[(0,I.tZ)(c.Z,{title:"Import Team"}),(0,I.tZ)(s.Z,{}),(0,I.BX)(d.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,I.tZ)(Z.Z,{children:"Import a team in JSON form below."}),(0,I.tZ)(h.Z,{fullWidth:!0,label:"JSON Data",placeholder:"Paste your Team JSON here",value:C,onChange:e=>S(e.target.value),multiline:!0,rows:4}),(0,I.tZ)(o.Z,{startIcon:(0,I.tZ)(B.Z,{}),disabled:!C,onClick:()=>{try{const t=JSON.parse(C);e.teams.import(t)||window.alert("Data verification failed."),k()}catch(t){return void window.alert(`Data Import failed. ${t}`)}},children:"Import"})]})]})}),(0,I.tZ)(o.Z,{fullWidth:!0,onClick:y,color:"info",startIcon:(0,I.tZ)(B.Z,{}),children:"Import Team"})]}),(0,I.tZ)(f.Suspense,{fallback:(0,I.tZ)(m.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,I.tZ)(p.ZP,{container:!0,spacing:1,columns:D,children:g.map((e=>(0,I.tZ)(p.ZP,{item:!0,xs:1,children:(0,I.tZ)(b,{teamId:e,onClick:()=>v(`${e}`)})},e)))})})]})}}}]);