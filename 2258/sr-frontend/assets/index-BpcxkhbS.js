import{g as Bt,a as Kt,c as Ue,j as x,s as le,P as xr,b as ce,d as ct,l as ut,_ as m,r as v,u as Ut,e as Wt,I as qt,C as yr,f as xe,h as Gt,i as kr,k as Sr,m as Mt,n as Cr,o as lt,p as Ee,q as nt,t as Be,v as At,w as Yt,x as Xt,y as pe,z as Le,A as _e,B as o,D as $r,E as ze,F as Rr,M as we,G as mt,H as Lr,J as Qt,K as _r,L as Pr,N as Mr,O as _,Q as Zt,R as Ar,S as Ir,T as wr,U as zr,V as Tr,W as st,X as It,Y as wt,Z as jr,$ as ie,a0 as Nr,a1 as Y,a2 as ge,a3 as Jt,a4 as Dr,a5 as fe,a6 as Or,a7 as Hr,a8 as er,a9 as Vr,aa as Fr,ab as zt,ac as Er,ad as Br,ae as Kr,af as tr,ag as Ur,ah as se,ai as Wr,aj as qr,ak as dt,al as Gr,am as Yr,an as pt,ao as Xr}from"./index-DU_9lZok.js";import{u as rr,a as Qr,b as Zr}from"./useInfScroll-DGHqvTVU.js";import{d as ft}from"./Add-CNg8TCct.js";import{C as Jr}from"./CardHeader-lJ9lR4oQ.js";const ea={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},ta=ea;function ra(e){return Kt("MuiAlert",e)}const aa=Bt("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Tt=aa,oa=Ue(x.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),la=Ue(x.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),na=Ue(x.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),sa=Ue(x.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ia=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],ca=e=>{const{variant:t,color:r,severity:l,classes:n}=e,u={root:["root",`${t}${ce(r||l)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Gt(u,ra,n)},ua=le(xr,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ce(r.color||r.severity)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?ct:ut,l=e.palette.mode==="light"?ut:ct,n=t.color||t.severity;return m({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},n&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${n}Color`]:r(e.palette[n].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${n}StandardBg`]:l(e.palette[n].light,.9),[`& .${Tt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}},n&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${n}Color`]:r(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${Tt.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}},n&&t.variant==="filled"&&m({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${n}FilledColor`],backgroundColor:e.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[n].dark:e.palette[n].main,color:e.palette.getContrastText(e.palette[n].main)}))}),da=le("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),pa=le("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),jt=le("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Nt={success:x.jsx(oa,{fontSize:"inherit"}),warning:x.jsx(la,{fontSize:"inherit"}),error:x.jsx(na,{fontSize:"inherit"}),info:x.jsx(sa,{fontSize:"inherit"})},fa=v.forwardRef(function(t,r){var l,n,u,i,p,h;const I=Ut({props:t,name:"MuiAlert"}),{action:$,children:a,className:C,closeText:w="Close",color:R,components:k={},componentsProps:b={},icon:L,iconMapping:H=Nt,onClose:V,role:G="alert",severity:z="success",slotProps:P={},slots:K={},variant:ue="standard"}=I,W=Wt(I,ia),T=m({},I,{color:R,severity:z,variant:ue}),U=ca(T),X=(l=(n=K.closeButton)!=null?n:k.CloseButton)!=null?l:qt,re=(u=(i=K.closeIcon)!=null?i:k.CloseIcon)!=null?u:yr,j=(p=P.closeButton)!=null?p:b.closeButton,s=(h=P.closeIcon)!=null?h:b.closeIcon;return x.jsxs(ua,m({role:G,elevation:0,ownerState:T,className:xe(U.root,C),ref:r},W,{children:[L!==!1?x.jsx(da,{ownerState:T,className:U.icon,children:L||H[z]||Nt[z]}):null,x.jsx(pa,{ownerState:T,className:U.message,children:a}),$!=null?x.jsx(jt,{ownerState:T,className:U.action,children:$}):null,$==null&&V?x.jsx(jt,{ownerState:T,className:U.action,children:x.jsx(X,m({size:"small","aria-label":w,title:w,color:"inherit",onClick:V},j,{children:x.jsx(re,m({fontSize:"small"},s))}))}):null]}))}),ma=fa;function va(e,t,r=(l,n)=>l===n){return e.length===t.length&&e.every((l,n)=>r(l,t[n]))}const ha=2;function ar(e,t){return e-t}function Ie(e,t,r){return e==null?t:Math.min(Math.max(t,e),r)}function Dt(e,t){var r;const{index:l}=(r=e.reduce((n,u,i)=>{const p=Math.abs(t-u);return n===null||p<n.distance||p===n.distance?{distance:p,index:i}:n},null))!=null?r:{};return l}function Oe(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let l=0;l<r.changedTouches.length;l+=1){const n=r.changedTouches[l];if(n.identifier===t.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Ke(e,t,r){return(e-t)*100/(r-t)}function ba(e,t,r){return(r-t)*e+t}function ga(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),l=r[0].split(".")[1];return(l?l.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function xa(e,t,r){const l=Math.round((e-r)/t)*t+r;return Number(l.toFixed(ga(t)))}function Ot({values:e,newValue:t,index:r}){const l=e.slice();return l[r]=t,l.sort(ar)}function He({sliderRef:e,activeIndex:t,setActive:r}){var l,n;const u=Ee(e.current);if(!((l=e.current)!=null&&l.contains(u.activeElement))||Number(u==null||(n=u.activeElement)==null?void 0:n.getAttribute("data-index"))!==t){var i;(i=e.current)==null||i.querySelector(`[type="range"][data-index="${t}"]`).focus()}r&&r(t)}function Ve(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?va(e,t):!1}const ya={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},ka=e=>e;let Fe;function it(){return Fe===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Fe=CSS.supports("touch-action","none"):Fe=!0),Fe}function Sa(e){const{"aria-labelledby":t,defaultValue:r,disabled:l=!1,disableSwap:n=!1,isRtl:u=!1,marks:i=!1,max:p=100,min:h=0,name:I,onChange:$,onChangeCommitted:a,orientation:C="horizontal",rootRef:w,scale:R=ka,step:k=1,tabIndex:b,value:L}=e,H=v.useRef(),[V,G]=v.useState(-1),[z,P]=v.useState(-1),[K,ue]=v.useState(!1),W=v.useRef(0),[T,U]=kr({controlled:L,default:r??h,name:"Slider"}),X=$&&((c,d,f)=>{const g=c.nativeEvent||c,F=new g.constructor(g.type,g);Object.defineProperty(F,"target",{writable:!0,value:{value:d,name:I}}),$(F,d,f)}),re=Array.isArray(T);let j=re?T.slice().sort(ar):[T];j=j.map(c=>Ie(c,h,p));const s=i===!0&&k!==null?[...Array(Math.floor((p-h)/k)+1)].map((c,d)=>({value:h+k*d})):i||[],y=s.map(c=>c.value),{isFocusVisibleRef:Q,onBlur:E,onFocus:Z,ref:Pe}=Sr(),[Te,ye]=v.useState(-1),J=v.useRef(),je=Mt(Pe,J),Me=Mt(w,je),Ne=c=>d=>{var f;const g=Number(d.currentTarget.getAttribute("data-index"));Z(d),Q.current===!0&&ye(g),P(g),c==null||(f=c.onFocus)==null||f.call(c,d)},We=c=>d=>{var f;E(d),Q.current===!1&&ye(-1),P(-1),c==null||(f=c.onBlur)==null||f.call(c,d)};Cr(()=>{if(l&&J.current.contains(document.activeElement)){var c;(c=document.activeElement)==null||c.blur()}},[l]),l&&V!==-1&&G(-1),l&&Te!==-1&&ye(-1);const ke=c=>d=>{var f;(f=c.onChange)==null||f.call(c,d);const g=Number(d.currentTarget.getAttribute("data-index")),F=j[g],ee=y.indexOf(F);let S=d.target.valueAsNumber;if(s&&k==null){const A=y[y.length-1];S>A?S=A:S<y[0]?S=y[0]:S=S<F?y[ee-1]:y[ee+1]}if(S=Ie(S,h,p),re){n&&(S=Ie(S,j[g-1]||-1/0,j[g+1]||1/0));const A=S;S=Ot({values:j,newValue:S,index:g});let D=g;n||(D=S.indexOf(A)),He({sliderRef:J,activeIndex:D})}U(S),ye(g),X&&!Ve(S,T)&&X(d,S,g),a&&a(d,S)},me=v.useRef();let Se=C;u&&C==="horizontal"&&(Se+="-reverse");const Ce=({finger:c,move:d=!1})=>{const{current:f}=J,{width:g,height:F,bottom:ee,left:S}=f.getBoundingClientRect();let A;Se.indexOf("vertical")===0?A=(ee-c.y)/F:A=(c.x-S)/g,Se.indexOf("-reverse")!==-1&&(A=1-A);let D;if(D=ba(A,h,p),k)D=xa(D,k,h);else{const Ae=Dt(y,D);D=y[Ae]}D=Ie(D,h,p);let ne=0;if(re){d?ne=me.current:ne=Dt(j,D),n&&(D=Ie(D,j[ne-1]||-1/0,j[ne+1]||1/0));const Ae=D;D=Ot({values:j,newValue:D,index:ne}),n&&d||(ne=D.indexOf(Ae),me.current=ne)}return{newValue:D,activeIndex:ne}},ve=lt(c=>{const d=Oe(c,H);if(!d)return;if(W.current+=1,c.type==="mousemove"&&c.buttons===0){ae(c);return}const{newValue:f,activeIndex:g}=Ce({finger:d,move:!0});He({sliderRef:J,activeIndex:g,setActive:G}),U(f),!K&&W.current>ha&&ue(!0),X&&!Ve(f,T)&&X(c,f,g)}),ae=lt(c=>{const d=Oe(c,H);if(ue(!1),!d)return;const{newValue:f}=Ce({finger:d,move:!0});G(-1),c.type==="touchend"&&P(-1),a&&a(c,f),H.current=void 0,M()}),N=lt(c=>{if(l)return;it()||c.preventDefault();const d=c.changedTouches[0];d!=null&&(H.current=d.identifier);const f=Oe(c,H);if(f!==!1){const{newValue:F,activeIndex:ee}=Ce({finger:f});He({sliderRef:J,activeIndex:ee,setActive:G}),U(F),X&&!Ve(F,T)&&X(c,F,ee)}W.current=0;const g=Ee(J.current);g.addEventListener("touchmove",ve),g.addEventListener("touchend",ae)}),M=v.useCallback(()=>{const c=Ee(J.current);c.removeEventListener("mousemove",ve),c.removeEventListener("mouseup",ae),c.removeEventListener("touchmove",ve),c.removeEventListener("touchend",ae)},[ae,ve]);v.useEffect(()=>{const{current:c}=J;return c.addEventListener("touchstart",N,{passive:it()}),()=>{c.removeEventListener("touchstart",N,{passive:it()}),M()}},[M,N]),v.useEffect(()=>{l&&M()},[l,M]);const $e=c=>d=>{var f;if((f=c.onMouseDown)==null||f.call(c,d),l||d.defaultPrevented||d.button!==0)return;d.preventDefault();const g=Oe(d,H);if(g!==!1){const{newValue:ee,activeIndex:S}=Ce({finger:g});He({sliderRef:J,activeIndex:S,setActive:G}),U(ee),X&&!Ve(ee,T)&&X(d,ee,S)}W.current=0;const F=Ee(J.current);F.addEventListener("mousemove",ve),F.addEventListener("mouseup",ae)},he=Ke(re?j[0]:h,h,p),be=Ke(j[j.length-1],h,p)-he,qe=(c={})=>{const d=nt(c),f={onMouseDown:$e(d||{})},g=m({},d,f);return m({},c,{ref:Me},g)},q=c=>d=>{var f;(f=c.onMouseOver)==null||f.call(c,d);const g=Number(d.currentTarget.getAttribute("data-index"));P(g)},Re=c=>d=>{var f;(f=c.onMouseLeave)==null||f.call(c,d),P(-1)};return{active:V,axis:Se,axisProps:ya,dragging:K,focusedThumbIndex:Te,getHiddenInputProps:(c={})=>{var d;const f=nt(c),g={onChange:ke(f||{}),onFocus:Ne(f||{}),onBlur:We(f||{})},F=m({},f,g);return m({tabIndex:b,"aria-labelledby":t,"aria-orientation":C,"aria-valuemax":R(p),"aria-valuemin":R(h),name:I,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(d=e.step)!=null?d:void 0,disabled:l},c,F,{style:m({},ta,{direction:u?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:qe,getThumbProps:(c={})=>{const d=nt(c),f={onMouseOver:q(d||{}),onMouseLeave:Re(d||{})};return m({},c,d,f)},marks:s,open:z,range:re,rootRef:Me,trackLeap:be,trackOffset:he,values:j,getThumbStyle:c=>({pointerEvents:V!==-1&&V!==c?"none":void 0})}}const Ca=e=>!e||!Be(e);function $a(e){return Kt("MuiSlider",e)}const oe=Bt("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ra=e=>{const{open:t}=e;return{offset:xe(t&&oe.valueLabelOpen),circle:oe.valueLabelCircle,label:oe.valueLabelLabel}};function La(e){const{children:t,className:r,value:l}=e,n=Ra(e);return t?v.cloneElement(t,{className:xe(t.props.className)},x.jsxs(v.Fragment,{children:[t.props.children,x.jsx("span",{className:xe(n.offset,r),"aria-hidden":!0,children:x.jsx("span",{className:n.circle,children:x.jsx("span",{className:n.label,children:l})})})]})):null}const _a=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Ht(e){return e}const Pa=le("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ce(r.color)}`],r.size!=="medium"&&t[`size${ce(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>m({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&m({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&m({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${oe.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${oe.dragging}`]:{[`& .${oe.thumb}, & .${oe.track}`]:{transition:"none"}}})),Ma=le("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>m({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),Aa=le("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?ut(e.palette[t.color].main,.62):ct(e.palette[t.color].main,.5);return m({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})}),Ia=le("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${ce(r.color)}`],r.size!=="medium"&&t[`thumbSize${ce(r.size)}`]]}})(({theme:e,ownerState:t})=>m({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":m({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${oe.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:At(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${oe.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:At(e.palette[t.color].main,.16)}`},[`&.${oe.disabled}`]:{"&:hover":{boxShadow:"none"}}})),wa=le(La,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>m({[`&.${oe.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),za=le("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Yt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(({theme:e,ownerState:t,markActive:r})=>m({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Ta=le("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Yt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:r})=>m({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary})),ja=e=>{const{disabled:t,dragging:r,marked:l,orientation:n,track:u,classes:i,color:p,size:h}=e,I={root:["root",t&&"disabled",r&&"dragging",l&&"marked",n==="vertical"&&"vertical",u==="inverted"&&"trackInverted",u===!1&&"trackFalse",p&&`color${ce(p)}`,h&&`size${ce(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",h&&`thumbSize${ce(h)}`,p&&`thumbColor${ce(p)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Gt(I,$a,i)},Na=({children:e})=>e,Da=v.forwardRef(function(t,r){var l,n,u,i,p,h,I,$,a,C,w,R,k,b,L,H,V,G,z,P,K,ue,W,T;const U=Ut({props:t,name:"MuiSlider"}),re=Xt().direction==="rtl",{"aria-label":j,"aria-valuetext":s,"aria-labelledby":y,component:Q="span",components:E={},componentsProps:Z={},color:Pe="primary",classes:Te,className:ye,disableSwap:J=!1,disabled:je=!1,getAriaLabel:Me,getAriaValueText:Ne,marks:We=!1,max:ke=100,min:me=0,orientation:Se="horizontal",size:Ce="medium",step:ve=1,scale:ae=Ht,slotProps:N,slots:M,track:$e="normal",valueLabelDisplay:he="off",valueLabelFormat:be=Ht}=U,qe=Wt(U,_a),q=m({},U,{isRtl:re,max:ke,min:me,classes:Te,disabled:je,disableSwap:J,orientation:Se,marks:We,color:Pe,size:Ce,step:ve,scale:ae,track:$e,valueLabelDisplay:he,valueLabelFormat:be}),{axisProps:Re,getRootProps:kt,getHiddenInputProps:St,getThumbProps:Ct,open:c,active:d,axis:f,focusedThumbIndex:g,range:F,dragging:ee,marks:S,values:A,trackOffset:D,trackLeap:ne,getThumbStyle:Ae}=Sa(m({},q,{rootRef:r}));q.marked=S.length>0&&S.some(O=>O.label),q.dragging=ee,q.focusedThumbIndex=g;const te=ja(q),Ge=(l=(n=M==null?void 0:M.root)!=null?n:E.Root)!=null?l:Pa,$t=(u=(i=M==null?void 0:M.rail)!=null?i:E.Rail)!=null?u:Ma,Rt=(p=(h=M==null?void 0:M.track)!=null?h:E.Track)!=null?p:Aa,Lt=(I=($=M==null?void 0:M.thumb)!=null?$:E.Thumb)!=null?I:Ia,_t=(a=(C=M==null?void 0:M.valueLabel)!=null?C:E.ValueLabel)!=null?a:wa,Ye=(w=(R=M==null?void 0:M.mark)!=null?R:E.Mark)!=null?w:za,Xe=(k=(b=M==null?void 0:M.markLabel)!=null?b:E.MarkLabel)!=null?k:Ta,Pt=(L=(H=M==null?void 0:M.input)!=null?H:E.Input)!=null?L:"input",Qe=(V=N==null?void 0:N.root)!=null?V:Z.root,ur=(G=N==null?void 0:N.rail)!=null?G:Z.rail,Ze=(z=N==null?void 0:N.track)!=null?z:Z.track,Je=(P=N==null?void 0:N.thumb)!=null?P:Z.thumb,et=(K=N==null?void 0:N.valueLabel)!=null?K:Z.valueLabel,dr=(ue=N==null?void 0:N.mark)!=null?ue:Z.mark,pr=(W=N==null?void 0:N.markLabel)!=null?W:Z.markLabel,fr=(T=N==null?void 0:N.input)!=null?T:Z.input,mr=pe({elementType:Ge,getSlotProps:kt,externalSlotProps:Qe,externalForwardedProps:qe,additionalProps:m({},Ca(Ge)&&{as:Q}),ownerState:m({},q,Qe==null?void 0:Qe.ownerState),className:[te.root,ye]}),vr=pe({elementType:$t,externalSlotProps:ur,ownerState:q,className:te.rail}),hr=pe({elementType:Rt,externalSlotProps:Ze,additionalProps:{style:m({},Re[f].offset(D),Re[f].leap(ne))},ownerState:m({},q,Ze==null?void 0:Ze.ownerState),className:te.track}),tt=pe({elementType:Lt,getSlotProps:Ct,externalSlotProps:Je,ownerState:m({},q,Je==null?void 0:Je.ownerState),className:te.thumb}),br=pe({elementType:_t,externalSlotProps:et,ownerState:m({},q,et==null?void 0:et.ownerState),className:te.valueLabel}),rt=pe({elementType:Ye,externalSlotProps:dr,ownerState:q,className:te.mark}),at=pe({elementType:Xe,externalSlotProps:pr,ownerState:q,className:te.markLabel}),gr=pe({elementType:Pt,getSlotProps:St,externalSlotProps:fr,ownerState:q});return x.jsxs(Ge,m({},mr,{children:[x.jsx($t,m({},vr)),x.jsx(Rt,m({},hr)),S.filter(O=>O.value>=me&&O.value<=ke).map((O,B)=>{const ot=Ke(O.value,me,ke),De=Re[f].offset(ot);let de;return $e===!1?de=A.indexOf(O.value)!==-1:de=$e==="normal"&&(F?O.value>=A[0]&&O.value<=A[A.length-1]:O.value<=A[0])||$e==="inverted"&&(F?O.value<=A[0]||O.value>=A[A.length-1]:O.value>=A[0]),x.jsxs(v.Fragment,{children:[x.jsx(Ye,m({"data-index":B},rt,!Be(Ye)&&{markActive:de},{style:m({},De,rt.style),className:xe(rt.className,de&&te.markActive)})),O.label!=null?x.jsx(Xe,m({"aria-hidden":!0,"data-index":B},at,!Be(Xe)&&{markLabelActive:de},{style:m({},De,at.style),className:xe(te.markLabel,at.className,de&&te.markLabelActive),children:O.label})):null]},B)}),A.map((O,B)=>{const ot=Ke(O,me,ke),De=Re[f].offset(ot),de=he==="off"?Na:_t;return x.jsx(de,m({},!Be(de)&&{valueLabelFormat:be,valueLabelDisplay:he,value:typeof be=="function"?be(ae(O),B):be,index:B,open:c===B||d===B||he==="on",disabled:je},br,{children:x.jsx(Lt,m({"data-index":B},tt,{className:xe(te.thumb,tt.className,d===B&&te.active,g===B&&te.focusVisible),style:m({},De,Ae(B),tt.style),children:x.jsx(Pt,m({"data-index":B,"aria-label":Me?Me(B):j,"aria-valuenow":ae(O),"aria-labelledby":y,"aria-valuetext":Ne?Ne(ae(O),B):s,value:A[B]},gr))}))}),B)})]}))}),Oa=Da;var vt={},Ha=_e;Object.defineProperty(vt,"__esModule",{value:!0});var or=vt.default=void 0,Va=Ha(Le()),Fa=x,Ea=(0,Va.default)((0,Fa.jsx)("path",{d:"m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"}),"StarRounded");or=vt.default=Ea;const Vt=({stars:e=1,colored:t=!1,inline:r=!1})=>o($r,{color:t?"warning":void 0,children:[...Array(e).keys()].map((l,n)=>o(or,{fontSize:r?"inherit":void 0,sx:r?{verticalAlign:"text-top"}:void 0},n))});var ht={},Ba=_e;Object.defineProperty(ht,"__esModule",{value:!0});var lr=ht.default=void 0,Ka=Ba(Le()),Ua=x,Wa=(0,Ka.default)((0,Ua.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");lr=ht.default=Wa;var bt={},qa=_e;Object.defineProperty(bt,"__esModule",{value:!0});var nr=bt.default=void 0,Ga=qa(Le()),Ya=x,Xa=(0,Ga.default)((0,Ya.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");nr=bt.default=Xa;var gt={},Qa=_e;Object.defineProperty(gt,"__esModule",{value:!0});var sr=gt.default=void 0,Za=Qa(Le()),Ja=x,eo=(0,Za.default)((0,Ja.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");sr=gt.default=eo;var xt={},to=_e;Object.defineProperty(xt,"__esModule",{value:!0});var ir=xt.default=void 0,ro=to(Le()),ao=x,oo=(0,ro.default)((0,ao.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");ir=xt.default=oo;var yt={},lo=_e;Object.defineProperty(yt,"__esModule",{value:!0});var cr=yt.default=void 0,no=lo(Le()),so=x,io=(0,no.default)((0,so.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update");cr=yt.default=io;function co({rarity:e,onRarityChange:t,filter:r,...l}){const{t:n}=ze("relic");return o(mt,{...l,title:e?o(Vt,{stars:e,inline:!0}):n`editor.rarity`,color:e?"success":"primary",children:Rr.map(u=>o(we,{disabled:!r(u),onClick:()=>t(u),children:o(Vt,{stars:u,inline:!0})},u))})}function uo({relicSetKey:e,setRelicSetKey:t,label:r="",...l}){const{t:n}=ze(["relic","relicNames_gen"]);r=r||n("relic:autocompleteLabels.set");const u=v.useMemo(()=>Lr.map(p=>({key:p,label:n(`relicNames_gen:${p}`)})),[n]),i=v.useCallback(p=>t(p??""),[t]);return o(_r,{options:u,valueKey:e,onChange:i,toImg:()=>o(Qt,{children:" "}),label:r,...l})}function po({index:e,relic:t,setSubstat:r}){const{t:l}=ze("relic"),{mainStatKey:n="",rarity:u=5}=t??{},{key:i="",value:p=0,rolls:h=[],efficiency:I=0}=(t==null?void 0:t.substats[e])??{},$=h.length;let a="",C=[],w=0;if(t){const b=t.rarity,{numUpgrades:L,high:H}=Or[b];w=L+H-3-$,C=i?Pr(i,b):[]}const R=7-C.length;w<0&&(a=a||l("editor.substat.error.noOverRoll",{value:w+$}));const k=v.useMemo(()=>i?[{value:0},...Mr(u,i).map(b=>({value:b}))]:[{value:0}],[i,u]);return _(fe,{bgt:"light",children:[o(ie,{sx:{display:"flex"},children:_(Zt,{size:"small",sx:{width:"100%",display:"flex"},children:[_(mt,{title:i?o("p",{children:i}):l("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:i?"success":"primary",sx:{whiteSpace:"nowrap"},children:[i&&o(we,{onClick:()=>r(e,{key:"",value:0}),children:l`editor.substat.noSubstat`}),Ar.filter(b=>n!==b).map(b=>_(we,{selected:i===b,disabled:i===b,onClick:()=>r(e,{key:b,value:0}),children:[o(Ir,{}),o(wr,{children:b})]},b))]}),o(zr,{sx:{flexBasis:30,flexGrow:1},children:o(Tr,{float:st(i)==="%",placeholder:l`editor.substat.selectSub`,value:i?It(wt(p,i),i):void 0,onChange:b=>{let L=b??0;st(i)==="%"&&(L=L/100),r(e,{key:i,value:L})},disabled:!i,error:!!a,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!C.length&&o(jr,{children:l`editor.substat.nextRolls`})]})}),o(ie,{px:2,children:o(fo,{value:It(wt(p,i),i),marks:k,setValue:b=>{let L=b??0;st(i)==="%"&&(L=L/100),r(e,{key:i,value:L})},disabled:!i})}),o(ie,{sx:{px:1,pb:1},children:a?o(Nr,{color:"error",children:l`ui:error`}):_(Y,{container:!0,children:[o(Y,{item:!0,flexGrow:1,children:!!h.length&&[...h].sort().map((b,L)=>o(ge,{component:"span",color:`roll${Jt(R+C.indexOf(b),1,6)}.main`,sx:{ml:1},children:b},`${L}.${b}`))}),o(Y,{item:!0,xs:"auto",flexShrink:1,children:o(ge,{children:_(Dr,{t:l,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",I]})})})]})})]})}function fo({value:e,setValue:t,marks:r,disabled:l=!1}){var i,p;const[n,u]=v.useState(e);return v.useEffect(()=>u(e),[e]),o(Oa,{value:n,step:.1,disabled:l,min:((i=r[1])==null?void 0:i.value)??0,max:((p=r[r.length-1])==null?void 0:p.value)??0,onChange:(h,I)=>u(I),onChangeCommitted:(h,I)=>t(I),valueLabelDisplay:"auto"})}function mo(e,t){const l=(()=>{switch(t.type){case"reset":return;case"substat":{const{index:n,substat:u}=t,i=[...e.substats],p=u.key?i.findIndex(h=>h.key===u.key):-1;if(p===-1||p===n)i[n]={...u};else{const h=i[n];i[n]={...i[p]},i[p]={...h}}return{...e,substats:i}}case"overwrite":return t.relic;case"update":return{...e,...t.relic}}})();return l&&Hr(l,!0)}const Ft={rarity:[5,4,3,2],setEffects:{}};function vo({relicIdToEdit:e="new",cancelEdit:t,fixedSlotKey:r,allowEmpty:l=!1,disableSet:n=!1}){const{t:u}=ze("relic"),{database:i}=er(),[p,h]=rr();v.useEffect(()=>i.relics.followAny(h),[i,h]);const[I,$]=v.useState(!1);v.useEffect(()=>{e==="new"&&($(!0),C({type:"reset"}));const s=e&&p&&i.relics.get(e);s&&($(!0),C({type:"overwrite",relic:Vr(s)}))},[e,i,p]);const[a,C]=v.useReducer(mo,void 0),{relic:w,errors:R}=v.useMemo(()=>a?Fr(a,e):{relic:void 0,errors:[]},[a,e]),{prev:k,prevEditType:b}=v.useMemo(()=>{const s=p&&e&&i.relics.get(e);if(s)return{prev:s,prevEditType:"edit"};if(a===void 0)return{prev:void 0,prevEditType:""};const{duplicated:y,upgraded:Q}=p&&i.relics.findDups(a);return{prev:y[0]??Q[0],prevEditType:y.length!==0?"duplicate":"upgrade"}},[a,e,i,p]),L=!["new",""].includes(e)&&!!(a!=null&&a.location)||!!r||!!e&&e!=="new",{rarity:H=5,level:V=0}=a??{},G=v.useMemo(()=>(a==null?void 0:a.slotKey)??r??"head",[r,a]),z=a?Ft:void 0,P=v.useCallback(s=>{const y=s.setKey?Ft:z;function Q(E,Z,Pe){return E&&Z.includes(E)?E:Pe??Z[0]}s.setKey&&(s.rarity=Q(a==null?void 0:a.rarity,y.rarity,Math.max(...y.rarity)),s.slotKey=Q(a==null?void 0:a.slotKey,["head","hand"])),s.rarity&&(s.level=(a==null?void 0:a.level)??0),s.level&&(s.level=Jt(s.level,0,3*(s.rarity??a.rarity))),s.slotKey&&(s.mainStatKey=Q(a==null?void 0:a.mainStatKey,zt[s.slotKey])),s.mainStatKey&&(s.substats=[0,1,2,3].map(E=>a&&a.substats[E].key!==s.mainStatKey?a.substats[E]:{key:"",value:0})),C({type:"update",relic:s})},[a,z,C]),K=v.useCallback(()=>{t==null||t(),C({type:"reset"})},[t,C]),ue=v.useCallback((s,y)=>C({type:"substat",index:s,substat:y}),[]),W=!R.length,T=v.useCallback(s=>{if(!e&&a&&!window.confirm(u`editor.clearPrompt`)){s==null||s.preventDefault();return}$(!1),K()},[u,e,a,$,K]),U=Xt(),X=Er(U.breakpoints.up("md")),re=e!=="new"&&e||(k==null?void 0:k.id),j=()=>window.confirm(u`editor.clearPrompt`);return o(v.Suspense,{fallback:!1,children:o(Br,{open:I,onClose:T,children:_(fe,{bgt:"dark",children:[o(Jr,{title:"Relic Editor",action:o(qt,{onClick:T,children:o(Kr,{})})}),_(tr,{sx:{display:"flex",flexDirection:"column",gap:1},children:[_(Y,{container:!0,spacing:1,columns:{xs:1,md:2},children:[_(Y,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[_(ie,{sx:{display:"flex",gap:1},children:[o(uo,{disabled:n,size:"small",relicSetKey:(a==null?void 0:a.setKey)??"",setRelicSetKey:s=>P({setKey:s}),sx:{flexGrow:1},label:a!=null&&a.setKey?"":u("editor.unknownSetName")}),o(co,{rarity:a?H:void 0,onRarityChange:s=>P({rarity:s}),filter:s=>{var y,Q;return!!((Q=(y=z==null?void 0:z.rarity)==null?void 0:y.includes)!=null&&Q.call(y,s))},disabled:!z})]}),_(ie,{component:"div",display:"flex",children:[o(Ur,{label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:V,disabled:!z,onChange:s=>{const y=parseInt(s.target.value)||0;P({level:y})}}),_(Zt,{children:[o(se,{onClick:()=>P({level:V-1}),disabled:!z||V===0,children:"-"}),H?[...Array(H+1).keys()].map(s=>3*s).map(s=>o(se,{onClick:()=>P({level:s}),disabled:!z||V===s,children:s},s)):null,o(se,{onClick:()=>P({level:V+1}),disabled:!z||V===H*3,children:"+"})]})]}),_(ie,{component:"div",display:"flex",children:[o(Wr,{label:"Slot",value:G,onChange:s=>P({slotKey:s.target.value}),disabled:L||!z,children:qr.map(s=>o(we,{value:s,children:s},s))}),o(fe,{bgt:"light",sx:{p:1,ml:1,flexGrow:1},children:o(v.Suspense,{fallback:o(dt,{width:"60%"}),children:o(ge,{color:"text.secondary",children:G})})})]}),_(ie,{component:"div",display:"flex",gap:1,children:[o(mt,{title:o("b",{children:(a==null?void 0:a.mainStatKey)??"Main Stat"}),disabled:!z,color:a?"success":"primary",children:zt[G].map(s=>o(we,{selected:(a==null?void 0:a.mainStatKey)===s,disabled:(a==null?void 0:a.mainStatKey)===s,onClick:()=>P({mainStatKey:s}),children:s},s))}),o(fe,{bgt:"light",sx:{p:1,flexGrow:1},children:o(ge,{color:"text.secondary",children:a?Gr(H,a.mainStatKey,V):u`mainStat`})}),o(se,{onClick:()=>P({lock:!(a!=null&&a.lock)}),color:a!=null&&a.lock?"success":"primary",disabled:!a,children:a!=null&&a.lock?o(sr,{}):o(ir,{})})]}),o(Yr,{locKey:(w==null?void 0:w.location)??"",setLocKey:s=>P({location:s})})]}),o(Y,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[0,1,2,3].map(s=>o(po,{index:s,relic:w,setSubstat:ue},s))})]}),k&&_(Y,{container:!0,sx:{justifyContent:"space-around"},spacing:1,children:[o(Y,{item:!0,xs:12,md:5.5,lg:4,children:_(fe,{bgt:"light",children:[o(ge,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:b!=="edit"?b==="duplicate"?u`editor.dupeRelic`:u`editor.updateRelic`:u`editor.beforeEdit`}),o(pt,{relic:k})]})}),X&&o(Y,{item:!0,md:1,display:"flex",alignItems:"center",justifyContent:"center",children:o(fe,{bgt:"light",sx:{display:"flex"},children:o(nr,{sx:{fontSize:40}})})}),o(Y,{item:!0,xs:12,md:5.5,lg:4,children:_(fe,{bgt:"light",children:[o(ge,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:u`editor.preview`}),w&&o(pt,{relic:w})]})})]}),!W&&o(ma,{variant:"filled",severity:"error",children:R.map((s,y)=>o("div",{children:s},y))}),_(ie,{display:"flex",gap:2,children:[b==="edit"?o(se,{startIcon:o(ft,{}),onClick:()=>{a&&i.relics.set(k.id,a),l||($(!1),t()),K()},disabled:!a||!W,color:"primary",children:u`editor.btnSave`}):o(se,{startIcon:o(ft,{}),onClick:()=>{i.relics.new(a),l||($(!1),t()),K()},disabled:!a||!W,color:b==="duplicate"?"warning":"primary",children:u`editor.btnAdd`}),l&&o(se,{startIcon:o(lr,{}),disabled:!a,onClick:()=>{j()&&K()},color:"error",children:u`editor.btnClear`}),k&&b!=="edit"&&o(se,{startIcon:o(cr,{}),onClick:()=>{a&&i.relics.set(k.id,a),K(),l||$(!1)},disabled:!a||!W,color:"success",children:u`editor.btnUpdate`}),!!re&&o(se,{startIcon:o(Xr,{}),onClick:()=>{window.confirm(u`editor.confirmDelete`)&&(i.relics.remove(re),K(),l||$(!1))},disabled:!a||!W,color:"error",children:u`editor.delete`})]})]})]})})})}const Et={xs:1,sm:2,md:3,lg:3,xl:4},ho={xs:10,sm:12,md:24,lg:24,xl:24};function bo({onAdd:e,onEdit:t}){const{t:r}=ze("relic"),{database:l}=er(),[n,u]=rr();v.useEffect(()=>l.relics.followAny(u),[l,u]);const{relicIds:i,totalRelicsNum:p}=v.useMemo(()=>{const R=l.relics.values,k=R.length,b=R.map(L=>L.id);return n&&{relicIds:b,totalRelicsNum:k}},[l,n]),h=Qr(),I=i.length!==p?`${i.length}/${p}`:p,{numShow:$,setTriggerElement:a}=Zr(ho[h],i.length),C=v.useMemo(()=>i.slice(0,$),[i,$]),w={numShowing:C.length,totalShowing:I};return _(Qt,{children:[o(fe,{bgt:"dark",children:o(tr,{children:o(ie,{pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:_(ge,{color:"text.secondary",children:["Showing ",o("b",{children:w.numShowing})," out of"," ",w.totalShowing," Items"]})})})}),o(Y,{container:!0,columns:Et,spacing:1,children:o(Y,{item:!0,xs:!0,children:o(se,{fullWidth:!0,onClick:e,color:"info",startIcon:o(ft,{}),children:r`addNew`})})}),_(v.Suspense,{fallback:o(dt,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:[o(Y,{container:!0,columns:Et,spacing:1,children:C.map(R=>o(Y,{item:!0,xs:1,children:o(pt,{relic:l.relics.get(R),onEdit:()=>t==null?void 0:t(R),onDelete:()=>l.relics.remove(R),setLocation:k=>l.relics.set(R,{location:k})})},R))}),i.length!==C.length&&o(dt,{ref:R=>{R&&a(R)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})}function So(){const[e,t]=v.useState("");return _(ie,{display:"flex",flexDirection:"column",gap:1,my:1,children:[o(vo,{relicIdToEdit:e,cancelEdit:()=>t(""),allowEmpty:!0}),o(bo,{onAdd:()=>t("new"),onEdit:t})]})}export{So as default};
