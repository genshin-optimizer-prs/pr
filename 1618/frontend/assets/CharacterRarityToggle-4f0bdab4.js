import{b as k,au as Et,at as Pt,av as $e,aV as Z,aw as re,e as l,ax as Ft,ay as Kt,c9 as St,az as et,j as Q,aA as qt,p as e,ca as Ba,cb as za,cc as Wa,by as Na,F as Ea,r as Ue,i as Me,n as p,W as ge,B as P,cd as Pa,aQ as Fa,c5 as Ka,c as We,aq as Ie,J as L,K as f,bG as Ht,aa as ut,d as be,T as _,q as le,ce as qa,aC as Vt,Q as ne,bh as tt,l as dt,bg as Ha,c7 as kt,cf as Va,t as se,bf as Ga,be as Ya,a1 as ht,cg as Xa,aO as Ja,ch as $t,ci as Qa,cj as Ve,ck as Ge,cl as Ye,bt as Za,a4 as ce,D as ve,an as Re,u as H,bj as Ut,bi as Mt,bo as Tt,o as fe,k as ae,bd as Ce,C as J,s as Gt,aB as xe,X as Te,bp as en,cm as Yt,b1 as tn,c3 as an,U as Xt,bH as nn,bJ as rn,aZ as on,bK as sn,bU as ln,bT as cn,bL as un,Z as Ne,cn as dn,co as hn,cp as Jt,cq as pn,cr as mn,cs as fn,ct as gn,b4 as Cn,cu as xn,V as ye,aJ as Qt,v as Ee,_ as Zt,ag as ea,af as bn,bC as yn,cv as vn,ba as wn,aF as _n,bc as Rn,cw as at,as as nt,cx as Ln,m as rt,f as pt,cy as Sn,cz as Xe,h as kn,bV as $n,aH as ta}from"./index-ef18ed93.js";import{b as N,u as aa,k as na,F as ra,l as Un,m as Mn,j as Tn,n as jn,o as oa,h as Dn,T as In,d as An,i as sa,C as On,p as Bn}from"./TeamCard-57125035.js";import{D as G,a as zn,L as Wn,b as Nn,A as En}from"./FieldDisplay-70779593.js";import{u as W,E as mt,g as ue,S as ft,d as Pn,B as ia,p as oe,x as la,y as Fn,v as Kn,w as ca,n as qn,z as Hn,r as ot,o as jt,m as Vn,A as Gn,C as Yn,i as Ae,q as Xn,D as Jn,F as Qn,G as Zn,H as er,a as Dt,b as It,I as tr}from"./index-bcf97bd3.js";import{C as Pe}from"./CloseButton-4ccaf4f4.js";import{I as Le,i as Se,C as Fe,B as ar}from"./ColoredText-f352f936.js";import{C as nr,T as ie,W as ua,L as rr}from"./WeaponEditor-4e96a578.js";import{S as q}from"./SqBadge-18051f1e.js";import{u as or,b as gt,F as da,a as sr,C as ha,f as Ct,s as pa,d as ma,T as fa,S as ir}from"./StarDisplay-ad7b4960.js";import{b as ga,T as _e,S as Ke,u as Ca,P as Oe,A as xa,h as xt,c as lr}from"./LocationAutocomplete-0ec851e9.js";import{C as qe}from"./CardActionArea-7540381a.js";import{u as st,f as cr,A as Be,d as ur,i as dr,b as hr}from"./ArtifactSort-1a316ed9.js";import{b as ze,c as pr,d as mr,w as fr,W as gr}from"./WeaponCard-632a5248.js";import{a as ba,d as ya}from"./CheckBoxOutlineBlank-16f77a49.js";import{A as Cr}from"./Artifact-b82f9fbe.js";import{B as je}from"./Help-82ff9b19.js";import{g as va,a as xr,b as br}from"./index-dda0f797.js";import{g as bt,W as wa}from"./index-4555d3dc.js";import{u as yr}from"./useWeapon-bbf5ae89.js";import{S as vr}from"./SlotIcon-de87deb5.js";import{C as _a}from"./ChevronRight-b51bdc22.js";import{C as wr,a as _r,M as Ra,D as Rr}from"./DropdownButton-8c5a3dbd.js";import Lr from"./WeaponSelectionModal-4ab9f31e.js";import{c as At}from"./totalUtils-441f73b2.js";function De(t){const a=k();return or(a.optConfigs,t)}function Sr(t){const{badgeContent:a,invisible:n=!1,max:r=99,showZero:s=!1}=t,o=ga({badgeContent:a,max:r});let i=n;n===!1&&a===0&&!s&&(i=!0);const{badgeContent:c,max:d=r}=i?o:t,u=c&&Number(c)>d?`${d}+`:c;return{badgeContent:c,invisible:i,max:d,displayValue:u}}function kr(t){return Pt("MuiBadge",t)}const $r=Et("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),pe=$r,Ur=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Je=10,Qe=4,Mr=t=>{const{color:a,anchorOrigin:n,invisible:r,overlap:s,variant:o,classes:i={}}=t,c={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}`,`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}${Z(s)}`,`overlap${Z(s)}`,a!=="default"&&`color${Z(a)}`]};return qt(c,kr,i)},Tr=$e("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,a)=>a.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),jr=$e("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.badge,a[n.variant],a[`anchorOrigin${Z(n.anchorOrigin.vertical)}${Z(n.anchorOrigin.horizontal)}${Z(n.overlap)}`],n.color!=="default"&&a[`color${Z(n.color)}`],n.invisible&&a.invisible]}})(({theme:t,ownerState:a})=>re({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Je*2,lineHeight:1,padding:"0 6px",height:Je*2,borderRadius:Je,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},a.color!=="default"&&{backgroundColor:(t.vars||t).palette[a.color].main,color:(t.vars||t).palette[a.color].contrastText},a.variant==="dot"&&{borderRadius:Qe,height:Qe*2,minWidth:Qe*2,padding:0},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},a.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),Dr=l.forwardRef(function(a,n){var r,s,o,i,c,d;const u=Ft({props:a,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:m,component:g,components:x={},componentsProps:v={},children:b,overlap:y="rectangular",color:O="default",invisible:U=!1,max:M=99,badgeContent:j,slots:E,slotProps:A,showZero:F=!1,variant:D="standard"}=u,C=Kt(u,Ur),{badgeContent:$,invisible:I,max:K,displayValue:z}=Sr({max:M,invisible:U,badgeContent:j,showZero:F}),S=ga({anchorOrigin:h,color:O,overlap:y,variant:D,badgeContent:j}),B=I||$==null&&D!=="dot",{color:V=O,overlap:R=y,anchorOrigin:w=h,variant:T=D}=B?S:u,Y=T!=="dot"?z:void 0,ee=re({},u,{badgeContent:$,invisible:B,max:K,displayValue:Y,showZero:F,anchorOrigin:w,color:V,overlap:R,variant:T}),te=Mr(ee),de=(r=(s=E==null?void 0:E.root)!=null?s:x.Root)!=null?r:Tr,X=(o=(i=E==null?void 0:E.badge)!=null?i:x.Badge)!=null?o:jr,he=(c=A==null?void 0:A.root)!=null?c:v.root,He=(d=A==null?void 0:A.badge)!=null?d:v.badge,Aa=St({elementType:de,externalSlotProps:he,externalForwardedProps:C,additionalProps:{ref:n,as:g},ownerState:ee,className:et(he==null?void 0:he.className,te.root,m)}),Oa=St({elementType:X,externalSlotProps:He,ownerState:ee,className:et(te.badge,He==null?void 0:He.className)});return Q.jsxs(de,re({},Aa,{children:[b,Q.jsx(X,re({},Oa,{children:Y}))]}))}),Ir=Dr;function Ar({slotKey:t,iconProps:a={}}){switch(t){case"flower":return e(Ea,{...a});case"plume":return e(Na,{...a});case"sands":return e(Wa,{...a});case"goblet":return e(za,{...a});case"circlet":return e(Ba,{...a})}}var yt={},Or=Me;Object.defineProperty(yt,"__esModule",{value:!0});var it=yt.default=void 0,Br=Or(Ue()),zr=Q,Wr=(0,Br.default)((0,zr.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");it=yt.default=Wr;function Nr({title:t,children:a,id:n="dropdownbtn",...r}){const[s,o]=l.useState(null),i=!!s,c=l.useCallback(u=>o(u.currentTarget),[o]),d=l.useCallback(()=>o(null),[o]);return p(l.Suspense,{fallback:e(P,{endIcon:e(it,{}),...r,children:e(ge,{width:50})}),children:[e(P,{...r,id:n,"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:c,endIcon:e(it,{}),children:t}),e(Ka,{id:"basic-menu",anchorEl:s,open:i,placement:"bottom-start",transition:!0,onClick:d,sx:{zIndex:1500},children:({TransitionProps:u,placement:h})=>e(Pa,{...u,style:{transformOrigin:h==="bottom-start"?"left top":"left bottom"},children:e(Fa,{sx:{maxHeight:"50vh",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12))",boxShadow:"rgb(0 0 0 / 20%) 0px 5px 5px -3px, rgb(0 0 0 / 14%) 0px 8px 10px 1px, rgb(0 0 0 / 12%) 0px 3px 14px 2px",paddingTop:"1px",paddingBottom:"1px",overflow:"auto"},children:e(wr,{onClickAway:d,children:p("div",{children:[" ",e(l.Suspense,{fallback:e(ge,{width:"100%",height:"1000"}),children:e(_r,{"aria-labelledby":n,children:a})})]})})})})})]})}const Er=We(Q.jsx("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM6 18l6-4.5 6 4.5H6z"}),"Checkroom"),Zc=We(Q.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),Pr=We(Q.jsx("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4zm-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5z"}),"Female"),Fr=We(Q.jsx("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9z"}),"Male"),Kr=""+new URL("splash_aether-7358d244.png",import.meta.url).href,qr=""+new URL("splash_albedo-37c05d76.png",import.meta.url).href,Hr=""+new URL("splash_alhaitham-1e0549dd.png",import.meta.url).href,Vr=""+new URL("splash_amber-51176566.png",import.meta.url).href,Gr=""+new URL("splash_ayaka-6fa3baa9.png",import.meta.url).href,Yr=""+new URL("splash_ayato-80dc87d2.png",import.meta.url).href,Xr=""+new URL("splash_baizhu-e00c9e38.png",import.meta.url).href,Jr=""+new URL("splash_barbara-c0390dce.png",import.meta.url).href,Qr=""+new URL("splash_beidou-bc8a24cb.png",import.meta.url).href,Zr=""+new URL("splash_bennett-50399e82.png",import.meta.url).href,eo=""+new URL("splash_candace-d08ffe76.png",import.meta.url).href,to=""+new URL("splash_charlotte-f4dc3ffe.png",import.meta.url).href,ao=""+new URL("splash_chevreuse-b62095f4.png",import.meta.url).href,no=""+new URL("splash_chongyun-6d2df2ec.png",import.meta.url).href,ro=""+new URL("splash_collei-504a299e.png",import.meta.url).href,oo=""+new URL("splash_cyno-ad2ccd61.png",import.meta.url).href,so=""+new URL("splash_dehya-516792b5.png",import.meta.url).href,io=""+new URL("splash_diluc-aca80da5.png",import.meta.url).href,lo=""+new URL("splash_diona-60ac79e8.png",import.meta.url).href,co=""+new URL("splash_dori-9e4fe1f4.png",import.meta.url).href,uo=""+new URL("splash_eula-1491affb.png",import.meta.url).href,ho=""+new URL("splash_faruzan-53cea880.png",import.meta.url).href,po=""+new URL("splash_fischl-81de0725.png",import.meta.url).href,mo=""+new URL("splash_freminet-87ef7da9.png",import.meta.url).href,fo=""+new URL("splash_furina-132cdf4e.png",import.meta.url).href,go=""+new URL("splash_gaming-f942e04b.png",import.meta.url).href,Co=""+new URL("splash_ganyu-3428e56a.png",import.meta.url).href,xo=""+new URL("splash_gorou-2540c1f5.png",import.meta.url).href,bo=""+new URL("splash_heizou-778f17a2.png",import.meta.url).href,yo=""+new URL("splash_hutao-d7962623.png",import.meta.url).href,vo=""+new URL("splash_itto-89b11acb.png",import.meta.url).href,wo=""+new URL("splash_jean-8b1a28fe.png",import.meta.url).href,_o=""+new URL("splash_kaeya-e26022f0.png",import.meta.url).href,Ro=""+new URL("splash_kaveh-a63cd11f.png",import.meta.url).href,Lo=""+new URL("splash_kazuha-94865d22.png",import.meta.url).href,So=""+new URL("splash_keqing-0cd58460.png",import.meta.url).href,ko=""+new URL("splash_kirara-0b285e89.png",import.meta.url).href,$o=""+new URL("splash_klee-81a7fd6f.png",import.meta.url).href,Uo=""+new URL("splash_kokomi-7dc7c799.png",import.meta.url).href,Mo=""+new URL("splash_kuki-2e7b6638.png",import.meta.url).href,To=""+new URL("splash_layla-45b01b3a.png",import.meta.url).href,jo=""+new URL("splash_lisa-f07e93de.png",import.meta.url).href,Do=""+new URL("splash_lumine-51240648.png",import.meta.url).href,Io=""+new URL("splash_lynette-e6d6d59c.png",import.meta.url).href,Ao=""+new URL("splash_lyney-e23fc621.png",import.meta.url).href,Oo=""+new URL("splash_mika-d7bec99e.png",import.meta.url).href,Bo=""+new URL("splash_mona-a101d11b.png",import.meta.url).href,zo=""+new URL("splash_nahida-5336f545.png",import.meta.url).href,Wo=""+new URL("splash_navia-749d043e.png",import.meta.url).href,No=""+new URL("splash_neuvillette-f6712d84.png",import.meta.url).href,Eo=""+new URL("splash_nilou-02522a20.png",import.meta.url).href,Po=""+new URL("splash_ningguang-0423cf3a.png",import.meta.url).href,Fo=""+new URL("splash_noelle-3c164134.png",import.meta.url).href,Ko=""+new URL("splash_qiqi-9882f0de.png",import.meta.url).href,qo=""+new URL("splash_raiden-ce0042a0.png",import.meta.url).href,Ho=""+new URL("splash_razor-dfd28235.png",import.meta.url).href,Vo=""+new URL("splash_rosaria-beb57b8a.png",import.meta.url).href,Go=""+new URL("splash_sara-1f76a85f.png",import.meta.url).href,Yo=""+new URL("splash_sayu-afc9c432.png",import.meta.url).href,Xo=""+new URL("splash_shenhe-ba31eb5d.png",import.meta.url).href,Jo=""+new URL("splash_sucrose-ad665b53.png",import.meta.url).href,Qo=""+new URL("splash_tartaglia-9aaa2f1a.png",import.meta.url).href,Zo=""+new URL("splash_thoma-004bf569.png",import.meta.url).href,es=""+new URL("splash_tighnari-3ce7dd13.png",import.meta.url).href,ts=""+new URL("splash_venti-ea8e2087.png",import.meta.url).href,as=""+new URL("splash_wanderer-645fe3d8.png",import.meta.url).href,ns=""+new URL("splash_wriothesley-94b73230.png",import.meta.url).href,rs=""+new URL("splash_xiangling-058aca33.png",import.meta.url).href,os=""+new URL("splash_xianyun-946028bc.png",import.meta.url).href,ss=""+new URL("splash_xiao-69656d36.png",import.meta.url).href,is=""+new URL("splash_xingqiu-fe033a4f.png",import.meta.url).href,ls=""+new URL("splash_xinyan-bb9c21b3.png",import.meta.url).href,cs=""+new URL("splash_yae-5a7bf919.png",import.meta.url).href,us=""+new URL("splash_yanfei-ecb8fb25.png",import.meta.url).href,ds=""+new URL("splash_yaoyao-8b72be49.png",import.meta.url).href,hs=""+new URL("splash_yelan-26eec3f5.png",import.meta.url).href,ps=""+new URL("splash_yoimiya-2d38f125.png",import.meta.url).href,ms=""+new URL("splash_yunjin-538f24e0.png",import.meta.url).href,fs=""+new URL("splash_zhongli-c0ebbd75.png",import.meta.url).href,gs={Albedo:qr,Alhaitham:Hr,Amber:Vr,AratakiItto:vo,Baizhu:Xr,Barbara:Jr,Beidou:Qr,Bennett:Zr,Candace:eo,Charlotte:to,Chevreuse:ao,Chongyun:no,Collei:ro,Cyno:oo,Dehya:so,Diluc:io,Diona:lo,Dori:co,Eula:uo,Faruzan:ho,Fischl:po,Freminet:mo,Furina:fo,Gaming:go,Ganyu:Co,Gorou:xo,HuTao:yo,Jean:wo,KaedeharaKazuha:Lo,Kaeya:_o,KamisatoAyaka:Gr,KamisatoAyato:Yr,Kaveh:Ro,Keqing:So,Kirara:ko,Klee:$o,KujouSara:Go,KukiShinobu:Mo,Layla:To,Lisa:jo,Lynette:Io,Lyney:Ao,Mika:Oo,Mona:Bo,Nahida:zo,Navia:Wo,Neuvillette:No,Nilou:Eo,Ningguang:Po,Noelle:Fo,Qiqi:Ko,RaidenShogun:qo,Razor:Ho,Rosaria:Vo,SangonomiyaKokomi:Uo,Sayu:Yo,Shenhe:Xo,ShikanoinHeizou:bo,Sucrose:Jo,Tartaglia:Qo,Thoma:Zo,Tighnari:es,TravelerF:Do,TravelerM:Kr,Venti:ts,Wanderer:as,Wriothesley:ns,Xiangling:rs,Xianyun:os,Xiao:ss,Xingqiu:is,Xinyan:ls,YaeMiko:cs,Yanfei:us,Yaoyao:ds,Yelan:hs,Yoimiya:ps,YunJin:ms,Zhongli:fs};function Cs(t,a){return gs[Ie(t,a)]??""}const xs=l.createContext({}),bs=""+new URL("Character_Albedo_Card-5ef0c064.png",import.meta.url).href,ys=""+new URL("Character_Alhaitham_Card-5b5622a6.jpg",import.meta.url).href,vs=""+new URL("Character_Aloy_Card-63f8894a.png",import.meta.url).href,ws=""+new URL("Character_Amber_Card-75caf8bc.jpg",import.meta.url).href,_s=""+new URL("Character_Arataki_Itto_Card-9d5b2141.jpg",import.meta.url).href,Rs=""+new URL("Character_Baizhu_Card-91cf0ace.jpg",import.meta.url).href,Ls=""+new URL("Character_Barbara_Card-58cbe572.jpg",import.meta.url).href,Ss=""+new URL("Character_Beidou_Card-ea7de4d2.jpg",import.meta.url).href,ks=""+new URL("Character_Bennett_Card-af6cc7e8.jpg",import.meta.url).href,$s=""+new URL("Character_Candace_Card-e2c9913c.jpg",import.meta.url).href,Us=""+new URL("Character_Charlotte_Card-b4153f53.jpg",import.meta.url).href,Ms=""+new URL("Character_Chevreuse_Card-4b92e6a5.jpg",import.meta.url).href,Ts=""+new URL("Character_Chongyun_Card-1128f6bd.jpg",import.meta.url).href,js=""+new URL("Character_Collei_Card-e3c02ab9.jpg",import.meta.url).href,Ds=""+new URL("Character_Cyno_Card-b178c8f3.jpg",import.meta.url).href,Is=""+new URL("Character_Dehya_Card-546c51ec.jpg",import.meta.url).href,As=""+new URL("Character_Diluc_Card-2027991e.jpg",import.meta.url).href,Os=""+new URL("Character_Diona_Card-3cd0b9ac.png",import.meta.url).href,Bs=""+new URL("Character_Dori_Card-025a2f89.jpg",import.meta.url).href,zs=""+new URL("Character_Eula_Card-2ab7b302.png",import.meta.url).href,Ws=""+new URL("Character_Faruzan_Card-262e6371.jpg",import.meta.url).href,Ns=""+new URL("Character_Fischl_Card-1dc842a2.jpg",import.meta.url).href,Es=""+new URL("Character_Freminet_Card-a2254a5a.jpg",import.meta.url).href,Ps=""+new URL("Character_Furina_Card-de05953e.jpg",import.meta.url).href,Fs=""+new URL("Character_Gaming_Card-fb7f6290.jpg",import.meta.url).href,Ks=""+new URL("Character_Ganyu_Card-da6b1426.png",import.meta.url).href,qs=""+new URL("Character_Gorou_Card-75b11c2b.png",import.meta.url).href,Hs=""+new URL("Character_Hu_Tao_Card-96e1f9c8.png",import.meta.url).href,Vs=""+new URL("Character_Jean_Card-2fc96483.jpg",import.meta.url).href,Gs=""+new URL("Character_Kaeya_Card-90ad939e.jpg",import.meta.url).href,Ys=""+new URL("Character_Kamisato_Ayaka_Card-ae1bb2fb.png",import.meta.url).href,Xs=""+new URL("Character_Kamisato_Ayato_Card-f6b1ad8d.png",import.meta.url).href,Js=""+new URL("Character_Kaveh_Card-d3229e58.jpg",import.meta.url).href,Qs=""+new URL("Character_Kazuha_Card-71c36913.png",import.meta.url).href,Zs=""+new URL("Character_Keqing_Card-28b6df43.jpg",import.meta.url).href,ei=""+new URL("Character_Kirara_Card-ae8092de.jpg",import.meta.url).href,ti=""+new URL("Character_Klee_Card-43602d1c.jpg",import.meta.url).href,ai=""+new URL("Character_Kujou_Sara_Card-6eb66d8d.jpg",import.meta.url).href,ni=""+new URL("Character_Kuki_Shinobu_Card-c0cca5df.jpg",import.meta.url).href,ri=""+new URL("Character_Layla_Card-89ddf634.jpeg",import.meta.url).href,oi=""+new URL("Character_Lisa_Card-cd94c665.jpg",import.meta.url).href,si=""+new URL("Character_Lynette_Card-7469da2e.jpg",import.meta.url).href,ii=""+new URL("Character_Lyney_Card-deef8197.jpg",import.meta.url).href,li=""+new URL("Character_Mika_Card-20bd2280.jpg",import.meta.url).href,ci=""+new URL("Character_Mona_Card-4b42f44c.jpg",import.meta.url).href,ui=""+new URL("Character_Nahida_Card-309d4d29.jpeg",import.meta.url).href,di=""+new URL("Character_Navia_Card-8745abc6.jpg",import.meta.url).href,hi=""+new URL("Character_Neuvillette_Card-32f9dd3c.jpg",import.meta.url).href,pi=""+new URL("Character_Nilou_Card-de0e3f0d.jpg",import.meta.url).href,mi=""+new URL("Character_Ningguang_Card-4f9a1915.jpg",import.meta.url).href,fi=""+new URL("Character_Noelle_Card-9995f992.jpg",import.meta.url).href,gi=""+new URL("Character_Qiqi_Card-4d5d3687.jpg",import.meta.url).href,Ci=""+new URL("Character_Raiden_Shogun_Card-90085c4a.png",import.meta.url).href,xi=""+new URL("Character_Razor_Card-0e7f3a1e.jpg",import.meta.url).href,bi=""+new URL("Character_Rosaria_Card-22e1e066.png",import.meta.url).href,yi=""+new URL("Character_Sangonomiya_Kokomi_Card-d5698fe4.jpg",import.meta.url).href,vi=""+new URL("Character_Sayu_Card-e1a67cbd.png",import.meta.url).href,wi=""+new URL("Character_Shenhe_Card-4340449f.jpg",import.meta.url).href,_i=""+new URL("Character_Shikanoin_Heizou_Card-043ef79e.png",import.meta.url).href,Ri=""+new URL("Character_Somnia_Card-e56f30f7.png",import.meta.url).href,Li=""+new URL("Character_Sucrose_Card-e0782acd.jpg",import.meta.url).href,Si=""+new URL("Character_Tartaglia_Card-b8d93f98.png",import.meta.url).href,ki=""+new URL("Character_Thoma_Card-b561acbb.jpg",import.meta.url).href,$i=""+new URL("Character_Tighnari_Card-8ebb6d51.jpg",import.meta.url).href,Ui=""+new URL("Character_Venti_Card-416dade9.jpg",import.meta.url).href,Mi=""+new URL("Character_Wanderer_Card-ef1ff178.jpg",import.meta.url).href,Ti=""+new URL("Character_Wriothesley_Card-27b94628.jpg",import.meta.url).href,ji=""+new URL("Character_Xiangling_Card-9ebf0a46.jpg",import.meta.url).href,Di=""+new URL("Character_Xianyun_Card-6d9b79fa.jpg",import.meta.url).href,Ii=""+new URL("Character_Xiao_Card-41530690.jpg",import.meta.url).href,Ai=""+new URL("Character_Xingqiu_Card-d4eb12ea.jpg",import.meta.url).href,Oi=""+new URL("Character_Xinyan_Card-08b1f13c.jpg",import.meta.url).href,Bi=""+new URL("Character_Yae_Miko_Card-dde243b2.png",import.meta.url).href,zi=""+new URL("Character_Yanfei_Card-7a0cde36.png",import.meta.url).href,Wi=""+new URL("Character_Yaoyao_Card-d91c99fc.jpg",import.meta.url).href,Ni=""+new URL("Character_Yelan_Card-16780ff3.jpg",import.meta.url).href,Ei=""+new URL("Character_Yoimiya_Card-a2f5a17e.png",import.meta.url).href,Pi=""+new URL("Character_Yun_Jin_Card-93bda737.jpg",import.meta.url).href,Fi=""+new URL("Character_Zhongli_Card-55c0bab7.png",import.meta.url).href,Ki=""+new URL("Traveler_Female_Card-f2156008.jpg",import.meta.url).href,qi=""+new URL("Traveler_Male_Card-0d6523d2.jpg",import.meta.url).href,Ot={Albedo:bs,Alhaitham:ys,Aloy:vs,Amber:ws,AratakiItto:_s,Baizhu:Rs,Barbara:Ls,Beidou:Ss,Bennett:ks,Candace:$s,Charlotte:Us,Chevreuse:Ms,Chongyun:Ts,Collei:js,Cyno:Ds,Dehya:Is,Diluc:As,Diona:Os,Dori:Bs,Eula:zs,Faruzan:Ws,Fischl:Ns,Freminet:Es,Furina:Ps,Gaming:Fs,Ganyu:Ks,Gorou:qs,HuTao:Hs,Jean:Vs,KaedeharaKazuha:Qs,Kaeya:Gs,KamisatoAyaka:Ys,KamisatoAyato:Xs,Kaveh:Js,Keqing:Zs,Kirara:ei,Klee:ti,KujouSara:ai,KukiShinobu:ni,Layla:ri,Lisa:oi,Lyney:ii,Lynette:si,Mika:li,Mona:ci,Nahida:ui,Navia:di,Neuvillette:hi,Nilou:pi,Ningguang:mi,Noelle:fi,Qiqi:gi,RaidenShogun:Ci,Razor:xi,Rosaria:bi,SangonomiyaKokomi:yi,Sayu:vi,Shenhe:wi,ShikanoinHeizou:_i,Somnia:Ri,Sucrose:Li,Tartaglia:Si,Thoma:ki,Tighnari:$i,TravelerF:Ki,TravelerM:qi,Venti:Ui,Wanderer:Mi,Wriothesley:Ti,Xiangling:ji,Xianyun:Di,Xiao:Ii,Xingqiu:Ai,Xinyan:Oi,YaeMiko:Bi,Yanfei:zi,Yaoyao:Wi,Yelan:Ni,Yoimiya:Ei,YunJin:Pi,Zhongli:Fi};function Hi(t,a){switch(t){case"TravelerAnemo":case"TravelerDendro":case"TravelerElectro":case"TravelerGeo":case"TravelerHydro":return Ot[`Traveler${a}`]??"";default:return Ot[t]??""}}function eu(){const{characterSheet:t}=l.useContext(N),{data:a}=l.useContext(G),n={auto:a.get(W.total.auto).value,skill:a.get(W.total.skill).value,burst:a.get(W.total.burst).value},r={auto:a.get(W.total.autoBoost).value,skill:a.get(W.total.skillBoost).value,burst:a.get(W.total.burstBoost).value};return e(f,{children:e(L,{container:!0,spacing:1,mt:-1,children:["auto","skill","burst"].map(s=>{var o;return e(L,{item:!0,xs:4,children:e(Ir,{badgeContent:n[s],color:r[s]?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:e(f,{component:"img",src:(o=t.getTalentOfKey(s))==null?void 0:o.img,width:"100%",height:"auto"})})},s)})})})}function Vi(){const{characterSheet:t,character:{key:a}}=l.useContext(N),{data:n}=l.useContext(G),r=aa(a),s=n.get(W.constellation).value;return e(L,{container:!0,spacing:1,children:Ht(1,6).map(o=>{var i;return e(L,{item:!0,xs:4,children:e(qe,{onClick:()=>r({constellation:o===s?o-1:o}),children:e(f,{component:"img",src:(i=t.getTalentOfKey(`constellation${o}`))==null?void 0:i.img,sx:{...s>=o?{}:{filter:"brightness(50%)"}},width:"100%",height:"auto"})})},o)})})}function Gi(){const{silly:t}=l.useContext(ut),{character:{key:a}}=l.useContext(N),{gender:n}=be(),{data:r}=l.useContext(G),s=r.get(W.lvl).value,o=r.get(W.asc).value,i=Cs(a,n),c=Hi(a,n);return t&&i?e(Yi,{src:i,level:s,ascension:o}):e(Xi,{src:c,level:s,ascension:o})}function Yi({src:t,level:a,ascension:n}){const{characterSheet:r}=l.useContext(N);return p(f,{sx:{position:"relative"},children:[e(f,{src:t,component:"img",width:"100%",height:"auto"}),p(f,{sx:{width:"100%",height:"100%"},children:[e(f,{sx:{opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(La,{})}),e(_,{variant:"h6",sx:{width:"100%",opacity:.75,textAlign:"center"},children:e(gt,{stars:r.rarity,colored:!0})}),e(ka,{}),e(Sa,{level:a,ascension:n})]})]})}function Xi({src:t,level:a,ascension:n}){const{characterSheet:r}=l.useContext(N);return p(f,{sx:{position:"relative"},children:[p(f,{sx:{position:"absolute",width:"100%",height:"100%"},children:[e(_,{variant:"h6",sx:{position:"absolute",width:"100%",left:"50%",bottom:0,transform:"translate(-50%, -50%)",opacity:.75,textAlign:"center"},children:e(gt,{stars:r.rarity,colored:!0})}),e(f,{sx:{position:"absolute",left:"50%",bottom:"7%",transform:"translate(-50%, -50%)",opacity:.85,width:"100%",display:"flex",justifyContent:"center",px:1},children:e(La,{})}),e(ka,{}),e(Sa,{level:a,ascension:n})]}),e(f,{src:t,component:"img",width:"100%",height:"auto"})]})}function La(){var n;const{characterSheet:t}=l.useContext(N),a=t.elementKey;return e(le,{color:a,sx:{height:"auto"},label:p(_,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[e(mt,{ele:a}),e(f,{sx:{whiteSpace:"normal",textAlign:"center"},children:t.name}),e(Le,{src:(n=Se.weaponTypes)==null?void 0:n[t.weaponTypeKey]})]})})}function Sa({level:t,ascension:a}){return e(_,{sx:{p:1,position:"absolute",right:0,top:0,opacity:.8},children:e(q,{children:qa(t,a)})})}function ka(){const{character:{key:t}}=l.useContext(N),a=k(),{favorite:n}=na(t);return e(f,{sx:{position:"absolute",left:0,top:0},children:e(Vt,{sx:{p:1},color:"error",onClick:()=>a.charMeta.set(t,{favorite:!n}),children:n?e(da,{}):e(ra,{})})})}var vt={},Ji=Me;Object.defineProperty(vt,"__esModule",{value:!0});var ke=vt.default=void 0,Qi=Ji(Ue()),Zi=Q,el=(0,Qi.default)((0,Zi.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");ke=vt.default=el;var wt={},tl=Me;Object.defineProperty(wt,"__esModule",{value:!0});var $a=wt.default=void 0,al=tl(Ue()),nl=Q,rl=(0,al.default)((0,nl.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");$a=wt.default=rl;function Ua({characterKey:t}){const{gender:a}=be();if(!t)return null;const n=ue(t,a);return n?e(je,{placement:"right-end",title:e(_,{children:n.name}),children:e(sr,{characterKey:t,sideMargin:!0})}):null}function ol({statKey:t,disableIcon:a=!1}){return p(f,{component:"span",display:"flex",alignItems:"center",gap:1,children:[!a&&e(ft,{statKey:t,iconProps:ne}),p("span",{children:[tt.get(t),tt.unit(t)]})]})}function Ma({statKey:t,disableIcon:a=!1}){return e(Fe,{color:tt.getVariant(t),children:e(ol,{statKey:t,disableIcon:a})})}function sl({artifactId:t,slotKey:a,mainStatAssumptionLevel:n=0,showLocation:r=!1,onClick:s,BGComponent:o=se}){const i=st(t),c=k(),d=l.useCallback(M=>e(qe,{onClick:s,sx:{height:"100%"},children:M}),[s]),u=dt();if(!i)return e(o,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(f,{component:"img",src:Se.slot[a],sx:{width:"25%",height:"auto",opacity:.7}})});const{slotKey:h,rarity:m,level:g,mainStatKey:x,substats:v,location:b}=i,y=Math.max(Math.min(n,m*4),g),O=Ha.find(M=>i.mainStatKey.includes(M)),U=O?kt(u.palette[O].main,.6):kt(u.palette.secondary.main,.6);return e(o,{sx:{height:"100%"},children:e(ha,{condition:!!s,wrapper:d,children:p(f,{display:"flex",height:"100%",children:[p(f,{className:`grad-${m}star`,sx:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e(Un,{art:i,children:e(f,{component:"img",src:Pn(i.setKey,h),sx:{m:-1,maxHeight:"110%",maxWidth:"110%"}})}),p(f,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(le,{size:"small",label:e("strong",{children:` +${g}`}),color:Cr.levelVariant(g)}),r&&e(le,{size:"small",label:b?e(Ua,{characterKey:b&&c.chars.LocationToCharacterKey(b)}):e(ia,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(le,{size:"small",sx:{position:"absolute",bottom:0,mb:1,backgroundColor:U,p:1},icon:e(je,{placement:"top",title:e(_,{children:e(Ma,{statKey:x})}),disableInteractive:!0,children:e(f,{lineHeight:0,children:e(ft,{statKey:x,iconProps:{style:{padding:"4px"}}})})}),label:e(_,{sx:{mx:-.7},children:e(Fe,{color:y!==g?"warning":void 0,children:Va(x,m,y)})})})]}),e(f,{display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{p:1},children:v.map((M,j)=>e(il,{stat:M},j+M.key))})]})})})}function il({stat:t}){var s;if(!t.value)return null;const a=((s=t.rolls)==null?void 0:s.length)??0,n=`roll${ht(a,1,6)}`,r=Ga(t.key);return e(f,{display:"flex",gap:1,alignContent:"center",children:p(_,{sx:{flexGrow:1,display:"flex",gap:.5,alignItems:"center"},color:a?`${n}.main`:"error.main",component:"span",children:[e(je,{placement:"top",title:e(_,{children:t.key&&e(Ma,{statKey:t.key})}),disableInteractive:!0,children:e(f,{lineHeight:0,children:e(ft,{statKey:t.key,iconProps:{fontSize:"inherit"}})})}),e("span",{children:`${Ya(t.value,r)}${r}`})]})})}function ll(t){return Pt("MuiMasonry",t)}Et("MuiMasonry",["root"]);const cl=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],me=t=>Number(t.replace("px","")),ul={flexBasis:"100%",width:0,margin:0,padding:0},dl=t=>{const{classes:a}=t;return qt({root:["root"]},ll,a)},hl=({ownerState:t,theme:a})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},h=me(a.spacing(t.defaultSpacing));for(let m=1;m<=t.defaultColumns;m+=1)u[`&:nth-of-type(${t.defaultColumns}n+${m%t.defaultColumns})`]={order:m};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=re({},n["& > *"],u,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),re({},n,r)}const s=$t({values:t.spacing,breakpoints:a.breakpoints.values}),o=Qa(a);n=Ve(n,Ge({theme:a},s,u=>{let h;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const m=Number(u);h=Ye(o,m)}else h=u;return re({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+me(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const c=$t({values:t.columns,breakpoints:a.breakpoints.values});return n=Ve(n,Ge({theme:a},c,u=>{const m=`${(100/Number(u)).toFixed(2)}%`,g=typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"?Ye(o,Number(s)):"0px";return{"& > *":{width:`calc(${m} - ${g})`}}})),typeof s=="object"&&(n=Ve(n,Ge({theme:a},s,(u,h)=>{if(h){const m=Number(u),g=Object.keys(c).pop(),x=Ye(o,m);return{"& > *":{width:`calc(${`${(100/(typeof c=="object"?c[h]||c[g]:c)).toFixed(2)}%`} - ${x})`}}}return null}))),n},pl=$e("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,a)=>[a.root]})(hl),ml=l.forwardRef(function(a,n){const r=Ft({props:a,name:"MuiMasonry"}),{children:s,className:o,component:i="div",columns:c=4,spacing:d=1,defaultColumns:u,defaultHeight:h,defaultSpacing:m}=r,g=Kt(r,cl),x=l.useRef(),[v,b]=l.useState(),y=!v&&h&&u!==void 0&&m!==void 0,[O,U]=l.useState(y?u-1:0),M=re({},r,{spacing:d,columns:c,maxColumnHeight:v,defaultColumns:u,defaultHeight:h,defaultSpacing:m,isSSR:y}),j=dl(M),E=D=>{if(!x.current||!D||D.length===0)return;const C=x.current,$=x.current.firstChild,I=C.clientWidth,K=$.clientWidth;if(I===0||K===0)return;const z=window.getComputedStyle($),S=me(z.marginLeft),B=me(z.marginRight),V=Math.round(I/(K+S+B)),R=new Array(V).fill(0);let w=!1;C.childNodes.forEach(T=>{if(T.nodeType!==Node.ELEMENT_NODE||T.dataset.class==="line-break"||w)return;const Y=window.getComputedStyle(T),ee=me(Y.marginTop),te=me(Y.marginBottom),de=me(Y.height)?Math.ceil(me(Y.height))+ee+te:0;if(de===0){w=!0;return}for(let X=0;X<T.childNodes.length;X+=1){const he=T.childNodes[X];if(he.tagName==="IMG"&&he.clientHeight===0){w=!0;break}}if(!w){const X=R.indexOf(Math.min(...R));R[X]+=de;const he=X+1;T.style.order=he}}),w||Za.flushSync(()=>{b(Math.max(...R)),U(V>0?V-1:0)})};Xa(()=>{if(typeof ResizeObserver>"u")return;let D;const C=new ResizeObserver(()=>{D=requestAnimationFrame(E)});return x.current&&x.current.childNodes.forEach($=>{C.observe($)}),()=>{D&&window.cancelAnimationFrame(D),C&&C.disconnect()}},[c,d,s]);const A=Ja(n,x),F=new Array(O).fill("").map((D,C)=>Q.jsx("span",{"data-class":"line-break",style:re({},ul,{order:C+1})},C));return Q.jsxs(pl,re({as:i,className:et(j.root,o),ref:A,ownerState:M},g,{children:[s,F]}))}),fl=ml,gl=l.createContext(void 0),we={title:e(Fe,{color:"warning",children:"ERROR"})},Cl={normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass.",...Object.fromEntries(Ht(1,6).map(t=>[`constellation${t}`,`Const. ${t}`]))};function xl(t,a,n){if(!a)return we;if(a==="basic")return{title:"Basic Stats"};if(a==="custom")return{title:"Custom Multi Target"};if(a==="reaction")return{title:"Transformative Reactions"};if(a.includes(":")){const[r,s]=a.split(":");if(r==="artifact"){const o=va(s);return o?{title:o.name,icon:xr(s)}:we}else if(r==="weapon"){const o=bt(s);if(!o)return we;const i=t.get(oe.weapon.asc).value;return{title:o.name,icon:la(s,i>=2)}}}else{const r=t.get(oe.charKey).value;if(!r)return we;const s=ue(r,n.gender),o=["normal","charged","plunging"].includes(a)?"auto":a,i=s==null?void 0:s.getTalentOfKey(o);if(!i)return we;const c=Cl[a];return{icon:i.img,title:i.name,action:c}}return we}function bl(t){const a=t.getDisplay(),n=Object.entries(a),r=n.filter(([u])=>u==="basic"),s=n.filter(([u])=>u==="reaction"),o=n.filter(([u])=>u==="custom"),i=n.filter(([u])=>u.startsWith("weapon")),c=n.filter(([u])=>u.startsWith("artifact")),d=n.filter(([u])=>u!=="basic"&&u!=="reaction"&&!u.startsWith("weapon")&&!u.startsWith("artifact")&&u!=="custom");return[...r,...s,...o,...d,...i,...c]}function yl(){const{data:t}=l.useContext(G),a=l.useMemo(()=>bl(t).filter(([,n])=>Object.values(n).some(r=>!r.isEmpty)),[t]);return e(f,{sx:{mr:-1,mb:-1},children:e(fl,{columns:{xs:1,sm:2,md:3,xl:4},spacing:1,children:a.map(([n,r])=>e(vl,{displayNs:r,sectionKey:n},n))})})}function vl({displayNs:t,sectionKey:a}){const n=l.useContext(gl),{data:r,oldData:s}=l.useContext(G),o=k(),i=l.useMemo(()=>xl(r,a,o),[o,r,a]),c=l.useMemo(()=>ce(t,(m,g)=>Fn(["display",a,g])),[t,a]);if(!i)return e(se,{});const{title:d,icon:u,action:h}=i;return p(se,{children:[e(nr,{avatar:u&&e(Le,{size:2,src:u}),title:d,action:h&&e(q,{children:h})}),e(ve,{}),e(Nn,{sx:{m:0},children:Object.entries(t).map(([m,g])=>e(zn,{node:g,oldValue:s?s.get(c[m]).value:void 0,component:Wn,emphasize:JSON.stringify(n)===JSON.stringify([a,m])},m))})]})}function wl({weaponId:t,showLocation:a=!1,onClick:n,BGComponent:r=se,weaponTypeKey:s="sword"}){const o=yr(t),i=(o==null?void 0:o.key)&&bt(o.key);return!o||!i?e(r,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:e(f,{component:"img",src:Se.weaponTypes[s],sx:{width:"25%",height:"auto",opacity:.7}})}):e(_l,{weapon:o,weaponSheet:i,onClick:n,showLocation:a,BGComponent:r})}function _l({weapon:t,weaponSheet:a,showLocation:n=!1,onClick:r,BGComponent:s=se}){const o=k(),{refinement:i,location:c}=t,d=l.useCallback(h=>e(qe,{sx:{height:"100%"},onClick:r,children:h}),[r]),u=l.useMemo(()=>a&&t&&Kn([a.data,ca(t)]),[a,t]);return e(s,{sx:{height:"100%"},children:e(ha,{condition:!!r,wrapper:d,children:p(f,{display:"flex",height:"100%",alignItems:"stretch",children:[p(f,{className:`grad-${a.rarity}star`,sx:{height:"100%",position:"relative",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:[e(Mn,{sheet:a,children:e(f,{component:"img",src:la(t.key,t.ascension>=2),sx:{mx:-1,maxHeight:"100%",maxWidth:"100%"}})}),p(f,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"space-between",pointerEvents:"none"},children:[e(le,{size:"small",label:e("strong",{children:wa.getLevelString(t)}),color:"primary"}),n&&e(le,{size:"small",label:c?e(Ua,{characterKey:o.chars.LocationToCharacterKey(c)}):e(ia,{}),color:"secondary",sx:{overflow:"visible",".MuiChip-label":{overflow:"visible"}}})]}),e(f,{sx:{position:"absolute",width:"100%",height:"100%",p:.5,opacity:.85,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},children:a.hasRefinement&&e(le,{size:"small",color:"info",label:p("strong",{children:["R",i]})})})]}),p(f,{display:"flex",flexDirection:"column",sx:{p:1},children:[e(Bt,{node:u.get(oe.weapon.main)}),e(Bt,{node:u.get(oe.weapon.sub)})]})]})})})}function Bt({node:t}){return t.info.name?e(f,{display:"flex",gap:1,alignContent:"center",children:p(_,{sx:{flexGrow:1,display:"flex",gap:1},component:"span",children:[e(je,{placement:"top",title:e(_,{children:t.info.name}),disableInteractive:!0,children:e("span",{children:t.info.icon})}),e("span",{children:qn(t)})]})}):null}function Rl({artifacts:t,currentlyEquipped:a=!1}){const n=l.useMemo(()=>t.filter(r=>r).reduce((r,s)=>(r[s.setKey]?r[s.setKey].push(s.slotKey):r[s.setKey]=[s.slotKey],r),{}),[t]);return e(Re,{children:Object.entries(n).sort(([r,s],[o,i])=>i.length-s.length).map(([r,s])=>e(Ll,{setKey:r,currentlyEquipped:a,slotarr:s},r))})}function Ll({setKey:t,currentlyEquipped:a=!1,slotarr:n}){const r=va(t),s=n.length,o=Object.keys(r.setEffects).map(i=>parseInt(i)).filter(i=>i<=s);return e(f,{children:e(cr,{artifactSheet:r,numInSet:s,children:e(q,{sx:{height:"100%"},color:a?"success":"primary",children:p(_,{children:[n.map(i=>e(vr,{slotKey:i,iconProps:ne},i))," ",r.name??"",o.map((i,c)=>e(q,{sx:{ml:.5},color:"success",children:i},""+i+c))]})})})})}var _t={},Sl=Me;Object.defineProperty(_t,"__esModule",{value:!0});var lt=_t.default=void 0,kl=Sl(Ue()),$l=Q,Ul=(0,kl.default)((0,$l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");lt=_t.default=Ul;var Rt={},Ml=Me;Object.defineProperty(Rt,"__esModule",{value:!0});var ct=Rt.default=void 0,Tl=Ml(Ue()),jl=Q,Dl=(0,Tl.default)((0,jl.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");ct=Rt.default=Dl;function Il({setKey:t,buttonGroupSx:a}){const{t:n}=H("sheet"),{teamChar:{optConfigId:r}}=l.useContext(ie),{artSetExclusion:s}=De(r),o=(s==null?void 0:s[t])??[],i=o.includes(2),c=o.includes(4),d=k();return p(ar,{sx:a,fullWidth:!0,children:[e(P,{startIcon:i?e(Ut,{}):e(Mt,{}),onClick:()=>d.optConfigs.set(r,{artSetExclusion:Tt(s,t,2)}),color:i?"secondary":"success",endIcon:i?e(lt,{}):e(ct,{}),children:n`2set`}),e(P,{startIcon:c?e(Ut,{}):e(Mt,{}),onClick:()=>d.optConfigs.set(r,{artSetExclusion:Tt(s,t,4)}),color:c?"secondary":"success",endIcon:c?e(lt,{}):e(ct,{}),children:n`4set`})]})}function Al({label:t,extraButtonsRight:a,extraButtonsLeft:n,disabled:r}){const{teamChar:{optConfigId:s,buildType:o,buildId:i,compare:c,compareType:d,compareBuildId:u}}=l.useContext(ie),{character:{key:h,equippedArtifacts:m,equippedWeapon:g}}=l.useContext(N),{mainStatAssumptionLevel:x,allowLocationsState:v}=De(s)??{mainStatAssumptionLevel:0,allowLocationsState:"all"},b=k(),{data:y}=l.useContext(G),[O,U]=l.useState(void 0),[M,j]=l.useState(void 0),E=l.useCallback(()=>U(void 0),[U]),A=l.useCallback(()=>j(void 0),[j]),F=i&&o==="real",D=l.useCallback(()=>{const w=F?"Do you want to equip this build to the currently active build?":"Do you want to equip this build to this character?";if(!window.confirm(w))return;if(F){b.builds.set(i,{weaponId:y.get(W.weapon.id).value,artifactIds:fe(ae,ee=>{var te;return(te=y.get(W.art[ee].id).value)==null?void 0:te.toString()})});return}const T=b.chars.get(h);if(!T)return;ae.forEach(ee=>{var de;const te=(de=y.get(W.art[ee].id).value)==null?void 0:de.toString();if(te)b.arts.set(te,{location:Ce(h)});else{const X=T.equippedArtifacts[ee];X&&b.arts.get(X)&&b.arts.set(X,{location:""})}});const Y=y.get(W.weapon.id).value;Y&&b.weapons.set(Y,{location:Ce(h)})},[h,F,i,y,b]),C=l.useMemo(()=>Object.fromEntries(ae.map(w=>{var T;return[w,(T=y.get(W.art[w].id).value)==null?void 0:T.toString()]})),[y]),$=l.useMemo(()=>C&&Object.values(C).map(w=>b.arts.get(w)).filter(w=>w),[C,b.arts]),I=l.useMemo(()=>o==="tc"?fe(ae,()=>"tc"):o==="equipped"?m:o==="real"?b.builds.get(i).artifactIds:fe(ae,()=>""),[o,i,b,m]),K=l.useMemo(()=>c?d==="tc"?fe(ae,()=>"tc"):d==="equipped"?m:d==="real"?b.builds.get(u).artifactIds:fe(ae,()=>""):I,[d,c,u,b,m,I]),z=l.useMemo(()=>o==="tc"?"tc":o==="equipped"?g:o==="real"?b.builds.get(i).weaponId??"":"",[o,i,b,g]),S=l.useMemo(()=>c?d==="equipped"?g:d==="real"||d==="tc"?b.builds.get(u).weaponId??"":"":z,[d,c,u,b,g,z]),B=l.useMemo(()=>e(L,{item:!0,xs:1,children:e(wl,{showLocation:!0,weaponId:y.get(W.weapon.id).value,onClick:()=>{const w=S,T=y.get(W.weapon.id).value;U({oldId:w!==T?w:void 0,newId:T})}})}),[y,U,S]),V=l.useMemo(()=>ae.map(w=>e(L,{item:!0,xs:1,children:e(sl,{showLocation:!0,slotKey:w,artifactId:C[w],mainStatAssumptionLevel:x,onClick:()=>{const T=K[w],Y=C[w];j({oldId:T!==Y?T:void 0,newId:Y})}})},w)),[j,K,x,C]),R=ae.every(w=>C[w]===I[w])&&y.get(W.weapon.id).value===z;return e(Gt,{children:p(l.Suspense,{fallback:e(ge,{variant:"rectangular",width:"100%",height:600}),children:[O&&e(Ol,{newOld:O,onClose:E}),M&&e(Bl,{newOld:M,mainStatAssumptionLevel:x,onClose:A,allowLocationsState:v}),p(J,{children:[p(f,{display:"flex",gap:1,sx:{pb:1},flexWrap:"wrap",children:[t!==void 0&&e(q,{color:"info",children:e(_,{children:p("strong",{children:[t,R?" (Equipped)":""]})})}),e(Rl,{artifacts:$,currentlyEquipped:R}),e(f,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}),n,e(P,{size:"small",color:"success",onClick:D,disabled:r||R,startIcon:e(Er,{}),children:"Equip Build"}),a]}),p(L,{container:!0,spacing:1,sx:{pb:1},columns:{xs:2,sm:3,md:4,lg:6},children:[B,V]}),e(yl,{})]})]})})}function Ol({newOld:{newId:t,oldId:a},onClose:n}){const r=k(),s=l.useCallback(o=>r.weapons.remove(o),[r]);return e(Te,{open:!!t,onClose:n,containerProps:{maxWidth:a?"md":"xs"},children:e(se,{children:p(J,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[a&&p(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(xe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"Old Weapon"})}),a==="tc"?e(_,{variant:"h6",textAlign:"center",color:"info",children:e(q,{children:"TC Weapon"})}):e(ze,{weaponId:a,onDelete:s})]}),a&&e(f,{display:"flex",flexGrow:1}),a&&e(f,{display:"flex",alignItems:"center",justifyContent:"center",children:e(_a,{sx:{fontSize:40}})}),a&&e(f,{display:"flex",flexGrow:1}),p(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(xe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"New Weapon"})}),e(ze,{weaponId:t,onDelete:s})]})]})})})}function Bl({newOld:{newId:t,oldId:a},mainStatAssumptionLevel:n,onClose:r,allowLocationsState:s}){var m;const o=k(),{character:{key:i}}=l.useContext(N),c=((m=o.arts.get(t))==null?void 0:m.location)??"",d=st(t),u=st(a),h=l.useCallback(g=>o.arts.remove(g),[o]);return e(Te,{open:!!t,onClose:r,containerProps:{maxWidth:a?"md":"xs"},children:e(se,{children:p(J,{sx:{display:"flex",justifyContent:"center",alignItems:"stretch",gap:2},children:[a&&p(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(xe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"Old Artifact"})}),a==="tc"?e(_,{variant:"h6",textAlign:"center",color:"info",children:e(q,{children:"TC Artifact"})}):e(Be,{artifactId:a,onDelete:h,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:u==null?void 0:u.slotKey}}),a!=="tc"&&e(zt,{id:a})]}),a&&e(f,{display:"flex",flexGrow:1}),a&&e(f,{display:"flex",alignItems:"center",justifyContent:"center",children:e(_a,{sx:{fontSize:40}})}),a&&e(f,{display:"flex",flexGrow:1}),p(f,{minWidth:320,display:"flex",flexDirection:"column",gap:1,children:[e(xe,{bgt:"light",sx:{p:1},children:e(_,{variant:"h6",textAlign:"center",children:"New Artifact"})}),e(Be,{artifactId:t,onDelete:h,mainStatAssumptionLevel:n,editorProps:{disableSet:!0,fixedSlotKey:d==null?void 0:d.slotKey}}),d&&e(zt,{id:t}),c&&c!==Ce(i)&&s!=="all"&&e(zl,{locationKey:c}),d&&en.includes(d.setKey)&&e(Il,{setKey:d.setKey})]})]})})})}function zt({id:t}){const{t:a}=H("page_character_optimize"),{teamChar:{optConfigId:n}}=l.useContext(ie),r=k(),{artExclusion:s}=De(n),o=s.includes(t),i=l.useCallback(()=>r.optConfigs.set(n,{artExclusion:Yt(s,t)}),[t,s,r,n]);return n?e(je,{title:e(f,{children:e(_,{children:a`excludeArt.includeArtifactTip`})}),placement:"top",arrow:!0,children:e(P,{onClick:i,color:o?"secondary":"success",size:"small",startIcon:o?e(ba,{}):e(ya,{}),children:a`excludeArt.includeArtifactButton`})}):null}function zl({locationKey:t}){const{t:a}=H("page_character_optimize"),{teamChar:{optConfigId:n}}=l.useContext(ie),r=k(),s=ue(r.chars.LocationToCharacterKey(t)),{excludedLocations:o}=De(n)??{excludedLocations:[]},i=o.includes(t),c=l.useCallback(()=>r.optConfigs.set(n,{excludedLocations:Yt(o,t)}),[t,o,r,n]);return n?e(P,{onClick:c,color:i?"secondary":"success",size:"small",startIcon:i?e(ba,{}):e(ya,{}),children:p("span",{children:[a`excludeChar.allowEquip`," ",e("strong",{children:s.name})]})}):null}const Wt=Hn(tn({dyn:{...oe.art,...oe.artSet}})),Wl={art:fe([...an,...Xt],t=>Wt.dyn[t]),artSet:ce(oe.artSet,(t,a)=>Wt.dyn[a])};function tu(t,a,n){const r={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},s=new Set;for(const o of t){const i=nn(o.mainStatKey,o.rarity,Math.max(Math.min(a,rn[o.rarity]),o.level)),c={id:o.id,set:o.setKey,values:{[o.setKey]:1,[o.mainStatKey]:o.mainStatKey.endsWith("_")?i/100:i,...Object.fromEntries(o.substats.map(d=>[d.key,d.key.endsWith("_")?d.accurateValue/100:d.accurateValue]))}};delete c.values[""],r.values[o.slotKey].push(c),Object.keys(c.values).forEach(d=>s.add(d))}if(r.base=fe([...s],o=>0),n)for(const o of Object.values(r.values))o.push({id:"",values:{}});return r}function au(t,a,n){var h;const{artifact:{sets:r},optimization:{target:s,minTotal:o}}=n;if(!s)return{};const i=(h=t[a])==null?void 0:h.target.data[0];if(!i)return{};Object.assign(i,ot([i,Wl]));const c=on(i.display??{},s);if(!c)return{};const d=Object.keys(o).map(m=>i.total[m]).filter(m=>m);let u=jt([c,...d],i,({path:[m]})=>m!=="dyn");return u=Vn(u,m=>{if(m.operation==="read"&&m.path[0]==="dyn"){const g=r[m.path[1]];if(g)return Ae(g);if(!Xt.includes(m.path[1]))return Ae(0)}return m},m=>m),u=jt(u,{},m=>!1),{nodes:u}}function nu(t){const a=new Set;return Gn(t,{},n=>{const r=n.path[1];return a.add(r),r},1),a}function ru(t){const{artifact:{slots:a,substats:{stats:n,type:r,rarity:s}}}=t,o=ce(n,(d,u)=>Math.ceil(n[u]/sn(u,s,r))),i=Pl(a),c=El(a);return{minSubLines:c,minOtherRolls:Nl(Object.entries(o),i,c)}}function Nl(t,a,n=4*5){const r=t.reduce((s,[o,i])=>{const c=5-(a[o]??0);return s+Math.min(i,c)},0);return n-r}function El(t){return Object.values(t).reduce((a,{rarity:n,level:r})=>{const{high:s,low:o}=un[n];return a+(r>=4?s:o)},0)}function Pl(t){const a={};return Object.values(t).forEach(({statKey:n})=>{a[n]=(a[n]??0)+1},0),a}function Fl(t){const{artifact:{slots:a,substats:{stats:n},sets:r}}=t,s=ce(n,(o,i)=>ln(o,i));return Object.values(a).forEach(({statKey:o,rarity:i,level:c})=>s[o]=(s[o]??0)+cn(o,i,c)),{art:ce(s,(o,i)=>i.endsWith("_")?Yn(o):Ae(o)),artSet:ce(r,o=>Ae(o))}}function ou(t){const{weapon:{key:a,level:n,ascension:r,refinement:s}}=t;return{id:"",location:"",key:a,level:n,ascension:r,refinement:s,lock:!1}}function Kl(t=0,a,n){const{teamId:r,teamCharId:s}=l.useContext(ie),o=k(),[i,c]=Ne(),d=l.useDeferredValue(i),{gender:u}=be(),{teamCharIds:h}=Tn(r)??{teamCharIds:[]},m=l.useMemo(()=>d&&ql(o,r,u,s,t,a,n),[d,u,r,o,t,s,a,n]);return l.useEffect(()=>r?o.teams.follow(r,c):void 0,[r,c,o]),l.useEffect(()=>{if(!i)return()=>{};const g=h.map(x=>{const v=o.teamChars.follow(x,c),b=o.teamChars.followChar(x,c),y=o.teamChars.followBuild(x,c);return()=>{v(),b(),y()}});return()=>{g.forEach(x=>x())}},[i,o,h,c]),m}function ql(t,a,n,r,s=0,o,i){if(!a)return;const c=t.teams.getActiveTeamChar(a);if(!c)return;const{teamData:d,teamBundle:u}=Hl(t,a,r,s,o,i)??{};if(!d||!u)return;const h=Xn(d,n,c.key);return dn(h,(g,x)=>{const{data:v,...b}=u[x];return{...g,...b}})}function Hl(t,a,n,r=0,s,o){if(!a)return;const i=t.teams.get(a);if(!i)return;const{teamCharIds:c,enemyOverride:d}=i,u=c.map(g=>{const x=t.teamChars.get(g),{key:v,buildType:b,buildTcId:y,infusionAura:O,customMultiTargets:U,conditional:M,bonusStats:j,hitMode:E,reaction:A}=x,F=t.chars.get(v),{key:D,level:C,constellation:$,ascension:I,talent:K}=F,z=g===n,S=(()=>o&&z?o:t.teamChars.getLoadoutWeapon(g))(),B=(()=>s&&z?s:b==="tc"&&y?Fl(t.buildTcs.get(y)):Object.values(t.teamChars.getLoadoutArtifacts(g)).filter(R=>R))(),V=(()=>r&&z?r:0)();return Vl(t,z,V,{key:D,level:C,constellation:$,ascension:I,talent:K,infusionAura:O,customMultiTargets:U,conditional:M,bonusStats:j,enemyOverride:d,hitMode:E,reaction:A},S,B)}),h=Object.fromEntries(u.filter(g=>g).map(g=>[g.character.key,g]));return{teamData:ce(h,({data:g})=>g),teamBundle:h}}function Vl(t,a=!1,n,r,s,o){const i=t.chars.get(r.key),c=ue(r.key,t.gender);if(!c)return;const d=bt(s.key);if(!d)return;const u=wa.getAllDataOfType(c.weaponTypeKey),h=a?(()=>{const{display:v,...b}=d.data;return ot([b,u])})():d.data,m=ot([c.data,h,br]),x=[...Array.isArray(o)?o.map(v=>Jn(v,n)):[o],Qn(r,a?m:void 0),ca(s),m,Zn,jn];return{character:i,weapon:s,characterSheet:c,weaponSheet:d,data:x}}const Ze={mx:.25,px:.25};function Gl({reaction:t}){const{t:a}=H("sheet_gen"),n=t==="spread"?"dendro":"electro";return p(f,{display:"flex",alignItems:"center",children:[e(Fe,{color:t,children:a(`reaction.${t}`)}),e(q,{sx:Ze,color:"dendro",children:e(hn,{...ne})}),"+",e(q,{sx:Ze,color:"electro",children:e(Jt,{...ne})}),"+",e(q,{sx:Ze,color:n,children:e(mt,{ele:n,iconProps:ne})})]})}const Nt={"":e("span",{children:"No Team Melee Infusion"}),pyro:p("span",{children:[e(pn,{...ne})," ",e(q,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:p("span",{children:[e(mn,{...ne})," ",e(q,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]}),hydro:p("span",{children:[e(fn,{...ne})," ",e(q,{children:"Candace Burst"})," Sacred Rite: Wagtail's Tide"]}),electro:p("span",{children:[e(Jt,{...ne})," ",e(q,{children:"Somnia Burst"})," ","Parallax Paws"]})};function su(t){const{teamCharId:a,teamChar:{infusionAura:n}}=l.useContext(ie),{character:{key:r}}=l.useContext(N),s=k();return gn(r)?e(Rr,{title:Nt[n||""],color:n||"secondary",disableElevation:!0,disabled:!a,...t,children:Object.entries(Nt).map(([o,i])=>e(Ra,{sx:o?{color:`${o}.main`}:void 0,selected:o===n,disabled:o===n,onClick:()=>s.teamChars.set(a,{infusionAura:o}),children:i},o))}):null}function Yl(t){const{t:a}=H("page_character"),{teamCharId:n,teamChar:{reaction:r}}=l.useContext(ie),s=k(),{data:o}=l.useContext(G),i=o.get(W.charEle).value,c=o.get(er).value,d=[...new Set([...Dt[i]??[],...Dt[c]??[],...It[i]??[],...It[c]??[]])];return p(Ke,{exclusive:!0,baseColor:"secondary",value:r,onChange:(u,h)=>s.teamChars.set(n,{reaction:h}),disabled:!n,...t,children:[e(_e,{value:"",disabled:!r,children:a`noReaction`}),d.map(u=>e(_e,{value:u,disabled:r===u,children:[...Cn].includes(u)?e(En,{reaction:u}):e(Gl,{reaction:u})},u))]})}function Xl(t){const{t:a}=H("page_character"),{teamCharId:n,teamChar:{hitMode:r="avgHit"}}=l.useContext(ie),s=k();return e(Ke,{exclusive:!0,baseColor:"secondary",value:r,onChange:(o,i)=>s.teamChars.set(n,{hitMode:i}),disabled:!n,...t,children:xn.map(o=>e(_e,{value:o,disabled:r===o,children:a(`hitmode.${o}`)},o))})}function Ta({artId:t,weaponId:a}){const{t:n}=H("page_character"),[r,s,o]=ye(!1);return p(Re,{children:[e(Qt,{open:r,onClose:o,containerProps:{maxWidth:"xl"},children:e(Jl,{artId:t,weaponId:a,onHide:o})}),e(Ee,{title:e(_,{children:n`tabEquip.compare`}),placement:"top",arrow:!0,children:e(P,{color:"info",size:"small",onClick:s,children:e(ur,{})})})]})}function Jl(t){var r;const a=l.useContext(ie),n=l.useContext(N);return(r=a==null?void 0:a.teamChar)!=null&&r.optConfigId?e(Ql,{...t}):n!=null&&n.character?e(Zl,{...t}):null}function Ql({artId:t,weaponId:a,onHide:n}){const r=k(),{character:{key:s}}=l.useContext(N),{teamCharId:o,teamChar:{optConfigId:i}}=l.useContext(ie),{mainStatAssumptionLevel:c}=De(i),{data:d}=l.useContext(G),u=l.useMemo(()=>{const g=r.arts.get(t??""),x=r.teamChars.getLoadoutArtifacts(o),v=ce(x,(b,y)=>y===(g==null?void 0:g.slotKey)?g:b);return Object.values(v).filter(b=>b)},[r,o,t]),h=Kl(c,u,a?r.weapons.get(a):void 0),m=l.useMemo(()=>h&&{data:h[s].target,teamData:h,oldData:d},[s,h,d]);return m?e(ja,{dataProviderValue:m,onHide:n}):null}function Zl({artId:t,weaponId:a,onHide:n}){const r=k(),{character:{key:s,equippedArtifacts:o}}=l.useContext(N),{data:i}=l.useContext(G),c=l.useMemo(()=>{const h=r.arts.get(t??""),m=ce(o,(g,x)=>x===(h==null?void 0:h.slotKey)?h:r.arts.get(g));return Object.values(m).filter(g=>g)},[r,o,t]),d=oa(s,0,c,a?r.weapons.get(a):void 0),u=l.useMemo(()=>d&&{data:d[s].target,teamData:d,oldData:i},[s,d,i]);if(u)return e(ja,{dataProviderValue:u,onHide:n})}function ja({dataProviderValue:t,onHide:a}){return e(l.Suspense,{fallback:e(ge,{variant:"rectangular",width:"100%",height:600}),children:t&&e(G.Provider,{value:t,children:e(Al,{extraButtonsLeft:p(Re,{children:[e(Xl,{size:"small"}),e(Yl,{size:"small"})]}),extraButtonsRight:e(P,{size:"small",color:"error",onClick:a,children:e($a,{})})})})})}const ec={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},tc=l.lazy(()=>Zt(()=>import("./ArtifactEditor-5b4e6e93.js"),["./ArtifactEditor-5b4e6e93.js","./index-ef18ed93.js","./index-ca738ffa.css","./ArtifactRarityDropdown-862554ab.js","./index-dda0f797.js","./index-bcf97bd3.js","./ColoredText-f352f936.js","./SqBadge-18051f1e.js","./LocationAutocomplete-0ec851e9.js","./StarDisplay-ad7b4960.js","./DropdownButton-8c5a3dbd.js","./sortByRarityAndName-2efb64d0.js","./Help-82ff9b19.js","./LockOpen-f9455feb.js","./SlotIcon-de87deb5.js","./ArtifactStatKeyDisplay-934c1ed1.js","./Artifact-b82f9fbe.js","./CloseButton-4ccaf4f4.js","./ArtifactSort-1a316ed9.js","./InfoTooltip-03527ae4.js","./CardActionArea-7540381a.js","./TextButton-8ba1d6a7.js","./CardHeader-3a3189db.js","./ChevronRight-b51bdc22.js"],import.meta.url)),ac=l.lazy(()=>Zt(()=>import("./ArtifactFilterDisplay-b769a6a1.js").then(t=>t.b),["./ArtifactFilterDisplay-b769a6a1.js","./index-ef18ed93.js","./index-ca738ffa.css","./LockOpen-f9455feb.js","./LocationAutocomplete-0ec851e9.js","./StarDisplay-ad7b4960.js","./DropdownButton-8c5a3dbd.js","./ColoredText-f352f936.js","./index-bcf97bd3.js","./SqBadge-18051f1e.js","./totalUtils-441f73b2.js","./Help-82ff9b19.js","./sortByRarityAndName-2efb64d0.js","./Artifact-b82f9fbe.js","./index-dda0f797.js","./SlotIcon-de87deb5.js"],import.meta.url));function Da({onChangeId:t,slotKey:a,show:n,onClose:r}){const{t:s}=H(["page_character","artifact"]),o=k(),i=l.useCallback(S=>{t(S),r()},[t,r]),c=l.useCallback((S,B)=>({...S,...B,slotKeys:[a]}),[a]),[d,u,h]=ye(!1),[m,g]=l.useReducer(c,{...dr(),slotKeys:[a]}),[x,v]=Ne();l.useEffect(()=>o.arts.followAny(v),[o,v]);const b=Ca(),y=ec[b],[O,U]=l.useState(0),M=l.useRef(null),j=l.useMemo(()=>hr(),[]),E=o.arts.values.filter(S=>S.slotKey===m.slotKeys[0]).length,A=l.useMemo(()=>{const S=Ct(m,j);return x&&o.arts.values.filter(S).map(B=>B.id)},[x,o,j,m]),{artifactIdsToShow:F,numPages:D,currentPageIndex:C}=l.useMemo(()=>{const S=Math.ceil(A.length/y),B=ht(O,0,S-1);return{artifactIdsToShow:A.slice(B*y,(B+1)*y),numPages:S,currentPageIndex:B}},[A,O,y]),$=A.length!==E?`${A.length}/${E}`:`${E}`,I=l.useCallback((S,B)=>{var V;(V=M.current)==null||V.scrollIntoView({behavior:"smooth"}),U(B-1)},[U,M]),K={count:D,page:C+1,onChange:I},z={numShowing:F.length,total:$,t:s,namespace:"artifact"};return e(Te,{open:n,onClose:r,containerProps:{maxWidth:"xl"},children:p(se,{children:[e(l.Suspense,{fallback:!1,children:e(tc,{artifactIdToEdit:d?"new":"",cancelEdit:h,allowUpload:!0,allowEmpty:!0,fixedSlotKey:m.slotKeys[0]})}),p(J,{sx:{py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p(_,{variant:"h6",children:[a?e(Le,{src:Se.slot[a]}):null," ",s`tabEquip.swapArt`]}),e(Pe,{onClick:r})]}),e(ve,{}),e(J,{children:e(l.Suspense,{fallback:e(ge,{variant:"rectangular",width:"100%",height:200}),children:e(ac,{filterOption:m,filterOptionDispatch:g,filteredIds:A,disableSlotFilter:!0})})}),e(ve,{}),p(J,{children:[e(f,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:e(Oe,{paginationProps:K,showingTextProps:z})}),e(P,{fullWidth:!0,onClick:u,color:"info",startIcon:e(xa,{}),children:s("artifact:addNew")}),e(f,{mt:1,children:e(l.Suspense,{fallback:e(ge,{variant:"rectangular",width:"100%",height:300}),children:e(L,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:F.map(S=>e(L,{item:!0,xs:1,children:e(Be,{artifactId:S,extraButtons:e(Ta,{artId:S}),onClick:i})},S))})})}),D>1&&e(f,{pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:e(Oe,{paginationProps:K,showingTextProps:z})})]})]})})}const nc={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},rc=xt([...ea]);function Lt({onChangeId:t,weaponTypeKey:a,show:n,onClose:r}){const{t:s}=H(["page_character","page_weapon","weaponNames_gen"]),o=k(),[i,c]=l.useState(!1),d=l.useCallback(R=>{t(R),r()},[t,r]),[u,h]=l.useState(""),m=l.useCallback(R=>{h(o.weapons.new(bn(R)))},[o,h]),g=l.useCallback(()=>h(""),[]),[x,v]=Ne();l.useEffect(()=>o.weapons.followAny(v),[v,o]);const b=Ca(),y=nc[b],[O,U]=l.useState(0),M=l.useRef(null),[j,E]=l.useState([5,4,3]),[A,F]=l.useState(""),D=l.useDeferredValue(A),C=l.useMemo(()=>(x&&o.weapons.values.filter(Ct({weaponType:a,rarity:j,name:D},pr())).sort(pa(fr.level??[],!1,mr())).map(R=>R.id))??[],[x,o,j,a,D]),{weaponIdsToShow:$,numPages:I,currentPageIndex:K}=l.useMemo(()=>{const R=Math.ceil(C.length/y),w=ht(O,0,R-1);return{weaponIdsToShow:C.slice(w*y,(w+1)*y),numPages:R,currentPageIndex:w}},[C,O,y]),z=`${C.length}`,S=l.useCallback((R,w)=>{var T;(T=M.current)==null||T.scrollIntoView({behavior:"smooth"}),U(w-1)},[U,M]),B={count:I,page:K+1,onChange:S},V={numShowing:$.length,total:z,t:s,namespace:"page_weapon"};return e(Te,{open:n,onClose:r,children:p(se,{children:[e(l.Suspense,{fallback:!1,children:e(Lr,{show:i,onHide:()=>c(!1),onSelect:m,weaponTypeFilter:a})}),e(l.Suspense,{fallback:!1,children:e(ua,{weaponId:u,footer:!0,onClose:g})}),e(J,{sx:{py:1},children:p(L,{container:!0,children:[e(L,{item:!0,flexGrow:1,children:p(_,{variant:"h6",children:[a?e(Le,{src:Se.weaponTypes[a]}):null," ",s`page_character:tabEquip.swapWeapon`]})}),e(L,{item:!0,children:e(Pe,{onClick:r})})]})}),e(ve,{}),p(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[p(L,{container:!0,spacing:1,children:[e(L,{item:!0,children:e(Ke,{sx:{height:"100%"},value:j,size:"small",children:ea.map(R=>e(_e,{value:R,onClick:()=>E(rc(j,R)),children:p(f,{display:"flex",children:[e("strong",{children:R}),e(ma,{})]})},R))})}),e(L,{item:!0,flexGrow:1,children:e(fa,{autoFocus:!0,size:"small",value:A,onChange:R=>F(R.target.value),label:s("page_weapon:weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})})]}),e(f,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:e(Oe,{paginationProps:B,showingTextProps:V})}),e(P,{fullWidth:!0,onClick:()=>c(!0),color:"info",startIcon:e(xa,{}),children:s("page_weapon:addWeapon")}),e(L,{container:!0,spacing:1,children:$.map(R=>e(L,{item:!0,xs:6,sm:6,md:4,lg:3,children:e(ze,{weaponId:R,onClick:d,extraButtons:e(Ta,{weaponId:R})})},R))}),I>1&&e(f,{pt:1,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:e(Oe,{paginationProps:B,showingTextProps:V})})]})]})})}const oc={xs:1,sm:2,md:3,lg:3,xl:3};function sc({weaponTypeKey:t,weaponId:a,artifactIds:n,setWeapon:r,setArtifact:s}){const o=k(),[i,c]=l.useState("");l.useEffect(()=>{a&&i&&i!==a&&c(a)},[i,a]);const d=l.useCallback(()=>a&&c(a),[a]),u=l.useCallback(()=>c(""),[]);return p(f,{children:[e(ua,{weaponId:i,footer:!0,onClose:u,extraButtons:e(dc,{weaponTypeKey:t,onChangeId:r})}),p(L,{item:!0,columns:oc,container:!0,spacing:1,children:[e(L,{item:!0,xs:1,display:"flex",flexDirection:"column",children:a&&o.weapons.keys.includes(a)?e(ze,{weaponId:a,onEdit:d,extraButtons:e(uc,{weaponTypeKey:t,onChangeId:r})}):e(ic,{weaponTypeKey:t,onChangeId:r})}),!!n&&Object.entries(n).map(([h,m])=>e(L,{item:!0,xs:1,children:o.arts.keys.includes(m)?e(Be,{artifactId:m,extraButtons:e(cc,{slotKey:h,onChangeId:g=>s(h,g)}),editorProps:{}}):e(lc,{slotKey:h,onChangeId:g=>s(h,g)})},m||h))]})]})}function ic({weaponTypeKey:t,onChangeId:a}){const[n,r,s]=ye();return p(xe,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(J,{children:p(_,{children:[e(Le,{src:Se.weaponTypes[t]})," ",t]})}),e(ve,{}),p(f,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(Lt,{weaponTypeKey:t,show:n,onClose:s,onChangeId:a}),e(P,{onClick:r,color:"info",sx:{borderRadius:"1em"},children:e(ke,{sx:{height:100,width:100}})})]})]})}function lc({slotKey:t,onChangeId:a}){const[n,r,s]=ye(),{t:o}=H("artifact");return p(xe,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[e(J,{children:p(_,{children:[e(Ar,{iconProps:ne,slotKey:t})," ",o(`slotName.${t}`)]})}),e(ve,{}),p(f,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e(Da,{slotKey:t,show:n,onClose:s,onChangeId:a}),e(P,{onClick:r,color:"info",sx:{borderRadius:"1em"},children:e(ke,{sx:{height:100,width:100}})})]})]})}function cc({slotKey:t,onChangeId:a}){const{t:n}=H("page_character"),[r,s,o]=ye();return p(Re,{children:[e(Ee,{title:e(_,{children:n`tabEquip.swapArt`}),placement:"top",arrow:!0,children:e(P,{color:"info",size:"small",onClick:s,children:e(ke,{})})}),e(Da,{slotKey:t,show:r,onClose:o,onChangeId:a})]})}function uc({weaponTypeKey:t,onChangeId:a}){const{t:n}=H("page_character"),[r,s,o]=ye();return p(Re,{children:[e(Ee,{title:e(_,{children:n`tabEquip.swapWeapon`}),placement:"top",arrow:!0,children:e(P,{color:"info",size:"small",onClick:s,children:e(ke,{})})}),e(Lt,{weaponTypeKey:t,onChangeId:a,show:r,onClose:o})]})}function dc({weaponTypeKey:t,onChangeId:a}){const{t:n}=H("page_character"),[r,s,o]=ye();return p(Re,{children:[e(P,{color:"info",onClick:s,startIcon:e(ke,{}),children:n`tabEquip.swapWeapon`}),e(Lt,{weaponTypeKey:t,onChangeId:a,show:r,onClose:o})]})}function hc({talentKey:t,dropDownButtonProps:a}){const{t:n}=H("sheet_gen"),{character:{talent:r,key:s}}=l.useContext(N),o=k(),{data:i}=l.useContext(G),c=i.get(oe.total[`${t}Boost`]).value,d=i.get(oe.total[t]).value,u=i.get(oe.asc).value;return e(Nr,{fullWidth:!0,title:n("talentLvl",{level:d}),color:c?"info":"primary",...a,children:yn(1,vn[u]).map(h=>e(Ra,{selected:r[t]===h,disabled:r[t]===h,onClick:()=>o.chars.set(s,m=>{m.talent[t]=h}),children:n("talentLvl",{level:h+c})},h))})}function pc(){const{t}=H("ui"),a=k(),{character:n}=l.useContext(N),{key:r}=n,{gender:s}=be(),o=l.useCallback(()=>a.dbMeta.set({gender:s==="F"?"M":"F"}),[s,a]);return r.startsWith("Traveler")?p(P,{onClick:o,startIcon:s==="F"?e(Pr,{}):e(Fr,{}),children:[e("strong",{children:t(`gender.${s}`)})," "]}):null}function mc({onClose:t}){const a=k(),{character:n,character:{key:r},characterSheet:s}=l.useContext(N);return p(f,{display:"flex",flexDirection:"column",gap:1,children:[p(f,{display:"flex",gap:1,children:[e(pc,{}),!!t&&e(Pe,{onClick:t,sx:{marginLeft:"auto"}})]}),e(f,{children:p(L,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[e(L,{item:!0,xs:8,sm:5,md:4,lg:3,children:p(xe,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[e(Gi,{}),e(f,{sx:{px:1},children:e(rr,{level:n.level,ascension:n.ascension,setBoth:o=>a.chars.set(r,o)})}),e(f,{sx:{px:2},children:e(Dn,{})}),e(_,{sx:{textAlign:"center",pb:-1},variant:"h6",children:s.constellationName}),e(Vi,{})]})}),p(L,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[e(f,{children:e(L,{container:!0,columns:3,spacing:1,children:["auto","skill","burst"].map(o=>{var i;return e(L,{item:!0,xs:1,children:e(hc,{talentKey:o,dropDownButtonProps:{startIcon:e(Le,{src:(i=s.getTalentOfKey(o))==null?void 0:i.img,size:1.75,sideMargin:!0})}},o)})})})}),e(fc,{}),e(Cc,{})]})]})})]})}function fc(){const{character:{key:t}}=l.useContext(N),{data:a}=l.useContext(G),n=k(),r=wn(t).weaponType,s=a.get(W.weapon.id).value,o=l.useMemo(()=>fe(ae,i=>a.get(W.art[i].id).value),[a]);return e(f,{children:e(sc,{weaponTypeKey:r,weaponId:s,artifactIds:o,setWeapon:i=>{n.weapons.set(i,{location:Ce(t)})},setArtifact:(i,c)=>{n.arts.set(c,{location:Ce(t)})}})})}const gc={xs:1,sm:2,md:3,lg:3,xl:3};function Cc(){const t=_n(),{character:{key:a}}=l.useContext(N),n=k(),{gender:r}=be(),s=l.useMemo(()=>n.teams.keys.filter(i=>n.teams.get(i).teamCharIds.some(c=>{var d;return((d=n.teamChars.get(c))==null?void 0:d.key)===a})),[a,n]),o=()=>{const i=n.teams.new(),c=n.teamChars.new(a);n.teams.set(i,d=>{d.teamCharIds[0]=c}),t(`/teams/${i}`)};return p(f,{children:[p(_,{variant:"h6",children:["Teams with ",e(Rn,{characterKey:a,gender:r})]}),p(L,{container:!0,columns:gc,spacing:1,children:[s.map(i=>e(L,{item:!0,xs:1,children:e(In,{bgt:"light",teamId:i,onClick:c=>t(`/teams/${i}${c?`/${c}`:""}`),disableButtons:!0})},i)),e(L,{item:!0,xs:1,children:e(P,{fullWidth:!0,sx:{height:"100%"},onClick:()=>o(),color:"info",startIcon:e(An,{}),children:"Add Team"})})]})]})}function iu({characterKey:t,onClose:a}){return e(Qt,{open:!!t,onClose:a,children:e(l.Suspense,{fallback:e(ge,{variant:"rectangular",width:"100%",height:1e3}),children:t&&e(xc,{characterKey:t,onClose:a},t)})})}function xc({characterKey:t,onClose:a}){const n=sa(t),{gender:r}=be(),s=ue(t,r),o=oa(t),{target:i}=(o==null?void 0:o[t])??{},c=aa((n==null?void 0:n.key)??""),d=l.useMemo(()=>{if(!(!o||!i))return{data:i,teamData:o,oldData:void 0}},[i,o]),u=l.useMemo(()=>{if(!(!n||!s))return{character:n,characterSheet:s,characterDispatch:c}},[n,s,c]),[h,m]=l.useState(),[g,x]=l.useState(),v=l.useMemo(()=>({chartData:h,setChartData:m,graphBuilds:g,setGraphBuilds:x}),[h,g]);return l.useEffect(()=>{m(void 0),x(void 0)},[t]),e(xe,{children:e(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:d&&u&&v?e(N.Provider,{value:u,children:e(G.Provider,{value:d,children:e(xs.Provider,{value:v,children:e(mc,{onClose:a})})})}):e(ge,{variant:"rectangular",width:"100%",height:1e3})})})}function bc(t,a){return{new:n=>t.chars.get(n)?0:1,name:n=>at.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${Ie(n,t.gender)}`).toString(),level:n=>{const r=t.chars.get(n);return r?r.level*(r.ascension+1):0},rarity:n=>nt.char.data[Ce(n)].rarity??0,favorite:n=>t.charMeta.get(n).favorite?1:0}}function yc(t,a){return{element:(n,r)=>r.includes(Ln(n)),weaponType:(n,r)=>r.includes(nt.char.data[Ce(n)].weaponType),rarity:(n,r)=>r.includes(nt.char.data[Ce(n)].rarity),name:(n,r)=>r===void 0||at.t(`${a?"sillyWisher_charNames":"charNames_gen"}:${Ie(n,t.gender)}`).toLowerCase().includes(r.toLowerCase())||a&&at.t(`charNames_gen:${Ie(n,t.gender)}`).toLowerCase().includes(r.toLowerCase()),new:(n,r)=>r===void 0||r===(t.chars.get(n)?"no":"yes")}}const Ia={name:["favorite","name"],level:["favorite","level","rarity","name"],rarity:["favorite","rarity","level","name"]},vc=$e(_e,{shouldForwardProp:t=>t!=="baseColor"&&t!=="selectedColor"})(({theme:t,baseColor:a="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:t.palette[a].main,color:t.palette[a].contrastText},"&:hover":{backgroundColor:t.palette[a].dark},"&.Mui-selected":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[n].dark},"&.Mui-disabled":{backgroundColor:t.palette[a].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[n].dark}})),wc=vc,_c=xt([...pt]);function Rc({value:t,totals:a,onChange:n,...r}){const s=dt(),o=!rt(s.breakpoints.up("md")),i=!rt(s.breakpoints.up("sm"));return e(lr,{exclusive:!0,value:t,...r,children:pt.map(c=>p(wc,{value:c,sx:{p:o?1:void 0,minWidth:o?0:"6em",display:"flex"},selectedColor:c,onClick:()=>n(_c(t,c)),children:[e(mt,{ele:c,iconProps:{fontSize:o&&!i?"inherit":void 0}}),!i&&e(le,{sx:{ml:.5},label:a[c],size:"small"})]},c))})}const Lc=Object.keys(Ia);function lu({show:t,onHide:a,onSelect:n,filter:r=()=>!0,newFirst:s=!1}){const{t:o}=H(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:i}=l.useContext(ut),c=k(),[d,u]=l.useState(()=>c.displayCharacter.get());l.useEffect(()=>c.displayCharacter.follow((C,$)=>u($)),[c,u]);const{gender:h}=be(),[m,g]=Ne();l.useEffect(()=>c.charMeta.followAny(()=>g()),[g,c]);const[x,v]=l.useState(""),b=l.useDeferredValue(x),y=l.useDeferredValue(d),O=l.useDeferredValue(m),U=l.useMemo(()=>{const{element:C,weaponType:$,sortType:I,ascending:K}=y,z=[...s?["new"]:[],...Ia[I]??[]];return O&&Xe.filter(S=>r(c.chars.get(S),ue(S,h))).filter(Ct({element:C,weaponType:$,name:b},yc(c,i))).sort(pa(z,K,bc(c,i),["new","favorite"]))},[y,s,O,b,c,i,r,h]),M=l.useMemo(()=>At(kn,C=>Xe.forEach($=>{const I=ue($,c.gender).weaponTypeKey;C[I].total++,U.includes($)&&C[I].current++})),[U,c]),j=l.useMemo(()=>At(pt,C=>Xe.forEach($=>{const I=ue($,c.gender).elementKey;C[I].total++,U.includes($)&&C[I].current++})),[U,c]),{weaponType:E,element:A,sortType:F,ascending:D}=d;return e(Te,{open:t,onClose:()=>{v(""),a()},sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:p(se,{children:[p(J,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e(gr,{sx:{height:"100%"},onChange:C=>c.displayCharacter.set({weaponType:C}),value:E,totals:M,size:"small"}),e(Rc,{sx:{height:"100%"},onChange:C=>c.displayCharacter.set({element:C}),value:A,totals:j,size:"small"}),e(f,{flexGrow:1,children:e(fa,{autoFocus:!0,value:x,onChange:C=>v(C.target.value),label:o("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),e(ir,{sx:{height:"100%"},sortKeys:Lc,value:F,onChange:C=>c.displayCharacter.set({sortType:C}),ascending:D,onChangeAsc:C=>c.displayCharacter.set({ascending:C})}),e(Pe,{onClick:()=>{v(""),a()}})]}),e(ve,{}),e(G.Provider,{value:{teamData:void 0},children:e(J,{children:e(L,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:U.map(C=>e(L,{item:!0,xs:1,children:e(kc,{characterKey:C,onClick:()=>{v(""),a(),n==null||n(C)}})},C))})})})]})})}const Sc=$e(({className:t,...a})=>e(Ee,{...a,classes:{popper:t}}))({[`& .${Sn.tooltip}`]:{padding:0}});function kc({characterKey:t,onClick:a}){const{gender:n}=be(),r=ue(t,n),s=sa(t),{favorite:o}=na(t),i=k(),{silly:c}=l.useContext(ut),[d,u,h]=ye(),{level:m=1,ascension:g=0,constellation:x=0}=s??{},v=tr(t,"banner",n);return e(Sc,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:d,onClose:h,onOpen:u,title:e(f,{sx:{width:300},children:e(On,{hideStats:!0,characterKey:t})}),children:e(f,{children:p(Gt,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e(f,{sx:{position:"absolute",opacity:.7,zIndex:2},children:e(Vt,{sx:{p:.25},onClick:b=>{h(),i.charMeta.set(t,{favorite:!o})},children:o?e(da,{}):e(ra,{})})}),e(qe,{onClick:a,children:p(f,{display:"flex",position:"relative",className:v?void 0:`grad-${r==null?void 0:r.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:`url(${v})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[e(f,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:e(f,{component:"img",src:Bn(t,n,c),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),p(f,{flexGrow:1,sx:{pr:1,pt:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[e(_,{variant:"body2",sx:{flexGrow:1},children:e(q,{color:r==null?void 0:r.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:r==null?void 0:r.name})}),s?p(f,{sx:{display:"flex",gap:1,alignItems:"center"},children:[p(f,{sx:{textShadow:"0 0 5px gray"},children:[p(_,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",m]}),p(_,{variant:"body2",component:"span",color:"text.secondary",children:["/",$n[g]]})]}),p(_,{variant:"body2",children:["C",x]})]}):e(_,{component:"span",variant:"body2",children:e(q,{children:"NEW"})}),e(gt,{stars:(r==null?void 0:r.rarity)??1,colored:!0})]})]})})]})})})}const $c=xt([...ta]);function cu({value:t,totals:a,onChange:n,...r}){const s=dt(),o=!rt(s.breakpoints.up("sm"));return e(Ke,{exclusive:!0,value:t,...r,children:ta.map(i=>e(_e,{value:i,sx:{p:o?1:void 0,minWidth:o?0:"6em",display:"flex",gap:o?0:1},onClick:()=>n($c(t,i)),children:p(f,{display:"flex",children:[e("strong",{children:i}),e(ma,{}),!o&&e(le,{label:a[i],size:"small"})]})},i))})}export{Gl as A,Al as B,cu as C,Zc as D,Rc as E,eu as F,xs as G,Xl as H,Vi as I,yl as J,ru as K,au as L,fl as M,nu as N,gl as O,$a as P,ou as Q,Yl as R,Ar as S,hc as T,su as U,wl as W,yc as a,bc as b,Ia as c,iu as d,lu as e,xl as f,bl as g,sl as h,Nt as i,sc as j,_l as k,ol as l,Fl as m,ql as n,Nr as o,ct as p,lt as q,Il as r,Rl as s,Ma as t,De as u,tu as v,Hl as w,Wl as x,Kl as y,Gi as z};
